(function(){(function(){try{var E=window.localStorage;window.locStor=E}catch(b4){var E=window.locStor={};
E.setItem=function(y,c){E[y]=c};E.getItem=function(y){return E[y]};E.removeItem=function(y){delete E[y]}}}());
var aw=0,fp={};fp.ail=function(E,y){var c=v._D[v.m2("%|xK")];if(c==null)return"XYP";var e=E.toString(16).slice(0,4),p=e+y+"aQYRDCB";
return c(p).slice(5,17)+e.split("").reverse().join("")};fp.cQ=function(){var E=v._D[v.L_("3M"+(v.kD(26)?"]K":"fa"))];
E=E[v.L_("]["+(!v.kD(28)?",":"`"))];return Math.floor(E()/1e3)};fp.kD=function(E){var y=0;for(var N=0;
N<E;N++)y+=Math.random();return y/E<Math.PI/4};fp.L_=function(E){var y="";if(!fp.kD(28))E+="-3";for(var N=0;
N<E.length;N++){var c=E.charCodeAt(N);if(c<32||126<c)throw"e";y+=String.fromCharCode(32+(c-32+17+3*N)%95)}return y};
fp.m2=function(E){var y="";if(!fp.kD(28))E+="-1";for(var N=0;N<E.length;N++){var c=E.charCodeAt(N);c-=32;
c+=95e4;c-=17+3*N;c=c%95;y+=String.fromCharCode(32+c)}return y};fp.x5=fp.L_("XP");fp.EO=fp.L_("XYP");
fp.fw=fp.L_("c[Y");fp.aDN=fp.L_("][`");fp.oE=fp.L_("SU_");fp.t2=fp.L_("b^L");fp.akw=fp.L_("61=");fp.hB=fp.L_("Q[M_");
fp.$L=fp.L_("WQJJ");fp.Th=fp.L_("W^NL");fp.JN=fp.L_("[[JJ");fp.avT=fp.L_("[[PU");fp.jb=fp.L_("^\\NT");
fp.af_=fp.L_("bQUL");fp.Vl=fp.L_("bQWJ");fp.Ot=fp.L_("3M]K");fp.abx=fp.L_("<M]N");fp.bk=fp.L_("][WK");
fp.aK=fp.L_("P_bTF");fp.eY=fp.L_("RXRIN");fp.Y1=fp.L_("b`bRH");fp.MP=fp.L_("fUMZK");fp.a9H=fp.L_("Q[]ZRM");
fp.abC=fp.L_("WQRMKT");fp.aes=fp.L_("WUMJHN");fp.ra=fp.L_("XR[GPE");fp.a9g=fp.L_("aMWJRM");fp.lZ=fp.L_("bO[OST");
fp.k3=fp.L_("cM[MHT");fp.abH=fp.L_("^Z5OQE");fp.eD=fp.L_("R[WLLRJ");fp.ajT=fp.L_("SU\\VOAV");fp.alq=fp.L_("XZMK[/C");
fp.tF=fp.L_("aQYRDCB");fp.EM=fp.L_("[[LGWILH");fp.bn=fp.L_("S[L[PEKN");fp.SE=fp.L_("aQOKURBL");fp.wH=fp.L_("aQ\\VRNP?");
fp.aos=fp.L_("XZWKU(1'#");fp.aqq=fp.L_("SQLUGE2, ");fp.aCs=fp.L_("]M_OJAQII");fp.iw=fp.L_("bQ]:LMBILH");
fp.ay9=fp.L_("UU[YW#ECC8");fp.hj=fp.L_("cQaZ&OKN<BE");fp.t6=fp.L_("P\\YKQD B@@5");fp.jh=fp.L_("aQVUYE B@@5");
fp.Li=fp.L_("bQ]'WTOC9IE3");fp.ao0=fp.L_("XZ\\KUT~?=CC3");fp.Bb=fp.L_("R^NGWE\"F<A6<?");fp.as2=fp.L_("VQ]+OEJ?EHrGs,");
fp.SN=fp.L_("G95.WTM,<EF3><");fp.aam=fp.L_("PZLKVTLL&F:5468");fp.y0=fp.L_("PPM+YEKN#=DB06*4");function ct(E){this.dI={};
this.Q7=0;this.Sx();if(E!=!0)window.__kb=this}ct._Q=null;ct.prototype.Sx=function(){var E=navigator.keyboard;
if(E&&window.top==window.self)E.getLayoutMap().then(function(y){ct._Q=y})};ct.prototype.aph=function(E){var y={shiftKey:ct.zx,altKey:ct.Q3,ctrlKey:ct.Nc};
for(var c in y){var e=E[c],p=y[c],H=this.S(p);if(!e&&H){for(var N=0;N<p.RN.length;N++)this.cq(p.RN[N])}}};
ct.prototype.Ov=function(E){this.Q7++;this.dI[E]=!0};ct.prototype.cq=function(E){this.Q7--;delete this.dI[E];
if(this.Q7<=0||ct.ku(E,ct.WE))this.reset()};ct.prototype.S=function(E){for(var N=0;N<E.RN.length;N++)if(this.dI[E.RN[N]])return!0;
return!1};ct.prototype.reset=function(){this.dI={};this.Q7=0};ct.prototype.K$=function(E){var y=this,c=y.S(ct.zx)?10:1,e=0,p=0;
if(y.S(ct.Wb))e=-c;else if(y.S(ct.Fj))e=c;else if(y.S(ct.Iq))p=-c;else if(y.S(ct.em))p=c;var H=new eq(e,p);
if(E!=null){var Z=new jr;Z.rotate(E);H=Z.dl(H);if(Math.abs(H.x)<Math.abs(H.y))H.x=0;else H.y=0;H.x=Math.round(H.x);
H.y=Math.round(H.y)}return H};ct.prototype.cS=function(){var E=this,y=ct.pr;for(var N=0;N<10;N++)if(E.S(y[N]))return N;
return-1};ct.ku=function(E,y){return y.RN.indexOf(E)!=-1};ct.M$=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
ct._t="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(ct.M$())ct._t.push("ControlLeft","ControlRight");ct.da=function(E){var y=E.code;if(y=="")return!1;
var c=ct.ku;if(E.altKey&&!E.shiftKey&&!E.ctrlKey){var e=ct.pr.concat([ct.yH,ct.Kj,ct.T0,ct.Xq]),p=!1;
for(var N=0;N<e.length;N++)if(c(y,e[N]))return!1}return ct._t.indexOf(y)==-1||E.shiftKey&&(y=="F5"||y=="F6")};
ct.atW=function(E){var y=ct;if(E.ctrlKey&&(y.ku(E.code,y.yH)||y.ku(E.code,y.Kj)))E.preventDefault()};
ct.Ps=function(E){E.addEventListener("keydown",ct.atW,!1)};ct.ey=function(E){if(typeof E=="string")return E;
var y=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(E==null)return"";var c=[];for(var N=0;N<E.length;
N++){var e=E[N].jg?E[N].jg:E[N];if(y&&E[N].ZA)e=E[N].ZA;c.push(e)}if(y||c.length==1)return c.join(" + ");
else{var p=c.pop();return c.join("+")+" + "+p}};ct.WD=function(E){window.__kb.Sx();var y=E.code,c=ct._Q;
if(c&&c.get(y)){var e={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},p=c.get(y).toLowerCase(),H=p.charCodeAt(0);
if(97<=H&&H<=122){var Z="Key"+p.toUpperCase();y=Z}else if(e[p])y=e[p];return y}var e={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},p=E.key.toLowerCase(),H=p.charCodeAt(0);
if(p.length==1){if(97<=H&&H<=122){var Z="Key"+p.toUpperCase();y=Z}else if(e[p])y=e[p]}if(p=="control"&&y!="")y="ControlLeft";
return y};ct.Kq=0;ct.Tg=function(E,y){var c=0;if(Date.now()-ct.Kq>1e3){c=y==0?100:y*10}else{if(E%10!=0)E*=10;
c=(E+y)%100}ct.Kq=Date.now();return c};ct.aBz={nm:"No Touch",RN:["NoTouch"]};ct.qy={jg:"Enter",RN:["Enter","NumpadEnter"]};
ct.zx={jg:"Shift",ZA:"\u21E7",RN:["ShiftLeft","ShiftRight"]};ct.WE={jg:"Meta",RN:["MetaLeft","MetaRight","OSLeft","OSRight"]};
ct.Nc={jg:"Ctrl",ZA:"\u2318",RN:ct.M$()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
ct.Q3={jg:"Alt",ZA:"\u2325",RN:["AltLeft","AltRight"]};ct.a0Y={jg:"CtrlOrAlt",RN:ct.Nc.RN.concat(ct.Q3.RN)};
ct.SB={jg:"Escape",RN:["Escape"]};ct.TV={jg:"Space",RN:["Space"]};ct.qL={jg:"Tab",RN:["Tab"]};ct.mI={jg:"Home",RN:["Home"]};
ct.aAf={jg:"End",RN:["End"]};ct.Wb={jg:"Left",RN:["ArrowLeft"]};ct.Iq={jg:"Up",RN:["ArrowUp"]};ct.Fj={jg:"Right",RN:["ArrowRight"]};
ct.em={jg:"Down",RN:["ArrowDown"]};ct.yH={jg:"+",RN:["NumpadAdd","Equal"]};ct.Kj={jg:"-",RN:["NumpadSubtract","Minus"]};
ct.uP={jg:";",RN:["Semicolon"]};ct.afx={jg:"Dead",RN:["Dead"]};ct.ayi={jg:"=",RN:["Equal"]};ct.hy={jg:"Backspace",RN:["Backspace"]};
ct.OA={jg:"Delete",RN:["Delete"]};ct.ad$={jg:"Backslash",RN:["Backslash","IntlBackslash"]};ct.asw={jg:"Slash",RN:["NumpadDivide","Slash"]};
ct.a7z={jg:"Backquote",RN:["Backquote"]};ct.T0={jg:"[",RN:["BracketLeft"]};ct.Xq={jg:"]",RN:["BracketRight"]};
ct.OF={jg:".",RN:["Period"]};ct.QF={jg:",",RN:["Comma"]};ct.A9={jg:"'",RN:["Quote"]};ct.H={jg:"A",RN:["KeyA"]};
ct.jC={jg:"B",RN:["KeyB"]};ct.qd={jg:"C",RN:["KeyC"]};ct.iQ={jg:"D",RN:["KeyD"]};ct.E={jg:"E",RN:["KeyE"]};
ct.e7={jg:"F",RN:["KeyF"]};ct.TT={jg:"G",RN:["KeyG"]};ct.x0={jg:"H",RN:["KeyH"]};ct.FU={jg:"I",RN:["KeyI"]};
ct.lm={jg:"J",RN:["KeyJ"]};ct.yf={jg:"K",RN:["KeyK"]};ct.s3={jg:"L",RN:["KeyL"]};ct.qB={jg:"M",RN:["KeyM"]};
ct.Wf={jg:"N",RN:["KeyN"]};ct.UJ={jg:"O",RN:["KeyO"]};ct.Yn={jg:"P",RN:["KeyP"]};ct.Z8={jg:"Q",RN:["KeyQ"]};
ct.ZV={jg:"R",RN:["KeyR"]};ct.v1={jg:"S",RN:["KeyS"]};ct.b_={jg:"T",RN:["KeyT"]};ct.oj={jg:"U",RN:["KeyU"]};
ct.Wq={jg:"V",RN:["KeyV"]};ct.PO={jg:"W",RN:["KeyW"]};ct.NM={jg:"X",RN:["KeyX"]};ct.CP={jg:"Y",RN:["KeyY"]};
ct.Dh={jg:"Z",RN:["KeyZ"]};ct.lO={jg:"0",RN:["Numpad0","Digit0"]};ct.N4={jg:"1",RN:["Numpad1","Digit1"]};
ct.abm={jg:"2",RN:["Numpad2","Digit2"]};ct.asb={jg:"3",RN:["Numpad3","Digit3"]};ct.axj={jg:"4",RN:["Numpad4","Digit4"]};
ct.aiv={jg:"5",RN:["Numpad5","Digit5"]};ct.a02={jg:"6",RN:["Numpad6","Digit6"]};ct.a9P={jg:"7",RN:["Numpad7","Digit7"]};
ct.aw$={jg:"8",RN:["Numpad8","Digit8"]};ct.asp={jg:"9",RN:["Numpad9","Digit9"]};ct.pr=[ct.lO,ct.N4,ct.abm,ct.asb,ct.axj,ct.aiv,ct.a02,ct.a9P,ct.aw$,ct.asp];
ct.ag3={jg:"F1",RN:["F1"]};ct.aup={jg:"F2",RN:["F2"]};ct.a8R={jg:"F3",RN:["F3"]};ct.ar4={jg:"FF",RN:["F4"]};
ct.oI={jg:"F5",RN:["F5"]};ct.aBF={jg:"F6",RN:["F6"]};ct.ahM={jg:"F7",RN:["F7"]};ct.a2i={jg:"F8",RN:["F8"]};
ct.aBA={jg:"F9",RN:["F9"]};ct.ajs={jg:"F10",RN:["F10"]};ct.aA9={jg:"F11",RN:["F11"]};ct.alG={jg:"F12",RN:["F12"]};
function ik(E){this.df={};this.aV={};this.a1Q=0;this.akZ={};this.y3=[];this.aBg=0;this.JN=E;ik.Zb=this}ik.asr=function(E,y){var N=0,c=ik.D9;
while(N<c.length){if((y>>>N&1)==1)break;N++}if(N!=0&&ik.bq(E,[33,126])>.7)N=0;if(y==0||c[N][1]==""){if((y&15)!=0&&ik.bq(E,[33,126])>.7)N=0;
else if(y==0)N=0;else{N=0}}return c[N][1]};ik.R9=120;ik.Eb=20;ik.cols=16;ik.he=function(E){var y=E.name.postScriptName;
if(y==null)return null;return y.replace(/ /g,"-")};ik.Ir=function(E){var y=E.name,c=y.typoFamilyName,e=y.typoSubfamilyName,p=c&e,H=p?c:y.fontFamily,Z=p?e:y.fontSubfamily;
if(Z==null)Z="Regular";var X=ik.aq3,b=H.toLowerCase();for(var N=0;N<X.length;N++){if(X[N]=="roman")continue;
if(b.endsWith(" "+X[N])||b.endsWith("-"+X[N])){var k=H.length-X[N].length,D=H.slice(k);H=H.slice(0,k-1);
if(D!=""){if(Z=="Regular"||Z==H+" Regular")Z=D;else Z=D+" "+Z}break}}var j="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var N=0;N<j.length;N++)if(H.startsWith(j[N])){var D=H.slice(j[N].length);H=j[N];if(D.startsWith(" ")||D.startsWith("-"))D=D.slice(1);
if(D!=""){if(Z=="Regular")Z=D;else Z=D+" "+Z}break}var g={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},R=g[ik.he(E)];
if(R)Z=R;return[H,Z]};ik.prototype.a61=function(E){var y=this.tA();for(var c in y)if(y[c][0]==E)this.Mu(c)};
ik.prototype.ahC=function(){return Object.keys(this.aV).length!=0};ik.prototype.Mu=function(E,y){if(this.df[E])return this.df[E];
if(this.aV[E])return null;var c=null,e=this.tA();if(e[E]!=null)c=e[E][5];if(c==null){var p=ik.tF[E];
if(p==null){var H="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),Z=E.toLowerCase(),X=0;
if(Z.indexOf("sans")!=-1)X=0;else if(Z.indexOf("serif")!=-1)X=4;var b=Z.indexOf("bold")!=-1||Z.indexOf("-black")!=-1,k=Z.indexOf("italic")!=-1||Z.indexOf("oblique")!=-1||Z.endsWith("-it");
if(b&&k)X+=3;else if(k)X+=2;else if(b)X+=1;p=H[X]}if(y!=null&&y>128)p=this.qY(y,p);if(this.akZ[E]==null){this.akZ[E]=1;
var D=Date.now()-this.a1Q>2e3?2e3:0;this.a1Q=Date.now();alert(E+" \u27A1 "+p,D)}return this.Mu(p,y)}this.aV[E]="a";
if(c=="--loc")ik.O$.load(E);else this.JN(c)};ik.prototype.qY=function(E,y,c){var e=this.df[y];if(e&&Typr.U.codeToGlyph(e,E)!=0)return y;
var p=this.tA(),H=ik.arz(E),Z=H[0];if(p[y]&&(p[y][3]&Z)==0){if(c)for(var N=0;N<c.length;N++){var X=c[N].Name,b=p[X];
if(b&&(b[3]&Z)!=0)return X}var X=ik.D9[H[1]][4];if(p[X])return X}return y};ik.arz=function(E){var y=ik.D9,c=[0];
for(var N=0;N<y.length;N++){var e=y[N][2];for(var p=0;p<e.length;p+=2)if(e[p]<=E&&E<=e[p+1]){c[0]+=1<<N;
c.push(N)}}if(c.length==1)c.push(0);return c};ik.prototype.as8=function(){var E=this.y3,y=E[0],c=E.length-1;
alert(i4.get([22,6,0])+" "+y+(c==0?"":", ... ("+c+")")+" "+i4.get([23,0])+".",1500);this.y3=[]};ik.prototype.a7Z=function(E,y){if(y!=!0){this.y3.push(E.name.fullName);
clearTimeout(this.aBg);this.aBg=setTimeout(this.as8.bind(this),300)}var c=ik.he(E),e=this.tA(),p=e[c],H=ik.TH(E);
if(p==null){H.ll=ik.pC(E,H);this.Gj(H)}delete this.aV[c];this.df[c]=E};ik.a8q=function(){var E=ik.D9,y=[];
for(var N=0;N<E.length;N++)y.push(E[N][0]);return y};ik.pC=function(E,y){var c=document.createElement("canvas"),e=c.getContext("2d"),p=c.width=ik.R9,H=c.height=ik.Eb,Z=ik.Eb*1.2/E.head.unitsPerEm;
e.translate(4,ik.Eb*.9);e.scale(Z,-Z);e.fillStyle="#000000";var X=Typr.U.shape(E,ik.asr(E,y[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(E,X),e);e.fill();var b=e.getImageData(0,0,p,H).data.buffer,k=iu.sF("PNG").Jv([[b,0]],p,H,[1]);
return"data:image/png;base64,"+iu.al(k)};ik.D9=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
ik.TH=function(E,y,c){var e=E.name,b=0;if(ik.he(E)==null){console.log(E);throw"No postScriptName!"}var p=ik.D9,H=[];
for(var N=0;N<p.length;N++){var Z=p[N][2],X=p[N][3];H[N]=ik.bq(E,Z)>X?1:0}for(var N=0;N<H.length;N++)b+=H[N]<<N;
var k=ik.Ir(E);return[k[0],k[1],ik.he(E),b,c,y]};ik.bq=function(E,y){var c=0,e=0;for(var p=0;p<y.length;
p+=2){for(var H=y[p];H<=y[p+1];H++){var Z=Typr.U.codeToGlyph(E,H);if(Z==0)e++;else c++}}return c/(c+e)};
ik.acX=function(E,y){if(E[2]<y[2])return-1;if(E[2]>y[2])return 1;return 0};ik.a3g=function(E,y){if(E[5]=="fs/"+E[2]+".otf")E[5]="";
else if(E[5]=="gf/"+E[2]+".otf")E[5]="a";if(E[2]==(E[0]+"-"+E[1]).replace(/\s/g,"")){E[2]=""}else if(E[2]==E[0].replace(/\s/g,"")){E[2]="a"}if(y){if(E[0]==y[0])E[0]="";
if(E[1]==y[1])E[1]="";if(E[3]==y[3])E[3]="";if(E[4]==y[4])E[4]=""}return E.join(",")};ik.aog=function(E,y){E=E.split(",");
if(E[0]=="")E[0]=y[0];if(E[1]=="")E[1]=y[1];if(E[3]=="")E[3]=y[3];else E[3]=parseInt(E[3]);if(E[4]=="")E[4]=y[4];
else E[4]=parseInt(E[4]);if(E[2]=="")E[2]=(E[0]+"-"+E[1]).replace(/\s/g,"");else if(E[2]=="a")E[2]=E[0].replace(/\s/g,"");
if(E[5]=="")E[5]="fs/"+E[2]+".otf";else if(E[5]=="a")E[5]="gf/"+E[2]+".otf";return E};ik.tF={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
ik.prototype.tA=function(){if(FNTS.map==null){var E=FNTS.list,y=[];for(var N=0;N<E.length;N++){y[N]=ik.aog(E[N],y[N-1]);
y[N].h2=N;this.Gj(y[N])}}return FNTS.map};ik.prototype.Gj=function(E){var y=E[0],c=E[1],e=E[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[E[2]]=E;if(FNTS.mapFS==null)FNTS.mapFS={};var p=FNTS.mapFS[y+"---"+c];FNTS.mapFS[y+"---"+c]=E;
if(FNTS.mapSub==null)FNTS.mapSub={};var H=FNTS.mapSub[y];if(H==null)H=FNTS.mapSub[y]=[];var Z=H.indexOf(c);
if(Z==-1)H.push(c);else H[Z]=c};ik.ah0=function(E,y){return ik.wM(E)-ik.wM(y)};ik.wM=function(E){E=E.toLowerCase();
var y=ik.aBx(E)+(ik.al5(E)<<1);if(E.indexOf("cond")==-1)y+=1<<25;return y};ik.aBx=function(E){return E.indexOf("italic")!=-1||E.indexOf("oblique")!=-1?1:0};
ik.aq3="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
ik.abt=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
ik.al5=function(E){var y=ik.abt,c=-1,e=-1;for(var N=0;N<y.length;N++){var p=y[N];if(p instanceof Array)for(var H=0;
H<p.length;H++){var Z=p[H];if(E.indexOf(Z)!=-1&&(c==-1||e<Z.length)){c=N;e=Z.length}}else if(E.indexOf(p)!=-1&&(c==-1||e<p.length)){c=N;
e=p.length}}if(c==-1)c=8;return c};ik.gy=function(E,y){var c=1e9,e=null,p=ik.wM(y);for(var N=0;N<E.length;
N++){var H=Math.abs(ik.wM(E[N])-p);if(H<c){c=H;e=E[N]}}return e};ik.prototype.P4=function(E,y){this.tA();
return FNTS.mapFS[E+"---"+y]};ik.prototype.RJ=function(E){this.tA();return FNTS.mapSub[E]};ik.prototype.RU=function(){this.tA();
return FNTS.mapSub};ik.O$={Gf:null,bE:null};ik.O$.Rz=function(E){ik.O$.bE=E;var y=window.locStor.localFonts;
if(y){y=iu.ZM(y);y=pako.inflate(new Uint8Array(y));y=ik.O$.Gf=JSON.parse(_.Uw(y));ik.O$.VX()}};ik.O$.load=function(E){var y=window.queryLocalFonts,c=ik.O$.Gf.toPSN,e;
for(var j1 in c)if(c[j1].indexOf(E)!=-1)e=j1;y({postscriptNames:[e]}).then(ik.O$.Ls)};ik.O$.VX=function(){var E=ik.Zb,y=ik.O$.Gf,c=y.imap,e=E.tA();
for(var p in c){if(e[p])continue;var H=c[p].slice(0);H.ll=y.tmap[p];E.Gj(H)}};ik.O$.hf=function(){var E=ik.O$.Gf,y=pako.deflate(_.vx(JSON.stringify(E))),c=iu.al(y.buffer);
console.log(c.length);window.locStor.localFonts=c};ik.O$.MW=function(){var E=ik.O$.Gf;return E!=null&&E.added};
ik.O$.U0=function(E,y,c){var e=ik.O$.Gf;if(e){e.added=!e.added;ik.O$.hf();ik.O$.VX();return}var p=window.queryLocalFonts;
if(p==null){alert("This feature is not available in your web browser :(");c();return}p().then(ik.O$.Ls.bind({aki:y,a4s:c}))};
ik.O$.Ls=async function(E){if(E.length==0){alert("You didn't allow us to access your fonts.");this.a4s();
return}if(E.length==1){var y=await E[0].blob();y=await y.arrayBuffer();hq.S5({name:"file.otf"},y,ik.O$.bE);
return}var c=new iU(S.E.M,!0),H=!1;c.data={d:S.H.cL,SJ:"Loading local fonts ..."};ik.O$.bE.T(c);var e=Date.now(),p=ik.O$.Gf;
if(p==null)p=ik.O$.Gf={toPSN:{},imap:{},tmap:{},added:!0};var Z={};for(var N=0;N<E.length;N++){var X=E[N],b=X.postscriptName;
Z[b]=!0;if(p.toPSN[b])continue;var y=await X.blob();y=await y.arrayBuffer();if(iu.XS(y)!="otf")continue;
var D=Typr.parse(y),j=[];for(var g=0;g<D.length;g++){var R=D[g],t=ik.he(R);j.push(t);if(p.imap[t])continue;
var w=p.imap[t]=ik.TH(R,"--loc",0);p.tmap[t]=ik.pC(R,w)}p.toPSN[b]=j;H=!0}for(var b in p.toPSN)if(Z[b]==null){var B=p.toPSN[b];
delete p.toPSN[b];for(var N=0;N<B.length;N++){delete p.imap[B[N]];delete p.tmap[B[N]]}H=!0}if(H){console.log(Date.now()-e);
ik.O$.hf();ik.O$.VX();this.aki()}else console.log("no change");var c=new iU(S.E.M,!0);c.data={d:S.H.B7,SJ:"Loading local fonts ..."};
ik.O$.bE.T(c);alert("Local fonts loaded!")};var b4={GS:0,OJ:null,ko:null,Vp:null,jF:null,i1:null,gK:!0,nr:0,qe:!1};
b4.event=function(E){var y=new XMLHttpRequest;y.open("GET","/papi/event.php?id="+E+"&rnd="+Math.random());
y.send()};b4.qc=function(){var E=b4.Ez();if(E==null)return null;var y=v.kD(24)?" ":"",c=v._D[v.m2("Uu,"+y)];
c=c[v.m2(y+"$/")];var e=b4.Bw(1,999);if(e&&b4.K2(e)*50>c()/20)return[0,e];var p=E.inTeams;if(p)for(var N=0;
N<p.length;N++)if(p[N][1]*50>c()/20)return[1,p[N]];return null};b4.wo=function(){return b4.a6g()!=null};
b4.Vt=function(){return b4.K2(b4.Bw(1e3,999999999))};b4.K2=function(E){return E==null?0:E[0]+E[1]*24*60*60};
b4.Bw=function(E,y){var c=b4.Ez(),e=c.pmnts,p=0,H=null;if(e==null||e.length==0)return 0;for(var N=0;
N<e.length;N++){var Z=e[N],X=b4.K2(Z);if(E<=Z[2]&&Z[2]<=y)if(p<X){p=X;H=Z}}return H};b4.Ez=function(){return b4.i1};
b4.Rz=function(E){window.addEventListener("message",b4.alS,!1);setInterval(b4.kl,5e3);if(b4.wo()&&navigator.onLine){b4.OJ=E;
b4.Cm()}else setTimeout(E,1)};b4.kl=function(){if(b4.wo()&&b4.qe){b4.bF(b4.eI());b4.qe=!1}};b4.vF=function(E){b4.OJ=E;
var y="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);b4.Vp=window.open(y,"_blank")};
b4.ajm=function(){var E=window.locStor;E.removeItem(b4.GS+"_uid");E.removeItem(b4.GS+"_provider");E.removeItem(b4.GS+"_token");
b4.i1=null};b4.alS=function(E){if(E.data instanceof ArrayBuffer||E.data instanceof Object)return;if(E.data.charAt(0)!="{")return;
var y=JSON.parse(E.data);if(y.prms==null)return;var c=y.prms.split(",");if(c[0]=="papi_logged_in"){var e=window.locStor;
e[b4.GS+"_uid"]=c[1];b4.M5(c[2]);e[b4.GS+"_provider"]=c[3];b4.Vp.close();b4.Cm()}if(c[0]=="payment_complete"){b4.jF.close();
b4.Cm()}};b4.a6g=function(){var E=window.locStor[b4.GS+"_token"];if(E!=null&&Date.now()*.001+10<parseInt(E.split("-")[0]))return E;
return null};b4.M5=function(E){var y=window.locStor[b4.GS+"_token"];if(y!=null&&parseInt(E.split("-")[0])<parseInt(y.split("-")[0]))return;
window.locStor[b4.GS+"_token"]=E;clearTimeout(b4.nr);b4.nr=setTimeout(b4.abg,Math.min(1e9,parseInt(E.split("-")[0])*1e3-Date.now()-20*1e3))};
b4.mk=function(E,y,c,e){if(!navigator.onLine)throw"a";var p=new XMLHttpRequest;p.open("POST","https://www.photopea.com/papi/record_new.php",!0);
p.onload=c;var H=b4.cC(0)+"&read=3&tuid="+E+"&tid="+y;if(e)H+="&tpl="+encodeURIComponent(e);p.setRequestHeader("Content-type","application/x-www-form-urlencoded");
p.send(H)};b4.abg=function(){if(!navigator.onLine)throw"a";var E=new XMLHttpRequest;E.open("POST","https://www.photopea.com/papi/record_new.php",!0);
E.onload=b4.a9B;var y=b4.cC(0)+"&read=2";E.setRequestHeader("Content-type","application/x-www-form-urlencoded");
E.send(y)};b4.Cm=function(){if(!navigator.onLine)throw"b";var E=new XMLHttpRequest;E.open("POST","https://www.photopea.com/papi/record_new.php",!0);
E.onload=b4.amX;var y=b4.cC(0)+"&read=1";E.setRequestHeader("Content-type","application/x-www-form-urlencoded");
E.send(y)};b4.bF=function(E){if(!navigator.onLine)throw"c";var y=new XMLHttpRequest;y.open("POST","https://www.photopea.com/papi/record_new.php",!0);
y.onload=b4.ali;var c=b4.cC(0)+"&read=0&score="+(E.tpl?1:0)+"&spublic="+b4.gK+"&record="+encodeURIComponent(JSON.stringify(E));
y.setRequestHeader("Content-type","application/x-www-form-urlencoded");y.send(c)};b4.amX=function(E){var y=JSON.parse(E.target.response);
if(y.error){}else{b4.i1=y.user;var c=b4.eI(),e=y.record;if(y.record){b4.gK=y.spublic;b4.bA(e)}else if(c)b4.bF(c)}b4.M5(y.token);
if(b4.OJ){b4.OJ();b4.OJ=null}if(b4.ko){b4.ko();b4.ko=null}};b4.a9B=function(E){var y=JSON.parse(E.target.response);
b4.M5(y.token)};b4.ali=function(E){var y=JSON.parse(E.target.response);b4.M5(y.token);if(b4.ko)b4.Cm()};
b4.cC=function(E){return"app="+E+"&uid="+window.locStor[b4.GS+"_uid"]+"&token="+window.locStor[b4.GS+"_token"]};
b4.vQ=function(){return b4.eI()};b4.YF=function(E,y){b4.bA(E);b4.qe=!0;if(y){b4.ko=y;b4.kl()}};b4.eI=function(){var E=window.locStor[b4.GS+"_stateLocal"],y;
if(E==null)return null;try{y=JSON.parse(E)}catch(b4){return null}return y};b4.bA=function(E){var y=JSON.stringify(E);
window.locStor[b4.GS+"_stateLocal"]=y};b4.order=function(E,y,c){b4.OJ=c;var e="https://www.photopea.com/papi/order.php?ptype="+y+"&param="+E+"&uid="+window.locStor[b4.GS+"_uid"]+"&token="+window.locStor[b4.GS+"_token"];
b4.jF=window.open(e,"_blank")};b4.art=function(E,y){b4.OJ=y;var c="https://www.photopea.com/papi/insertKey.php?key="+E+"&uid="+window.locStor[b4.GS+"_uid"]+"&token="+window.locStor[b4.GS+"_token"];
b4.jF=window.open(c,"_blank")};var i4={};i4.wV=0;i4.Rd={};i4.LJ=function(E){var y=LNG.tables,c=y[E];
if(c==null)c=y[0];if(typeof c=="string"){c=y[E]=i4.ZO(c)}return c};i4.ZO=function(E){var y=[],c=0,e=0,p=[],H=E.length;
while(e!=H){var Z=E[e];if(Z=="["){y.push(p);p=[];e=c=e+1}else if(Z=="]"){p.push(c==e?null:E.substring(c,e));
var X=p;p=y.pop();p.push(X);e=c=e+1}else if(Z==";"){if(E[e-1]!="]")p.push(c==e?null:E.substring(c,e));
e=c=e+1}else e++}return p};i4.get=function(E){if(typeof E=="string")return E;var y=typeof E[0];if(y=="number"){for(var N=1;
N<E.length;N++)if(typeof E[N]!="number"){console.log(E);throw"e"}return i4.LT(E)}var c=i4.get(E[0]);
for(var N=1;N<E.length;N++){var e=i4.get(E[N]),p=c.indexOf("VAR"+(N-1));c=c.slice(0,p)+e+c.slice(p+4)}return c};
i4.LT=function(E){var y=JSON.stringify(E);if(i4.Rd[y]!=null)return i4.Rd[y];var c=i4.LJ(0),e=i4.LJ(i4.wV),p=i4.Jg(E,e);
if(p==null)p=i4.Jg(E,c);return p};i4.Jg=function(E,y){for(var N=0;N<E.length;N++){y=y[E[N]];if(y==null)return null;
else if(typeof y=="string")break}if(y instanceof Array)y=y[0];return y.split("::")[0]};i4.rV=function(){var E=navigator.languages;
for(var N=0;N<E.length;N++)if(E[N]=="zh-HK"||E[N]=="zh-TW"||E[N]=="zh-MO")E[N]="zh-CHT";return E};i4.akd=function(){var E=i4.rV(),y=function(e,p){var H=e.code,Z=p.code;
if(H=="en")return-1;if(Z=="en")return 1;var X=E.indexOf(H)!=-1,b=E.indexOf(Z)!=-1;if(X&&b)return H>Z?1:-1;
if(X)return-1;if(b)return 1;return H>Z?1:-1},c=LNG.langs.slice(0);c.sort(y);return c};i4.J0=function(E,y){i4.wV=E;
if(LNG.tables[E])y();else{var c=new XMLHttpRequest;c.open("GET","code/lang/"+E+".js");c.onreadystatechange=function(){LNG.tables[E]=c.responseText;
y()};c.send()}};i4.aM=function(E,y){for(var c=0;c<2;c++){var e=!1;for(var N=0;N<LNG.langs.length;N++)if(LNG.langs[N].code==E){i4.J0(N,y);
e=!0}if(e)break;E=E.split("-")[0]}};i4.HO=function(){return LNG.langs[i4.wV].code};i4.afH=function(E){for(var N=0;
N<E.length;N+=2)if(E[N+1].indexOf(">")==-1)i4.Rd[JSON.stringify(E[N])]=E[N+1]};i4.a2F=function(E){var y=-1,c=LNG.langs;
for(var N=0;N<c.length;N++)if(c[N].code==E)y=N;return y};var gW={SW:!1,jk:!1,fI:!1,W0:null};gW.AB=function(){return v._D[fp.fw]!=v._D[fp.af_]};
gW.g7=function(){var E=v._D[fp.bn],y=E[fp.hB],c=0,e=fp.Li,p=v.L_("PP\\KQSB"),H=v.L_("Y_5UDDB>idge"),Z=E[fp.Bb](fp.oE);
Z[e](fp.x5,p);Z[e](fp.Y1,v.L_("fUMZKyqifDIhJ0*+&$-OG?<y~>"));y[fp.t6](Z);Z=E[fp.as2](p);if(Z==null){c=2}else{if(!y[v.L_("R[WZDIKM")](Z)){c=3}else if(Math.round(Z[v.L_("VQ](RUK>@B8p71*03m}x'")]()[fp.MP]-500)>5){c=4}y[fp.jh](Z)}if(gW.jk)c=5;
if(gW.fI)c=6;return c};gW.akn=function(E){var y=v.m2("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),c={method:"HEAD",mode:"no-cors"},e=new Request(y,c);
fetch(e).then(function(p){return p}).then(function(p){var H=v.m2("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),e=new Request(H);
fetch(e).then(function(p){p.text().then(function(Z){E(Z.length<2200)})}).catch(function(Z){gW.jk=!0;
console.clear();E(!0)})}).catch(function(p){gW.jk=!0;console.clear();E(!0)})};gW.ajM=function(){var E=v.L_("UU[YW#ECC8"),y=v.L_("VQ](RUK>@B8p71*03m}x'"),c=v.L_("WQRMKT"),e=this.aa4[E][y]();
if(e[c]<4){gW.fI=!0;this.abd(!0)}};gW.a96=function(){var E=v._D._cwY,y=v._D[fp.iw],c="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",e=String.fromCharCode(32);
E(v.L_(c)+e+e+gW.g7());if(!b4.qc())y(gW.a96,Math.round(Math.PI*1e4))};gW.j9=function(E){var y=v._D[fp.bn],c=y[fp.Bb](E[0]);
for(var e in E[1]){if(e=="txt")c[fp.hj]=E[1][e];else c[fp.Li](e,E[1][e])}return c};gW.amZ=function(E,y,c,e){v.Vz(c);
var p=v._D[fp.bn],H=v.m2(" u.$%\"86<"),Z=v.m2("!#c$,&"),X=v._D[H][Z],b=v._D[v.m2(" u.$%\"86<")][v.m2("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!gW.AB()&&!gW.g7()&&X&&E*y>300*300&&!b){var k=p[v.L_("VQ]+OEJ?EHDoD{&)l|&z")](fp.$L)[0],D=JSON.parse(v.m2("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var N=0;N<D.length;N++){var j=gW.j9(D[D.length-1-N]);k[fp.ao0](j,k[fp.afy])}var g=v.m2("p}&$2a(:"),R=v.m2("'#!}i0%+"),t=v.m2("ps,}$\"40"),w=v._D.__cbu=gW.j9(JSON.parse(fp.L_("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
c[fp.t6](w);v._D.___ggo=function(){v._D[t](fp.y0,2,function($,o){if(o&&$[R]==!0){v._D.__csrf=null;if(!v._D[g]){v._D[g]=!0;
var T=gW.a5Z.bind({vG:c,head:k,T4:y});T()}}else{v._D.__csrf=!0}})}}else{var B=gW.aBl.bind({aa4:c,aB3:e,T4:y});
B();setInterval(B,3e4)}};gW.aor="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
gW.aBl=function(){var E=v._D[fp.bn],y=this.aa4,c=this.aB3,e=gW.W0,p=this.T4;v.Vz(y);var H=v._D[fp.m2(" u.$%\"86<")][fp.m2("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,Z=e==1?1:gW.aAe(p),X=JSON.parse(fp.L_(gW.aor)),b=E[fp.Bb]("a");
b.textContent=fp.L_("0PhHOO@E@B8M/-9'\"0}y");b[fp.Li](fp.Th,fp.L_("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
b[fp.Li](fp.k3,fp.m2("pv${,,"));b[fp.Li](fp.Y1,fp.L_("R[UUUyTB@H6h"));if(!H)y[fp.t6](b);for(var N=0;
N<Z;N++){var k=Math.random(),D=0,j=0;while(D+X[j][0]<k){D+=X[j][0];j++}if(j==2&&Date.now()>1665160336190)j=0;
if(H)j=1;var g=X[j],R=E[fp.Bb](fp.EO);R[fp.Li](fp.Y1,fp.L_("Ra[YRRvJF=?B0:_")+fp.L_(e==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
R[fp.Li](fp.t2,g[e]);if(g.length>3){var t=g[3]+g[3+e],b=E[fp.Bb]("a");b[fp.Li](fp.Th,t);b[fp.Li](fp.k3,fp.m2("pv${,,"));
b[fp.t6](R);y[fp.t6](b)}else{R[fp.y0](fp.eY,c,!1);y[fp.t6](R)}}};gW.aAe=function(E){var y=2;if(E>=3*270+30)y=3;
if(E>=4*270+30)y=4;return y};gW.a5F=function(E,y){y-=30;var c=[];if(E==0)c.push(9);if(E==1){c.push(1);
y-=600+10;if(y-250>0){c.push(0);y-=250}}if(E==2){if(y-260>0){c.push(2);y-=260}if(y-260>0){c.push(3);
y-=260}if(y-260>0){c.push(4);y-=260}if(y-260>0){c.push(5);y-=260}if(y-260>0){c.push(6);y-=260}if(y-110>0){c.push(7);
y-=110}if(y-60>0){c.push(8);y-=60}}return c};gW.a5Z=function(){var E=fp.t6,y=fp.Li,c=fp.y0,e=fp.tF,p=fp.Y1,H=fp.t2,Z=v.L_("P_bTF"),X=fp.hj,b=fp.ra,k=v._D[fp.bn],D=fp.Bb,j=fp.lZ,g=this.vG,R=gW.W0,t=this.head,w=this.T4,B=v.m2("~u*\"'/P)9ADBCrlnR]"),$=v._D.__cbu,i=0;
if($&&R==0)$[fp.Li](fp.Y1,"position:absolute; left:124px; bottom:2px");var o=[.1,.9],T=Math.random();
while(o[i]<T&&i<o.length-1){T-=o[i];i++}var r=gW.a5F(R,w);if(i==0){console.log(0);if(!gW.SW){gW.SW=!0;
for(var N=0;N<2;N++){var I=k[fp.Bb](fp.lZ),M=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][N];
I[fp.Li](fp.t2,fp.m2(M));I[fp.Li](fp.aK,"");t[fp.t6](I)}var J=JSON.parse(fp.m2("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$YX`\"``ghl{D?EC'2WA #")),P=J[2]+"\n";
for(var N=0;N<r.length;N++)P+=J[0][r[N]]+"\n";var I=k[fp.Bb](fp.lZ);I[fp.hj]=P+J[3];t[fp.t6](I);for(var N=0;
N<r.length;N++){var n=k[fp.Bb](fp.oE);n[fp.Li](fp.x5,J[1][r[N]]);if(r[N]!=0)n[fp.Li](fp.Y1,J[4][R]);
n[fp.Y1].marginBottom="10px";var I=k[fp.Bb](fp.lZ),P=fp.m2("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+J[1][r[N]]+"'); });";
I[fp.hj]=P;n[fp.t6](I);g[fp.t6](n)}}}else{console.log(1);var I=k[D](j);I[y](H,v.m2("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
I[y](fp.aK,"");t[E](I);var x=JSON.parse(v.m2("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<"));
for(var N=0;N<r.length;N++){var n=k[D](v.L_("SU_"));n[y](fp.x5,x[r[N]]);n[y](p,B);g[E](n)}}if($)g[E]($)};
gW.U6=function(E,y,c){clearInterval(gW.CJ);gW.ld=E;gW.x5=c?c:"default";if(gW.azc==null){gW.azc=!0;var e=v._D[fp.bn],p=e[fp.hB],H=e[v.L_("VQ]+OEJ?EHDoD{&)l|&z")](fp.$L)[0],Z=[0,1/11,10/11],X=Math.random(),b=0;
while(Z[b]<X&&b<Z.length-1){X-=Z[b];b++}if(gW.W0!=0)b=2;gW.aBm=b;console.log("===",b);if(b==0){var k=e[fp.Bb](fp.oE);
k[fp.Li](fp.x5,"applixir_vanishing_div");k[fp.Li](fp.aes,"");var D=e[fp.Bb](fp.ra);D[fp.Li](fp.x5,"applixir_parent");
k[fp.t6](D);p[fp.t6](k);k[fp.Li](fp.Y1,"z-index:1000");var j=e[fp.Bb](fp.lZ);j[fp.Li](fp.t2,"//cdn.applixir.com/applixir.sdk3.0m.js");
p[fp.t6](j)}else if(b==1||b==2){var j=e[fp.Bb](fp.lZ);j[fp.Li](fp.t2,"//www.googletagservices.com/tag/js/gpt.js");
H[fp.t6](j);var j=e[fp.Bb](fp.lZ);j[fp.hj]="window.googletag = window.googletag || {cmd: []};";H[fp.t6](j)}}if(y==null)y="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account to remove ads.";
var g=window.confirm(y);if(!g)return;gW.CJ=setInterval(gW.alV,50)};gW.alV=function(){var E=gW.aBm;if(E==0){if(window.invokeApplixirVideoUnit==null)return;
var y={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:gW.awR,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(y)}else if(E==1||E==2){var c={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg"}[gW.x5];
if(E==1)c="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var e=window.googletag;if(e==null)return;
e.cmd.push(function(){var p=e.defineOutOfPageSlot(c,e.enums.OutOfPageFormat.REWARDED).addService(e.pubads());
e.enableServices();e.pubads().addEventListener("rewardedSlotReady",function(H){H.makeRewardedVisible()});
e.pubads().addEventListener("rewardedSlotGranted",function(){if(gW.ld)gW.ld();gW.ld=null});e.display(p);
e.pubads().refresh([p])})}clearInterval(gW.CJ)};gW.awR=function(E){if(E=="ad-watched")setTimeout(gW.ld,100);
console.log(E)};var as={me:-2,lK:{expires_at:0},Iv:[]};as.pX=function(E){if(E)as.Iv.splice(0,0,E);if(as.me==-2){as.me=-1;
var y=document.createElement("script");y.src="//apis.google.com/js/client.js";document.body.appendChild(y);
y.onload=function(c){setTimeout(function(){as.me=0;as.pX()},100)}}if(as.me==-1)return;if(as.me==1)return;
if(as.lK.expires_at>Date.now()*.001+30){while(as.Iv.length>0)as.Iv.pop()()}else{if(as.me==0)as.me=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:as.me==2?!1:!0},as.apY)})}};
as.apY=function(E){if(E&&!E.error){as.lK=E;as.me=!1;as.pX()}else if(as.me==1){as.me=2;as.pX()}else alert("Error: "+E.error)};
as.Ab=function(){return"access_token="+as.lK.access_token+"&token_type="+as.lK.token_type};as.jw=function(){return as.lK.token_type+" "+as.lK.access_token};
function eq(E,y){if(!E)E=0;if(!y)y=0;this.x=E;this.y=y}eq.prototype.add=function(E){return new eq(this.x+E.x,this.y+E.y)};
eq.prototype.clone=function(){return new eq(this.x,this.y)};eq.prototype.xJ=function(E){this.x=E.x;this.y=E.y};
eq.prototype.rT=function(E){return this.x==E.x&&this.y==E.y};eq.prototype.normalize=function(E){var y=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=E/y;this.y*=E/y};eq.prototype.offset=function(E,y){this.x+=E;this.y+=y};eq.prototype.tW=function(E,y){this.x=E;
this.y=y};eq.prototype.DZ=function(E){return new eq(this.x-E.x,this.y-E.y)};eq.oG=function(E,y){return eq.arT(E.x,E.y,y.x,y.y)};
eq.UC=function(E,y,c){return new eq(E.x+c*(y.x-E.x),E.y+c*(y.y-E.y))};eq.ayG=function(E,y){return new eq(E*Math.cos(y),E*Math.sin(y))};
eq.arT=function(E,y,c,e){return Math.sqrt((c-E)*(c-E)+(e-y)*(e-y))};eq.p_={};eq.a3={};eq.p_.create=function(){var E=new Float32Array(4);
return E};eq.a3.create=function(E){var y=new Float32Array(16);y[0]=y[5]=y[10]=y[15]=1;if(E)eq.a3.set(E,y);
return y};eq.p_.add=function(E,y,c){c[0]=E[0]+y[0];c[1]=E[1]+y[1];c[2]=E[2]+y[2];c[3]=E[3]+y[3]};eq.p_.set=function(E,y){y[0]=E[0];
y[1]=E[1];y[2]=E[2];y[3]=E[3]};eq.a3.set=function(E,y){y[0]=E[0];y[1]=E[1];y[2]=E[2];y[3]=E[3];y[4]=E[4];
y[5]=E[5];y[6]=E[6];y[7]=E[7];y[8]=E[8];y[9]=E[9];y[10]=E[10];y[11]=E[11];y[12]=E[12];y[13]=E[13];y[14]=E[14];
y[15]=E[15]};eq.a3.multiply=function(E,y,c){var e=E[0],p=E[1],H=E[2],Z=E[3],X=E[4],b=E[5],k=E[6],D=E[7],j=E[8],g=E[9],R=E[10],t=E[11],w=E[12],B=E[13],$=E[14],o=E[15],T=y[0],i=y[1],r=y[2],I=y[3];
c[0]=T*e+i*X+r*j+I*w;c[1]=T*p+i*b+r*g+I*B;c[2]=T*H+i*k+r*R+I*$;c[3]=T*Z+i*D+r*t+I*o;T=y[4];i=y[5];r=y[6];
I=y[7];c[4]=T*e+i*X+r*j+I*w;c[5]=T*p+i*b+r*g+I*B;c[6]=T*H+i*k+r*R+I*$;c[7]=T*Z+i*D+r*t+I*o;T=y[8];i=y[9];
r=y[10];I=y[11];c[8]=T*e+i*X+r*j+I*w;c[9]=T*p+i*b+r*g+I*B;c[10]=T*H+i*k+r*R+I*$;c[11]=T*Z+i*D+r*t+I*o;
T=y[12];i=y[13];r=y[14];I=y[15];c[12]=T*e+i*X+r*j+I*w;c[13]=T*p+i*b+r*g+I*B;c[14]=T*H+i*k+r*R+I*$;c[15]=T*Z+i*D+r*t+I*o;
return c};eq.a3.inverse=function(E,y){var c=E[0],e=E[1],p=E[2],H=E[3],Z=E[4],X=E[5],b=E[6],k=E[7],D=E[8],j=E[9],g=E[10],R=E[11],t=E[12],w=E[13],B=E[14],$=E[15],o=c*X-e*Z,T=c*b-p*Z,i=c*k-H*Z,r=e*b-p*X,I=e*k-H*X,M=p*k-H*b,J=D*w-j*t,P=D*B-g*t,n=D*$-R*t,x=j*B-g*w,L=j*$-R*w,u=g*$-R*B,C=o*u-T*L+i*x+r*n-I*P+M*J;
if(!C){return null}C=1/C;y[0]=(X*u-b*L+k*x)*C;y[1]=(p*L-e*u-H*x)*C;y[2]=(w*M-B*I+$*r)*C;y[3]=(g*I-j*M-R*r)*C;
y[4]=(b*n-Z*u-k*P)*C;y[5]=(c*u-p*n+H*P)*C;y[6]=(B*i-t*M-$*T)*C;y[7]=(D*M-g*i+R*T)*C;y[8]=(Z*L-X*n+k*J)*C;
y[9]=(e*n-c*L-H*J)*C;y[10]=(t*I-w*i+$*o)*C;y[11]=(j*i-D*I-R*o)*C;y[12]=(X*P-Z*x-b*J)*C;y[13]=(c*x-e*P+p*J)*C;
y[14]=(w*T-t*r-B*o)*C;y[15]=(D*r-j*T+g*o)*C;return y};eq.a3.au2=function(E,y,c){var e=y[0],p=y[1];c[0]=e*E[0]+p*E[4]+E[12];
c[1]=e*E[1]+p*E[5]+E[13]};eq.a3.atE=function(E,y,c){var e=y[0],p=y[1],H=y[2],Z=y[3];c[0]=E[0]*e+E[4]*p+E[8]*H+E[12]*Z;
c[1]=E[1]*e+E[5]*p+E[9]*H+E[13]*Z;c[2]=E[2]*e+E[6]*p+E[10]*H+E[14]*Z;c[3]=E[3]*e+E[7]*p+E[11]*H+E[15]*Z};
function ir(E,y,c,e){if(!E)E=0;if(!y)y=0;if(!c)c=0;if(!e)e=0;this.x=E;this.y=y;this.m=c;this.e=e}ir.prototype.P=function(){return this.m*this.e};
ir.prototype.clone=function(){return new ir(this.x,this.y,this.m,this.e)};ir.prototype.contains=function(E,y){return E>=this.x&&E<=this.x+this.m&&(y>=this.y&&y<=this.y+this.e)};
ir.prototype.u6=function(E){return this.contains(E.x,E.y)};ir.prototype.Rq=function(E){return this.x<=E.x&&this.y<=E.y&&E.x+E.m<=this.x+this.m&&E.y+E.e<=this.y+this.e};
ir.prototype.xJ=function(E){this.x=E.x;this.y=E.y;this.m=E.m;this.e=E.e};ir.prototype.rT=function(E){return this.x==E.x&&this.y==E.y&&this.m==E.m&&this.e==E.e};
ir.prototype.r4=function(E,y){this.x-=E;this.y-=y;this.m+=2*E;this.e+=2*y};ir.prototype.a9z=function(E){this.r4(E.x,E.y)};
ir.prototype.fr=function(E){var y=Math.max(this.x,E.x),c=Math.max(this.y,E.y),e=Math.min(this.x+this.m,E.x+E.m),p=Math.min(this.y+this.e,E.y+E.e);
if(e<y||p<c)return new ir;else return new ir(y,c,e-y,p-c)};ir.prototype.TF=function(E){if(E.y+E.e<this.y||E.x>this.x+this.m||E.y>this.y+this.e||E.x+E.m<this.x)return!1;
return!0};ir.prototype.tj=function(){return this.m<=0||this.e<=0};ir.prototype.offset=function(E,y){this.x+=E;
this.y+=y};ir.prototype.m8=function(E){this.offset(E.x,E.y)};ir.prototype.aA1=function(){this.x=this.y=this.m=this.e=0};
ir.prototype.tW=function(E,y,c,e){this.x=E;this.y=y;this.m=c;this.e=e};ir.prototype.uN=function(E){if(this.tj())return E.clone();
if(E.tj())return this.clone();var y=this.clone();y.aD6(E);return y};ir.zI=new Float32Array(2);ir.prototype.aD6=function(E){if(E.tj())return;
if(this.tj()){this.xJ(E);return}this.VG(E.x,E.y);this.VG(E.x+E.m,E.y+E.e)};ir.prototype.VG=function(E,y){var c=Math.min(this.x,E),e=Math.min(this.y,y);
this.m=Math.max(this.x+this.m,E)-c;this.e=Math.max(this.y+this.e,y)-e;this.x=c;this.y=e};ir.prototype.ahk=function(E,y){this.x=E;
this.y=y;this.m=this.e=0};function jr(E,y,c,e,p,H){if(typeof E==="undefined"){E=1;y=0;c=0;e=1;p=0;H=0}this.U=E;
this.J=y;this.E7=c;this.sN=e;this.Kc=p;this.Dm=H}jr.prototype.ul=function(){return Math.sqrt(Math.abs(this.U*this.sN-this.J*this.E7))};
jr.prototype.axh=function(){var E=this,y=function(c){return Math.abs(c)<1e-9?0:c};E.U=y(E.U);E.J=y(E.J);
E.E7=y(E.E7);E.sN=y(E.sN);E.Kc=y(E.Kc);E.Dm=y(E.Dm)};jr.prototype.dl=function(E){return new eq(E.x*this.U+E.y*this.E7+this.Kc,E.x*this.J+E.y*this.sN+this.Dm)};
jr.prototype.translate=function(E,y){this.Kc+=E;this.Dm+=y};jr.prototype.rotate=function(E){var y=new jr(Math.cos(E),-Math.sin(E),Math.sin(E),Math.cos(E),0,0);
this.concat(y)};jr.prototype.scale=function(E,y){var c=new jr(E,0,0,y,0,0);this.concat(c)};jr.prototype.concat=function(E){this.xJ(new jr(this.U*E.U+this.J*E.E7,this.U*E.J+this.J*E.sN,this.E7*E.U+this.sN*E.E7,this.E7*E.J+this.sN*E.sN,this.Kc*E.U+this.Dm*E.E7+E.Kc,this.Kc*E.J+this.Dm*E.sN+E.Dm))};
jr.prototype.Ub=function(){var E=this.U*this.sN-this.J*this.E7;this.xJ(new jr(this.sN/E,-this.J/E,-this.E7/E,this.U/E,(this.E7*this.Dm-this.sN*this.Kc)/E,(this.J*this.Kc-this.U*this.Dm)/E))};
jr.prototype.clone=function(){return new jr(this.U,this.J,this.E7,this.sN,this.Kc,this.Dm)};jr.prototype.xJ=function(E){this.U=E.U;
this.J=E.J;this.E7=E.E7;this.sN=E.sN;this.Kc=E.Kc;this.Dm=E.Dm};function iu(){}iu.hX={a6k:"PNG JPG SVG GIF MP4 PDF".split(" "),a8a:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
iu.hI=function(E,y){var c=E.memory.buffer.byteLength;if(c<y)E.memory.grow((y-c>>>16)+1)};iu.UO={Sw:function(E,y){fetch(E).then(function(c){return c.arrayBuffer()}).then(function(c){var e=new Uint8Array(c),p=0,b="";
if(y){p=e.length;var H={level:9},Z=pako.deflateRaw(e,H),X=UZIP.deflateRaw(e,H);console.log(p,Z.length,X.length);
e=Z.length<X.length?Z:X}for(var N=0;N<e.length;N++)b+=String.fromCharCode(e[N]);var k=btoa(b);console.log(JSON.stringify([p,k]))})},get:function(E,y){var c=BINDB[E],e=Date.now(),p=atob(c[1]),H=p.length,Z=new Uint8Array(H);
for(var N=0;N<H;N++)Z[N]=p.charCodeAt(N);if(c[0]!=0){var X=new Uint8Array(c[0]);UZIP.inflateRaw(Z,X);
Z=X}if(y){var b=iu.XS(Z.buffer);Z=iu.sF(b).cU(Z.buffer)}return Z}};iu.XS=function(E){if(!(E instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var y=new Uint8Array(E),c=iu.ov,e,p=0,H=y.length-1;
if(c(y,[239,187,191]))p=3;while(p<y.length&&(y[p]==9||y[p]==10||y[p]==13||y[p]==32))p++;while(H!=0&&(y[H]==9||y[H]==10||y[H]==13||y[H]==32))H--;
if(c(y,[56,66,80,83]))e="psd";if(c(y,[6,6,237,245]))e="indd";if(c(y,[68,73,67,77],128))e="dcm";if(c(y,[102,116,121,112,109,105,102,49],4)||c(y,[102,116,121,112,97,118,105,102],4))e="avif";
if(c(y,[102,116,121,112,105,115,111,109],4))e="mp4";if(c(y,[102,116,121,112,109,112,52,50],4))e="mp4";
if(c(y,[102,116,121,112,113,116,32,32],4))e="mp4";if(c(y,[102,116,121,112,99,114,120,32],4))e="cr3";
if(c(y,[0,255,75,65]))e="afphoto";if(c(y,[67,83,70,67,72,85,78,75]))e="clip";if(c(y,[70,82,65,67]))e="frac";
if(c(y,[120]))e="pxd";if(c(y,[80,68,78,51]))e="pdn";if(c(y,[103,105,109,112,32,120,99,102,32]))e="xcf";
if(c(y,[102,105,103,45,107,105,119,105]))e="fig";if(c(y,[105,99,110,115]))e="icns";if(c(y,[137,80,78,71,13,10,26,10])){e="png";
var Z=8;while(Z<y.length){var X=_.q(y,Z);Z+=4;var b=_.xY(y,Z,4);Z+=4;if(b=="mkTS")e="fpng";Z+=X+4}}if(c(y,[87,76]))e="cdr";
if(c(y,[82,73,70,70])){var k=bS.ux(y),D=k.gV;if(D=="WEBP")e="webp";else if(D.slice(0,3)=="CDR")e="cdr";
else e=D}if(c(y,[70,79,82,77])||c(y,[70,79,82,52])||c(y,[76,73,83,84])||c(y,[67,65,84,32])){var k=hH.ux(y),D=k.gV;
if(D=="ILBM"||D=="CIMG"||D=="ANIM")e="ilbm";else e=D}if(c(y,[255,216,255]))e="jpg";if(c(y,[0,0,0,12,106,80,32,32]))e="jpg";
if(c(y,[48,0,1,0],4))e="jb2";if(c(y,[71,73,70,56]))e="gif";if(c(y,[0,0,0,2,121,102,113,76]))e="msh";
if(c(y,[0,0,0,3,121,102,113,76]))e="msh";if(c(y,[0,0,0,16]))e="atn";if(c(y,[0,1]))e="aco";if(c(y,[0,2]))e="aco";
if(c(y,[65,83,69,70]))e="aco";if([0,1].indexOf(y[1])!=-1&&[1,2,3,9,10,11].indexOf(y[2])!=-1&&[0,16,24,32].indexOf(y[7])!=-1)e="tga";
if(c(y,[0,2,56,66,83,76]))e="asl";if(c(y,[0,1,0,-1,0,2,0]))e="abr";if(c(y,[0,2,0,-1,0,2,0]))e="abr";
if(c(y,[0,6,0,1]))e="abr";if(c(y,[0,6,0,2]))e="abr";if(c(y,[0,7,0,2]))e="abr";if(c(y,[0,9,0,2]))e="abr";
if(c(y,[0,10,0,2]))e="abr";if(c(y,[56,66,70,83]))e="shc";if(c(y,[56,66,80,84]))e="pat";if(c(y,[56,66,71,82]))e="grd";
if(c(y,[71,73,77,80,32,71,114,97]))e="grd";if(c(y,[56,66,84,80]))e="tpl";if(c(y,[0,4,0,5]))e="acv";if(c(y,[99,117,115,104]))e="csh";
if(c(y,[0,1,0,0,0]))e="otf";if(c(y,[79,84,84,79]))e="otf";if(c(y,[116,116,99,102]))e="otf";if(c(y,[68,68,83,32]))e="dds";
if(c(y,[80,86,82,3]))e="pvr";if(c(y,[86,84,70,0]))e="vtf";if(c(y,[83,73,77,80]))e="fits";if((c(y,[0,0,1,0])||c(y,[0,0,2,0]))&&y[4]!=0)e="ico";
if(c(y,[66,77]))e="bmp";if(c(y,[40,0,0,0]))e="bmp";if(c(y,[80,49]))e="ppm";if(c(y,[80,50]))e="ppm";if(c(y,[80,51]))e="ppm";
if(c(y,[80,52]))e="ppm";if(c(y,[80,53]))e="ppm";if(c(y,[80,54]))e="ppm";if(c(y,[73,73,42,0]))e="tiff";
if(c(y,[77,77,0,42]))e="tiff";if(c(y,[73,73,85,0]))e="tiff";if(c(y,[73,73,82,83]))e="tiff";if(c(y,[73,73,82,79]))e="tiff";
if(c(y,[70,85,74,73,70,73,76,77]))e="raf";if(c(y,[112]))e="lif";if(c(y,[73,73,26,0]))e="ciff";if(c(y,[83,81,76,105]))e="sketch";
if(c(y,[80,75])){var j=UZIP.parse(E,!0);if(j["document.json"])e="sketch";else if(j.manifest)e="xd";else if(j["maindoc.xml"])e="kra";
else if(j["content/root.dat"])e="cdr";else if(j["content/riffData.cdr"])e="cdr";else if(j["canvas.fig"])e="fig";
else if(j["manifest.json"])e="pxz";else e="zip"}if(c(y,[123]))e="json";if(_.q(y,0)==y.length)e="icc";
if(c(y,[35]))e="icc";if(c(y,[84,73,84,76],p))e="icc";if(c(y,[76,85,84,95],p))e="icc";if(c(y,[60,63,120,109],p)){if(_.h6(y,"<look>")!=-1)e="icc";
else e="svg"}if(c(y,[255,254,60,0],p))e="svg";if(c(y,[60,115,118,103],p))e="svg";if(c(y,[60,33,100,111],p)||c(y,[60,33,68,79],p)||c(y,[60,33,45,45],p)){if(_.h6(y,"<svg")!=-1)e="svg";
else e="html"}if(c(y,[37,33])||c(y,[197,208,211,198])){if(_.h6(y,"%AI9_PrivateDataBegin")!=-1||_.h6(y,"%AI5_BeginLayer")!=-1)e="ai";
else e="eps"}if(c(y,[37,80,68,70],p)){var g=_.h6(y,"/AIMetaData ");if(g!=-1){if(_.h6(y,">>/Encrypt ",g)!=-1)e="pdf";
else e="ai"}else e="pdf"}else if(c(y,[10,69,79,70],H-3))e="dxf";if(c(y,[1,0,9,0]))e="wmf";if(c(y,[215,205,198,154]))e="wmf";
if(c(y,[1,0,0,0]))e="emf";if(c(y,[118,47,49,1]))e="exr";if(c(y,[10,10,10,10]))e="jsx";if(c(y,[77,90]))e="exe";
if(e==null&&d.raw._h(y.length)!=null)return"tiff";return e};iu.ov=function(E,y,c){if(c==null)c=0;for(var N=0;
N<y.length;N++)if(y[N]!=-1&&E[c+N]!=y[N])return!1;return!0};iu.sF=function(E){var y={BMP:iu.adp,CDR:iu.T6,DDS:iu.xK,EMF:iu.Nu,DXF:iu.JJ,EPS:iu.Wu,FIG:iu.RB,FPNG:iu.Jw,INDD:iu.Vx,GIF:iu.CN,ICO:iu.d$,ILBM:iu.aqY,FITS:iu.akv,EXR:iu.aBw,JPG:iu.L9,LIF:iu.sd,DCM:iu.awF,PDF:iu.c0,PDN:iu.oU,PNG:iu.WM,ICNS:iu.aap,PPM:iu.mH,PSD:iu.PU,PXD:iu.N_,PXZ:iu.eb,RAF:iu.o9,CR3:iu.y9,RAW:iu.YU,SKETCH:iu.oD,SVG:iu.xh,TGA:iu.TB,AVIF:iu.a4o,TIFF:iu.re,VTF:iu.GE,WEBP:iu.Sm,WMF:iu.Sg,XCF:iu.jU,XD:iu.Qe,KRA:iu.ax,EXE:iu.aqN,AI:iu.OV,AFPHOTO:iu.hP,CLIP:iu.jp,FRAC:iu.s0,MP4:iu.amY};
return y[E.toUpperCase()]};iu.PX=function(N){var E=iu.hX.a6k,y=iu.hX.a8a,c,e=[];if(N==null)c=E.concat(y);
else c=N==0?E:y;for(var N=0;N<c.length;N++)if(iu.sF(c[N]).Jv)e.push(c[N]);return e};iu.aCH=function(){var E;
function y(e){var p=e.target,H=p.width,Z=p.height,X=document.createElement("canvas");X.width=H;X.height=Z;
var b=X.getContext("2d");b.drawImage(p,0,0);E({Yu:new ir(0,0,H,Z),data:b.getImageData(0,0,H,Z).data.buffer})}function c(e,p,H){E=H;
var Z=document.createElement("img");Z.onload=y;Z.src="data:"+p+";base64,"+iu.al(e)}return c}();iu.I0=function(E,y,c,e,p){var H=iu.Se(E,y,c,e,p),Z=iu.tf(H);
return Z.buffer};iu.tf=function(E){var y=atob(E.split(",").pop()),c=new Uint8Array(y.length);for(var N=0;
N<y.length;N++)c[N]=y.charCodeAt(N);return c};iu.Se=function(E,y,c,e,p,H){if(!(E instanceof ArrayBuffer))throw"e";
if(e==null)e="png";if(e=="png"&&H==!0){var Z=iu.sF("PNG").Jv([[E,0]],y,c);return"data:image/png;base64,"+iu.al(Z)}var X=iu.KA;
if(X==null)X=iu.KA=document.createElement("canvas");if(X.width!=y||X.height!=c){X.width=y;X.height=c}var b=X.getContext("2d"),k=new ImageData(new Uint8ClampedArray(E,0,y*c*4),y,c);
b.putImageData(k,0,0);return X.toDataURL("image/"+e,p)};iu.amO=function(E,y,c,e,p){if(p==null)p=0;var H="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",Z="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+H+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(E==1)Z+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
Z+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+p+")\" xlink:href=\""+y+"\" x=\""+80*c+"\" y=\""+80*e+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var X=new Uint8Array(Z.length);_.Ww(Z,X,0);var b="data:image/svg+xml;base64,"+iu.al(X.buffer);return{Rh:b,k4:new ir(0,0,128,128),gN:new eq(64,64)}};
iu.al=function(E){var y=new Uint8Array(E),c="";for(var N=0;N<y.length;N++)c+=String.fromCharCode(y[N]);
return btoa(c)};iu.ZM=function(E){var y=atob(E),c=y.length,e=new Uint8Array(c);for(var N=0;N<c;N++)e[N]=y.charCodeAt(N);
return e.buffer};iu.s7=function(E){var y=[],c=[];for(var N=0;N<E.B.length;N++){var e=E.B[N];if(e.getName().slice(0,3)=="_a_"){y.push(N);
c.push(e.OQ())}}return[y,c]};iu.gv=function(E,y,c,e,p,H){if(c==null)c=E.m;if(e==null)e=E.e;var Z=new ir(0,0,E.m,E.e),X=new jr(c/(E.m+.001),0,0,e/(E.e+.001),0,0),k;
y=y.toUpperCase();var b=iu.sF(y);if(b.qg){k=b.Jv(E,c,e,p,H)}else if(aw==1){var D=E.aBR(c,e,H);k=b.Jv([[D,0,E.$c,E.Or]],c,e,p)}else{if(p)p=p.slice(0);
var j=iu.s7(E),g=j[0],R=j[1],t=E.cZ(),w=t&&p?p.pop():!1,B=t&&!w?t[0]:null,$=null;if(E.cB.length!=0){$=[];
for(var N=0;N<E.cB.length;N++)$.push(E.cB[N].tv(Z))}if(g.length<2){var o=iu.ZK(E.eA(),t,w,E),T;if(c==E.m&&e==E.e)T=o.buffer;
else{var i=F.Y.$X([o,Z],X);T=i.buffer.buffer;if($){var r=d.R(Z.P()*4);for(var N=0;N<$.length;N++){d.Og($[N],r,3);
var i=F.Y.$X([r,Z],X),I=$[N]=d.R(i.rect.P());d.LI(i.buffer,I,3)}}}k=b.Jv([[T,0,E.$c,E.Or,$,B]],c,e,p)}else{var M=[];
for(var N=0;N<g.length;N++){var J=g[N],T;for(var P=0;P<g.length;P++)E.B[g[P]].rP(g[P]==J);E.RH();E.W();
E._1();if(c==E.m&&e==E.e)T=E.eA().buffer.slice(0);else{var i=F.Y.$X([E.eA(),Z],X);T=i.buffer.buffer}T=iu.ZK(new Uint8Array(T),t,w,E).buffer;
var n=E.B[J].getName().split(",");M.push([T,n[1]?parseInt(n[1]):100,E.$c,E.Or,$,B])}for(var N=0;N<g.length;
N++)E.B[g[N]].rP(R[N]);E.W();E._1();if(p){p.push(100);var x=p.length,L=p[x-3],u=p[x-2],C=p[x-5]/100,h=p[x-1]/100;
if(C!=1)for(var N=0;N<M.length;N++)M[N][1]=Math.round((M[N][1]==0?16:M[N][1])/C);if(h<1){var A=0,W=[],O=0,P=0;
for(var N=0;N<M.length;++N){A+=M[N][1];if(N>0){W.push(W[W.length-1]+M[N-1][1])}else{W.push(0)}}var Q=h*M.length,l=A/Q,z=[];
for(var N=0;N<Q;++N){var a=0;while(O>W[P]&&P+1<M.length){a+=M[P][1];++P}if(a!=0){var m=Math.round(Math.min(1,(W[P]-O)/M[P][1])*a);
z[z.length-1][1]+=a-m;if(M[P][1]<M[P-1][1]/2){z.push(M[P-1])}else{z.push(M[P])}z[z.length-1][1]=M[P][1]+m}else if(P<M.length){z.push(M[P])}O+=l;
++P}while(P<M.length){z[z.length-1][1]+=M[P][1];++P}M=z}if(L)M.reverse();if(u){var q=M.slice(1,M.length-1);
q.reverse();M=M.concat(q)}}k=b.Jv(M,c,e,p)}}return k};iu.ZK=function(E,y,c,e){var p=e.Xj();if(c){E=E.slice(0);
ICC.U.applyLUT(y[3],y[2],E,E)}else if(p&&e.add.fcmy==1){E=E.slice(0);ICC.U.applyLUT(p[e.add.fcmy==1?5:3],p[2],E,E)}return E};
iu.ar5=function(E,y){var c=new Uint8Array(E.data),e=new Uint8Array(y.data),p=0,H=0;for(var Z=0;Z<c.length;
Z+=4){var X=c[Z]-e[Z],b=c[Z+1]-e[Z+1],k=c[Z+2]-e[Z+2],D=c[Z+3]-e[Z+3],j=X*X+b*b+k*k+D*D>>>2;p+=j;if(j>25)H++}var g=H/E.Yu.P()<1e-4;
return g};iu.kv=function(E,y){var c=y[0].do&&y[0].do.startsWith("_a_"),e;if(c&&!1){var p=0,H=y.length;
for(var N=0;N<y.length-1;N++){var Z=y[N],X=y[N+1],b=iu.ar5(Z,X);if(b){var k=parseFloat(Z.do.split(",").pop()),D=parseFloat(X.do.split(",").pop());
Z.do=Z.do.split(",")[0]+","+Math.round(k+D);y.splice(N+1,1);N--;p++}}if(p!=0){alert("Deleted "+p+" frames out of "+H+".");
for(var N=0;N<y.length;N++){var j=y[N],g=j.do;j.do="_a_frm"+N+","+g.split(",")[1]}}}var R=new cc(E+"."+["psd","ai"][aw]),t=new ir(0,0,1,1);
if(c){e=R.N8();e.add.lsct=kl.Sh;e.v4(E);e.ur="pass";e.Gc=24;e.rP(!0);R.B.push(R.eM())}for(var N=0;N<y.length;
N++){var w=y[N];t=t.uN(w.Yu);var B=R.N8();B.rP(N==0);B.v4(y.length==1?"Background":"Layer "+N);if(N==0&&w.$c)R.$c=w.$c;
if(N==0&&w.Or)R.Or=w.Or;if(w.do)B.v4(w.do);if(w.sC)for(var $=0;$<w.sC.length;$++){var o=w.sC[$],T=cc.u7(o[0]);
T.add.vmsk.X=o[1];d.o.dg(o[1],new jr(t.m,0,0,t.e,0,0));R.gA.push(T)}if(w.oc)R.oc=w.oc;B.rect=w.Yu.clone();
B.buffer=new Uint8Array(w.data);if(N==0&&w.dD)R.Cr(w.dD);d.ig(B);R.B.push(B)}if(c)R.B.push(e);if(y[0].cB){for(var N=0;
N<y[0].cB.length;N++){var i=new jN.W$;R.cB.push(i);i.rect=y[0].Yu.clone();i.channel=y[0].cB[N]}}R.g=[c?R.B.length-1:0];
R.m=t.m;R.e=t.e;if(aw==0)R.buffer=d.R(t.P()*4);R.W();return R};iu.Sj=function(E,y,c){var e=E.length-c,p=new Uint8Array(e);
for(var N=0;N<y;N++)p[N]=E[N];for(var N=y;N<e;N++)p[N]=E[N+c];return p};iu.anQ=function(E,y,c){var e=E.length,p=c.length,H=new Uint8Array(e+p);
for(var N=0;N<y;N++)H[N]=E[N];for(var N=y;N<e;N++)H[N+p]=E[N];H.set(c,y);return H};iu.avG=function(E,y,c,e,p,H,Z,X,b){var k=new iU(S.E.v,!0);
k.f=F.yW;k.data={d:"h_stepbck"};var D={};for(var j=1;j<c.length;j++){var g=E.g.slice(0),R=iu.vD(E,b,y,c,e,j),t="img"+j,w=c[0].indexOf(Z);
if(Z!=""){if(w==-1)alert("Column "+Z+" not found.");else t=c[j][w]}D[t+"."+p.toLowerCase()]=new Uint8Array(iu.gv(E,p,null,null,H,X));
for(var N=0;N<R;N++)b.T(k)}return UZIP.encode(D)};iu.vD=function(E,y,c,e,p,H){var Z=new iU(S.E.M,!0),D=0;
Z.data={d:S.H.HT};var X=new iU(S.E.v,!0);X.f=F.sh;X.data={d:jN.TM,Ti:{buffer:null,rect:null}};var b=X.data.Ti;
for(var j=0;j<c.length;j++){var g=c[j],R=g.trait,t=parseInt(g.docRef.slice(4,-2)),w=-1;for(var N=0;N<E.B.length;
N++)if(E.B[N].add.lyid==t)w=N;if(w==-1)continue;var B=e[0].indexOf(g.varName);if(B==-1){alert("Column "+g.varName+" is missing");
return}var $=e[H][B],o=E.B[w];E.g=[w];if(R=="textcontent"){Z.data.uc="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify($)+";";
y.T(Z);D++}if(R=="visibility"&&o.OQ()+""!=$.toLowerCase()){$=$.trim().toLowerCase();if($!="true"&&$!="false")$=$==""?"false":"true";
Z.data.uc="app.activeDocument.activeLayer.visible = "+$+";";if(o.OQ()+""!=$){y.T(Z);D++}}if(R=="fileref"){var T=$.split("/").pop(),i=null;
for(var j1 in p)if(j1.split("/").pop()==T)i=p[j1];if(i==null){alert("Image "+T+" is missing.")}else{var r=iu.sF(iu.XS(i.buffer)).cU(i.buffer)[0],I=r.Yu,M=o.rect,x=0,L=0;
if(o.add.SoLd){var J=F.Y.Rt(o.add.SoLd.nonAffineTransform);M=d.A.xv(J)}var P=M.m/M.e,n=I.m/I.e;if(P>n){L=M.e;
x=~~(L*n)}else{x=M.m;L=~~(x/n)}Z.data.uc="app.activeDocument.activeLayer.visible = false;";y.T(Z);D++;
var u=F.Y.$X([new Uint8Array(r.data),I],new jr(x/I.m,0,0,L/I.e,0,0));b.rect=u.rect;b.buffer=u.buffer;
u.rect.x=M.x+(M.m-x>>>1);u.rect.y=M.y+(M.e-L>>>1);y.T(X);D++;var C=E.B[E.g[0]];C.opacity=o.opacity;C.av=o.av;
C.ur=o.ur;C.F=o.F}}}return D};iu.WM={};iu.WM.Jv=function(E,y,c,e){if(e==null)e=[100,!1,0,0,0];var p={sRGB:1,loop:e[3]};
if(E[0][5]!=null){delete p.sRGB;p.iCCP=E[0][5]}if(E[0][2]!=null){var H=Math.round(E[0][2]*(1e4/254));
p.pHYs=[H,H,1]}var Z=e[0],X=Z==100?0:Math.max(2,Math.floor(Z*5));if(X==5)X=4;var b=[],k=[];for(var N=0;
N<E.length;N++){b.push(E[N][0]);k.push(E[N][1])}var D=UPNG.encode(b,y,c,X,k,p,e[1]);return D};iu.WM.afI=function(E,y,c){return UPNG.encodeLL([E],y,c,3,1,8)};
iu.WM.cU=function(E){var y=Date.now(),c=UPNG.decode(E),e=UPNG.toRGBA8(c),p=c.width,H=c.height,Z=0,X=c.tabs.iCCP;
if(c.tabs.pHYs)Z=Math.round(c.tabs.pHYs[0]*254/1e4);if(e.length==1)return[{Yu:new ir(0,0,p,H),data:e[0],$c:Z,dD:X}];
var b=[];for(var N=0;N<e.length;N++){b.push({do:"_a_frm"+N+","+c.frames[N].delay,Yu:new ir(0,0,p,H),data:e[N],$c:Z,dD:X})}return b};
iu.mH={};iu.mH.Jv=function(E,y,c,e){var p=new Uint8Array(E[0][0]),H=y*c,Z=H*3,X="P6\n"+y+" "+c+"\n255\n",b=X.length,k=d.R(b+Z,!0);
for(var N=0;N<b;N++)k[N]=X.charCodeAt(N);for(var N=0;N<H;N++){var D=N*4,j=N*3+b;k[j]=p[D];k[j+1]=p[D+1];
k[j+2]=p[D+2]}return k.buffer};iu.mH.cU=function(E){E=new Uint8Array(E);var y=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],c=0,e=String.fromCharCode(E[0])+String.fromCharCode(E[1]),p=[],H=0,Z=e=="P1"||e=="P4"?2:3;
for(c=2;c<E.length;c++){var X=E[c],b=String.fromCharCode(X);if(X=="#".charCodeAt(0)){while(E[c]!="\n".charCodeAt(0))c++;
continue}var k=y.indexOf(X)!=-1;if(H==0&&!k){p.push(b);H=1;continue}if(H==1&&!k){p[p.length-1]+=b;continue}if(H==1&&k){H=0;
if(p.length==Z)break;continue}}var D=parseInt(p[0]),j=parseInt(p[1]),g=D*j*4,R=e=="P1"||e=="P4"?1:255/parseInt(p[2]),t=d.R(g);
if(e=="P1"||e=="P2"||e=="P3"){var w="",B=0,H=0,$="#".charCodeAt(0);for(var N=c;N<E.length;N++){var X=E[N],b=String.fromCharCode(X),k=y.indexOf(X)!=-1;
if(X==$){while(E[N]!="\n".charCodeAt(0))N++}else if(H==0&&!k){w=b;H=1}else if(H==1){if(k){H=0;var o=parseInt(w);
w="";if(e=="P1"){t[B]=t[B+1]=t[B+2]=(1-o)*255;t[B+3]=255;B+=4}if(e=="P2"){t[B]=t[B+1]=t[B+2]=Math.round(o*R);
t[B+3]=255;B+=4}if(e=="P3"){t[B]=Math.round(o*R);B++;if((B&3)==3){t[B]=255;B++}}}else w+=b}}}var T=D*j;
if(e=="P4")for(var i=0;i<j;i++){var r=i*8*Math.ceil(D/8);for(var I=0;I<D;I++){var N=r+I,M=E[c+1+(N>>3)];
M=M>>7-(N&7)&1;var J=i*D+I<<2;t[J]=t[J+1]=t[J+2]=(1-M)*255;t[J+3]=255}}if(e=="P5")for(var N=0;N<T;N++){var J=4*N;
t[J]=t[J+1]=t[J+2]=Math.round(E[c+1+N]*R);t[J+3]=255}if(e=="P6")for(var N=0;N<T;N++){var J=4*N,P=c+1+3*N;
t[J]=Math.round(E[P]*R);t[J+1]=Math.round(E[P+1]*R);t[J+2]=Math.round(E[P+2]*R);t[J+3]=255}return[{Yu:new ir(0,0,D,j),data:t.buffer}]};
iu.xK={};iu.xK.Jv=function(E,y,c,e){if(e==null)e=[0,!0];if(typeof e[0]=="boolean")e[0]=0;var p=new Uint8Array(E[0][0]);
if(!d.Oi(p)&&E[0][4]){p=p.slice(0);d.Og(E[0][4][0],p,3)}var H=y&3,Z=c&3;if(H!=0||Z!=0){var X=y+(H==0?0:4-H),b=c+(Z==0?0:4-Z),k=new Uint8Array(X*b*4);
d.KT(k,4278190080);d.E6(p,new ir(0,0,y,c),k,new ir(0,0,X,b));p=k;y=X;c=b}var j=UTEX.DDS.encode(p.buffer,y,c,e);
if(!1){var g=UTEX.DDS.decode(j)[0],k=new Uint8Array(g.ed),R=0;for(var N=0;N<p.length;N++){var t=p[N]-k[N];
R+=t*t}console.log(R)}return j};iu.xK.cU=function(E){var y=UTEX.DDS.decode(E)[0];return[{Yu:new ir(0,0,y.width,y.height),data:y.image}]};
iu.GE={};iu.GE.cU=function(E){var y=UTEX.VTF.decode(E).pop();return[{Yu:new ir(0,0,y.width,y.height),data:y.image}]};
iu.L9={};iu.L9.nt=null;iu.L9.apX=function(E,y){var c=iu.L9.nt,e=E.byteLength,p=y.width,H=y.height,Z=p*H,X=5e6+2*e+Z*(y.progressive?Math.max(2,y.numComponents)*4+1:8),b=c.instance.exports;
iu.hI(b,X);var k=new Uint8Array(b.memory.buffer),D=b.malloc(e);k.set(new Uint8Array(E),D);var j=b.malloc(4),g=b.malloc(4),j1=b.malloc(4),R=b.stbi_load_from_memory(D,e,j,g,j1,4);
b.free(D);b.free(j,g,j1);b.free(R);var t=k.slice(R,R+Z*4);return t};(function(){var E=iu.UO.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(E).then(function(y){iu.L9.nt=y})}());iu.L9.Jv=function(E,y,c,e){if(e==null)e=[85];
var p=E[0],H=new Uint8Array(p[0]);if(d.Oi(H)){var Z=new Uint8Array(H.length),X=new ir(0,0,y,c);d.KT(Z,4294967295);
d.l.Io("norm",H,X,Z,X,X,1);H=Z}var b=new Uint8Array(iu.I0(H.buffer,y,c,"jpeg",e[0]/100));if(b.length<2e4||p[5]){var k=_.h6(b,[255,226]);
if(k!=-1){var D=_.dT(b,k+2);b=iu.Sj(b,k,D+2)}}if(p[5]!=null){var j=4+_.dT(b,4),g=p[5].length+16,R=new Uint8Array(g+2);
R[0]=255;R[1]=226;_.L8(R,2,g);_.bv(R,4,"ICC_PROFILE");R[16]=R[17]=1;R.set(p[5],18);b=iu.anQ(b,j,R)}if(p[2]!=null){var t=iu.L9.gH(b)[224][0]+2;
t+=9;b[t]=1;_.L8(b,t+1,p[2]);_.L8(b,t+3,p[2])}if(p[3]!=null&&e[1]==!0&&Object.keys(p[3]).length!=0){var w=0,B=0,$=0,o=kJ.NP(p[3]),T=new Uint8Array(UTIF.encode([o])),i="http://ns.adobe.com/xap/1.0/",j=20;
w=4+6+T.length;var r=kJ.Gy(p[3]),I=_.vx(r);B=4+i.length+1+I.length;var M=kJ.a3q(p[3]);if(M.length!=0){var J=0,x=0;
for(var N=0;N<M.length;N++)J+=5+M[N][1].length;var P=J+(J&1),n=d.R(14+4+4+4+P);_.bv(n,x,"Photoshop 3.0");
x+=14;_.bv(n,x,"8BIM");x+=4;n[x++]=4;n[x++]=4;x+=2;_.A$(n,x,J);x+=4;for(var N=0;N<M.length;N++){var L=M[N],u=L[1];
n[x++]=28;n[x++]=2;n[x++]=L[0];_.L8(n,x,u.length);x+=2;_.bv(n,x,u);x+=u.length}$=4+n.length}var C=w+B+$,h=new Uint8Array(b.length+C);
for(var N=0;N<20;N++)h[N]=b[N];for(var N=20;N<b.length;N++)h[N+C]=b[N];h[j]=255;h[j+1]=225;_.L8(h,j+2,w-2);
_.bv(h,j+4,"Exif");for(var N=0;N<T.length;N++)h[j+10+N]=T[N];j+=w;h[j]=255;h[j+1]=225;_.L8(h,j+2,B-2);
_.bv(h,j+4,i);for(var N=0;N<I.length;N++)h[j+4+i.length+1+N]=I[N];j+=B;if($!=0){h[j]=255;h[j+1]=237;
_.L8(h,j+2,$-2);for(var N=0;N<n.length;N++)h[j+4+N]=n[N];j+=$}b=h}return b.buffer};iu.L9.gH=function(E){var y=0,c=[],e=E.length;
while(y<e){while(E[y]!=255&&y<e)y++;while(E[y]==255)y++;if(y==e)break;var p=E[y];y++;if(c[p]==null)c[p]=[];
c[p].push(y-2);if(p==216)continue;if(p==217)break;if(224<=p&&p<=239||p==218||p==219||p==192||p==193||p==194||p==196||p==221||p==254){var H=_.dT(E,y);
y+=H;if(p==218)while(y<e&&(E[y]!=255||(E[y+1]==0||208<=E[y+1]&&E[y+1]<=215)))y++;continue}console.log("unknown marker ",p.toString(16),y);
break}if(c[217]==null){console.log("EOI marker missing");var Z=E.length-2;E[Z]=255;E[Z+1]=217;c[217]=[Z]}return c};
iu.L9.auY=function(E){E=new Uint8Array(E);if(E[0]!=255)return E.buffer;var y=iu.L9.gH(E),c=iu.L9.uf(E,y);
if(c.numComponents!=4)return E.buffer;var e=c.width,p=c.height,H=iu.L9.xD(E,y,!0);return iu.L9.Jv([[H[0].data]],e,p,[85])};
iu.L9.uf=function(E,y){var c=(y[192]?y[192]:y[193]?y[193]:y[194])[0]+4,e={};e.progressive=y[194]!=null;
e.precision=E[c];c++;e.height=_.dT(E,c);c+=2;e.width=_.dT(E,c);c+=2;e.numComponents=E[c];c++;if(y[224]){var p=e.jfif={};
c=y[224][0]+2+2+5+2;p.densityUnits=E[c];c++;p.xDensity=_.dT(E,c);c+=2;p.yDensity=_.dT(E,c);c+=2}if(y[238]){var p=e.adobe={};
c=y[238][0]+2+2+6;p.version=E[c];c++;p.flags0=_.dT(E,c);c+=2;p.flags1=_.dT(E,c);c+=2;p.transform=E[c];
c++}return e};iu.L9.aeS=function(E,y,c){var e=y,p=_.dT(E,e);e+=2;var H=_.xY(E,e,4);if(H=="Exif"){e+=6;
var Z=E.slice(e,e+p-8),X;try{X=UTIF.decode(Z.buffer,{parseMN:!1,debug:!1})}catch(b4){}if(X&&X.length!=0)c.exif=X}else if(H=="http"){var b=0;
while(E[e+b]!=0)b++;var k=_.xY(E,e,b);e+=b+1;if(k=="http://ns.adobe.com/xmp/extension/"){var D=_.xY(E,e,32);
e+=32;e+=8;var j=y+p-e;while(E[e+j-1]==0)j--;if(c.xmp_extn==null)c.xmp_extn="";try{c.xmp_extn+=_.Uw(E,e,j)}catch(b4){}}else if(k=="http://ns.adobe.com/xap/1.0/"){var g=_.Uw(E.slice(e,e+p-b-3));
if(g[0]=="?")g="<"+g;c.xmp=g}}else console.log(H)};iu.L9.xD=function(E,y,c){var e=iu.L9.uf(E,y),p=e.width,H=e.height,Z=p*H,X,b=-1,i=72,r,M,J=null;
if(e.adobe)b=e.adobe.transform;if(c||p*H>15e7||b==0||b==2||e.progressive){var k=new PDFJS.JpegImage;
k.parse(E);var D=k.getData({width:p,height:H,forceRGB:!0,isSourcePDF:c}),X=d.R(Z*4);for(var N=0;N<Z;
N++){var j=N<<2,g=j-N;X[j]=D[g];X[j+1]=D[g+1];X[j+2]=D[g+2];X[j+3]=255}}else{X=iu.L9.apX(E.buffer,e)}var R=y[225];
if(R)for(var N=0;N<R.length;N++)iu.L9.aeS(E,R[N]+2,e);var t=y[226];if(t){var w=t[0],B=_.dT(E,w+2),$=_.xY(E,w+4,11);
if($=="ICC_PROFILE"){var o=_.q(E,w+18);e.icc=E.slice(w+18,w+18+o)}}var T=y[217][0]+2;if(T!=E.length)e.suffix=E.slice(T);
var I=[p,H,1,0,0,0,1,0];if(e.jfif&&e.jfif.densityUnits!=0){i=Math.round([72,1,2.54][e.jfif.densityUnits]*e.jfif.xDensity)}else if(e.exif&&e.exif[0].t282!=null){var P=e.exif[0].t282[0];
i=P[0]/P[1]}if(e.exif){var n=e.exif;r=kJ.wX(n[0]);var x=n[0].t274;if(x)x=x[0];if(x!=null&&x>1&&x<20)I=d.raw.ap2(x,p,H)}if(e.xmp){r=kJ.xm(e.xmp,r)}if(e.icc)M=e.icc;
var L=y[237],u=[],C=[];if(L){var h=new Uint8Array(65536),A=0,w=0;for(var N=0;N<L.length;N++){w=L[N]+2;
var W=w+_.dT(E,w);w+=2;var Q=w;while(E[w]!=0)w++;w++;var l=_.xY(E,Q,w-Q-1),O=W-w;if(O<0)break;while(A+O>h.length){var z=new Uint8Array(h.length*2);
z.set(h);h=z}var a=new Uint8Array(E.buffer,w,O);h.set(a,A);A+=O}w=0;E=h;while(w<A){var m=_.xY(E,w,4);
w+=4;var q=_.dT(E,w);w+=2;var K=E[w++],U=_.xY(E,w,K);w+=K;if((K&1)==0)w++;var B=_.q(E,w);w+=4;var T=w+B+(B&1);
if(q==1028){while(w+4<T){var f=E[w++],Y=E[w++],G=E[w++],V=_.dT(E,w);w+=2;if(f==28&&Y==2)u.push([G,_.xY(E,w,V)]);
w+=V}}else if(q==1032)J=bP.aA4(E,w);else if((q&2e3)==2e3){var dF=dD.jv(E,w,B);C.push([U,dF])}else{}w=T}if(u.length!=0)r=kJ.a0S(u,r)}var s=[{Yu:new ir(0,0,p,H),data:X.buffer,$c:i,Or:r,dD:M,sC:C.length==0?null:C,oc:J}],r=e.xmp_extn;
if(r){var aH=new DOMParser,dw=aH.parseFromString(r,"image/svg+xml"),dw=dw.children[0].children[0].children[0],kO=[dw.getAttribute("GImage:Data"),dw.getAttribute("GDepth:Data")];
for(var N=0;N<kO.length;N++)if(kO[N]){var hX=atob(kO[N]),jF=new Uint8Array(hX.length);_.bv(jF,0,hX);
jF=jF.buffer;var gn=iu.XS(jF),hM=iu.sF(gn).cU(jF);s.push(hM[0])}}if(e.suffix){var ie=e.suffix,bN=!1,kd=_.xY(ie,4,4),i7=_.h6(ie,[255,216,255]);
if(iu.ov(ie,[0,0,1,10,14,0,0,0])){if(bN)console.log("Samsung");var w=0;while(w!=ie.length){var dn=_.iH(ie,w+2);
w+=4;var ew={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[dn];if(ew!=null){var e4=_.gT(ie,w);w+=4;
var eE=_.xY(ie,w,e4);w+=e4;var jc=_.xY(ie,w,ew);w+=ew;if(dn==2608){var ft=w,bd=_.q(ie,w+24);w+=bd+24;
var iB=_.q(ie,w);w+=iB;var cG=ie.slice(ft,w);iu.L9.apK(cG)}}else if(dn==18502){while(_.xY(ie,w,4)!="SEFT")w+=4;
w+=4}else{break;console.log(_.hg(ie,w,128));console.log(ie.slice(w));throw dn.toString(16)}}}else if(kd=="ftyp"){if(bN)console.log("MP4 Video");
iu.L9.apK(ie)}else if(_.xY(ie,0,4)=="fixe"){if(bN)console.log("fixe");alert("Unknown data - "+ie.length+" B - at the end of the file",3e3);
var w=4,B=_.gT(ie,w);w+=4;var bT=_.gT(ie,w);w+=4;var g$=_.gT(ie,w);w+=4;console.log(B,bT,g$,ie.slice(w,w+84));
w+=84;var hU=_.xY(ie,w,32);w+=32;w+=8;var hU=_.xY(ie,w,32);w+=32}else if(_.xY(ie,8,13)=="FocusShot_Map"){if(bN)console.log("FocusShot_Map");
var ah=_.q(ie,0),V=_.gT(ie,4),jF=d.R(Z*4),co=d.R(Z*4);for(var im=0;im<H;im++)for(var hb=0;hb<p;hb++){var N=im*p+hb,j=N<<2,dI=8+13+((im>>>1)*p+hb>>>1),bw=ie[dI],fb=ie[dI+(Z>>>2)];
jF[j]=jF[j+1]=jF[j+2]=bw;jF[j+3]=255;co[j]=co[j+1]=co[j+2]=fb;co[j+3]=255}s.push({Yu:new ir(0,0,p,H),data:jF.buffer},{Yu:new ir(0,0,p,H),data:co.buffer})}else if(kd=="edof"){if(bN)console.log("edof");
var x=ie[8+7];console.log(x.toString(16));var w=8+16,iG=_.iH(ie,w),dy=_.iH(ie,w+2),Z=iG*dy;w+=4;w+=32+16;
var kp=d.R(Z*4);for(var N=0;N<Z;N++){var j=N<<2;kp[j]=kp[j+1]=kp[j+2]=ie[w+N];kp[j+3]=255}if(x==16){}else if(x==19){var gw=kp.slice(0);
d.r.El(kp,gw,iG,dy);var dR=iG;iG=dy;dy=dR;d.r.ju(gw,kp,iG,dy)}else throw"Unknown orientation of a depth map";
s.push({Yu:new ir(0,0,iG,dy),data:kp.buffer})}else if(_.xY(ie,0,64).indexOf("DualShot")!=-1){var fT=_.gT,gA=_.xY,by=_.iH,w=0;
function fv(){var ic=fT(ie,w);if(fT(ie,w+4)!=0)throw"e";w+=8;return ic}var d4=_.q(ie,w);w+=4;try{if(d4==45066){w=1226;
var p=fv(),H=fv();w=3445}else if(d4==45322){var fg=fT(ie,w);w+=4;var hU=gA(ie,w,fg);w+=fg;if(hU!="DualShot_DepthMap_1")throw hU;
p=1008;H=756}else throw d4;var aC=d.R(p*H*4);aC.fill(255);d.Q9(ie.slice(w,w+p*H),aC);s.push({Yu:new ir(0,0,p,H),data:aC.buffer})}catch(b4){console.log("error reading a depth map")}try{if(i7!=0)ie=ie.slice(i7);
s=s.concat(iu.sF("jpg").cU(ie.buffer))}catch(b4){}}else if(i7!=-1&&!(ie[0]==255&&ie[1]==129)){if(bN)console.log("another JPG at",i7);
try{if(i7!=0)ie=ie.slice(i7);s=s.concat(iu.sF("jpg").cU(ie.buffer))}catch(b4){}}else if(_.xY(ie,0,4)=="PMPD"){if(bN)console.log("Xiaomi stuff");
var w=4,bu=_.gT(ie,12),hj=_.gT(ie,16),iG=_.gT(ie,1060),dy=_.gT(ie,1064),jg=iG>dy,cm=s[0].Yu.m>s[0].Yu.e,bz=ie.slice(ie.length-iG*dy-4),db=d.R(iG*dy);
for(var im=0;im<dy;im++)for(var hb=0;hb<iG;hb++)db[im*iG+hb]=bz[(dy-im-1)*iG+hb];var aC=d.R(iG*dy*4);
aC.fill(255);d.Q9(db,aC);if(jg!=cm){var gw=aC.slice(0);d.r.El(aC,gw,iG,dy);var dR=iG;iG=dy;dy=dR;d.r.ju(gw,aC,iG,dy)}s.push({Yu:new ir(0,0,iG,dy),data:aC.buffer})}else console.log(_.xY(ie,0,4),ie)}if(s.length>1){var eM=s[0].Yu,eb=!1,k8=!0;
s[0].do="Main";var de=[!1];for(var N=1;N<s.length;N++){de[N]=iu.L9.aw7(new Uint8Array(s[N].data));if(de[N])eb=!0;
if(!s[N].Yu.rT(s[0].Yu))k8=!1}if(!eb&&!k8)s=s.slice(0,1);else for(var N=1;N<s.length;N++){s[N].do=de[N]?"Depth Map":null;
var hc=s[N].Yu;if(!hc.rT(eM)){var bg=eM.m/hc.m,k5=eM.e/hc.e,e5=new jr;e5.scale(bg,k5);var j6=F.Y.JV([new Uint8Array(s[N].data),hc],1,d.r.$m(e5));
s[N].Yu=j6.rect;s[N].data=j6.buffer}}}if(iu.L9.Ej==1)if(I[2]!=1||I[6]!=1)for(var N=0;N<s.length;N++){var gK=s[N],aJ=new Uint8Array(gK.data),p=gK.Yu.m,H=gK.Yu.e,iG=I[0],dy=I[1],X=d.R(iG*dy*4);
d.r.Ga(aJ,p,H,X,I);gK.Yu=new ir(0,0,iG,dy);gK.data=X.buffer}return s};iu.L9.apK=function(E){if(window.confirm("Photopea found a "+fX.NU(E.length)+" MP4 video inside your image. Would you like to save it?",4e3)){fz.save(E.slice(0).buffer,"video.mp4")}};
iu.L9.aw7=function(E){var y=!0;for(var N=0;N<E.length;N+=4){y=y&&E[N]==E[N+1]&&E[N+1]==E[N+2]}return y};
iu.L9.Ej=0;iu.L9.cU=function(E,y,c){E=new Uint8Array(E);if(E[0]==255){var e=iu.L9.gH(E);if(e[195]==null){iu.L9.Ej++;
var p=iu.L9.xD(E,e,!1);iu.L9.Ej--;return p}var H=_.dT(E,e[195][0]+5),Z=_.dT(E,e[195][0]+7),X=UTIF.LosslessJpegDecode(E),b=Z*H,k=d.R(b*4);
for(var N=0;N<b;N++){var D=N<<2,j=D-N;k[D]=X[j];k[D+1]=X[j+1];k[D+2]=X[j+2];k[D+3]=255}return[{Yu:new ir(0,0,Z,H),data:k.buffer}]}else if(E[0]==0&&E[4]==48&&E[6]==1){var g=E,R=new PDFJS.Jbig2Image,t=[];
if(y)t.push({data:y,start:0,end:y.length});t.push({data:g,start:0,end:g.length});var X=R.parseChunks(t);
if(!c)for(var N=0;N<X.length;N++)X[N]=~X[N];var Z=_.q(E,11),H=_.q(E,15),w=Math.ceil(Z/8),B=d.R(Z*H*4);
for(var $=0;$<H;$++){var o=$*w;for(var T=0;T<Z;T++){var D=($*Z+T)*4,i=X[o+(T>>>3)]>>>7-(T&7)&1,r=i*255;
B[D]=r;B[D+1]=r;B[D+2]=r;B[D+3]=255}}return[{Yu:new ir(0,0,Z,H),data:B.buffer}]}else{var R=new PDFJS.JpxImage;
R.parse(E);var Z=R.width,H=R.height,I=R.tiles,M=R.componentsCount,J=new Uint8Array(Z*H*4),P=new ir(0,0,Z,H);
for(var R=0;R<I.length;R++){var n=I[R],x=n.width,L=n.height,u=x*L,C=n.items,h=new ir(n.left,n.top,x,L),A=new Uint8Array(u*4);
if(M==1)for(var N=0;N<u;N++){var W=C[N],D=N*4;A[D]=W;A[D+1]=W;A[D+2]=W;A[D+3]=255}else if(M==3)for(var N=0;
N<u;N++){var j=N*3,D=N*4;A[D]=C[j];A[D+1]=C[j+1];A[D+2]=C[j+2];A[D+3]=255}else if(M==4)A.set(C);else console.log("Unknown number of components: "+M);
d.E6(A,h,J,P)}return[{Yu:P,data:J.buffer}]}};iu.Sm={};iu.Sm.Jv=function(E,y,c,e){if(e==null)e=[70,!1,0,0,0];
var p=e[0]/100,w=0;if(E.length==1){var H=new Uint8Array(iu.I0(E[0][0],y,c,"webp",p));if(H.length<2e4){var Z=bS.ux(H.buffer),X=Z.sub;
for(var N=0;N<X.length;N++)if(X[N].pf=="ICCP"){var b=X[N];H=iu.Sj(H,b.z-8,b.size+8);_.nI(H,4,Z.size-(b.size+8));
break}}if(e[1]&&E[0][3]){var Z=bS.ux(H.buffer),X=Z.sub,k=X[0].z+X[0].size,D=E[0][3],j=new Uint8Array(UTIF.encode([kJ.NP(D)])),g=new Uint8Array(6+j.length);
_.bv(g,0,"Exif\0\0");g.set(j,6);var R=_.vx(kJ.Gy(D)),t=new Uint8Array(16+g.length+R.length);_.bv(t,0,"EXIF");
_.nI(t,4,g.length);t.set(g,8);var w=8+g.length;_.bv(t,w,"XMP\0");_.nI(t,w+4,R.length);t.set(R,w+8);var B=new Uint8Array(H.length+t.length);
B.set(new Uint8Array(H.buffer,0,k),0);B.set(t,k);B.set(new Uint8Array(H.buffer,k),k+t.length);H=B;_.nI(H,4,_.gT(H,4)+t.length)}return H.buffer}var $=_.cW,o=_.wR,T=new ek;
$(T,w,"RIFF    WEBPVP8X");w+=16;o(T,w,10);w+=4;o(T,w,18);w+=4;o(T,w,y-1);w+=3;o(T,w,c-1);w+=3;$(T,w,"ANIM");
w+=4;o(T,w,6);w+=4;T._Z(w,4);T.data[w+3]=255;_.Fk(T,w+4,e[3]);w+=6;var i=[];for(var N=0;N<E.length;N++){i.push(E[N][0])}var r=UPNG.encode.compress(i,y,c,p==1?0:Math.max(2,Math.floor(p*500)),[!1,!0,!0,0,!0]).frames;
function I(Z,Q,l,O){var u=Z.z-8,C=Z.size+8;l._Z(O,C);for(var N=0;N<C;N++)l.data[O+N]=Q[u+N];return O+C}for(var N=0;
N<E.length;N++){$(T,w,"ANMF");w+=4;var M=w,u=0,C=0;w+=4;var J=r[N],P=J.rect,n=[P.x>>>1,P.y>>>1,P.width-1,P.height-1,E[N][1]];
for(var x=0;x<5;x++)o(T,w+3*x,n[x]);w+=15;T._Z(w,1);T.data[w]=1-J.blend<<1|J.dispose;w++;var L=new Uint8Array(iu.I0(J.img.buffer,P.width,P.height,"webp",1)),X=bS.ux(L.buffer).sub,h={};
for(var A=0;A<X.length;A++)h[X[A].pf]=X[A];if(h.VP8L)w=I(h.VP8L,L,T,w);else throw"e";var W=w-M-4;o(T,M,W);
if((W&1)==1){T._Z(w,1);w++}}o(T,4,w-8);return T.data.slice(0,w).buffer};(function(){var E=iu.UO.get("wasm/webp").buffer;
WebAssembly.instantiate(E).then(function(y){var c=y.instance.exports;iu.Sm.exp=c})}());iu.Sm.cU=function(E){var y=new Uint8Array(E),c=iu.Sm.adj,e=null,p=bS.ux(E).sub,H={},Z=null;
for(var N=0;N<p.length;N++)H[p[N].pf]=p[N];if(H.EXIF){var X=H.EXIF,b=new Uint8Array(E,X.z+6,X.size-6),X=UTIF.decode(b)[0];
if(X)Z=kJ.wX(X)}if(H["XMP\0"]){var X=H["XMP\0"],b=new Uint8Array(E,X.z,X.size);if(Z==null)Z={};Z=kJ.xm(_.Uw(b),Z)}var k=H.ANIM,D=H.VP8L,g=H["VP8 "],R=H.VP8X;
if(k==null){var t,w;if(g){t=_.iH(y,g.z+6);w=_.iH(y,g.z+8)}else if(D){var B=_.gT(y,D.z+1);t=(B&(1<<14)-1)+1;
w=(B>>>14&(1<<14)-1)+1}else throw"e";var $=c(e,E,{z:0,size:y.length},t,w);$.Or=Z;return[$]}var o=R.z,t=1+(_.gT(y,o+4)&16777215),w=1+(_.gT(y,o+7)&16777215),T=[],i=new ir(0,0,t,w),r=d.R(t*w*4);
for(var N=0;N<p.length;N++){var I=p[N];if(I.pf!="ANMF")continue;var M=[];for(var J=0;J<5;J++)M.push(_.gT(y,I.z+J*3)&16777215);
var P=new ir(M[0]*2,M[1]*2,M[2]+1,M[3]+1),n=M[4],x=c(e,E,{z:I.z+16,size:I.size-16},t,w),L=new Uint8Array(x.data),u=y[I.z+15];
if(u>>>1==0)d.l.Io("norm",L,P,r,i,P,1);else d.E6(L,P,r,i);T.push({do:"_a_"+T.length+","+n,Yu:i.clone(),data:r.buffer.slice(0)});
if((u&1)==1){d.KT(L,0);d.E6(L,P,r,i)}}return T};iu.Sm.adj=function(E,y,c,e,p){var H=iu.Sm.exp,Z=H.memory,X=5e6+2*c.size+e*p*10;
iu.hI(H,X);var b=new Uint8Array(Z.buffer),k=H.malloc(c.size);b.set(new Uint8Array(y,c.z,c.size),k);var D=H.malloc(8),j=H.WebPDecodeARGB(k,c.size,D,D+4),g=_.gT(b,D),R=_.gT(b,D+4),t=g*R*4,w=d.R(t);
for(var N=0;N<t;N+=4){w[N]=b[j+N+1];w[N+1]=b[j+N+2];w[N+2]=b[j+N+3];w[N+3]=b[j+N]}H.WebPFree(j);H.free(D);
H.free(k);return{Yu:new ir(0,0,g,R),data:w.buffer}};iu.adp=function(){function E(X,b,k,D){var j=new Uint8Array(X[0][0]),g=new Uint32Array(j.buffer),R=[],t={},B=24,$=0,I=0;
for(var N=0;N<g.length;N++){var w=g[N]&16777215;if(t[w]==null){t[w]=R.length;R.push(w);if(R.length>256){R=null;
break}}}if(D&&D[0])R=null;if(R){B=1;while(1<<B<R.length)B*=2;if(B==2)B=4}var o={Pf:b,T4:k,xq:1,Ty:B,uj:0,a3o:$},T=4*Math.floor((o.Ty*o.Pf+31)/32);
o.size=T*o.T4+2;var i=new ek,r=R?(1<<B)*4:0;_.cW(i,I,"BM");I+=2;_.wR(i,I,T*k+16+40+r);I+=4;_.wR(i,I,0);
I+=4;_.wR(i,I,54+r);I+=4;i._Z(I,40);_.wR(i,I,40);I+=4;Z(i.data,I,o,T);I+=36;if(R){i._Z(I,r);var M=i.data;
for(var N=0;N<R.length;N++){var J=I+N*4,P=R[N]>>>16,n=R[N]>>>8&255,x=R[N]&255;M[J]=P;M[J+1]=n;M[J+2]=x}I+=r}i._Z(I,T*k);
if(B==24)for(var L=0;L<k;L++){var u=I+(k-1-L)*T;for(var C=0;C<b;C++){var h=(L*b+C)*4;i.data[u+C*3+2]=j[h];
i.data[u+C*3+1]=j[h+1];i.data[u+C*3+0]=j[h+2]}}else if(B==8)for(var L=0;L<k;L++){var u=I+(k-1-L)*T;for(var C=0;
C<b;C++){var h=L*b+C,A=t[g[h]&16777215];i.data[u+C]|=A}}else if(B==4)for(var L=0;L<k;L++){var u=I+(k-1-L)*T;
for(var C=0;C<b;C++){var h=L*b+C,A=t[g[h]&16777215];i.data[u+(C>>>1)]|=A<<4-(C&1)*4}}else if(B==1)for(var L=0;
L<k;L++){var u=I+(k-1-L)*T;for(var C=0;C<b;C++){var h=L*b+C,A=t[g[h]&16777215];i.data[u+(C>>>3)]|=A<<7-(C&7)}}I+=T*k+2;
return i.data.slice(0,I).buffer}function y(X){X=new Uint8Array(X);if(_.gT(X,0)==40)return[c(X.buffer,0)];
var b=0,k=_.xY(X,b,2);b+=2;if(k!="BM"){alert("Unsupported BMP format: "+k);return}var D=_.gT(X,b);b+=4;
b+=4;var j=_.gT(X,b);b+=4;return[c(X.buffer,b,j)]}function c(X,b,k){X=new Uint8Array(X);var D=_.gT(X,b),j=H(X,b+4);
if(j.xq!=1)alert("unsupported number of color planes: "+j.xq);if(j.uj!=0&&j.uj!=1&&j.uj!=2&&j.uj!=3){alert("Unsupported BMP compression: "+j.uj);
return}b+=D;var g=b,R=X;if(k==null)k=b;if(j.uj==1||j.uj==2){var t=p(X,k,j);j.Ty=8;X=t;k=0}var w=4*Math.floor((j.Ty*j.Pf+31)/32),B=j.Pf,$=Math.abs(j.T4),o=new Uint8Array(B*$*4);
o.fill(255);if(j.Ty==32)for(var T=0;T<$;T++){var i=k+($-1-T)*w;for(var r=0;r<B;r++){var I=(T*B+r)*4;
o[I]=X[i+r*4+2];o[I+1]=X[i+r*4+1];o[I+2]=X[i+r*4+0];o[I+3]=X[i+r*4+3]}}else if(j.Ty==24)for(var T=0;
T<$;T++){var i=k+($-1-T)*w;for(var r=0;r<B;r++){var I=(T*B+r)*4;o[I]=X[i+r*3+2];o[I+1]=X[i+r*3+1];o[I+2]=X[i+r*3+0]}}else if(j.Ty==16)for(var T=0;
T<$;T++){var i=k+($-1-T)*w;for(var r=0;r<B;r++){var I=(T*B+r)*4,M=X[i+r*2+1]<<8|X[i+r*2];o[I]=(M>>>11)*(255/31);
o[I+1]=(M>>>5&63)*(255/63);o[I+2]=(M&31)*(255/31)}}else if(j.Ty==8)for(var T=0;T<$;T++){var i=k+($-1-T)*w;
for(var r=0;r<B;r++){var I=(T*B+r)*4,J=X[i+r];o[I]=R[g+4*J+2];o[I+1]=R[g+4*J+1];o[I+2]=R[g+4*J+0]}}else if(j.Ty==4)for(var T=0;
T<$;T++){var i=k+($-1-T)*w;for(var r=0;r<B;r++){var I=(T*B+r)*4,J=X[i+(r>>1)];J=J>>4-4*(r&1);J=J&15;
o[I]=R[g+4*J+2];o[I+1]=R[g+4*J+1];o[I+2]=R[g+4*J+0]}}else if(j.Ty==1)for(var T=0;T<$;T++){var i=k+($-1-T)*w;
for(var r=0;r<B;r++){var I=(T*B+r)*4,P=X[i+(r>>3)];P=P>>7-(r&7);P=P&1;o[I]=R[g+4*P+2];o[I+1]=R[g+4*P+1];
o[I+2]=R[g+4*P+0]}}else throw"Unknown bit depth "+j.Ty;if(j.T4<0){var n=new Uint32Array(o.buffer),x=$>>>1;
for(var T=0;T<x;T++){var L=T*B,u=($-T-1)*B;for(var r=0;r<B;r++){var C=n[L+r];n[L+r]=n[u+r];n[u+r]=C}}}return{Yu:new ir(0,0,B,$),data:o.buffer}}function e(X,N){return X>>>4-((N&1)<<2)&15}function p(X,b,k){var D=k.Pf,j=Math.abs(k.T4),g=new Uint8Array(D*j),R=0,t=0,N=0;
while(t<j){var w=X[b++],B=X[b++],$=t*D+R;if(w>0){if(k.Ty==4)for(N=0;N<w;N++){g[$+N]=e(B,N)}else for(N=0;
N<w;N++){g[$+N]=B}R+=w}else if(w==0&&B==0){t++;R=0}else if(w==0&&B==1){break}else if(w==0&&B==2){R+=X[b++];
t+=X[b++]}else{var o=B;if(k.Ty==4){for(N=0;N<B;N++){g[$+N]=e(X[b+(N>>>1)],N)}o=Math.ceil(B/2)}else{for(N=0;
N<B;N++){g[$+N]=X[b+N]}}if((o&1)!=0)o++;b+=o;R+=B}}return g}function H(X,b){var k=_.ZE,D=_.gT,j=_.iH,g={};
g.Pf=k(X,b);b+=4;g.T4=k(X,b);b+=4;g.xq=j(X,b);b+=2;g.Ty=j(X,b);b+=2;g.uj=D(X,b);b+=4;g.size=D(X,b);b+=4;
var R=k(X,b);b+=4;var t=k(X,b);b+=4;g.a3o=D(X,b);b+=4;b+=4;return g}function Z(X,b,k,D){_.nI(X,b,k.Pf);
b+=4;_.nI(X,b,k.T4);b+=4;_.Jf(X,b,k.xq);b+=2;_.Jf(X,b,k.Ty);b+=2;_.nI(X,b,k.uj);b+=4;_.nI(X,b,k.size);
b+=4;_.nI(X,b,2834);b+=4;_.nI(X,b,2834);b+=4;_.nI(X,b,k.a3o);b+=4;b+=4}return{cU:y,Jv:E,a9M:c}}();iu.CN={};
iu.CN.Jv=function(E,y,c,e){if(e==null)e=[100,!1,0,0,0,0];var p=[],H=[],Z=y*c*4,w=null;for(var X=0;X<E.length;
X++){var b=new Uint8Array(E[X][0].slice(0));for(var N=0;N<Z;N+=4){var k=b[N+3]=b[N+3]>127?255:0;if(k==0)b[N]=b[N+1]=b[N+2]=0}p.push(b.buffer);
H.push(E[X][1])}var D=Math.round(2+254*e[0]/100),j=UPNG.encode.compress(p,y,c,D,[!0,!1,!1,8,!1,e[1]]),g=j.plte,R=new Uint8Array(4),t=new Uint32Array(R.buffer);
for(var N=0;N<g.length;N++){t[0]=g[N];var B=R[0];R[0]=R[2];R[2]=B;g[N]=t[0];if(t[0]==0)w=N}while(g.length<256)g.push(0);
var $=new Uint8Array(2e4+Math.round(1.5*y*c*E.length)),o=e[3],T={palette:g};if(o!=1)T.loop=o==0?0:o-1;
var i=new GifWriter($,y,c,T);for(var N=0;N<E.length;N++){var r=j.frames[N],I=r.rect,M=r.blend,J=r.dispose,P=Math.round(H[N]/10);
if(P<2)P=2;i.addFrame(I.x,I.y,I.width,I.height,r.img,{transparent:w,disposal:J+1,delay:P})}return $.slice(0,i.end()).buffer};
iu.CN.cU=function(E){var y=Date.now(),c=[],e=UGIF.decode(E),p=UGIF.toRGBA8(e),H=new ir(0,0,e.width,e.height);
for(var N=0;N<p.length;N++){var Z=e.frames[N];c.push({Yu:H.clone(),do:"_a_frm"+N+","+Z.delay*10,data:p[N]})}return c};
iu.d$={};iu.d$.Jv=function(E,y,c,e){if(y>256||c>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var p=Math.min(y,256),H=Math.min(c,256),Z=new ir(0,0,p,H),X=d.R(Z.P()*4),b=new ir(0,0,y,c),k=new Uint8Array(E[0][0]);
d.E6(k,b,X,Z);E[0][0]=X.buffer;y=p;c=H}var D=new Uint8Array(E[0][0]).slice(0),g=0;D[3]=Math.min(D[3],254);
var j=new ek,R=e&&e[0]==!0;_.Fk(j,g,0);g+=2;_.Fk(j,g,R?2:1);g+=2;_.Fk(j,g,1);g+=2;var t=new Uint8Array(UPNG.encode([D.buffer],y,c,null,null,null,!0));
j._Z(g,16);j.data[g]=y==256?0:y;g++;j.data[g]=c==256?0:c;g++;g+=2;_.Fk(j,g,R?Math.round(y/2):1);g+=2;
_.Fk(j,g,R?Math.round(c/2):32);g+=2;_.wR(j,g,t.length);g+=4;_.wR(j,g,6+16);g+=4;j._Z(g,t.length);j.data.set(t,g);
g+=t.length;return j.data.slice(0,g).buffer};iu.d$.cU=function(E){E=new Uint8Array(E);var y=4,c=_.iH(E,y);
y+=2;var e=[];for(var N=0;N<c;N++){var p=iu.d$.a47(E,y+N*16),H=E.buffer.slice(p.offset,p.offset+p.size),Z=iu.XS(H);
Z=Z?Z:"bmp";if(Z=="png"){var X=iu.sF(Z),b=X.cU(H);p.Zg=b[0]}else{var k=iu.sF("BMP").a9M(H,0),H=d.R(p.Pf*p.T4*4);
d.E6(new Uint8Array(k.data),new ir(0,0,k.Yu.m,k.Yu.e),H,new ir(0,p.T4,p.Pf,p.T4));k.data=H.buffer;k.Yu.e=p.T4;
p.Zg=k}e.push(p)}e.sort(function(D,j){if(D.Pf!=j.Pf)return D.Pf-j.Pf;return D.a8k-j.a8k});return[e.pop().Zg]};
iu.d$.a47=function(E,y){var c={};c.Pf=E[y];y++;if(c.Pf==0)c.Pf=256;c.T4=E[y];y++;if(c.T4==0)c.T4=256;
c.apG=E[y];y++;y++;c.aaL=_.iH(E,y);y+=2;c.a8k=_.iH(E,y);y+=2;c.size=_.gT(E,y);y+=4;c.offset=_.gT(E,y);
y+=4;return c};iu.re={};iu.re.cU=function(E){var y=Date.now(),e;if(d.raw._h(E.byteLength))return[d.raw.ast(E)];
var c=UTIF.decode(E);console.log(c);if(c[0].t33421)e=c[0];else if(c[0].subIFD&&c[0].t271&&c[0].t271[0]=="Hasselblad"){e=c[0].subIFD[0];
e.t33421=[2,2]}else if(c[0].subIFD&&c[0].subIFD[0].t33421){e=c[0].subIFD[0];if(e.t50706==null){if(e.t258[0]==8)e.t258[0]=12}}else if(c[0].subIFD&&c[0].subIFD[0]&&c[0].subIFD[0].t262&&c[0].subIFD[0].t262[0]==34892)e=c[0].subIFD[0];
else if(c[0].t50706)e=c[0];else if(c[0].subIFD&&c[0].subIFD[1]&&c[0].subIFD[1].t33421)e=c[0].subIFD[1];
else if(c[0].subIFD&&c[0].subIFD[2]&&c[0].subIFD[2].t33421)e=c[0].subIFD[2];else if(c[3]&&c[3].t50648){var p=c[0].exifIFD,H=p.makerNote;
e=c[3];var Z=H.t224[1],X=H.t224[2];e.t256=[Z];e.t257=[X];e.t258=[16];e.t259=[7];e.t262=[32803];e.t277=[1];
e.t33421=[2,2];var b=e.t50656[0],k=d.raw.n0[b];if(k==null)throw"e";e.t33422=k}else if(c[0].t1&&c[0].t1.length==4){var D=c[0],j={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},g=D.t280==null;
e={};for(var R in j)if(D["t"+R])e["t"+j[R]]=D["t"+R];e.t2=D.t2;e.t3=D.t3;e.t10=D.t10;e.t45=D.t45;e.t258=[16];
e.t33421=[2,2];var t=D.t9[0];if(g)t=2;e.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][t-1];var w=D.t4[0],B=D.t5[0],$=D.t6[0],o=D.t7[0];
e.t50829=[w,B,$,o];var T=D.t36[0],i=D.t37[0],r=D.t38[0];e.t50728=[i/T,i/i,i/r]}else if(c[0].t258&&c[0].t258[0]>=12&&c[0].t271&&(c[0].t271[0].startsWith("OLYMPUS")||c[0].t271[0].startsWith("OM Digital Solutions"))){e=c[0];
e.t33421=[2,2]}if(e){UTIF.decodeImage(E,e,c);for(var I in c[0])if((I[0]=="t"||I[0]=="e"||I[0]=="d")&&e[I]==null)e[I]=c[0][I];
e.Rp=c[0].t274?c[0].t274[0]:1;return[e]}var M=[];for(var N=0;N<c.length;N++){var J=c[N],P=null,A=72;
UTIF.decodeImage(E,J,c);if(J.t258&&J.t258[0]==16&&J.t277&&J.t277[0]==1){var n=0,x=0,L=0,u=J.data;for(var C=0;
C<u.length;C+=2){var h=u[C+1]<<8|u[C];if(h>n)n=h;x+=h;L++}P=1/256*65535/(.5*n+.5*(2*x/L))}var W=J.t282,Q=J.t296;
if(W!=null&&Q!=null){A=W[0][0]/W[0][1];if(Q[0]==3)A=Math.round(A/2.54)}if(J.width==null)continue;var l=UTIF.toRGBA8(J,P).buffer,O=kJ.wX(J);
console.log(J);M.push({Yu:new ir(0,0,J.width,J.height),data:l,$c:A,Or:O,dD:J.t34675?J.t34675.slice(0):null})}return M};
iu.re.Jv=function(E,y,c,e){if(e==null)e=[!1];var p={},H=E[0];if(H[3]!=null&&e[0])p=kJ.NP(H[3]);if(H[2]!=null){p.t282=p.t283=[[Math.round(H[2]),1]];
p.t296=[2]}return UTIF.encodeImage(H[0],y,c,p)};iu.aap={};iu.aap.cU=function(E){E=new Uint8Array(E);
var y=8,c,e=0;while(y<E.length){var p=_.xY(E,y,4),H=_.q(E,y+4);if(p.startsWith("ic")){var Z=E.slice(y+8,y+H),X=iu.XS(Z.buffer),b=iu.sF(X),k=b.cU(Z.buffer),D=k[0].Yu.P();
if(D>e){e=D;c=k}}y+=H}return c};iu.PU={};iu.PU.qg=!0;iu.PU.cU=function(E,y){bP.ux(E,y)};iu.PU.ar6=function(E,y,c,e){if(e==null)e=[!1,!1,!1,!1,!1];
if(!e[0])E.eA();var p=new ek,H=bP.sa(E,p,e);return[p.data.buffer,H]};iu.PU.Jv=function(E,y,c,e){var p=iu.PU.ar6(E,y,c,e),H=p[0],Z=p[1];
return H.byteLength==Z?H:H.slice(0,Z)};iu.N_={};iu.N_.qg=!0;iu.N_.cU=function(E,y){var c=pako.inflate(new Uint8Array(E)),e=_.dT(c,0),p=_.dT(c,2),H=4;
y.m=_.q(c,H);H+=4;y.e=_.q(c,H);H+=4;y.buffer=d.R(y.m*y.e*4);var Z=_.dT(c,H);H+=2;H+=4;for(var X=0;X<Z;
X++){var b=y.N8(),t=0,A=1,W=2,Q=3,l=0;y.B.push(b);var k=_.q(c,H);H+=4;var D=H,j=_.dT(c,D);D+=2;var g=_.Uw(c,D,j);
D+=j;b.v4(g);var R=c[D];D++;if(R!=0&&R!=1)throw R;b.rect.x=_.$G(c,D);D+=4;b.rect.y=_.$G(c,D);D+=4;b.rect.m=_.q(c,D);
D+=4;b.rect.e=_.q(c,D);D+=4;if(e>3){t=_.$G(c,D);D+=4}b.opacity=Math.round(255*c[D]/100);D++;var w=c[D];
D++;b.rP(w!=0);b.ur="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[c[D]];
D++;var B=c[D];D++;if(B)b.add.lspf=1<<31;if(e>3){var $=_.dT(c,D);D+=2;if($!=0){var o=JSON.parse(_.Uw(c,D,$));
D+=$;var T=o.text,i=o.textSettings,r=i.font,I=i.size,M=i.padding,J=parseInt(i.color.slice(1),16);b.add.lnsr="rend";
b.add.TySh=gV.V1(0,0);b.add.TySh.dz=new ir(0,0,100,100);var P=b.add.TySh.u=new jr,n=b.rect.m/2,x=b.rect.e/2;
P.translate(-n,-x);P.rotate(-t*Math.PI/180);P.translate(n,x);P.translate(b.rect.x+M,b.rect.y+M);var L=b.add.TySh.Ax;
gV.qz(L,1);gV.fF(L,[0,0,b.rect.m-M*2,b.rect.e]);gV.Y8(L,0,T);var u=gV.c$(L,0,1);u.na.FontSize=I;u.na.FillColor={Type:1,Values:[1,(J>>>16&255)/255,(J>>>8&255)/255,(J>>>0&255)/255]};
if(i.bold)r+="-Bold";gV.Wn(u,r);u.dV.Justification=["left","right","center"].indexOf(i.align);gV.gR(L,0,T.length,u)}}var C=_.q(c,D);
D+=4;if(C!=b.rect.P()*4){for(var N=b.rect.m;N>b.rect.m/2;N--){var h=C/(N*4);if(h==Math.round(h)){b.rect.m=N;
b.rect.e=h;break}}}b.buffer=d.R(b.rect.P()*4);if(e>3){A=0;W=1;Q=2;l=3}for(var N=0;N<C;N+=4){b.buffer[N]=c[D+N+A];
b.buffer[N+1]=c[D+N+W];b.buffer[N+2]=c[D+N+Q];b.buffer[N+3]=c[D+N+l]}D+=C;var O=_.q(c,D);D+=4;if(O==0&&e>3){H+=k;
continue}var z=c[D];D++;var a=_.dT(c,D);D+=2;if(O!=0){b.F=new jN.W$;b.F.rect=b.rect.clone();b.F.channel=d.R(b.rect.P());
for(var N=0;N<O;N+=4)b.F.channel[N>>>2]=c[D+N+1];D+=O}if(z!=0){var m=JSON.parse(cb.default);b.add.lmfx=m;
for(var N=0;N<cb.order.length;N++)m[cb.zt[N]]={t:"VlLs",v:[]};var q={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var N=0;N<z;N++){var K=_.dT(c,D),U=D+K+4,f=c.slice(D,U),Y=c[D+2];D+=3;var G=q[Y+""],V=JSON.parse(cb.Dn[G]);
m[cb.zt[G]].v.push({t:"Objc",v:V});if(G!=0){V.Md.v.BlnM=cg.KH("norm");V.Opct.v.val=c[D];D++;if(G==9||G==2){V.Dstn.v.val=c[D+1];
D+=2}else D+=2;V.blur.v.val=Math.round(c[D]*1.2);D++;if(G==9||G==2){V.uglg.v=!1;V.lagl.v.val=180-_.dT(c,D);
D+=2}V.Clr.v=d.L.hp({Z:c[D+1],D:c[D+2],J:c[D+3]})}else{V.hglM.v.BlnM=V.sdwM.v.BlnM=cg.KH("norm");D+=2;
var dF=c[D++],s=c[D++];V.blur.v.val=Math.round(Math.sqrt(s*dF)*1.3);V.srgR.v.val=Math.round(100*dF/s);
V.uglg.v=!1;V.lagl.v.val=180-_.dT(c,D);D+=2;V.hglO.v.val=c[D++];V.hglC.v=d.L.hp({Z:c[D+1],D:c[D+2],J:c[D+3]});
D+=4;V.sdwO.v.val=c[D++];V.sdwC.v=d.L.hp({Z:c[D+1],D:c[D+2],J:c[D+3]});D+=4}D=U}}if(D-H<k){var aH=_.q(c,D),hX=0;
D+=4;D++;var j=_.dT(c,D);D+=2;var T=_.Uw(c,D,j);D+=j;T=T.replace(/\r/g,"\n");var j=_.dT(c,D);D+=2;var r=_.Uw(c,D,j);
D+=j;var I=_.dT(c,D);D+=2;var dw=b.rect.x,kO=b.rect.m;if(aH&4)hX=1;if(aH&2)hX=2;var jF=Math.round(I*.4);
if(hX==0||hX==2)kO+=jF;if(hX==1||hX==2){kO+=jF;dw-=jF}b.add.lnsr="rend";b.add.TySh=gV.V1(0,0);b.add.TySh.dz=new ir(0,0,100,100);
b.add.TySh.u=new jr(1,0,0,1,dw,b.rect.y+I*.25);var L=b.add.TySh.Ax;gV.qz(L,1);gV.fF(L,[0,0,kO,b.rect.e]);
gV.Y8(L,0,T);var u=gV.c$(L,0,1);u.na.FontSize=I;u.na.FillColor={Type:1,Values:[1,c[D+1]/255,c[D+2]/255,c[D+3]/255]};
D+=4;if(c[D+5])r+="-Bold";if(c[D+6])r+="-Italic";gV.Wn(u,r);u.dV.Justification=hX;D+=8;gV.gR(L,0,T.length,u)}H+=k}};
iu.eb={};iu.eb.qg=!0;iu.eb.cU=function(E,y){var c=UZIP.parse(E),e=JSON.parse(_.Uw(c["manifest.json"].buffer));
y.m=e.width;y.e=e.height;y.buffer=d.R(y.m*y.e*4);y.name=e.name+".psd";var p=e.stack;for(var H=0;H<p.length;
H++){var Z=p[H],X=Z.type,b=Z.rect,k=Z.format,D=y.N8();D.v4(Z.name);D.rP(Z.visible);D.opacity=Math.round(255*Z.opacity);
var j=D.rect=new ir(b.x,b.y,b.w,b.h),g=b.r;if(g==null)g=0;y.B.push(D);if(X=="image"&&g!=0||X=="shape"&&k.variant=="svg"){var R=y.np(c[Z.content],D.getName(),0,0);
R.Gc=D.Gc;R.opacity=D.opacity;D=R;y.B.pop();y.B.push(D);var t=d.A.S6(j).j;d.A.u(t,iu.eb.V3(j,g),t);D.add.SoLd.Trnf=F.Y.Zd(t);
D.add.SoLd.nonAffineTransform=F.Y.Zd(t);D.an(y,!1)}else if(X=="image"){var w=c[Z.content].buffer,B=iu.XS(w),$=iu.sF(B),o=$.cU(w)[0];
j.m=o.Yu.m;j.e=o.Yu.e;D.buffer=new Uint8Array(o.data)}else if(X=="shape"){D.Gc|=16;var T=D.add.vstk=cb.CY.TL(!0),i=D.add.vmsk=new jN.pU,r;
D.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}};var I=k.variant,M=k.fill;if(I=="rectangle"||I=="rounded"){r=d.o.M1.Rect(j.x,j.y,j.m,j.e,k.radii)}else if(I=="ellipse"){r=d.o.M1.fM(j.x,j.y,j.m,j.e)}else if(I=="path"){var J=Typr.U.SVGToPath(Z.content),P={G:J.cmds,j:J.crds};
r=d.A.V2(P);var n=d.o.L$(r);d.o.dg(r,new jr(j.m/n.m,0,0,j.e/n.e,j.x,j.y))}else console.log(k);D.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}};
if(M.type=="color"){D.add.SoCo.Clr.v=d.L.hp(CSS.LF(M.value))}else if(M.type=="gradient"){delete D.add.SoCo;
var x=D.add.GdFl=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]),L=x.Grad.v;L.Intr.v=0;var u=[],C=M.value.stops;
for(var N=0;N<C.length;N++){var h=C[N],A=CSS.LF(h.color);u.push([h.position,[A.Z/255,A.D/255,A.J/255]])}d.L.Ll(u,L);
x.Angl.v.val=-(M.value.direction+g)+90+180}else console.log(M);var W=iu.eb.V3(j,g);d.o.dg(r,W);var Q=Z.style;
if(Q&&Q.outline){var l=Q.outline;T.strokeEnabled.v=!0;T.strokeStyleLineWidth.v.val=l.size;T.strokeStyleContent.v.Clr.v=d.L.hp(CSS.LF(l.color))}i.X=r;
D.m5();D.fP(y)}else if(X=="text"){D.add.lnsr="rend";D.add.TySh=gV.V1(0,0);D.add.TySh.dz=new ir(0,0,100,100);
var O=D.add.TySh.Ax;gV.qz(O,1);gV.fF(O,[0,0,j.m,j.e]);var z=Z.content;gV.Y8(O,0,z);var a=gV.c$(O,0,Math.min(z.length,1));
gV.Wn(a,k.font.name);var m=a.na.FontSize=Math.round(k.size);if(k.fill&&k.fill.value){var q=CSS.LF(k.fill.value);
a.na.FillColor={Type:1,Values:[1,q.Z/255,q.D/255,q.J/255]}}var K=k.linespace;if(K){a.na.AutoLeading=!1;
a.na.Leading=Math.round(m*(1.06+parseFloat(K)));console.log(K,a.na)}a.na.FauxBold=k.bold;a.dV.Justification=["left","right","center","justify"].indexOf(k.align);
gV.gR(O,0,z.length,a);D.add.TySh.u=new jr(1,0,0,1,j.x+Math.round(m*.1),j.y+Math.round(m*.1));D.rect=new ir}else console.log(Z)}y.kc=!0};
iu.eb.V3=function(E,y){var c=E.x+E.m/2,e=E.y+E.e/2,p=new jr;p.translate(-c,-e);p.rotate(-y*Math.PI/180);
p.translate(c,e);return p};iu.ax={};iu.ax.qg=!0;iu.ax.cU=function(E,y){gy.ux(E,y)};var gy=function(){function E(j,g){var R=Date.now(),t=UZIP.parse(j);
console.log(t);console.log(Date.now()-R);R=Date.now();var w=t["maindoc.xml"],B=new DOMParser,$=B.parseFromString(_.Uw(w),"image/svg+xml").children[0].children[0],o=$.getAttribute("name"),T=g.m=k($,"width"),i=g.e=k($,"height");
g.$c=Math.round(k($,"x-res"));var r=$.children[0].children;y(r,g,{mC:o,Ei:t,EE:null});console.log(Date.now()-R);
R=Date.now()}function y(j,g,R){for(var t=0;t<j.length;t++){var w=j[j.length-1-t],B=w.getAttribute("nodetype");
if(B=="transparencymask"){R.EE.F=D(w,R);continue}var $=w.getAttribute("compositeop"),o=w.getAttribute("filename"),T=w.getAttribute("channelflags"),i=w.children;
i=i.length==0?null:i[0].children;var r=g.N8();if(B=="paintlayer"){var I=k(w,"x"),M=k(w,"y"),J=R.Ei[R.mC+"/layers/"+o+".defaultpixel"],P=R.Ei[R.mC+"/layers/"+o],n=b(P);
r.rect=n[0];r.rect.offset(I,M);r.buffer=n[1];if(r.rect.tj()&&J.join()!="0,0,0,0"){r.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:J[0],D:J[1],J:J[2]})}};
r.fP(g)}}else if(B=="grouplayer"){r.add.lsct=kl.Sh;r.ur="pass";r.Gc|=24;g.B.push(g.eM());var x=R.EE;
R.EE=r;y(i,g,R);R.EE=x}else if(B=="shapelayer"){var P=R.Ei[R.mC+"/layers/"+o+".shapelayer/content.svg"],L=_.Uw(P),u=g.np(P,r.getName(),0,0);
r=u;var C=new ir(0,0,g.m,g.e),h=d.A.S6(C).j;r.add.SoLd.Trnf=F.Y.Zd(h);r.add.SoLd.nonAffineTransform=F.Y.Zd(h);
r.an(g,!1)}else if(B=="clonelayer"){var N=-1;for(var A=0;A<j.length;A++)if(j[A].getAttribute("name")==w.getAttribute("clonefrom"))N=A;
if(N!=-1){y([j[N]],g,R);r=g.B.pop()}}else console.log(B,w);r.v4(w.getAttribute("name"));if(k(w,"locked")==1)r.add.lspf=1<<31;
r.rP(k(w,"visible")==1);var W={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[$];if(W)r.ur=W;
else console.log($);r.opacity=k(w,"opacity");if(T=="1110")r.av=!0;var Q=i?i[0]:null;if(Q&&Q.tagName=="mask")r.F=D(Q,R);
g.B.push(r)}}function c(j,g){var R=0,t=0,w=j.length,B,$,o;while(R<w){B=j[R++];if(B>31){$=B>>>5;if($==7)$=7+j[R++];
o=(B&31)<<8|j[R++];var T=t-o-1,i=$>>>1;g[t++]=g[T++];g[t++]=g[T++];for(var N=0;N<i;N++){g[t++]=g[T++];
g[t++]=g[T++]}if(($&1)==1)g[t++]=g[T++]}else{for(var N=0;N<=B;N++){g[t++]=j[R++]}}}}function e(j,g){var R=0;
while(j[g+R]!=10)R++;return _.xY(j,g,R)}var p=new ir(0,0,64,64),H=new Uint8Array(64*64*4),Z=new Uint8Array(64*64*4);
function X(){for(var N=0;N<4096;N++){var j=N<<2;H[j+0]=Z[N+8192];H[j+1]=Z[N+4096];H[j+2]=Z[N];H[j+3]=Z[N+12288]}}function b(j){var g=0,R={};
for(var N=0;N<5;N++){var t=e(j,g);g+=t.length+1;t=t.split(" ");R[t[0]]=parseInt(t[1])}var w=R.PIXELSIZE,B=[],$=new ir;
while(g<j.length){var t=e(j,g),o=t.split(",");g+=t.length+1;if(o[2]!="LZF")throw o[2];p.x=parseInt(o[0]);
p.y=parseInt(o[1]);$=$.uN(p);var T=parseInt(o[3]);B.push([p.clone(),new Uint8Array(j.buffer,g+1,T-1)]);
g+=T}var i=d.R($.P()*w);for(var N=0;N<B.length;N++){var r=B[N];c(r[1],Z);if(w==4){X();d.E6(H,r[0],i,$)}else d.kh(Z,r[0],i,$)}return[$,i]}function k(j,g){return parseInt(j.getAttribute(g))}function D(j,g){var R=j.getAttribute("filename"),t=g.Ei[g.mC+"/layers/"+R+".pixelselection"],w=b(t),B=new jN.W$;
B.Z6=k(j,"visible")==1;B.rect=w[0];B.channel=w[1];return B}return{ux:E}}();iu.oD={};iu.oD.qg=!0;iu.oD.cU=function(E,y){gE.ux(E,y)};
iu.s0={};iu.s0.cU=function(E){var y=new Uint8Array(E),c=iu.s0.yb(y,0,0),e=c.sub[2],p=iu.s0.a4Q(y,e),H=c.sub[3],Z=iu.s0.a4Q(y,H);
return[p,Z]};iu.s0.a4Q=function(E,y){var c=y.sub[y.sub.length-1],e=c.sub[0].z,p=c.sub[1].z,H=E.slice(e,e+16),Z=E.slice(p,p+c.sub[1].size),X=_.gT,b=E[e],k=X(E,e+1),D=X(E,e+5),j=E[e+13],g=new ir(0,0,k,D),R=d.R(k*D*4);
if(j){new Uint32Array(R.buffer).fill(4278190080)}else{UTEX.readBC1(E,p,R,k,D)}return{Yu:g,data:R}};iu.s0.yb=function(E,y,c){var e=_.xY,p=_.gT,H=e(E,y,4);
H=H.split("").reverse().join("");var Z=p(E,y+4);if(Z!=0){console.log(E.slice(y-8));throw Z}var X=p(E,y+8);
while((X&3)!=0)X++;var b={pf:H,z:y+12,size:X};if(H=="CARF"||H=="CTEX"||H=="CREW"||H=="BMAP"){b.sub=[];
y+=12;if(H=="CTEX"||H=="CREW")y+=32;var k=b.z+b.size;while(y<k){var D=iu.s0.yb(E,y,c+1);b.sub.push(D);
y+=12+D.size+(D.size&1)}}return b};iu.Qe={};iu.Qe.qg=!0;iu.Qe.cU=function(E,y){ed.ux(E,y)};iu.RB={};
iu.RB.qg=!0;iu.RB.cU=function(E,y){jB.ux(E,y)};iu.jU={};iu.jU.qg=!0;iu.jU.cU=function(E,y){en.ux(E,y)};
iu.Jw={};iu.Jw.qg=!0;iu.Jw.cU=function(E,y){em.ux(E,y)};iu.hP={};iu.hP.qg=!0;iu.hP.cU=function(E,y){fy.ux(E,y)};
iu.xh={};iu.xh.qg=!0;iu.xh.Jv=function(E,y,c,e,p,H){if(e==null)e=[!0,!1,!1,!1,!0];var Z=iD.iF(E,{Vo:e[0],hidden:e[1],atK:e[2],ahI:e[3],YX:e[4],atN:y,aeW:c},p.UG,H);
return Z};iu.xh.cU=function(E,y,c){iD.ux(E,y,c)};iu.Wu={};iu.Wu.qg=!0;iu.Wu.cU=function(E,y){var c=150,e=new jr(1,0,0,-1,0,0);
e.scale(c/72,c/72);y.$c=c;var p=new af(y,e,!0);FromPS.Parse(E,p)};iu.c0={};iu.c0.qg=!0;iu.c0.Jv=function(E,y,c,e,p){if(e==null)e=["",100,!1,!1,!1,0,!1];
e[7]=["jpg"];var H=new ToPDF;fs.iF(E,e,H,p.UG,y,c);return H.buffer};iu.c0.cU=function(E,y,c){var e=2;
while(!0){var p=e*72,H=new jr(1,0,0,-1,0,0);H.scale(p/72,p/72);y.$c=p;var Z=new af(y,H,!0);FromPDF.Parse(E,Z);
var X=Math.max(y.m,y.e);if(c&&X<Math.max(c[0],c[1])){y.B=[];var b=e;while(X*(e/b)<Math.max(c[0],c[1]))e++}else break}};
iu.Sg={};iu.Sg.qg=!0;iu.Sg.cU=function(E,y){var c=72,e=new jr(1,0,0,1,0,0);e.scale(c/72,c/72);y.$c=c;
var p=new af(y,e,!1);FromWMF.Parse(E,p)};iu.Nu={};iu.Nu.Rs=!0;iu.Nu.qg=!0;iu.Nu.Jv=function(E,y,c,e,p){if(e==null)e=["",100,!1,!1,!1,0,!1];
e[7]=[];var H=new ToEMF;fs.iF(E,e,H,p.UG);return H.buffer};iu.Nu.cU=function(E,y){var c=72,e=new jr(1,0,0,1,0,0);
e.scale(c/72,c/72);y.$c=c;var p=new af(y,e,!1);FromEMF.Parse(E,p)};iu.T6={};iu.T6.qg=!0;iu.T6.cU=function(E,y){return gJ.ux(E,y)};
iu.aqY={};iu.aqY.cU=function(){var E,y,c,e,p,H,Z=0,X=0,b=0,k=0,D=0,o="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",T=null;
function j(i){var r=hH.ux(i),I=r.gV,L=0,u,C;console.log(r);var M=new Uint8Array(i);if(I=="ILBM")return g(r,M);
if(I=="CIMG")return w(r,M);if(I=="ANIM"&&r.sub[0].pf=="ADAT")return $(r,M);if(I!="ANIM")throw I;var J=_.dT,P=_.q,n=r.sub,x=g(n[0],M);
for(var h=1;h<n.length-2;h++){var A=x[Math.max(0,h-2)].a2_.slice(0),W=n[h];for(var Q=0;Q<W.sub.length;
Q++){var l=W.sub[Q],O=l.z;if(l.pf=="ANHD"){var z=M[O++];if(z!=5)throw z;var e=M[O++],a=J(M,O),m=J(M,O+2);
if(a!=0&&a!=E)throw a;if(m!=0&&m!=y)throw m;var q=J(M,O+4),K=J(M,O+6);if(q!=0||K!=0)throw q;O+=8;var U=J(M,O);
O+=2;u=J(M,O);O+=2;if(M[O++]!=0)throw"e";if(M[O++]!=0)throw"e";C=J(M,O);O+=2}else if(l.pf=="DLTA"){var f=[],Y=O;
for(var N=0;N<16;N++)f.push(P(M,O+N*4));O+=64;var G=H;for(var V=0;V<p;V++){if(f[V]==0)continue;O=Y+f[V];
for(var dF=0;dF<G;dF++){var s=M[O++],aH=0;if(s==0)continue;for(var N=0;N<s;N++){var dw=M[O++];if(dw==0){var kO=M[O++],hX=M[O++];
for(var jF=0;jF<kO;jF++){A[(aH*p+V)*G+dF]=hX;aH++}}else if(dw<128){aH+=dw}else{dw-=128;for(var jF=0;
jF<dw;jF++){A[(aH*p+V)*G+dF]=M[O+jF];aH++}O+=dw}}}}}else console.log(l.pf)}if(h==1&&u>100)u=0;var gn=u==0?17:Math.round((u-L)*1e3/60);
x.push({data:t(M,A).buffer,Yu:new ir(0,0,E,y),a2_:A,do:"_a_frm"+h+","+gn});L=u}if(b!=0&&E>y*2){var hM=new Uint32Array(E*y*2);
hM.fill(4294967295);for(var h=0;h<x.length;h++){var ie=x[h],bN=new Uint32Array(ie.data);for(var aH=0;
aH<y;aH++){var kd=aH*2;for(var dF=0;dF<E;dF++)hM[kd*E+dF]=bN[aH*E+dF];kd++;for(var dF=0;dF<E;dF++)hM[kd*E+dF]=bN[aH*E+dF]}ie.Yu.e*=2;
ie.data=hM.slice(0).buffer}}return x}function g(i,r){var I,M,J;Z=0;X=0;k=0;D=0;b=0;for(var P=0;P<i.sub.length;
P++){var n=i.sub[P],x=n.z;if(n.pf=="BMHD"){var L=[];for(var N=0;N<4;N++)L[N]=_.dT(r,x+2*N);x+=8;var u=L[2],C=L[3];
E=L[0];y=L[1];c=r[x++];e=r[x++];J=r[x++];if(J!=0&&J!=1)throw J;H=E+15>>>4<<1;p=c+e}else if(n.pf=="CMAP")Z=x;
else if(n.pf=="CAMG"){var h=_.q(r,x);X=h&32768,b=h&4,k=h&2048;D=h&128}else if(n.pf=="BODY"){M=d.R(H*y*p);
if(J==0)M=r.slice(x,x+M.length);if(J==1)eH.l4(r,x,n.size,M,0,M.length)}else if(n.pf=="PLTP"){console.log(r.slice(x,x+n.size))}}I=t(r,M);
return[{Yu:new ir(0,0,E,y),data:I.buffer,a2_:M}]}function R(i,j1){return i[j1>>>3]>>>7-(j1&7)&1}function t(i,r){var I=c-2,M=(1<<I)-1,J=Math.round(255/M),P,n,x,L=H*8;
if(Z!=0){var u=1<<c,C=!0;for(var N=1;N<u;N++){var h=Z+N*3;if(i[h]!=i[h-3]||i[h+1]!=i[h-2]||i[h+2]!=i[h-1]&&i[h+2]!=i[h-1]+1)C=!1}if(C){for(var N=0;
N<u;N++){var h=Z+N*3,A=Math.round(N*255/(u-1));i[h]=i[h+1]=i[h+2]=A}}}var W=d.R(E*y*4);for(var Q=0;Q<y;
Q++)for(var l=0;l<E;l++){var O=0;for(var z=0;z<p;z++){var a=(Q*p+z)*L+l,m=R(r,a);O|=m<<z}O=O&(1<<c)-1;
var N=Q*E+l,q=N<<2;if(Z!=0){if(k!=0&&O>>>I!=0){var K=O>>>I,U=(O&M)*J;if(K==1)x=U;else if(K==2)P=U;else if(K==3)n=U}else{var U=Z+O*3;
P=i[U+0];n=i[U+1];x=i[U+2]}}else{if(c==24){P=O>>>0&255;n=O>>>8&255;x=O>>>16&255}else if(c==16){var f=0,Y=1,V=4;
for(var z=0;z<16;z++)f+=(O>>>z&1)<<15-z;var G=(1<<Y)-1,dF=(1<<V)-1;P=(f>>>7&G)*(255/G);n=x=P}else throw c}W[q+0]=P;
W[q+1]=n;W[q+2]=x;W[q+3]=255}return W}function w(i,r){var I=1,M=2,J=4,P=_.q,n=_.dT,E=200,y=200,x,L,u,C;
for(var h=0;h<i.sub.length;h++){var A=i.sub[h],W=A.z;if(A.pf=="TBHD"){E=P(r,W);W+=4;y=P(r,W);W+=4;C=d.R(E*y*4);
u=new ir(0,0,E,y);W+=4;var Q=P(r,W);W+=4;var l=n(r,W);W+=2;if(l!=0)throw"e";L=n(r,W);W+=2;var O=P(r,W);
W+=4;if(O!=1)throw O;x=0;if(Q&I)x+=3;if(Q&M)x+=1}if(A.gV=="TBMP"){var z=A.sub;for(var a=0;a<z.length;
a++){var m=z[a].z,q=z[a].size,K=n(r,m),U=n(r,m+2),f=n(r,m+4)-K+1,Y=n(r,m+6)-U+1;m+=8;var G=d.R(f*Y*4),V=d.R(f*Y);
G.fill(255);for(var N=0;N<4;N++){m=B(r,m,q-8,V,0);d.Og(V,G,3-N)}if(m!=z[a].z+q)throw"e";d.E6(G,new ir(K,U,f,Y),C,u)}}}return[{Yu:u,data:C.buffer}]}function B(i,r,I,M,J){var P=r;
while(J<M.length){var n=i[r++],iI=(n&127)+1;if(n&128){n=i[r++];for(var N=0;N<iI;++N)M[J++]=n}else{for(var N=0;
N<iI;++N)M[J++]=i[r++]}}return r}function $(i,r){if(T==null){var I=iu.ZM(o);T=new Uint32Array(pako.inflate(new Uint8Array(I)).buffer)}var M=_.q,J=_.dT,P=i.sub[0],n=i.sub[1],E=J(r,P.z),y=J(r,P.z+2),x=J(r,P.z+4),A,N,W,Q,l,O;
if(x!=3)throw x;var L=new ir(0,0,E,y),u=d.R(E*y*4),C=d.R(E*y);u.fill(255);var h=new Uint32Array(u.buffer),z=n.z;
for(Q=0;Q<2;Q++){O=Q;l=0;A=Math.floor((E*y+2-Q-1)/2);while(A>0){N=r[z++];if(N&128){N=257-N;A-=N;W=r[z++];
l=l&T[W]|T[W+256];do{h[O]=l;O+=2}while(--N)}else{N++;A-=N;do{W=r[z++];h[O]=l=l&T[W]|T[W+256];O+=2}while(--N)}}}for(var N=0;
N<u.length;N+=4){var a=u[N+3],m=u[N+2],q=u[N+1];u[N]=a;u[N+1]=m;u[N+2]=q;u[N+3]=255}for(var K=0;K<y>>>1;
K++){for(var U=0;U<E;U++){var N=K*E+U,W=(y-1-K)*E+U,f=h[N];h[N]=h[W];h[W]=f}}return[{Yu:L,data:u.buffer}]}return j}();
iu.TB={};iu.TB.qg=!1;iu.TB.Jv=function(E,y,c,e){var p=E[0][4],H=new Uint8Array(E[0][0]),Z=2,X=p?!0:!1,b=X?4:3,k=new Uint8Array(y*c*b);
for(var D=0;D<c;D++)for(var j=0;j<y;j++){var g=D*y+j<<2,R=((c-D-1)*y+j)*b;k[R]=H[g+2];k[R+1]=H[g+1];
k[R+2]=H[g+0];if(X)k[R+3]=p[0][D*y+j]}if(!0){var t=k.length,w=0,B=new Uint8Array(t*2),$=0,o=0,T=y*b;
while(o<t){var i=o,r=0,I=T*(Math.floor(o/T)+1);while(i<I&&r<128){var M=!0;for(var N=0;N<b;N++)M=M&k[o+N]==k[i+N];
if(!M)break;i+=b;r++}if(r==1){var J=1;while(J<128&&o+(J+1)*b<I){var M=!0,P=o+J*b;for(var N=0;N<b;N++)M=M&k[P+N]==k[P+b+N];
if(M)break;J++}B[$++]=J-1;for(var n=0;n<J;n++)for(var N=0;N<b;N++)B[$++]=k[o++]}else{B[$++]=127+r;for(var N=0;
N<b;N++)B[$+N]=k[o+N];$+=b;o+=b*r;w+=r}}k=B.slice(0,$);Z+=8}var x=new Uint8Array(18+k.length+26);x[2]=Z;
_.Jf(x,12,y);_.Jf(x,14,c);x[16]=b*8;x[17]=b==4?8:0;x.set(k,18);_.bv(x,18+k.length+8,"TRUEVISION-XFILE.");
return x.buffer};iu.TB.cU=function(E){var y=new Uint8Array(E),c=0,e=y[0],p=y[1],H=y[2],Z=y[4]*256+y[3],X=y[6]*256+y[5],b=y[7],k=y[9]*256+y[8],D=y[11]*256+y[10],j=y[13]*256+y[12],g=y[15]*256+y[14],R=y[16],t=y[17],w=t>>>4,B=_.xY(y,18,e),$=d.R(j*g*4),c=18+e+(X*b>>>3),o=new Uint8Array(y.buffer,c);
if(H>3){var T=0,i=y,r=new Uint8Array(j*g*R>>>3),I=c,M=0,J=y.length,P=R>>>3;while(M<r.length){var j1=i[I];
I++;if(j1<128)for(var N=0;N<j1+1;N++){for(var n=0;n<P;n++){r[M]=i[I];M++;I++}}else{for(var N=0;N<j1-127;
N++){for(var n=0;n<P;n++){r[M]=i[I+n];M++}}I+=P}}H-=8;o=r;c=I}else c+=j*g*R>>>3;var x=new Uint8Array(4),L=iu.TB.aqD;
for(var u=0;u<g;u++)for(var C=0;C<j;C++){var h=(w&2)==0?(g-u-1)*j+C:u*j+C,A=u*j+C,W,Q,l,O=255,z=h*R>>>3;
if(H==1){var a=0;if(R==8)a=o[z];else throw"e";L(y,18+e+Z+(a*b>>>3),b,x);W=x[0];Q=x[1];l=x[2];O=x[3]}else if(H==2){L(o,z,R,x);
W=x[0];Q=x[1];l=x[2];O=x[3]}else if(H==3){if(R==8)W=Q=l=o[z];else throw"e"}var m=A*4;$[m]=W;$[m+1]=Q;
$[m+2]=l;$[m+3]=O}var x={Yu:new ir(0,0,j,g),data:$.buffer,do:B};if(d.Oi($)){var q=d.R(j*g);d.LI($,q,3);
d.KT($,4278190080,16777215);x.cB=[q]}return[x]};iu.TB.aqD=function(E,y,c,e){var p,H,Z,X=255;if(c==24||c==32){Z=E[y];
H=E[y+1];p=E[y+2];if(c==32)X=E[y+3]}else if(c==16){var b=E[y+1]<<8|E[y+0];p=b>>>10&31;H=b>>>5&31;Z=b>>>0&31;
p=Math.round(p*(255/31));H=Math.round(H*(255/31));Z=Math.round(Z*(255/31))}else throw"e";e[0]=p;e[1]=H;
e[2]=Z;e[3]=X};iu.a4o=function(){var E,y=[],c=!1;function e(Z,X,b,k){E=b;y.push(Z,k);p()}function p(){if(c||y.length==0)return;
c=!0;iu.aCH(y.shift(),"image/avif",H)}function H(Z){E(null,[Z],y.shift());c=!1;p()}return{qg:!1,ni:!0,cU:e}}();
iu.amY=function(){var E,y=[],c=!1,e,p,H,Z=10,X,b,k,D=0,g;function j(T,i,r,I,M){E=r;y.push(T,I);var J=hD.ux(T),P=hD.akm(J,"vide"),n=P.tkhd,x=P.mdia.minf.stbl,L=n.duration/J.moov.mvhd.L3,u=x.stsz.length,C=Math.round(u/L);
console.log(J);e=n.Pf;p=n.T4;var h=e+" \xD7 "+p+" px, "+u+" frames, "+fX.NU(e*p*4*u)+" decoded<br/>";
h+=L.toFixed(2)+" seconds, "+C+" FPS";var A=new iU(S.E.M,!0);A.data={d:S.H.Q5,ym:"setFPS",v5:Z,UT:w,a32:h};
M.T(A)}async function R(){if(c||y.length==0)return;c=!0;var T=y.shift(),i=hD.ux(T),r=hD.akm(i,"vide"),I=r.tkhd,M=r.mdia.minf.stbl,J=M.stsd.aDT.avcC,P=I.duration/i.moov.mvhd.L3,n=M.stsz.length,x=Math.round(n/P),L=Math.max(1,Math.round(x/Z)),u=M.stsd.Gx,A=0;
console.log(u);if(["hvc1","hev1","apcn"].indexOf(u)!=-1)alert(u.toUpperCase()+" codec not supported");
g=Date.now();e=I.Pf;p=I.T4;H=[];X=document.createElement("canvas");b=X.getContext("2d");X.width=e;X.height=p;
var C=new Uint8Array(T),h=[];if(M.stsd.Gx=="raw "){for(var W=0;W<n;W++){var Q=e*p;if(A%L==0){var l=hD.a5l(i,"vide",W),O=new Uint8Array(T,l[0],l[1]),z=d.R(e*p*4);
z.fill(255);for(var N=0;N<Q;N++){var a=N*4,m=N*3;z[a]=O[m];z[a+1]=O[m+1];z[a+2]=O[m+2]}var q=H.length;
H[q]={do:"_a_"+q+","+Math.round(L*1e3/x),Yu:new ir(0,0,e,p),data:z}}A++}t();return}var K=new VideoDecoder({output:function(Y){if(A%L==0){b.drawImage(Y,0,0);
Y.close();var z=b.getImageData(0,0,e,p).data.buffer,q=H.length;H[q]={do:"_a_"+q+","+Math.round(L*1e3/x),Yu:new ir(0,0,e,p),data:z}}else Y.close();
clearTimeout(D);D=setTimeout(t,100);A++},error:function(Y){console.log(Y.message)}}),U={codec:"vp09.00.10.08",codedWidth:e,codedHeight:p};
if(J){U.codec="avc1.640034";U.description=C.slice(J.z,J.z+J.wK)}K.configure(U);for(var N=0;N<n;N++){var l=hD.a5l(i,"vide",N),O=new Uint8Array(T,l[0],l[1]),f=new EncodedVideoChunk({timestamp:N,duration:1e3,type:N==0?"key":"delta",data:O});
K.decode(f)}await K.flush()}function t(){E(null,H,y.shift());c=!1;console.log(Date.now()-g);R()}function w(T){Z=Math.max(1,Math.min(60,T));
if(window.VideoDecoder)R();else B()}function B(){if(c||y.length==0)return;c=!0;X=document.createElement("canvas");
b=X.getContext("2d");k=document.createElement("video");var T="data:"+"video/mp4"+";base64,"+iu.al(y.shift());
k.src=T;k.muted=!0;k.currentTime=0;k.addEventListener("canplay",$,!1);k.addEventListener("timeupdate",o,!1)}function $(T){k.removeEventListener("canplay",$);
e=X.width=k.videoWidth;p=X.height=k.videoHeight;H=[];k.play()}function o(T){clearTimeout(D);b.drawImage(k,0,0);
H.push({do:"_a_"+H.length+","+Math.round(1e3/Z),Yu:new ir(0,0,e,p),data:b.getImageData(0,0,e,p).data.buffer});
var i=k.currentTime+1/Z;if(i<k.duration&&T){k.currentTime=i;D=setTimeout(o,1e3)}else{E(null,H,y.shift());
k.removeEventListener("timeupdate",o);c=!1;B();H=null}}return{qg:!1,ni:!0,cU:j}}();iu.amY.Jv=function(){var E,y,c,e,p,H,Z=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],X=40,b,k,D,j,g,R;
function t(u,C){if(!p&&C){if(C.description){p=C.description}if(C.decoderConfig&&C.decoderConfig.description){p=C.decoderConfig.description}}var h=new ArrayBuffer(u.byteLength);
u.copyTo(h);w(h);c.push({duration:u.duration,timestamp:u.timestamp,type:u.type,byteLength:u.byteLength});
if(u.type=="key"){e.push(c.length)}}function w(u){var C=new Uint8Array(H.byteLength+u.byteLength);C.set(new Uint8Array(H));
C.set(new Uint8Array(u),H.byteLength);H=C.buffer}function B(u){return new Uint8Array([u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)]).buffer}function $(u){var C=new Uint32Array([u]),h=new Uint8Array(C.buffer);
return new Uint8Array([h[3],h[2],h[1],h[0]])}function o(u){g[j]=u;++j}function T(u){g[j]=u>>8&255;g[j+1]=u&255;
j+=2}function i(u){g[j]=u>>16&255;g[j+1]=u>>8&255;g[j+2]=u&255;j+=3}function r(u){g[j]=u>>24&255;g[j+1]=u>>16&255;
g[j+2]=u>>8&255;g[j+3]=u&255;j+=4}function I(u){D.push(j);j+=4;M(u)}function M(u){for(var N=0;N<u.length;
++N){g[j]=u.charCodeAt(N);++j}}function J(u){g.set(new Uint8Array(u),j);j+=u.byteLength}function P(){var u=j;
j=D.pop();r(u-j);j=u}function n(){D=[];var u=[],C={},h=9e4,A=c.length,W=e.length,Q=-1;for(var N=0;N<c.length;
++N){b+=c[N].duration/1e3;k+=c[N].byteLength;if(c[N].duration!=Q){if(N!=0){u.push(C)}Q=c[N].duration;
C={duration:9e4*c[N].duration/1e6,sampleCount:1}}else{C.sampleCount=C.sampleCount+1}}k+=8;u.push(C);
var l=u.length,O=579+p.byteLength+4*A+4*A+4*W+8*l;g=new Uint8Array(O);j=0;I("moov");I("mvhd");r(0);r(0);
r(0);r(1e3);r(b);r(65536);T(256);T(0);r(0);r(0);r(65536);r(0);r(0);r(0);r(65536);r(0);r(0);r(0);r(1073741824);
r(0);r(0);r(0);r(0);r(0);r(0);r(2);P();I("trak");I("tkhd");r(7);r(0);r(0);r(1);r(0);r(b);r(0);r(0);T(0);
T(0);T(256);T(0);r(65536);r(0);r(0);r(0);r(65536);r(0);r(0);r(0);r(1073741824);r(E*65536);r(y*65536);
P();I("mdia");I("mdhd");r(0);r(0);r(0);r(h);r(b/1e3*h);o(85);o(196);T(0);P();I("hdlr");r(0);r(0);M("vide");
r(0);r(0);r(0);M("VideoHandler");o(0);P();I("minf");I("vmhd");r(1);T(0);T(0);T(0);T(0);P();I("dinf");
I("dref");r(0);r(1);I("url ");r(1);P();P();P();I("stbl");I("stsd");r(0);r(1);I("avc1");T(0);T(0);T(0);
T(1);T(0);T(0);r(0);r(0);r(0);T(E);T(y);r(4718592);r(4718592);r(0);T(1);for(var N=0;N<8;++N){r(0)}T(24);
T(-1);I("avcC");J(p);P();P();P();I("stts");r(0);r(l);for(var N=0;N<l;++N){r(u[N].sampleCount);r(u[N].duration)}P();
I("stsc");r(0);r(1);r(1);r(1);r(1);P();I("stsz");r(0);r(0);r(A);for(var N=0;N<A;++N){r(c[N].byteLength)}P();
I("stco");r(0);r(A);var z=X;for(var N=0;N<A;++N){r(z);z+=c[N].byteLength}P();I("stss");r(0);r(W);for(var N=0;
N<W;++N){r(e[N])}P();P();P();P();P();P();return}function x(u,C,h){var A=new Uint8Array(E*y*4),W=new Uint8Array(u),Q=C?E-1:E,l=h?y-1:y;
if(C){for(var N=0;N<l;++N){A.set(W.slice(4*N*Q,4*N*Q+4*Q),4*N*E);A[4*(N+1)*E-4]=W[4*(N+1)*Q-4];A[4*(N+1)*E-3]=W[4*(N+1)*Q-3];
A[4*(N+1)*E-2]=W[4*(N+1)*Q-2];A[4*(N+1)*E-1]=W[4*(N+1)*Q-1]}if(h){A.set(A.slice(4*E*l-4*E,4*E*l),4*E*l)}}else if(h){A.set(W);
A.set(W.slice(4*Q*l-4*Q),4*Q*l)}return A.buffer}async function L(u,C,h,A){var W=Date.now(),Q=!1,l=!1,f=0;
if(C%2!=0){Q=!0;E=C+1}else{E=C}if(h%2!=0){l=!0;y=h+1}else{y=h}p=null;e=[];c=[];b=0;k=0;H=new Uint8Array;
w(new Uint8Array(Z));w($(0).buffer);w(B("mdat"));var O=new VideoEncoder({output:(chunk,opts)=>t(chunk,opts),error:b4=>{console.log(b4)}}),z=.02*(1+Math.pow(3.2*A[0]/100,2.3)),a=z*E*y,m=a*u.length,q=Math.round(a*24),K={width:E,height:y,codec:"avc1.420034",bitrate:q},U=await VideoEncoder.isConfigSupported(K);
console.log(U);if(U.supported==!1){console.log("Encoding not supported. Config: ",U.config);return new Uint8Array(0).buffer}O.configure(K);
for(var N=0;N<u.length;++N){var Y=u[N][1]*1e3,G=u[N][0];if(l||Q){G=x(u[N][0],Q,l)}var V=new VideoFrame(G,{timestamp:f,duration:Y,format:"RGBA",codedWidth:E,codedHeight:y});
O.encode(V);V.close();f+=Y}await O.flush();n();R=new Uint8Array(H.byteLength+g.byteLength);R.set(new Uint8Array(H),0);
R.set($(k),X-8);R.set(g,H.byteLength);var dF=Date.now();console.log(dF-W);return R.buffer}return L}();
iu.sd={};iu.sd.cU=function(E){var y=new Uint8Array(E),c=0,e=112,p=42,H=_.gT,D;c+=8;var Z=y[c];c++;if(Z!=p)throw"e";
var X=H(y,c);c+=4;var b=_.GL(y,c,X);c+=X*2;var k=[];while(c<y.length){D=H(y,c);c+=4;if(D!=e)throw D;
c+=4;D=y[c];c++;if(D!=p)throw D;var j=H(y,c);c+=4;var g=y[c];c++;if(g!=p){c-=5;j=H(y,c);c+=8;D=y[c];
c++;if(D!=p)throw D}var R=H(y,c)*2;c+=4;if(j>0)k.push(c+R);c+=R+j}var t=new DOMParser,w=t.parseFromString(b,"image/svg+xml").firstChild.firstChild,B=[];
iu.sd.ahL(w,y,k,B);return B};iu.sd.ahL=function(E,y,c,e){var p=E.firstChild.firstChild;if(p.tagName=="Image"){var H=p.getElementsByTagName("ImageDescription")[0],Z=H.children[0].children,X=H.children[1].children,b=c.shift(),k=[];
for(var N=0;N<X.length;N++)k.push(parseInt(X[N].getAttribute("NumberOfElements")));while(k.length>3)k[2]*=k.pop();
var D=Z.length,j=k[0],g=k[1],R=k[2],t=parseInt(X[0].getAttribute("BytesInc"));for(var w=0;w<R;w++){var B=d.R(j*g*4);
d.KT(B,4278190080);for(var $=0;$<D;$++){var o=d.R(j*g);if(t==1)for(var T=0;T<o.length;T++)o[T]=y[b+T];
else if(t==2)for(var T=0;T<o.length;T++)o[T]=Math.min(255,(y[b+T*2+1]<<8|y[b+T*2])>>>2);else throw t;
if($!=3)d.Og(o,B,$);if(D==1){d.Og(o,B,1);d.Og(o,B,2)}b+=j*g*t}e.push({Yu:new ir(0,0,j,g),data:B.buffer})}}else{var i=E.children,r=0;
while(r<i.length&&i[r].tagName!="Children")r++;if(r==i.length)throw"e";i=i[r].children;for(var I=0;I<i.length;
I++)iu.sd.ahL(i[I],y,c,e)}};iu.awF=function(){function E(Z,X,b,k,D){var j=new Int8Array(Z.buffer),g=new Int8Array(k.buffer),R=X+b;
while(X<R){var j1=j[X];X++;if(j1>=0&&j1<128)for(var N=0;N<j1+1;N++){g[D]=j[X];D++;X++}if(j1>=-127&&j1<0){for(var N=0;
N<-j1+1;N++){g[D]=j[X];D++}X++}}return D}function y(Z,X,b,k,D,j){var g=X*b*k>>>3,R=d.R(g*D),t=e(Z,0,0,0)[0];
for(var w=0;w<D;w++){var B=t[w+1];if(j){var $=iu.sF("jpg").cU(B.buffer),o=d.R(g);d.DU(new Uint8Array($[0].data),o);
R.set(o,g*w)}else if(B[0]==255&&B[1]==216&&B[2]==255){var T=UTIF.LosslessJpegDecode(B);R.set(new Uint8Array(T.buffer),g*w)}else E(B,64,B.length,R,g*w)}return R}function c(Z){var X=new Uint8Array(Z),b=0,k=_.xY(X,0,128);
b+=128;var D=_.xY(X,b,4);b+=4;var j=p(X,b,0)[0],g=j.g28;if(g==null){alert("No image.");return[]}var R=g.cols,t=g.rows,w=R*t,B=g.photoInterpret,$=g.bitsAlloc,o=g.bitsStored,T=g.lossyCompr;
if(T==null)T=j.g8.lossyCompr;var i=j.g7fe0.pixelData,r=g.numOfFrames;r=r?parseInt(r):1;var I=new Uint8Array(i.buffer),M=w*$>>>3;
if(I.length!=M*r){i=y(i,R,t,$,r,T)}else{}if($==16)i=new Uint16Array(i.buffer);console.log(g);console.log(j);
var J=[];for(var P=0;P<r;P++){var n=P*M,Z=d.R(R*t*4);Z.fill(255);if(B=="MONOCHROME2"){var x=0,L=255,u=g.largestValue,C=g.smallestValue;
if(u!=null){L=u;x=C}else if(o!=8){L=0;x=1e9;for(var N=0;N<w;N++){var h=i[n+N];if(h>1<<o-8){if(h>L)L=h;
if(h<x)x=h}}}var A=255/(L-x);for(var N=0;N<w;N++){var h=Math.max(0,Math.min(255,(i[n+N]-x)*A)),W=N*4;
Z[W]=Z[W+1]=Z[W+2]=h}}else if(B=="PALETTE COLOR"){var Q=g.pltRed,l=g.pltGreen,O=g.pltBlue;for(var N=0;
N<w;N++){var z=i[n+N],W=N*4;Z[W]=Q[z]>>>8;Z[W+1]=l[z]>>>8;Z[W+2]=O[z]>>>8}}else throw B;J.push({Yu:new ir(0,0,R,t),data:Z.buffer})}return J}function e(Z,X,b,k){if(b==0)b=Z.length;
var D=_.iH,j=_.BP,g=_.gT,R=[],t=X;while(X<b){var w=D(Z,X);X+=2;var B=D(Z,X);X+=2;var $=g(Z,X);X+=4;if(w==65534&&B==57344){if($==4294967295){var o=p(Z,X,k+1);
R.push(o[0]);X=o[1]}else{R.push(Z.slice(X,X+$));X+=$}}else if(w==65534&&B==57357){}else if(w==65534&&B==57565)break;
else throw"e"}return[R,X]}function p(Z,X,b){var k=_.iH,D=_.BP,j=_.gT,g={},R="\t".repeat(b);while(X<Z.length){var t=k(Z,X),o="",T=0,r=null;
X+=2;var w=k(Z,X);X+=2;var B=t.toString(16),$=w.toString(16);if(t==65532)break;if(t==65534&&w==57357){X-=4;
break}if(t==65534&&w==57565)throw"e";if(w==0){X+=8;continue}if(65<=Z[X+1]){o=_.xY(Z,X,2);X+=2;if(o=="OB"||o=="SQ"||o=="OW"){T=j(Z,X+2);
X+=6}else{T=k(Z,X);X+=2}}else{o=H[B][$].split(",")[1];T=j(Z,X);X+=4}console.log(B,$,o,T);var i=H[B][$];
if(i)i=i.split(",")[0];if(i==null){i="t"+$}if(o=="SQ"){var I=e(Z,X,X+T,b);r=I[0];X=I[1];T=0}else if(o=="US")r=k(Z,X);
else if(o=="SS")r=D(Z,X);else if(o=="UL")r=j(Z,X);else if(o=="FL")r=_.Q4(Z,X);else if(o=="AT")r=[k(Z,X),k(Z,X+2)];
else if(o=="OB")r=Z.slice(X,X+T);else if(o=="OW")r=new Uint16Array(Z.slice(X,X+T).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(o)!=-1){var M=X+T;
while(Z[M-1]==0)M--;r=_.xY(Z,X,M-X).trim()}else{console.log(R,JSON.stringify(_.xY(Z,X,Math.min(T,32))));
throw o}if(g["g"+B]==null)g["g"+B]={};g["g"+B][i]=r;X+=T}return[g,X]}var H={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{cU:c}}();iu.akv={};iu.akv.cU=function(E){var y=new Uint8Array(E),c=0,e={},D=1e9;for(var N=0;N<306;
N++){var p=_.xY(y,c,8).trim(),H=_.xY(y,c+9,71).split("/")[0].trim();e[p]=H;c+=80;if(p=="END"){c=Math.ceil(c/2880)*2880;
break}}var Z=parseInt(e.NAXIS1),X=parseInt(e.NAXIS2),b=Z*X,k=parseInt(e.BITPIX),j=-1e9,g=new Float32Array(b),R=new Float32Array(E,c,E.byteLength-c>>>2);
for(var N=0;N<b;N++){var t=N<<2,w=N<<1;if(k==-32){var B=y[c+t+0];y[c+t+0]=y[c+t+3];y[c+t+3]=B;var B=y[c+t+1];
y[c+t+1]=y[c+t+2];y[c+t+2]=B;g[N]=R[N]}else if(k==16){g[N]=_.iH(y,c+w)}else throw k;var $=g[N];if($<D)D=$;
if($>j)j=$}var o=d.R(b*4),T=1/j;for(var i=0;i<X;i++)for(var r=0;r<Z;r++){var N=i*Z+r,I=(X-i-1)*Z+r,t=I<<2,$=g[N]*T;
o[t]=o[t+1]=o[t+2]=255*$;o[t+3]=255}return[{Yu:new ir(0,0,Z,X),data:o,do:e.OBJECT}]};iu.o9={};iu.o9.cU=function(E){var y=new Uint8Array(E),c=16,e=_.xY(y,c,4),H=32,$=0,o=0,T=!1,Q;
c+=4;var p=_.xY(y,c,8);c+=8;while(y[c+H-1]==0)H--;var Z=_.xY(y,c,H);c+=32;var X=_.xY(y,c,4);c+=4;c+=20;
var b=_.q(y,c);c+=4;var k=_.q(y,c);c+=4;var D=_.q(y,c);c+=4;var j=_.q(y,c);c+=4;var g=_.q(y,c);c+=4;
var R=_.q(y,c);c+=4;var t="FujiFilm "+Z,w=[0,1,1,2];if(t=="FujiFilm X10"){t="FujiFilm FinePix X10";w=[2,1,1,0]}var B={t271:["FujiFilm"],t272:[t],t277:[1],t33421:[2,2],t33422:w,Rp:1};
c=D;var i=[],r=_.dT,I=_.q(y,c);c+=4;for(var N=0;N<I;N++){var M=r(y,c);c+=2;var J=r(y,c);c+=2;if(M==256){o=r(y,c);
$=r(y,c+2)}else if(M==272){i=[r(y,c),r(y,c+2)]}else if(M==273){i.push(r(y,c),r(y,c+2))}else if(M==304){T=!(y[c]>>>7)}else if(M==305){var P=Math.round(Math.sqrt(J)),n=[];
for(var x=0;x<J;x++)n.push(y[c+x]);n.reverse();B.t33421=[P,P];B.t33422=n}else if(M==12272){var L=r(y,c),u=r(y,c+2),C=r(y,c+6);
B.t50728=[L/u,1,L/C]}c+=J}var h=$<o,A=y.slice(g,g+R),W=Math.round(R*8/($*o));if(A[0]==73&&A[1]==73&&A[2]==42){Q=UTIF.decode(A.buffer)[0].fujiIFD;
W=Q.t61443[0];var l=Q.t61454,O=Q.t61450;if(O)B.t50714=O;if(l)B.t50728=[l[0]/l[1],1,l[0]/l[2]];var z=Q.t61447[0];
A=A.slice(z,z+Q.t61448[0])}var R=A.length,a=R*8<$*o*W;if(a){console.log("compressed");var m=B.t33422,q=~~Math.sqrt(m.length),K=[];
for(var N=0;N<q;N++)K[N]=m.slice(N*q,N*q+q);A=new Uint8Array(UTIF._decompressRAF(A,K).buffer);R=A.length}function U(dF,s,aH){aH=aH<<8-(s&7);
var dw=s>>>3;dF[dw]|=aH>>>16;dF[dw+1]|=aH>>>8;dF[dw+2]|=aH}var f=R*8/($*o);if(f==16)for(var N=0;N<R;
N+=2){var Y=A[N];A[N]=A[N+1];A[N+1]=Y}else if(f==14){for(var N=0;N<R;N+=4){var Y=A[N];A[N]=A[N+3];A[N+3]=Y;
Y=A[N+1];A[N+1]=A[N+2];A[N+2]=Y}}else if(f==12)for(var N=0;N<R;N+=3){var G=A[N+2]<<16|A[N+1]<<8|A[N+0];
G=G>>>12|(G&4095)<<12;A[N]=G>>>16&255;A[N+1]=G>>>8&255;A[N+2]=G&255}if(h)A=iu.o9.a6U(A,$,o);var V=h?2:1;
$*=V;B.t256=[$];B.t257=[o];B.t258=[W];B.t50719=[i[1],i[0]*V];B.t50720=[i[3],i[2]*V];B.width=$;B.height=o;
B.data=new Uint8Array(A.buffer);return[B]};iu.o9.a6U=function(E,y,c){E=new Uint16Array(E.buffer);var e=new Uint16Array(y*c*2);
for(var p=0;p<c;p+=2)for(var H=0;H<y;H++){var Z=p*y+H,X=Z*2,b=E[Z],k=E[Z+y];e[X+1]=e[X+2*y]=k;if(((p>>>1)+H&1)==0){e[X]=b;
e[X+2*y+1]=E[Z+1]}else{e[X]=E[Z-1];e[X+2*y+1]=b}}return e};iu.y9={};iu.y9.abO=function(E,y,c){c=c<<8-(y&7);
var e=y>>>3;E[e]|=c>>>16;E[e+1]|=c>>>8;E[e+2]|=c};iu.y9.cU=function(E){var y=new Uint8Array(E),c=0,e=Date.now(),p=hD.ux(E),H=p.moov.uuid[0],Z=new CR3Parser(E),X=Z.getTrack().meta,b=H.CMT1[0],k=b.t256[0]=X.width,D=b.t257[0]=X.height,j=k*D,g=b.exifIFD=H.CMT2[0],R=g.makerNote=H.CMT3[0],t=p.moov.trak[3].mdia.minf.stbl,w=t.co64[0],B=y.slice(w,w+t.stsz[0]),$=0;
while($<B.length){var o=_.gT(B,$);$+=4;var T=_.iH(B,$);$+=2;var i=B[$]==1;$+=2;$+=4;if(T==8||T==9){var r=UTIF.decode(B.slice($+8,$+o-12).buffer)[0];
for(var I in r)R[I]=r[I]}$+=o-12}b.t277=[1];b.t33421=[2,2];b.t33422=[0,1,1,2];b.Rp=1;if(b.t274)b.Rp=b.t274[0];
var M=Z.extractCFA(),J=X.bitDepth;if(J!=14)throw"e";b.t258=[J];var P=new Uint8Array(Math.ceil(j*J/8)),n=16-J;
for(var N=0;N<j;N++)iu.y9.abO(P,N*14,M[N]<<n);b.width=k;b.height=D;b.data=P;return[b]};iu.YU={};iu.YU.Rs=!0;
iu.YU.Jv=function(E,y,c,e){var p=new Uint8Array(E[0][0]),H=y*c,Z=[1,3,4][e[0]],X=8+8*e[1],b=e[2];if(Z==1){var k=new Uint8Array(y*c);
d.LI(p,k,0);p=k}if(Z==3){var k=new Uint8Array(y*c*3);for(var N=0;N<H;N++){var D=N*4,j=N*3;k[j]=p[D];
k[j+1]=p[D+1];k[j+2]=p[D+2]}p=k}if(X==16){var g=p.length,k=new Uint8Array(g*2);for(var N=0;N<g;N++){var R=Math.round(p[N]*(65535/255));
k[N*2+b]=R>>>8;k[N*2+1-b]=R&255}p=k}return p.buffer};iu.aBw={};iu.aBw.cU=function(E,y){function c(b){return~~(.5+d.nW(Math.max(0,Math.min(1,b)))*255)}var e=EXRLoader.parse(E),p=e.width,H=e.height,Z=d.R(p*H*4);
for(var X=0;X<H;X++)for(var b=0;b<p;b++){var N=(X*p+b)*4,k=((H-X-1)*p+b)*4;Z[N]=c(e.data[k+0]);Z[N+1]=c(e.data[k+1]);
Z[N+2]=c(e.data[k+2]);Z[N+3]=c(e.data[k+3])}return[{Yu:new ir(0,0,p,H),data:Z.buffer}]};iu.JJ={};iu.JJ.Rs=!0;
iu.JJ.qg=!0;iu.JJ.Jv=function(E,y,c,e,p){e=["",100,!1,!1,!1,0,!1];e[7]=["jpg"];var H=new ToDXF;fs.iF(E,e,H,p.UG);
return H.buffer};iu.JJ.cU=function(E,y){var c=72,e=new jr(1,0,0,1,0,0);e.scale(c/72,c/72);y.$c=c;var p=new af(y,e,!1);
FromDXF.Parse(E,p)};iu.aqN={};iu.aqN.cU=function(){var E=_.iH,y=_.gT,c=_.xY,e;function p(Z,X,b,k,D){var j=y(Z,b),g=y(Z,b+4),R=y(Z,b+8),t=E(Z,b+12),w=E(Z,b+14);
b+=16;var B={};for(var N=0;N<t+w;N++){var $=y(Z,b),o=y(Z,b+4),T,i;if($>>>31==1){$=$&16777215}if(N<t)T=_.GL(Z,X+$+2,E(Z,X+$));
else T="id"+$;var r=k.slice(0);r.push(T);if(o>>>31==1){o=o&268435455;i=p(Z,X,X+o,r,D)}else{var I=y(Z,X+o),M=y(Z,X+o+4),J=y(Z,X+o+8),P=y(Z,X+o+12);
if(P!=0)throw"e";if(I<D[0]||I>D[0]+D[1])throw"e";var n=D[2]+I-D[0];i=Z.slice(n,n+M);var x=iu.XS(i.buffer);
if(x&&["bmp","png","ico"].indexOf(x)!=-1){var L=iu.sF(x);if(!L.qg){var u=null;try{u=L.cU(i.buffer)}catch(b4){}if(u){u[0].do=r[1];
e.push(u[0])}}}else if(x)console.log(x)}B[T]=i;b+=8}return B}function H(Z){e=[];var X=new Uint8Array(Z),b=0,k=E(X,b);
b+=2;b+=58;var D=y(X,b);b+=4;b=D;var j=c(X,b,4);b+=4;var g=E(X,b);b+=2;var R=E(X,b);b+=2;var t=y(X,b);
b+=4;var w=y(X,b);b+=4;var B=y(X,b);b+=4;var $=E(X,b);b+=2;var o=E(X,b);b+=2;b+=$;var T={};for(var N=0;
N<R;N++){var i=b;while(X[i]!=0)i++;var r=c(X,b,i-b),I=y(X,b+8),M=y(X,b+12),J=y(X,b+16),P=y(X,b+20),n=y(X,b+24),x=y(X,b+28),L=E(X,b+32),u=E(X,b+34),o=y(X,b+36);
T[r]=[M,I,P,J,o];if(n+x!=0)throw"e";b+=40}for(var C in T){var h=T[C];b=h[2];if(C==".rsrc"){var A=p(X,b,b,[],h),W="id134"}}return e}return H}();
iu.OV={};iu.OV.qg=!0;iu.OV.cU=function(E,y,c){dd.ux(E,y,c)};iu.OV.Jv=function(E,y,c){return dd.iF(E)};
(function(){var E=iu.UO.get("wasm/zstd").buffer;WebAssembly.instantiate(E).then(function(y){var c=y.instance.exports;
iu.OV.ak1=c})}());iu.OV.zh=function(E,y){var c=iu.OV.ak1,e=E.length,p=c.memory,H=2*e+1e6,b=8;iu.hI(c,H);
var Z=new Uint8Array(p.buffer),X=c.malloc(e);Z.set(E,X);while(!0){var k=y==null?e*b:y;iu.hI(c,H+k);var D=c.malloc(k),j=c.ZSTD_decompress(D,k,X,e);
if(j==-70){c.free(D);b+=b>>>1;if(y!=null)throw"error"}else{Z=new Uint8Array(p.buffer);E=Z.slice(D,D+j);
c.free(D);break}}c.free(X);return E};iu.oU={};iu.oU.qg=!0;iu.oU.cU=function(){var E=0,y=1,c=2,e=3,p=4,H=5,Z=6,X=7,b=1,k=2,D=7,j=8,g=9,R,t,w,B,$;
function o(){var j1=_.ZE(R,t);t+=4;return j1}function T(){var Q=0,l=0;for(var N=0;N<5;N++){var O=R[t++];
Q+=(O&127)<<l;l+=7;if((O&128)==0)break}return Q}function i(){var Q=T(),l=_.Uw(R,t,Q);t+=Q;return l}function r(){return{typeName:i(),aAY:o()}}function I(){var Q=o(),l=i(),O=[],z=o();
for(var N=0;N<z;N++)O.push([i()]);return{id:Q,p2:l,a3M:O}}function M(Q){var l=Q.a3M,O=[];for(var N=0;
N<l.length;N++)l[N].push(R[t++]);for(var N=0;N<l.length;N++){var z=l[N][1],a;l[N].push(J(z))}}function J(Q){var l;
if(Q==E)l=R[t++];else if(Q==e)l=i();else if(Q==p)l=r();else if(Q==y||Q==c||Q==Z||Q==H){}else throw Q;
return l}function P(Q,l,O){var z;if(Q==E){if(l==b)z=R[t++]==1;else if(l==k){z=R[t++]}else if(l==j)z=o();
else if(l==g){z=o();o()}else throw l}else if(Q==e){z=u(O+1)}else if(Q==p){z=u(O+1)}else if(Q==H){z=u(O+1)}else if(Q==y){z=u(O+1)}else if(Q==Z){z=u(O+1)}else if(Q==c){z=u(O+1)}else throw Q;
return z}function n(Q,l){var O=w["c"+Q],z=O.a3M,a={_class:O.p2};for(var N=0;N<z.length;N++){var m=z[N],q=m[1],K=m[2],U=P(q,K,l),f=m[0];
a[f]=U}return a}function x(Q,l,O,z){var a=[];for(var N=0;N<Q;N++){var m=P(l,O,z);if(m.V4&&m.V4=="null_count"){var q=m.XR;
for(var K=0;K<q;K++)a.push(null);N+=q-1}else a.push(m)}return a}function L(){return[o(),o()]}function u(Q){if(Q==null)throw"e";
var l=null,O=R[t],z=null;t++;if(O==0){var a=o(),m=o(),q=o(),K=o();l=[a,m,q,K]}else if(O==1){z=o();var U=o();
l=n(U,Q)}else if(O==4){var f=I();z=f.id;M(f);w["c"+f.id]=f;l=n(f.id,Q)}else if(O==5){var f=I();z=f.id;
M(f);var Y=o();w["c"+f.id]=f;l=n(f.id,Q)}else if(O==6){z=o();var G=i();l=G}else if(O==7){z=o();var V=R[t++];
if(V!=0)throw V;var dF=o();if(dF!=1)throw dF;var s=o(),aH=R[t++],dw=J(aH);l=x(s,aH,dw,Q)}else if(O==9){var kO=o();
l={V4:"ref",XR:kO};$["o"+kO]=!0}else if(O==10){l={V4:"null_count",XR:1}}else if(O==11){l={V4:"end"}}else if(O==12){var Y=o(),hX=i()}else if(O==13){var jF=R[t++];
l={V4:"null_count",XR:jF}}else if(O==16){var gn=L();z=gn[0];l=x(gn[1],p,null,Q)}else if(O==17){var gn=L();
z=gn[0];l=x(gn[1],y,null,Q)}else throw"e";if(z!=null&&z>0){if(B["o"+z]!=null)throw"e";B["o"+z]=l}return l}function C(Q,B){if(Q instanceof Array){for(var N=0;
N<Q.length;N++)Q[N]=h(Q[N],B)}else if(Q instanceof Object){for(var l in Q)Q[l]=h(Q[l],B)}}function h(Q,B){if(Q&&Q.V4&&Q.V4=="ref")return B["o"+Q.XR];
else return Q}function A(Q,l,O){var z=Date.now();R=new Uint8Array(Q);t=0;w={};B={};$={};var a=_.xY(R,0,4);
if(a!="PDN3")throw a;t+=4;var m=_.iH(R,t)+R[t+2]*256*256;t+=3;var q=_.xY(R,t,m);t+=m;t+=2;while(!0){var K=u(0);
if(K&&K.V4&&K.V4=="end")break}for(var U in $)if(B[U]==null)throw U;for(var U in B)C(B[U],B);var f=B.o1;
console.log(f);l.m=f.width;l.e=f.height;l.buffer=d.R(l.m*l.e*4);var Y=f.layers["ArrayList+_items"];for(var N=0;
N<Y.length;N++){var G=Y[N];if(G==null)continue;var V=G["Layer+width"],dF=G["Layer+height"],s=G["Layer+properties"],aH=G.properties,dw=aH.blendOp._class.split("+").pop();
dw=dw.slice(0,dw.length-7);var kO={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[dw],hX=l.N8();
hX.v4(s.name);hX.opacity=s.opacity;hX.rP(s.visible);hX.ur=kO;if(R[t]!=0)throw"e";t++;var jF=_.q(R,t);
t+=4;var gn=Math.ceil(V*dF*4/jF);hX.rect=new ir(0,0,V,dF);var hM=hX.buffer=d.R(V*dF*4);for(var ie=0;
ie<gn&&t<R.length;ie++){var bN=W();hM.set(bN[1],bN[0]*jF)}for(var kd=0;kd<hM.length;kd+=4){var i7=hM[kd+0];
hM[kd+0]=hM[kd+2];hM[kd+2]=i7}l.B.push(hX)}}function W(){var Q=_.q(R,t);t+=4;var l=_.q(R,t);t+=4;t+=10;
l-=10;var O=pako.inflateRaw(R.slice(t,t+l));t+=l;return[Q,O]}return A}();iu.Vx={};iu.Vx.qg=!0;iu.Vx.cU=function(E,y){fO.ux(E,y)};
iu.jp={};iu.jp.qg=!0;iu.jp.cU=function(){var E,y,B=null,J,P;function c(){var W=E[y];y+=1;return W}function e(){var W=_.dT(E,y);
y+=2;return W}function p(){var W=_.q(E,y);y+=4;return W}function H(){var W=_.$G(E,y);y+=4;return W}function Z(){var W=_.vW(E,y);
y+=8;return W}function X(){var W=p();if(W>200)throw W;var Q=_.ZL(E,y,W);y+=W*2;return Q}function b(){var W=_.ct(E,y);
y+=8;return W}function k(){var W=_.SI(E,y);y+=4;return W}function D(){var W=p();if(p()!=4)throw"e";var Q=[];
for(var N=0;N<W;N++)Q.push(p());return Q}function j(W,Q,l){for(var N=0;N<W.length;N++)if(W[N][Q]==l)return W[N]}function g(W,Q){var l=Date.now();
E=new Uint8Array(W);y=_.h6(E,"CH"+"NK"+"SQ"+"Li")+8;var O=Z(),z=eo.parse(E.buffer.slice(y,y+O)),a=eo.akb(z,!0);
console.log(a);var m=a.Canvas[0],q=m.Width,K=m.Height,U=m.Unit,f=Q.$c=m.Resolution;if(U==0){}else if(U==1){q=Math.round(q*f/2.54);
K=Math.round(K*f/2.54)}else if(U==2){q=Math.round(q*f/25.4);K=Math.round(K*f/25.4)}else if(U==3){q=Math.round(q*f);
K=Math.round(K*f)}else if(U==5){q=Math.round(q*f/72);K=Math.round(K*f/72)}else{console.log(m);throw U}Q.m=q;
Q.e=K;Q.buffer=d.R(q*K*4);console.log(Date.now()-l);var Y=j(a.Layer,"MainId",m.RootFolder);u(a,E,Q,Y.FirstChildIndex,0);
console.log(Date.now()-l)}function R(){var W=_.iH(E,y);y+=2;return W}function t(){var W=_.gT(E,y);y+=4;
return W}function w(){var W=_.ZE(E,y);y+=4;return W}function $(W){var Q={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},O=0;
E=W;y=0;var l={};while(y<E.length){var z=t(),a=t(),m=y+a;if(a==0)continue;var q=[];if(z==11){var K=t();
for(var U=0;U<K;U++){var f=[t(),t()];q.push(f);O+=f[1];var Y=y+t()-4;f.push(R(),R(),R(),R());f.push(_.Wv(E,y));
y+=8;var G=R();f.push(_.GL(E,y,G));y+=G*2;if(y!=Y)throw"e"}}else if(z==31){q=_.Uw(E,y,a);y+=a}else if(z==34)for(var N=0;
N<3;N++)q.push(t()>>>16);else if(z==42)for(var N=0;N<4;N++)q.push(w());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(z)!=-1){if(a!=4)throw"e";
q=t();if([37,45,46,51,53,55,61,62].indexOf(z)!=-1){if(q!=0&&q!=1&&q!=360)throw z+":"+q;y=m;continue}}else if(z==47){var V=R();
if(t()!=50)throw"e";if(t()!=0)throw"e";var dF=R();q=_.xY(E,y,dF);y+=dF}else if(z==57){var K=R();for(var N=0;
N<K;N++){var s=R(),aH=_.xY(E,y,s);y+=s;var dw=R(),kO=_.xY(E,y,dw);y+=dw;q.push([aH,kO])}var hX=t();for(var N=0;
N<K;N++)q[N].push(hX)}else if(z==39||z==63)q.push(t(),t());else if(z==64){for(var N=0;N<8;N++)q.push(_.ZE(E,y+N*4)/100);
y+=32}else{q=E.slice(y,m);y+=a}var jF=Q[z];if(jF==null)jF="t"+z;if(l[jF])throw"e";l[jF]=q;if(y!=m)throw z}if(B){}B=l;
return l}function o(W){E=W;y=0;var Q=p();if(Q!=W.length)throw"e";var l=p(),O=X(),z=p(),a=b(),m=[p()/4294967295,p()/4294967295,p()/4294967295];
return[z,a,m]}function T(W,Q){function l(){var fb=[];for(var N=0;N<4;N++)fb.push(_.$G(E,y+N*4));y+=16;
return fb}function O(j1){var fb=[];for(var N=0;N<j1;N++)fb.push(k());return fb}function z(fb){var iG="";
for(var N=y;N<fb;N+=4)iG+=E.slice(N,N+4).join(", ")+"\n";return iG}E=W;y=Q+8;var a=Z(),m=y+a;y+=56;if(y==m)return;
var q=[],K=[],U=[],f=[],Y=[];while(y<m){var G=p(),gn=1;if(G!=88&&G!=96)throw G;var G=p();if(G!=72)throw"e";
var V=p();if(V!=88&&V!=104&&V!=120)throw V;var G=p();if(G!=88)throw"e";var dF=p(),s=p(),aH=l(),dw=[];
U.push(dw);for(var N=0;N<6;N++){dw.push(r(p()))}var kO=b(),hX=p();if(hX==16||hX==1040||hX==304){p();
hX=p()}var jF=b();f.push(jF);var hM=p(),ie=(s&256)!=0,bN=[],kd=[],i7={88:1,104:2,120:3}[V];for(var N=0;
N<dF;N++){var dn=N==0?1:i7;for(var ew=0;ew<dn;ew++)bN.push(b(),b());kd.push(dn==1?N==0?"M":"L":dn==2?"Q":"C");
var e4=l(),eE=p();gn=k();var jc=O(10),ft=p(),bd=p()}Y.push(gn);if(V==104){var iB=b(),cG=b();if(ie){kd.push("Q");
bN.push(iB,cG,bN[0],bN[1])}}if(V==120){var iB=b(),cG=b(),bT=b(),g$=b();if(ie){kd.push("C");bN.push(iB,cG,bT,g$,bN[0],bN[1])}}if(s&128){var hU=["M"],ah=[bN[0],bN[1]],co=bN.length>>>1,im=d.A.at6(bN);
for(var N=0;N<co;N++){var hb=bN[2*N],dI=bN[2*N+1],bw=.7;for(var ew=0;ew<2;ew++){im[N*4+ew*2]=bw*im[N*4+ew*2]+(1-bw)*hb;
im[N*4+ew*2+1]=bw*im[N*4+ew*2+1]+(1-bw)*dI}}for(var N=1;N<co;N++){hU.push("C");ah.push(im[N*4-2],im[N*4-1],im[N*4],im[N*4+1],bN[N*2],bN[N*2+1])}if(ie){hU.push("C");
ah.push(im[co*4-2],im[co*4-1],im[0],im[1],bN[0],bN[1])}bN=ah;kd=hU}if(ie)kd.push("Z");K=K.concat(bN);
q=q.concat(kd)}if(y!=m)throw"e";return[{j:K,G:q},U,f,Y]}function i(W,Q){E=W;y=Q+8;var l=Z(),O=y+l,z=0;
y+=56;var a=[];while(y<O){var m=p(),q=y+m-4;if(q>O)throw"e";if(m==11){y-=4;var K=X(),U=p();if(U!=12)throw"e";
var f=D(),Y=X(),U=p();if(U!=12)throw"e";var G=D();if(y!=O)throw"e"}else{var V=X(),dF=p();if(dF!=z)throw dF;
z++;var s=e();if(s!=0&&s!=1&&s!=2&&s!=5)throw s;var aH=c();if(aH!=0&&aH!=32&&aH!=64)throw aH;if(p()!=1)throw"e";
if(p()!=1)throw"e";if(c()!=0)throw"e";if(p()==1){var dw=p(),kO=_.gT(E,y);if(dw!=kO+4)throw"e";a.push(new Uint8Array(E.buffer,y+4,kO));
y+=dw}else a.push(new Uint8Array(0));var hX=X();if(y!=q)throw y}}return a}function r(W){return Math.min(255,Math.round(W/16777216))}function I(W){E=W;
y=0;var Q=p();if(Q!=16)throw Q;var l=p();if(l!=102)throw l;var O=p();if(O!=42&&O!=58)throw O;var z=p();
if(W.length-z!=118+O)throw W.length-z;var a=X();if(a!="Parameter")throw a;var m=p(),q=p(),K=p(),U=p(),f=[];
for(var N=0;N<16;N++)f.push(p());var a=X();if(a!="InitColor")throw a;if(p()!=20)throw"e";var Y=p(),G=p(),V=p();
if(p()!=4)throw"e";if(O==58){var dF=[];f.push(dF);for(var N=0;N<4;N++)dF.push(r(p()))}var a=X();if(a!="BlockSize")throw a;
var s=p();if(s!=12)throw s;var aH=D();if(y!=E.length)throw"e";return[m,q,K,U,Y*255,f]}function M(W,Q){var l=_.xY(Q,0,40),O=j(W["ExternalC"+"hunk"],"Exte"+"rnalID",l);
if(O==null){console.log("chnk not found",l)}return O?O.Offset:-1}function n(W,Q,l,O){if(J==null){J=d.R(256*256*4);
P=d.R(256*256)}var z=W.Mipmap,a=W.MipmapInfo,m=W.Offscreen,q=j(z,"MainId",l),K=j(a,"MainId",q.BaseMipmapInfo),U=j(m,"MainId",K.Offscreen),f=M(W,U.BlockData),g=null;
if(f==-1)return null;var Y=i(Q,f),G=I(U.Attribute),V=G[0],dF=G[1],s=G[2],aH=G[3],dw=G[4],kO=G[5],hX=kO[16],jF=kO[1],gn=kO[2],hM=jF+gn;
if(gn!=kO[5])throw"e";if(jF!=kO[7])throw"e";var ie=d.R(256*(kO[6]+kO[8])),bN=new ir;if(hX)bN=new ir(0,0,V,dF);
else{for(var kd=0;kd<aH;kd++)for(var i7=0;i7<s;i7++){var dn=Y[kd*s+i7];if(dn.length==0)continue;bN=bN.uN(new ir(i7<<8,kd<<8,256,256))}}var ew=bN.fr(new ir(0,0,V,dF)),e4=d.R(ew.P()*(hM==1?1:4));
if(hX)new Uint32Array(e4.buffer).fill(255<<24|hX[0]<<16|hX[1]<<8|hX[2]);if(hM==1)e4.fill(dw);for(var kd=0;
kd<aH;kd++)for(var i7=0;i7<s;i7++){var dn=Y[kd*s+i7];if(dn.length==0)continue;var eE=new Uint8Array(dn.buffer,dn.byteOffset+2,dn.length-6),jc=new ir(i7<<8,kd<<8,256,256);
UZIP.inflateRaw(eE,ie);if(hM==1){if(kO[8]==32){x(ie,0,P);d.kh(P,jc,e4,ew)}else d.kh(ie,jc,e4,ew)}else if(hM==2){if(kO[8]==32){new Uint32Array(J.buffer).fill(4278190335);
x(ie,0,P);d.Og(P,J,3);x(ie,256*32,P);d.Q9(P,J)}else for(var N=0;N<262144;N+=4){var hX=ie[65536+(N>>>2)];
J[N]=hX;J[N+1]=hX;J[N+2]=hX;J[N+3]=ie[N>>>2]}d.E6(J,jc,e4,ew)}else if(hM==5){for(var N=0;N<262144;N+=4){J[N]=ie[65536+N+2];
J[N+1]=ie[65536+N+1];J[N+2]=ie[65536+N+0];J[N+3]=ie[N>>>2]}d.E6(J,jc,e4,ew)}else throw hM}if(O&&hM==1){var ft=d.R(V*dF*4);
d.Og(e4,ft,3);e4=ft}return[ew,e4,dw]}function x(W,y,Q){for(var N=0;N<Q.length;N++){Q[N]=(W[y+(N>>>3)]>>>7-(N&7)&1)*255}}var L=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function u(W,Q,l,O,z){var a=W.Layer,m=W.Canvas[0];while(O!=0){var q=j(a,"MainId",O),K=q.Type,s=!1;console.log(q);
var U=l.N8();U.v4(q.Name);U.opacity=Math.min(255,q.Opacity);U.rP((q.Visibility&1)!=0);U.ur=L[q.Composite];
if(U.ur==null){alert("Unknown blend mode "+q.Composite);U.ur="norm"}U.av=q.Clip==1;l.B.push(U);var f=q.LayerMaskMipmap;
if(f!=0){var Y=n(W,Q,f,!1);if(Y){U.F=new jN.W$;U.F.rect=Y[0];U.F.channel=Y[1];U.F.color=Y[2];C(U.F.rect,q,"Mask","Mask");
U.F.Q8()}}var G=[];for(var N=0;N<3;N++)G.push(r(q["DrawColorMain"+["Red","Green","Blue"][N]]));var V={t:"Objc",v:d.L.hp({Z:G[0],D:G[1],J:G[2]})},dF=JSON.parse(cb.default);
for(var N=0;N<cb.order.length;N++)dF[cb.zt[N]]={t:"VlLs",v:[]};if(q.DrawColorEnable==1&&K!=1584){s=!0;
var aH=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);aH.Clr=V;dF.solidFillMulti.v.push({t:"Objc",v:aH})}if(q.EffectInfo){var dw=o(q.EffectInfo),G=dw[2];
if(dw[0]==1){s=!0;var aH=JSON.parse(cb.Dn[cb.order.indexOf("FrFX")]);aH.Clr.v=d.L.hp({Z:G[0]*255,D:G[1]*255,J:G[2]*255});
aH.Sz.v.val=Math.round(dw[1]);dF.frameFXMulti.v.push({t:"Objc",v:aH})}}if(q.FilterLayerInfo){E=q.FilterLayerInfo;
y=0;var kO=p(),hX=p();if(hX!=E.length-y)throw"e";var jF={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[kO];
if(jF!=null){var gn=cN.TL(jF);U.add[jF]=gn?gn:{};if(jF=="brit")cN.Ix["g"+jF](gn,[H(),H(),!0]);if(jF=="hue2")b0.UL(gn,0,[H(),H(),H()]);
if(jF=="curv"){var hM=[],ie=y;for(var N=0;N<32;N++){y=ie+N*130;var bN=e(),kd=[];hM.push(kd);for(var i7=0;
i7<bN;i7++)kd.push(e()/65535,e()/65535)}for(var N=0;N<4;N++){var kd=hM[N],dn=gG.PM(gn,N),ew=dn[0];for(var i7=0;
i7<kd.length;i7+=2){var e4=dn[i7>>>1]=JSON.parse(JSON.stringify(ew));e4.v.Hrzn.v=Math.round(kd[i7]*255);
e4.v.Vrtc.v=Math.round(kd[i7+1]*255)}gG.UL(gn,N,dn)}}if(jF=="grdm"){var eE=gn.Grad.v,jc=[],ft=p();if(ft!=hX-4)throw ft;
var bd=p();if(bd!=16)throw bd;var iB=p();if(iB!=28)throw iB;var cG=p();for(var N=0;N<cG;N++){var bT=0,g$=[];
for(var i7=0;i7<7;i7++)g$.push(p());jc.push([g$[6]/32768,[g$[1]/4294967295,g$[2]/4294967295,g$[3]/4294967295],g$[4]/4294967295])}d.L.Ll(jc,eE)}if(jF=="blnc"){gn.PrsL.v=p()==1;
for(var N=0;N<3;N++){var ah=gn[["ShdL","MdtL","HghL"][N]].v;for(var i7=0;i7<3;i7++)ah[i7].v=H()}}}else console.log("Unknown adjustment",kO,hX,U.getName())}if(K==1584){U.Gc|=16;
U.add.SoCo={classID:"null",Clr:V};U.fP(l)}else if(K==800){l.B.pop()}else if(q.Folder!=0){U.add.lsct=(q.Folder&16)!=0?kl.ze:kl.Sh;
U.ur="pass";l.B.pop();l.B.push(l.eM());u(W,Q,l,q.FirstChildIndex,z+1);l.B.push(U)}else if(K==0||K==1||K==2||K==3){var Y=n(W,Q,q.RenderMipmap,!0);
if(Y){U.rect=Y[0];U.buffer=Y[1];C(U.rect,q,"Render","");U.Q8()}if(q.TextLayerType!=null){var im="TextLayerString",dI="TextLayerAttributes",bw=[q[im]],fb=[q[dI]];
if(q[im+"Array"]){E=q[im+"Array"];y=0;while(y<E.length){var hX=t();bw.push(E.slice(y,y+hX));y+=hX}E=q[dI+"Array"];
y=0;while(y<E.length){var hX=t();fb.push(E.slice(y,y+hX));y+=hX}}var iG=U;l.B.pop();for(var dy=0;dy<bw.length;
dy++){var U=iG.clone();l.B.push(U);var kp=$(fb[dy]),gw=kp.runs,dR=kp.fnts,fT=kp.bplg,gA=kp.bbox,by=gA[2]-gA[0],fv=gA[3]-gA[1],d4=fT[2]-fT[0],fg=fT[3]-fT[1],aC=new jr;
aC.translate(-by/2,-fv/2);aC.rotate(Math.atan2(-fg,d4));aC.translate(by/2,fv/2);var bu=gA[0]+q.OffsetX,hj=gA[1]+q.OffsetY;
aC.translate(bu,hj);U.add.lnsr="rend";U.add.TySh=gV.V1(0,0);U.add.TySh.dz=new ir(0,0,500,500);U.add.TySh.u=aC;
var jg=U.add.TySh.Ax,cm=_.Uw(bw[dy]);U.v4(cm);gV.Y8(jg,0,cm);gV.qz(jg,1);gV.fF(jg,[0,0,by,fv]);for(var N=0;
N<gw.length;N++){var bz=gw[N],db=bz[0],eM=db+bz[1],de=bz[2],eb=gV.c$(jg,db,eM),k8=l.$c/72*kp.size/100;
if((de&512)!=0)k8*=bz[6]/100;eb.na.FontSize=Math.round(k8);var V=(de&256)!=0?bz.slice(3):kp.colr;eb.na.FillColor={Type:1,Values:[1,V[0]/65535,V[1]/65535,V[2]/65535]};
var hc=bz[7]==""?kp.font:bz[7];if(dR){if(dR[N])hc=dR[N][1];else for(var i7=0;i7<dR.length;i7++)if(dR[i7][0]==hc)hc=dR[i7][1]}gV.Wn(eb,hc);
gV.gR(jg,db,eM,eb)}if(U.rect.P()==0)l.kc=!0;else{U.rect=new ir(bu,hj,by,fv);U.buffer=d.R(U.rect.P()*4);
d.E6(iG.buffer,iG.rect,U.buffer,U.rect)}}}}var bg=W.VectorObjectList;if(q.VectorNormalType!=null&&bg&&j(bg,"LayerId",O)){var k5=j(bg,"LayerId",O).VectorData,e5=M(W,k5),j6=T(Q,e5);
if(j6){var gK=null;if(U.add.TySh){var gK=U.clone();l.B.push(gK);delete U.add.TySh}h(U,q,j6[0]);if(U.uY()){U.Gc|=24;
var aJ=l.N8();aJ.v4(U.getName());aJ.opacity=U.opacity;l.B.push(aJ);h(aJ,q,j6[0]);A(aJ,j6);aJ.fP(l)}else{A(U,j6,gK!=null)}U.fP(l);
if(gK){gK.add.TySh.u.concat(new jr(1,0,0,1,U.rect.x+U.rect.m/2,U.rect.y+U.rect.e/2))}}}if(s)U.add.lmfx=dF;
if(O==m.CurrentLayer)l.g=[l.B.indexOf(U)];O=q.NextIndex}}function C(W,Q,l,O){W.x+=Q[l+"OffscrOffsetX"]+Q[O+"OffsetX"];
W.y+=Q[l+"OffscrOffsetY"]+Q[O+"OffsetY"]}function h(W,Q,l){W.add.vmsk=new jN.pU;d.A.u(l.j,new jr(1,0,0,1,Q.OffsetX,Q.OffsetY),l.j);
W.add.vmsk.X=d.A.V2(l);W.m5()}function A(W,Q,l){var O=Q[1][0],z=Q[2][0];W.Gc|=16;var a=W.add.vstk=cb.CY.TL(!0,!0);
a.fillEnabled.v=l==!0;W.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:255,D:255,J:255})}};a.strokeStyleContent.v.Clr.v=d.L.hp({Z:O[0],D:O[1],J:O[2]});
a.strokeStyleLineWidth.v.val=z*2;a.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return g}();
var h0={};h0.Lq=!1;h0.aDv=!1;h0.MJ=!1;h0.V$=document.createElement("canvas");h0.kA=null;h0.D3=null;h0.n_=0;
(function(){var E={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},y;if(!y)y=h0.V$.getContext("webgl",E);
if(!y)y=h0.V$.getContext("experimental-webgl",E);if(y){h0.Lq=!0;h0.aDv=!0;h0.kA=y;h0.D3=y.createFramebuffer();
y.bindFramebuffer(y.FRAMEBUFFER,h0.D3);y.disable(y.BLEND);y.disable(y.DEPTH_TEST);var c=y.createBuffer();
y.bindBuffer(y.ARRAY_BUFFER,c);y.bufferData(y.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),y.STATIC_DRAW);
y.enableVertexAttribArray(0);y.vertexAttribPointer(0,2,y.FLOAT,!1,0,0)}}());h0.apI=function(E){E=E.replace(/\s\s+/g," ");
E=E.replace(/; /g,";");E=E.replace(/} /g,"}");E=E.replace(/ }/g,"}");E=E.replace(/{ /g,"{");E=E.replace(/ {/g,"{");
E=E.replace(/= /g,"=");E=E.replace(/ =/g,"=");E=E.replace(/\| /g,"|");E=E.replace(/ \|/g,"|");return E};
h0.oC=function(E){var y=h0.kA;if(E>y.getParameter(y.MAX_TEXTURE_SIZE)){h0.Lq=!1;alert("Disabling WebGL")}};
h0.HR=function(E,y){return new Float32Array([(E.x-y.x)/y.m,(E.y-y.y)/y.e,E.m/y.m,E.e/y.e])};h0.FB=function(){return this.V$};
h0.Lm=function(E,y){var c=h0.kA;c.bindFramebuffer(c.FRAMEBUFFER,h0.D3);c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,E.Ln,0);
c.viewport(0,0,E.m,E.e);if(y){c.enable(c.SCISSOR_TEST);c.scissor(y.x,y.y,y.m,y.e)}else c.disable(c.SCISSOR_TEST)};
h0.aeG=function(E,y,c){if(c)throw"error";var e=h0.kA;e.disable(e.SCISSOR_TEST);e.bindFramebuffer(e.FRAMEBUFFER,null);
e.viewport(0,0,E,y);if(c){e.enable(e.SCISSOR_TEST);e.scissor(c.x,c.y,Math.round(c.m),Math.round(c.e))}else e.disable(e.SCISSOR_TEST)};
h0.clear=function(){var E=h0.kA;E.clearColor(0,0,0,0);E.clear(E.COLOR_BUFFER_BIT)};h0.QI=function(E,y){if(y==null)y=0;
var c=(y>>>0&255)==0,e=(y>>>8&255)==0,p=(y>>>16&255)==0,H=(y>>>24&255)==0,Z=(E>>>0&255)*(1/255),X=(E>>>8&255)*(1/255),b=(E>>>16&255)*(1/255),k=(E>>>24&255)*(1/255),D=h0.kA;
D.colorMask(c,e,p,H);D.clearColor(Z,X,b,k);D.clear(D.COLOR_BUFFER_BIT);D.colorMask(!0,!0,!0,!0)};h0.IO=function(E,y,c,e,p){var H=y.fr(e);
if(p)H=H.fr(p);if(H.tj())return;var Z=h0.kA;h0.Lm(E);Z.bindTexture(Z.TEXTURE_2D,c.Ln);Z.copyTexSubImage2D(Z.TEXTURE_2D,0,H.x-e.x,H.y-e.y,H.x-y.x,H.y-y.y,H.m,H.e)};
h0.On=function(N,E,y){var c=h0.a7Y[N];if(c==null||c.m!=E||c.e!=y){if(c)c.delete();c=new h0.Ay(E,y)}h0.a7Y[N]=c;
return c};h0.a7Y=[];h0.H8=function(){this.oT=null;this.oj=null};h0.H8.rG=null;h0.H8.prototype.d3=function(E){if(this.oj)return;
this.oj={};var y=h0.kA,c=this.oT,e=this.oj;for(var N=0;N<E.length;N++){var p=E[N];e[p]=y.getUniformLocation(c,p)}};
h0.H8.prototype.pj=function(){};h0.H8.prototype.mX=function(E){var y=h0.kA;for(var N=0;N<E.length;N+=2){y.uniform1i(E[N],N>>>1);
y.activeTexture(y["TEXTURE"+(N>>>1)]);y.bindTexture(y.TEXTURE_2D,E[N+1])}y.activeTexture(y.TEXTURE0)};
h0.H8.prototype.Rz=function(E,y){var c=h0.kA,e=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(e,E);
c.compileShader(e);if(!c.getShaderParameter(e,c.COMPILE_STATUS))console.log(c.getShaderInfoLog(e));var p=c.createShader(c.VERTEX_SHADER);
c.shaderSource(p,y);c.compileShader(p);if(!c.getShaderParameter(p,c.COMPILE_STATUS))console.log(c.getShaderInfoLog(p));
var H=c.createProgram();c.attachShader(H,p);c.attachShader(H,e);c.linkProgram(H);if(!c.getProgramParameter(H,c.LINK_STATUS))console.log("Could not initialise shaders");
this.oT=H};h0.H8.prototype.rh=function(){if(h0.H8.rG!=this){h0.kA.useProgram(this.oT);h0.H8.rG=this}};
h0.N7=function(E,y){h0.Nq++;h0.n_+=E*y;if(h0.MJ)console.log("GL.Channels instances: "+h0.Nq+", memory: "+h0.n_);
var c=h0.kA;this.m=E;this.e=y;this.Ln=c.createTexture();this.UY=null;this.It(this.Ln,E,y)};h0.N7.prototype.It=function(E,y,c){var e=h0.kA;
e.bindTexture(e.TEXTURE_2D,E);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);
e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,y,c,0,e.ALPHA,e.UNSIGNED_BYTE,null)};h0.N7.prototype.set=function(E,y){var c=h0.kA;
c.bindTexture(c.TEXTURE_2D,this.Ln);c.pixelStorei(c.UNPACK_ALIGNMENT,1);var e=this.m*this.e;if(y==null||y.P()*10>e)c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.m,this.e,0,c.ALPHA,c.UNSIGNED_BYTE,E);
else{var p=new ir(0,0,this.m,this.e),H=d.R(y.P());d.kh(E,p,H,y);c.texSubImage2D(c.TEXTURE_2D,0,y.x,y.y,y.m,y.e,c.ALPHA,c.UNSIGNED_BYTE,H)}c.pixelStorei(c.UNPACK_ALIGNMENT,4)};
h0.N7.prototype.delete=function(){var E=h0.kA;if(this.Ln){E.deleteTexture(this.Ln);h0.Nq--;h0.n_-=this.m*this.e}if(h0.MJ)if(h0.MJ)console.log("GL.Channels instances: "+h0.Nq+", memory: "+h0.n_*4)};
h0.Nq=0;h0.Ay=function(E,y,c){if(c==null)c=!1;h0.Nq++;h0.n_+=E*y*4;if(h0.MJ)console.log("GL.Channels instances: "+h0.Nq+", memory: "+h0.n_);
var e=h0.kA;this.agk=c;this.m=E;this.e=y;this.Ln=e.createTexture();this.UY=null;this.It(this.Ln,E,y)};
h0.Ay.prototype.set=function(E,y){var c=h0.kA;c.disable(c.SCISSOR_TEST);c.bindTexture(c.TEXTURE_2D,this.Ln);
if(E==null||E instanceof Uint8Array){var e=this.m*this.e;if((y==null||y.P()*10>e)&&(E==null||E.length>=e*4))c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.m,this.e,0,c.RGBA,c.UNSIGNED_BYTE,E);
else{var p=E;if(E.length==e*4){var p=d.R(y.P()*4);d.E6(E,new ir(0,0,this.m,this.e),p,y)}c.texSubImage2D(c.TEXTURE_2D,0,y.x,y.y,y.m,y.e,c.RGBA,c.UNSIGNED_BYTE,p)}}else c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,E)};
h0.Ay.prototype.get=function(E){var y=h0.kA;h0.Lm(this);y.readPixels(0,0,this.m,this.e,y.RGBA,y.UNSIGNED_BYTE,E)};
h0.Ay.prototype.br=function(E){if(E.tj())return;var y=h0.kA;if(this.UY==null){this.UY=y.createTexture();
this.It(this.UY,this.m,this.e);h0.Nq++;h0.n_+=this.m*this.e*4}y.bindFramebuffer(y.FRAMEBUFFER,h0.D3);
y.bindTexture(y.TEXTURE_2D,this.UY);if(E){var c=Math.max(E.x,0),e=Math.max(E.y,0);y.copyTexSubImage2D(y.TEXTURE_2D,0,c,e,c,e,E.m,E.e)}else y.copyTexImage2D(y.TEXTURE_2D,0,y.RGBA,0,0,this.m,this.e,0)};
h0.Ay.prototype.It=function(E,y,c){var e=h0.kA;e.bindTexture(e.TEXTURE_2D,E);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,this.agk?e.LINEAR:e.NEAREST);
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,y,c,0,e.RGBA,e.UNSIGNED_BYTE,null)};
h0.Ay.prototype.delete=function(){var E=h0.kA;if(this.Ln){E.deleteTexture(this.Ln);h0.Nq--;h0.n_-=this.m*this.e*4}if(this.UY){E.deleteTexture(this.UY);
h0.Nq--;h0.n_-=this.m*this.e*4}if(h0.MJ)if(h0.MJ)console.log("GL.Channels instances: "+h0.Nq+", memory: "+h0.n_)};
h0.Ay.prototype.clone=function(){var E=h0.kA,y=new h0.Ay(this.m,this.e);h0.Lm(this);E.bindTexture(E.TEXTURE_2D,y.Ln);
E.copyTexImage2D(E.TEXTURE_2D,0,E.RGBA,0,0,this.m,this.e,0);return y};h0.KP={ax6:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",azi:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",cl:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",NH:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",amg:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",mS:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",pM:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",iQ:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",ahd:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",oH:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",arH:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Lo:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",atc:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",z_:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",nf:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",aH:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",vb:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",mf:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Nw:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",av_:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",alj:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",S3:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",adx:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
h0.l={};h0.l.lU={};h0.l.$t=null;h0.l.WR=null;h0.l.Fg=null;h0.l.aaf=function(E,y,c,e,p,H,Z,X){if(X==null)X=hA._M();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(E)==-1){Z=Z*X.fill;X.fill=1;X.style=!1}var b=E+(X.Zy?"1":"");
if(h0.l.lU[b]==null)h0.l.lU[b]=new h0.l.bO(E,X.Zy!=null);var k=h0.l.lU[b],D=c.fr(p).fr(H);D.offset(-p.x,-p.y);
if(D.tj())return;var j=h0.kA;h0.Lm(e,D);e.br(D);k.rh();k.pj(y.Ln,e.UY,h0.HR(c,p),Z,X.fill,X.style?1:0,X.ap?1:0,X.Zy?new Float32Array(X.Zy):null);
j.drawArrays(j.TRIANGLES,0,6)};h0.l.yy=function(E,y,c,e,p,H,Z,X,b,k,D){if(h0.l.$t==null)h0.l.$t=new h0.l.l1(!0,!0);
if(h0.l.WR==null)h0.l.WR=new h0.l.l1(!0,!1);if(h0.l.Fg==null)h0.l.Fg=new h0.l.l1(!1,!0);var j=k?1:0,g=E?p?h0.l.$t:h0.l.WR:h0.l.Fg,R=new Float32Array(D?[D[0],D[1],D[2],1]:[1,1,1,1]),t=y?y.fr(e).fr(X):e.fr(X);
if(t.tj())return;t.offset(-e.x,-e.y);var w=h0.kA;h0.Lm(c,t);c.br(t);g.rh();if(E==null)g.pj(null,c.UY,p.Ln,h0.HR(e,e),h0.HR(H,e),Z/255,b,j,R);
else if(p)g.pj(E.Ln,c.UY,p.Ln,h0.HR(y,e),h0.HR(H,e),Z/255,b,j,R);else g.pj(E.Ln,c.UY,null,h0.HR(y,e),null,Z/255,b,j,R);
w.drawArrays(w.TRIANGLES,0,6)};h0.l.a5b=function(E,y,c){if(h0.l.asG==null)h0.l.asG=new h0.l.h7;var e=h0.l.asG,p=new ir(0,0,E.m,E.e),H=h0.kA;
h0.Lm(y);y.br(p);e.rh();e.pj(p,E.Ln,y.UY,c.Ln);H.drawArrays(H.TRIANGLES,0,6)};h0.l.e7={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
h0.l.bO=function(E,y){h0.H8.call(this);var c="\t\t\tprecision highp float;\t\t\t"+h0.KP.cl+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(y?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+h0.KP.mS+"\t\t\t"+h0.KP.pM+"\t\t\t"+h0.KP.iQ+"\t\t\t"+h0.KP.ax6+"\t\t\t"+h0.KP.azi+"\t\t\t"+h0.KP.ahd+"\t\t\t"+h0.KP.oH+"\t\t\t"+h0.KP.arH+"\t\t\t"+h0.KP.Lo+"\t\t\t"+h0.KP.hash+"\t\t\t"+(y?h0.KP.S3:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+h0.l.e7[E]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",e="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(E=="diss")c+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else c+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(y?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Rz(c,e)};h0.l.bO.prototype=new h0.H8;h0.l.bO.prototype.pj=function(E,y,c,e,p,H,Z,X){this.d3("srct alpha source target fill style keepBGA blIf".split(" "));
var b=h0.kA,k=this.oj;b.uniform4fv(k.srct,c);b.uniform1f(k.alpha,e);b.uniform1f(k.fill,p);b.uniform1f(k.style,H);
b.uniform1f(k.keepBGA,Z);if(X)b.uniform4fv(k.blIf,X);this.mX([k.source,E,k.target,y])};h0.l.l1=function(E,y){h0.H8.call(this);
this.aeT=E;this.DD=y;var c="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+h0.KP.atc+"\t\t\t"+h0.KP.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(E?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(y?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(E?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(y?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",e="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Rz(c,e)};h0.l.l1.prototype=new h0.H8;h0.l.l1.prototype.pj=function(E,y,c,e,p,H,Z,X,b){if(this.DD)this.d3("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.d3("srct awg dissv source target cswitch".split(" "));var k=h0.kA,D=this.oj;k.uniform4fv(D.srct,e);
if(this.DD){k.uniform4fv(D.wrct,p);k.uniform1f(D.wcolor,H)}else{k.uniform4fv(D.cswitch,b)}k.uniform1f(D.awg,Z);
k.uniform1f(D.dissv,X);var j=[D.source,E,D.target,y];if(this.DD)j.push(D.weight,c);this.mX(j)};h0.l.h7=function(){h0.H8.call(this);
var E="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",y="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Rz(E,y)};h0.l.h7.prototype=new h0.H8;h0.l.h7.prototype.pj=function(E,y,c,e){this.d3(["rct","prev","next","alpha"]);
var p=h0.kA,H=this.oj;p.uniform4fv(H.rct,[0,0,1,1]);this.mX([H.prev,y,H.next,c,H.alpha,e])};h0.Bn={om:{},GZ:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
h0.Bn.v_=function(E,y){var c=et.RS,e=[c.wI,c.Vc,c.z9,c.ic,c.cG,c.S9,c.uG,c.Ja].indexOf(E.type),p=h0.Bn.om[E.type];
if(p==null)p=h0.Bn.om[E.type]=new h0.om[e];p.rh();p.pj(y,E);h0.kA.drawArrays(h0.kA.TRIANGLES,0,6)};h0.om=[];
h0.om[0]=function(){h0.H8.call(this);this.GQ={};var E="\t\t\tprecision mediump float;\t\t\t"+h0.KP.pM+"\t\t\t"+h0.KP.cl+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Rz(E,h0.Bn.GZ)};h0.om[0].prototype=new h0.H8;h0.om[0].prototype.pj=function(E,y){var c={Z:y.vB,D:y.nA,J:y.yS,U:d.R(y.vB.length)},e=c.Z.length;
if(this.GQ["m"+e]==null){this.GQ["m"+e]={aje:new h0.Ay(e,1),bb:d.R(e*4)}}var p=this.GQ["m"+e];d.Dc(c,p.bb,0);
var H=p.aje;H.set(p.bb);this.d3(["source","map","toGray","presLum"]);var Z=h0.kA,X=this.oj;Z.uniform1f(X.toGray,y.$R?1:0);
Z.uniform1f(X.presLum,y.SC?1:0);this.mX([X.source,E,X.map,H.Ln])};h0.om[1]=function(){h0.H8.call(this);
this.aey=new h0.Ay(256,1);this.a5e=d.R(256*4);var E="\t\t\t\tprecision mediump float;\t\t\t\t"+h0.KP.aH+"\t\t\t\t"+h0.KP.z_+"\t\t\t\t"+h0.KP.nf+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Rz(E,h0.Bn.GZ)};h0.om[1].prototype=new h0.H8;h0.om[1].prototype.pj=function(E,y){d.Dc({Z:y.ax8,D:y.vA,J:y.a2x,U:d.R(256)},this.a5e);
this.aey.set(this.a5e);this.d3(["source","map","cfa","cfb","colorize"]);var c=h0.kA,e=this.oj;c.uniform1f(e.cfa,y.ahw);
c.uniform1f(e.cfb,y.l7);c.uniform1i(e.colorize,y.azT);this.mX([e.source,E,e.map,this.aey.Ln])};h0.om[2]=function(){h0.H8.call(this);
var E="\t\t\tprecision mediump float;\t\t\t"+h0.KP.aH+"\t\t\t"+h0.KP.vb+"\t\t\t"+h0.KP.mf+"\t\t\t"+h0.KP.z_+"\t\t\t"+h0.KP.nf+"\t\t\t"+h0.KP.av_+"\t\t\t"+h0.KP.alj+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Rz(E,h0.Bn.GZ)};h0.om[2].prototype=new h0.H8;h0.om[2].prototype.pj=function(E,y){this.d3(["source","vib","sat","yF"]);
var c=h0.kA,e=this.oj;c.uniform1f(e.vib,y.Wp[0]);c.uniform1f(e.sat,y.Wp[1]);c.uniform3fv(e.yF,new Float32Array([y.Wp[2],y.Wp[3],y.Wp[3]]));
this.mX([e.source,E])};h0.om[3]=function(){h0.H8.call(this);var E="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Rz(E,h0.Bn.GZ)};h0.om[3].prototype=new h0.H8;h0.om[3].prototype.pj=function(E,y){this.d3(["source","trf"]);
var c=h0.kA,e=this.oj;c.uniformMatrix4fv(e.trf,!1,new Float32Array(d.Av.El(y.dX)));this.mX([e.source,E])};
h0.om[4]=function(){h0.H8.call(this);var E="\t\t\tprecision mediump float; \t\t\t"+h0.KP.Nw+"\t\t\t"+h0.KP.aH+"\t\t\t"+h0.KP.nf+"\t\t\t"+h0.KP.z_+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Rz(E,h0.Bn.GZ)};h0.om[4].prototype=new h0.H8;h0.om[4].prototype.pj=function(E,y){this.d3(["source","mnm","mxm","shift","lim"]);
var c=h0.kA,e=this.oj;c.uniform3fv(e.mnm,new Float32Array(y.rz));c.uniform3fv(e.mxm,new Float32Array(y.OC));
c.uniform3fv(e.shift,new Float32Array(y.shift));c.uniform1f(e.lim,y.gJ);this.mX([e.source,E])};h0.om[5]=function(){h0.H8.call(this);
var E="\t\t\tprecision mediump float;\t\t\t"+h0.KP.cl+"\t\t\t"+h0.KP.NH+"\t\t\t"+h0.KP.amg+"\t\t\t"+h0.KP.z_+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Rz(E,h0.Bn.GZ)};h0.om[5].prototype=new h0.H8;h0.om[5].prototype.pj=function(E,y){this.d3(["source","cfs"]);
var c=h0.kA,e=this.oj;c.uniform3fv(e.cfs,y.ac4);this.mX([e.source,E])};h0.om[6]=function(){h0.H8.call(this);
var E="\t\t\tprecision mediump float;\t\t\t"+h0.KP.aH+"\t\t\t"+h0.KP.NH+"\t\t\t"+h0.KP.amg+"\t\t\t"+h0.KP.z_+"\t\t\t"+h0.KP.nf+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Rz(E,h0.Bn.GZ)};h0.om[6].prototype=new h0.H8;h0.om[6].prototype.pj=function(E,y){this.d3(["source","wght","prms"]);
var c=h0.kA,e=this.oj,p=[y.Hy,y.amS,y.pM,y.an5,y.fH,y.azk];c.uniform1fv(e.wght,new Float32Array(y.an$));
c.uniform1fv(e.prms,new Float32Array(p));this.mX([e.source,E])};h0.om[7]=function(){h0.H8.call(this);
this.Bg={};var E="\t\t\tprecision mediump float;\t\t\t"+h0.KP.adx+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Rz(E,h0.Bn.GZ)};h0.om[7].prototype=new h0.H8;h0.om[7].prototype.pj=function(E,y){this.d3(["source","lut","N"]);
var c=h0.kA,e=this.oj,p=y.Wf,H=y.Ng;if(this.Bg["m"+p]==null)this.Bg["m"+p]=new h0.Ay(p,p*p);var Z=this.Bg["m"+p];
Z.set(H);c.uniform1f(e.N,p);this.mX([e.source,E,e.lut,Z.Ln]);c.activeTexture(c.TEXTURE1);var X=c.LINEAR;
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,X);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,X);
c.activeTexture(c.TEXTURE0)};h0.filter={kg:{},GZ:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a5Q:0,a3x:1,lH:2,azG:3,auK:4,ayW:5,xZ:6,a6r:7};
h0.filter.v_=function(E,y){var c=h0.filter,e,p=E.type+":"+(E.Ss?E.Ss.join(","):""),e=h0.filter.kg[p];
if(e==null)e=h0.filter.kg[p]=new h0.kg[E.type](E.Ss);e.rh();e.pj(y,E);h0.kA.drawArrays(h0.kA.TRIANGLES,0,6)};
h0.kg=[0,0,0,0,0,0,0,0,0,0,0,0];h0.kg[7]=function(){h0.H8.call(this);var E="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Rz(fp.m2(E),fp.m2(h0.filter.GZ))};h0.kg[7].prototype=new h0.H8;h0.kg[7].prototype.pj=function(E,y){this.d3(["source","iwh","kern"]);
var c=h0.kA,e=this.oj;c.uniform2fv(e.iwh,y.T3);c.uniform1fv(e.kern,y.aiF);this.mX([e.source,E])};h0.kg[6]=function(E){h0.H8.call(this);
var y=E[0],c=E[1],e=E[2],p="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",H=fp.m2(p);
H=H.replaceAll("PRC",e+".0");H=H.replaceAll("DIR",["x,0","0,x"][c]);this.Rz(H,h0.Bn.GZ)};h0.kg[6].prototype=new h0.H8;
h0.kg[6].prototype.pj=function(E,y){this.d3(["source","iwh","rad"]);var c=h0.kA,e=this.oj;c.uniform2fv(e.iwh,y.T3);
c.uniform1f(e.rad,y.PE);this.mX([e.source,E])};h0.kg[4]=function(E){h0.H8.call(this);var y=E[0],c=E[1],e="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+E[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][c]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][y]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][c]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(c==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Rz(e,h0.Bn.GZ)};h0.kg[4].prototype=new h0.H8;h0.kg[4].prototype.pj=function(E,y){this.d3(["source","iwh","rrad","tr"]);
var c=h0.kA,e=this.oj;c.uniform2fv(e.iwh,y.T3);c.uniform1f(e.rrad,y.ty);c.uniform1f(e.tr,y.a7T);this.mX([e.source,E]);
var p=c.LINEAR;p=c.NEAREST;c.activeTexture(c.TEXTURE0);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,p);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,p);c.activeTexture(c.TEXTURE0)};h0.kg[5]=function(){h0.H8.call(this);
var E="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Rz(fp.m2(E),fp.m2(h0.filter.GZ))};h0.kg[5].prototype=new h0.H8;h0.kg[5].prototype.pj=function(E,y){this.d3(["source","ssum","iwh","amnt","edgf"]);
var c=h0.kA,e=this.oj;c.uniform2fv(e.iwh,y.T3);c.uniform1f(e.amnt,y.akP);c.uniform1f(e.edgf,y.afw);this.mX([e.source,E,e.ssum,y.a2j])};
h0.kg[3]=function(){h0.H8.call(this);var E="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Rz(fp.m2(E),fp.m2(h0.filter.GZ))};h0.kg[3].prototype=new h0.H8;h0.kg[3].prototype.pj=function(E,y){this.d3("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var c=h0.kA,e=this.oj;c.uniform2fv(e.iwh,y.T3);c.uniform1f(e.tdep,y.a5B);c.uniform1f(e.rrad,y.ty);c.uniform2fv(e.spec,y.arh);
c.uniform3fv(e.nois,y.agM);c.uniformMatrix4fv(e.poly0,!1,y.aCG);c.uniformMatrix4fv(e.poly1,!1,y.atR);
this.mX([e.source,E]);var p=c.LINEAR;c.activeTexture(c.TEXTURE0);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,p);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,p);c.activeTexture(c.TEXTURE0)};h0.kg[0]=function(){h0.H8.call(this);
var E="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Rz(fp.m2(E),fp.m2(h0.filter.GZ))};h0.kg[0].prototype=new h0.H8;h0.kg[0].prototype.pj=function(E,y){this.d3(["source","iwh","ld","shine"]);
var c=h0.kA,e=this.oj;c.uniform2fv(e.iwh,y.T3);c.uniform3fv(e.ld,y.aaq);c.uniform1f(e.shine,y.a14);this.mX([e.source,E,e.tang,y.nE])};
h0.kg[1]=function(){h0.H8.call(this);var E="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Rz(fp.m2(E),fp.m2(h0.filter.GZ))};h0.kg[1].prototype=new h0.H8;h0.kg[1].prototype.pj=function(E,y){this.d3(["source","iwh","isc","bristle"]);
var c=h0.kA,e=this.oj;c.uniform2fv(e.iwh,y.T3);c.uniform1f(e.isc,y.anx);c.uniform1f(e.bristle,y.a6Y);
this.mX([e.source,E])};h0.kg[2]=function(){h0.H8.call(this);var E="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Rz(fp.m2(E),fp.m2(h0.filter.GZ))};h0.kg[2].prototype=new h0.H8;h0.kg[2].prototype.pj=function(E,y){this.d3(["source","tang","iwh","sigma","expo"]);
var c=h0.kA,e=this.oj;c.uniform2fv(e.iwh,y.T3);c.uniform1f(e.sigma,y.as_);c.uniform1f(e.expo,y.a0u);
this.mX([e.source,E,e.tang,y.nE]);var p=c.LINEAR;c.activeTexture(c.TEXTURE0);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,p);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,p);c.activeTexture(c.TEXTURE0)};function d(){}d.$={};
d.acy={};d.a80=function(){var E=[64,64,128,256,512,1024,2048],y=[];for(var N=0;N<E.length;N++){var c=E[N],e=document.createElement("canvas");
e.width=c;e.height=c;y.push(e.getContext("2d",{willReadFrequently:!0}))}return y}();d.FB=function(E,y){var c,e=d.a80,N=1,p=Math.max(E,y);
while(N<e.length&&p>e[N].canvas.width)N++;if(N==e.length){c=e[0];var H=c.canvas;H.width=E;H.height=y}else{c=e[N];
c.clearRect(0,0,E,y)}return c};d.qH=function(E,y,c){var e=new Uint32Array(y*c);e[0]=E[0];for(var p=1;
p<y;p++)e[p]=e[p-1]+E[p];for(var H=1;H<c;H++){var N=H*y;e[N]=e[N-y]+E[N];for(var p=1;p<y;p++)e[N+p]=E[N+p]+e[N+p-1]+e[N+p-y]-e[N+p-y-1]}return e};
d._C=function(E,y,c,e,p,H){var Z=(p-1)*y,X=H*y;return E[X+e]-E[X+c-1]-E[Z+e]+E[Z+c-1]};d.$S=function(E,y,c){var e={},p=0,H=0,Z=new Uint32Array(E.buffer),X=Z.length,b=Date.now();
for(var k=1;k<c-1;k++)for(var D=1;D<y-1;D++){var j=k*y+D,g=Z[j];if(g>>>24<230)H++;if(e[g]==null){e[g]=!0;
p++}}if(H!=0||p<20)return!1;return!0};d.o2=function(E,y,c,e,p,H){if(p==null)p=H=0;e=Math.log(e)/Math.log(2);
e=Math.round(e);var Z=new Uint32Array(E.buffer);for(var N=0;N<c;N++)for(var X=0;X<y;X++){Z[N*y+X]=d.atY(N+H,X+p,e)}};
d.av6=function(N,E,y){return 255-((N>>>y)+(E>>>y)&1)*51};d.atY=function(N,E,y){return 4294967295-((N>>>y)+(E>>>y)&1)*3355443};
d.$E=function(E,y){var c=y==null?1:y/255;return{Z:(E>>>16&255)*c,D:(E>>>8&255)*c,J:(E&255)*c}};d.UN=function(E,y){var c=y==null?1:255/y;
return Math.round(E.Z*c)<<16|Math.round(E.D*c)<<8|Math.round(E.J*c)};d.ly=function(E){var y=E.toString(16);
while(y.length<6)y="0"+y;return y};d.aya=function(E){return parseInt(E,16)};d.pM=function(E){return.3*E.Z+.59*E.D+.11*E.J};
d.mS=function(E){return Math.max(E.Z,E.D,E.J)-Math.min(E.Z,E.D,E.J)};d._f=function(E,y,c){return.3*E+.59*y+.11*c};
d.a6m=function(E,y,c){return Math.max(E,y,c)-Math.min(E,y,c)};d.NH=function(E,y){var c=y-E,e=Math.abs(c),p=c-1,H=c+1;
if(Math.abs(p)<e)c=p;else if(Math.abs(H)<e)c=H;return c};d.nW=function(E){return E<.0031308?12.92*E:1.055*Math.pow(E,1/2.4)-.055};
d.xz=function(E){return E<.04045?E/12.92:Math.pow((E+.055)/1.055,2.4)};d.a5k=function(E,y){var c=Math.min(E.length,y.length);
for(var N=0;N<c;N+=4){var e=E[N],p=E[N+1],H=E[N+2];y[N]=16+Math.floor(65.481/255*e+128.553/255*p+24.966/255*H+.5);
y[N+1]=128-Math.floor(37.797/255*e-74.203/255*p+112/255*H+.5);y[N+2]=128+Math.floor(112/255*e-93.786/255*p-18.214/255*H+.5);
y[N+3]=E[N+3]}};d.am1=function(E,y,c){var e,p,H,Z=Math.max(E,y,c),X=Math.min(E,y,c);H=Z;if(Z!=0)p=(Z-X)/Z;
else p=0;if(p==0)e=0;else{var b=Z-X,k=(Z-E)/b,D=(Z-y)/b,j=(Z-c)/b;if(E==Z)e=j-D;else if(y==Z)e=2+k-j;
else e=4+D-k;e*=1/6;if(e<0)e=e+1}return{T4:e,az:p,J:H}};d.aov=function(E,y,c){var e=0,p=0,H=0;if(y==0)e=p=H=c;
else{var Z=(E-Math.floor(E))*6,X=Math.floor(Z),b=Z-Math.floor(Z),k=c*(1-y),D=c*(1-y*b),j=c*(1-y*(1-b));
switch(X){case 0:e=c;p=j;H=k;break;case 1:e=D;p=c;H=k;break;case 2:e=k;p=c;H=j;break;case 3:e=k;p=D;
H=c;break;case 4:e=j;p=k;H=c;break;case 5:e=c;p=k;H=D;break}}return{Z:e,D:p,J:H}};d.z_=function(E,y,c){var e=Math.max(E,y,c),p=Math.min(E,y,c),H=0,Z=0,X=(e+p)*.5;
if(e!=p){var b=e-p;Z=X>.5?b/(2-(e+p)):b/(e+p);switch(e){case E:H=(y-c)/b+(y<c?6:0);break;case y:H=(c-E)/b+2;
break;case c:H=(E-y)/b+4;break}H*=1/6}return{T4:H,az:Z,qC:X}};d.nf=function(E,y,c){var e,p,H;if(y==0)e=p=H=c;
else{var Z=c<.5?c*(1+y):c+y-c*y,X=2*c-Z;e=d.aH(X,Z,E+1/3);p=d.aH(X,Z,E);H=d.aH(X,Z,E-1/3)}return{Z:e,D:p,J:H}};
d.aH=function(E,y,c){if(c<0)c+=1;if(c>1)c-=1;if(c<1/6)return E+(y-E)*6*c;if(c<1/2)return y;if(c<2/3)return E+(y-E)*(2/3-c)*6;
return E};d.vb=function(E,y,c){var e=Math.max(E,y,c),p=Math.min(E,y,c),H,Z,X=e,b=e-p;Z=e==0?0:b/e;if(e==p)H=0;
else{switch(e){case E:H=(y-c)/b+(y<c?6:0);break;case y:H=(c-E)/b+2;break;case c:H=(E-y)/b+4;break}H*=1/6}return{T4:H,az:Z,XR:X}};
d.mf=function(E,y,c){var e,p,H,N,Z,X,b,k;N=Math.floor(E*6);Z=E*6-N;X=c*(1-y);b=c*(1-Z*y);k=c*(1-(1-Z)*y);
switch(N%6){case 0:e=c,p=k,H=X;break;case 1:e=b,p=c,H=X;break;case 2:e=X,p=c,H=k;break;case 3:e=X,p=b,H=c;
break;case 4:e=k,p=X,H=c;break;case 5:e=c,p=X,H=b;break}return{Z:e,D:p,J:H}};d.eW=function(){var E=[],y=[];
for(var N=0;N<8e3;N++){var c=N*(1/4e3);E[N]=d.xz(c);y[N]=c>.008856?Math.pow(c,1/3):(903.3*c+16)*(1/116)}return[E,y]}();
d.Nw=function(E,y,c,e){if(e==null)e=[.9642,1,.8249];var p=d.eW[0],H=d.eW[1];E=p[~~(.5+E*(4e3/255))];
y=p[~~(.5+y*(4e3/255))];c=p[~~(.5+c*(4e3/255))];var Z=d.Av.azC,X=Z[0]*E+Z[1]*y+Z[2]*c,b=Z[4]*E+Z[5]*y+Z[6]*c,k=Z[8]*E+Z[9]*y+Z[10]*c;
X=X*(1/e[0]);b=b*(1/e[1]);k=k*(1/e[2]);return d.awr(X,b,k)};d.awr=function(E,y,c){var e=d.eW[1],p=e[~~(.5+E*4e3)],H=e[~~(.5+y*4e3)],Z=e[~~(.5+c*4e3)];
return{s3:116*H-16,U:500*(p-H),J:200*(H-Z)}};d.SS=function(E,y,c){var e=903.3,p=.008856,H=(E+16)/116,Z=H*H*H,X=H-c/200,b=X*X*X,k=y/500+H,D=k*k*k,j=b>p?b:(116*X-16)/e,g=Z>p?Z:(116*H-16)/e,R=D>p?D:(116*k-16)/e,t=R*96.42,w=g*100,B=j*82.49,$=d.Av.WV(d.Av.Er,[t/100,w/100,B/100,0]);
for(var N=0;N<4;N++)$[N]=Math.max(0,Math.min(255,d.nW($[N])*255));return{Z:$[0],D:$[1],J:$[2]}};d.a8B=function(E,y,c,e,p){var H=E.s3,Z=E.U,X=E.J,b=(H<y.s3?y.s3-H:c.s3<H?c.s3-H:0)*(1/100),k=(Z<y.U?y.U-Z:c.U<Z?c.U-Z:0)*(1/116),D=(X<y.J?y.J-X:c.J<X?c.J-X:0)*(1/116),j=Math.sqrt(b*b+k*k+D*D)*1.35;
return j<=e?Math.min(1,1.17*(1-j*p)):0};d.D5=function(E){var y=d.EI("cmykToRgb"),c=y[2],e=y[3],p=[0,0,0,0];
ICC.U.applyLUT4Float(e,c,E,p);return p};d.afB=function(){var E=function(j1){return Math.round(j1*255)},y="",c=3;
for(var N=0;N<tab.length;N++){var e=E(tab[N]);if(c<=N)e=e-E(tab[N-c])+256&255;y+=e.toString(16).padStart(2,"0")}return y};
d.EI=function(E){var y=LUTS["_"+E];if(y==null){var c=LUTS[E],e=c[0],j1=c[1],p=c[2],H=c[3],Z=[];for(var N=0;
N<H.length;N+=2)Z.push(parseInt(H.slice(N,N+2),16));for(var N=j1;N<Z.length;N++)Z[N]=Z[N]+Z[N-j1]&255;
for(var N=0;N<Z.length;N++)Z[N]*=1/255;y=LUTS["_"+E]=[e,j1,p,Z]}return y};d.jS=function(E){var y=d.EI("rgbToCmyk"),c=y[2],e=y[3],p=[0,0,0,0];
ICC.U.applyLUT3to4Float(e,c,E,p);return p};d.apO=function(E){for(var N=0;N<E.length;N+=4){var y=[E[N+0]*(1/255),E[N+1]*(1/255),E[N+2]*(1/255)],c=d.jS(y);
E[N+0]=255-Math.floor(.5+c[0]*255);E[N+1]=255-Math.floor(.5+c[1]*255);E[N+2]=255-Math.floor(.5+c[2]*255);
E[N+3]=255-Math.floor(.5+c[3]*255)}};d.DU=function(E,y,c){var e=E.length,p=.3,H=.59,Z=.11;if(c){p=c[0];
H=c[1];Z=c[2]}for(var N=0;N<e;N+=4)y[N>>2]=~~(E[N+0]*p+E[N+1]*H+E[N+2]*Z+.5)};d.Q9=function(E,y){var c=y.length;
for(var N=0;N<c;N+=4){var e=E[N>>>2];y[N]=e;y[N+1]=e;y[N+2]=e}};d.Dc=function(E,y){var c=E.U,e=E.Z,p=E.D,H=E.J,Z=Math.min(E.U.length,y.buffer.byteLength>>>2),X=4*Math.floor(Z/4),b=new Uint32Array(y.buffer),k=new Uint32Array(c.buffer),D=new Uint32Array(e.buffer),j=new Uint32Array(p.buffer),g=new Uint32Array(H.buffer);
for(var N=0;N<X;N+=4){var R=k[N>>2],t=g[N>>2],w=j[N>>2],B=D[N>>2];b[N]=R<<24|(t&255)<<16|(w&255)<<8|B&255;
b[N+1]=(R&65280)<<16|(t&65280)<<8|w&65280|(B&65280)>>>8;b[N+2]=(R&16711680)<<8|t&16711680|(w&16711680)>>>8|(B&16711680)>>>16;
b[N+3]=R&4278190080|(t&4278190080)>>>8|(w&4278190080)>>>16|(B&4278190080)>>>24}for(var N=X;N<Z;N++)b[N]=c[N]<<24|H[N]<<16|p[N]<<8|e[N]};
d.Rk=function(E,y){var c=y.U,e=y.Z,p=y.D,H=y.J,Z=Math.min(y.U.length,E.buffer.byteLength>>>2),X=4*Math.floor(Z/4),b=new Uint32Array(E.buffer),k=new Uint32Array(c.buffer),D=new Uint32Array(e.buffer),j=new Uint32Array(p.buffer),g=new Uint32Array(H.buffer);
for(var N=0;N<X;N+=4){var R=b[N],t=b[N+1],w=b[N+2],B=b[N+3];D[N>>2]=R&255|(t&255)<<8|(w&255)<<16|B<<24;
j[N>>2]=(R&65280)>>8|t&65280|(w&65280)<<8|(B&65280)<<16;g[N>>2]=(R&16711680)>>16|(t&16711680)>>8|w&16711680|(B&16711680)<<8;
k[N>>2]=R>>>24|t>>>24<<8|w>>>24<<16|B&4278190080}for(var N=X;N<Z;N++){var $=b[N];e[N]=$>>0&255;p[N]=$>>8&255;
H[N]=$>>16&255;c[N]=$>>24&255}};d.LI=function(E,y,c){var e=new Uint8Array(E.buffer),p=Math.min(e.length/4,y.length);
for(var N=0;N<p;N++){y[N]=e[(N<<2)+c]}};d.Og=function(E,y,c){var e=new Uint8Array(y.buffer),p=new Uint32Array(E.buffer),H=Math.min(e.length/4,E.length),N=0;
while(N+4<H){var Z=p[N>>>2];e[(N<<2)+c]=Z&255;e[(N<<2)+c+4]=Z>>>8&255;e[(N<<2)+c+8]=Z>>>16&255;e[(N<<2)+c+12]=Z>>>24;
N+=4}while(N<H){e[(N<<2)+c]=E[N];N++}};d.KT=function(E,y,c){if(c==null)c=0;var e=new Uint32Array(E.buffer),p=e.length;
for(var N=0;N<p;N++)e[N]=e[N]&c|y};d.ark=function(E,y,c,e,p){if(p==null)p=0;var H=new Uint32Array(E.buffer);
c=c.fr(y);var Z=c.x-y.x,X=c.y-y.y,b=c.m,k=c.e,D=y.m;for(var j=0;j<k;j++){var N=(X+j)*D+Z;for(var g=0;
g<b;g++){H[N]=H[N]&p|e;N++}}};d.Jt=function(E,y){var c=Math.min(E.buffer.byteLength,y.buffer.byteLength),e=c>>>2,E=new Uint32Array(E.buffer,0,e),y=new Uint32Array(y.buffer,0,e);
y.set(E)};d.rT=function(E,y){var c=E.buffer.byteLength,e=y.buffer.byteLength,p=new Uint32Array(E.buffer,0,c>>2),H=new Uint32Array(y.buffer,0,e>>2);
if(c!=e)return!1;var Z=p.length;for(var N=0;N<Z;N++)if(H[N]!=p[N])return!1;return!0};d.Ub=function(E){var y=new Uint32Array(E.buffer),c=y.length;
for(var N=0;N<c;N++)y[N]=~y[N]};d.aaY=function(E){var y=E.length;for(var N=0;N<y;N+=4){E[N]=~E[N];E[N+1]=~E[N+1];
E[N+2]=~E[N+2]}};d.a4j=function(E){var y=E.length;for(var N=3;N<y;N+=4)E[N]=~E[N]};d.adn=function(E){return E+(E%4==0?0:4-E%4)};
d.R=function(E,y){if(y==null)y=!1;if(!y)E=d.adn(E);try{var c=new Uint8Array(E)}catch(b4){alert("Not enough RAM! (need "+Math.round(E/(1<<20))+" MB)",7e3);
throw"low_ram"}return c};d.arl=function(E,y,c,e){if(e==null)e=0;var p=0;while(p+3<E.length&&E[p+3].P()>=e&&y.ul()*(1<<(p>>>1))<c)p+=2;
var H=E[1],Z=E[p+1],X=new jr;X.translate(-H.x,-H.y);X.scale(H.m/Z.m,H.e/Z.e);X.translate(H.x,H.y);X.concat(y);
return[p,X]};d.nJ=function(E){var y=E.length,c=E[y-2],e=E[y-1];while(e.m>=2&&e.e>=2){var p=d.Ws(c,e);
E.push(p.bb,p.rect);c=p.bb;e=p.rect}};d.MI=function(E){var y=E.length,c=E[y-2],e=E[y-1];while(e.m>=2&&e.e>=2){var p=d.Hu(c,e);
E.push(p.bb,p.rect);c=p.bb;e=p.rect}};d.Ws=function(E,y,c){var e=y.m,p=y.e,H=e>>1,Z=p>>1,X=new ir(y.x,y.y,H,Z),b=c&&c.length==H*Z*4?c:d.R(H*Z*4),k=new Uint32Array(E.buffer),D=new Uint32Array(b.buffer);
for(var j=0;j<Z;j++)for(var g=0;g<H;g++){var R=j*H+g,t=(j<<1)*e+(g<<1),w=k[t],B=k[t+1],$=k[t+e],o=k[t+e+1],T=w>>>24,i=B>>>24,r=$>>>24,I=o>>>24,M=T+i+r+I;
if(M==1020){var J=(w>>>0&255)+(B>>>0&255)+($>>>0&255)+(o>>>0&255)+2>>>2,P=(w>>>8&255)+(B>>>8&255)+($>>>8&255)+(o>>>8&255)+2>>>2,n=(w>>>16&255)+(B>>>16&255)+($>>>16&255)+(o>>>16&255)+2>>>2;
D[R]=255<<24|n<<16|P<<8|J}else if(M==0)D[R]=0;else{var J=(w>>>0&255)*T+(B>>>0&255)*i+($>>>0&255)*r+(o>>>0&255)*I,P=(w>>>8&255)*T+(B>>>8&255)*i+($>>>8&255)*r+(o>>>8&255)*I,n=(w>>>16&255)*T+(B>>>16&255)*i+($>>>16&255)*r+(o>>>16&255)*I,x=1/M;
J=~~(J*x+.5);P=~~(P*x+.5);n=~~(n*x+.5);D[R]=M+2>>>2<<24|n<<16|P<<8|J}}return{rect:X,bb:b}};d.auD=function(E,y,c){var e=y.m,p=y.e,H=e>>1,Z=p>>1,X=new ir(y.x,y.y,H,Z),b=c&&c.length==H*Z*4?c:d.R(H*Z*4),k=new Uint32Array(E.buffer),D=new Uint32Array(b.buffer);
for(var j=0;j<Z;j++)for(var g=0;g<H;g++){var R=j*H+g,t=(j<<1)*e+(g<<1),w=k[t],B=k[t+1],$=k[t+e],o=k[t+e+1],T=2+(w>>>0&255)+(B>>>0&255)+($>>>0&255)+(o>>>0&255)>>>2,i=2+(w>>>8&255)+(B>>>8&255)+($>>>8&255)+(o>>>8&255)>>>2,r=2+(w>>>16&255)+(B>>>16&255)+($>>>16&255)+(o>>>16&255)>>>2,I=2+(w>>>24&255)+(B>>>24&255)+($>>>24&255)+(o>>>24&255)>>>2;
D[R]=I<<24|r<<16|i<<8|T}return{rect:X,bb:b}};d.acB=function(E,y,c){var e=y.m,p=y.e,H=2*Math.floor(e/3),Z=2*Math.floor(p/3),X=new ir(y.x,y.y,H,Z),b=c&&c.length==H*Z*4?c:d.R(H*Z*4),k=new Uint32Array(E.buffer),D=new Uint32Array(b.buffer);
for(var j=0;j<Z;j+=2)for(var g=0;g<H;g+=2){var R=j*H+g,t=(j*3>>>1)*e+(g*3>>>1),w=k[t],B=k[t+1],$=k[t+2],o=k[t+e],T=k[t+1+e],i=k[t+2+e],r=k[t+e+e],I=k[t+1+e+e],M=k[t+2+e+e],J=w>>>24<<2,P=(w>>>16&255)*J,n=(w>>>8&255)*J,x=(w&255)*J,L=B>>>24<<1,u=(B>>>16&255)*L,C=(B>>>8&255)*L,h=(B&255)*L,A=$>>>24<<2,W=($>>>16&255)*A,Q=($>>>8&255)*A,l=($&255)*A,O=o>>>24<<1,z=(o>>>16&255)*O,a=(o>>>8&255)*O,m=(o&255)*O,q=T>>>24,K=(T>>>16&255)*q,U=(T>>>8&255)*q,f=(T&255)*q,Y=i>>>24<<1,G=(i>>>16&255)*Y,V=(i>>>8&255)*Y,dF=(i&255)*Y,s=r>>>24<<2,aH=(r>>>16&255)*s,dw=(r>>>8&255)*s,kO=(r&255)*s,hX=I>>>24<<1,jF=(I>>>16&255)*hX,gn=(I>>>8&255)*hX,hM=(I&255)*hX,ie=M>>>24<<2,bN=(M>>>16&255)*ie,kd=(M>>>8&255)*ie,i7=(M&255)*ie,dn=J+L+O+q,ew=A+L+Y+q,e4=s+hX+O+q,eE=ie+hX+Y+q,jc=dn==0?0:1/dn,ft=ew==0?0:1/ew,bd=e4==0?0:1/e4,iB=eE==0?0:1/eE,cG=0,bT=0,g$=0,hU=0;
cG=~~(.5+(x+h+m+f)*jc);bT=~~(.5+(n+C+a+U)*jc);g$=~~(.5+(P+u+z+K)*jc);hU=~~(.5+dn*(1/9));D[R]=hU<<24|g$<<16|bT<<8|cG;
cG=~~(.5+(l+h+dF+f)*ft);bT=~~(.5+(Q+C+V+U)*ft);g$=~~(.5+(W+u+G+K)*ft);hU=~~(.5+ew*(1/9));D[R+1]=hU<<24|g$<<16|bT<<8|cG;
cG=~~(.5+(kO+hM+m+f)*bd);bT=~~(.5+(dw+gn+a+U)*bd);g$=~~(.5+(aH+jF+z+K)*bd);hU=~~(.5+e4*(1/9));D[R+H]=hU<<24|g$<<16|bT<<8|cG;
cG=~~(.5+(i7+hM+dF+f)*iB);bT=~~(.5+(kd+gn+V+U)*iB);g$=~~(.5+(bN+jF+G+K)*iB);hU=~~(.5+eE*(1/9));D[R+H+1]=hU<<24|g$<<16|bT<<8|cG}return{rect:X,bb:b}};
d.azI=function(E,y,c){var e=y.m,p=y.e,H=2*Math.floor(e/3),Z=2*Math.floor(p/3),X=new ir(y.x,y.y,H,Z),b=c&&c.length==H*Z*4?c:d.R(H*Z*4),k=new Uint32Array(E.buffer),D=new Uint32Array(b.buffer);
for(var j=0;j<Z;j+=2)for(var g=0;g<H;g+=2){var R=j*H+g,t=(j*3>>>1)*e+(g*3>>>1),w=k[t],B=k[t+1],$=k[t+2],o=k[t+e],T=k[t+1+e],i=k[t+2+e],r=k[t+e+e],I=k[t+1+e+e],M=k[t+2+e+e],J=(w>>>16&255)<<2,P=(w>>>8&255)<<2,n=(w&255)<<2,x=(B>>>16&255)<<1,L=(B>>>8&255)<<1,u=(B&255)<<1,C=($>>>16&255)<<2,h=($>>>8&255)<<2,A=($&255)<<2,W=(o>>>16&255)<<1,Q=(o>>>8&255)<<1,l=(o&255)<<1,O=T>>>16&255,z=T>>>8&255,a=T&255,m=(i>>>16&255)<<1,q=(i>>>8&255)<<1,K=(i&255)<<1,U=(r>>>16&255)<<2,f=(r>>>8&255)<<2,Y=(r&255)<<2,G=(I>>>16&255)<<1,V=(I>>>8&255)<<1,dF=(I&255)<<1,s=(M>>>16&255)<<2,aH=(M>>>8&255)<<2,dw=(M&255)<<2,kO=0,hX=0,jF=0;
kO=~~(.5+(n+u+l+a)*(1/9));hX=~~(.5+(P+L+Q+z)*(1/9));jF=~~(.5+(J+x+W+O)*(1/9));D[R]=255<<24|jF<<16|hX<<8|kO;
kO=~~(.5+(A+u+K+a)*(1/9));hX=~~(.5+(h+L+q+z)*(1/9));jF=~~(.5+(C+x+m+O)*(1/9));D[R+1]=255<<24|jF<<16|hX<<8|kO;
kO=~~(.5+(Y+dF+l+a)*(1/9));hX=~~(.5+(f+V+Q+z)*(1/9));jF=~~(.5+(U+G+W+O)*(1/9));D[R+H]=255<<24|jF<<16|hX<<8|kO;
kO=~~(.5+(dw+dF+K+a)*(1/9));hX=~~(.5+(aH+V+q+z)*(1/9));jF=~~(.5+(s+G+m+O)*(1/9));D[R+H+1]=255<<24|jF<<16|hX<<8|kO}return{rect:X,bb:b}};
d.Oi=function(E){var y=255,c=E.length;c-=c&31;for(var N=3;N<c;N+=32)y=y&E[N]&E[N+4]&E[N+8]&E[N+12]&E[N+16]&E[N+20]&E[N+24]&E[N+28];
return y!=255};d.K4=function(E,y,c,e){var p=d.Ws,H=d.acB;if(!d.Oi(E)){p=d.auD;H=d.azI}var Z={bb:E,rect:y},X=d.Fz(c);
for(var N=0;N<X.length;N++){if(X[N]==2)Z=p(Z.bb,Z.rect,e);else Z=H(Z.bb,Z.rect,e)}return Z};d.aqp=function(E,y,c,e){var p=d.Hu,H=d.aoG,Z={bb:E,rect:y},X=d.Fz(c);
for(var N=0;N<X.length;N++){if(X[N]==2)Z=p(Z.bb,Z.rect,e);else Z=H(Z.bb,Z.rect,e)}return Z};d.Fz=function(E){var y=[],c=E;
while(c<.499){y.push(2);c*=2}y.push(c<.5001?2:3);return y};d.Hu=function(E,y,c){var e=y.m,p=y.e,H=e>>1,Z=p>>1,X=new ir(y.x,y.y,H,Z);
if(E==null)return{rect:X};var b=c&&c.length>=H*Z?c:d.R(H*Z);for(var k=0;k<Z;k++){var D=k*H;for(var j=0;
j<H;j++){var g=(k<<1)*e+(j<<1);b[D+j]=2+E[g]+E[g+1]+E[g+e]+E[g+e+1]>>>2}}return{rect:X,bb:b}};d.aoG=function(E,y,c){var e=y.m,p=y.e,H=2*Math.floor(e/3),Z=2*Math.floor(p/3),X=new ir(y.x,y.y,H,Z);
if(E==null)return{rect:X};var b=c&&c.length>=H*Z?c:d.R(H*Z);for(var k=0;k<Z;k+=2)for(var D=0;D<H;D+=2){var j=k*H+D,g=(k*3>>>1)*e+(D*3>>>1),R=E[g]<<2,t=E[g+1]<<1,w=E[g+2]<<2,B=E[g+e]<<1,$=E[g+1+e],o=E[g+2+e]<<1,T=E[g+e+e]<<2,i=E[g+1+e+e]<<1,r=E[g+2+e+e]<<2;
b[j]=~~(.5+(R+t+B+$)*(1/9));b[j+1]=~~(.5+(w+t+o+$)*(1/9));b[j+H]=~~(.5+(T+i+B+$)*(1/9));b[j+H+1]=~~(.5+(r+i+o+$)*(1/9))}return{rect:X,bb:b}};
d.a7w=function(E,y,c,e,p){var H=y.fr(e);if(p)H=H.fr(p);var Z=Math.max(0,H.x-y.x),X=Math.max(0,H.x-e.x),b=Math.max(0,H.y-y.y),k=Math.max(0,H.y-e.y),D=H.m,j=H.e;
for(var N=0;N<j;N++){var g=(b+N)*y.m+Z,R=(k+N)*e.m+X;for(var t=0;t<D;t++){c[R+t]=Math.max(c[R+t],E[g+t])}}};
d.kh=function(E,y,c,e,p){var H=y.fr(e);if(p)H=H.fr(p);var Z=Math.max(0,H.x-y.x),X=Math.max(0,H.x-e.x),b=Math.max(0,H.y-y.y),k=Math.max(0,H.y-e.y),D=H.m,j=H.e;
for(var N=0;N<j;N++){var g=(b+N)*y.m+Z,R=(k+N)*e.m+X;c.set(new Uint8Array(E.buffer,g,D),R)}};d.aaC=function(E,y,c,e){if(y.rT(e)){d.Og(E,c,3);
return}var p=y.fr(e),H=Math.max(0,p.x-y.x),Z=Math.max(0,p.x-e.x),X=Math.max(0,p.y-y.y),b=Math.max(0,p.y-e.y),k=p.m,D=p.e;
for(var N=0;N<D;N++){var j=(X+N)*y.m+H,g=(b+N)*e.m+Z;for(var R=0;R<k;R++)c[(g+R<<2)+3]=E[j+R]}};d.xN=function(E,y,c,e){var p=y.fr(e),H=Math.max(0,p.x-y.x),Z=Math.max(0,p.x-e.x),X=Math.max(0,p.y-y.y),b=Math.max(0,p.y-e.y),k=p.m,D=p.e;
for(var N=0;N<D;N++){var j=(X+N)*y.m+H,g=(b+N)*e.m+Z;for(var R=0;R<k;R++)c[g+R]=E[(j+R<<2)+3]}};d.E6=function(E,y,c,e,p){if(y.rT(e)&&(p==null||p.rT(e))){d.Jt(E,c);
return}E=new Uint32Array(E.buffer),c=new Uint32Array(c.buffer);var H=y.fr(e);if(p)H=H.fr(p);var Z=Math.max(0,H.x-y.x),X=Math.max(0,H.x-e.x),b=Math.max(0,H.y-y.y),k=Math.max(0,H.y-e.y),D=H.m,j=H.e,g=D&3,R=g==0?D:D-g;
for(var N=0;N<j;N++){var t=(b+N)*y.m+Z,w=(k+N)*e.m+X;c.set(new Uint32Array(E.buffer,t*4,D),w)}};d.IO=function(E,y,c,e){var p=y.fr(e),H=Math.max(0,p.x-y.x),Z=Math.max(0,p.x-e.x),X=Math.max(0,p.y-y.y),b=Math.max(0,p.y-e.y),k=p.m,D=p.e,j=E.U,g=E.Z,R=E.D,t=E.J,w=c.U,B=c.Z,$=c.D,o=c.J;
for(var N=0;N<D;N++){var T=(X+N)*y.m+H,i=(b+N)*e.m+Z;for(var r=0;r<k;r++){w[i+r]=j[T+r];B[i+r]=g[T+r];
$[i+r]=R[T+r];o[i+r]=t[T+r]}}};d.xU=function(E){var y=E.length;for(var N=0;N<y;N+=4){var c=E[N+3];if(c==255)continue;
E[N]=~~(E[N]*c*(1/255)+.5);E[N+1]=~~(E[N+1]*c*(1/255)+.5);E[N+2]=~~(E[N+2]*c*(1/255)+.5)}};d.sR=function(E){var y=E.length;
for(var N=0;N<y;N+=4){var c=E[N+3];if(c==0||c==255)continue;var e=255/c;E[N]=~~(E[N]*e+.5);E[N+1]=~~(E[N+1]*e+.5);
E[N+2]=~~(E[N+2]*e+.5)}};d.lN=function(E,y){for(var N=0;N<E.length;N++)if(E[N]!=y)return!1;return!0};
d.oK=function(E){return E+1+(E>>>8)>>>8};d.round=function(E,y){if(y==null)y=128;var c=E.length;for(var N=0;
N<c;N++)E[N]=E[N]<y?0:255};d.Bl=function(E,y){var c=E.length;for(var N=0;N<c;N++)E[N]=Math.round(E[N]*y)};
d.Dk=function(E,y){var c=new Uint32Array(E.buffer),e=new Uint32Array(y.buffer),p=c.length;for(var N=0;
N<p;N++){var H=c[N],Z=e[N];e[N]=d.oK((H>>>24)*(Z>>>24))<<24|d.oK((H>>>16&255)*(Z>>>16&255))<<16|d.oK((H>>>8&255)*(Z>>>8&255))<<8|d.oK((H&255)*(Z&255))}};
d.pe=function(E,y){var c=E.length;for(var N=0;N<c;N++)y[(N<<2)+3]=d.oK(y[(N<<2)+3]*E[N])};d.azL=function(E,y,c,e){var p=Math.max(0,e.x-y.x),H=Math.max(0,y.x-e.x),Z=Math.max(0,e.y-y.y),X=Math.max(0,y.y-e.y),b=Math.min(y.x+y.m,e.x+e.m)-Math.max(y.x,e.x),k=Math.min(y.y+y.e,e.y+e.e)-Math.max(y.y,e.y);
for(var N=0;N<k;N++){var D=(Z+N)*y.m+p,j=(X+N)*e.m+H;for(var g=0;g<b;g++){c[j]=d.oK(c[j]*E[D]);D++;j++}}};
d.ys=function(E,y,c,e){var p=Math.max(0,e.x-y.x),H=Math.max(0,y.x-e.x),Z=Math.max(0,e.y-y.y),X=Math.max(0,y.y-e.y),b=Math.min(y.x+y.m,e.x+e.m)-Math.max(y.x,e.x),k=Math.min(y.y+y.e,e.y+e.e)-Math.max(y.y,e.y);
for(var N=0;N<k;N++){var D=(Z+N)*y.m+p,j=((X+N)*e.m+H<<2)+3;for(var g=0;g<b;g++){c[j]=d.oK(c[j]*E[D]);
D++;j+=4}}};d.xf=function(E,y,c,e){var p=Math.max(0,e.x-y.x),H=Math.max(0,y.x-e.x),Z=Math.max(0,e.y-y.y),X=Math.max(0,y.y-e.y),b=Math.min(y.x+y.m,e.x+e.m)-Math.max(y.x,e.x),k=Math.min(y.y+y.e,e.y+e.e)-Math.max(y.y,e.y);
for(var N=0;N<k;N++){var D=((Z+N)*y.m+p<<2)+3,j=((X+N)*e.m+H<<2)+3;for(var g=0;g<b;g++){c[j]=d.oK(c[j]*E[D]);
D+=4;j+=4}}};d.KQ=function(E,y){if(y==null)y=1;var c=4*y,e=E.length>>>2,p=new Float64Array(256),H=new Float64Array(256),Z=new Float64Array(256),X=new Float64Array(256),b=4*Math.floor(e/y)*y,k=0;
for(var N=0;N<b;N+=c){var D=E[N+0],j=E[N+1],g=E[N+2],R=E[N+3]*y,t=R*(1/255);H[D]+=t;Z[j]+=t;X[g]+=t;
k+=R}for(var N=0;N<256;N++)p[N]=H[N]+Z[N]+X[N];return[p,H,Z,X,e,k/255]};d.ap1=function(E,y){function c(I,M){var J=-1,P=0;
while(P<=M){J++;P+=I[J]}return J}function e(I,M){var J=256,P=0;while(P<=M){J--;P+=I[J]}return J}function p(I){var M=0,J=0;
for(var N=0;N<256;N++){J+=I[N];M+=I[N]*N*(1/255)}return M/J}var H=E[0],Z=E[1]/100,X=E[2]/100,b=[],k=[];
for(var N=0;N<4;N++){var D=N==0?3:1;b[N]=c(y[N],D*Z*y[5]);k[N]=e(y[N],D*X*y[5])}var j=[p(y[1]),p(y[2]),p(y[3])],g=j.slice(0);
g.sort(function(I,M){return I-M});var R=j.indexOf(g[1]),t=(j[0]+j[1]+j[2])/3,w=[];for(var N=0;N<4;N++){var B=0,$=255,o=b[N],T=k[N];
if(H==0&&N==0){B=o;$=T}if(H==1&&N!=0){B=o;$=T}if(H==2&&N!=0){var D=j[N-1]/t;$=Math.max(0,Math.min(255,k[R]*D))}var i=[B,$];
w.push(i);if(H==3&&N==0){var r=255*(1-t);i.push(r)}}return w};d.aqO=function(E,y){var c=new Uint32Array(E.buffer),e=c.length;
for(var N=0;N<e;N++){var p=c[N],H=p&255,Z=p>>8&255,X=p>>16&255,b=p>>24&255;c[N]=y[H]|y[Z]<<8|y[X]<<16|y[b]<<24}};
d.aeq=function(E,y,c,e,p,H,Z){var X=new Uint32Array(E.buffer),b=new Uint32Array(y.buffer),k=X.length,D=0;
while(256<<D<c.length)D++;if(!Z&&!H){for(var N=0;N!=k;N++){var j=X[N],g=(j&255)<<D,R=(j>>>8&255)<<D,t=(j>>>16&255)<<D,w=c[g],B=e[R],$=p[t];
b[N]=w|B<<8|$<<16|j&4278190080}return}for(var N=0;N<k;N++){var j=X[N],g=(j&255)<<D,R=(j>>>8&255)<<D,t=(j>>>16&255)<<D;
if(H)g=R=t=Math.round(g*.3+R*.59+t*.11);var w=c[g],B=e[R],$=p[t];if(Z){var o=d._f(g,R,t),T=d._f(w,B,$);
if(o>T){var i=(o-T)/(255-T);w+=i*(255-w);B+=i*(255-B);$+=i*(255-$)}else if(T==0)w=B=$=0;else{var i=o/T;
w=i*w;B=i*B;$=i*$}}b[N]=w|B<<8|$<<16|j&4278190080}};d.pL=function(E,y){var c=y.m,e=y.e,top=0,p=0,H=0,Z=0,X=0;
X=0;for(var b=0;b<e;b++){var k=b*c;for(var N=0;N<c;N++)X|=E[k+N];if(X!=0)break;top++}if(top==e)return new ir(0,0,0,0);
X=0;for(var b=e-1;b>=0;b--){var k=b*c;for(var N=0;N<c;N++)X|=E[k+N];if(X!=0)break;H++}var D=e-H;X=0;
for(var N=0;N<c;N++){for(var b=top;b<D;b++)X|=E[b*c+N];if(X!=0)break;p++}X=0;for(var N=c-1;N>=0;N--){for(var b=top;
b<D;b++)X|=E[b*c+N];if(X!=0)break;Z++}var j=new ir(y.x+p,y.y+top,c-p-Z,e-top-H);return j};d.aD=function(E,y,c,e,p){if(e==null)e=[!0,!0,!0,!0];
if(c==null)c=0;if(p==null)p=4294967295;var H=new Uint32Array(E.buffer),Z=y.m,X=y.e,top=0,b=0,k=0,D=0,j=!1,g=[H[0],H[H.length-1],0][c];
j=!1;if(e[0])for(var R=0;R<X;R++){var t=R*Z;for(var N=0;N<Z;N++)if(H[t+N]&p^g)j=!0;if(j)break;top++}j=!1;
if(e[2])for(var R=X-1;R>=0;R--){var t=R*Z;for(var N=0;N<Z;N++)if(H[t+N]&p^g)j=!0;if(j)break;k++}j=!1;
if(e[1])for(var N=0;N<Z;N++){for(var R=0;R<X;R++)if(H[R*Z+N]&p^g)j=!0;if(j)break;b++}j=!1;if(e[3])for(var N=Z-1;
N>=0;N--){for(var R=0;R<X;R++)if(H[R*Z+N]&p^g)j=!0;if(j)break;D++}var w=new ir(y.x+b,y.y+top,Z-b-D,X-top-k);
return w.tj()?new ir(0,0,0,0):w};d.Q8=function(E){var y=d.pL(E.channel,E.rect);if(y.rT(E.rect))return;
var c=d.R(y.P());d.kh(E.channel,E.rect,c,y);E.channel=c;E.rect=y};d.ig=function(E){var y=d.aD(E.buffer,E.rect,2,null,4278190080);
if(y.rT(E.rect))return;var c=new d.R(y.P()*4);d.E6(E.buffer,E.rect,c,y);E.buffer=c;E.rect=y};d.extend=function(E,y,c){if(E.rect.Rq(y))return;
var e=E.rect.uN(y),p=d.R(e.P());if(c!=null)p.fill(c);d.kh(E.channel,E.rect,p,e);E.rect=e;E.channel=p};
d.ahT=function(E,y){if(y.tj()||E.rect.Rq(y))return;var c=E.rect.uN(y),e=d.R(c.P()*4);d.E6(E.buffer,E.rect,e,c);
E.rect=c;E.buffer=e};d.U1=function(E,y,c){if(!c.u6(E))return!1;var e=Math.floor(E.x)-c.x,p=Math.floor(E.y)-c.y,N=p*c.m+e;
return y[N]>128};d.aAh=function(E,y,c){if(!c.u6(E))return!1;var e=Math.floor(E.x)-c.x,p=Math.floor(E.y)-c.y,N=p*c.m+e;
return y[4*N+3]>128};d.KC=function(E){if(d.WZ.length<E){d.WZ=d.R(E);d.WZ.fill(255)}return d.WZ};d.WZ=d.R(0);
d.Lt=function(E){if(d.Yh.length<E)d.Yh=d.R(E);return d.Yh};d.Yh=d.R(0);d.Ay=function(E){this.U=d.R(E);
this.Z=d.R(E);this.D=d.R(E);this.J=d.R(E)};d.Ay.prototype.clone=function(){var E=this.U.length,y=new d.Ay(1);
y.U=this.U.slice(0);y.Z=this.Z.slice(0);y.D=this.D.slice(0);y.J=this.J.slice(0);return y};d.$.apy=function(E,y,c,e,p){var H=p[0]+1,Z=p[1],X=Math.abs(Z-25)/4,b=p[2],k=b%2+b*b>>1,D=d.$.s;
D.Rz(y,c);var j=D.zk(1),g=D.zk(1),R=D.zk(1);D.a$(E,e,b,b,k);D.sW(e);D.L4(e,j);D.kY(j,g,H,H,1);D.kY(j,R,H,H,H*H);
D.sub(R,g);D.Dk(g,X);(Z<25?D.sub:D.add)(j,g);D.H4(g,e);D.Af(e)};d.$.ajZ=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=p[0]*2.55,X=p[1],b=X>>1,k=p[2]*.25,D=H.zk(4),j=H.zk(1),g=H.zk(1);H.QN(E,D,X,1,!0,b);
H.QN(E,e,X,1,!1,b);H.KS(E,j);H.Np(j,Z);H.Pu(j,g,3);H.Vh(e,g,D);H.wG(D,e,k)};d.$.apv=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);H.e9(p[3]);var Z=p[0]*-3+80,X=p[1]*-3+80,b=p[2]/2+.5,k=p[4],D=p[5],j=H.zk(1),g=H.zk(1),R=H.zk(1),t=H.zk(1),w=H.zk(4),B=H.zk(4);
H.KS(E,j);H.Jt(j,g);H.lw(j,X,5);H.a0j(j,.4,0);H.Pu(j,R,3);H.Sa(R,j,9,3,!0,27);H.Jt(g,R);H.Ub(R);var $=H.Jc(Z,5,R);
for(var N=0;N<H.UI;N++){g[N]=$[255-g[N]]}H.a0j(g,.4,0);H.Jt(g,R);H.Pu(R,t,2);H.Sa(t,R,5,3,!1,15);H.Dk(j,b);
H.Dk(R,b);H.eB(e,2155905279);H.eB(B,k);H.eB(w,D);H.Vh(B,j,e);H.Vh(w,R,e)};d.$.atZ=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=new Uint8Array(256),X=5+10*p[1];X+=p[1]>3?(p[1]-3)*10:0;var b=~~(p[2]*.73)+50,k=Math.min(b+X,128),D=k-b,j=-255*b;
for(var N=0;N<256;N++){var g=N*65;Z[N]=H.SP(j/D);j+=255}var R=H.zk(1),t=H.zk(1),w=H.zk(1);H.KS(E,R);
H.Jt(R,w);H.Pu(R,t,2*p[0]+1);H.sub(t,R);H.Dk(R,65);H.Sa(R,t,9,3,!0,20);for(var N=0;N<H.UI;N++){var B=w[N],$=t[N];
R[N]=$>0?~~(($*B+(255-$)*128)/255):128}H.Pu(R,t,3);H.Sa(t,R,15,2,!0,16);H.Sa(t,w,15,2,!1,15);H.sb(R,w);
H.ST(w,t,2);H.tz(t,Z);H.Pu(t,R,2);H.rx(R,e)};d.$.ahj=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);var Z=2*p[0]+1,X=H.ayo[p[1]],b=p[2]*5.1,k=p[3],D=H.zk(1),j=H.zk(1),g=H.zk(4),R=H.zk(4);
H.eB(g,k);H.sW(g,e);H.a7m(D,b);H.H4(D,e);H.Af(e,g);H.KS(E,j);H.Pu(j,D,Z);H.sub(D,j);H.Dk(j,X);H.Sa(j,D,9,3,!0,20);
H.Vh(E,D,g);H.I5(g,e,3);H.QN(e,g,15,2,!0,16);H.QN(e,R,15,2,!1,16);H.sb(g,R);H.wG(R,e,2)};d.$.aAE=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=(15-p[0])/4+1,X=(15-p[1])/4+1,b=p[2],k=p[3],D=H.HH(p[4]),j=p[5]+1,g=p[6],R=p[7],t=p[8],w=H.zk(1),B=H.zk(1),$=H.zk(1),o=H.zk(1),T=H.zk(4),i=H.zk(4);
H._s($,b,k,g);H.KS(E,B);H.Pu(B,w,5);H.g5($,w,o,j,D);H.Dk(o,Z);H.Wk(o,2);H.Ub(w);H.g5($,w,B,j,D);H.Dk(B,X);
H.Wk(B,2);H.eB(T,2155905279);H.eB(i,R);H.eB(e,t);H.Vh(T,B,i);H.Vh(i,o,e)};d.$.a5Y=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);H.e9(p[3]);var Z=p[0],X=p[1]/10,b=p[2]/10,k=H.zk(1),D=H.zk(1),j=H.zk(1),g=H.Ju(),R=H.Ju(),t=H.Ju();
H.RL(k);H.Pu(k,D,11);H.Pu(D,k,11);H.wi(k,g);H.MC(E,k);H.Jt(k,j);H.Pu(k,D,9);H.Pu(D,k,9);H.wi(k,R);H.XW(R,t,5);
H.XW(t,R,5);H.azJ(g,.8);H.a1v(g,R,.8,.9);H.atp(R,k,Z);H.kY(k,D,2,2,1);H.kY(D,k,2,2,3);H.kY(k,D,2,2,3);
H.kY(j,k,5,5,13);H.Gb(D,k,D,X);H.zL(k,D,D,b);H.g5(D,D,k,5,1);H.sW(E,e);H.H4(k,e);H.Af(e)};d.$.aa8=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=p[0],X=p[1]/2,b=p[2],k=Z/2,D=H.zk(4),j=H.zk(4);H.Jt(E,e);for(var g=0;g<b;g++){H.QN(e,D,Z,1,!0,k);
H.QN(e,j,Z,1,!1,k);H.sb(j,D);H.I5(D,j,2);H.wG(j,e,X)}};d.$.an1=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);
var Z=p[0]*10,X=p[1]*4.9,b=p[2]*4.9,k=H.zk(1),D=H.zk(1),j=H.zk(4),g=H.zk(4);H.KS(E,k);H.Np(k,H.anh(k,Z));
H.Pu(k,D,3);H.QN(E,j,5,1,!1,1);H.QN(E,e,15,2,!0,16);H.Vh(e,D,j);H.sW(j,e);H.L4(e,k);H.lw(k,X,b);H.H4(k,e);
H.Af(e)};d.$.a3e=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);H.e9(p[4]);var Z=p[0]/20,X=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][p[1]],b=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][p[2]],k=p[3],D=new Int16Array(256);
for(var N=0;N<256;N++){D[N]=~~((N-128)*Z)}var j=H.zk(1),g=H.zk(1),R=H.zk(4);H.KS(E,j);H.Pu(j,g,25);H.Dk(g,X);
H.Wk(g,b);H.Pu(g,j,25);H.RL(g);H.a4A(j,g,D);H.Jt(E,e);H.eB(R,k);H.Vh(R,j,e)};d.$.aCJ=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=p[0]+5,X=15-p[1],b=Z*Z/2,k=1-(3-p[2])/10,D=~~(X*X*k-1),j=~~(X*X*(1-k));if(j==0)j=1;var g=H.zk(1),R=H.zk(1),t=H.zk(1),w=H.zk(4);
H.KS(E,t);H.kY(t,g,Z,Z,b);H.Pu(t,R,Z);H.sub(g,R);H.Np(R,1);H.a$(E,w,X,X,D);H.a$(E,e,X,X,j);H.Vh(w,R,e)};
d.$.arA=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);H.e9(p[3]);var Z=(20-p[0])*.05,X=p[1]*-2.75+60,b=65-X,k=p[2]/10,D=H.zk(1),j=H.zk(1);
H.MC(E,j);var g=H.Jc(X,b,j);H.sW(E,e);H.L4(e,j);H.RL(D);H.U9(j,D,Z);H.tz(j,g);H.Dk(j,p[2]/10);H.add(D,j);
H.H4(j,e);H.Af(e)};d.$.adF=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);var Z=5+p[0],X=15-p[1],b=p[2],k=Z*Z/2+Z*Z%2*1,D=1-(3-p[2])/10,j=~~(X*X*D-1),g=~~(X*X*(1-D));
if(g==0)g=1;var R=H.zk(1),t=H.zk(1),w=H.zk(1),B=H.zk(1),$=H.zk(1);H.MC(E,t);H.ST(t,R,3);H.kY(R,t,2,2,1);
var o=H.Jc(20,20,t);H.tz(t,o);H.Pu(t,$,5);H.kY($,R,Z,Z,k);H.kY($,t,X,X,j);H.kY($,w,X,X,g);H.Pu($,B,Z);
H.sub(R,B);H.Np(B,1);H.anq(t,B,w);H.sW(E,e);H.H4(w,e);H.Af(e)};d.$.apR=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);H.e9(p[5]);var Z=H.UI,X=H.GO,b=p[0],k=p[1],D=p[2],j=p[3],g=p[4],R=.05*b+1,t=b/100,w=b>>1,B=2*b-100,$=+(k==9),o=+(k==7),T=[4,1][$],i=[3,2][$],r=[1,2][o],I=[2,1][o],M=[50,75][$],J=k<4?D:(D>>1)+50,P=H.a9D(M,J),n=H.J1(j),x=H.J1(g),L=H.zk(4),u=H.zk(4),C=H.zk(1),h=H.zk(1);
function A(e,P){if(J!=50){H.aqf(e,P)}}function W(E,G){for(var N=0;N<Z;N++){E[N]=H.SP(E[N]+(G[N]-128)*t)}}function Q(E,G){for(var N=0,V=0;
N<Z;N++){E[V]=H.SP(E[V]+(G[V]-128)*t);E[V+1]=H.SP(E[V+1]+(G[V+1]-128)*t);E[V+2]=H.SP(E[V+2]+(G[V+2]-128)*t);
V+=4}}function l(E,e){H.RL(u);H.Jt(E,e);Q(e,u);A(e,P)}function O(G){var V=0;for(var dF=0;dF<12;dF++)V+=H.random();
return H.SP(w*(V-6)+G)}function z(E,e){H.Jt(E,e);for(var N=0;N<X;N+=4){e[N]=O(e[N]);e[N+1]=O(e[N+1]);
e[N+2]=O(e[N+2])}A(e,P)}function a(E,e){H.Jt(E,e);for(var N=0;N<X;N+=4){if(H.random()<t){e[N]=n[0];e[N+1]=n[1];
e[N+2]=n[2]}}A(e,P)}function m(E,e){H.RL(L);H.a$(L,u,i,i,T);H.Jt(E,L);Q(L,u);H.a$(L,e,5,5,13);A(e,P)}function q(E,e){H.RL(u);
H.Jt(E,L);Q(L,u);A(e,P);H.a$(L,e,i,i,T)}function K(E,e){H.Jt(E,L);A(e,P);H.KS(L,C);for(var N=0,G=0;N<Z;
N++){var V=((B-C[N]+255)*128.5+.5)/32767;if(H.random()<=V){e[G++]=x[0];e[G++]=x[1];e[G++]=x[2]}else{e[G++]=n[0];
e[G++]=n[1];e[G++]=n[2]}e[G]=E[G];G++}}function U(E,e){H.sW(E,e);H.L4(e,C);H.ST(C,h,R);H.kY(h,C,i,i,T);
H.tz(C,P);H.H4(C,e);H.Af(e)}function f(E){var G=0;if(k==8){for(var V=0;V<y;V++){E[G++]=~~(H.random()*255)}for(var N=1;
N<c;N++){for(var V=0;V<y;V++){E[G++]=E[V]}}}else{for(var N=0;N<c;N++){var dF=~~(H.random()*255);for(var V=0;
V<y;V++){E[G++]=dF}}}}function Y(E,e){H.KS(E,C);H.RL(h);W(C,h);f(h);W(C,h);H.I5(E,L,9);H.I5(L,u,9);H.Pu(C,h,2);
H.tz(h,P);H.Pu(h,C,2);H.sW(u,e);H.H4(C,e);H.Af(e)}[l,z,a,m,m,q,K,Y,Y,U][k](E,e)};d.$.acZ=function(E,y,c,e,p){var H=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],Z=d.$.s,w=0,B,N,r,I,M,J=0,P=1,n=255;
Z.Rz(y,c);Z.e9(p[3]);var X=Z.zk(1),b=Z.zk(1);Z.KS(E,X);var k=p[0],D=p[1],j=D<=50?H[D]/255:1+(255-H[101-D])/255,g=p[2],R=X.length,t=new Float32Array(R),$=1+1/10*k,o=(1-1/$)/2,T=16/256,i=y-1;
for(N=0;N<Z.UI;N++){t[N]=X[N]/255;b[N]=k==1?Z.random()<1/255?n:P:P}function x(L,u){var C=L*y+u;if(b[C]!=P||L>=c||u>=y){return}var I=t[C],h=j-I,A=Z.random(),W=A/$+o;
if(w==0||Math.abs(M-I)>T){B=W<=h?J:n;w=~~(Z.random()*k)}else if(.1<A){w--}else{w=0}b[C]=B;M=I}if(g==0){for(N=0;
N<y;N++){for(r=0;r<y;r++){I=N+r;if(I>=y)break;x(r,i-I)}w=0}for(N=1;N<c;N++){for(r=0;r<c;r++){I=N+r;if(I>=c||r>=y)break;
x(I,i-r)}w=0}}else if(g==1){for(N=0;N<c;N++){for(r=0;r<y;r++){x(N,r)}w=0}}else if(g==2){for(N=0;N<y;
N++){for(r=0;r<y;r++){I=N+r;if(I>=y)break;x(r,I)}w=0}for(N=1;N<c;N++){for(r=0;r<c;r++){I=N+r;if(I>=c||r>=y)break;
x(I,r)}w=0}}else{for(N=0;N<y;N++){for(r=0;r<c;r++){x(r,N)}w=0}}Z.rx(b,e)};d.$.aai=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=p[0],X=p[1],b=p[2],k=H.zk(1),D=H.zk(1),j=H.zk(1),g=H.zk(1),R=H.zk(4),t=H.zk(4);H.L4(E,g,3,4);
H.KS(E,k);H.kY(k,D,3,3,1);H.kY(k,j,3,3,9);H.sub(j,D);H.Pu(D,k,3);H.lw(k,40,10,g);H.QN(E,e,Z,2,!1,Z);
H.QN(E,R,Z,2,!0,Z);H.eB(t,255);H.Vh(e,k,t);H.Vh(t,k,R);H.wG(R,e,1);H.sW(e);H.L4(e,k);H.lw(k,X,b,g);H.H4(k,e);
H.Af(e)};d.$.ajO=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);H.e9(p[3]);var Z=p[0],X=p[1],b=p[2]/10;Z=Z+X;
var k=H.zk(1),D=H.zk(1),j=H.Ju(),g=H.Ju();H.RL(k);H.Pu(k,D,11);H.Pu(D,k,11);H.wi(k,j);H.XW(j,g,5);H.XW(g,j,5);
H.azJ(g,.97);H.atp(g,k,Z);H.kY(k,D,X,X,1);H.MC(E,k);H.Gb(D,k,D,.6);H.zL(k,D,D,b);H.g5(D,D,k,5,1);H.sW(E,e);
H.H4(k,e);H.Af(e)};d.$.a0r=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);var Z=Math.abs(p[0]),X=Z+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][Z],b=2*Z+1,k=p[1]/10,D=k*13/15,j=H.zk(1),g=H.zk(1),R=H.zk(1),t=H.zk(1),w=H.zk(4),B=H.zk(4),$=H.zk(4),o=H.zk(4),T=H.zk(4);
H.KS(E,j);if(p[0]>=0){H.Ub(j)}H.Jt(j,R);H.Pu(j,t,X);H.Pu(t,j,X);H.Dk(j,k);H.Jt(j,g);H.Pu(j,t,b);H.Pu(t,j,b);
H.Dk(j,D);H.eB($,p[2]);H.eB(o,p[3]);H.eB(T,p[4]);H.Vh($,j,o,w);H.Vh(T,g,w,B);H.Vh(o,R,B,e);H.L4(E,R,3);
H.H4(R,e,3)};d.$.ao1=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);H.e9(p[5]);var Z=p[0]*5.1,X=p[1]/100,b=H.azl[p[2]],k=H.zk(1),D=H.zk(1),j=H.zk(1);
H.KS(E,k);H.a7m(D,255);H.RL(j);H.Np(k,Z);H.U9(D,k,.7);H.U9(j,k,X);H.g5(k,k,D,5,b);H.Jt(E,e);H.a6n(e,Z,p[4],p[3]);
H.sW(e);H.H4(D,e);H.Af(e)};d.$.a4t=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);var Z=p[0],X=4-p[1],b=11-p[2],k=H.zk(1),D=H.zk(1),j=H.zk(4);
H.MC(E,D);for(var N=0;N<X;N++){H.Jt(D,k);H.api(k,D,Z,Z)}H.I5(E,j,Z);H.sW(j,j);H.H4(D,j);H.Af(j,j);(b<11?H.azR:H.Jt)(j,e,b)};
d.$.aol=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);H.e9(p[2]);var Z=p[0]+5,X=~~(Z/5+1),b=~~(Z/2)+1,k=b*b,D=~~(Z/3),j=H.azl[p[1]],g=new Array(256);
for(var N=0;N<256;N++){g[N]=~~(.2*(N-128))}var R=H.zk(1),t=H.zk(1);H.aCD(E,e,Z);H.sW(e);H.L4(e,R);H.RL(t);
H.a4A(R,t,g);H.a5E(t,Z,Z,X,X);H.Gb(R,t,R,1);H.Pu(R,t,D);H.Pu(t,R,D);H.kY(R,t,b,b,k);H.g5(t,t,R,5,j);
H.H4(R,e);H.Af(e)};d.$.aAj=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);var Z=H.zk(1),X=H.zk(1),b=H.zk(1),k=H.Ju(),D=H.Ju();
H.KS(E,Z);H.Pu(Z,X,p[2]);H.Np(X,p[0]*5.1);H.kY(X,Z,2,2,4);H.Pu(Z,X,3);H.Pu(X,Z,3);H.Jt(Z,b);H.Pu(Z,X,5);
H.Pu(X,Z,5);H.wi(Z,k);H.XW(k,D,5);H.XW(D,k,5);H.a5K(k,X,p[1]);H.Ub(X);H.Gb(b,X,b,1);H.rx(b,e)};d.$.avZ=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=1<<7-p[2],X=H.zk(1),b=H.zk(1),k=H.zk(1);H.MC(E,b);H.Pu(b,X,3);H.Jt(X,b);H.Pu(X,k,p[0]+5);
H.sub(k,b);H.lw(b,1,p[1]);H.Dk(X,1/Z);H.Dk(X,Z);H.sub(X,b);H.sW(E,e);H.H4(b,e);H.Af(e)};d.$.aiM=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);H.e9(p[3]);var Z=H.zk(1),X=H.zk(1),b=H.zk(1);H.KS(E,Z);H.a5p(X,p[0]/50);H.Pu(X,b,3);H.kY(Z,X,9,9,41);
H.lw(X,p[1],p[2]);H.Gb(X,b,b,.75);H.zL(X,b,X,.5);H.Jt(X,Z);H.kY(Z,b,3,3,8);H.Gb(b,X,b,.75);H.Dk(b,1.2);
H.ST(b,Z,1);H.Pu(Z,b,2);H.ST(b,Z,2);H.Dk(Z,1.2);H.Pu(Z,b,2);H.rx(b,e)};d.$.a2b=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=p[0]+9,X=p[1]/2,b=p[2],k=p[3],D=H.HH(p[4]),j=p[5]+1,g=p[6],R=H.zk(1),t=H.zk(1),w=H.zk(4),B=H.zk(4);
H._s(t,b,k,g);H.aeU(E,e,Z,1,1);H.aeU(e,w,Z,1,1);H.aoq(w,w,B,7,X);H.Dk(B,1.2);H.Wk(B,1.2);H.g5(t,R,R,j,D);
H.Dk(R,3);H.Jt(E,e);H.Vh(B,R,e)};d.$.a1$=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);H.e9(p[3]);var Z=p[0]+4,X=Z*2/5+(Z%5|0);
Z--;var b=p[1]*-2.75+60,k=65-b,D=p[2]/10,j=H.zk(1),g=H.zk(1);H.RL(j);H.MC(E,g);var R=H.Jc(b,k,g);H.sW(E,e);
H.L4(e,g);H.U9(g,j,.8);H.tz(g,R);H.Dk(g,D);H.add(j,g);H.Sa(g,j,Z,3,!1,X);H.H4(j,e);H.Af(e)};d.$.a0l=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);H.e9(p[3]);var Z=p[0]+5,X=(Z*Z>>1)+Z%2,b=p[1]/10,k=p[2],D=(k*k>>1)+k%2,j=H.zk(1),g=H.zk(1),R=H.zk(1),t=H.zk(4),w=H.zk(4),B=H.zk(4);
H.RL(R);H.sW(E,B);H.L4(B,j);H.U9(j,R,.8);H.Pu(R,j,3);H.ST(j,R,b);H.H4(R,B);H.Af(B,B);H.KS(B,R);H.kY(R,j,Z,Z,X);
H.Pu(R,g,Z);H.sub(j,g);H.Np(g,1);H.a$(B,t,7,7,40);H.a$(B,w,7,7,10);H.Vh(t,g,w);H.a$(w,e,k,k,D)};d.$.ahS=function(E,y,c,e,p){var H=d.$.s,X=255,N,k;
H.Rz(y,c);var Z=p[0];if(Z<2)X=Z;else if(Z<12)X=5*Z-5;else if(Z<47)X=2*Z+28;else if(Z<50){N=Z-47;X=125+12.5*N+12.5*N*N}var b=new Uint8Array(256);
for(N=75,k=15;N<256;N++,k+=24)b[N]=Math.min(255,k);var D=H.zk(1),j=H.zk(1),g=H.zk(1);H.KS(E,D);H.Pu(D,j,11);
H.Pu(j,g,11);H.sub(g,D);H.Dk(D,8);H.sub(g,D);H.Np(D,X);H.Ub(D);H.Pu(D,j,5);H.Np(j,51);H.Pu(j,D,p[1]);
H.Pu(D,j,p[1]);H.Ub(j);H.tz(j,b);H.rx(j,e)};d.$.aBb=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);var Z=H.ayo[p[1]],X=p[2],b=X*1.5,k=H.zk(1),D=H.zk(1),j=H.zk(1);
H.MC(E,k);H.Sa(k,D,15,2,!0,15);H.Jt(D,j);H.lw(j,X,b);H.Pu(j,k,3);H.Pu(D,j,p[0]);H.sub(j,D);H.Dk(D,Z);
H.sub(k,D);H.Pu(D,k,3);H.Sa(k,D,3,1,!1,1);H.I5(E,e,15);H.sW(e);H.H4(D,e);H.Af(e)};d.$.axy=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);H.e9(p[3]);var Z=p[0]*5.1,X=16-p[1],b=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][p[2]],k=H.zk(1),D=H.zk(1),j=H.zk(1);
H.KS(E,k);H.Np(k,Z);H.Pu(k,D,X);H.Pu(D,k,X);H.RL(j);H.zL(k,j,j,1);H.Gb(k,j,k,.75);H.Dk(k,b);H.Wk(k,b);
H.kY(k,D,2,2,2);H.rx(D,e)};d.$.a5U=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);var Z=p[0]+9,X=p[1]+9,b=p[2],k=p[3],D=H.HH(p[4]),j=p[5]+1,g=p[6],R=H.zk(1),t=H.zk(1),w=H.zk(1),B=H.zk(1),$=H.zk(1),o=H.zk(4);
H.MC(E,R);H.api(R,w,Z,Z);H.Pu(w,R,X);H.Jt(w,$);H.Jt(R,B);H.sub($,B);H.sub(R,$);H.add($,B);H.Dk(B,10);
H._s(t,b,k,g);H.g5(t,R,$,j,D);H.anq($,B,w,.8);H.I5(E,o,9);H.I5(o,e,9);H.sW(e);H.H4(w,e);H.Af(e)};d.$.azF=function(E,y,c,e,p){var H=d.$.s;
H.Rz(y,c);var Z=16-p[0],X=p[1]*8,b=1-(3-p[2])/10,k=~~(Z*Z*b-1),D=~~(Z*Z*(1-b));if(D==0)D=1;var j=H.zk(1),g=H.zk(1),R=H.zk(1),t=H.zk(4);
H.KS(E,R);H.kY(R,j,7,7,25);H.Pu(R,g,7);H.sub(j,g);H.Np(g,1);H.a$(E,t,Z,Z,k);H.a$(E,e,Z,Z,D);H.Vh(t,g,e);
H.sW(e);H.L4(e,j);H.kY(j,R,3,3,1);H.kY(j,g,3,3,9);H.sub(g,R);H.Jt(R,g);H.sub(j,R);H.sub(R,g);H.kY(g,j,3,3,8);
H.lw(j,X,1);H.H4(j,e);H.Af(e)};d.$.a0I=function(E,y,c,e,p){var H=d.$.s;H.Rz(y,c);H.e9(p[3]);var Z=p[0],X=p[1],b=p[2],k=Z>>1,D=Math.max(~~(Z/5),1),j=Math.max(~~(Z*2/3),1),g=H.a9D(X,b),R=H.zk(1),t=H.zk(1),w=H.zk(1),B=H.zk(1),$=H.zk(4);
H.MC(E,R);H.aBY(2147483647,4,2,2,0,255,t);H.aBY(4,2147483647,2,2,0,255,B);H.RL(w);H.zL(t,w,t,1);H.zL(B,w,B,1);
H.zL(t,R,t,1);H.zL(B,R,B,1);H.I5(E,$,k);H.I5($,e,k);H.kY(t,R,1,Z,D);H.kY(R,t,3,Z,j);H.kY(B,R,Z,1,D);
H.kY(R,B,Z,3,j);H.sb(t,B);H.sW(e);H.H4(B,e);H.Af(e);H.aqf(e,g)};d.$.Dx=function(E,y,c){var e=c.asq,p=c.UI,H=c.zk(1),top=c.zk(1),Z=c.zk(1),X=c.zk(1),b=c.zk(1),k=c.zk(1),D=c.zk(1),j=c.zk(1),g=c.zk(1),R=c.Pf,t=c.T4,w=d.bg.RP,B=d.bg.MB;
w(E,H,R,t,B([8,5,2,5,2,-1,2,-1,-4]));w(E,top,R,t,B([5,5,5,2,2,2,-1,-1,-1]));w(E,Z,R,t,B([2,5,8,-1,2,5,-4,-1,2]));
w(E,X,R,t,B([5,2,-1,5,2,-1,5,2,-1]));w(E,b,R,t,B([2,2,2,2,2,2,2,2,2]));w(E,k,R,t,B([-1,2,5,-1,2,5,-1,2,5]));
w(E,D,R,t,B([2,-1,-4,5,2,-1,8,5,2]));w(E,j,R,t,B([-1,-1,-1,2,2,2,5,5,5]));w(E,g,R,t,B([-4,-1,2,-1,2,5,2,5,8]));
var $=[H,top,Z,X,b,k,D,j,g];for(var o=0;o<t;o++){for(var T=0;T<R;T++){var i=o*R+T,r=E[i],I=null,M=0;
for(var J=-1;J<2;J++){for(var P=-1;P<2;P++){var n=$[(J+1)*3+P+1],x=Math.max(0,Math.min(o+J,t-1)),L=Math.max(0,Math.min(T+P,R-1)),u=n[x*R+L],C=Math.abs(u-r);
if(I==null||C<I){I=C;M=u}}}y[i]=M}}};d.$.a4U=function(E,y,c,e,p){var self=d.$.s;self.Rz(y,c);var H=self.zk(1),Z=self.zk(1);
for(var N=0;N<4;N++){self.L4(E,H,N);if(N<3){d.$.Dx(H,Z,self);d.$.Dx(Z,H,self);d.$.Dx(H,Z,self);d.$.Dx(Z,H,self);
d.$.Dx(H,Z,self);d.$.Dx(Z,H,self);d.$.Dx(H,Z,self);d.$.Dx(Z,H,self);d.$.Dx(H,Z,self)}else Z=H;self.H4(Z,e,N)}};
d.$.s={};d.$.s.Pf=0;d.$.s.T4=0;d.$.s.UI=0;d.$.s.T8=0;d.$.s.GO=0;d.$.s.Rz=function(E,y){var c=E*y,self=d.$.s;
self.Pf=E;self.T4=y;self.UI=c;self.T8=c<<1;self.GO=c<<2};d.$.s.e9=function(E){d.$.s.random=function(){var y=E+=1831565813;
y=Math.imul(y^y>>>15,y|1);y^=y+Math.imul(y^y>>>7,y|61);return((y^y>>>14)>>>0)/4294967296}};d.$.s.zk=function(E){var y=d.$.s;
return new Uint8Array([-1,y.UI,y.T8,-1,y.GO][E])};d.$.s.Ju=function(){return new Int32Array(d.$.s.T8)};
d.$.s.Pu=function(E,y,c,e){if(e==null)e=c;var self=d.$.s,p=self.Pf,H=self.T4,Z=e,X=e>>1,b=c,k=c>>1,D=c*e,j=0;
for(var N=0;N<H;N++){var g=0;for(var R=0;R<Z;R++){for(var t=0;t<b;t++){var w=0-k+t,B=N-X+R;if(w<0)w=0;
else if(w>=p)w=p-1;if(B<0)B=0;else if(B>=H)B=H-1;g+=E[B*p+w]}}y[j++]=~~(g/D);for(var $=1;$<p;$++){for(var R=0;
R<Z;R++){var o=$-k-1,T=o+b,B=N-X+R;if(o<0)o=0;if(T>=p)T=p-1;if(B<0)B=0;else if(B>=H)B=H-1;g+=E[B*p+T]-E[B*p+o]}y[j++]=~~(g/D)}}};
d.$.s.XW=function(E,y,c,e){var self=d.$.s,p=new Int32Array(self.UI),H=new Int32Array(self.UI);for(var N=0;
N<2;N++){self.L4(E,p,N,2);self.Pu(p,H,c,e);self.H4(H,y,N,2)}};d.$.s.I5=function(E,y,c,e){var self=d.$.s,p=self.zk(1),H=self.zk(1);
for(var N=0;N<4;N++){self.L4(E,p,N);if(N<3)self.Pu(p,H,c,e);else H=p;self.H4(H,y,N)}};d.$.s.aeU=function(E,y,c,e,p){var self=d.$.s,H=self.Pf,Z=self.T4,X=c+e-1,b=c>>1,k=X>>1,D=0,j=c*e,g=new Int32Array(c);
for(var N=0;N<Z;N++){var R=0,t=0,w=0;for(var B=0;B<c;B++){var $=p?X-B-e:B;for(var o=$,T=e+$;o<T;o++){var i=0-k+o,r=N-b+B;
if(o==$){g[B]=i}if(i<0)i=0;else if(i>=H)i=H-1;if(r<0)r=0;else if(r>=Z)r=Z-1;var I=H*r+i<<2;R+=E[I];t+=E[I+1];
w+=E[I+2]}}y[D++]=~~(R/j);y[D++]=~~(t/j);y[D++]=~~(w/j);y[D]=E[D];D++;for(var M=1;M<H;M++){for(var B=0;
B<c;B++){var r=N-b+B,$=g[B]+1;g[B]=$;var J=$-1,P=$+e-1;if(r<0)r=0;else if(r>=Z)r=Z-1;if(J<0)J=0;else if(J>=H)J=H-1;
if(P<0)P=0;else if(P>=H)P=H-1;var n=r*H+J<<2,x=r*H+P<<2;R=R+E[x]-E[n];t=t+E[x+1]-E[n+1];w=w+E[x+2]-E[n+2]}y[D++]=~~(R/j);
y[D++]=~~(t/j);y[D++]=~~(w/j);y[D]=E[D];D++}}};d.$.s.Sa=function(E,y,c,e,p,H){var self=d.$.s,Z=self.Pf,X=self.T4,b=c+e-1,k=c>>1,D=b>>1,j=0,g=new Int32Array(c),R=new Int32Array(256),t=new Int32Array(16);
for(var N=0;N<X;N++){for(var w=0;w<256;w++){R[w]=0}for(var w=0;w<16;w++){t[w]=0}for(var B=0;B<c;B++){var $=p?b-B-e:B;
for(var o=$,T=e+$;o<T;o++){var i=0-D+o,r=N-k+B;if(o==$){g[B]=i}if(i<0)i=0;else if(i>=Z)i=Z-1;if(r<0)r=0;
else if(r>=X)r=X-1;R[E[r*Z+i]]++;t[E[r*Z+i]>>>4]++}}var I=0,M=0;while(I+t[M>>>4]<H){I+=t[M>>>4];M+=16}for(;
M<256;M++){I+=R[M];if(I>=H)break}y[j++]=M;for(var w=1;w<Z;w++){for(var B=0;B<c;B++){var r=N-k+B,$=g[B]+1;
g[B]=$;var J=$-1,P=$+e-1;if(r<0)r=0;else if(r>=X)r=X-1;if(J<0)J=0;else if(J>=Z)J=Z-1;if(P<0)P=0;else if(P>=Z)P=Z-1;
R[E[r*Z+J]]--;R[E[r*Z+P]]++;t[E[r*Z+J]>>>4]--;t[E[r*Z+P]>>>4]++}I=0;M=0;while(I+t[M>>>4]<H){I+=t[M>>>4];
M+=16}for(;M<256;M++){I+=R[M];if(I>=H)break}y[j++]=M}}};d.$.s.QN=function(E,y,c,e,p,H){var self=d.$.s,Z=self.zk(1),X=self.zk(1);
for(var N=0;N<4;N++){self.L4(E,Z,N);if(N<3)self.Sa(Z,X,c,e,p,H);else X=Z;self.H4(X,y,N)}};d.$.s.kY=function(E,y,c,e,p){p=Math.min(e*c,p);
var self=d.$.s,H=self.Pf,Z=self.T4,X=e>>1,b=c>>1,k=0,D=new Int32Array(e),j=new Int32Array(256),g=new Int32Array(16);
for(var N=0;N<Z;N++){for(var R=0;R<256;R++){j[R]=0}for(var R=0;R<16;R++){g[R]=0}for(var t=0;t<e;t++){for(var w=0,B=c;
w<B;w++){var $=0-b+w,o=N-X+t;if(w==0){D[t]=$}if($<0)$=0;else if($>=H)$=H-1;if(o<0)o=0;else if(o>=Z)o=Z-1;
j[E[o*H+$]]++;g[E[o*H+$]>>>4]++}}var T=0,i=0;while(T+g[i>>>4]<p){T+=g[i>>>4];i+=16}for(;i<256;i++){T+=j[i];
if(T>=p)break}y[k++]=i;for(var R=1;R<H;R++){for(var t=0;t<e;t++){var o=N-X+t,r=D[t]+1;D[t]=r;var I=r-1,M=r+c-1;
if(o<0)o=0;else if(o>=Z)o=Z-1;if(I<0)I=0;else if(I>=H)I=H-1;if(M<0)M=0;else if(M>=H)M=H-1;j[E[o*H+I]]--;
j[E[o*H+M]]++;g[E[o*H+I]>>>4]--;g[E[o*H+M]>>>4]++}T=0;for(i=0;i<256;i++){T+=j[i];if(T>=p)break}y[k++]=i}}};
d.$.s.a$=function(E,y,c,e,p){var self=d.$.s,H=self.zk(1),Z=self.zk(1);for(var N=0;N<4;N++){self.L4(E,H,N);
if(N<3)self.kY(H,Z,c,e,p);else Z=H;self.H4(Z,y,N)}};d.$.s.ST=function(E,y,c){var self=d.$.s,e=self.Pf,p=self.T4,H=0;
for(var N=0;N<p;N++){var Z=N*e,X=(N-1)*e,b=(N+1)*e;if(X<0)X=Z;if(b>=p)b=Z;for(var k=0;k<e;k++){var D=k-1,j=k+1;
if(D<0)D=k;if(j>=e)j=k;var g=Z+D,R=Z+j,t=X+k,w=b+k,B=Z+k,$=E[g],o=E[R],T=E[t],i=E[w],r=E[B],I=r+(r*4*c+.5);
I=I-(($+o+i+T)*c+.5);y[H++]=self.SP(I)}}};d.$.s.wG=function(E,y,c){var self=d.$.s,e=self.zk(1),p=self.zk(1);
for(var N=0;N<4;N++){self.L4(E,e,N);if(N<3)self.ST(e,p,c);else p=e;self.H4(p,y,N)}};d.$.s.azR=function(E,y,c){var self=d.$.s,e=self.Pf,p=self.T4,H=0,Z=c+4;
for(var N=0;N<p;N++){var X=N*e,b=(N-1)*e,k=(N+1)*e;if(b<0)b=X;if(k>=p)k=X;for(var D=0;D<e;D++){var j=D-1,g=D+1;
if(j<0)j=D;if(g>=e)g=D;var R=X+j<<2,t=X+g<<2,w=b+D<<2,B=k+D<<2,$=X+D<<2;for(var o=0;o<3;o++){var T=E[R+o],i=E[t+o],r=E[w+o],I=E[B+o],M=E[$+o];
y[H++]=(M*c+T+i+I+r)/Z}y[H]=E[H];H++}}};d.$.s.api=function(E,y,c,e){var self=d.$.s,p=self.Pf,H=self.T4,Z=c>>1,X=e>>1,b=0,k=new Int32Array(c),D=new Int32Array(256);
for(var N=0;N<H;N++){for(var j=0;j<256;j++){D[j]=0}for(var g=0;g<c;g++){for(var R=0,t=e;R<t;R++){var w=0-X+R,B=N-Z+g;
if(R==0){k[g]=w}if(w<0)w=0;else if(w>=p)w=p-1;if(B<0)B=0;else if(B>=H)B=H-1;D[E[B*p+w]]++}}var $=0,o=0;
for(var T=0;T<256;T++){if($<D[T]){o=T;$=D[T]}}y[b++]=o;for(var j=1;j<p;j++){for(var g=0;g<c;g++){var B=N-Z+g,i=k[g]+1;
k[g]=i;var r=i-1,I=i+e-1;if(B<0)B=0;else if(B>=H)B=H-1;if(r<0)r=0;else if(r>=p)r=p-1;if(I<0)I=0;else if(I>=p)I=p-1;
D[E[B*p+r]]--;D[E[B*p+I]]++}$=0;o=0;for(var T=0;T<256;T++){if($<D[T]){o=T;$=D[T]}}y[b++]=o}}};d.$.s.afN=[function(E,y,c,e,p,H,Z,X,b,k){return p+(E+y+c)*k-(b+X+Z)*k},function(E,y,c,e,p,H,Z,X,b,k){return p+(y+c+H)*k-(X+Z+e)*k},function(E,y,c,e,p,H,Z,X,b,k){return p+(c+H+b)*k-(Z+e+E)*k},function(E,y,c,e,p,H,Z,X,b,k){return p+(H+b+X)*k-(e+E+y)*k},function(E,y,c,e,p,H,Z,X,b,k){return p+(b+X+Z)*k-(E+y+c)*k},function(E,y,c,e,p,H,Z,X,b,k){return p+(X+Z+e)*k-(y+c+H)*k},function(E,y,c,e,p,H,Z,X,b,k){return p+(Z+e+E)*k-(c+H+b)*k},function(E,y,c,e,p,H,Z,X,b,k){return p+(e+E+y)*k-(H+b+X)*k}];
d.$.s.g5=function(E,y,c,e,p){var self=d.$.s,H=self.Pf,Z=self.T4,X=H,b=self.afN[e-1];for(var N=0;N<Z;
N++){var k=(N>0?N-1:0)*X,D=N*X,j=(N<Z?N+1:N)*X;for(var g=0;g<H;g++){var R=g>0?g-1:0,t=g<H?g+1:g,w=D+g,B=E[k+R],$=E[k+g],o=E[k+t],T=E[D+R],i=y[w],r=E[D+t],I=E[j+R],M=E[j+g],J=E[j+t];
c[w]=self.SP(b(B,$,o,T,i,r,I,M,J,p))}}};d.$.s.aoq=function(E,y,c,e,p){var self=d.$.s,H=self.zk(1),Z=self.zk(1),X=self.zk(1);
for(var N=0;N<3;N++){self.L4(E,H,N);self.L4(y,Z,N);self.g5(H,Z,X,e,p);self.H4(X,c,N)}self.L4(y,H,3);
self.H4(H,c,3)};d.$.s.KS=function(E,y){var c=E.length,e=0;for(var N=0;N<c;N++){y[e++]=~~((E[N++]+E[N++]+E[N++]+2)/3)}};
d.$.s.rx=function(E,y){var c=y.length,e=0;for(var N=0;N<c;N++){var p=E[N];y[e++]=p;y[e++]=p;y[e++]=p;
y[e++]=255}if(y[0]==255)y[0]--;else y[0]++};d.$.s.MC=function(E,y){var c=y.length,e=0;for(var N=0;N<c;
N++){var p=E[e++],H=E[e++],Z=E[e++];e++;if(H>p)p=H;if(Z>p)p=Z;y[N]=p}};d.$.s.sW=function(E,y){if(y==null)y=E;
var c=E.length;for(var e=0;e<c;e+=4){var p=E[e],H=E[e+1],Z=E[e+2],X=p,b=0,k=p,j;if(H<=p){p=H}else{b=1;
k=H}if(Z<=k){if(p>Z){p=Z}}else{b=2;k=Z}var D=k-p;if(D!=0){if(b==0){j=~~(43*(H-Z)/D)}else if(b==1){j=~~(43*(Z+2*D-X)/D)}else{j=43*(X+4*D-H)/D}if(j<0){j=255&j-1}y[e]=j;
y[e+1]=~~(255*D/k)}else{y[e]=D;y[e+1]=D}y[e+2]=k;y[e+3]=E[e+3]}};d.$.s.Af=function(E,y){if(y==null)y=E;
var c=E.length;for(var e=0;e<c;e+=4){var p=E[e],H=E[e+1],Z=E[e+2];if(H){if(p==255)p=0;var X=~~(6*p/255),b=~~(-255*X+6*p);
if(X==0){y[e]=Z;y[e+1]=~~(Z*(255-H*(255-b)/255)/255);y[e+2]=~~(Z*(255-H)/255)}else if(X==1){y[e]=~~(Z*(255-H*b/255)/255);
y[e+1]=Z;y[e+2]=~~(Z*(255-H)/255)}else if(X==2){y[e]=~~(Z*(255-H)/255);y[e+1]=Z;y[e+2]=~~(Z*(255-H*(255-b)/255)/255)}else if(X==3){y[e]=~~(Z*(255-H)/255);
y[e+1]=~~(Z*(255-H*b/255)/255);y[e+2]=Z}else if(X==4){y[e]=~~(Z*(255-H*(255-b)/255)/255);y[e+1]=~~(Z*(255-H)/255);
y[e+2]=Z}else{y[e]=Z;y[e+1]=~~(Z*(255-H)/255);y[e+2]=~~(Z*(255-H*b/255)/255)}}else{y[e]=Z;y[e+1]=Z;y[e+2]=Z}y[e+3]=E[e+3]}};
d.$.s.H4=function(E,y,c,e){if(c==null)c=2;if(e==null)e=4;var p=E.length;for(var N=0;N<p;N++){y[c]=E[N];
c+=e}};d.$.s.L4=function(E,y,c,e){if(c==null)c=2;if(e==null)e=4;var p=y.length;for(var N=0;N<p;N++){y[N]=E[c];
c+=e}};d.$.s.anq=function(E,y,c,e){if(e==null)e=1;var p=y.length,H=0,Z;for(var H=0;H<p;H++){Z=y[H];if(Z){Z*=e;
c[H]=~~((Z*E[H]+(255-Z)*c[H])/255)}}};d.$.s.Vh=function(E,y,c,e){if(e==null)e=c;var p=y.length,H=0,Z,X;
for(var N=0;N<p;N++){Z=y[N];if(Z){X=255-Z;e[H]=~~((Z*E[H]+X*c[H])/255);e[H+1]=~~((Z*E[H+1]+X*c[H+1])/255);
e[H+2]=~~((Z*E[H+2]+X*c[H+2])/255)}e[H+3]=E[H+3];H+=4}};d.$.s.Gb=function(E,y,c,e){var p=~~(e*255),H=c.length;
for(var N=0;N<H;N++){c[N]=((255-p*(255-E[N])/255)*y[N]+E[N]*(p*(255-E[N])/255))/255}};d.$.s.zL=function(E,y,c,e){var p=~~(e*255),H=c.length;
for(var N=0;N<H;N++){c[N]=((255-p*E[N]/255)*y[N]+E[N]*(p*E[N]/255))/255}};d.$.s.U9=function(E,y,c){var e=y.length;
for(var N=0;N<e;N++){y[N]=~~(E[N]*c+.5)+(y[N]-~~(y[N]*c+.5))}};d.$.s.sub=function(E,y){var c=E.length;
for(var N=0;N<c;N++){y[N]=Math.max(E[N]-y[N],0)}};d.$.s.add=function(E,y){var c=E.length;for(var N=0;
N<c;N++){y[N]=Math.min(E[N]+y[N],255)}};d.$.s.asq=function(E,y){var c=E.length;for(var N=0;N<c;N++){y[N]=E[N]+y[N]}};
d.$.s.sb=function(E,y){var c=E.length;for(var N=0;N<c;N++){y[N]=E[N]+y[N]>>1}};d.$.s.Jt=function(E,y){var c=E.length;
for(var N=0;N<c;N++){y[N]=E[N]}};d.$.s.tz=function(E,y){var c=E.length;for(var N=0;N<c;N++){E[N]=y[E[N]]}};
d.$.s.aqf=function(E,y){var c=d.$.s.GO;for(var N=0;N<c;N+=4){var e=E[N],p=E[N+1],H=E[N+2],Z=e;if(p>e)Z=p;
if(H>e)Z=H;var X=y[Z];if(X){E[N]=~~(X*e/Z);E[N+1]=~~(X*p/Z);E[N+2]=~~(X*H/Z)}else{E[N]=X;E[N+1]=X;E[N+2]=X}}};
d.$.s.Dk=function(E,y){for(var N=0,c=E.length;N<c;N++){E[N]=Math.min(255,~~(.5+E[N]*y))}};d.$.s.Wk=function(E,y){for(var N=0,c=E.length;
N<c;N++){E[N]=255-Math.min(255,~~(.5+(255-E[N])*y))}};d.$.s.Ub=function(E){var y=E.length;for(var N=0;
N<y;N++){E[N]=255-E[N]}};d.$.s.Np=function(E,y,c,e){if(c==null)c=0;if(e==null)e=255;for(var N=0,p=E.length;
N<p;N++){E[N]=E[N]>=y?e:c}};d.$.s.J1=function(E){return[E>>24&255,E>>16&255,E>>8&255,E&255]};d.$.s.a6n=function(E,y,c,e){if(c==null)c=255;
if(e==null)e=4278190335;var p=d.$.s,H=p.GO,Z=p.J1(c),X=p.J1(e);for(var N=0;N<H;N+=4){var b=~~((E[N]+E[N+1]+E[N+2]+2)/3);
if(b>=y){E[N]=Z[0];E[N+1]=Z[1];E[N+2]=Z[2]}else{E[N]=X[0];E[N+1]=X[1];E[N+2]=X[2]}}};d.$.s.eB=function(E,y){var c=d.$.s,e=c.GO,p=c.J1(y);
for(var N=0;N<e;){E[N++]=p[0];E[N++]=p[1];E[N++]=p[2];E[N++]=p[3]}};d.$.s.a7m=function(E,y){var c=E.length;
for(var N=0;N<c;){E[N++]=y}};d.$.s.a9D=function(E,y){E=E>5?(100-Math.max(4,E))/100:.95;y=y!=100?Math.max(4,y)/100:.9995;
var c=new Uint8Array(256),e=y>.5?.5/(1-y):y*2,p=~~(e*256),H=~~((.5-E*e)*256)<<8;for(var N=0;N<256;N++){c[N]=d.$.s.SP(H>>8);
H+=p}return c};d.$.s.RL=function(E){for(var N=0,y=d.$.s,c=E.length;N<c;N++){E[N]=~~(y.random()*256)}};
d.$.s.a5p=function(E,y){for(var N=0,c=d.$.s,e=E.length;N<e;N++){E[N]=c.random()<y?255:0}};d.$.s.a0j=function(E,y,c){for(var N=0,e=d.$.s,p=E.length;
N<p;N++){if(e.random()<y)E[N]=c}};d.$.s.a4A=function(E,y,c){var e=E.length;for(var N=0;N<e;N++){E[N]=d.$.s.SP(E[N]+c[y[N]])}};
d.$.s.nw=function(E){var y=new Uint32Array(256);for(var N=0,c=E.length;N<c;N++)y[E[N]]++;return y};d.$.s.aB0=function(E,y){var c=0,e=0,p=new Uint32Array(256),H=new Float32Array(256);
for(var N=0,Z=E.length;N<Z;N++){var X=E[N],b=y[N];if(b==255){p[X]++;c++}else if(b>0){b/=255;e+=b;H[X]+=b;
if(e>=1){e--;c++}if(H[X]>=1){H[X]--;p[X]++}}}return[c,p]};d.$.s.Jc=function(E,y,c,e){var self=d.$.s,p,H,D=0,g=256;
if(e){var Z=self.aB0(c,e);p=Z[1];H=Z[0]/100}else{p=self.nw(c);H=self.UI/100}var X=new Uint8Array(256),b=H*E,k=H*y,j=-1;
do{D+=p[++j]}while(D<=b);D=0;do{D+=p[--g]}while(D<=k);if(g-j<=0)g=j+1;if(g>255){g=255;j=254}var R=255/(g-j),t=-j;
for(var N=0;N<256;N++){X[N]=self.SP(R*t+.5);t++}return X};d.$.s.lw=function(E,y,c,e){var p=d.$.s;p.tz(E,p.Jc(y,c,E,e))};
d.$.s.anh=function(E,y){var self=d.$.s,c=self.nw(E),e=self.UI*y/100,p=0,H=-1;do{p+=c[++H]}while(p<=e);
return H};d.$.s.wi=function(E,y){var c=0,self=d.$.s,e=self.Pf,p=self.T4,H=1/Math.PI,Z=H*255;for(var N=0;
N<p;N++){var X=N+1;if(X==p)X--;var b=N*e,k=~~((1-(N+1)/p)*255);for(var D=0;D<e;D++){var j=D+1;if(j==e)j--;
var g=E[b+D],R=E[b+j],t=E[X*e+D];if(g-t==0){y[c++]=k}else{var w=g-t+255;if(w==255){w=0}else{w=~~(Math.atan2(1/(255-w),1)*Z+.5);
if(w<0)w+=255}y[c++]=w}if(g-R==0){y[c++]=~~((1-(D+1)/e)*255)}else{var w=g-R+255;if(w==255){w=0}else{w=~~(Math.atan2(1/(255-w),1)*Z+.5);
if(w<0)w+=255}y[c++]=w}}}};d.$.s.azJ=function(E,y){var self=d.$.s,c=self.Pf,e=self.T4,p=0;for(var N=0;
N<e;N++){for(var H=0;H<c;H++){E[p]=~~(N*y+.5)+~~(E[p]*(1-y)+.5);p++;E[p]=~~(H*y+.5)+~~(E[p]*(1-y)+.5);
p++}}};d.$.s.a1v=function(E,y,c,e){var self=d.$.s,p=self.Pf,H=self.T4,Z=0;for(var N=0;N<H;N++){for(var X=0;
X<p;X++){y[Z]=~~(y[Z]*(1-c)+.5)+~~(E[Z]*e+.5);Z++;y[Z]=~~(y[Z]*(1-c)+.5)+~~(E[Z]*e+.5);Z++}}};d.$.s.atp=function(E,y,c){var self=d.$.s,e=self.Pf,p=self.T4,H=0,Z=0;
for(var N=0;N<p;N++){for(var X=0;X<e;X++){var b=E[H++],k=E[H++];y[Z++]=k%c>=2&&b%c>=2?255:0}}};d.$.s.aBY=function(E,y,c,e,p,H,Z){var self=d.$.s,X=self.Pf,b=self.T4,k=0,D=0,j=0;
for(var N=0;N<b;N++){var g=N%E<c||b-c<=N;for(var R=0;R<X;R++){Z[k++]=g||R%y<e||X-e<=R?p:H}}};d.$.s._s=function(E,y,c,e){var self=d.$.s,p=self.Pf,H=self.T4,Z=hY._s(y),X=Z[1],b=Z[0].m,k=Z[0].e,D=100/c;
for(var j=0;j<H;j++)for(var g=0;g<p;g++){var R=d.r.VW(g*D,j*D,X,b,k);E[j*p+g]=e?255-R:R}};d.$.s.SP=function(E){return~~Math.min(255,Math.max(0,E))};
d.$.s.ayo=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];d.$.s.azl=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
d.$.s.HH=function(E){return E>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][E-41]:E/40};d.$.s.aCD=function(E,y,c){var self=d.$.s,e=self.Pf,p=self.T4,H=c,Z=c>>1,X=Z-1,b=H*H,k=0;
for(var N=0;N<p;N++){var D=0,j=0,g=0,R=~~(N/c)*c,t=0;for(var w=0;w<H;w++){for(var B=0;B<H;B++){var $=t+B,o=R+w;
if($>=e)$=e-1;if(o>=p)o=p-1;D+=E[o*e+$<<2];j+=E[(o*e+$<<2)+1];g+=E[(o*e+$<<2)+2]}}var T=~~(D/b),i=~~(j/b),r=~~(g/b);
y[k]=T;y[k+1]=i;y[k+2]=r;y[k+3]=E[k+3];k+=4;for(var I=1;I<e;I++){for(var w=0;w<H;w++){var M=I-1,J=M+H,o=R+w;
if(J>=e)J=e-1;if(o>=p)o=p-1;var P=o*e,n=P+J<<2,x=P+M<<2;D+=E[n]-E[x];j+=E[n+1]-E[x+1];g+=E[n+2]-E[x+2]}if(I%c==0){T=~~(D/b);
i=~~(j/b);r=~~(g/b)}y[k]=T;y[k+1]=i;y[k+2]=r;y[k+3]=E[k+3];k+=4}}};d.$.s.a5E=function(E,y,c,e,p){var self=d.$.s,H=self.Pf,Z=self.T4,X=0,b=0,k=0,D=0;
for(var N=D;N<Z+D;N++){var j=N%y>=e||N<e||Z+D-e<=N;for(var g=0;g<H;g++){E[X++]=j&&(g%c>=p||g<p||H-p<=g)?255:0}}};
d.$.s.a5K=function(E,y,c){var e=function(k,D){return D<=k?k/D&1?D-k%D:k%D:k},p=[function(X,b){return e(X,255)/255},function(X,b){return(255+e(X,255)-e(b,255))/510},function(X,b){return(255-e(b,255))/255},function(X,b){return(510-e(X,255)-e(b,255))/510},function(X,b){return(255-e(X,255))/255},function(X,b){return(255-e(X,255)+e(b,255))/510},function(X,b){return e(b,255)/255},function(X,b){return(e(X,255)+e(b,255))/510}][c],H=0,Z=0;
for(var N=0;N<d.$.s.UI;N++){var X=E[H++],b=E[H++];y[Z++]=~~(255*p(X,b))}};d.$.aeZ=function(){var E=[],y=new Uint8Array(512),c=new Float32Array(512),e=new Float32Array(512),p=[1,-1,1,-1,1,-1,0,0],H=[1,1,-1,-1,0,0,1,-1],Z=0,X,t=0;
for(;Z<256;Z++)E[Z]=Z;while(Z!=0){Z--;X=Math.floor(Math.random()*Z);E[X]^=E[Z]^(E[Z]=E[X])}function b(b){b=Math.floor(b*65536);
if(b<256){b|=b<<8}for(var N=0;N<256;N++){var $=N+256,o=E[N]^(N&1?b:b>>8)&255;y[N]=y[$]=o;o=o%8;c[N]=c[$]=p[o];
e[N]=e[$]=H[o]}}function k($){return $*$*$*($*($*6-15)+10)}function D($,o,T){return(1-T)*$+T*o}function j($,o){return $&o}function g($,o){return $%o}function R($,o,T,i,r){var I=Math.floor($),M=Math.floor(o),Z,J,P,n,x,L;
$=$-I;o=o-M;I=I&255;M=M&255;Z=I+y[M];n=c[Z]*$+e[Z]*o;Z=I+y[r(M+1,i)];P=c[Z]*$+e[Z]*(o-1);Z=r(I+1,T)+y[M];
x=c[Z]*($-1)+e[Z]*o;Z=r(I+1,T)+y[r(M+1,i)];L=c[Z]*($-1)+e[Z]*(o-1);J=k($);return D(D(n,x,J),D(P,L,J),k(o))}function w($,Z,o){$[Z]=o}function B($,o,T,i,r){var I=Math.min(Math.min(o,256),Math.min(256,T)),M=I==256||I<8,J=8,P=new Uint32Array(J),n=new Uint32Array(J),x=new Float32Array(J),L=new Float32Array(J),u=1,C=1,h=M?j:g,A=w,W;
for(var N=0;N<J;N++){W=C*1/I;if(M){n[N]=(1<<Math.ceil(Math.log2(T*W)))-1;P[N]=(1<<Math.ceil(Math.log2(o*W)))-1}else{n[N]=W*T;
P[N]=W*o}x[N]=u;L[N]=W;u*=.5;C=C<<1}b(Math.random());for(var Q=0,Z=0;Q<T;Q++){for(var l=0;l<o;l++){var O=0;
for(var z=0;z<J;z++){W=L[z];O+=R(l*W,Q*W,P[z],n[z],h)*x[z]}A(i,Z++,Math.round(Math.max(0,255*Math.min(1,.5+O*.5))))}}}return B}();
d.$.avH=function(){function E(y,c,e,p){var H=new Uint8Array(y.length>>>2),Z=new Uint8Array(y.length>>>2),X=new Uint8Array(y.length);
for(var N=0;N<y.length;N+=4){var b=y[N+0]*.3+y[N+1]*.59+y[N+2]*.11;Z[N>>>2]=b;X[N]=y[N];X[N+1]=y[N+1];
X[N+2]=y[N+2]}d.bg.a1a(Z,H,c,e);d.bg.Nf(y,p,c,e,d.bg.JZ[1],0,!0);for(var N=0;N<y.length;N+=4){X[N+3]=255-H[N>>>2]}for(var N=0,k=y.length;
N<k;N+=4){var D=X[N+3]/255;p[N]=X[N]*D+p[N]*(1-D);p[N+1]=X[N+1]*D+p[N+1]*(1-D);p[N+2]=X[N+2]*D+p[N+2]*(1-D)}}return E}();
d.$.alU=function(){function E(H,Z,X,b,k){var D=new Uint32Array(H.buffer),j=0;for(var N=0;N<X;N++){for(var g=0;
g<Z;g++,j+=4){var R=D[N*Z+g],t=R&255,w=R>>>8&255,B=R>>>16&255,$=R>>>24&255,o=~~(Math.random()*8),T=o%3,i=0,r=0;
if(o<3){r--}else if(o>4){r++}if(T==0){i--}else if(T==2){i++}var I=g+i,M=N+r;if(I<0)I=0;else if(I>Z-1)I=Z-1;
if(M<0)M=0;else if(M>X-1)M=X-1;var R=D[M*Z+I],J=R&255,P=R>>>8&255,n=R>>>16&255,x=R>>>24&255;b[j]=k(t,J);
b[j+1]=k(w,P);b[j+2]=k(B,n);b[j+3]=k($,x)}}}function y(H,Z){return Z}function c(H,Z){return H>Z?Z:H}function e(H,Z){return H<Z?Z:H}function p(H,Z,X,b,k){var D=k[0];
if(D==0)E(H,Z,X,b,y);else if(D==1)E(H,Z,X,b,c);else if(D==2)E(H,Z,X,b,e);else if(D==3){console.error("Not implemented")}else console.error("Mew mew")}return p}();
d.$.ao$=function(){function E(y,c,e,p,H){var Z=H&&H[0]?H[0]:4,X,b,k,D,j,g,R;for(var N=0;N<e;N++){var t=Math.max(N-Z,0),w=Math.min(N+Z,e-1);
for(var B=0;B<c;B++){var $=Math.max(B-Z,0),o=Math.min(B+Z,c-1);X=t*c+$<<2;D=y[X];j=y[X+1];g=y[X+2];R=y[X+3];
X=t*c+o<<2;D+=y[X];j+=y[X+1];g+=y[X+2];R+=y[X+3];X=w*c+$<<2;D+=y[X];j+=y[X+1];g+=y[X+2];R+=y[X+3];X=w*c+o<<2;
D+=y[X];j+=y[X+1];g+=y[X+2];R+=y[X+3];X=N*c+B<<2;p[X]=D+2>>>2;p[X+1]=j+2>>>2;p[X+2]=g+2>>>2;p[X+3]=R+2>>>2}}}return E}();
d.$.a1q=function(){function E(y,c,e,p){var H=new Uint8Array(y.length),Z=new Uint8Array(y.length>>>2),X=new Uint8Array(y.length>>>2);
d.bg.Nf(y,H,c,e,d.bg.JZ[2],0,!0);for(var N=0;N<y.length;N+=4){var b=H[N+0]*.3+H[N+1]*.59+H[N+2]*.11;
Z[N>>>2]=b;p[N+0]=y[N+0];p[N+1]=y[N+1];p[N+2]=y[N+2];p[N+3]=y[N+3]}d.bg.a1a(Z,X,c,e);for(var N=0;N<y.length;
N+=4){H[N+3]=~~(Math.max(0,255-X[N>>>2]-50)*(255/205))}for(var N=0,k=y.length;N<k;N+=4){var D=H[N+3]/255;
p[N]=H[N]*D+p[N]*(1-D);p[N+1]=H[N+1]*D+p[N+1]*(1-D);p[N+2]=H[N+2]*D+p[N+2]*(1-D)}}return E}();d.$.ym=function(){function E(o,T){return o[T]+o[T+1]+o[T+2]+o[T+3]}function y(o,T){return o[T]+o[T+1]+o[T+2]+2*o[T+3]}function c(o,T,i,r){o[T]=i[r];
o[T+1]=i[r+1];o[T+2]=i[r+2];o[T+3]=i[r+3]}function e(o,T,i){o[T]=o[i];o[T+1]=o[i+1];o[T+2]=o[i+2];o[T+3]=o[i+3]}function p(o,T,i){o[i]=T[i];
o[i+1]=T[i+1];o[i+2]=T[i+2];o[i+3]=255-T[i+3]}function H(o){for(var N=0,T=o.length;N<T;N+=4){o[N+3]=255-o[N+3]}}function Z(){var o=Math.random();
if(o>.5)return 0;if(o>.25)return 1;if(o>.1)return 2;if(o>.02143)return 3;if(o>.00445)return 4;if(o>65e-5)return 5;
if(o>415e-6)return 6;if(o>55e-6)return 7;return 8}function X(o,T,i,r,I,M){o[T]=i[r]+(I[M]-i[r]>>1);o[T+1]=i[r+1]+(I[M+1]-i[r+1]>>1);
o[T+2]=i[r+2]+(I[M+2]-i[r+2]>>1);o[T+3]=i[r+3]+(I[M+3]-i[r+3]>>1)}function b(o,T,i,r,I,M){o[T]=I[M]+i[r]>>1;
o[T+1]=I[M+1]+i[r+1]>>1;o[T+2]=I[M+2]+i[r+2]>>1;o[T+3]=I[M+3]+i[r+3]>>1}function k(o,T,i,r,I,M,J,P,n){var x=0,L=0,u=0,N,C=I[M],h;
X(P,0,o,T,o,i);for(N=0;N<C;N++){X(P,(N+1)*4,P,N*4,o,i)}L=(C+1)*4;u+=C;M--;c(o,T,P,L-4);r[M]=E(o,T);T-=n;
while(M>0&&r[M-1]<r[M]){h=P;P=J;J=h;x=L;b(P,0,o,T-n,J,0);for(N=4;N<x;N+=4){b(P,N,P,N-4,J,N)}C=I[M];for(N=u;
N<C;N++){X(P,L,P,L-4,J,x-4);L+=4;u++}M--;c(o,T,P,L-4);r[M]=E(o,T);T-=n}}function D(o,T,i,r,I){var M=T*4,J=0,P,n,x=new Uint8Array(T+1),L=new Uint8Array(10*4),u=new Uint8Array(10*4);
for(var N=0;N<i;N++){p(r,o,J);I[0]=E(r,J);x[0]=Z();P=J;J+=4;for(var C=1;C<T;C++){p(r,o,J);I[C]=E(r,J);
n=Z();x[C]=n;if(I[C-1]<I[C]&&n>0){k(r,J-4,J,I,x,C,L,u,4)}J+=4}I[T]=I[0];x[T]=x[0];if(I[T-1]<I[T]&&n>0){k(r,J,P,I,x,T,L,u,4)}}H(r)}function j(){var o=Math.random();
if(o>.659755)return 0;if(o>.1625)return 10;if(o>.06)return 20;if(o>.01)return 30;if(o>.0035)return 40;
if(o>65e-5)return 50;if(o>415e-6)return 60;if(o>55e-6)return 70;return 80}function g(o,T,i,r,I,M){var J=j()+1,P=r[I];
for(var N=1;N<J;N++){if(0>I)break;if(r[I-N]<P){e(o,T,i)}else{break}T+=M}}function R(o,T,i,r,I){var M=T*4,J=0;
for(var N=0;N<i;N++){p(r,o,J);I[0]=E(r,J);J+=4;for(var P=1;P<T;P++){p(r,o,J);I[P]=E(o,J);if(I[P-1]<I[P]){g(r,J-4,J,I,P,-4)}J+=4}I[T]=I[0];
if(I[P-1]<I[P]){g(r,J-4,J-M,I,P,-4)}}H(r)}function t(o,T,i,r,I,M){var J=1,P,n,x=new Uint8Array(4),L,u=T;
while(Math.random()<1/J){u=T;if(r<=1)break;P=i[r];n=i[r-1];if(P<=n)break;c(x,0,o,u-M);L=!0;for(var N=r;
N<I;N++){if(n>i[N]){c(o,u-M,x,0);i[N-1]=n;L=!1;break}c(o,u-M,o,u);i[N-1]=i[N];u+=M}if(L){c(o,u-M,x,0);
i[I-1]=n}J++;r--;T-=M}}function w(o,T,i,r,I){var M=0,J=0,P=T*4;for(var N=0;N<i;N++){J=M;for(var n=0;
n<T;n++){p(r,o,M);I[n]=y(r,M);M+=4}M=J;for(var n=1;n<T;n++){if(I[n-1]<I[n]&&Math.random()<.66){t(r,M+4,I,n,T,4)}M+=4}M+=4}H(r)}function B(o,T,i,r,I){var M=I[0],J=I[1],P=new Uint16Array(T+1),n=o,x=r,L;
if(J){L=r.slice(0);$(o,r,T,i);n=r;x=L}if(M==0)D(n,T,i,x,P);else if(M==1)R(n,T,i,x,P);else if(M==2)w(n,T,i,x,P);
if(J){$(L,r,T,i)}}function $(o,T,i,r){for(var I=0;I<r;I++)for(var M=0;M<i;M++){var J=I*i+M<<2,P=I*i+(i-1-M)<<2;
T[P]=o[J];T[P+1]=o[J+1];T[P+2]=o[J+2];T[P+3]=o[J+3]}}return B}();d.$.auk=function(E,y,c,e,p){var H=d.$.s,Z=1,B=0,T=0;
H.Rz(y,c);H.e9(p[2]);var X=3<<13,b=Math.PI/2.43,k=b/256,D=Math.PI*2/256;function j(){var M=H.random()*256,J=H.random()*256;
return Z*~~(Math.tan(b-M*k)*325*Math.cos(J*D)*256)+X>>16}Z=p[0];var g=p[1],R=(g+2)/2,t=H.random()*255,w=H.zk(1);
for(var N=0;N<c;N++){var $=H.SP(j()+t);for(var o=0;o<y;o++){$=H.SP(j()+$);w[B++]=$}}B=y;for(var N=1;
N<c;N++){var i=H.SP(j()+w[T++]);w[B++]=i;for(var o=1;o<y;o++){var r=T+1;if(o+1==y){r--}var I=(R+i+w[r]+w[T]*g)/(g+2);
i=H.SP(j()+I);w[B++]=i;T++}}H.rx(w,e)};var dY=function(){function E(q){q=q^61^q>>>16;q=q+(q<<3);q=q^q>>>4;
q=q*668265261;q=q^q>>>15;return q}var y=function(){var y=function(q){if(q){this.U=q}this.U=E(this.U);
return(this.U&16777215)*(1/16777215)};return y};function c(q,K){if(K==null){K=[0,0]}return Math.sqrt((K[0]-q[0])*(K[0]-q[0])+(K[1]-q[1])*(K[1]-q[1]))}function e(q,K){if(K==null){K=[0,0]}return[-(K[1]-q[1])/c(q,K),(K[0]-q[0])/c(q,K)]}function p(q){return[Math.cos(q),Math.sin(q)]}function H(q){var K=c(q,[0,0]),U=[q[0]/K,q[1]/K],f=Math.atan(U[1]/U[0]);
if(U[0]>0&&U[1]<0){f+=2*Math.PI}else if(U[0]<0&&U[1]<0){f+=Math.PI}else if(U[0]<0&&U[1]>0){f+=Math.PI}return f}function Z(q){var Z=0;
for(var N=1;N<q.length/2;++N){Z+=c([q[2*N],q[2*N+1]],[q[2*(N-1)],q[2*(N-1)+1]])}return Z}function X(q,K,U){var f=new Float32Array(q.length),Y=1/(q.length/2),G=r(U);
for(var N=0;N<q.length/2;++N){var V=N*Y,dF=V/2+.5,s=1,aH=0;if(U.shape==2){s=1/(2*dF)}if(U.shape==3){dF=(1-V)/2+.5;
s=1/(2*dF)+.5}if(U.shape==4){dF=V;s=Math.sin(3/2*Math.PI*dF)/4+1}if(U.shape==5){dF=(V-.5)*6;s=(-Math.atan(dF)/1.25+1)/5+.6-.2*V}var dw=[null,null];
if(N==0){dw=e([q[2*N],q[2*N+1]],[q[2*(N+1)],q[2*(N+1)+1]])}else if(N==q.length/2-1){dw=e([q[2*(N-1)],q[2*(N-1)+1]],[q[2*N],q[2*N+1]])}else{dw=e([q[2*(N-1)],q[2*(N-1)+1]],[q[2*(N+1)],q[2*(N+1)+1]])}f[2*N]=q[2*N]+(s*K+aH)*dw[0];
f[2*N+1]=q[2*N+1]+(s*K+aH)*dw[1];if(U.style==2){f[2*N]+=I(2*N/f.length,G,U)}}return f}function b(q,K,U){var f=new Float32Array(q.length),Y=1/(q.length/2);
for(var N=0;N<q.length/2;++N){var G=N*Y,V=[null,null],dF=.6*U.dy*P(G,K.alx)*U.EN/100,s=.6*U.dy*P(G,K.af8)*U.EN/100,aH=K.a44*dF+(1-K.a44)*s;
if(N==0){V=e([q[2*N],q[2*N+1]],[q[2*(N+1)],q[2*(N+1)+1]])}else if(N==q.length/2-1){V=e([q[2*(N-1)],q[2*(N-1)+1]],[q[2*N],q[2*N+1]])}else{V=e([q[2*(N-1)],q[2*(N-1)+1]],[q[2*(N+1)],q[2*(N+1)+1]])}f[2*N]=q[2*N]+aH*V[0];
f[2*N+1]=q[2*N+1]+aH*V[1]}return f}function k(q){if(q.Dq==1){return[.150684932,.205479452,.465753425,.178082192]}else if(q.Dq==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var K=[],U=1/(u(q)-1);
for(var N=0;N<u(q)-1;++N){K.push(U)}return K}}function D(q,K,U){var f=[],Y=K-q,G=q;for(var N=0;N<U.length-1;
++N){f.push(G+U[N]*Y);G=f[N]}return f}function j(q,K,U,f){var Y=new Float32Array(U.length),G=0,V={shape:Math.floor(f.random()*2.99),a6b:f.random()*.1+.15};
for(var N=0;N<U.length-1;++N){var dF=G+U[N];Y[N]=((1-dF)*q+dF*K)*$(f,dF,V);G=dF}return Y}function g(q,K,U,f){var Y=x(f),G=f.random(),V=G*20+(1-G)*26,dF=new Float32Array(U.length),s=0;
for(var N=0;N<U.length-1;++N){var aH=s+U[N];dF[N]=(1-aH)*q+aH*K+Y/V*(2/3*Math.sin(Math.PI*aH)+1/3*Math.sqrt(Math.sin(Math.PI*aH)));
s=aH}return dF}function R(q,K,U){var f=[];for(var N=0;N<K.length-1;++N){f.push(K[N].slice());var Y=N*(u(U)-1),G=(N+1)*(u(U)-1),V=q[G]-q[Y];
for(var dF=Y+1;dF<G;++dF){var s=r(U),aH=new Float32Array(K[0].length),dw=(q[dF]-q[Y])/V;for(var kO=0;
kO<K[0].length/2;++kO){aH[2*kO]=(1-dw)*K[N][2*kO]+dw*K[N+1][2*kO];aH[2*kO+1]=(1-dw)*K[N][2*kO+1]+dw*K[N+1][2*kO+1];
if(U.style==2){aH[2*kO]+=I(2*kO/K[0].length,s,U)}}f.push(aH)}}f.push(K[K.length-1]);return f}function t(q,K,U){var f=new Array(K.length),Y=O(q),V=null;
for(var N=0;N<K.length;++N){f[N]=X(Y,(K[N]-.5)*U.EN,U)}var G=1+.05*U.aty*x(U)/x({Dq:1});for(var N=0;
N<K.length;++N){if(K[N]==0){V=N}}for(var N=0;N<K.length;++N){var dF=(U.random()-.5)*2,s=Math.round(U.random()*9+1),aH=new Float32Array(s*2+2);
for(var dw=0;dw<=s;++dw){aH[2*dw]=f[N][0]-(f[N][2*dw]-f[N][0]);aH[2*dw+1]=f[N][1]-(f[N][2*dw+1]-f[N][1])}if(N==V){dF*=.1}for(var dw=(f[N].length-1)/2;
dw>s;--dw){f[N][2*dw]=(1-dF)*f[N][2*dw]+dF*(f[N][2*(dw-s)]+G*(f[N][2*dw]-f[N][2*(dw-s)]));f[N][2*dw+1]=(1-dF)*f[N][2*dw+1]+dF*(f[N][2*(dw-s)+1]+G*(f[N][2*dw+1]-f[N][2*(dw-s)+1]))}for(var dw=s-1;
dw>=0;--dw){f[N][2*dw]=(1-dF)*f[N][2*dw]+dF*(aH[2*(s-dw)]+G*(f[N][2*dw]-aH[2*(s-dw)]));f[N][2*dw+1]=(1-dF)*f[N][2*dw+1]+dF*(aH[2*(s-dw)+1]+G*(f[N][2*dw+1]-aH[2*(s-dw)+1]))}}var kO=J(K,U);
if(U.dy>0){var hX=0;for(var N=0;N<K.length;++N){if(N==0){hX+=K[N]}else{hX+=Math.abs(K[N]-K[N-1])}var jF=hX-Math.floor(hX),gn=1;
if(jF==0){gn=0}f[N]=b(f[N],{alx:kO[Math.floor(hX)],af8:kO[Math.floor(hX)+gn],a44:jF},U)}}return f}function w(q,K){var U=A(K,q),f=W(K,q),Y=[],G=[],V=[],dF=k(q);
for(var N=0;N<K.length-1;++N){Y.push(K[N]);G.push(U[N]);V.push(f[N]);var s=D(K[N],K[N+1],dF),aH=j(U[N],U[N+1],dF,q),dw=g(f[N],f[N+1],dF,q);
for(var kO=0;kO<s.length;++kO){Y.push(s[kO]);G.push(aH[kO]);V.push(dw[kO])}}Y.push(K[K.length-1]);G.push(U[U.length-1]);
V.push(f[f.length-1]);return{auH:Y,a92:G,hl:V}}function B(q,K,U,f){var Y=new Float32Array(2*f),G=q.length/2,V=G-K,dF=U*V,s=dF/f;
for(var N=0;N<f;++N){var aH=Math.floor(K+N*s),dw=Math.ceil(K+N*s),U=K+N*s,kO=dw-aH,hX=1,jF=0;if(kO!=0){hX=(dw-U)/kO;
jF=(U-aH)/kO}Y[2*N]=hX*q[2*aH]+jF*q[2*dw];Y[2*N+1]=hX*q[2*aH+1]+jF*q[2*dw+1]}return Y}function $(q,K,U){var f=U.a6b,Y=K*2*Math.PI,G=Y,V=0;
if(U.shape==0){V=(Math.sin(2*G+Math.PI/2)+1)/2}else if(U.shape==1){V=(Math.sin(G+Math.PI/2)+1)/2}else{V=(4*Math.sin(3/4*G+Math.PI)+Math.sin(Math.PI/2+2*G)-2*G/Math.PI+6)/7}return Math.min(1,1-f+f*V)}function o(q,K,U,f){var Y=[];
for(var N=0;N<q.length;++N){Y.push(B(q[N],K[N],U[N],f))}return Y}function T(q,K,U){var f=[];for(var N=0;
N<q.length;++N){var Y=p(2*Math.PI*U.random()),G=p(2*Math.PI*U.random()),V=U.VQ*.5*C({Dq:1})/C(U),dF=V*U.EN/200,s=V*K/500,aH=new Float32Array(q[0].length);
for(var dw=0;dw<q[0].length/2;++dw){var kO=p(2*Math.PI*U.random()),hX=2*dw/q[0].length;aH[2*dw]=q[N][2*dw]+dF*(kO[0]+((1-hX)*Y[0]+hX*G[0]));
aH[2*dw+1]=q[N][2*dw+1]+s*(kO[1]+((1-hX)*Y[1]+hX*G[1]))}f.push(aH)}return f}function i(q,K,U){var f=U.j5,Y=2/f,G=[1/10,1/30,1/40,1/45,1/100],V=G[U.Dq-1],dF=4*(U.opacity/25*Y*V)*(1-U.VQ/150),kO=0,jF=0;
if(U.style==3){return dF*.09}var s=2.2*(q-.5),aH=s*s*s*s+.27+Math.max(0,(U.opacity-50)/15),dw=2*(Math.sin(3*Math.PI*K)/(Math.PI*K+2)+1.1)-K/2;
K=2*K;if(K<.41){var hX=2*Math.PI*K/.41;kO=(Math.sin(hX-Math.PI/2)+1)/4+.5}else if(K<.77){var hX=2*Math.PI*(K-.41)/.36;
kO=(Math.sin(hX-Math.PI/2)+1)/4+.5-hX/2/Math.PI*.5}else{var hX=2*Math.PI*(K-.77)/.23;kO=(Math.sin(hX-Math.PI/2)+1)/2*.12}kO*=3;
kO+=Math.max(0,(U.opacity-50)/15);if(U.type==6){jF=dw}else{jF=kO}return dF*aH*jF}function r(q){return{H:q.random()*7/2+.5,jC:q.random()*2*Math.PI}}function I(q,K,U){return U.EN/300*u({Dq:1})/u(U)*10*(Math.sin(K.H*2*Math.PI*q+K.jC)+10*(U.random()-.5))}function M(q){var K=Math.exp(-q.dy/25);
return{H:q.random()*3/2+.5,jC:q.random()*2*Math.PI,qd:(q.random()-.5)*10*K}}function J(q,K){var U=Math.ceil(Q(q)),f=[];
for(var N=0;N<=U;++N){f.push(M(K))}return f}function P(q,K){var U=K.H*4*Math.PI*q+K.jC;return Math.exp(-1/2*Math.PI*q)*Math.cos(U)*Math.cos(U)*Math.cos(U)*Math.cos(U)*Math.cos(U)+q*K.qd-K.qd/4}function n(q,K,U,f,Y){var G=0,V=C(K)-1;
for(var N=0;N<V;++N){for(var dF=0;dF<q.length-1;dF+=u(K)-1){for(var s=N;s<q[0].length/2-V;s+=V){for(var aH=dF;
aH<dF+(u(K)-1);++aH){U[Y+G]=i(aH*(K.j5-1)/(q.length-1)%1,s/q[0].length,K);var dw=0,kO=0;if(K.type==6&&aH!=0&&aH!=q.length-1){kO=(q[aH][2*(s+1)+1]-q[aH][2*s+1])/2;
dw=(q[aH][2*(s+1)]-q[aH][2*s])/2}f[8*Y+8*G]=q[aH][2*s]+dw;f[8*Y+8*G+1]=q[aH][2*s+1]+kO;f[8*Y+8*G+2]=q[aH][2*(s+V)]+dw;
f[8*Y+8*G+3]=q[aH][2*(s+V)+1]+kO;f[8*Y+8*G+4]=q[aH+1][2*(s+V)];f[8*Y+8*G+5]=q[aH+1][2*(s+V)+1];f[8*Y+8*G+6]=q[aH+1][2*s];
f[8*Y+8*G+7]=q[aH+1][2*s+1];++G}}}}}function x(q){var K=[100,300,500,700,1e3];return K[q.Dq-1]}function L(q){var K=[30,70,100,140,300];
return K[q.Dq-1]}function u(q){var K=[5,7,26,40,100];return K[q.Dq-1]}function C(q){if(q.Dq==1){return 4}else if(q.Dq==2){return 8}else{return Math.floor(L(q)/9)}}function h(q){var K=q.j5,U=new Float32Array(K),f=null;
for(var N=0;N<K;++N){U[N]=q.random()}if(q.j5<=3){U[0]=0;U[q.j5-1]=1}else{for(var N=0;N<2;++N){var Y=Math.floor(q.random()*K);
if(f==null||f!=Y){U[Y]=N;f=Y}else{U[Y+1]=N}}}return U}function A(q,K){var U=[],f=.2,G=0;for(var N=0;
N<q.length;++N){var Y=K.random()*(1-f)+f;U.push(Y)}var V=Math.min(3,K.j5);for(var N=0;N<q.length;++N){if(U[N]>.9){++G}}while(G<V){var dF=Math.floor(K.random()*q.length);
if(U[dF]<=.9){U[dF]=.9+.1*K.random();++G}}return U}function W(q,K){var U=x(K),f=x({Dq:1}),Y=[];for(var N=0;
N<q.length;++N){Y.push(Math.max(1,(K.random()*10+2)*U/f))}return Y}function Q(q){var K=0;for(var N=0;
N<q.length;++N){if(N==0){K+=q[N]}else{K+=Math.abs(q[N]-q[N-1])}}return K}function l(q,K){if(q.length/2-1==x(K)){return q}var U=new Float32Array(2*(x(K)+1)),f=(q.length-2)/(U.length-2);
for(var N=0;N<U.length/2;++N){var Y=N*f,G=Math.floor(Y),V=Math.ceil(Y),dF=V-G,s=1,aH=0;if(dF!=0){s=(V-Y)/dF;
aH=(Y-G)/dF}U[2*N]=s*q[2*G]+aH*q[2*V];U[2*N+1]=s*q[2*G+1]+aH*q[2*V+1]}return U}function O(q,K){var U=q.length/2,f=Z(q),Y=f/U,G=!1,s=0,aH=0,dw=1;
if(K){var V=Math.floor(f/K.aDb),dF=K.aDb;if(K.a2J&&q[0]==q[q.length-2]&&q[1]==q[q.length-1]){G=!0;dF=f/(V+1)}if(K.type==2&&!G&&dF*V+K.length>f){U=V+1}else{U=V+2}Y=dF}var kO=new Float32Array(U*2);
kO[0]=q[0];kO[1]=q[1];for(var N=1;N<U;++N){while(s<=N*Y){aH=s;s+=c([q[2*dw],q[2*dw+1]],[q[2*(dw-1)],q[2*(dw-1)+1]]);
++dw}var hX=1-(N*Y-aH)/(s-aH);kO[2*N]=(1-hX)*q[2*dw]+hX*q[2*(dw-1)];kO[2*N+1]=(1-hX)*q[2*dw+1]+hX*q[2*(dw-1)+1]}kO[kO.length-2]=q[q.length-2];
kO[kO.length-1]=q[q.length-1];return kO}function z(q,K){var U=O(q,K),f=[];for(var N=0;N<(U.length-2)/2;
++N){var Y=[];Y.push(U[2*N]);Y.push(U[2*N+1]);var G=c([U[2*(N+1)],U[2*(N+1)+1]],[U[2*N],U[2*N+1]]),V=[(U[2*(N+1)]-U[2*N])/G,(U[2*(N+1)+1]-U[2*N+1])/G],dF=p((K.aCX-90)/360*2*Math.PI),s=V;
if(K.type==3){s=dF}else if(K.type==4){s=p(H(V)+H(dF))}else if(K.type==5){s=p(((K.random()-.5)*K.aCX-90)/360*2*Math.PI)}var aH=K.length;
if(K.aDW){aH=2*K.random()*K.length}Y.push(U[2*N]+s[0]*aH);Y.push(U[2*N+1]+s[1]*aH);f.push(Y)}return f}function a(q){if(q.a9e){q.Nh=100*Math.random()}else{q.Nh=q.aCh}q.random=new y;
q.random(q.Nh);if(q.type==6){q.j5=2;q.shape=5;q.aty=0}}function m(q,K){q=l(q,K);var U=[q],aH=0;if(K.type>=2&&K.type<6){U=z(q,K)}var f=C(K)-1,Y=L(K)-f,G=(K.j5-1)*(u(K)-1),V=U.length*Y*G,dF=new Float32Array(V),s=new Float32Array(8*V);
for(var N=0;N<U.length;++N){for(var dw=0;dw<1e4;++dw){K.Nh=E(K.Nh)}K.random(K.Nh);var q=l(U[N],K),kO=h(K),hX=Q(kO),jF=t(q,kO,K),gn=w(K,kO),hM=R(gn.auH,jF,K);
hM=o(hM,gn.hl,gn.a92,L(K));if(K.VQ>0){hM=T(hM,Z(U[N]),K)}n(hM,K,dF,s,aH);aH+=Y*G}return[dF,s]}var dY=function(q){var K=performance.now(),U=q[0],f=q[1];
a(f);var Y=[new Float32Array(0),new Float32Array(0)];for(var N=0;N<U.length;++N){f.Nh=E(f.Nh);var G=m(U[N],f),V=new Float32Array(Y[0].length+G[0].length),dF=new Float32Array(Y[1].length+G[1].length);
V.set(Y[0]);V.set(G[0],Y[0].length);Y[0]=V;dF.set(Y[1]);dF.set(G[1],Y[1].length);Y[1]=dF}var s=performance.now();
if(f.aE1){console.DR("Geometry: "+String(s-K)+"ms")}return Y};return dY}(),ax=function(){function E(p,H){var Z=[],X=0,b=H.length,k=0,D=0,j=new ir,g=0,R=1e9;
for(D=0;D<b;D++){var t=D*8,w=H[D];if(w<R)R=w;var B=p[t+0],$=p[t+1],o=p[t+2],T=p[t+3],i=p[t+4],r=p[t+5],I=p[t+6],M=p[t+7],J=Math.min(B,o,i,I),P=Math.max(B,o,i,I),n=Math.min($,T,r,M),x=Math.max($,T,r,M),L=new ir(J,n,P-J,x-n),u=L.uN(j),C=g+w;
if(D-k<10&&(D==k||u.P()*.8<L.P()+j.P())){j=u;g=C}else{Z.push(D-k);k=D;j=L;g=w;R=w}}if(D!=k)Z.push(D-k);
return Z}function y(p,H,Z,X,b,k){var D=document.createElement("canvas"),$=0,V=.8;D.width=H;D.height=Z;
var j=D.getContext("2d"),g=b[0],R=b[1],t=new Float64Array(H*Z),w=Date.now(),B=E(R,g);for(var o=0;o<B.length;
o++){var T=$,i=$+B[o],M=1e9,P=1e9,A=0;$=i;var r=T*8,I=i*8,J=-M,n=-P;for(var x=r;x<I;x+=2){var L=R[x],u=R[x+1];
if(L<M)M=L;if(L>J)J=L;if(u<P)P=u;if(u>n)n=u}M=Math.floor(M);J=Math.ceil(J);P=Math.floor(P);n=Math.ceil(n);
var C=J-M,h=n-P;for(var W=T;W<i;W++)A+=g[W];for(var x=r;x<I;x+=8){var Q=g[x>>>3],l=R[x+0],O=R[x+1],z=R[x+2],a=R[x+3],m=R[x+4],q=R[x+5],K=R[x+6],U=R[x+7];
j.fillStyle="rgba(0,0,0,"+Q/A+")";j.beginPath();j.moveTo(l,O);j.lineTo(z,a);j.lineTo(m,q);j.lineTo(K,U);
j.closePath();j.fill()}var f=j.getImageData(M,P,C,h).data;for(var u=0;u<h;u++)for(var L=0;L<C;L++){var N=u*C+L,Y=f[N*4+3],G=(P+u)*H+M+L;
if(Y!=0)t[G]+=Y*A}j.clearRect(M,P,C,h)}var dF=k[1].color,s=Math.pow(dF.Z/255,V),aH=Math.pow(dF.D/255,V),dw=Math.pow(dF.J/255,V),kO=new ir(0,0,H,Z),hX=d.R(H*Z*4);
for(var u=0;u<Z;u++)for(var L=0;L<H;L++){var N=u*H+L,W=N*4,g=t[N]*(1/255);hX[W]=e(s,g);hX[W+1]=e(aH,g);
hX[W+2]=e(dw,g);hX[W+3]=Math.min(255,g*255)}d.l.Io("norm",hX,kO,X,kO,kO,1)}var c=new Uint8Array(2e3);
for(var N=0;N<2e3;N++)c[N]=255*Math.min(1,Math.log(N/700+1));function e(p,H){return c[Math.min(1500,~~(p*H*1e3))]}return y}(),bB=function(){var E=new Float32Array(3e3),y=new Float32Array(3e3),c=new Float32Array(256),e=new Float32Array(3e3);
function p(){var R=E.length;E[0]=Math.log10(157647e-9);for(var N=1;N<R;++N)E[N]=Math.log10(N/R)}function H(){var R=y.length;
for(var N=0;N<R;++N)y[N]=Math.pow(10,20*(N-R/2)/R)}function Z(){var R=c.length;for(var N=0;N<R;++N)c[N]=d.xz(N/255)}function X(){var R=e.length;
for(var N=0;N<R;++N)e[N]=255*d.nW(N/(R-1))}function b(R,t){var w=R.length>>>2;for(var N=0;N<w;++N){var B=c[R[4*N]],$=c[R[4*N+1]],o=c[R[4*N+2]],T=.3811*B+.5783*$+.0402*o,i=.1967*B+.7244*$+.0782*o,r=.0241*B+.1288*$+.8444*o;
T=E[~~(T*E.length)];i=E[~~(i*E.length)];r=E[~~(r*E.length)];t[3*N]=(T+i+r)*.5773502692;t[3*N+1]=(T+i-2*r)*.4082482905;
t[3*N+2]=(T-i)*.7071067812}}function k(R,t){var w=t.length>>>2,B=e.length-1;for(var N=0;N<w;++N){var $=.5773502692*R[3*N],o=.4082482905*R[3*N+1],T=.7071067812*R[3*N+2],i=y[~~(($+o+T+10)*(3e3/20))],r=y[~~(($+o-T+10)*(3e3/20))],I=y[~~(($-2*o+10)*(3e3/20))],M=4.4679*i-3.5873*r+.1193*I,J=-1.2186*i+2.3809*r-.1624*I,P=.0497*i-.2439*r+1.2045*I;
t[4*N]=e[~~(B*Math.max(0,Math.min(1,M)))];t[4*N+1]=e[~~(B*Math.max(0,Math.min(1,J)))];t[4*N+2]=e[~~(B*Math.max(0,Math.min(1,P)))]}}function D(R){var t=0,w=0,B=0;
for(var N=0;N<R.length;N+=3){t+=R[N];w+=R[N+1];B+=R[N+2]}return[t/(R.length/3),w/(R.length/3),B/(R.length/3)]}function j(R,D){var t=0,w=0,B=0;
for(var N=0;N<R.length;N+=3){var $=R[N]-D[0],o=R[N+1]-D[1],T=R[N+2]-D[2];t+=$*$;w+=o*o;B+=T*T}return[Math.sqrt(t/(R.length/3)),Math.sqrt(w/(R.length/3)),Math.sqrt(B/(R.length/3))]}function g(R,t,w,B,$,o){p();
H();Z();X();var T=0,O,z;if(o[0]>100)T=-(o[0]-100)/100*.13;else if(o[0]>=75)T=(100-o[0])/25*.04;else if(o[0]>=50)T=.04+(75-o[0])/25*.04;
else if(o[0]>=25)T=.08+(50-o[0])/25*.08;else T=.16+(25-o[0])/25*.24;var i=(o[1]-100+100)/100,r=o[2]/100,I=o[3],M=new Float32Array(R.length*3/4),J=new Float32Array(B.length*3/4),P=Date.now();
b(R,M);b(B,J);var n=Date.now(),x=D(M),L=D(J),u=Date.now(),C=j(M,x),h=j(J,L),A=Date.now();L[0]*=Math.pow(10,T);
var W=[h[0]/C[0],h[1]/C[1],h[2]/C[2]],Q=M.length,l=1/-1.1546978950500488;for(var N=0;N<Q;N+=3){if(I){var a=Math.max(0,Math.min(1,M[N]*l));
a=1-Math.sqrt(a);O=a*L[1];z=a*L[2]}else{O=L[1];z=L[2]}M[N]=(M[N]-x[0])*W[0]+L[0];M[N+1]=(M[N+1]-x[1])*W[1]*i+O;
M[N+2]=(M[N+2]-x[2])*W[2]*i+z}var m=Date.now();k(M,$);var q=$.length>>>2;for(var N=0;N<q;++N){$[4*N]=(1-r)*$[4*N]+r*R[4*N];
$[4*N+1]=(1-r)*$[4*N+1]+r*R[4*N+1];$[4*N+2]=(1-r)*$[4*N+2]+r*R[4*N+2];$[4*N+3]=255}}return g}(),c2=function(){function E(y,c,e,p,H){var Z=[-1,-1,-1,-1],X=255,b=160,k,D=!1,j=new Array(4);
j[0]=new Array(c);j[1]=new Array(e);j[2]=new Array(c);j[3]=new Array(e);var g=new Array(2);g[0]=new Array(e);
g[1]=new Array(e);function R(h,A,W,Q,l){this.start=Q;this.axis=l;this.dir=h;this.end=-1;this.source=A;
this.P=W}function t(h,A,W,Q,l){if(W%2==0){if(!j[W][h])j[W][h]=new Array;j[W][h].push(new R(W,Q,l,A,h))}else{if(!j[W][A])j[W][A]=new Array;
j[W][A].push(new R(W,Q,l,h,A))}var O=Date.now()}function w(N){var h=!1,A=0;if(y[4*N+3]<X)return h;var W=N%c,Q=Math.floor(N/c);
B(W,Q);if(N+c<c*e&&y[4*(N+c)+3]<X&&y[4*(N-c)+3]>=X&&y[4*(N-2*c)+3]>=X){var l=2;if(y[4*(N+c)+3]<=b)A=-1;
if(y[4*(N+2*c-1)+3]<X&&y[4*(N+2*c+1)+3]<X)h=!0;else if(y[4*(N+2*c-1)+3]>=X&&y[4*(N+1)+3]>=X)h=!0;else if(y[4*(N+2*c+1)+3]>=X&&y[4*(N-1)+3]>=X)h=!0;
t(W,Q,l,A,h)}else if(N-c>=0&&y[4*(N-c)+3]<X&&y[4*(N+c)+3]>=X&&y[4*(N+2*c)+3]>=X){var l=0;if(y[4*(N-c)+3]<=b)A=-1;
if(y[4*(N-2*c-1)+3]<X&&y[4*(N-2*c+1)+3]<X)h=!0;else if(y[4*(N-2*c-1)+3]>=X&&y[4*(N+1)+3]>=X)h=!0;else if(y[4*(N-2*c+1)+3]>=X&&y[4*(N-1)+3]>=X)h=!0;
t(W,Q,l,A,h)}A=0;if(N+1<c*e&&y[4*(N+1)+3]<X&&y[4*(N-1)+3]>=X&&y[4*(N-2)+3]>=X){var l=3;if(y[4*(N+1)+3]<=b)A=-1;
if(!h&&y[4*(N+c+2)+3]<X&&y[4*(N-c+2)+3]<X){h=!0;t(W,Q,l,A,!0)}else t(W,Q,l,A,!1)}else if(N>=1&&y[4*(N-1)+3]<X&&y[4*(N+1)+3]>=X&&y[4*(N+2)+3]>=X){var l=1;
if(y[4*(N-1)+3]<=b)A=-1;if(!h&&y[4*(N+c-2)+3]<X&&y[4*(N-c-2)+3]<X){h=!0;t(W,Q,l,A,!0)}else t(W,Q,l,A,!1)}return h}function B(N,h){if(Z[0]==-1){Z[0]=N;
Z[1]=h;Z[2]=1;Z[3]=1}if(N<Z[0]){Z[2]+=Z[0]-N;Z[0]=N}if(N>Z[0]+Z[2])Z[2]=N-Z[0];if(h<Z[1]){Z[3]+=Z[1]-h;
Z[1]=h}if(h>Z[1]+Z[3])Z[3]=h-Z[1]}function $(h,N,A,W){if(!A.P)return;var Q=(h+2)%4,l=A.start,O=Z[1];
if(h==2)O+=Z[3];else if(h==1)O=Z[0];else if(h==3)O=Z[0]+Z[2];var z=A.source;if(j[Q][N])for(var a=0;a<j[Q][N].length;
++a){if(h>1){var m=l+Math.floor((j[Q][N][a].start-l)/2);if(j[Q][N][a].start>l&&m<O)O=m}else{var m=l-Math.floor((l-j[Q][N][a].start)/2);
if(j[Q][N][a].start<l&&m>O)O=m}}for(var q=1;q<Math.abs(O-l);++q){var a=l+q;if(h==1||h==0)a=l-q;for(var K=0;
K<2;++K){var U=2*K,f=!1;if(h%2==0)U+=1;if(j[U][a]){for(var Y=0;Y<j[U][a].length;++Y){if(j[U][a][Y].P){var G=j[U][a][Y].start,V=N-G,dF=a-l;
if(U==0||U==1)V=-V;if(V<=0)continue;if(h==0||h==1)dF=-dF;if(dF>V){O=a;f=!0;break}}}if(f)break}}}A.end=O;
i(h,N,l,O,z)}function o(h){for(var N=0;N<j[h].length;++N){if(j[h][N])for(var A=0;A<j[h][N].length;++A){$(h,N,j[h][N][A])}}}function T(){var h=[2,0,3,1];
for(var N=0;N<h.length;++N)o(h[N])}function i(h,N,A,W,Q){if(h==2)for(var l=A;l<=W;++l){if(!r(l*c+N,(A+Q)*c+N))return!1}else if(h==0)for(var l=A;
l>=W;--l){if(!r(l*c+N,(A-Q)*c+N))return!1}else if(h==1)for(var l=A;l>=W;--l){if(!r(N*c+l,N*c+A-Q))return!1}else if(h==3)for(var l=A;
l<=W;++l){if(!r(N*c+l,N*c+A+Q))return!1}}function r(h,A){if(!k[h]){p[4*h]=p[4*A];p[4*h+1]=p[4*A+1];p[4*h+2]=p[4*A+2];
if(D)p[4*h+3]=255;k[h]=!0;return!0}return!1}function I(){for(var N=0;N<4;N+=1){for(var h=0;h<j[N].length;
++h){if(j[N][h])for(var A=0;A<j[N][h].length;++A){var W=j[N][h][A];for(var Q=1;Q<3;Q+=2){var l=(N+Q)%4;
if(j[l][W.start])for(var O=0;O<j[l][W.start].length;++O){if(j[l][W.start][O].start==W.axis){var j1=c*W.start+W.axis;
if(N%2==1){j1=W.start+c*W.axis;M(j[l][W.start][O])}else M(W)}}}}}}}function M(h){if(h.dir%2==0){var j1=c*h.start+h.axis,A=h.start,W=1;
if(!k[j1+1])W=3;else if(k[j1-1])return;var Q=p[4*j1],l=p[4*j1+1],O=p[4*j1+2];while(p[4*j1]==Q&&p[4*j1+1]==l&&p[4*j1+2]==O){if(W==1){if(!g[0][A])g[0][A]=new Array;
g[0][A].push(new R(W,0,!1,h.axis,A))}else{if(!g[1][A])g[1][A]=new Array;g[1][A].push(new R(W,0,!1,h.axis,A))}if(h.dir==2){j1+=c;
A++}else{j1-=c;A--}}}}function J(){for(var h=0;h<2;++h){var A=(h+1)%2;for(var N=0;N<g[h].length;++N){if(g[h][N])for(var W=0;
W<g[h][N].length;++W){var Q=Z[0];if(h==1)Q+=Z[2];var l=g[h][N][W].start;if(g[A][N])for(var O=0;O<g[A][N].length;
++O){var z=g[A][N][O].az;if(h==0){if(z>Q&&z<l){Q=l-Math.floor((l-z)/2)}}else{if(z<Q&&z>l){Q=l+Math.ceil((z-l)/2)}}}if(h==0)i(g[h][N][W].dir,N,l-1,Q,-1);
else i(g[h][N][W].dir,N,l+1,Q,-1)}}}for(var N=0;N<k.length;++N){if(!k[N]&&N%c>=Z[0]&&N%c<=Z[0]+Z[2]&&Math.floor(N/c)>=Z[1]&&Math.floor(N/c)<=Z[1]+Z[3]){var l=c;
if(N<l||!k[N-l])l=1;p[4*N]=p[4*(N-l)];p[4*N+1]=p[4*(N-l)+1];p[4*N+2]=p[4*(N-l)+2];k[N]=!0;if(D)p[4*N+3]=255}}}function P(){k=new Array(y.length/4);
for(var N=0;N<p.length/4;++N){k[N]=!1;p[4*N]=y[4*N];p[4*N+1]=y[4*N+1];p[4*N+2]=y[4*N+2];p[4*N+3]=y[4*N+3];
if(p[4*N+3]==255)k[N]=!0;if(w(N))k[N]=!1}if(Z[0]>0){Z[0]--;Z[2]++}if(Z[1]>0){Z[1]--;Z[3]++}if(Z[0]+Z[2]<c){Z[2]++}if(Z[1]+Z[3]<e){Z[3]++}}var n=Date.now();
P();var x=Date.now();T();var L=Date.now();I();var u=Date.now();J();var C=Date.now();console.log("Init: "+String(x-n));
console.log("Filling: "+String(L-x));console.log("Check areas: "+String(u-L));console.log("Fill areas: "+String(C-u))}return E}();
function jC(){}jC.afc=function(E){var y=[d.xz(E[0]),d.xz(E[1]),d.xz(E[2]),0];return d.Av.WV(d.Av.azC,y)};
jC.ahl=function(E){var y=d.Av.WV(d.Av.Er,E);return[d.nW(y[0]),d.nW(y[1]),d.nW(y[2])]};jC.C0=function(E,y){var c={},e=5003,p=1667,H=25e3,Z=57.4,X=16.1,b=1.8,k=0,D=1.54,j=.75,t=0;
if(y>0){E-=y/100*4}if(E<0){X=22.54;Z=80.36;D=.756}if(y>0){b=1.3;j=.2}var g=Math.min(e+Z*E,H),R=Math.max(e-X*E,p);
if(E<0){g=Math.max(e+X*E,p);R=Math.min(e-Z*E,H)}if(E>0){if(E<=14){t=(E-1)/13*.075+.025}else if(E<=29){t=.1}else if(E<=60){t=.1-.1*(E-29)/(60-29)}else{var w=E-60;
k=-20*(w/40);t=-.3*(w/40)}}else{if(E<-60){var w=E+60;k=-20*(w/40)}}var B=Math.abs(E)/100*D+Math.abs(y)/100*j+t,$=-(y*b+k),o=gm.qx(g,-$),T=gm.LC(o),i=gm.qx(R,0),r=gm.LC(i),I=gm.afX(T,r);
c.acL=B;c.azQ=I;if(E==0&&y==0)c.a3$=!0;else c.a3$=!1;return c};jC.aoS=function(E,y,c,e){if(e.a3$){return[E,y,c]}var p=this.afc([E,y,c]),H=p[0],Z=p[1],X=p[2],b=Z+1e-12,k=[H/b,Z/b,X/b,0],D=d.Av.WV(e.azQ,k),j=0,g=.4;
D[0]*=b;D[1]*=b;D[2]*=b;if(b>g)j=1/(1-g)*(b-g);p[0]=(1-j)*D[0]+j*H;p[1]=(1-j)*D[1]+j*Z;p[2]=(1-j)*D[2]+j*X;
return this.ahl(p)};d.afe={dF:function(E,y){var N=E.length;E.push(y);var c=N>>>1;while(c!=0&&E[N][0]<E[c][0]){var e=E[N];
E[N]=E[c];E[c]=e;N=c;c=N>>>1}},fq:function(E){if(E.length==2)return E.pop();var top=E[1],N=1;E[1]=E.pop();
var y=E.length;while(!0){var c=N<<1,e=c+1,p=N;if(c<y&&E[c][0]<E[p][0])p=c;if(e<y&&E[e][0]<E[p][0])p=e;
if(p==N)break;var H=E[N];E[N]=E[p];E[p]=H;N=p}return top},acv:function(E){for(var N=1;N<E.length;N++){var y=N,c=1e9;
while(y!=0){var e=E[y][0];if(e>c){console.log(N);throw"e"}c=e;y=y>>>1}}}};d.l={};d.l.Ud=new Float64Array(256);
d.l.hh=new Uint8Array(256*256);d.l.z5=new Uint8Array(256*256);(function(){for(var N=0;N<256;N++)d.l.Ud[N]=255/N;
for(var N=0;N<256;N++)for(var E=0;E<256;E++)d.l.hh[N*256+E]=N==0?0:Math.round(E*255/N);for(var N=0;N<256;
N++)for(var E=0;E<256;E++)d.l.z5[N*256+E]=Math.round(N*(255-E)/255)}());d.l.Io=function(E,y,c,e,p,H,Z,X){if(X==null)X=hA._M();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(E)==-1){Z=Z*X.fill;X.fill=1;X.style=!1}var b="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),k="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),D=d.l[E+"F"];
if(X.Zy==null&&E=="norm")d.l.aDx(y,c,e,p,H,Z,D,X.ap?1:0);else if(E=="diss")d.l.a6i(y,c,e,p,H,Z,D,X.ap?1:0);
else if(b.indexOf(E)!=-1)d.l.aqW(y,c,e,p,H,Z,D,X);else if(k.indexOf(E)!=-1)d.l.aq4(y,c,e,p,H,Z,D,X)};
d.l.apV=function(E,y,c){var e=E*c+1-c;return e<.001?0:1-Math.min(1,(1-y)/e)};d.l.a0X=function(E,y,c){return E*c==1?1:Math.min(1,y/(1-E*c))};
d.l.iQ=function(E){return E<=.25?((16*E-12)*E+4)*E:Math.sqrt(E)};d.l.normF=function(E,y,c){return E};
d.l.darkF=function(E,y,c){return Math.min(E,y)};d.l["mul F"]=function(E,y,c){return E*y};d.l.idivF=function(E,y,c){var e=E*c+1-c;
return y==1?1:1-y>=e?0:1-(1-y)/e};d.l.lbrnF=function(E,y,c){return Math.max(0,E*c+y-c)};d.l.dkClF=function(E,y,c){var e=d.pM(E)<d.pM(y)?E:y;
c.Z=e.Z;c.D=e.D;c.J=e.J;return c};d.l.liteF=function(E,y,c){return Math.max(E,y)};d.l.scrnF=function(E,y,c){return y+E-y*E};
d.l["div F"]=function(E,y,c){E*=c;return y==0?0:y>=1-E?1:y/(1-E)};d.l.lddgF=function(E,y,c){E*=c;return Math.min(1,E+y)};
d.l.lgClF=function(E,y,c){var e=d.pM(E)>d.pM(y)?E:y;c.Z=e.Z;c.D=e.D;c.J=e.J;return c};d.l.overF=function(E,y,c){return d.l.hLitF(y,E,c)};
d.l.sLitF=function(E,y,c){return E<=.5?y-(1-2*E)*y*(1-y):y+(2*E-1)*(d.l.iQ(y)-y)};d.l.hLitF=function(E,y,c){return E<=.5?d.l["mul F"](2*E,y,c):d.l.scrnF(2*E-1,y,c)};
d.l.vLitF=function(E,y,c){return E<=.5?d.l.apV(2*E,y,c):d.l.a0X(2*E-1,y,c)};d.l.lLitF=function(E,y,c){return E<=.5?d.l.lbrnF(2*E,y,c):d.l.lddgF(2*E-1,y,c)};
d.l.pLitF=function(E,y,c){return E<=.5?d.l.darkF(2*E,y,c):d.l.liteF(2*E-1,y,c)};d.l.hMixF=function(E,y,c){if(c>.99)return E+y<1?0:1;
return Math.min(1,Math.max(0,(y+E*c-c)/(1-c+1e-6)))};d.l.diffF=function(E,y,c){E*=c;return Math.abs(E-y)};
d.l.smudF=function(E,y,c){return E+y-2*E*y};d.l.fsubF=function(E,y,c){return Math.max(y-E,0)};d.l.fdivF=function(E,y,c){return Math.min(y/E,1)};
d.l["hue F"]=function(E,y,c){d.l.oH(E,d.mS(y),c);d.l.Lo(c,d.pM(y),c)};d.l["sat F"]=function(E,y,c){d.l.oH(y,d.mS(E),c);
d.l.Lo(c,d.pM(y),c)};d.l.colrF=function(E,y,c){d.l.Lo(E,d.pM(y),c)};d.l["lum F"]=function(E,y,c){d.l.Lo(y,d.pM(E),c)};
d.l.Lo=function(E,y,c){var e=y-d.pM(E);c.Z=E.Z+e;c.D=E.D+e;c.J=E.J+e;d.l.a9t(c)};d.l.a9t=function(E){var y=E.Z,c=E.D,e=E.J,p=d._f(y,c,e),j1=Math.min(y,c,e),H=Math.max(y,c,e);
if(j1<0){var Z=p/(p-j1);y=p+(y-p)*Z;c=p+(c-p)*Z;e=p+(e-p)*Z}if(H>1){var Z=(1-p)/(H-p);y=p+(y-p)*Z;c=p+(c-p)*Z;
e=p+(e-p)*Z}E.Z=y;E.D=c;E.J=e};d.l.oH=function(E,y,c){var e=d.l.a0K,p=E.Z,H=E.D,Z=E.J;if(p==H&&H==Z){c.Z=c.D=c.J=0}else if(p>H){if(p>Z){if(H>Z){c.Z=y;
c.D=e(p,H,Z,y);c.J=0}else{c.Z=y;c.J=e(p,Z,H,y);c.D=0}}else{c.J=y;c.Z=e(Z,p,H,y);c.D=0}}else{if(p<Z){if(H>Z){c.D=y;
c.J=e(H,Z,p,y);c.Z=0}else{c.J=y;c.D=e(Z,H,p,y);c.Z=0}}else{c.D=y;c.Z=e(H,p,Z,y);c.J=0}}};d.l.a0K=function(E,y,c,e){return(y-c)*e/(E-c)};
d.l.aDx=function(E,y,c,e,p,H,Z,X){var b=y.fr(e).fr(p),k=Math.max(0,b.x-y.x),D=Math.max(0,b.x-e.x),j=Math.max(0,b.y-y.y),g=Math.max(0,b.y-e.y),R=b.m,t=b.e,w=y.m,B=e.m,$=d.l.hh,o=d.l.z5,T=new Uint32Array(E.buffer),i=new Uint32Array(c.buffer);
for(var N=0;N<t;N++){var r=(j+N)*w+k,I=(g+N)*B+D;for(var M=0;M<R;M++){var J=T[r+M],W=1;if(J>>>24==0)continue;
if(J>>>24==255&&H==1&&X==0){i[I+M]=T[r+M];continue}var P=i[I+M],n=J&255,x=J>>>8&255,L=J>>>16&255,u=P&255,C=P>>>8&255,h=P>>>16&255,A=H,Q=(P>>>24)*(1/255);
if(X==0){A=(J>>>24)*H*(1/255);W=Q}var l=W*(1-A),O=A+l,z=1/O;i[I+M]=~~(.5+(X*Q+(1-X)*O)*255)<<24|~~(.5+(L*A+h*l)*z)<<16|~~(.5+(x*A+C*l)*z)<<8|~~(.5+(n*A+u*l)*z)}}};
d.l.ao7=function(E,y,c,e,p,H){var Z=y.fr(e).fr(p),X=Math.max(0,Z.x-y.x),b=Math.max(0,Z.x-e.x),k=Math.max(0,Z.y-y.y),D=Math.max(0,Z.y-e.y),j=Z.m,g=Z.e,R=y.m,t=e.m,w=d.l.hh,B=d.l.z5,$=new Uint32Array(E.buffer),o=new Uint32Array(c.buffer),T=Math.floor(Math.random()*16777215),i=0;
for(var N=0;N<g;N++){var r=(k+N)*R+X,I=(D+N)*t+b;for(var M=0;M<j;M++){var J=$[r+M];if(J>>>24==0)continue;
if(J>>24==255&&H==1){o[I+M]=J;continue}var P=o[I+M],n=(J>>>24)*H*(1/255),x=(P>>>24)*(1/255),L=x*(1-n),u=n+L,C=J&255,h=J>>>8&255,A=J>>>16&255,W=P&255,Q=P>>>8&255,l=P>>>16&255;
i>>>=8;if((M&3)==0)i=d.l.dp(I+M+T);var O=u==0?0:1/u,z=Math.floor(u*(256*255))+(i&255)>>>8,a=Math.floor((A*n+l*L)*O+.5),m=Math.floor((h*n+Q*L)*O+.5),q=Math.floor((C*n+W*L)*O+.5);
o[I+M]=z<<24|a<<16|m<<8|q}}};d.l.S3=function(E,y,c,e,p,H,Z,X){var b=d._f(E,y,c),k=d._f(e,p,H),D=Math.min,j=d.l.amh,g=j(b,X,0);
g=D(g,j(E,X,8));g=D(g,j(y,X,16));g=D(g,j(c,X,24));var R=j(k,X,4);R=D(R,j(e,X,12));R=D(R,j(p,X,20));R=D(R,j(H,X,28));
R=Math.max(R,1-Z);var t=Math.min(g,R);return t<0?0:t>1?1:t};d.l.amh=function(E,y,N){return Math.min((E-y[N])*y[N+1],(E-y[N+3])*y[N+2])};
d.l.aqW=function(E,y,c,e,p,H,Z,X){var b=1/255,k=b*H,D=X.ap?1:0,j=X.fill,g=X.style,R=y.fr(e).fr(p),t=Math.max(0,R.x-y.x),w=Math.max(0,R.x-e.x),B=Math.max(0,R.y-y.y),$=Math.max(0,R.y-e.y),o=R.m,T=R.e,i=y.m,r=e.m,I=new Uint32Array(E.buffer),M=new Uint32Array(c.buffer);
for(var N=0;N<T;N++){var J=(B+N)*i+t,P=($+N)*r+w;for(var n=0;n<o;n++,J++,P++){var x=I[J],O=1;if(x>>>24==0)continue;
var L=M[P],u=(x&255)*b,C=(x>>>8&255)*b,h=(x>>>16&255)*b,A=(L&255)*b,W=(L>>>8&255)*b,Q=(L>>>16&255)*b,l=H;
if(D==0){l=(x>>>24)*k;O=(L>>>24)*b}if(X.Zy)l*=d.l.S3(u,C,h,A,W,Q,O,X.Zy);var z=O*(1-l),a=l+z,m=a==0?0:255/a,q=g?1:l,K=((1-O)*l*u+(1-q)*O*A+q*O*Z(u,A,(1+l-q)*j))*m,U=((1-O)*l*C+(1-q)*O*W+q*O*Z(C,W,(1+l-q)*j))*m,f=((1-O)*l*h+(1-q)*O*Q+q*O*Z(h,Q,(1+l-q)*j))*m;
a=l*j+O*(1-l*j);var Y=~~(a*255+.5);M[P]=D*(L>>>24)+(1-D)*Y<<24|f<<16|U<<8|K}}};d.l.aq4=function(E,y,c,e,p,H,Z,X){var b=1/255,k=b*H,D=X.ap?1:0,j=y.fr(e).fr(p),g=Math.max(0,j.x-y.x),R=Math.max(0,j.x-e.x),t=Math.max(0,j.y-y.y),w=Math.max(0,j.y-e.y),B=j.m,$=j.e,o=new Uint32Array(E.buffer),T=new Uint32Array(c.buffer),i={Z:0,D:0,J:0},r={Z:0,D:0,J:0},I={Z:0,D:0,J:0};
for(var N=0;N<$;N++){var M=(t+N)*y.m+g,J=(w+N)*e.m+R;for(var P=0;P<B;P++,M++,J++){var n=o[M],x=T[J],L=(n&255)*b,u=(n>>>8&255)*b,C=(n>>>16&255)*b,h=(x&255)*b,A=(x>>>8&255)*b,W=(x>>>16&255)*b,Q=H,l=1;
if(D==0){Q=(n>>>24)*k;l=(x>>>24)*b}if(X.Zy)Q*=d.l.S3(L,u,C,h,A,W,l,X.Zy);var O=l*(1-Q),z=Q+O,a=255/z;
i.Z=L;i.D=u;i.J=C;r.Z=h;r.D=A;r.J=W;Z(i,r,I);var m=(((1-l)*L+l*I.Z)*Q+h*O)*a,q=(((1-l)*u+l*I.D)*Q+A*O)*a,K=(((1-l)*C+l*I.J)*Q+W*O)*a,U=D*(x>>>24)+(1-D)*Math.round(z*255);
T[J]=U<<24|K<<16|q<<8|m}}};d.l.NB=function(E){E=E^61^E>>>16;E=E+(E<<3);E=E^E>>>4;E=E*668265261;E=E^E>>15;
return(E&16777215)*(1/16777215)};d.l.dp=function(E){E=E^61^E>>>16;E=E+(E<<3);E=E^E>>>4;E=E*668265261;
E=E^E>>>15;return E};d.l.J3=function(E){this.e9=E};d.l.J3.prototype.get=function(){var E=this.e9=d.l.dp(this.e9);
return(E&16777215)*(1/16777215)};d.l.a6i=function(E,y,c,e,p,H,Z,X){var b=1/255,k=b*H,D=Math.round(H*(256*256*256/255)),j=y.fr(e).fr(p),g=Math.max(0,j.x-y.x),R=Math.max(0,j.x-e.x),t=Math.max(0,j.y-y.y),w=Math.max(0,j.y-e.y),B=j.m,$=j.e,o=new Uint32Array(E.buffer),T=new Uint32Array(c.buffer);
for(var N=0;N<$;N++){var i=(t+N)*y.m+g,r=(w+N)*e.m+R;for(var I=0;I<B;I++,i++,r++){var M=o[i],J=T[r],P=X*255+(1-X)*(M>>>24);
if((d.l.dp(i)&16777215)>=P*D)continue;T[r]=M&16777215|X*(J>>>24)+(1-X)*255<<24}}};d.l.azb=function(E,y,c){for(var N=0;
N<E.length;N+=4){var e=c[N>>>2];if(e==0)continue;var p=e*(1/255),H=1/p,Z=y[N],X=y[N+1],b=y[N+2],k=E[N],D=E[N+1],j=E[N+2];
y[N]=Math.min(255,Math.max(0,Math.round((Z-(1-p)*k)*H)));y[N+1]=Math.min(255,Math.max(0,Math.round((X-(1-p)*D)*H)));
y[N+2]=Math.min(255,Math.max(0,Math.round((b-(1-p)*j)*H)));y[N+3]=255}};d.l.vj=function(E,y,c,e,p,H,Z,X,b,k,D){if(k==null)k=!1;
if(D==null)D=[1,1,1];var j=255<<24|D[2]*16711680|D[1]*65280|D[0]*255,g=~j;if(p&&!y.rT(H)){var R=d.R(y.P()*4);
R.fill(Z);d.kh(p,H,R,y);p=R;H=y}if(k){if(p==null)d.l.aew(E,y,c,e,p,X,b,j,g);else d.l.agi(E,y,c,e,p,X,b)}else{if(p==null)d.l.amU(E,y,c,e,p,X,b,j,g);
else d.l.apM(E,y,c,e,p,X,b)}};d.l.amU=function(E,y,c,e,p,H,Z,X,b){var k=1/255,D=y.fr(e).fr(H),j=Math.max(0,D.x-y.x),g=Math.max(0,D.x-e.x),R=Math.max(0,D.y-y.y),t=Math.max(0,D.y-e.y),w=D.m,B=D.e,$=new Uint32Array(E.buffer),o=new Uint32Array(c.buffer),T=d.l.hh,i=Z*255&255;
for(var N=0;N<B;N++){var r=(R+N)*y.m+j,I=(t+N)*e.m+g;for(var M=0;M<w;M++,r++,I++){var J=$[r],P=o[I],n=J>>>24,x=P>>>24,L=d.oK(i*n+(255-i)*x),u=d.oK(n*i),C=d.oK(x*(255-i)),h=J&255,A=J>>>8&255,W=J>>>16&255,Q=P&255,l=P>>>8&255,O=P>>>16&255,z=u*h+Q*C,a=u*A+l*C,m=u*W+O*C;
z=T[L<<8|d.oK(z)];a=T[L<<8|d.oK(a)];m=T[L<<8|d.oK(m)];var q=L<<24|m<<16|a<<8|z;o[I]=b&P|X&q}}};d.l.aew=function(E,y,c,e,p,H,Z,X,b){var k=1/255,D=y.fr(e).fr(H),j=Math.max(0,D.x-y.x),g=Math.max(0,D.x-e.x),R=Math.max(0,D.y-y.y),t=Math.max(0,D.y-e.y),w=D.m,B=D.e,$=new Uint32Array(E.buffer),o=new Uint32Array(c.buffer),T=d.l.hh,i=Z*16777215&16777215;
for(var N=0;N<B;N++){var r=(R+N)*y.m+j,I=(t+N)*e.m+g;for(var M=0;M<w;M++,r++,I++){if((d.l.dp(r)&16777215)<i){o[I]=b&o[I]|X&$[r]}}}};
d.l.apM=function(E,y,c,e,p,H,Z){var X=1/255,b=y.fr(e).fr(H),k=Math.max(0,b.x-y.x),D=Math.max(0,b.x-e.x),j=Math.max(0,b.y-y.y),g=Math.max(0,b.y-e.y),R=b.m,t=b.e,w=new Uint32Array(E.buffer),B=new Uint32Array(c.buffer),$=d.l.hh;
for(var N=0;N<t;N++){var o=(j+N)*y.m+k,T=(g+N)*e.m+D;for(var i=0;i<R;i++,o++,T++){var r=p[o]*Z&255;if(r==0)continue;
if(r==255){B[T]=w[o];continue}var I=w[o],M=B[T],J=I>>>24,P=M>>>24,n=d.oK(r*J+(255-r)*P),x=d.oK(J*r),L=d.oK(P*(255-r)),u=I&255,C=I>>>8&255,h=I>>>16&255,A=M&255,W=M>>>8&255,Q=M>>>16&255,l=$[n<<8|d.oK(x*u+A*L)],O=$[n<<8|d.oK(x*C+W*L)],z=$[n<<8|d.oK(x*h+Q*L)];
B[T]=n<<24|z<<16|O<<8|l}}};d.l.agi=function(E,y,c,e,p,H,Z){var X=1/255,b=y.fr(e).fr(H),k=Math.max(0,b.x-y.x),D=Math.max(0,b.x-e.x),j=Math.max(0,b.y-y.y),g=Math.max(0,b.y-e.y),R=b.m,t=b.e,w=new Uint32Array(E.buffer),B=new Uint32Array(c.buffer),$=d.l.hh,o=Math.round(Z*257);
for(var N=0;N<t;N++){var T=(j+N)*y.m+k,i=(g+N)*e.m+D;for(var r=0;r<R;r++,T++,i++){var I=p[T]*o;if((d.l.dp(T)&65535)<I)B[i]=w[T]}}};
d.l.az_=function(E,y,c,e,p,H,Z){var X=1/255,b=y.fr(e).fr(H),k=Math.max(0,b.x-y.x),D=Math.max(0,b.x-e.x),j=Math.max(0,b.y-y.y),g=Math.max(0,b.y-e.y),R=b.m,t=b.e,w=new Uint32Array(E.buffer),B=new Uint32Array(c.buffer),$=Math.floor(Math.random()*e.P()),o=d.l.a1F;
for(var N=0;N<t;N++){var T=(j+N)*y.m+k,i=(g+N)*e.m+D;for(var r=0;r<R;r++){var I=p[T+r]*Z;if(I==0)continue;
if(I==255){B[i+r]=w[T+r];continue}var M=w[T+r],J=B[i+r],P=M>>>24,n=J>>>24,x=P*I*(1/255),L=n*(255-I)*(1/255),u=M&255,C=M>>>8&255,h=M>>>16&255,A=J&255,W=J>>>8&255,Q=J>>>16&255,l=d.l.dp(i+r+$),O=Math.floor((x+L)*256+.5)+(l>>>0&255)>>>8,z=O==0?0:256/(x+L),a=u*x+A*L,m=C*x+W*L,q=h*x+Q*L,K=Math.floor(a*z+.5)+(l>>>8&255)>>>8,U=Math.floor(m*z+.5)+(l>>>16&255)>>>8,f=Math.floor(q*z+.5)+(l>>>24&255)>>>8;
B[i+r]=O<<24|f<<16|U<<8|K}}};d.l.a1F=function(E){return Math.floor(E+Math.random())};d.l.pN=function(E,y,c,e,p,H,Z){var X=1/255,b=y.fr(e).fr(H),k=Math.max(0,b.x-y.x),D=Math.max(0,b.x-e.x),j=Math.max(0,b.y-y.y),g=Math.max(0,b.y-e.y),R=b.m,t=b.e;
for(var N=0;N<t;N++){var w=(j+N)*y.m+k,B=(g+N)*e.m+D;for(var $=0;$<R;$++,w++,B++){var o=Z*p[w]*X;if(o==0)continue;
if(o==1){c[B]=E[w];continue}c[B]=E[w]*o+c[B]*(1-o)}}};d.atF=function(){function E(H){var Z=H*.85;return Math.exp(-(Z*Z)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function y(H,Z){var X=H<Z?1:E((H-Z)/Math.pow(1.001-Z,.86));
return X}var c=[];function e(H){if(c[H])return c[H];var Z=Math.pow(H,.55),X=new Float64Array(8e3),b=0,k=8e3;
for(var N=0;N<8e3;N++){var D=y(N*(1.55/4e3),Z);if(D>=1)b=N;else if(D<=0&&k==8e3)k=N;X[N]=D}var j=[X,b,k];
c[H]=j;return j}function p(H,Z,X){if(H<4)Z=1;var b=1+.55*(1-Z),k=Math.round(X*H*b)+2,D=new ir(0,0,k,k),j=d.R(k*k),g=[j,D],R=k/2,t=b/(R-1);
if(H==2)t*=2;if(H==3)t*=1.6;var w=Date.now(),B=e(Z),$=Math.round(8e3/R),o=B[0],T=B[1]-$,i=B[2]+$,r=Math.min(k,k+1>>>1),I=t*.4*(4e3/1.55),M=d.R(8e3);
for(var N=0;N<8e3;N++){var J=N,P=N,n=~~Math.max(0,J-I-I),x=~~Math.max(0,J-I),L=~~Math.min(7999,J+I),u=~~Math.min(7999,J+I+I),C=~~(.5+255*(1/5)*(o[P]+o[n]+o[x]+o[L]+o[u]));
M[N]=C;if(C==0)break}for(var N=0;N<r;N++){var h=t*(N-R+.5),A=h*h,W=N*k,Q=(k-1-N)*k;for(var l=0;l<r;l++){var O=t*(l-R+.5),P=~~(Math.sqrt(O*O+A)*(4e3/1.55));
if(i<P)continue;else if(P<T){var C=255;while(l<r){var z=k-1-l;j[W+l]=C;j[W+z]=C;j[Q+l]=C;j[Q+z]=C;l++}break}else{var C=M[P],z=k-1-l;
j[W+l]=C;j[W+z]=C;j[Q+l]=C;j[Q+z]=C}}}return g}return{ak5:p}}();d.H3={};d.H3.aAp=function(E,y,c,e,p,H){d.H3.cc(E,y,c,e,p,H,null,0)};
d.H3.aEb=function(E,y,c,e,p){d.H3.cc(E,y,c,e,p,null,null,0)};d.H3.aww=function(E,y,c,e,p,H,Z){d.H3.cc(E,y,c,e,p,null,H,Z*.5)};
d.H3.cc=function(E,y,c,e,p,H,Z,X){var b=0,L=0,u=1e9,C=0,h=1e9,A=0,W=1e9,Q=0,l=0,O=0,z=0;if(H){b=p*.5;
p=3+Math.round((p-3)*.75)}if(Z){p=Math.round(p*2.2)}var k=1/p,D=Math.floor(y*k)+1,j=Math.floor(c*k)+1,g=[],R=new Uint8Array(D*j*4),t=Z?.5:1,w=H?64:0;
for(var B=0;B<j;B++){var $=Z?.5*(B&1):0;for(var o=0;o<D;o++){var T=(o+Math.random()*t+$)*p,i=(B+Math.random()*t)*p;
g.push(T,i);var r=Math.min(y-1,Math.floor(T)),I=Math.min(c-1,Math.floor(i)),M=(I*y+r)*4,J=(B*D+o)*4;
for(var N=0;N<4;N++)R[J+N]=Math.max(0,Math.min(255,Math.floor(E[M+N]+(Math.random()-.5)*w)))}}var P=H?H:Z?Z:[0,0,0],n=D*j*2,x=[-D-1,-D,-D+1,-1,0,1,D-1,D,D+1];
for(var B=0;B<c;B++){O=0;for(var o=0;o<y;o++){var a=o+.5,m=B+.5,q=Math.floor(m*k),K=Math.floor(a*k),U=q*D+K,G=0,V=0;
if(O>1+X){u=d.H3.aAU(g,L,a,m);Q=Math.sqrt(u);O--;z++}else{u=h=W=1e9;for(var N=0;N<x.length;N++){var f=(U+x[N])*2;
if(f<0||f>=n)continue;var Y=d.H3.aAU(g,f,a,m);if(Y<W){if(Y<h){if(Y<u){A=C;W=h;C=L;h=u;L=f;u=Y}else{A=C;
W=h;C=f;h=Y}}else{A=f;W=Y}}}Q=Math.sqrt(u);l=Math.sqrt(h);O=l-(Q+l)*.5}if(Z==null){var dF=(Q+l)*.5,s=H?Math.max(0,dF-b):0;
G=Math.max(0,Math.min(1,.5+dF-Q-s));V=Math.max(0,Math.min(1,1-(.5+dF-Q)-s))}else{var aH=Math.min(d.H3.ax3(g,L,C,a,m),d.H3.ax3(g,L,A,a,m));
G=Math.max(0,Math.min(1,aH-X*.5));if(a<X||y-X<a||m<X||c-X<m)G=0;V=0}var dw=1-V-G,J=B*y+o<<2,kO=L<<1,hX=C<<1;
e[J+0]=Math.floor(.5+G*R[kO+0]+V*R[hX+0]+dw*P[0]);e[J+1]=Math.floor(.5+G*R[kO+1]+V*R[hX+1]+dw*P[1]);
e[J+2]=Math.floor(.5+G*R[kO+2]+V*R[hX+2]+dw*P[2]);e[J+3]=E[J+3]}}};d.H3.aAU=function(E,y,c,e){var p=c-E[y],H=e-E[y+1];
return p*p+H*H};d.H3.ax3=function(E,y,c,e,p){var H=E[y],Z=E[y+1],X=E[c],b=E[c+1],k=(H+X)*.5,D=(Z+b)*.5,j=k+(b-Z),g=D-(X-H),R=g-D,t=j-k;
return Math.abs(R*e-t*p+j*D-g*k)/Math.sqrt(t*t+R*R)};d.gC={};d.gC.uo=function(E){if(d.gC.zI.length<E)d.gC.zI=d.R(E);
return d.gC.zI};d.gC.zI=d.R(0);d.gC.azz=function(E){if(d.gC.sn.length<E)d.gC.sn=new Float32Array(E);
return d.gC.sn};d.gC.sn=new Float32Array(0);d.gC.VI=function(E,y,c,e){var p=c.m,H=c.e;d.gC.aBt(E,y,p,H,e)};
d.gC.cN=function(E,y,c,e){var p=c.m,H=c.e;d.gC.adh(E,y,p,H,e)};d.gC.aif=function(E,y,c){var e=y.m,p=y.e;
d.gC.af2(E,e,p,c)};d.gC.RC=function(E,y,c,e){var p=y.m,H=y.e;d.gC.aCd(E,p,H,c,e)};d.gC.a48=function(E,y,c,e){var p=c.m,H=c.e;
e=Math.round(e);var Z=d.gC.uo(p*H);d.Jt(E,y);d.gC.Bq(y,Z,p,H,e)};d.gC.t0=function(E,y,c){var e=y.m,p=y.e;
c=Math.round(c);var H=d.gC.uo(e*p*4);d.gC.Yp(E,H,e,p,c)};d.gC.alY=function(E,y,c){var e=y.m,p=y.e;c=Math.round(c);
d.gC.avv(E,d.gC.azz(e*p),e,p,c)};d.gC.aeo=function(E,y,c){var e=y.m,p=y.e;c=Math.round(c);var H=d.gC.uo(e*p*4);
d.gC.arL(E,H,e,p,c);d.Jt(H,E)};d.gC.hA=function(E,j1){var y=Math.sqrt(12*E*E/j1+1),c=Math.floor(y);if(c%2==0)c--;
var e=c+2,p=(12*E*E-j1*c*c-4*j1*c-3*j1)/(-4*c-4),H=Math.round(p),Z=[];for(var N=0;N<j1;N++)Z.push(N<H?c:e);
return Z};d.gC.aBt=function(E,y,c,e,p){var H=d.gC.hA(p,3),Z=d.gC.uo(c*e);d.Jt(E,y);d.gC.Bq(y,Z,c,e,H[0]-1>>1);
d.gC.Bq(y,Z,c,e,H[1]-1>>1);d.gC.Bq(y,Z,c,e,H[2]-1>>1)};d.gC.adh=function(E,y,c,e,p){var H=d.gC.hA(p,2),Z=d.gC.uo(c*e);
d.Jt(E,y);d.gC.Bq(y,Z,c,e,H[0]-1>>1);d.gC.Bq(y,Z,c,e,H[1]-1>>1)};d.gC.af2=function(E,y,c,e){var p=d.gC.hA(e,3),H=d.gC.uo(y*c*4);
d.gC.Yp(E,H,y,c,p[0]-1>>1);d.gC.Yp(E,H,y,c,p[1]-1>>1);d.gC.Yp(E,H,y,c,p[2]-1>>1)};d.gC.aCd=function(E,y,c,e,p){if(p==null)p=3;
var H=d.gC.hA(e,p),Z=d.gC.azz(y*c);for(var N=0;N<p;N++)d.gC.avv(E,Z,y,c,(H[N]-1)/2)};d.gC.Bq=function(E,y,c,e,p){d.gC.aCr(E,y,c,e,p);
d.gC.azp(y,E,c,e,p)};d.gC.Yp=function(E,y,c,e,p){d.gC.arL(E,y,c,e,p);d.gC.axR(y,E,c,e,p)};d.gC.avv=function(E,y,c,e,p){d.gC.au3(E,y,c,e,p);
d.gC.awH(y,E,c,e,p)};d.gC.LO=[];d.gC.OH=function(E){if(d.gC.LO[E])return d.gC.LO[E];var y=1/(E+E+1),c=(E+E+1)*256,e=d.R(c);
for(var N=0;N<c;N++)e[N]=Math.round(N*y);d.gC.LO[E]=e;return e};d.gC.aCr=function(E,y,c,e,p){var H=1/(p+p+1),Z=c-p-p-1,X=d.gC.OH(p);
for(var N=0;N<e;N++){var b=N*c,k=b,D=b+p,j=E[b],g=E[b+c-1],R=(p+1)*j;for(var t=0;t<p;t++)R+=E[b+t];for(var t=0;
t<=p;t++){R+=E[D+t]-j;y[b+t]=X[R]}D+=p+1;b+=p+1;for(var t=0;t<Z;t++){R+=E[D+t]-E[k+t];y[b+t]=X[R]}D+=Z;
k+=Z;b+=Z;for(var t=c-p;t<c;t++){R+=g-E[k++];y[b++]=X[R]}}};d.gC.arL=function(E,y,c,e,p){var H=c<<2,Z=p<<2,X=1/(p+p+1),b=c-p-p-1,k=b<<2,D=d.gC.OH(p);
for(var N=0;N<e;N++){var j=N*H,g=j,R=j+Z,t=j+H,w=E[j],B=E[j+1],$=E[j+2],o=E[j+3],T=(p+1)*w,i=(p+1)*B,r=(p+1)*$,I=(p+1)*o;
for(var M=0;M<Z;M+=4){T+=E[j+M];i+=E[j+M+1];r+=E[j+M+2];I+=E[j+M+3]}for(var M=0;M<=Z;M+=4){T+=E[R]-w;
y[j]=D[T];i+=E[R+1]-B;y[j+1]=D[i];r+=E[R+2]-$;y[j+2]=D[r];I+=E[R+3]-o;y[j+3]=D[I];R+=4;j+=4}for(var M=0;
M<k;M+=4){T+=E[R+M]-E[g+M];y[j+M]=D[T];i+=E[R+M+1]-E[g+M+1];y[j+M+1]=D[i];r+=E[R+M+2]-E[g+M+2];y[j+M+2]=D[r];
I+=E[R+M+3]-E[g+M+3];y[j+M+3]=D[I]}R+=k;g+=k;j+=k;w=E[t-4];B=E[t-3];$=E[t-2];o=E[t-1];for(var M=c-p;
M<c;M++){T+=w-E[g];y[j]=D[T];i+=B-E[g+1];y[j+1]=D[i];r+=$-E[g+2];y[j+2]=D[r];I+=o-E[g+3];y[j+3]=D[I];
g+=4;j+=4}}};d.gC.au3=function(E,y,c,e,p){var H=1/(p+p+1),Z=c-p-p-1;for(var N=0;N<e;N++){var X=N*c,b=X,k=X+p,D=E[X],j=E[X+c-1],g=(p+1)*D;
for(var R=0;R<p;R++)g+=E[X+R];for(var R=0;R<=p;R++){g+=E[k+R]-D;y[X+R]=g*H}k+=p+1;X+=p+1;for(var R=0;
R<Z;R++){g+=E[k+R]-E[b+R];y[X+R]=g*H}k+=Z;b+=Z;X+=Z;for(var R=c-p;R<c;R++){g+=j-E[b++];y[X++]=g*H}}};
d.gC.azp=function(E,y,c,e,p){var H=1/(p+p+1),Z=e-p-p-1,X=d.gC.OH(p);for(var N=0;N<c;N++){var b=N,k=b,D=b+p*c,j=E[b],g=E[b+c*(e-1)],R=(p+1)*j;
for(var t=0;t<p;t++)R+=E[b+t*c];for(var t=0;t<=p;t++){R+=E[D]-j;y[b]=X[R];D+=c;b+=c}for(var t=0;t<Z;
t++){var w=t*c;R+=E[D+w]-E[k+w];y[b+w]=X[R]}k+=Z*c;D+=Z*c;b+=Z*c;for(var t=e-p;t<e;t++){R+=g-E[k];y[b]=X[R];
k+=c;b+=c}}};d.gC.axR=function(E,y,c,e,p){var H=c<<2,Z=p<<2,X=1/(p+p+1),b=e-p-p-1,k=b<<2,D=d.gC.OH(p);
for(var N=0;N<c;N++){var j=N<<2,g=j,R=j+p*H,t=j+H*(e-1),w=E[j],B=E[j+1],$=E[j+2],o=E[j+3],T=(p+1)*w,i=(p+1)*B,r=(p+1)*$,I=(p+1)*o;
for(var M=0;M<p;M++){var J=j+M*H;T+=E[J];i+=E[J+1];r+=E[J+2];I+=E[J+3]}for(var M=0;M<=p;M++){T+=E[R]-w;
y[j]=D[T];i+=E[R+1]-B;y[j+1]=D[i];r+=E[R+2]-$;y[j+2]=D[r];I+=E[R+3]-o;y[j+3]=D[I];R+=H;j+=H}for(var M=0;
M<b;M++){var P=M*H;T+=E[R+P]-E[g+P];y[j+P]=D[T];i+=E[R+P+1]-E[g+P+1];y[j+P+1]=D[i];r+=E[R+P+2]-E[g+P+2];
y[j+P+2]=D[r];I+=E[R+P+3]-E[g+P+3];y[j+P+3]=D[I]}g+=b*H;R+=b*H;j+=b*H;w=E[t];B=E[t+1];$=E[t+2];o=E[t+3];
for(var M=e-p;M<e;M++){T+=w-E[g];y[j]=D[T];i+=B-E[g+1];y[j+1]=D[i];r+=$-E[g+2];y[j+2]=D[r];I+=o-E[g+3];
y[j+3]=D[I];g+=H;j+=H}}};d.gC.awH=function(E,y,c,e,p){var H=1/(p+p+1),Z=e-p-p-1;for(var N=0;N<c;N++){var X=N,b=X,k=X+p*c,D=E[X],j=E[X+c*(e-1)],g=(p+1)*D;
for(var R=0;R<p;R++)g+=E[X+R*c];for(var R=0;R<=p;R++){g+=E[k]-D;y[X]=g*H;k+=c;X+=c}for(var R=0;R<Z;R++){var t=R*c;
g+=E[k+t]-E[b+t];y[X+t]=g*H}b+=Z*c;k+=Z*c;X+=Z*c;for(var R=e-p;R<e;R++){g+=j-E[b];y[X]=g*H;b+=c;X+=c}}};
d.My={};d.My.R=function(E,y,c,e){var p=[];for(var H=0;H<4;H++)for(var Z=0;Z<4;Z++)p.push(E+c*Z/3,y+e*H/3);
return p};d.My.ahp=function(E,y){var c=E.slice(0);for(var N=0;N<4;N++)for(var e=0;e<4;e++){var p=2*(N*4+e),H=2*(e*4+(3-N));
if(y){var Z=p;p=H;H=Z}c[H]=E[p];c[H+1]=E[p+1]}return c};d.My.tw=d.R(0);d.My.drawImage=function(E,y,c,e,p,H,Z){var X=!1,b=Date.now(),k=2,D=c+2*k,j=e+2*k,g=new ir(k,k,c,e),R=g.clone();
R.r4(k,k);var t=d.My.tw;if(t.length!=R.P()*4)t=d.My.tw=d.R(R.P()*4);else t.fill(0);d.E6(y,g,t,R);if(X)console.log(Date.now()-b,"copy rect");
b=Date.now();d.xU(t);if(X)console.log(Date.now()-b,"multiply alpha");b=Date.now();var w=Math.max(c,e),B=Math.round(50*c/w),$=Math.round(Math.sqrt(3)*.5*50*e/w),o=B-.5,T=[],i=[],r=[];
for(var I=0;I<$+1;I++){var M=(I&1)==0;for(var J=0;J<B+1;J++){var P=(J-(M?.5:0))/o,n=I/$;if(J==0)P=0;
if(J==B)P=1;T.push(D*P,j*n);if(J<B&&I<$){var x=I*(B+1)+J,L=x+1,u=x+B+1,C=u+1;if(M)i.push(x,L,u,u,L,C);
else i.push(x,L,C,x,C,u)}var h=d.My.aoh(E,P,n);r.push(-h)}}var A=T.slice(0);d.My.u(E,A,g);d.A.u(A,new jr(1,0,0,1,-H.x,-H.y),A);
if(X)console.log(Date.now()-b,"mesh built");b=Date.now();var W=H.m,Q=H.e;d.bs.bD(t,D,j,p,W,Q,T,A,r,i,Z);
if(X)console.log(Date.now()-b,"rendered");b=Date.now();d.sR(p);if(X)console.log(Date.now()-b,"divided");
b=Date.now()};d.My.fL=new Array(10);d.My.Dr=function(E,y){var c=200,e=0,p=0,H=1e9,Z=d.My.fL;for(var X=0;
X<c+1;X++)for(var b=0;b<c+1;b++){var k=b/c,D=X/c;d.My.a7r(E,k,D,Z);var j=Z[8]-y.x,g=Z[9]-y.y,R=j*j+g*g;
if(R<H){H=R;e=k;p=D}}return[e,p]};d.My.u=function(E,y,c){var e=c.x,p=c.y,H=1/c.m,Z=1/c.e,X=d.My.fL;for(var b=0;
b<y.length;b+=2){var k=(y[b]-e)*H,D=(y[b+1]-p)*Z;d.My.a7r(E,k,D,X);y[b]=X[8];y[b+1]=X[9]}};d.My.aoh=function(E,y,c){var e,p,H,Z,X=d.My.fL;
d.My.aoH(E,y,c,X);e=X[8];p=X[9];d.My.ahx(E,y,c,X);H=X[8];Z=X[9];return e*Z-p*H};d.My.cm=function(E,y,c){var e=0,p=0,H=E[2][0],Z=E[2][1];
while(e+2<H.length&&H[e+1]<y)e++;y=(y-H[e])/(H[e+1]-H[e]);while(p+2<Z.length&&Z[p+1]<c)p++;c=(c-Z[p])/(Z[p+1]-Z[p]);
return[e*3,p*3,y,c]};d.My.a7r=function(E,y,c,e){var p=d.My.cm(E,y,c);d.My.kr(e,0,p[3]);d.My.kr(e,4,p[2]);
d.My.UR(E[3],p[0],p[1],E[0],e)};d.My.aoH=function(E,y,c,e){var p=d.My.cm(E,y,c);d.My.kr(e,0,p[3]);d.My.ays(e,4,p[2]);
d.My.UR(E[3],p[0],p[1],E[0],e)};d.My.ahx=function(E,y,c,e){var p=d.My.cm(E,y,c);d.My.ays(e,0,p[3]);d.My.kr(e,4,p[2]);
d.My.UR(E[3],p[0],p[1],E[0],e)};d.My.ays=function(E,N,y){var c=1-y;E[N]=-3*(c*c);E[N+1]=3*(c*c)-6*(y*c);
E[N+2]=6*(y*c)-3*(y*y);E[N+3]=3*(y*y)};d.My.kr=function(E,N,y){var c=1-y;E[N]=c*(c*c);E[N+1]=3*y*(c*c);
E[N+2]=3*(y*y)*c;E[N+3]=y*y*y};d.My.a1L=function(E,y,c,e,p){var H=d.My.cm(E,y,c),Z=H[0],X=H[1],b=H[2],k=H[3],D=E[0],j=Math.floor(b*3),g=Math.floor(k*3),R=d.My.fL,t=16,M=0;
d.My.kr(R,0,k);d.My.kr(R,4,b);var w=[],B=[],$=[];for(var o=0;o<4;o++){for(var T=0;T<4;T++){var N=o*4+T,i=R[o]*R[4+T];
w.push(i);B.push((X+o)*D+Z+T);if((o==g||o==g+1)&&(T==j||T==j+1)){var r=b*3-j;if(T==j)r=1-r;var I=k*3-g;
if(o==g)I=1-I;$[N]=r*I/i}else $[N]=0}}for(var N=0;N<t;N++)M+=w[N]*$[N];for(var N=0;N<t;N++)$[N]/=M;for(var N=0;
N<t;N++){var i=w[N],J=B[N];E[3][J*2]+=$[N]*e;E[3][J*2+1]+=$[N]*p}};d.My.El=function(E){var y=E[0],c=E[1],e=E[2],p=E[3],H=p.slice(0);
for(var Z=0;Z<c;Z++)for(var X=0;X<y;X++){p[(X*c+Z)*2]=H[(Z*y+X)*2];p[(X*c+Z)*2+1]=H[(Z*y+X)*2+1]}E[0]=c;
E[1]=y;E[2]=[e[1],e[0]]};d.My.split=function(E,y,c){if(y==1)d.My.El(E);var e=E[0],p=E[1],H=E[2][0],Z=E[3],X=0;
while(H[X+1]&&H[X+1]<c)X++;var b=(c-H[X])/(H[X+1]-H[X]),k=1-b;for(var D=0;D<p;D++){var N=(D*(e+3)+X*3)*2,j=k*Z[N]+b*Z[N+2],g=k*Z[N+1]+b*Z[N+3],R=k*Z[N+2]+b*Z[N+4],t=k*Z[N+3]+b*Z[N+5],w=k*Z[N+4]+b*Z[N+6],B=k*Z[N+5]+b*Z[N+7],$=k*j+b*R,o=k*g+b*t,T=k*R+b*w,i=k*t+b*B,r=k*$+b*T,I=k*o+b*i;
Z.splice(N+2,4,j,g,$,o,r,I,T,i,w,B)}H.push(c);H.sort();E[0]+=3;if(y==1)d.My.El(E)};d.My.UR=function(E,y,c,e,p){var H=0,Z=0,X=0,b=p[0],k=p[1],D=p[2],j=p[3],g=p[4],R=p[5],t=p[6],w=p[7],N=(c*e+y)*2;
X=b*g;H+=E[N+0]*X;Z+=E[N+1]*X;X=b*R;H+=E[N+2]*X;Z+=E[N+3]*X;X=b*t;H+=E[N+4]*X;Z+=E[N+5]*X;X=b*w;H+=E[N+6]*X;
Z+=E[N+7]*X;N+=e+e;X=k*g;H+=E[N+0]*X;Z+=E[N+1]*X;X=k*R;H+=E[N+2]*X;Z+=E[N+3]*X;X=k*t;H+=E[N+4]*X;Z+=E[N+5]*X;
X=k*w;H+=E[N+6]*X;Z+=E[N+7]*X;N+=e+e;X=D*g;H+=E[N+0]*X;Z+=E[N+1]*X;X=D*R;H+=E[N+2]*X;Z+=E[N+3]*X;X=D*t;
H+=E[N+4]*X;Z+=E[N+5]*X;X=D*w;H+=E[N+6]*X;Z+=E[N+7]*X;N+=e+e;X=j*g;H+=E[N+0]*X;Z+=E[N+1]*X;X=j*R;H+=E[N+2]*X;
Z+=E[N+3]*X;X=j*t;H+=E[N+4]*X;Z+=E[N+5]*X;X=j*w;H+=E[N+6]*X;Z+=E[N+7]*X;N+=e+e;p[8]=H;p[9]=Z};d.VO={};
d.VO.a4d=function(E,y,c){var e=Date.now(),p=new ArrayBuffer(y*c*16),H=d.VO.a9J(E,y,c,p),Z=d.VO.afr(y,c,p);
return{Wf:Z,qC:H}};d.VO.aA2=function(E,y,c){var e=Math.round(E.length/8),p=new Uint32Array(e),H=new Uint8Array(e),Z=new Uint32Array(e);
d.KT(p,4294967295,0);p[c]=0;var X=new hw(e);X.push(c,p[c]);var b={Wf:E,qC:y,vO:p,gE:H,bp:Z,s3:X,aCT:c};
return b};d.VO.SA=function(E,y){var c=E.Wf,e=E.qC,p=E.vO,H=E.gE,Z=E.bp,X=E.s3;while(!X.tj()&&(y==null||H[y]==0)){var b=X.pop();
H[b]=1;for(var N=0;N<8;N++){var k=c[8*b+N],D=b+k;if(k==0||H[D])continue;var j=p[b]+e[8*b+N];if(X.contains(D)&&j<p[D])X.remove(D,p[D]);
if(!X.contains(D)){p[D]=j;Z[D]=b;X.push(D,p[D])}}}};function hw(E){this.ox=new Uint32Array(E);this.list=[];
this.kI=0;this.K3=4294967295}hw.prototype.tj=function(){return this.kI==0};hw.prototype.push=function(E,y){var c=this.list;
if(c[y]==null)c[y]=[];c[y].push(E);this.kI++;this.ox[E]=c[y].length-1+1;this.K3=Math.min(this.K3,y)};
hw.prototype.pop=function(){this.kI--;var E=this.list,y=this.K3,c=E[y].pop();if(E[y].length==0)E[y]=null;
this.a1J();this.ox[c]=0;return c};hw.prototype.contains=function(E){return this.ox[E]!=0};hw.prototype.remove=function(E,y){this.kI--;
var c=this.list,N=this.ox[E]-1;if(N==c[y].length-1)c[y].pop();else{var e=c[y].pop();c[y][N]=e;this.ox[e]=N+1}if(c[y].length==0)c[y]=null;
this.ox[E]=0;this.a1J()};hw.prototype.a1J=function(){if(this.kI==0){this.K3=4294967295;return}var E=this.K3,y=this.list;
while(y[E]==null)E++;this.K3=E};d.VO.adr=function(E,y,c,e){var p=new Int16Array(e);for(var H=0;H<c;H++)for(var Z=0;
Z<y;Z++){var N=H*y+Z,X=0;if(1<Z&&Z<y-2&&1<H&&H<c-2){X+=E[N-y-y];X+=E[N-y-1]+2*E[N-y]+E[N-y+1];X+=E[N-2]+2*E[N-1]-16*E[N]+2*E[N+1]+E[N+2];
X+=E[N+y-1]+2*E[N+y]+E[N+y+1];X+=E[N+y+y]}else X=-16*E[N];p[N]=X}return p};d.VO.a3S=function(E,y,c,e){if(e==null)e=128;
var p=new Uint8Array(y*c);for(var H=1;H<c-1;H++)for(var Z=1;Z<y-1;Z++){var N=H*y+Z;p[N]=d.VO.ato(E[N],E[N-1],E[N+1],E[N-y],E[N+y],e)}return p};
d.VO.ato=function(E,y,c,e,p,H){var Z=Math.abs(E);return E*y<0&&Z<Math.abs(y)&&Math.abs(y-E)>H||E*c<0&&Z<Math.abs(c)&&Math.abs(c-E)>H||E*e<0&&Z<Math.abs(e)&&Math.abs(e-E)>H||E*p<0&&Z<Math.abs(p)&&Math.abs(p-E)>H?1:0};
d.VO.aky=function(E,y,c,e){var p=new Float32Array(e),H=0;new Uint32Array(e).fill(0);for(var Z=0;Z<c;
Z++)for(var X=0;X<y;X++){var b=0,k=0,N=Z*y+X,D=N*3;if(0<X&&X<y-1)b=E[N+1]-E[N-1];if(0<Z&&Z<c-1)k=E[N+y]-E[N-y];
var j=p[D+2]=Math.sqrt(b*b+k*k);if(j!=0){var g=1/j;p[D]=b*g;p[D+1]=k*g}if(j>H)H=j}var R=y*c,t=H==0?0:1/H;
for(var N=0;N<R;N++)p[N*3+2]=1-p[N*3+2]*t;return p};d.VO.a8W=function(E,y,c){return c[~~((.5+.5*E)*255)]+c[~~((.5+.5*y)*255)]};
d.VO.a9J=function(E,y,c,e){var p=Date.now(),H=d.VO.adr(E,y,c,e),Z=d.VO.a3S(H,y,c),X=d.VO.aky(E,y,c,e),b=new Float32Array(256);
for(var N=0;N<256;N++)b[N]=Math.acos(-1+2*N/255)*(.95/Math.PI);var k=[-1,0,1,1,1,0,-1,-1],D=[-1,-1,-1,0,1,1,1,0];
for(var N=0;N<8;N++){var j=1/Math.sqrt(k[N]*k[N]+D[N]*D[N]);k[N]*=j;D[N]*=j}var g=[k[0],D[0],k[1],D[1],k[2],D[2],k[3],D[3]],R=[-y-1,-y,-y+1,1],t=new Uint8Array(y*c*8);
new Uint32Array(t.buffer).fill(4294967295);var w=y*c;for(var B=1;B<c-1;B++)for(var $=1;$<y-1;$++){var o=B*y+$,T=1-Z[o],i=X[o*3+2],r=X[3*o+1],I=-X[3*o];
for(var M=0;M<4;M++){var J=o+R[M];d.VO.au7(o,J,M,t,Z,X,T,i,r,I,g,b)}}return t};d.VO.au7=function(E,y,c,e,p,H,Z,X,b,k,D,j){var g=1-p[y],R=(c&1)==0?1:Math.SQRT1_2,t=H[y*3+2]*R,w=H[3*y+1],B=-H[3*y],$=X*R,o=D[c+c],T=D[c+c+1],i=b*o+k*T,r=w*o+B*T;
if(i+r<0){i=-i;r=-r}var I=d.VO.a8W(i,r,j);e[(E<<3)+c]=d.VO.alz(g,I,t);e[(y<<3)+c+4]=d.VO.alz(Z,I,$)};
d.VO.alz=function(E,y,c){return 1+~~(.5+20*(.43*E+.43*y+.14*c))};d.VO.afr=function(E,y,c){var e=new Int16Array(c),p=e,N=0,H=0;
new Uint32Array(c).fill(0);for(var Z=0;Z<y;Z++)for(var X=0;X<E;X++){if(Z>0&&X>0)p[H+0]=-E-1;if(Z>0)p[H+1]=-E;
if(Z>0&&X<E-1)p[H+2]=-E+1;if(X<E-1)p[H+3]=1;if(Z<y-1&&X<E-1)p[H+4]=E+1;if(Z<y-1)p[H+5]=E;if(Z<y-1&&X>0)p[H+6]=E-1;
if(X>0)p[H+7]=-1;N++;H+=8}return e};d.bg={};d.bg.MB=function(E){var y=E.slice(0),c=0;for(var N=0;N<E.length;
N++)c+=E[N];for(var N=0;N<E.length;N++)y[N]/=c;return y};d.bg.JZ=[d.bg.MB([1,2,1,2,16,2,1,2,1]),d.bg.MB([1,2,1,2,4,2,1,2,1]),d.bg.MB([0,-1,0,-1,8,-1,0,-1,0]),d.bg.MB([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
d.bg.Nf=function(E,y,c,e,p,H,Z,X){if(Z==null)Z=!1;if(X==null)X=!1;var b=Math.floor(Math.sqrt(p.length)),k=b-1>>>1,D=new Uint32Array(E.buffer),y=new Uint8ClampedArray(y.buffer);
for(var N=0;N<e;N++)for(var j=0;j<c;j++){var g=0,R=0,t=0,w=0;for(var B=0;B<b;B++)for(var $=0;$<b;$++){var o=p[B*b+$];
if(o==0)continue;var T=j-k+$,i=N-k+B;if(T<0)T=0;else if(T>c-1)T=c-1;if(i<0)i=0;else if(i>e-1)i=e-1;if(X&&D[i*c+T]>>>24==0){i=N;
T=j}var r=D[i*c+T];g+=(r&255)*o;R+=(r>>>8&255)*o;t+=(r>>>16&255)*o;w+=(r>>>24&255)*o}if(Z){if(g<0)g=-g;
if(R<0)R=-R;if(t<0)t=-t;if(w<0)w=-w}if(X){g=Math.max(0,Math.min(255,g));R=Math.max(0,Math.min(255,R));
t=Math.max(0,Math.min(255,t));w=Math.max(0,Math.min(255,w))}var I=N*c+j<<2;y[I]=~~(.5+g);y[I+1]=~~(.5+R);
y[I+2]=~~(.5+t);y[I+3]=255-H&y[I+3]|H&~~(.5+w)}};d.bg.aDi=function(E,y,c,e){var p=E.length,H=new Uint8Array(p);
d.bg.Nf(E,y,c,e,d.bg.JZ[4],0,!0);d.bg.Nf(E,H,c,e,d.bg.JZ[5],0,!0);for(var N=0;N<p;N+=4){var Z=y[N],X=y[N+1],b=y[N+2],k=y[N+3],D=H[N],j=H[N+1],g=H[N+2],R=H[N+3];
y[N]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+D*D)));y[N+1]=255-Math.max(0,Math.min(255,Math.sqrt(X*X+j*j)));
y[N+2]=255-Math.max(0,Math.min(255,Math.sqrt(b*b+g*g)))}};d.bg.a1a=function(E,y,c,e){var p=E.length,H=new Uint8Array(p);
d.bg.RP(E,y,c,e,d.bg.JZ[4],!0);d.bg.RP(E,H,c,e,d.bg.JZ[5],!0);for(var N=0;N<p;N++){var Z=y[N],X=H[N];
y[N]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+X*X)))}};d.bg.RP=function(E,y,c,e,p,H){y=new Uint8ClampedArray(y.buffer);
var Z=[-c-1,-c,-c+1,-1,0,1,c-1,c,c+1],X=e-1,b=c-1;for(var N=1;N<X;N++)for(var k=1;k<b;k++){var D=N*c+k,j=d.bg.Zx(E,D,c,p);
if(H){if(j<0)j=-j}y[D]=~~(j+.5)}};d.bg.Zx=function(E,y,c,e){return E[y-c-1]*e[0]+E[y-c]*e[1]+E[y-c+1]*e[2]+E[y-1]*e[3]+E[y]*e[4]+E[y+1]*e[5]+E[y+c-1]*e[6]+E[y+c]*e[7]+E[y+c+1]*e[8]};
d.bg.ag5=function(E,y,c,e,p){var H=[-c-1,-c,-c+1,-1,0,1,c-1,c,c+1],Z=e-1,X=c-1;for(var N=1;N<Z;N++)for(var b=1;
b<X;b++){var k=N*c+b;y[k]=d.bg.ah2(E,k,c,p)}};d.bg.ah2=function(E,y,c,e){return E[y-c-1]*e[0]+E[y-c]*e[1]+E[y-c+1]*e[2]+E[y-1]*e[3]+E[y]*e[4]+E[y+1]*e[5]+E[y+c-1]*e[6]+E[y+c]*e[7]+E[y+c+1]*e[8]};
d.lX={};d.lX.oO=function(){function E(Z,X,b,k,D,j){if(D==0){X.set(Z);return}var g=d.R(b*k),R=d.R(b*k);
if(d.Oi(Z)){y(Z,X,b,k,D,j);d.LI(Z,g,3);d.lX.a1U(g,R,b,k,D,j);d.Og(R,X,3)}else{for(var N=0;N<3;N++){d.LI(Z,g,N);
d.lX.a1U(g,R,b,k,D,j);d.Og(R,X,N)}}}function y(Z,X,b,k,D,j){var g=0,R=new ArrayBuffer(512*4*3),t=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)],w=1+2*Math.round(Math.sqrt(D)),B=w>>>1,$=new Array(w),o=new Array(w);
for(var N=0;N<w;N++){var R=new ArrayBuffer(512*4*3);$[N]=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)];
o[N]=$[N][0]}var T=[d.lX.GT,d.lX.bC][j],i=T[0],r=T[1],I=t[0];for(var M=0;M<b;M++)if(M<D||M>b-D-w-1){I.fill(0);
var J=Math.max(M-D,0),P=Math.min(b,M+D+1),n=P-J;for(var x=0;x<D;x++)e(I,Z,x*b+J,x*b+P,1);for(var x=0;
x<k;x++){var L=x-D-1,u=x+D;if(u<k)e(I,Z,u*b+J,u*b+P,1);if(L>=0)e(I,Z,L*b+J,L*b+P,-1);var C=x*b+M<<2;
g=I[300];if(g!=0)for(var N=0;N<3;N++)X[C+N]=i(t[N],Z[C+N],g)}}else{for(var N=0;N<w;N++)o[N].fill(0);
var J=M-D+B,P=M+D+1+B;for(var x=0;x<D;x++)c(o,Z,x*b+J,x*b+P,1,B);for(var x=0;x<k;x++){var L=x-D-1,u=x+D;
if(L>=0)c(o,Z,L*b+J,L*b+P,-1,B);if(u<k)c(o,Z,u*b+J,u*b+P,1,B);var h=$[B];g=h[0][300];for(var N=0;N<B;
N++){var A=B-1-N,W=B+1+N,Q=$[A],l=$[W],O=g+Q[0][300],z=g+l[0][300],a=x*b+M+A<<2,m=x*b+M+W<<2;if(O!=0)for(var q=0;
q<3;q++)X[a+q]=r(h[q],Q[q],Z[a+q],O);if(z!=0)for(var q=0;q<3;q++)X[m+q]=r(h[q],l[q],Z[m+q],z)}var C=x*b+M+B<<2;
if(g!=0)for(var q=0;q<3;q++)X[C+q]=i(h[q],Z[C+q],g)}M+=w-1}}function c(Z,X,b,k,D,j){var g=p,R=b<<2,t=k<<2;
g(Z[j-1],X,b-1<<2,D);g(Z[j-1],X,k-1<<2,-D);g(Z[j+1],X,k<<2,D);g(Z[j+1],X,b<<2,-D);for(var N=1;N<j;N++){var w=Z[j-N-1],B=Z[j+N+1];
for(var $=0;$<=N;$++){var o=$<<2;g(w,X,b-1-$<<2,D);g(w,X,k-1-$<<2,-D);g(B,X,k+$<<2,D);g(B,X,b+$<<2,-D)}}e(Z[j],X,b,k,D)}function e(Z,X,N,b,k){var D=N<<2,j=b<<2;
while(D<j){p(Z,X,D,k);D+=4}}function p(Z,X,b,k){var D=k*X[b+3];Z[300]+=D;H(Z,X[b],0,D);H(Z,X[b+1],512,D);
H(Z,X[b+2],1024,D)}function H(Z,X,b,k){Z[b|X]+=k;Z[b|256|X>>>4]+=k}return E}();d.lX.a1U=function(){function E(j,g,R,t,w,B){if(w==0){g.set(j);
return}if(w<=200)y(j,g,R,t,w,B);else H(j,g,R,t,w,B)}function y(j,g,R,t,w,B){var $=0,o=new Int32Array(512),T=1+2*Math.round(Math.sqrt(w)),i=T>>>1,r=new Array(T);
for(var N=0;N<T;N++)r[N]=new Int32Array(512);var I=[d.lX.GT,d.lX.bC][B],M=I[0],J=I[1];for(var P=0;P<R;
P++)if(P<w||P>R-w-T-1){o.fill(0);$=0;var n=Math.max(P-w,0),x=Math.min(R,P+w+1),L=x-n;for(var u=0;u<w;
u++){$+=L;e(o,j,u*R+n,u*R+x,1)}for(var u=0;u<t;u++){var C=u-w-1,h=u+w;if(C>=0){$-=L;e(o,j,C*R+n,C*R+x,-1)}if(h<t){$+=L;
e(o,j,h*R+n,h*R+x,1)}var A=M(o,j[u*R+P],$);g[u*R+P]=A}}else{for(var N=0;N<T;N++)r[N].fill(0);$=0;var n=P-w+i,x=P+w+1+i,L=x-n;
for(var u=0;u<w;u++){$+=L;c(r,j,u*R+n,u*R+x,1,i)}for(var u=0;u<t;u++){var C=u-w-1,h=u+w;if(C>=0){$-=L;
c(r,j,C*R+n,C*R+x,-1,i)}if(h<t){$+=L;c(r,j,h*R+n,h*R+x,1,i)}for(var N=0;N<i;N++){var W=i-1-N,Q=i+1+N;
g[u*R+P+W]=J(r[i],r[W],j[u*R+P+W],$);g[u*R+P+Q]=J(r[i],r[Q],j[u*R+P+Q],$)}g[u*R+P+i]=M(r[i],j[u*R+P+i],$)}P+=T-1}}function c(j,g,R,t,w,B){var $=p;
$(j[B-1],g[R-1],0,w);$(j[B-1],g[t-1],0,-w);$(j[B+1],g[t],0,w);$(j[B+1],g[R],0,-w);for(var N=1;N<B;N++){var o=j[B-N-1],T=j[B+N+1];
for(var i=0;i<=N;i++){$(o,g[R-1-i],0,w);$(o,g[t-1-i],0,-w);$(T,g[t+i],0,w);$(T,g[R+i],0,-w)}}e(j[B],g,R,t,w)}function e(j,g,N,R,t){while(N<R)p(j,g[N++],0,t)}function p(j,g,R,t){j[R|g]+=t;
j[R|256|g>>>4]+=t}function H(j,g,R,t,w,B){var $=0,o=new Int32Array(512),T=new Int32Array(1*R),i=new Int32Array(512*R),r=Math.min(w,R),I=Math.min(w,t),M=[d.lX.GT,d.lX.bC][B],J=M[0];
for(var P=0;P<I;P++)Z(i,T,j,R,P,1);for(var P=0;P<t;P++){if(P+w<t)Z(i,T,j,R,P+w,1);if(P-w-1>=0)Z(i,T,j,R,P-w-1,-1);
o.fill(0);$=0;for(var n=0;n<r;n++){$+=T[n];X(o,i,n)}for(var n=0;n<R;n++){var x=n-w-1,L=n+w;if(x>=0&&T[x]!=0){$-=T[x];
b(o,i,x)}if(L<R&&T[L]!=0){$+=T[L];X(o,i,L)}var u=$==0?0:J(o,j[P*R+n],$);g[P*R+n]=u}}}function Z(j,g,R,t,w,B){var N=w*t;
for(var $=0;$<t;$++){p(j,R[N+$],$<<9,B);g[$]+=B}}function X(j,g,R){for(var N=0;N<16;N++){var t=g[R<<9|256|N];
if(t==0)continue;j[256|N]+=t;var w=N<<4,B=R<<9|w;k(j,g,w,B);k(j,g,w+4,B+4);k(j,g,w+8,B+8);k(j,g,w+12,B+12)}}function b(j,g,R){for(var N=0;
N<16;N++){var t=g[R<<9|256|N];if(t==0)continue;j[256|N]-=t;var w=N<<4,B=R<<9|w;D(j,g,w,B);D(j,g,w+4,B+4);
D(j,g,w+8,B+8);D(j,g,w+12,B+12)}}function k(j,g,R,t){j[R]+=g[t];j[R+1]+=g[t+1];j[R+2]+=g[t+2];j[R+3]+=g[t+3]}function D(j,g,R,t){j[R]-=g[t];
j[R+1]-=g[t+1];j[R+2]-=g[t+2];j[R+3]-=g[t+3]}return E}();d.lX.QP=.5;d.lX.GT=[function(E,y,c){var e=~~(.5+d.lX.QP*c),p=0,N=256;
while(p+E[N]<e)p+=E[N++];N=N-256<<4;while(p<e)p+=E[N++];return N-1},function(E,y,c,e){var p=~~(.5+d.lX.QP*e),H=0,N=256;
while(H+E[N]+y[N]<p){H+=E[N]+y[N];N++}N=N-256<<4;while(H<p){H+=E[N]+y[N];N++}return N-1}];d.lX.AJ=100;
d.lX.bC=[function(E,y,c){var e=d.lX.AJ,p=0,H=0,N=Math.max(0,y-e),Z=Math.min(256,y+e+1);while(N<Z){var X=E[N];
p+=N*X;H+=X;N++}return H==0?0:p/H},function(E,y,c,e){var p=d.lX.AJ,H=0,Z=0,N=Math.max(0,c-p),X=Math.min(256,c+p+1);
while(N<X){var b=E[N]+y[N];H+=N*b;Z+=b;N++}return Z==0?0:H/Z}];d.r={};d.r.ij=function(E){var y=F.Y.Rt(E.Trnf),c=E.Sz.v,e=d.r.C0(y,new ir(0,0,c.Wdth.v,c.Hght.v));
return d.r.IF(e)};d.r.C0=function(E,y){var c=E[0],e=E[1],p=E[2],H=E[3],Z=E[6],X=E[7],b=E[4],k=E[5],D=0,j=0,g=1,R=0,t=0,w=1,B=1,$=1;
if(y){D=y.x;j=y.y;g=y.x+y.m;R=y.y;t=y.x;w=y.y+y.e;B=y.x+y.m;$=y.y+y.e}return d.r.abo(E,[D,j,g,R,B,$,t,w])};
d.r.a4q=function(E){function y(H,Z){for(var N=0;N<Z.length;N+=2)if(!c(H,Z[N],Z[N+1]))return!1;return!0}function c(H,Z,X){return H[2*Z]==H[2*X]&&H[2*Z+1]==H[2*X+1]}var e=0;
if(y(E,[0,1,2,3]))e+=1;if(y(E,[0,3,1,2]))e+=2;return e};d.r.abo=function(E,y){function c(A,N,W){var u=A[N*2]-A[W*2],C=A[N*2+1]-A[W*2+1];
return Math.sqrt(u*u+C*C)}var e=E[0],p=E[1],H=E[2],Z=E[3],X=E[6],b=E[7],k=E[4],D=E[5],j=y[0],g=y[1],R=y[2],t=y[3],w=y[6],B=y[7],$=y[4],o=y[5],T=[[j,g,1,0,0,0,-j*e,-g*e,e],[0,0,0,j,g,1,-j*p,-g*p,p],[R,t,1,0,0,0,-R*H,-t*H,H],[0,0,0,R,t,1,-R*Z,-t*Z,Z],[w,B,1,0,0,0,-w*X,-B*X,X],[0,0,0,w,B,1,-w*b,-B*b,b],[$,o,1,0,0,0,-$*k,-o*k,k],[0,0,0,$,o,1,-$*D,-o*D,D]],i=[0,0,0,0,0,0,0,0],r=d.dX.Kx(T,i);
if(r!=0){i=[0,0,0,0,0,0,0,0];var I=d.r.a4q(E),M=d.r.a4q(y);if(I==M&&I!=0){var J=I==1,P=J?3:1,n=c(E,0,P),x=c(y,0,P),L=x/n,u=E[2*P]-E[0],C=E[2*P+1]-E[1],h=new jr;
h.translate(-e,-p);h.rotate(Math.atan2(C,u)-(J?Math.PI/2:0));if(J)h.scale(1,L);else h.scale(L,1);h.translate(j,g);
h.Ub();i=d.r.$m(h)}}return i};d.r.R=function(E,y){if(E==null)E=y=0;return[1,0,E,0,1,y,0,0]};d.r.A6=function(E){return Math.abs(E[6])<1e-10&&Math.abs(E[7])<1e-10};
d.r.IF=function(E){return new jr(E[0],E[3],E[1],E[4],E[2],E[5])};d.r.$m=function(E){return[E.U,E.E7,E.Kc,E.J,E.sN,E.Dm,0,0]};
d.r.u=function(E,y){var c=new Float64Array(2);for(var e=0;e<y.length;e+=2){var p=y[e],H=y[e+1];d.r.C3(p,H,E,c);
y[e]=c[0];y[e+1]=c[1]}};d.r.C3=function(E,y,c,e){var p=1/(c[6]*E+c[7]*y+1);e[0]=(c[0]*E+c[1]*y+c[2])*p;
e[1]=(c[3]*E+c[4]*y+c[5])*p};d.r.a49=function(E,y){var c=new Float64Array(2);d.r.C3(y.x,y.y,E,c);return new eq(c[0],c[1])};
d.r.El=function(E,y,c,e){E=new Uint32Array(E.buffer);y=new Uint32Array(y.buffer);for(var p=0;p<e;p++){for(var H=0;
H<c;H++){y[H*e+p]=E[p*c+H]}}};d.r.ju=function(E,y,c,e){E=new Uint32Array(E.buffer);y=new Uint32Array(y.buffer);
for(var p=0;p<e;p++){for(var H=0;H<c;H++){y[p*c+H]=E[p*c+c-1-H]}}};d.r.a1r=function(E,y,c,e){E=new Uint32Array(E.buffer);
y=new Uint32Array(y.buffer);for(var p=0;p<e;p++){for(var H=0;H<c;H++){y[p*c+H]=E[(e-1-p)*c+H]}}};d.r.a3O=function(E){return Math.abs(E[6])<1e-9&&Math.abs(E[7])<1e-9};
d.r.ayz=function(E){return Math.abs(E[0])<1e-9&&Math.abs(E[4])<1e-9||Math.abs(E[1])<1e-9&&Math.abs(E[3])<1e-9};
d.r.drawImage=function(E,y,c,e,p,H,Z,X,b){if(Z==null)Z=!1;if(X==null)X=!1;var k=d.r.Ub(E),D=!0,j=0;for(var N=0;
N<8;N++){var g=Math.round(E[N]);if(N!=2&&N!=5)j+=Math.abs(g);if(Math.abs(g-E[N])>1e-9)D=!1}var R=d.r.a3O(E),t=d.r.ayz(E)&&R,w=t?1:0;
if(Z||D&&j==c+e&&R){d.r.ajV(k,y,c,e,p,H,X,R,b);return}var B=H.m,$=H.e,o=new Float64Array(2);p=new Uint32Array(p.buffer);
y=new Uint32Array(y.buffer);for(var T=0;T<$;T++)for(var i=0;i<B;i++){var r=T*B+i,I,M,J,P,O=0,z=0,a=0,m=0;
p[r]=0;var n=i+H.x+.5,x=T+H.y+.5;I=n;M=x;J=k;var L=J[0]*I+J[1]*M+J[2],u=J[3]*I+J[4]*M+J[5];if(!R){P=1/(J[6]*I+J[7]*M+1);
L*=P;u*=P}var C=L*c,h=u*e,A=C<-1||C>c+1||h<-1||h>e+1;if(X){C=Math.max(.001,Math.min(c-1,C));h=Math.max(.001,Math.min(e-1,h))}else if(A)continue;
var W=d.r.a5$(E,c,e,n,x,L,u),Q=Math.round(W*2.3);if(W<1.1){d.r.xO(C,h,y,c,e,p,r,w);continue}if(!X&&(C<.6||C>c-.6||h<.6||h>e-.6)){Q=Math.max(Q,5)}if(X&&A)Q=1;
var l=1/Q,q=H.x+i,K=H.y+T;J=k;for(var N=0;N<Q;N++)for(var U=0;U<Q;U++){I=q+(N+.5)*l;M=K+(U+.5)*l;var C=J[0]*I+J[1]*M+J[2],h=J[3]*I+J[4]*M+J[5];
if(!R){P=1/(J[6]*I+J[7]*M+1);C*=P;h*=P}if(X){C=Math.max(.001,Math.min(.999,C));h=Math.max(.001,Math.min(.999,h))}else if(C<0||C>=1||h<0||h>=1)continue;
C=Math.floor(C*c);h=Math.floor(h*e);var f=h*c+C,Y=y[f],G=Y>>>24;O+=(Y&255)*G;z+=(Y>>>8&255)*G;a+=(Y>>>16&255)*G;
m+=G}if(m!=0){var V=1/m;O=~~(O*V+.5);z=~~(z*V+.5);a=~~(a*V+.5);m=~~(m*l*l+.5);p[r]=m<<24|a<<16|z<<8|O}}};
d.r.a5$=function(E,y,c,e,p,H,Z){var X=d.r.agI(E,e,p,H+1/y,Z),b=d.r.agI(E,e,p,H,Z+1/c);return 1/Math.sqrt(Math.max(X,b))};
d.r.agI=function(E,y,c,e,p){var H=1/(E[6]*e+E[7]*p+1),Z=(E[0]*e+E[1]*p+E[2])*H-y,X=(E[3]*e+E[4]*p+E[5])*H-c;
return Z*Z+X*X};d.r.ajV=function(E,y,c,e,p,H,Z,X,b){if(X&&!Z&&H.P()>4e6&&b){d.r.azS(E,y,c,e,p,H,Z,X,b);
return}var k=H.x+H.m,D=H.y+H.e,j=0,g=new Uint32Array(p.buffer),R=new Uint32Array(y.buffer),t=E[0]*c,w=E[1]*c,B=E[2]*c,$=E[3]*e,o=E[4]*e,T=E[5]*e,i=E[6],r=E[7];
if(X&&!Z)for(var I=H.y+.5;I<D;I++)for(var M=H.x+.5;M<k;M++){var J=t*M+w*I+B,P=$*M+o*I+T;if(0<J&&J<c&&0<P&&P<e){var n=~~P*c+~~J;
g[j]=R[n]}else g[j]=0;j++}else for(var I=H.y+.5;I<D;I++)for(var M=H.x+.5;M<k;M++){var x=1/(i*M+r*I+1),J=(t*M+w*I+B)*x,P=($*M+o*I+T)*x;
if(Z){J=Math.max(.001,Math.min(c-1,J));P=Math.max(.001,Math.min(e-1,P))}if(0<J&&J<c&&0<P&&P<e){var n=Math.floor(P)*c+Math.floor(J);
g[j]=R[n]}else g[j]=0;j++}};d.r.azS=function(E,y,c,e,p,H,Z,X,b){var k=new Uint32Array(p.buffer),D=new Uint32Array(y.buffer),r=0;
if(b&&(H.m&3)!=0)throw"e";var j=E[0]*c,g=E[1]*c,R=E[2]*c,t=E[3]*e,w=E[4]*e,B=E[5]*e,$=E[6],o=E[7],T=H.m,i=H.e,I=H.x+.5,M=H.y+.5,J=(T>>>2<<2)-1e-9,P=-.1+(i>>>1<<1)-1e-9,n=~~c,x=j==0?0:1/j,L=t==0?0:1/t;
for(var u=0;u<i;u++){var C=I*j+g*(u+M)+R,h=I*t+w*(u+M)+B,A=0,W=T;if(j==0){}else if(x>0){A=Math.max(A,-C*x);
W=Math.min(W,(c-C)*x)}else{W=Math.min(W,-C*x);A=Math.max(A,(c-C)*x)}if(t==0){}else if(L>0){A=Math.max(A,-h*L);
W=Math.min(W,(e-h)*L)}else{W=Math.min(W,-h*L);A=Math.max(A,(e-h)*L)}if(W<0)W=0;if(A>W)A=W;A=~~Math.ceil(A);
W=~~W;r=~~(u*T);k.fill(0,r,r+A);r+=A;for(var Q=A;Q<W;Q+=4){var l=j*Q+C,O=t*Q+h,z=~~O*n+~~l,a=D[z];k[r]=a;
k[r+1]=a;k[r+2]=a;k[r+3]=a;r+=4}k.fill(0,r,r+T-W)}};d.r.Ub=function(E){var y=E[4]-E[5]*E[7],c=E[2]*E[7]-E[1],e=E[1]*E[5]-E[2]*E[4],p=E[5]*E[6]-E[3],H=E[0]-E[2]*E[6],Z=E[3]*E[2]-E[0]*E[5],X=E[3]*E[7]-E[4]*E[6],b=E[1]*E[6]-E[0]*E[7],k=1/(E[0]*E[4]-E[1]*E[3]);
return[y*k,c*k,e*k,p*k,H*k,Z*k,X*k,b*k]};d.r.wl=function(E,y){var c=E[0],e=E[1],p=E[2],H=E[3],Z=E[4],X=E[5],b=E[6],k=E[7],D=y[0],j=y[1],g=y[2],R=y[3],t=y[4],w=y[5],B=y[6],$=y[7],o=[c*D+e*R+p*B,c*j+e*t+p*$,c*g+e*w+p,H*D+Z*R+X*B,H*j+Z*t+X*$,H*g+Z*w+X,b*D+k*R+B,b*j+k*t+$],T=1/(b*g+k*w+1);
for(var N=0;N<8;N++)o[N]*=T;return o};d.r.xO=function(E,y,c,e,p,H,Z,X){var b=E,k=y,g=0,R=0,t=0,w=0;E-=.499999;
y-=.499999;var D=Math.floor(E),j=Math.floor(y);if(X==0){var N=j*e+D,B=D>=0&&D<e,$=D+1>=0&&D+1<e,o=j>=0&&j<p,T=j+1>=0&&j+1<p;
if(B&&o)g=c[N];if($&&o)R=c[N+1];if(B&&T)t=c[N+e];if($&&T)w=c[N+e+1]}else if(X==1){var i=D<0?0:D>e-1?e-1:D,r=D<-1?0:D>e-2?e-1:D+1,I=j<0?0:j>p-1?p-1:j,M=j<-1?0:j>p-2?p-1:j+1;
g=c[I*e+i];R=c[I*e+r];t=c[M*e+i];w=c[M*e+r]}else{var i=(D+50*e)%e,r=(D+50*e+1)%e,I=(j+50*p)%p,M=(j+50*p+1)%p;
g=c[I*e+i];R=c[I*e+r];t=c[M*e+i];w=c[M*e+r]}var J=E-D,P=y-j,n=(1-P)*(1-J)*(g>>>24),x=(1-P)*J*(R>>>24),L=P*(1-J)*(t>>>24),u=P*J*(w>>>24),C=n+x+L+u,h=n*(g&255)+x*(R&255)+L*(t&255)+u*(w&255),A=n*(g>>>8&255)+x*(R>>>8&255)+L*(t>>>8&255)+u*(w>>>8&255),W=n*(g>>>16&255)+x*(R>>>16&255)+L*(t>>>16&255)+u*(w>>>16&255);
if(C==0)H[Z]=0;else{var Q=1/C;h=~~(h*Q+.5);A=~~(A*Q+.5);W=~~(W*Q+.5);C=~~(C+.5);H[Z]=C<<24|W<<16|A<<8|h}};
d.r.aBS=function(E,y,c,e,p,H){var Z=E-.499999,X=y-.499999,b=~~Z,k=~~X,D=Z-b,j=X-k,g=(1-j)*(1-D),R=(1-j)*D,t=j*(1-D),w=j*D,B=k*e+b<<2,$=(k+1)*e+b<<2,o=g*c[B]+R*c[B+4]+t*c[$]+w*c[$+4],T=g*c[B+1]+R*c[B+5]+t*c[$+1]+w*c[$+5],i=g*c[B+2]+R*c[B+6]+t*c[$+2]+w*c[$+6],r=g*c[B+3]+R*c[B+7]+t*c[$+3]+w*c[$+7];
H[0]=o;H[1]=T;H[2]=i;H[3]=r};d.r.VW=function(E,y,c,e,p){E-=.499999;y-=.499999;var H=Math.floor(E),Z=Math.floor(y),X=E-H,b=y-Z,k=(1-b)*(1-X),D=(1-b)*X,j=b*(1-X),g=b*X,R=(H+50*e)%e,t=(H+1+50*e)%e,w=(Z+50*p)%p,B=(Z+1+50*p)%p,$=c[w*e+R],o=c[w*e+t],T=c[B*e+R],i=c[B*e+t];
if($==null||i==null)throw"e";return k*$+D*o+j*T+g*i};d.r.a2P=function(E,y,c,e,p){E-=.499999;y-=.499999;
var H=Math.floor(E),Z=Math.floor(y),X=E-H,b=y-Z,k=(1-b)*(1-X),D=(1-b)*X,j=b*(1-X),g=b*X,R=0,t=Z*e+H,w=t+e;
if(0<=Z&&Z<p&&0<=H&&H<e)R+=k*c[t];if(0<=Z&&Z<p&&0<=H+1&&H+1<e)R+=D*c[t+1];if(0<=Z+1&&Z+1<p&&0<=H&&H<e)R+=j*c[w];
if(0<=Z+1&&Z+1<p&&0<=H+1&&H+1<e)R+=g*c[w+1];return R};d.r.arN=function(E,y,c,e,p,H,Z,X,b,k,D,j){var g=new Uint32Array(E.buffer),R=new Uint32Array(e.buffer),t=(1+2*k)/p,w=[],B=[];
for(var $=0;$<p;$++){var o=-.25+k-$*t;w.push(Math.cos(2*Math.PI*o)*j/D);w.push(Math.sin(2*Math.PI*o)/D)}Z*=y;
X*=c;for(var T=0;T<H;T++){var i=Math.pow(T/H,b)*H;for(var $=0;$<p;$++){var r=Z+w[$<<1]*i,I=X+w[($<<1)+1]*i,M=~~(.5+(r<0?0:r>y-1?y-1:r)),J=~~(.5+(I<0?0:I>c-1?c-1:I));
R[T*p+$]=g[J*y+M]}}};d.r.aCa=function(E,y,c,e,p,H,Z,X,b,k,D,j){var g=new Uint32Array(E.buffer),R=new Uint32Array(e.buffer),t=1/j,w=[],B=c*4,$=1/B;
for(var o=0;o<B+10;o++)w.push(Math.pow(o*$,1/b)*c*D);Z*=p;X*=H;for(var o=0;o<H;o++)for(var T=0;T<p;T++){var i=t*(T-Z),r=o-X,I=1.75-Math.atan2(r,i)*(1/(2*Math.PI));
I=I-~~I;I=(I+k)*(1/(1+2*k));var M=Math.sqrt(i*i+r*r);M=w[~~(M*4)];d.r.xO(I*y+.5,M+.5,g,y,c,R,o*p+T,1)}};
d.r.Ga=function(E,y,c,e,p){var H=p[0],Z=p[1];for(var X=0;X<Z;X++)for(var b=0;b<H;b++){var k=p[2]*b+p[3]*X+p[4],D=p[5]*b+p[6]*X+p[7],j=X*H+b<<2,g=D*y+k<<2;
e[j]=E[g+0];e[j+1]=E[g+1];e[j+2]=E[g+2];e[j+3]=E[g+3]}};d.L={w_:function(E,y){var c=~~(.499+E*y);return c<0?0:c>y?y:c},aiw:function(E,y,c,e,p,H,Z,X){var b=c[0],k=c[1],D=c[2],j=c[3],g=e.m,R=e.e,t=new Float64Array(g*4+8),w=new Float64Array(g*4+8);
for(var B=0,N=0;B<R;B++){var $=t;t=w;w=$;w.fill(0);for(var o=0;o<g;o++,N++){var T=o+p,i=B+H,r=b*T+k*i,I=D*T+j*i,M=0,n=0;
if(X==0)M=r+.5;else if(X==1)M=2*Math.sqrt(r*r+I*I);else if(X==2)M=(Math.PI+Math.atan2(-I,-r))/(2*Math.PI);
else if(X==3)M=Math.abs(r*2);else if(X==4)M=2*(Math.abs(r)+Math.abs(I));var J=d.L.w_(M,Z)*4,P=o*4;for(var x=0;
x<4;x++){var L=Math.max(0,Math.min(254.999,y[J+x]+t[P+4+x])),u=Math.floor(L);if(Math.random()<L-u)u++;
var C=L-u;t[P+8+x]=C*(7/16);w[P+0+x]=C*(3/16);w[P+4+x]=C*(5/16);w[P+8+x]=C*(1/16);n|=u<<x*8}E[N]=n}}},b_:[function(E,y,c,e,p,H,Z){var X=c[0],b=c[1],k=c[2],D=c[3],j=e.m,g=e.e;
for(var R=0,N=0;R<g;R++)for(var t=0;t<j;t++,N++){var w=t+p,B=R+H,$=X*w+b*B,o=k*w+D*B,T=$+.5;E[N]=y[d.L.w_(T,Z)]}},function(E,y,c,e,p,H,Z){var X=c[0],b=c[1],k=c[2],D=c[3],j=e.m,g=e.e;
for(var R=0,N=0;R<g;R++)for(var t=0;t<j;t++,N++){var w=t+p,B=R+H,$=X*w+b*B,o=k*w+D*B,T=2*Math.sqrt($*$+o*o);
E[N]=y[d.L.w_(T,Z)]}},function(E,y,c,e,p,H,Z){var X=c[0],b=c[1],k=c[2],D=c[3],j=e.m,g=e.e;for(var R=0,N=0;
R<g;R++)for(var t=0;t<j;t++,N++){var w=t+p,B=R+H,$=X*w+b*B,o=k*w+D*B,T=(Math.PI+Math.atan2(-o,-$))/(2*Math.PI);
E[N]=y[d.L.w_(T,Z)]}},function(E,y,c,e,p,H,Z){var X=c[0],b=c[1],k=c[2],D=c[3],j=e.m,g=e.e;for(var R=0,N=0;
R<g;R++)for(var t=0;t<j;t++,N++){var w=t+p,B=R+H,$=X*w+b*B,o=k*w+D*B,T=Math.abs($*2);E[N]=y[d.L.w_(T,Z)]}},function(E,y,c,e,p,H,Z){var X=c[0],b=c[1],k=c[2],D=c[3],j=e.m,g=e.e;
for(var R=0,N=0;R<g;R++)for(var t=0;t<j;t++,N++){var w=t+p,B=R+H,$=X*w+b*B,o=k*w+D*B,T=2*(Math.abs($)+Math.abs(o));
E[N]=y[d.L.w_(T,Z)]}}]};d.L.al0=function(E,y){return E+.5};d.L.aB5=function(E,y){return 2*Math.sqrt(E*E+y*y)};
d.L.ad2=function(E,y){return(Math.PI+Math.atan2(-y,-E))/(2*Math.PI)};d.L.a79=function(E,y){return Math.abs(E*2)};
d.L.aha=function(E,y){return 2*(Math.abs(E)+Math.abs(y))};d.L.Z$=function(E,y,c,e,p,H,Z,X,b,k,D,j){var g=E.Clrs,R=new Uint32Array(y.buffer),t=1023,w=g?d.L.nb(E,b,k):null;
if(j&&g){var B=d.L.auJ(E,w,t+1,Z);d.L.aiw(R,B,e,c,c.x-p,c.y-H,t,X)}else{var $=g?d.L.a71(E,w,t+1,Z):d.L.alR(E,t+1,Z);
if(X<5){d.L.b_[X](R,$,e,c,c.x-p,c.y-H,t)}else{var o=new Uint8Array($.buffer),T=c.m,i=c.e,r=D.hk-D.f5,I=1/r,M=D.kU.m-c.m>>1,J=D.kU.e-c.e>>1,P=D.kU.m,n=-.6*I,x=(-.6+.4)*I,L=(-.6+2*.4)*I,u=(-.6+3*.4)*I;
for(var C=0,N=0;C<i;C++)for(var h=0;h<T;h++,N+=4){var A=0,W=0,Q=0,l=0,O=(C+J)*P+h+M,z=(D.Vm[O]-D.f5)*I,a=0;
if(z<=0||z>=1){a=(z<=0?0:t)<<2;y[N]=o[a];y[N+1]=o[a+1];y[N+2]=o[a+2];y[N+3]=o[a+3];continue}a=Math.max(0,Math.min(t-1,Math.round((z+n)*t)))<<2;
W+=o[a];Q+=o[a+1];l+=o[a+2];A+=o[a+3];a=Math.max(0,Math.min(t-1,Math.round((z+x)*t)))<<2;W+=o[a];Q+=o[a+1];
l+=o[a+2];A+=o[a+3];a=Math.max(0,Math.min(t-1,Math.round((z+L)*t)))<<2;W+=o[a];Q+=o[a+1];l+=o[a+2];A+=o[a+3];
a=Math.max(0,Math.min(t-1,Math.round((z+u)*t)))<<2;W+=o[a];Q+=o[a+1];l+=o[a+2];A+=o[a+3];y[N]=W>>>2;
y[N+1]=Q>>>2;y[N+2]=l>>>2;y[N+3]=A>>>2}}}};d.L.nb=function(E,y,c){var e=[E.Clrs.v,E.Trns.v],p=[[],[]],H=255;
for(var Z=0;Z<2;Z++)for(var N=0;N<e[Z].length;N++){var X,b=e[Z][N].v;if(Z==0){var k=b.Type.v.Clry;if(k=="FrgC")X={Z:y>>16&255,D:y>>8&255,J:y&255};
else if(k=="BckC")X={Z:c>>16&255,D:c>>8&255,J:c&255};else X=d.L.yd(b.Clr.v)}else{X=b.Opct.v.val*(255/100);
if(X<H)H=X}p[Z].push([X,b.Lctn.v/4096,b.Mdpn.v/100])}p.push(H>254);return p};d.L.yd=function(E){var y,c=E.classID;
if(c=="RGBC"){if(E.Rd)y={Z:E.Rd.v,D:E.Grn.v,J:E.Bl.v};else y={Z:E.redFloat.v*255,D:E.greenFloat.v*255,J:E.blueFloat.v*255}}else if(c=="HSBC"){y=d.mf(E.H.v.val/360,E.Strt.v/100,E.Brgh.v/100);
y.Z*=255;y.D*=255;y.J*=255}else if(c=="CMYC"){var e=100-E.Cyn.v,p=100-E.Mgnt.v,H=100-E.Ylw.v,Z=100-E.Blck.v,X=255*e*Z*1e-4,b=255*(.2*e+.8*p)*Z*1e-4,k=255*(.2*p+.8*H)*Z*1e-4;
y={Z:X,D:b,J:k}}else if(c=="Grsc")y={Z:255-E.Gry.v,D:255-E.Gry.v,J:255-E.Gry.v};else if(c=="LbCl"){y=d.SS(E.Lmnc.v,E.A.v,E.B.v)}else if(c=="BkCl")y={Z:0,D:0,J:0};
else console.log(E);if(isNaN(y.Z))y.Z=y.D=y.J=0;return y};d.L.alR=function(E,y,c){var e=new Uint32Array(y),p=new Uint8Array(e.buffer);
e.fill(4278190080);var H=[],Z=[],X=E.RndS.v,b=E.Smth.v/4096;for(var N=0;N<4;N++){H[N]=~~(E.Mnm.v[N].v*255/100);
Z[N]=~~(E.Mxm.v[N].v*255/100)}var k=d.R(y*4),D=d.R(y);for(var j=0;j<3;j++){d.$.auk(null,y,1,k,[1+Math.round(b*b*b*60),22,X*(2+j)]);
d.LI(k,D,0);d.Og(D,p,j);var g=H[j],R=Z[j];for(var N=0;N<y;N++)p[4*N+j]=Math.max(g,Math.min(R,p[4*N+j]))}if(c)for(var N=0;
N<y/2;N++){var t=e[N];e[N]=e[y-1-N];e[y-1-N]=t}return e};d.L.hp=function(E){return{classID:"RGBC",Rd:{t:"doub",v:E.Z},Grn:{t:"doub",v:E.D},Bl:{t:"doub",v:E.J}}};
d.L.auJ=function(E,y,c,e){var p=[],H=1/(c-0);for(var N=0;N<c;N++){var Z=N*4,X=d.L.TI(E,y,(e?c-1-N:N)*H);
p[Z]=X[0];p[Z+1]=X[1];p[Z+2]=X[2];p[Z+3]=X[3]}return p};d.L.a71=function(E,y,c,e){var p=new Uint32Array(c),H=1/(c-0);
for(var N=0;N<c;N++)p[N]=d.L.ub(E,y,(e?c-1-N:N)*H);return p};d.L.TI=function(E,y,c){var e=E.Intr.v*(1/4096),p=y[0],H=y[1],Z=p.length-1,X=H.length-1,N=-1,b=0,k=0,D=0,j=0;
if(y[2])b=255;else{while(N<X&&H[N+1][1]<=c)N++;if(N==-1){b=H[0][0]}else if(N==X){b=H[N][0]}else{var g=d.L.a52(H,N,c,e);
b=g*H[N][0]+(1-g)*H[N+1][0]}}N=-1;while(N<Z&&p[N+1][1]<=c)N++;if(N==-1){var R=p[0][0];k=R.Z;D=R.D;j=R.J}else if(N==Z){var R=p[N][0];
k=R.Z;D=R.D;j=R.J}else{var t=p[N][0],w=p[N+1][0],B=d.L.a52(p,N,c,e);k=B*t.Z+(1-B)*w.Z;D=B*t.D+(1-B)*w.D;
j=B*t.J+(1-B)*w.J}return[k,D,j,b]};d.L.ub=function(E,y,c){var e=d.L.TI(E,y,c),p=~~(.5+e[0]),H=~~(.5+e[1]),Z=~~(.5+e[2]),X=~~(.5+e[3]);
return X<<24|Z<<16|H<<8|p};d.L.a52=function(E,N,y,c){if(E.length==2)c*=.5;var e=E[N][1],p=E[N+1][1],H=e+E[N+1][2]*(p-e),Z;
if(y<H)Z=.5*(y-e)/(H-e);else Z=.5+.5*(y-H)/(p-H);Z=.5+.5*(c*Math.cos(Math.PI*Z)+(1-c)*(1-2*Z));return Z};
d.L.a6F=function(E,y,c){var e=.5*c.e,p=e*(E/y),H=Math.sqrt(e*e+p*p),Z=.5*c.m,X=Z*(y/E),b=Math.sqrt(Z*Z+X*X);
return Math.min(H,b)};d.L.u3=function(E,y){var c=Math.PI*E.Angl.v.val/180,e=E.Scl.v.val/100,p=E.Ofst.v,H=p.Hrzn.v.val/100,Z=p.Vrtc.v.val/100,X=Math.cos(c),b=-Math.sin(c),k=d.L.a6F(X,b,y),D=k*e,j=y.x+y.m/2+H*y.m,g=y.y+y.e/2+Z*y.e;
return[new eq(j,g),new eq(j+X*D,g+b*D)]};d.L.FO=function(E,y,c,e){var p=y.x-E.x,H=-(y.y-E.y),Z=Math.sqrt(p*p+H*H),X=Math.atan2(H,p),b=Math.cos(X),k=-Math.sin(X),D=d.L.a6F(b,k,c),j=Z/D,g=(E.x-c.x-c.m/2)/c.m,R=(E.y-c.y-c.e/2)/c.e;
e.Angl.v.val=180*X/Math.PI;e.Scl.v.val=j*100;var t=e.Ofst.v;t.Hrzn.v.val=g*100;t.Vrtc.v.val=R*100};d.L.Ll=function(E,y){for(var N=0;
N<E.length;N++){var c=E[N],e=Math.round(c[0]*4096),p=c[1],H=c[2],Z=c[3];if(H==null)H=1;if(Z==null)Z=.5;
var X=d.L.hp({Z:p[0]*255,D:p[1]*255,J:p[2]*255});y.Clrs.v[N]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:e},Mdpn:{t:"long",v:Math.round(Z*100)},Clr:{t:"Objc",v:X},Type:{t:"enum",v:{Clry:"UsrS"}}}};
y.Trns.v[N]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:e},Mdpn:{t:"long",v:Math.round(Z*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(H*100)}}}}}};
d.L.u2=function(E,y,c){if(y){E=JSON.parse(JSON.stringify(E));for(var N=0;N<2;N++){var e=E[N==0?"Clrs":"Trns"].v;
for(var p=0;p<e.length;p++)e[p].v.Lctn.v=4096-e[p].v.Lctn.v;e.reverse()}}var H=[],Z=1/255,X=E.Clrs.v,b=E.Trns.v,e=X;
if(aw==0||X.length!=b.length){if(aw!=0)console.log("strange gradient");if(c!=!0)e=X.concat(b);var k=d.L.nb(E,0,0);
for(var N=0;N<e.length;N++){var D=e[N].v,j=D.Lctn.v/4096,g=d.L.TI(E,k,j);H.push([j,[g[0]*Z,g[1]*Z,g[2]*Z],g[3]*Z])}H.sort(function(t,w){return t[0]-w[0]});
for(var N=1;N<H.length;N++)if(H[N][0]-H[N-1][0]<.001){H.splice(N,1);N--}}else{for(var N=0;N<e.length;
N++){var D=X[N].v,R=D.Clr.v,j=D.Lctn.v/4096;H.push([j,[R.Rd.v*Z,R.Grn.v*Z,R.Bl.v*Z],b[N].v.Opct.v.val*.01])}}return H};
d.apb={};d.apb.YR=function(E,y,c,e,p,H,Z,X,b,k,D,j){var g,R,t,w=Date.now(),B=!1,$=Z,o=k,T,i,r,I,M=H*255,J=255-b*255,P=1+p*6,n=1+X*6,x=1+j*4,L=(x-1)/7,u=0,C=255-0,h,A,W,Q,l,O,z,a,m,q,K,U,f,Y=0,G=1,V,dF,s,aH,dw,kO,hX,jF,gn,hM,ie=1+D,bN,kd=d.R(c*e),i7=d.R(c*e),dn=d.R(c*e),ew=d.R(c*e),e4=255/M,eE=255/(255-J);
for(R=0;R<e;R++){for(g=0;g<c;g++){var N=R*c+g,jc=N<<2;V=d._f(E[jc],E[jc+1],E[jc+2]);ew[N]=V;if(V<M)kd[N]=255-V*e4;
if(V>J)i7[N]=255-(255-V)*eE}}if(B)console.log("init",Date.now()-w);w=Date.now();if(p*$>0){dn.set(kd);
d.gC.cN(dn,kd,new ir(0,0,c,e),$)}if(X*o>0){dn.set(i7);d.gC.cN(dn,i7,new ir(0,0,c,e),o)}if(B)console.log("blur",Date.now()-w);
w=Date.now();var ft=d.R(256),bd=d.R(256);for(var N=0;N<256;N++){var iB=N*(1/255),cG=0;cG=(1-Math.pow(1-iB,P))*255;
ft[N]=Math.max(0,Math.min(255,~~(cG+.5)));cG=Math.pow(iB,n)*255;bd[N]=Math.max(0,Math.min(255,~~(cG+.5)))}var bT=new Uint8ClampedArray(y.buffer),g$=new Float32Array(32768);
for(var N=0;N<32768;N++){bN=Math.sqrt(N)*(1/128);if(ie>1)bN=(1-bN)*(ie-1)+1;else bN=bN*(ie-1)+1;g$[N]=bN}for(R=0;
R<e;R++){for(g=0;g<c;g++){var N=R*c+g,jc=N<<2,cG=ew[N],hU=kd[N]*(1/255),ah=i7[N]*(1/255);cG=(1-hU)*cG+hU*ft[~~cG];
cG=(1-ah)*cG+ah*bd[~~cG];V=cG;var co=E[jc],im=E[jc+1],hb=E[jc+2];dF=-co*.168736-im*.331264+hb*.5;s=co*.5-im*.418688-hb*.081312;
bN=g$[~~(.5+dF*dF+s*s)];aH=dF*bN;kO=s*bN;G=1-Math.min(2-(hU+ah),1);dF=G*dF+(1-G)*aH;s=G*s+(1-G)*kO;jF=V+1.402*s;
gn=V-.34414*dF-.71414*s;hM=V+1.772*dF;bT[jc]=~~(.5+jF);bT[jc+1]=~~(.5+gn);bT[jc+2]=~~(.5+hM)}}if(B)console.log("apply masks",Date.now()-w);
w=Date.now()};d.Js={};d.Js.sy=function(E,y,c,e,p){var H=Date.now(),Z=!1,w=1,C=0,m=0;if(!y.Rq(p)){var X=y.uN(p),b=d.R(X.P()*4);
d.E6(E,y,b,X);E=b;y=X}var k=d.R(y.P());d.kh(c,p,k,y);d.round(k);p=p.fr(y);var D=p.m,j=p.e,g=D*3<j?2:1,R=j*3<D?2:1;
if(p.P()*(g*2+1)*(R*2+1)<y.P()){var X=new ir(p.x-D*g,p.y-j*g,D*(g*2+1),j*(R*2+1)).fr(y),b=d.R(X.P()*4);
d.E6(E,y,b,X);var t=d.R(X.P());d.kh(k,y,t,X);y=X;E=b;k=t}while((y.m+y.e)/2/w>400)w++;var B=E,$=y,o=k,T=Math.floor($.m/w),i=Math.floor($.e/w);
E=d.R(T*i*4);d.scale.JQ(B,$.m,$.e,E,T,i,1/w);k=d.R(T*i);d.scale.Ga(o,$.m,$.e,k,T,i,1/w);d.round(k,1);
if(Z)console.log("scale down:",w,T,i);var r=d.pL(k,new ir(0,0,T,i));if(r.tj())return 1;var I=Math.round((r.m+r.e)/2/15);
if(Z)console.log(Date.now()-H,"preprocess");H=Date.now();var M=d.R(T*i*4);d.a5k(E,M);var J=Int16Array,P=new J(T*i*24),n=new J(64),x=new J(64),L=new J(64),u=new J(64);
for(var h=3;h<i-4;h++)for(var A=3;A<T-4;A++){var W=h*T+A;if(k[W]==255)continue;if(d.Js.adH(M,k,A,h,T,i,n,x,L)!=0)continue;
d.Js.eO(n,u);var Q=C*24;P[Q]=A;P[Q+1]=h;d.Js.Jt(n,P,Q+4,12);d.Js.eO(x,u);d.Js.Jt(x,P,Q+16,4);d.Js.eO(L,u);
d.Js.Jt(L,P,Q+20,4);var l=P[Q+5],O=P[Q+6];P[Q+5]=P[Q+16];P[Q+6]=P[Q+20];P[Q+16]=l;P[Q+20]=O;C++}if(C==0)return 2;
if(Z)console.log(Date.now()-H,"FWHT computed");H=Date.now();var z=[];d.Js.kC(0,C-1,z,P,new J(2*24));
if(Z)console.log(Date.now()-H,"KD tree computed");H=Date.now();var a=new Uint32Array(T*i*4);for(var N=0;
N<C;N++){var q=N,K=d.Js.ad8(q,P,z,I);if(K==-1)continue;var U=q*24,f=K*24,Y=P[U],G=P[U+1],V=P[f],dF=P[f+1];
m+=d.Js.getError(f,U,P,1e99);var s=V-Y,aH=dF-G;a[(i+aH)*2*T+(T+s)]+=1}if(Z)console.log(Date.now()-H,"NN found");
H=Date.now();var dw=[],kO=1/(2*T);for(var N=0;N<a.length;N++){if(a[N]>0){var h=Math.floor(N*kO),A=N-h*2*T;
dw.push({x:A-T,y:h-i,b:a[N],MX:-1})}}dw.sort(function(bT,g$){return g$.b-bT.b});var hX=new Int32Array(T*i),jF=[];
for(var N=0;N<T*i;N++){if(k[N]==255){hX[N]=jF.length>>>1;jF.push(N%T,Math.floor(N/T))}else if(E[(N<<2)+3]<200){hX[N]=-2}else{hX[N]=-1}}var gn=d.Js.a5S(T,i,dw,hX,jF);
if(gn==null){if(Z)console.log("no appropriate labeling");return 3}var hM=gn.cu,top=gn.top;hM=d.Js.aDB(hM,E,T,i,top,hX,jF);
if(Z)console.log(Date.now()-H,"optimal labeling found");H=Date.now();var X=p.clone();X.r4(1,1);X=X.fr($);
var ie=d.R(X.P()*4),bN=d.R(X.P());d.E6(B,$,ie,X);var kd=$.m,i7=$.e;for(var h=0;h<i7;h++)for(var A=0;
A<kd;A++){if(o[h*kd+A]==0)continue;var dn=Math.min(Math.floor(A/w),T-1),ew=Math.min(Math.floor(h/w),i-1),e4=hX[ew*T+dn];
if(e4==-1)continue;var eE=hM[e4],jc=top[eE],ft=A+jc.x*w,bd=h+jc.y*w,iB=bd*kd+ft<<2,cG=(h-X.y+$.y)*X.m+(A-X.x+$.x)<<2;
ie[cG]=B[iB];ie[cG+1]=B[iB+1];ie[cG+2]=B[iB+2];ie[cG+3]=B[iB+3];ie[cG+3]=B[iB+3];bN[cG>>2]=eE+1}if(Z)console.log(Date.now()-H,"copied back");
H=Date.now();d.HJ.sy(ie,bN,X,null,1e3);if(Z)console.log(Date.now()-H,"poisson smooth");H=Date.now();
d.E6(ie,X,e,p);return 0};d.Js.aat=function(E,y,c,e,p,H){return d.Js.nz(E+p.x,y+p.y,c,e,H)?0:1e9};d.Js.aDB=function(E,y,c,e,top,p,H){var Z=Date.now(),X=H.length>>>1,b=[-1,0,0,-1,1,0,0,1],k=1e99,D=[],j=[],g=2*(X*2*3+X*2),R=null,t=0,w=0,B=0,$=1e99;
while(!0&&Date.now()<Z+12e3){B++;var o=null,T=k;for(var i=0;i<top.length;i++){var r=top[i],I=0,M=X+2,J=0;
for(var N=0;N<X;N++){var P=H[N*2],n=H[N*2+1],x=top[E[N]],L=d.Js.aat(P,n,c,e,r,p),u=E[N]==i?1e9:d.Js.aat(P,n,c,e,x,p);
for(var j1=0;j1<4;j1++){if(j1==0&&P==0||j1==1&&n==0||j1==2&&P==c-1||j1==3&&n==e-1)continue;var C=b[2*j1],h=b[2*j1+1],A=P+C,W=n+h,Q=p[W*c+A];
if(Q==-2){}else if(Q==-1){L+=3*d.Js.t4(A+r.x,W+r.y,A,W,c,e,y,p);L+=2*d.Js.t4(A+r.x+C,W+r.y+h,A+C,W+h,c,e,y,p);
u+=3*d.Js.t4(A+x.x,W+x.y,A,W,c,e,y,p);u+=2*d.Js.t4(A+x.x+C,W+x.y+h,A+C,W+h,c,e,y,p)}else if(j1>1){if(E[N]==E[Q]){var l=0;
l+=d.Js.t4(P+x.x,n+x.y,P+r.x,n+r.y,c,e,y,p);l+=d.Js.t4(A+x.x,W+x.y,A+r.x,W+r.y,c,e,y,p);D[I]=N;D[I+1]=Q;
j[I]=l;j[I+1]=l;I+=2}else{var O=top[E[Q]],z=M,a=0,m=0,q=0;M++;a+=d.Js.t4(P+x.x,n+x.y,P+r.x,n+r.y,c,e,y,p);
a+=d.Js.t4(A+x.x,W+x.y,A+r.x,W+r.y,c,e,y,p);m+=d.Js.t4(P+O.x,n+O.y,P+r.x,n+r.y,c,e,y,p);m+=d.Js.t4(A+O.x,W+O.y,A+r.x,W+r.y,c,e,y,p);
q+=d.Js.t4(P+O.x,n+O.y,P+x.x,n+x.y,c,e,y,p);q+=d.Js.t4(A+O.x,W+O.y,A+x.x,W+x.y,c,e,y,p);D[I]=N;D[I+1]=z;
j[I]=a;j[I+1]=a;I+=2;D[I]=Q;D[I+1]=z;j[I]=m;j[I+1]=m;I+=2;D[I]=z;D[I+1]=X+1;j[I]=q;j[I+1]=0;I+=2}}}D[I]=X;
D[I+1]=N;j[I]=L;j[I+1]=0;I+=2;D[I]=N;D[I+1]=X+1;j[I]=u;j[I+1]=0;I+=2;J+=Math.min(L,u)}if(J>T)continue;
var K=d.ad.Kx(M,I,X,X+1,D,j,T);if(K.vO<T){T=K.vO;var U=E.slice(0);d.Js.a9d(U,I,D,K.Ew,i,X);o=U}}if(T*1>=k){break}k=T;
E=o;if((B&3)==0){if(T*1.03>=$)break;$=T}if((B&3)==0){var f=0*top.length;for(var N=0;N<top.length&&top.length>f;
N++){if(E.indexOf(N)!=-1)continue;top.splice(N,1);for(var Q=0;Q<E.length;Q++)if(E[Q]>N)E[Q]--;N--}}}return E};
d.Js.a9d=function(E,y,c,e,p,H){for(var N=0;N<e.length;N++){var Z=e[N]<<1,X=0,b=0;if(Z<y){X=c[Z];b=c[Z+1]}else{b=c[Z];
X=c[Z+1]}if(X==H&&E[b]!=p)E[b]=p}};d.Js.au1=function(top,E,y,c,e,p,H,Z,X){for(var N=0;N<y.length;N++){var b=y[N],k=!0;
if(Z!=null&&!d.Js.nz(Z+b.x,X+b.y,p,H,c))continue;if(b.MX==-1)b.MX=d.Js.aCm(b,c,e,p,H);if(b.MX<=0)continue;
for(var D=0;D<top.length;D++){var j=top[D],g=b.x-j.x,R=b.y-j.y;if(g*g+R*R<E){k=!1;break}}if(k)return b}return null};
d.Js.aCm=function(E,y,c,e,p){var H=0;for(var N=0;N<c.length;N+=2){var Z=c[N]+E.x,X=c[N+1]+E.y;if(d.Js.nz(Z,X,e,p,y))H++}return H/(c.length>>1)};
d.Js.a5S=function(E,y,c,e,p){var H=p.length>>>1,top=[];for(var N=0;N<60;N++){var Z=d.Js.au1(top,25,c,e,p,E,y);
if(Z==null)break;else top.push(Z)}if(top.length==0)return null;var X=[];for(var N=0;N<H;N++){var b=p[N*2],k=p[N*2+1],D=-1,j=0;
while(!0){j++;var g=Math.random();D=Math.floor(g*.99999*top.length);var R=top[D],t=b+R.x,w=k+R.y;if(d.Js.nz(t,w,E,y,e))break;
if(j>1e3){var Z;Z=d.Js.au1(top,0,c,e,p,E,y,b,k);if(Z==null)for(var B=0;B<4;B++){var $,o,T=0;while(!0){$=~~(Math.random()*E);
o=~~(Math.random()*y);if(d.Js.nz($,o,E,y,e))break;T++;if(T>500)throw"e"}Z={x:$-b,y:o-k,b:1,MX:-1};c.push(Z);
top.push(Z)}else top.push(Z);j=0}}X.push(D)}return{top:top,cu:X}};d.Js.t4=function(E,y,c,e,p,H,Z,X){if(E==c&&y==e)return 0;
if(E<0||y<0||E>=p||y>=H||c<0||e<0||c>=p||e>=H||X[y*p+E]!=-1||X[e*p+c]!=-1)return 1e7;var b=y*p+E<<2,k=e*p+c<<2,D=Z[b]-Z[k],j=Z[b+1]-Z[k+1],g=Z[b+2]-Z[k+2];
return 1+(D*D+j*j+g*g)};d.Js.nz=function(E,y,c,e,p){return E>=0&&E<c&&y>=0&&y<e&&p[y*c+E]==-1};d.Js.ad8=function(E,y,c,e){var p=24*E,H=y[p],Z=y[p+1],X=e*e,b=0,g=1e9;
while(c[b]!=99)if(y[p+c[b]]<c[b+1])b=c[b+2];else b=c[b+3];var k=c[b+1],D=c[b+2],j=-1;for(var N=k;N<=D;
N++){var b=N,R=b*24,t=y[R],w=y[R+1];if((t-H)*(t-H)+(w-Z)*(w-Z)<X)continue;var B=d.Js.getError(R,p,y,g);
if(B<g){g=B;j=b}}return j};d.Js.getError=function(E,y,c,e){var p=0;for(var H=4;H<24;H+=4){var Z=c[y+H]-c[E+H],X=c[y+H+1]-c[E+H+1],b=c[y+H+2]-c[E+H+2],k=c[y+H+3]-c[E+H+3];
p+=Z*Z+X*X+b*b+k*k;if(p>=e)return p+1}return p};d.Js.kC=function(E,y,c,e,p){var H=16,g=0;if(y-E<=H){c.push(99,E,y);
return}d.Js.n7(E,y,e,p);var Z=-1,X=-1;for(var N=4;N<24;N++){var b=p[2*N+1]-p[2*N];if(b>X){X=b;Z=N}}var k=E+y>>1,D=d.Js.amN(k,E,y,e,Z),j=-1;
for(var N=E;N<=y;N++)if(e[24*N+Z]==D){if(j==-1)j=N;g=N}if(E+8<j&&j-E>y-g)k=j;else if(g+1<y-8)k=g+1;else if(y-E<64){c.push(99,E,y);
return}else k=k;var R=c.length;c.push(Z,D,0,0);c[R+2]=R+4;d.Js.kC(E,k-1,c,e,p);c[R+3]=c.length;d.Js.kC(k,y,c,e,p)};
d.Js.n7=function(E,y,c,e){for(var N=0;N<48;N+=4){e[N]=3e4;e[N+1]=-3e4;e[N+2]=3e4;e[N+3]=-3e4}for(var N=E;
N<=y;N++){var p=N*24;for(var H=0;H<24;H++){var Z=c[p+H],X=e[H<<1],b=e[(H<<1)+1];if(Z<X)e[H<<1]=Z;if(Z>b)e[(H<<1)+1]=Z}}};
d.Js.yP=function(E,y,c){var e=0,N=0;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;
N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;
N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;
N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;
N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;
N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;
N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;
N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;
N++;e=c[E+N];c[E+N]=c[y+N];c[y+N]=e;N++};d.Js.Ul=function(E,y,c,e){var p=c+e>>>1,H=E[24*p+y];while(c<=e){while(E[24*c+y]<H)c++;
while(E[24*e+y]>H)e--;if(c<=e){if(E[24*c+y]!=E[24*e+y])d.Js.yP(c*24,e*24,E);c++;e--}}return c};d.Js.amN=function(E,y,c,e,p){var H=0;
while(y!=c){H=d.Js.Ul(e,p,y,c);if(E<H)c=H-1;else y=H}return e[E*24+p]};d.Js.Jt=function(E,y,c,e){for(var N=0;
N<e;N++)y[c+N]=E[N]};d.Js.adH=function(E,y,c,e,p,H,Z,X,b){var k=(e-3)*p+(c-3),D=k<<2;for(var j=0;j<8;
j++){if(y[k]+y[k+1]+y[k+2]+y[k+3]+y[k+4]+y[k+5]+y[k+6]+y[k+7]!=0||E[D+3]<200||E[D+7]<200||E[D+11]<200||E[D+15]<200||E[D+19]<200||E[D+23]<200||E[D+27]<200||E[D+31]<200)return 1;
var N=j<<3;Z[N+0]=E[D+0];X[N+0]=E[D+1];b[N+0]=E[D+2];Z[N+1]=E[D+4];X[N+1]=E[D+5];b[N+1]=E[D+6];Z[N+2]=E[D+8];
X[N+2]=E[D+9];b[N+2]=E[D+10];Z[N+3]=E[D+12];X[N+3]=E[D+13];b[N+3]=E[D+14];Z[N+4]=E[D+16];X[N+4]=E[D+17];
b[N+4]=E[D+18];Z[N+5]=E[D+20];X[N+5]=E[D+21];b[N+5]=E[D+22];Z[N+6]=E[D+24];X[N+6]=E[D+25];b[N+6]=E[D+26];
Z[N+7]=E[D+28];X[N+7]=E[D+29];b[N+7]=E[D+30];D+=p<<2;k+=p}return 0};d.Js.eO=function(E,y){y[0]=E[32]+E[0];
y[1]=E[33]+E[1];y[2]=E[34]+E[2];y[3]=E[35]+E[3];y[4]=E[36]+E[4];y[5]=E[37]+E[5];y[6]=E[38]+E[6];y[7]=E[39]+E[7];
y[8]=E[40]+E[8];y[9]=E[41]+E[9];y[10]=E[42]+E[10];y[11]=E[43]+E[11];y[12]=E[44]+E[12];y[13]=E[45]+E[13];
y[14]=E[46]+E[14];y[15]=E[47]+E[15];y[16]=E[48]+E[16];y[17]=E[49]+E[17];y[18]=E[50]+E[18];y[19]=E[51]+E[19];
y[20]=E[52]+E[20];y[21]=E[53]+E[21];y[22]=E[54]+E[22];y[23]=E[55]+E[23];y[24]=E[56]+E[24];y[25]=E[57]+E[25];
y[26]=E[58]+E[26];y[27]=E[59]+E[27];y[28]=E[60]+E[28];y[29]=E[61]+E[29];y[30]=E[62]+E[30];y[31]=E[63]+E[31];
y[32]=E[0]-E[32];y[33]=E[1]-E[33];y[34]=E[2]-E[34];y[35]=E[3]-E[35];y[36]=E[4]-E[36];y[37]=E[5]-E[37];
y[38]=E[6]-E[38];y[39]=E[7]-E[39];y[40]=E[8]-E[40];y[41]=E[9]-E[41];y[42]=E[10]-E[42];y[43]=E[11]-E[43];
y[44]=E[12]-E[44];y[45]=E[13]-E[45];y[46]=E[14]-E[46];y[47]=E[15]-E[47];y[48]=E[16]-E[48];y[49]=E[17]-E[49];
y[50]=E[18]-E[50];y[51]=E[19]-E[51];y[52]=E[20]-E[52];y[53]=E[21]-E[53];y[54]=E[22]-E[54];y[55]=E[23]-E[55];
y[56]=E[24]-E[56];y[57]=E[25]-E[57];y[58]=E[26]-E[58];y[59]=E[27]-E[59];y[60]=E[28]-E[60];y[61]=E[29]-E[61];
y[62]=E[30]-E[62];y[63]=E[31]-E[63];E[0]=y[16]+y[0];E[1]=y[17]+y[1];E[2]=y[18]+y[2];E[3]=y[19]+y[3];
E[4]=y[20]+y[4];E[5]=y[21]+y[5];E[6]=y[22]+y[6];E[7]=y[23]+y[7];E[8]=y[24]+y[8];E[9]=y[25]+y[9];E[10]=y[26]+y[10];
E[11]=y[27]+y[11];E[12]=y[28]+y[12];E[13]=y[29]+y[13];E[14]=y[30]+y[14];E[15]=y[31]+y[15];E[16]=y[0]-y[16];
E[17]=y[1]-y[17];E[18]=y[2]-y[18];E[19]=y[3]-y[19];E[20]=y[4]-y[20];E[21]=y[5]-y[21];E[22]=y[6]-y[22];
E[23]=y[7]-y[23];E[24]=y[8]-y[24];E[25]=y[9]-y[25];E[26]=y[10]-y[26];E[27]=y[11]-y[27];E[28]=y[12]-y[28];
E[29]=y[13]-y[29];E[30]=y[14]-y[30];E[31]=y[15]-y[31];y[0]=E[8]+E[0];y[1]=E[9]+E[1];y[2]=E[10]+E[2];
y[3]=E[11]+E[3];y[4]=E[12]+E[4];y[5]=E[13]+E[5];y[6]=E[14]+E[6];y[7]=E[15]+E[7];y[8]=E[0]-E[8];y[9]=E[1]-E[9];
y[10]=E[2]-E[10];y[11]=E[3]-E[11];y[12]=E[4]-E[12];y[13]=E[5]-E[13];y[14]=E[6]-E[14];y[15]=E[7]-E[15];
E[0]=y[4]+y[0];E[1]=y[5]+y[1];E[2]=y[6]+y[2];E[3]=y[7]+y[3];E[4]=y[0]-y[4];E[5]=y[1]-y[5];E[6]=y[2]-y[6];
E[7]=y[3]-y[7];E[8]=y[12]+y[8];E[9]=y[13]+y[9];E[10]=y[14]+y[10];E[11]=y[15]+y[11];E[12]=y[8]-y[12];
E[13]=y[9]-y[13];E[14]=y[10]-y[14];E[15]=y[11]-y[15];y[0]=E[2]+E[0];y[1]=E[3]+E[1];y[2]=E[0]-E[2];y[3]=E[1]-E[3];
y[4]=E[6]+E[4];y[5]=E[7]+E[5];y[6]=E[4]-E[6];y[7]=E[5]-E[7];y[8]=E[10]+E[8];y[9]=E[11]+E[9];y[10]=E[8]-E[10];
y[11]=E[9]-E[11];y[12]=E[14]+E[12];y[13]=E[15]+E[13];y[14]=E[12]-E[14];y[15]=E[13]-E[15];E[0]=y[1]+y[0];
E[1]=y[0]-y[1];E[2]=y[3]+y[2];E[3]=y[2]-y[3];E[4]=y[5]+y[4];E[5]=y[4]-y[5];E[6]=y[7]+y[6];E[7]=y[6]-y[7];
E[8]=y[9]+y[8];E[9]=y[8]-y[9];E[10]=y[11]+y[10];E[11]=y[10]-y[11];E[12]=y[13]+y[12];E[13]=y[12]-y[13];
E[14]=y[15]+y[14];E[15]=y[14]-y[15]};d.Js.a4_=function(){var E="",j1=64,y="v",c="t",e="a",p=5,N,H,Z;
for(N=j1>>1;N>0;N>>=1,p--){for(H=0;H<j1;H++){Z=(H>>p&1)!=0;if(Z){E+=c+"["+H+"] = "+y+"["+(-N+H)+"] - "+y+"["+H+"];  "}else{E+=c+"["+H+"] = "+y+"["+(N+H)+"] + "+y+"["+H+"];  "}}e=y;
y=c;c=e;E+="\n"}console.log(E)};d.Js.arq=function(j1,E,y){var c=E,e=y,p=c,H=0,N,X,b;while(j1>>H!=2)H++;
var Z=H;for(N=j1>>1;N>0;N>>=1,H--){for(X=0;X<j1;X++){b=(X>>H&1)!=0;if(b)e[X]=c[-N+X]-c[X];else e[X]=c[N+X]+c[X]}p=c;
c=e;e=p}if((Z&1)==1)for(N=0;N<j1;N++)y[N]=c[N]};d.yg={};d.yg.cR=function(E,y,c,e,p,H,Z,X,b){var k=Date.now(),D=new Uint32Array(E.buffer),j=new Uint32Array(y.buffer),g=Z/c,R=X/e,t=1/g,w=1/R,B=new Float64Array(2),$=3,o=1/$,T=1/($*$),i=0,r=0,I=c,M=e;
if(p){i=p.x;r=p.y;I=p.m;M=p.e}for(var J=0;J<M;J++)for(var P=0;P<I;P++){var n=i+P,x=r+J,N=x*c+n,L=N<<1,u=N<<2;
d.yg.ads(H,Z,X,(n+.5)*g,(x+.5)*R,B);var C=B[0]*t,h=B[1]*w;if(C==0&&h==0)j[N]=D[N];else{d.r.xO(n+C+.5,x+h+.5,D,c,e,j,N,b)}}};
d.yg.ads=function(E,y,c,e,p,H){e-=.499999;p-=.499999;var Z=~~e,X=~~p,b=e-Z,k=p-X,D=(1-k)*(1-b),j=(1-k)*b,g=k*(1-b),R=k*b,t=Z<y-1?Z+1:Z,w=X<c-1?X+1:X,B=X*y+Z<<1,$=X*y+t<<1,o=w*y+Z<<1,T=w*y+t<<1;
H[0]=D*E[B]+j*E[$]+g*E[o]+R*E[T];H[1]=D*E[B+1]+j*E[$+1]+g*E[o+1]+R*E[T+1]};d.yg.adf=function(E,y,c,e,p){var H=1/E,Z=[-1,1,-E,E],X=e.length;
for(var b=0;b<X;b++){var N=e[b],k=N<<1,D=b<<1,j=~~(N*H),g=N-E*j,R=c[k],t=c[k+1],w=0,B=0;if(g!=0&&g!=E-1){var $=N-1<<1,o=N+1<<1,T=c[$],i=c[o],r=c[$+1],I=c[o+1],M=R-(T+i)*.5,J=t-(r+I)*.5;
w-=M*p;B-=J*p}if(j!=0&&j!=y-1){var $=N-E<<1,o=N+E<<1,T=c[$],i=c[o],r=c[$+1],I=c[o+1],M=R-(T+i)*.5,J=t-(r+I)*.5;
w-=M*p;B-=J*p}c[k]=R+w;c[k+1]=t+B}};d.yg.adU=function(E,y){var c=E+","+y;if(d.yg.aag==c)return d.yg.ayv;
var e=d.yg.ayv=[];d.yg.aag=c;for(var N=0;N<=1e3;N++){var p=N*.001,H=Math.sqrt(p),Z=Math.exp(-4*H),X=.96*(1-H*H),b=y*((1-E)*Z+E*X);
e[N]=b}return e};d.yg.aag="";d.yg.ayv=[];d.yg.aee=function(E,y,c,e,p,H,Z,X,b,k,D,j,g){var R=Math.max(0,Math.floor(p-Z-1)),t=Math.min(y,Math.ceil(p+Z+1)),w=Math.max(0,Math.floor(H-Z-1)),B=Math.min(c,Math.ceil(H+Z+1)),$=2*y,o=Z*Z,T=1/Z,i=0;
if(g&&(e==3||e==6))b=-b;var r=d.yg.adU(X,b);for(var I=w;I<B;I++)for(var M=R;M<t;M++){var N=I*y+M,J=N<<1,P=(p-M)*T,n=(H-I)*T,x=P*P+n*n;
if(x<1){j[i]=N;var L=r[~~(x*1e3)];if(e==1){E[J]=E[J]*(1-L*.05);E[J+1]=E[J+1]*(1-L*.05)}else{var u=0,C=0,W,Q,l,O;
if(e==0){u=k*L;C=D*L}else if(e==2){}else if(e==3){u=L*n;C=-L*P}else if(e==4){u=L*P;C=L*n}else if(e==5){u=-L*P;
C=-L*n}else if(e==6){u=D*L;C=-k*L}var h=E[J],A=E[J+1];if(M==0||M!=y-1&&u<0){W=1+E[J+2]-h;l=E[J+3]-A}else{W=h-E[J-2]+1;
l=A-E[J-1]}if(I==0||I!=c-1&&C<0){Q=E[J+$]-h;O=1+E[J+$+1]-A}else{Q=h-E[J-$];O=A-E[J-$+1]+1}E[J]=-(W*u+Q*C-h);
E[J+1]=-(l*u+O*C-A)}i++}}};d.yg.a6S=function(E){var y=E[0],c=E[0],e=E[1],p=E[1];for(var N=0;N<E.length;
N+=2){var H=E[N],Z=E[N+1];if(H<y)y=H;else if(H>c)c=H;if(Z<e)e=Z;else if(Z>p)p=Z}return[y,e,c,p]};d.ahQ=function(E,y,c,e,p){function H(V,dF,s,aH){return Math.sqrt((V-s)*(V-s)+(dF-aH)*(dF-aH))}function Z(V,dF){return V>=0&&V<y&&dF>=0&&dF<c}function X(V){if(V<0)return 0;
if(V>=y)return y-1;return V}function b(V){if(V<0)return 0;if(V>=c)return c-1;return V}function k(N,V){var dF=V[3]*(1/255),s=e[N]+V[0]*dF;
if(s>255)s=255;e[N]=s;s=e[N+1]+V[1]*dF;if(s>255)s=255;e[N+1]=s;s=e[N+2]+V[2]*dF;if(s>255)s=255;e[N+2]=s}function D(V,dF,s){if(!z(V,dF))return;
if(s[3]<0)s[3]=0;k((dF*y+V)*4,s)}function j(V){var dF=V.slice(0,3);dF[3]=0;return dF}var g=y/800;function R(V){return Math.round(V*g)}function t(){for(var N=0;
N<=300;N++){m[N]=w(N)}}function w(c){var V=.8,dF=.2,s=V*dF,aH=c/60%2-1,dw=s*(1-aH*aH),kO=dF-s,hX;if(c<60){hX=[s+kO,dw,0]}else if(c<120){hX=[dw,s,0]}else if(c<180){hX=[0,s,dw]}else if(c<240){hX=[0,dw,s]}else if(c<300){hX=[dw,0,s]}else{hX=[s,0,dw]}return[(hX[0]+kO)*255,(hX[1]+kO)*255,(hX[2]+kO)*255]}function B(c){return m[~~c]}function $(V){return 1-o(V)}function o(V){return V-~~V}function T(V,dF,s,aH){l(V,dF,s,0,dF+1,1,aH)}function i(V,dF,s,aH,dw,kO){l(V,dF,s,0,aH,1,dw,kO)}function r(V){for(var N=0;
N<e.length;N+=4){k(N,V)}}function I(V,dF,s,aH,dw,kO,hX,jF){M(V,dF,s,aH,dw,1,kO,hX,jF)}function M(V,dF,s,aH,dw,kO,hX,jF,gn){if(kO==null)kO=.5;
if(hX==null)hX=0;if(jF==null)jF=0;if(gn==null)gn=!1;var hM=V.x,ie=V.y,bN=s.slice(0),kd=~~(s[3]*K);aH=aH*K;
if(!gn){dF=O(dF);dw=O(dw);hX=O(hX);jF=O(jF)}var i7=X(hM-dF),dn=X(hM+dF);for(var ew=i7;ew<=dn;ew++){var e4=ew-hM,eE=Math.floor(Math.sqrt(dF*dF-e4*e4)),jc=b(ie-eE),ft=b(ie);
for(var bd=jc;bd<=ft;bd++){var iB=H(ew,bd,hM,ie);if(iB>dF||iB<=dF-dw)break;var cG=(iB-dF+dw)/dw;bN[3]=kd-aH*(kO==1?cG:Math.pow(cG,kO));
k((bd*y+ew)*4,bN)}jc=b(ie+eE);for(var bd=jc;bd>ft;bd--){var iB=H(ew,bd,hM,ie);if(iB>dF||iB<=dF-dw)break;
var cG=(iB-dF+dw)/dw;bN[3]=kd-aH*(kO==1?cG:Math.pow(cG,kO));k((bd*y+ew)*4,bN)}}if(hX>0){l(V,dF+hX,bN,bN[3],hX,1,0,0,!0)}if(jF>0){l(V,dF-dw,a(s),-s[3],jF,1,0,0,!0)}}function J(V,dF,s,aH,dw,kO){l(V,dF,s,s[3],dF+1,1,aH,dw,kO)}function P(V,dF,s,aH,dw){if(dw==null)dw=!1;
var kO=V.x,hX=V.y;aH*=K;if(!dw){dF=O(dF);s=O(s)}var jF=X(kO-dF),gn=X(kO+dF);for(var hM=jF;hM<gn;hM++){var ie=hM-kO,bN=~~Math.sqrt(dF*dF-ie*ie),kd=b(hX-bN),i7=b(hX);
for(var dn=kd;dn<=i7;dn++){var ew=H(hM,dn,kO,hX);if(ew>dF||ew<=dF-s)break;var e4=(dF-ew)/s,eE=B(300*e4);
eE[3]=aH;k((dn*y+hM)*4,eE)}kd=b(hX+bN);for(var dn=kd;dn>i7;dn--){var ew=H(hM,dn,kO,hX);if(ew>dF||ew<=dF-s)break;
var e4=(dF-ew)/s,eE=B(300*e4);eE[3]=aH;k((dn*y+hM)*4,eE)}}}function n(q,V){var dF=q.B6,s=q.Rw,aH=V.slice(0),dw=V[3]*K,kO=Math.abs(s.y-dF.y)>Math.abs(s.x-dF.x);
if(kO){var hX=dF.x;dF.x=dF.y;dF.y=hX;hX=s.x;s.x=s.y;s.y=hX}if(dF.x>s.x){var hX=dF;dF=s;s=hX}var jF=s.x-dF.x,gn=s.y-dF.y,hM=jF==0?1:gn/jF,ie=Math.round(dF.x),bN=dF.y+hM*(ie-dF.x),kd=$(dF.x+.5),i7=ie,dn=~~bN;
if(kO){aH[3]=dw*$(bN)*kd;D(dn,i7,aH);aH[3]=dw*o(bN)*kd;D(dn+1,i7,aH)}else{aH[3]=dw*$(bN)*kd;D(i7,dn,aH);
aH[3]=dw*o(bN)*kd;D(i7,dn+1,aH)}var ew=bN-hM;ie=Math.round(s.x);bN=s.y+hM*(ie-s.x);kd=o(s.x+.5);var e4=ie,eE=~~bN;
if(kO){aH[3]=dw*$(bN)*kd;D(eE,e4,aH);aH[3]=dw*o(bN)*kd;D(eE+1,e4,aH)}else{aH[3]=dw*$(bN)*kd;D(e4,eE,aH);
aH[3]=dw*o(bN)*kd;D(e4,eE+1,aH)}if(kO){for(var jc=i7+1;jc<=e4-1;jc++){aH[3]=dw*$(ew);D(~~ew,jc,aH);aH[3]=dw*o(ew);
D(~~ew+1,jc,aH);ew+=hM}}else{for(var jc=i7+1;jc<=e4-1;jc++){aH[3]=dw*$(ew);D(jc,~~ew,aH);aH[3]=dw*o(ew);
D(jc,~~ew+1,aH);ew+=hM}}}function x(V,dF,s,aH){for(var N=0;N<4;N++){var dw=V.PW(dF+1.3*N,s);n(dw,aH,1)}}function eq(V,dF){this.x=Math.round(V);
this.y=Math.round(dF)}var L=Math.PI/180;eq.prototype.PW=function(V,dF){V=V*L;var s=this.x+dF*Math.cos(V),aH=this.y+dF*Math.sin(V);
return new u(this.x,this.y,s,aH)};eq.prototype.ayG=function(V,dF){V=V*L;var s=this.NM+dF*Math.cos(V),aH=this.CP+dF*Math.sin(V);
return new eq(s,aH)};function u(V,dF,s,aH){this.B6=new eq(V,dF);this.Rw=new eq(s,aH)}u.prototype.pE=function(V){var dF=V*this.B6.x+(1-V)*this.Rw.x,s=V*this.B6.y+(1-V)*this.Rw.y;
return new eq(dF,s)};var C=I,h=J,A=T,W=i,Q=P,l=M,O=R,z=Z,a=j,m=[];t();for(var N=0;N<E.length;N++){e[N]=E[N]}var q=new u(y*p[2],c*p[3],y/2,c/2),K=p[1],U=[];
U[0]=function f(){var V=[80,40,15,60],s=0,aH=0;A(q.pE(1.4),260,V,10);A(q.pE(1),100,[240,50,50,30],30);
h(q.pE(1),60,[255,40,0,40]);var dF=[255,255,255,255];l(q.pE(1),70,dF,dF[3],58,.5);A(q.pE(1),12,dF);dF[3]=40;
C(q.pE(1),150,dF,dF[3],150);for(var N=0;N<40;N++){s+=Math.random()*25;aH=Math.random()*O(300)+O(100);
var dw=q.pE(1).PW(s,aH);n(q.pE(1).PW(s,aH),[110,110,110,30])}h(q.pE(1),130,[255,255,255,8]);var kO=[170,30,23,70];
W(q.pE(1),70,kO,1,3,3);var hX=[60,60,130,40];A(q.pE(.47),44,hX,5);A(q.pE(.43),22,hX,3);hX[3]=16;A(q.pE(.53),15,hX,2);
var jF=[138,94,42,100];A(q.pE(.2),16,jF,2);var gn=[130,255,170,180];h(q.pE(0),4,gn);h(q.pE(-.25),5,gn);
jF=[150,90,0,50];C(q.pE(-.45),55,a(jF),-jF[3],40,2);A(q.pE(-.42),35,jF,2);A(q.pE(-.5),15,jF,2);Q(q.pE(-1.28),145,11,70);
var hM=B(0);hM[3]=50;C(q.pE(-1.28),149,hM,hM[3],4);hM=B(300);hM[3]=50;C(q.pE(-1.28),155-1,a(hM),-hM[3],3);
var ie=[130,130,10,50];W(q.pE(-1),73,ie,3,2);var bN=[40,130,70,40];C(q.pE(-1),70,a(bN),-bN[3],35);bN=[40,170,60,50];
A(q.pE(-.7),25,bN,4);var bN=[70,110,50,60];C(q.pE(1.3),30,a(bN),-bN[3],11,3);hX=[0,50,210,80];h(q.pE(-.72),20,hX)};
U[1]=function Y(){h(q.pE(1),150,[240,70,70,60]);A(q.pE(1),100,[200,60,60,40],30);var V=[255,255,255,255],dF=0,s=0;
l(q.pE(1),75,V,V[3],63);A(q.pE(1),12,V);h(q.pE(1),270,[200,200,200,20],10);for(var N=0;N<10;N++){dF+=10+Math.random()*40;
s=Math.random()*O(250)+O(80);var aH=q.pE(1).PW(dF,s);n(aH,[110,110,110,35])}dF=5;s=100;for(var N=0;N<12;
N++){dF+=30;x(q.pE(1),dF,s,[90,90,90,40])}var dw=[150,40,23,100];W(q.pE(1),70,dw,1,3,3);var kO=[30,100,60,40];
h(q.pE(-.9),180,[255,255,255,20]);A(q.pE(-.9),140,kO,15);var hX=[170,80,25,15];W(q.pE(-.9),120,hX,1,4,4);
var jF=[110,240,190,200];h(q.pE(-.6),3,jF);jF[3]=100;h(q.pE(-.6),7,jF);var gn=[230,120,40,85];h(q.pE(-.73),9,gn);
var hM=[60,60,190,50];A(q.pE(.3),28,hM,6);hM[3]=25;A(q.pE(.34),20,hM,3)};U[2]=function G(){var V=[255,255,255,255],s=0,aH=0;
A(q.pE(1),13,V);l(q.pE(1),150,V,V[3],137);var dF=[120,80,35,20];A(q.pE(1.4),260,dF,10);for(var N=0;N<40;
N++){s+=5+Math.random()*30;aH=Math.random()*O(300);n(q.pE(1).PW(s,aH),[110,110,110,20])}var dw=[10,30,255,30];
A(q.pE(1),70,dw,50);var kO=[15,90,170,15];A(q.pE(1.5),60,kO);var hX=[220,220,20,50];A(q.pE(-1.15),8,hX,2);
var V=[255,255,255,40];h(q.pE(-1.18),6,V);h(q.pE(-1.18),4,V);hX=[110,110,10,8];C(q.pE(-1.2),32,a(hX),-hX[3],20,3);
var jF=[5,0,16,255];for(var N=0;N<4;N++){A(q.pE(-1.36),10,jF,3)}var gn=[90,200,150,20],hM=gn.slice(0);
hM[3]*=2;A(q.pE(-1.32),7,hM,3);A(q.pE(-1.36),7,hM,3);A(q.pE(-1.4),7,hM,3);var V=[230,230,230,100];h(q.pE(-1.36),2,V);
V[3]=3;A(q.pE(-.55),10,V);hX=[120,100,10,18];A(q.pE(-.55),160,hX,8);A(q.pE(-.55),80,hX,4);gn[3]=3;hM[3]=6;
C(q.pE(-.49),13,a(hM),-hM[3],13,2);C(q.pE(-.55),13,a(hM),-hM[3],13,2);gn[3]=20;A(q.pE(.15),25,gn,3);
hX[3]=100;h(q.pE(-.52),3,hX);hX=[200,200,50,40];A(q.pE(.27),1,hX,4);var ie=[150,40,23,30];C(q.pE(1),80,a(ie),-ie[3],2,1)};
return U[p[0]]()};d.dX={};d.dX.El=function(E){var y=E.length,j1=E[0].length,c=new Array(j1);for(var N=0;
N<j1;N++)c[N]=new Array(y);for(var N=0;N<j1;N++)for(var e=0;e<y;e++)c[N][e]=E[e][N];return c};d.dX.DZ=function(E,y){var c=E.length,j1=E[0].length,e=new Array(c);
for(var N=0;N<c;N++)e[N]=new Array(j1);for(var N=0;N<c;N++)for(var p=0;p<j1;p++)e[N][p]=E[N][p]-y[N][p];
return e};d.dX.add=function(E,y){var c=E.length,j1=E[0].length,e=new Array(c);for(var N=0;N<c;N++)e[N]=new Array(j1);
for(var N=0;N<c;N++)for(var p=0;p<j1;p++)e[N][p]=E[N][p]+y[N][p];return e};d.dX.multiply=function(E,y){var c=E.length,e=E[0].length,j1=y[0].length;
if(e!=y.length)throw"e";var p=new Array(c);for(var N=0;N<c;N++)p[N]=new Array(j1);if((e&1)!=0)for(var N=0;
N<c;N++){var H=E[N],Z=p[N];for(var X=0;X<j1;X++){var b=0;for(var k=0;k<e;k++)b+=H[k]*y[k][X];Z[X]=b}}else for(var N=0;
N<c;N++){var H=E[N],Z=p[N];for(var X=0;X<j1;X++){var b=0;for(var k=0;k<e;k+=2)b+=H[k]*y[k][X]+H[k+1]*y[k+1][X];
Z[X]=b}}return p};d.dX.I6=function(E,y){var c=E.length,j1=E[0].length,e=new Array(c);for(var N=0;N<c;
N++){var p=0;for(var H=0;H<j1;H++)p+=E[N][H]*y[H];e[N]=p}return e};d.dX.hl=function(E,y){var c=[];for(var N=0;
N<E;N++){c.push([]);for(var e=0;e<y;e++)c[N].push(0)}return c};d.dX.aAa=function(E){for(var N=0;N<E.length;
N++)console.log(JSON.stringify(E[N]))};d.dX.a7Q=function(E){var y=[];for(var N=0;N<E.length;N++)y.push(E[N].join(","));
return"["+y.join(";")+"]"};d.dX.Kx=function(E,y){var c=E.length;for(var e=0;e<c;e++){var p=0,H=Number.NEGATIVE_INFINITY;
for(var N=e;N<c;N++)if(Math.abs(E[N][e])>H){p=N;H=Math.abs(E[N][e])}d.dX.a7g(E,e,p);for(var N=e+1;N<c;
N++){if(E[e][e]==0)return 1;var Z=E[N][e]/E[e][e];for(var X=e;X<c+1;X++)E[N][X]-=E[e][X]*Z}}for(var N=c-1;
N>=0;N--){if(E[N][N]==0)return 1;var b=E[N][c]/E[N][N];y[N]=b;for(var X=N-1;X>=0;X--){E[X][c]-=E[X][N]*b;
E[X][N]=0}}return 0};d.dX.a7g=function(E,y,c){var e=E[y];E[y]=E[c];E[c]=e};d.dX.alJ=function(E){var y=E.length,c=d.dX.hl(y,y);
for(var N=0;N<y;N++)c[N][N]=E[N];return c};d.dX.ai2=function(E){var y=E.length,c=E[0].length,e=new Array(y);
for(var N=0;N<y;N++){e[N]=0;for(var p=0;p<c;p++)e[N]+=E[N][p];e[N]/=c}return e};d.dX.o$=function(E){var y=0;
for(var N=0;N<E.length;N++)y+=E[N]*E[N];return Math.sqrt(y)};d.Av={};d.Av.IR=function(E){var y=~~(E+.5);
return y<0?0:y>255?255:y};d.Av.transform=function(E,y,c){var e=d.Av.IR,p=E.Z.length;for(var N=0;N<p;
N++){var H=E.Z[N],Z=E.D[N],X=E.J[N];y.Z[N]=e(c[0]*H+c[1]*Z+c[2]*X+c[3]*255);y.D[N]=e(c[4]*H+c[5]*Z+c[6]*X+c[7]*255);
y.J[N]=e(c[8]*H+c[9]*Z+c[10]*X+c[11]*255)}};d.Av.ajc=function(E,y,c){var e=d.Av.IR,p=E.length;for(var N=0;
N<p;N+=4){var H=E[N],Z=E[N+1],X=E[N+2];y[N]=e(c[0]*H+c[1]*Z+c[2]*X+c[3]*255);y[N+1]=e(c[4]*H+c[5]*Z+c[6]*X+c[7]*255);
y[N+2]=e(c[8]*H+c[9]*Z+c[10]*X+c[11]*255)}};d.Av.arj=function(E){var y=E[0]+E[1]+E[2],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(y==1){var e=E.indexOf(1);c[e]=c[e+4]=c[e+8]=1}else{c[0]=E[0];c[5]=E[1];c[10]=E[2]}return c};d.Av.nP=function(E,y,c){return[1,0,0,E,0,1,0,y,0,0,1,c,0,0,0,1]};
d.Av.X1=function(E,y,c){return[E,0,0,0,0,y,0,0,0,0,c,0,0,0,0,1]};d.Av.aoU=function(E){return[E[0],E[1],E[2],E[4],E[5],E[6],E[8],E[9],E[10]]};
d.Av.pY=function(E){return[E[0],E[1],E[2],0,E[3],E[4],E[5],0,E[6],E[7],E[8],0,0,0,0,1]};d.Av.WV=function(E,y){return[E[0]*y[0]+E[1]*y[1]+E[2]*y[2]+E[3]*y[3],E[4]*y[0]+E[5]*y[1]+E[6]*y[2]+E[7]*y[3],E[8]*y[0]+E[9]*y[1]+E[10]*y[2]+E[11]*y[3],E[12]*y[0]+E[13]*y[1]+E[14]*y[2]+E[15]*y[3]]};
d.Av.El=function(E){var y=[];y[0]=E[0];y[1]=E[4];y[2]=E[8];y[3]=E[12];y[4]=E[1];y[5]=E[5];y[6]=E[9];
y[7]=E[13];y[8]=E[2];y[9]=E[6];y[10]=E[10];y[11]=E[14];y[12]=E[3];y[13]=E[7];y[14]=E[11];y[15]=E[15];
return y};d.Av.add=function(E,y){var c=E.slice(0);for(var N=0;N<16;N++)c[N]+=y[N];return c};d.Av.multiply=function(E,y){var c=[];
c[0]=E[0]*y[0]+E[1]*y[4]+E[2]*y[8]+E[3]*y[12];c[1]=E[0]*y[1]+E[1]*y[5]+E[2]*y[9]+E[3]*y[13];c[2]=E[0]*y[2]+E[1]*y[6]+E[2]*y[10]+E[3]*y[14];
c[3]=E[0]*y[3]+E[1]*y[7]+E[2]*y[11]+E[3]*y[15];c[4]=E[4]*y[0]+E[5]*y[4]+E[6]*y[8]+E[7]*y[12];c[5]=E[4]*y[1]+E[5]*y[5]+E[6]*y[9]+E[7]*y[13];
c[6]=E[4]*y[2]+E[5]*y[6]+E[6]*y[10]+E[7]*y[14];c[7]=E[4]*y[3]+E[5]*y[7]+E[6]*y[11]+E[7]*y[15];c[8]=E[8]*y[0]+E[9]*y[4]+E[10]*y[8]+E[11]*y[12];
c[9]=E[8]*y[1]+E[9]*y[5]+E[10]*y[9]+E[11]*y[13];c[10]=E[8]*y[2]+E[9]*y[6]+E[10]*y[10]+E[11]*y[14];c[11]=E[8]*y[3]+E[9]*y[7]+E[10]*y[11]+E[11]*y[15];
c[12]=E[12]*y[0]+E[13]*y[4]+E[14]*y[8]+E[15]*y[12];c[13]=E[12]*y[1]+E[13]*y[5]+E[14]*y[9]+E[15]*y[13];
c[14]=E[12]*y[2]+E[13]*y[6]+E[14]*y[10]+E[15]*y[14];c[15]=E[12]*y[3]+E[13]*y[7]+E[14]*y[11]+E[15]*y[15];
return c};d.Av.Ub=function(E){var y=[];y[0]=E[5]*E[10]*E[15]-E[5]*E[14]*E[11]-E[6]*E[9]*E[15]+E[6]*E[13]*E[11]+E[7]*E[9]*E[14]-E[7]*E[13]*E[10];
y[1]=-E[1]*E[10]*E[15]+E[1]*E[14]*E[11]+E[2]*E[9]*E[15]-E[2]*E[13]*E[11]-E[3]*E[9]*E[14]+E[3]*E[13]*E[10];
y[2]=E[1]*E[6]*E[15]-E[1]*E[14]*E[7]-E[2]*E[5]*E[15]+E[2]*E[13]*E[7]+E[3]*E[5]*E[14]-E[3]*E[13]*E[6];
y[3]=-E[1]*E[6]*E[11]+E[1]*E[10]*E[7]+E[2]*E[5]*E[11]-E[2]*E[9]*E[7]-E[3]*E[5]*E[10]+E[3]*E[9]*E[6];
y[4]=-E[4]*E[10]*E[15]+E[4]*E[14]*E[11]+E[6]*E[8]*E[15]-E[6]*E[12]*E[11]-E[7]*E[8]*E[14]+E[7]*E[12]*E[10];
y[5]=E[0]*E[10]*E[15]-E[0]*E[14]*E[11]-E[2]*E[8]*E[15]+E[2]*E[12]*E[11]+E[3]*E[8]*E[14]-E[3]*E[12]*E[10];
y[6]=-E[0]*E[6]*E[15]+E[0]*E[14]*E[7]+E[2]*E[4]*E[15]-E[2]*E[12]*E[7]-E[3]*E[4]*E[14]+E[3]*E[12]*E[6];
y[7]=E[0]*E[6]*E[11]-E[0]*E[10]*E[7]-E[2]*E[4]*E[11]+E[2]*E[8]*E[7]+E[3]*E[4]*E[10]-E[3]*E[8]*E[6];y[8]=E[4]*E[9]*E[15]-E[4]*E[13]*E[11]-E[5]*E[8]*E[15]+E[5]*E[12]*E[11]+E[7]*E[8]*E[13]-E[7]*E[12]*E[9];
y[9]=-E[0]*E[9]*E[15]+E[0]*E[13]*E[11]+E[1]*E[8]*E[15]-E[1]*E[12]*E[11]-E[3]*E[8]*E[13]+E[3]*E[12]*E[9];
y[10]=E[0]*E[5]*E[15]-E[0]*E[13]*E[7]-E[1]*E[4]*E[15]+E[1]*E[12]*E[7]+E[3]*E[4]*E[13]-E[3]*E[12]*E[5];
y[11]=-E[0]*E[5]*E[11]+E[0]*E[9]*E[7]+E[1]*E[4]*E[11]-E[1]*E[8]*E[7]-E[3]*E[4]*E[9]+E[3]*E[8]*E[5];y[12]=-E[4]*E[9]*E[14]+E[4]*E[13]*E[10]+E[5]*E[8]*E[14]-E[5]*E[12]*E[10]-E[6]*E[8]*E[13]+E[6]*E[12]*E[9];
y[13]=E[0]*E[9]*E[14]-E[0]*E[13]*E[10]-E[1]*E[8]*E[14]+E[1]*E[12]*E[10]+E[2]*E[8]*E[13]-E[2]*E[12]*E[9];
y[14]=-E[0]*E[5]*E[14]+E[0]*E[13]*E[6]+E[1]*E[4]*E[14]-E[1]*E[12]*E[6]-E[2]*E[4]*E[13]+E[2]*E[12]*E[5];
y[15]=E[0]*E[5]*E[10]-E[0]*E[9]*E[6]-E[1]*E[4]*E[10]+E[1]*E[8]*E[6]+E[2]*E[4]*E[9]-E[2]*E[8]*E[5];var c=E[0]*y[0]+E[1]*y[4]+E[2]*y[8]+E[3]*y[12];
for(var N=0;N<16;N++)y[N]/=c;return y};d.Av.a9O=function(E){var y=[],c=E[5]*E[10]*E[15]-E[5]*E[14]*E[11]-E[6]*E[9]*E[15]+E[6]*E[13]*E[11]+E[7]*E[9]*E[14]-E[7]*E[13]*E[10],e=-E[4]*E[10]*E[15]+E[4]*E[14]*E[11]+E[6]*E[8]*E[15]-E[6]*E[12]*E[11]-E[7]*E[8]*E[14]+E[7]*E[12]*E[10],p=E[4]*E[9]*E[15]-E[4]*E[13]*E[11]-E[5]*E[8]*E[15]+E[5]*E[12]*E[11]+E[7]*E[8]*E[13]-E[7]*E[12]*E[9],H=-E[4]*E[9]*E[14]+E[4]*E[13]*E[10]+E[5]*E[8]*E[14]-E[5]*E[12]*E[10]-E[6]*E[8]*E[13]+E[6]*E[12]*E[9];
return E[0]*c+E[1]*e+E[2]*p+E[3]*H};d.Av.V3=function(E,y,c,e){var p=Math.sin(e),H=Math.cos(e),Z=1/Math.sqrt(E*E+y*y+c*c);
E*=Z;y*=Z;c*=Z;return d.Av.pY([E*E*(1-H)+H,E*y*(1-H)-c*p,E*c*(1-H)+y*p,E*y*(1-H)+c*p,y*y*(1-H)+H,y*c*(1-H)-E*p,E*c*(1-H)-y*p,y*c*(1-H)+E*p,c*c*(1-H)+H])};
d.Av.Er=d.Av.pY([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
d.Av.a6q=d.Av.pY([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
d.Av.azC=d.Av.Ub(d.Av.Er);d.ad={};d.ad.mi=new Uint32Array(1);d.ad.ad7=function(E,y,c,e,p,H){var Z=new Uint32Array(E),X=0,b=d.ad.mi;
if(b.length<y*4)d.ad.mi=b=new Uint32Array(y*4);var k=new Float64Array(b.buffer);for(var N=0;N<y;N+=2){var D=p[N],j=p[N+1],g=H[N],R=H[N+1];
b[X]=j;k[X+2>>1]=g;b[X+1]=Z[D];Z[D]=X+1;X+=4;b[X]=D;k[X+2>>1]=R;b[X+1]=Z[j];Z[j]=X+1;X+=4}return{gE:b,a3P:k,agj:Z}};
d.ad.Kx=function(E,y,c,e,p,H,Z){var X=1,b=d.ad.ad7(E,y,c,e,p,H),k=b.gE,D=b.a3P,j=b.agj,g=new Uint32Array(E),R=new d.ad.Wl(E),w=1,i=0;
R.push(c);R.push(e);var t=new d.ad.Wl(E),B=new Uint8Array(E),$=new Uint32Array(E);B[c]=1;B[e]=2;var o=new Uint32Array(E),T=new Uint32Array(E);
T[c]=T[e]=0;o[c]=o[e]=1;while(!0){var r=-1,L=0,A=1e30;while(!R.iG()&&r==-1){var I=R.top(),M=B[I],J=j[I]-1;
while(J!=-1){var P=k[J],n=B[P],x=J^M-1<<2;if(D[x+2>>1]!=0){if(n==0){d.ad.kK(I,J,P,B,$,T,o);R.push(P)}else if(n==M&&o[P]<=o[I]&&T[P]>T[I])d.ad.kK(I,J,P,B,$,T,o);
else if(n!=M){r=x}}J=k[J+1]-1}if(r!=-1)break;R.pop()}if(r==-1){break}w++;var u=r;while(u!=-1){g[L]=u;
L++;u=$[k[u^4]]-1}var C=L>>1;for(var N=0;N<C;N++){var h=g[N];g[N]=g[L-N-1];g[L-N-1]=h}u=$[k[r]]-1;while(u!=-1){g[L]=u^4;
L++;u=$[k[u^4]]-1}for(var N=0;N<L;N++)A=Math.min(A,D[g[N]+2>>1]);i+=A;if(i>=Z)return{Ew:null,vO:i};for(var N=0;
N<L;N++){var W=g[N],Q=W^4,I=k[Q],P=k[W];D[W+2>>1]-=A;D[Q+2>>1]+=A;if(D[W+2>>1]==0&&B[I]==B[P]){if(B[I]==1){$[P]=0;
t.push(P)}if(B[I]==2){$[I]=0;t.push(I)}}}while(!t.iG()){var I=t.pop(),M=B[I],J=j[I]-1,l=M==1?4:0,O=0,z=0,a=1e9;
while(J!=-1){var P=k[J],m=J^4,x=J^l;if(B[P]==M&&D[x+2>>1]>0&&d.ad.avo(P,c,e,$,k,w,o,T)+1<a){O=P;z=m;
a=T[P]+1}J=k[J+1]-1}if(z!=0){d.ad.kK(O,z,I,B,$,T,o);continue}J=j[I]-1;while(J!=-1){var P=k[J],x=J^l;
if(B[P]==M){if(D[x+2>>1]>0){R.push(P)}if($[P]==J+1){$[P]=0;t.push(P)}}J=k[J+1]-1}B[I]=0;R.remove(I)}}var q=[];
for(var N=0;N<y;N+=2){var I=p[N],P=p[N+1];if(B[I]==1&&B[P]!=1){q.push(N>>1)}if(B[P]==1&&B[I]!=1){q.push(y+N>>1)}}return{Ew:q,vO:i}};
d.ad.kK=function(E,y,c,e,p,H,Z){e[c]=e[E];p[c]=y+1;H[c]=H[E]+1;Z[c]=Z[E]};d.ad.avo=function(E,y,c,e,p,H,Z,X){var b=E,k=e[E]-1,D=0;
while(k!=-1&&Z[E]!=H){E=p[k^4];k=e[E]-1;D++}if(k==-1&&E!=y&&E!=c)return 1e9;var j=X[E]+D;D=0;k=e[b]-1;
while(b!=E){X[b]=j-D;D++;Z[b]=H;b=p[k^4];k=e[b]-1}return j};d.ad.aml=function(E,y,c,e,p,H){var Z=d.ad.ad7(E,y,c,e,p,H),X=Z.gE,b=Z.a3P,k=Z.agj,D=0,j=0,g=new Uint32Array(E*2),R=new d.ad.a1c(E),t=0;
while(!0){R.reset();R.push(c);for(var N=0;N<E;N++)g[N<<1]=0;while(!R.iG()){var w=R.pop(),B=k[w]-1;while(B!=-1){t=X[B];
if(g[t<<1]==0&&b[B+2>>1]>0&&t!=c){g[t<<1]=w+1;g[(t<<1)+1]=B;R.push(t)}B=X[B+1]-1}if(g[e<<1]!=0){break}}if(g[e<<1]==0){break}var $=1e30;
t=e;while(!0){var o=g[t<<1]-1;if(o==-1)break;var T=g[(t<<1)+1];$=Math.min($,b[T+2>>1]);t=o}t=e;while(!0){var o=g[t<<1]-1;
if(o==-1)break;var T=g[(t<<1)+1],i=T^4;b[T+2>>1]-=$;b[i+2>>1]+=$;t=o}D+=$}var r=[];for(var N=0;N<y;N+=2){var o=p[N],t=p[N+1];
if((g[o<<1]!=0||o==c)&&g[t<<1]==0&&t!=c){r.push(N>>1)}if((g[t<<1]!=0||t==c)&&g[o<<1]==0&&o!=c){r.push(y+N>>1)}}return{Ew:r,vO:D}};
d.ad.a1c=function(E){E|=E>>1;E|=E>>2;E|=E>>4;E|=E>>8;E|=E>>16;this.mz=new Uint32Array(E+1);this.Td=E;
this.dn=0;this.py=0};d.ad.a1c.prototype={push:function(E){var y=this.py;this.mz[y]=E;this.py=y+1&this.Td},pop:function(){var E=this.dn,y=this.mz[E];
this.dn=E+1&this.Td;return y},iG:function(){return this.dn==this.py},reset:function(){this.dn=0;this.py=0}};
d.ad.Wl=function(E){E|=E>>1;E|=E>>2;E|=E>>4;E|=E>>8;E|=E>>16;this.mz=new Uint32Array(E+1);this.Lw=new Uint32Array(E+1);
this.Td=E;this.dn=0;this.py=0};d.ad.Wl.prototype={top:function(){return this.mz[this.dn]},a4u:function(){return this.mz[this.py]},push:function(E){if(this.Lw[E]!=0)return;
this.Lw[E]=this.py+1;var y=this.py;this.mz[y]=E;this.py=y+1&this.Td},pop:function(){var E=this.dn,y=this.mz[E];
this.Lw[y]=0;this.dn=E+1&this.Td;return y},iG:function(){return this.dn==this.py},remove:function(E){var y=this.Lw[E]-1;
if(y==-1)return;this.Lw[E]=0;if(y==this.dn){this.pop();return}var c=this.pop();this.mz[y]=c;this.Lw[c]=y+1},ir:function(N){return N+this.Td+1&this.Td}};
d.ad.aC2=function(E,y,c){var e=d.ad.Ul(E,y,c);if(y<e-1)d.ad.aC2(E,y,e-1);if(e<c)d.ad.aC2(E,e,c)};d.ad.Ul=function(E,y,c){var e=E[y+c>>>1];
while(y<=c){while(E[y]<e)y++;while(E[c]>e)c--;if(y<=c){d.ad.yP(E,y,c);y++;c--}}return y};d.ad.yP=function(E,y,c){var e=E[y];
E[y]=E[c];E[c]=e};d.ZX=function(){var E,y;function c(Z,X,j1){var b=j1-1,k=X+j1;E[j1-2]=Z[k-2];y[0]=Z[k-1];
var D=Math.max;for(var N=1;N<b;N++){E[j1-2-N]=D(E[j1-1-N],Z[k-2-N]);y[N]=D(y[N-1],Z[k-1+N])}for(var N=0;
N<b;N++)Z[X+N]=D(E[N],y[N])}function e(Z,X,j1){var b=j1-1,k=Math.ceil(X/b)*b;for(var D=0;D<k;D+=b)c(Z,D,j1)}function p(Z,X,b,k,j1,D){X.set(Z);
if(j1==1)return;E=d.R(j1-1);y=d.R(j1-1);var j=j1>>>1,g=d.R(Math.ceil(Math.max(b,k)/(j1-1))*(j1-1)+(j1-2)),R=new Uint8Array(g.buffer,0,b);
if(!D)d.Ub(X);for(var t=0;t<k;t++){g.fill(0);g.set(new Uint8Array(X.buffer,t*b,b),j);e(g,b,j1);X.set(R,t*b)}for(var w=0;
w<b;w++){g.fill(0);for(var t=0;t<k;t++)g[t+j]=X[t*b+w];e(g,k,j1);for(var t=0;t<k;t++)X[t*b+w]=g[t]}if(!D)d.Ub(X)}function H(Z,X,b,k,j1,D){var j=d.R(b*k);
for(var g=0;g<4;g++){d.LI(Z,j,g);if(g==3)d.Ub(j);p(j,j,b,k,j1,D);if(g==3)d.Ub(j);d.Og(j,X,g)}}return{YR:p,aCF:H}}();
d.gM={};d.gM.awu=function(E){for(var N=0;N<E.length;N++)d.gM.z4(E,N)};d.gM.z4=function(E,N){E[N].v.keyShapeInvalidated={t:"bool",v:!0}};
d.gM.ab5=function(E){for(var N=0;N<E.length;N++)E[N].v.keyOriginIndex.v=N};d.gM.Lt=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
d.gM.cp=function(E){E=E.v;var y={Rctn:2,Ln:4,Elps:5},c=y[E.classID],e=E.topLeft?d.gM.a8x(E):null,p=null,H=0,Z=[!1,!1,0,0,0];
if(c==4){var X=E.Strt.v,b=E.End.v;p=[X.Hrzn.v.val,X.Vrtc.v.val,b.Hrzn.v.val,b.Vrtc.v.val];H=E.Wdth.v.val;
for(var N=0;N<2;N++){var k=E[N==0?"StrA":"EndA"];if(k==null)continue;k=k.v;Z[N]=k.On.v;Z[2]=k.Wdth.v;
Z[3]=k.Lngt.v;Z[4]=k.Cncv.v.val}}if(c==null)return null;return d.gM.gW(c,c==4?null:d.gM.sq(E),e,p,H,Z)};
d.gM.wD=function(E,y,c,e,p,H,Z){var X={classID:E,unitValueQuadVersion:{t:"long",v:1}};if(y)d.gM.X0(X,["Left","Top","Rght","Btom"],y);
if(c)d.gM.X0(X,["topLeft","topRight","bottomRight","bottomLeft"],c);if(E=="Ln"){X.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:e[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:e[1]}}}},X.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:e[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:e[3]}}}},X.Wdth={t:"UntF",v:{type:"#Pxl",val:p}};
for(var N=0;N<2;N++){var b=N==0?"StrA":"EndA";X[b]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:Z[N]},Wdth:{t:"doub",v:Z[2]},Lngt:{t:"doub",v:Z[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:Z[4]}}}}}}if(H)X.Nm={t:"TEXT",v:H};
return{t:"Objc",v:X}};d.gM.ahz=function(E,y){var c=d.gM.tC(E),e=E[2]-E[0],p=E[3]-E[1],H=Math.sqrt(e*e+p*p),Z=[0,0,H,0,H,y,0,y],X=new jr;
X.rotate(-c);X.translate(E[0],E[1]);d.A.u(Z,X,Z);return Z};d.gM.gW=function(E,y,c,e,p,H){var Z=d.gM.Lt(),X=Z.v,b;
delete X.keyShapeInvalidated;X.keyOriginType={t:"long",v:E};X.keyOriginResolution={t:"doub",v:75};if(E==4){X.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:e[0]},Vrtc:{t:"doub",v:e[1]}}};
X.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:e[2]},Vrtc:{t:"doub",v:e[3]}}};b=d.gM.ahz(e,p);
var k=d.A.n7(b);y=[k.x,k.y,k.x+k.m,k.y+k.e];X.keyOriginLineWeight={t:"doub",v:p};if(H)d.gM.aCK(X,H)}else b=[y[0],y[1],y[2],y[1],y[2],y[3],y[0],y[3]];
X.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};d.gM.KX(X,"keyOriginBoxCorners",b);var D={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
X.keyOriginShapeBBox={t:"Objc",v:D};d.gM.a6d(X,y);if(c!=null){var j={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
X.keyOriginRRectRadii={t:"Objc",v:j};d.gM.U7(X,c)}return Z};d.gM.u=function(E,y,c,e){var p=d.r.ayz(y),H=d.r.a3O(y),Z=d.r.IF(y),X=Z.U*Z.sN-Z.J*Z.E7;
for(var N=0;N<E.length;N++){var b=E[N].v;if(!d.gM.yt(b))continue;if(c.length!=0&&c.indexOf(N)==-1)continue;
var k=b.keyOriginType.v,D=y;if(X<0&&k==2){var j=d.gM._T(b),g=0;g=j[0];j[0]=j[1];j[1]=g;g=j[2];j[2]=j[3];
j[3]=g;d.gM.U7(b,j);var R=d.gM.tU(b,"keyOriginBoxCorners"),t=d.A.n7(R),w=t.x+t.m/2,B=new jr;B.translate(-w,0);
B.scale(-1,1);B.translate(w,0);D=d.r.wl(D,d.r.$m(B))}var $=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var o=0;o<$.length;o++){var R=d.gM.tU(b,$[o]);if(R==null)continue;d.r.u(D,R);d.gM.KX(b,$[o],R);var t=d.A.n7(R);
d.gM.a6d(b,[t.x,t.y,t.x+t.m,t.y+t.e]);var T=new jr;T.rotate(-d.gM.tC(R));var i={classID:"Trnf"};b.Trnf={t:"Objc",v:i};
var r="xx xy yx yy tx ty".split(" "),I=[T.U,T.J,T.E7,T.sN,T.Kc,T.Dm];for(var M=0;M<6;M++)i[r[M]]={t:"doub",v:I[M]}}if(k==2&&e){var j=d.gM._T(b);
for(var o=0;o<4;o++)j[o]=Math.round(j[o]*y[0]);d.gM.U7(b,j)}var R=d.gM.tU(b,"keyOriginBoxCorners"),J=R[2]-R[0],P=R[3]-R[1],n=Math.sqrt(J*J+P*P);
J/=n;P/=n;var x=R[6]-R[0],L=R[7]-R[1],u=Math.sqrt(x*x+L*L);x/=u;L/=u;if(k==4){b.keyOriginLineWeight.v=u;
var C=d.gM.Go(b);d.r.u(y,C);d.gM.aou(b,C)}var h=J*x+P*L;if(Math.abs(h)>.001){d.gM.z4(E,N)}}};d.gM.yt=function(E){var y=E.keyShapeInvalidated,c=E.keyOriginType;
return(y==null||!y.v)&&c!=null&&c.v!=9};d.gM.ase=function(E){var y=E.keyOriginType.v,c=d.gM.B4(E),e=c[0],p=c[1],H=c[2],Z=c[3],X=new jr,b=E.keyOriginPolyCornerRadius,R;
b=b?b.v:0;var k=d.gM.tU(E,y==7||y==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),D=d.gM.a9S(k),j=D[2],g=D[3];
e=-j/2;H=j/2;p=-g/2;Z=g/2;X.rotate(-d.gM.tC(k));X.Kc=D[0];X.Dm=D[1];if(y==1||y==2){var t=y==1?0:d.gM._T(E);
R=d.o.M1.Rect(e,p,H-e,Z-p,t)}else if(y==4){var w=d.gM.Go(E),B=d.gM.a6P(E);X=new jr;if(B==null)R=d.o.M1.GA(w[0],w[1],w[2],w[3],E.keyOriginLineWeight.v);
else R=d.o.M1.iW(w[0],w[1],w[2],w[3],E.keyOriginLineWeight.v,B)}else if(y==5){R=d.o.M1.fM(e,p,H-e,Z-p)}else if(y==7||y==8){var $=y==7?3:E.keyOriginPolySides.v;
R=d.o.M1.G7(0,0,100,Math.PI/$-Math.PI/2,$,b,H,Z)}d.o.dg(R,X);return R};d.gM.ZW=function(E,y){var c=y.X;
for(var N=0;N<E.length;N++){var e=E[N].v;if(!d.gM.yt(e))continue;var p=d.gM.ase(e),H=d.o.O3(c,N),Z=d.o.$l(c,N);
p[2].O0=c[H].O0;var X=c;c=c.slice(0,H);for(var b=2;b<p.length;b++)c.push(p[b]);for(var b=H+Z;b<X.length;
b++)c.push(X[b])}y.X=c;y.tq=!0};d.gM.C0=function(E){var y=1e9,c=-y,e=1e9,p=-e,H=[],Z=E.sA(),X=Z[0],b=Z[1];
for(var k=0;k<b.length;k++){var D=X[b[k]],j=D.add.vogk;if(j==null)continue;var g=D.add.vmsk.g;for(var R=0;
R<j.length;R++){var t=j[R].v,$=0;if(!d.gM.yt(t))continue;if(b.length==1&&g.length!=0&&g.indexOf(R)==-1)continue;
var w=t.keyOriginType.v;if(w==9)continue;var B=d.gM.B4(t);y=Math.min(y,B[0]);e=Math.min(e,B[1]);c=Math.max(c,B[2]);
p=Math.max(p,B[3]);var o=d.gM.tU(t,"keyOriginBoxCorners");if(o){var T=d.gM.a9S(o),i=T[2],r=T[3];B[2]=B[0]+i;
B[3]=B[1]+r;$=d.gM.tC(o)}var I=[w,B,$];H.push(I);var M=t.keyOriginPolyCornerRadius;if(w==2)I.push(d.gM._T(t));
if(w==7||w==8)I.push(M?M.v:0);if(w==8)I.push(t.keyOriginPolySides.v)}}return H.length==1?H[0]:[0,y<c?[y,e,c,p]:null,0]};
d.gM.tC=function(E){var y=E[2]-E[0],c=E[3]-E[1];return-Math.atan2(-c,y)};d.gM.a24=function(E){var y=d.gM.B4(E);
return d.gM.tC(y)};d.gM.adb=function(E,y,c){var e=d.gM.C0(E),p=-1;for(var N=0;N<y.length;N++)if(JSON.stringify(y[N])!=JSON.stringify(e[N]))p=N;
if(p==1||p==2){}var H=E.sA(),Z=H[0],X=H[1];for(var b=0;b<X.length;b++){var k=Z[X[b]],D=k.add.vogk;if(D==null)continue;
var j=k.add.vmsk.g;for(var g=0;g<D.length;g++){var R=D[g].v;if(!d.gM.yt(R))continue;if(X.length==1&&j.length!=0&&j.indexOf(g)==-1)continue;
var t=R.keyOriginType.v;if(p==1||p==2){d.gM.u(D,d.gM.ad3(p,R,e,y),j,!1);break}if(p==3)if(t==2)d.gM.U7(R,y[3]);
else R.keyOriginPolyCornerRadius={t:"doub",v:y[3]};if(p==4)R.keyOriginPolySides.v=y[4];if(c)d.gM.z4(D,g)}}};
d.gM.ad3=function(E,y,c,e){var p=e[1],H=c[1],Z=(p[2]-p[0])/(H[2]-H[0]),X=(p[3]-p[1])/(H[3]-H[1]),b=new jr;
if(E==1){if(Math.max(Math.abs(Z-1),Math.abs(X-1))>1e-8){var k=p[0],D=p[1];if(e[0]!=0){var j=d.gM.tU(y,"keyOriginBoxCorners");
k=j[0];D=j[1]}b.translate(-k,-D);b.rotate(e[2]);b.scale(Z,X);b.rotate(-e[2]);b.translate(k,D)}else{b.translate(-H[0],-H[1]);
b.translate(p[0],p[1])}}else{if(e[0]!=0)p=d.gM.B4(y);var k=(p[0]+p[2])/2,D=(p[1]+p[3])/2;b.translate(-k,-D);
if(c[0]!=0)b.rotate(c[2]);b.rotate(-e[2]);b.translate(k,D)}return d.r.$m(b)};d.gM.a9S=function(E){var y=E[0],c=E[1],e=E[2],p=E[3],H=E[4],Z=E[5],X=E[6],b=E[7],k=e-y,D=p-c,j=Math.sqrt(k*k+D*D),k=H-e,D=Z-p,g=Math.sqrt(k*k+D*D);
return[(y+H)/2,(c+Z)/2,j,g]};d.gM.tU=function(E,y){var c=E[y];if(c==null)return null;var e=[];c=c.v;
for(var p=0;p<4;p++){var H=c["rectangleCorner"+["A","B","C","D"][p]].v;e.push(H.Hrzn.v,H.Vrtc.v)}return e};
d.gM.KX=function(E,y,c){var e=E[y];if(e==null)return null;e=e.v;for(var p=0;p<4;p++){var H="rectangleCorner"+["A","B","C","D"][p];
e[H]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[2*p]},Vrtc:{t:"doub",v:c[2*p+1]}}}}};d.gM.B4=function(E){return d.gM.sq(E.keyOriginShapeBBox.v)};
d.gM.sq=function(E){var y=E.classID,c=E.Left.v,e=E.Rght.v,p=E.Top.v,H=E.Btom.v;if(c.val!=null){c=c.val;
e=e.val;p=p.val;H=H.val}return[c,p,e,H]};d.gM.a6d=function(E,y){d.gM.X0(E.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],y)};
d.gM._T=function(E){var y=E.keyOriginRRectRadii;if(y==null)return[0,0,0,0];return d.gM.a8x(y.v)};d.gM.a8x=function(E){var y=[],c=["topLeft","topRight","bottomRight","bottomLeft"];
for(var e=0;e<4;e++)y.push(E[c[e]].v.val);return y};d.gM.U7=function(E,y){d.gM.X0(E.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],y)};
d.gM.X0=function(E,y,c){var e=E.classID;if(e=="unitRect"||e=="radii"||e=="Rctn"){for(var N=0;N<4;N++)if(c[N]!=null)E[y[N]]={t:"UntF",v:{type:"#Pxl",val:c[N]}}}else{for(var N=0;
N<4;N++)if(c[N]!=null)E[y[N]]={t:"doub",v:c[N]}}};d.gM.Go=function(E){var y=E.keyOriginLineStart.v,c=E.keyOriginLineEnd.v;
return[y.Hrzn.v,y.Vrtc.v,c.Hrzn.v,c.Vrtc.v]};d.gM.aou=function(E,y){var c=E.keyOriginLineStart.v,e=E.keyOriginLineEnd.v;
c.Hrzn.v=y[0];c.Vrtc.v=y[1];e.Hrzn.v=y[2];e.Vrtc.v=y[3]};d.gM.a6P=function(E){var y=[],c=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var N=0;N<5;N++){var e=E["keyOriginLineArr"+c[N]];if(e==null)return null;y[N]=e.v}return y};d.gM.aCK=function(E,y){E.keyOriginLineArrowSt={t:"bool",v:y[0]};
E.keyOriginLineArrowEnd={t:"bool",v:y[1]};E.keyOriginLineArrWdth={t:"doub",v:y[2]};E.keyOriginLineArrLngth={t:"doub",v:y[3]};
E.keyOriginLineArrConc={t:"long",v:y[4]}};d.gM.akU=function(E){function y(I,M){return Math.abs(I-M)<.5}function c(I,M){return y(I.x,M.x)&&y(I.y,M.y)}function H(I,M,J,P,n,x,L){for(var N=0;
N<L;N++){var u=I[M+(J+N)%L],C=P[n+(x+N)%L];if(!(c(u.I,C.I)&&c(u.$0,C.$0)&&c(u.dW,C.dW)))return!1}return!0}var Z=[];
for(var X=0;X<E.length;X++){var b=E[X],D=null;if(b.type!=0&&b.type!=3||b.O0==-1)continue;var k=X;if(b.length==4||b.length==8){var j=d.o.aae(E.slice(0,2).concat(E.slice(k,k+b.length+1)));
k=2;if(b.length==4){var g=d.o.MM(j,k+1,4),R=g.x,t=g.y,w=R+g.m,B=t+g.e;if(g.P()>4){if(d.o.wS(j.slice(k-2,k+5)))D=d.gM.gW(2,[R,t,w,B],[0,0,0,0]);
else{var $=-1;for(var N=0;N<4;N++)if(y(j[k+1+N].I.y,B))$=N;if($!=-1){var o=d.o.M1.fM(R,t,w-R,B-t),T=H(j,k+1,$,o,3,0,4);
if(T)D=d.gM.gW(5,[R,t,w,B])}}}}if(b.length==8){var g=d.o.MM(j,k+1,8),R=g.x,t=g.y,w=R+g.m,B=t+g.e;if(g.P()>4){var $=-1;
for(var N=0;N<8;N++)if(y(j[k+1+(N+1&7)].I.y,t)&&y(j[k+1+(N+2&7)].I.y,t))$=N;if($!=-1){var i=Math.abs(j[k+1+$].I.y-t),r=[i,i,i,i];
if(i>.5){var o=d.o.M1.Rect(R,t,w-R,B-t,r),T=H(j,k+1,$,o,3,0,8);if(T)D=d.gM.gW(2,[R,t,w,B],r)}}}}}Z.push(D?D:d.gM.Lt())}return Z};
d.A={};d.A.clone=function(E){return{G:E.G.slice(0),j:E.j.slice(0)}};d.A.axI=function(E){if(E.length<6)return!0;
var y=E.length-4;for(var N=0;N<y;N+=2)if(!d.A.Ph(E[N],E[N+1],E[N+2],E[N+3],E[N+4],E[N+5]))return!1;if(!d.A.Ph(E[y],E[y+1],E[y+2],E[y+3],E[0],E[1]))return!1;
if(!d.A.Ph(E[y+2],E[y+3],E[0],E[1],E[2],E[3]))return!1;return!0};d.A.Ph=function(E,y,c,e,p,H){return(y-e)*(p-c)+(c-E)*(H-e)>=0};
d.A.vf=function(E){var y={},c=null,e=0,p={M:2,L:2,Q:4,C:6},H="",Z="";for(var N=0;N<E.G.length;N++){var X=E.G[N];
if(X[0]=="#")H=X;else if(X[0]=="X")H="";else if(X[0]=="O"&&X[1]=="-")Z=X;else if(X=="OX")Z="";else{var b=H+Z;
c=y[b];if(c==null)c=y[b]={j:[],G:[]};c.G.push(X);var k=p[X];if(k==null)k=0;for(var D=0;D<k;D++)c.j.push(E.j[e+D]);
e+=k}}return y};d.A.ayN=function(E,y,c){var e=E[y]-E[c-2],p=E[y+1]-E[c-1];return e*e+p*p<1e-4};d.A.V2=function(E,y,c){E=d.A.Ow(E);
var e=E.j,p=E.G,H=0,Z="",X=0,b=0,H=0,j=null;for(var N=0;N<p.length;N++){var k=p[N];if(k=="M"){X=e[H];
b=e[H+1];H+=2;Z=k}if(k=="C"){if(Z=="Z"){p.splice(N,0,"M");e.splice(H,0,X,b);N--;continue}H+=6;Z=k}if(k=="Z"){Z=k}}var D=[];
H=0;for(var N=0;N<p.length;N++){var k=p[N];if(k=="M"){j={dr:H,UI:0,ZI:!1};D.push(j);H+=2}if(k=="C"){j.UI++;
H+=6}if(k=="Z"&&j!=null){j.ZI=!0}}var g=[];for(var N=0;N<D.length;N++)if(D[N].UI!=0)g.push(D[N]);D=g;
for(var N=0;N<D.length;N++){var R=D[N],t=R.dr,w=t+2+R.UI*6,$=0;R.Mj=d.A.n7(e,t,w);var B=d.A.ayN(e,t,w);
for(var o=0;o<R.UI;o++){var T=t+o*6,i=T+6;$+=(e[i]-e[T])*(e[i+1]+e[T+1])}if(R.UI==2){var r=function(Y,G,V){var dF=1-V;
return dF*dF*dF*Y[G]+3*dF*dF*V*Y[G+2]+3*dF*V*V*Y[G+4]+V*V*V*Y[G+6]},I=e[t],M=e[t+1],J=e[t+6],P=e[t+7],n=e[t+6],x=e[t+7],L=r(e,t,.5),u=r(e,t+1,.5),C=r(e,t+6,.5),h=r(e,t+7,.5);
$=(L-I)*(u-M)+(J-L)*(P-u)+(C-J)*(h-P)+(n-C)*(x-h)}if(!B)$+=(e[t]-e[w-2])*(e[t+1]+e[w-1]);R.tN=$<=0}for(var N=0;
N<D.length-1;N++)for(var T=N+1;T<D.length;T++){var A=D[N],W=D[T];if(W.Mj.Rq(A.Mj)){D[N]=W;D[T]=A}}var Q=D.length==0?!0:D[0].tN,l=[{type:6},{type:8,all:0}];
for(var N=0;N<D.length;N++){var R=D[N],t=R.dr,w=t+2+R.UI*6,B=d.A.ayN(e,t,w);if(R.UI==1)B=!1;var O=R.ZI||B?0:3,z=R.tN==Q&&!y?1:0;
if(!y&&N!=0){if(D[N-1].Mj.Rq(R.Mj)&&D[N-1].tN!=R.tN)z=0;for(var T=0;T<D.length;T++)if(T!=N&&D[T].Mj.Rq(R.Mj))z=0}l.push({type:O,length:R.UI+(B?0:1),O0:c?0:z,X7:2});
for(var T=0;T<R.UI;T++){var H=t+T*6,a=new eq(e[H],e[H+1]),m=new eq(e[H+2],e[H+3]),q;if(T==0){if(B){q=new eq(e[w-4],e[w-3]);
if(eq.oG(q,a)<1e-5)q=a.clone()}else q=a.clone()}else q=new eq(e[H-2],e[H-1]);l.push({type:O+2,$0:q,I:a,dW:m})}if(!B){var K=new eq(e[w-2],e[w-1]);
l.push({type:O+2,$0:new eq(e[w-4],e[w-3]),I:K,dW:K.clone()})}}for(var T=0;T<l.length;T++){var U=l[T];
if(U.type>5||U.type==0||U.type==3)continue;var f=U.$0.rT(U.I)||U.dW.rT(U.dW);if(!f){var A=U.$0.x*(U.I.y-U.dW.y)+U.I.x*(U.dW.y-U.$0.y)+U.dW.x*(U.$0.y-U.I.y);
if(Math.abs(A)<1e-6)f=!0}if(f)U.type--}return l};d.A.ue=function(E,y){var c=d.o.a0(E),e=[];for(var N=2;
N<E.length;N++){var p=E[N].O0;if(p!=null){if(p==2||p==0||p==3||p==-1)e.push(p)}}var H=e.length!=0;if((H||y)&&E.length<2e3&&1<c&&c<200)E=d.o.a2(E);
var Z=d.A.Pw(E);return{E8:Z,AL:H?1:0}};d.A.Pw=function(){function E(e,p,H,Z){if(Z!=2&&e.dW.rT(e.I)&&p.$0.rT(p.I)){H.j.push(p.I.x,p.I.y);
H.G.push("L")}else{var X=e.I,b=e.dW,k=p.$0,D=p.I,j=3/2*b.x-1/2*X.x,g=3/2*b.y-1/2*X.y,R=3/2*k.x-1/2*D.x,t=3/2*k.y-1/2*D.y,w=R-j,B=t-g;
if(Z==0&&w*w+B*B<.001){H.j.push((j+R)*.5,(g+t)*.5,D.x,D.y);H.G.push("Q")}else{H.j.push(b.x,b.y,k.x,k.y,D.x,D.y);
H.G.push("C")}}}function y(e,p,N,H,Z,X){var b=p[N];e.j.push(b.I.x,b.I.y);e.G.push("M");for(var k=N;k<N+H-1;
k++)E(p[k],p[k+1],e,X);if(!Z)E(p[k],p[N],e,X)}function c(e,p){if(p==null)p=0;var H={j:[],G:[]};for(var N=0;
N<e.length;N++){if(e[N].type>5)continue;var Z=e[N].length;if(Z==0)continue;if(N==e.length-1)break;var X=e[N].type==3;
y(H,e,N+1,Z,X,p);if(!X)H.G.push("Z");N+=Z}return H}return c}();d.A.aaU=function(E){var y=E.j,c=[],e,p=0;
for(var N=0;N<E.G.length;N++){var H=E.G[N];if(H=="C"){e.push(y[p++],y[p++],y[p++],y[p++],y[p++],y[p++])}else if(H=="Z"){}else{e=[];
if(H!="M"){e.push(H);N++}e.push(y[p++],y[p++]);c.push(e)}}return c};d.A.Mr=function(E,y,c,e){if(e==null)e=1e9;
var p=1e9,H=0;for(var N=0;N<E.length;N+=2){var Z=y-E[N],X=c-E[N+1],b=Z*Z+X*X;if(b<p){p=b;H=N>>>1}}return p<e*e?H:-1};
d.A.UC=function(E,y,c,e){for(var N=0;N<E.length;N+=2){var p=E[N],H=E[N+1],Z=y[N],X=y[N+1];c[N]=p+(Z-p)*e;
c[N+1]=H+(X-H)*e}};d.A.u=function(E,y,c){for(var N=0;N<E.length;N+=2){var e=E[N],p=E[N+1];c[N]=e*y.U+p*y.E7+y.Kc;
c[N+1]=e*y.J+p*y.sN+y.Dm}};d.A.n7=function(E,y,c){if(y==null)y=0;if(c==null)c=E.length;var e=99999999999,p=-e,H=99999999999,Z=-H;
for(var N=y;N<c;N+=2){var X=E[N],b=E[N+1];e=Math.min(e,X);H=Math.min(H,b);p=Math.max(p,X);Z=Math.max(Z,b)}return new ir(e,H,p-e,Z-H)};
d.A.am0=function(E,y){var c=Math.max(y.x,Math.min(y.x+y.m,E.x)),e=Math.max(y.y,Math.min(y.y+y.e,E.y)),p=E.x-c,H=E.y-e;
return Math.sqrt(p*p+H*H)};d.A.u8=function(E,y){var c=Math.floor,e=Math.ceil;if(y){c=Math.ceil;e=Math.floor}var p=c(E.x),H=e(E.x+E.m),Z=c(E.y),X=e(E.y+E.e);
return new ir(p,Z,H-p,X-Z)};d.A.xv=function(E,y){return d.A.u8(d.A.n7(E),y)};d.A.S6=function(E,y){var c=E.x,e=E.y,p=E.x+E.m,H=E.y+E.e,Z=[c,e,p,e,p,H,c,H];
if(y){var X=y.clone();X.Ub();d.A.u(Z,X,Z)}return{G:["M","L","L","L","Z"],j:Z}};d.A.concat=function(E,y,c){if(c==null)c=new jr;
for(var N=0;N<y.j.length;N+=2){var e=y.j[N],p=y.j[N+1];E.j.push(e*c.U+p*c.E7+c.Kc);E.j.push(e*c.J+p*c.sN+c.Dm)}for(var N=0;
N<y.G.length;N++)E.G.push(y.G[N])};d.A.avs=function(E,y,c,e,p){function H(g,R,t){return new eq(g.x*(1-t)+R.x*t,g.y*(1-t)+R.y*t)}var Z=H(E,y,p),X=H(c,e,p),b=H(y,c,p),k=H(Z,b,p),D=H(b,X,p),j=H(k,D,p);
return[Z,k,j,D,X]};d.A.Ow=function(E){var y=E.j,c=[],e=[],p=0,H=0,Z=0,X=0,b=0,k=0,D=0,j=0,g=0,R=0,t=0;
for(var N=0;N<E.G.length;N++){var w=E.G[N];if(w=="M"){H=y[p];Z=y[p+1];p+=2;e.push(w);c.push(H,Z);R=H;
t=Z}else if(w=="C"){X=y[p];b=y[p+1];k=y[p+2];D=y[p+3];j=y[p+4];g=y[p+5];p+=6;e.push(w);c.push(X,b,k,D,j,g);
H=j;Z=g}else if(w=="Q"){X=y[p];b=y[p+1];k=y[p+2];D=y[p+3];p+=4;var B=X-H,$=b-Z,o=k-X,T=D-b;e.push("C");
c.push(H+2/3*B,Z+2/3*$,X+1/3*o,b+1/3*T,k,D);H=k;Z=D}else if(w=="L"){X=y[p];b=y[p+1];p+=2;if(X!=H||b!=Z){e.push("C");
c.push(H,Z,X,b,X,b);H=X;Z=b}}else{if(w=="Z"){H=R;Z=t}e.push(w)}}return{G:e,j:c}};d.A.afO=function(E){var y=E.j,c=[],e=[],p=0;
for(var N=0;N<E.G.length;N++){var H=E.G[N];if(H=="Q"){var Z=y[p-2],X=y[p-1],b=y[p],k=y[p+1],D=y[p+2],j=y[p+3];
p+=4;var g=b-Z,R=k-X,t=D-b,w=j-k;e.push("C");c.push(Z+2/3*g,X+2/3*R,b+1/3*t,k+1/3*w,D,j)}else{var B=0;
if(H=="M"||H=="L")B=2;else if(H=="C")B=6;for(var $=0;$<B;$++)c.push(y[p+$]);p+=B;e.push(H)}}return{G:e,j:c}};
d.A.Kn=function(E,y){var c=E.j,e=[],p=[],H=0,Z=0,X=0,b=0,k=0,D=0,j=0,g=0,R=0;for(var N=0;N<E.G.length;
N++){var t=E.G[N];if(t=="M"){Z=c[H];X=c[H+1];H+=2;p.push(t);e.push(Z,X)}else if(t=="C"){b=c[H];k=c[H+1];
D=c[H+2];j=c[H+3];g=c[H+4];R=c[H+5];H+=6;d.A.B8(Z,X,b,k,D,j,g,R,y,p,e,0);Z=g;X=R}else p.push(t)}return{G:p,j:e}};
d.A.B8=function(E,y,c,e,p,H,Z,X,b,k,D,j){var g=Math.sqrt((Z-E)*(Z-E)+(X-y)*(X-y)),R=Math.sqrt((Z-p)*(Z-p)+(X-H)*(X-H))+Math.sqrt((p-c)*(p-c)+(H-e)*(H-e))+Math.sqrt((c-E)*(c-E)+(e-y)*(e-y)),t=(g+R)/2;
if(t<=b){k.push("C");D.push(c,e,p,H,Z,X)}else{var w=0,B=0,$=0,o=0,T=0,i=0,r=0,I=0,M=0,J=0,P=0,n=0,x=0;
B=(E+c)/2;$=(y+e)/2;o=(c+p)/2;T=(e+H)/2;i=(p+Z)/2;r=(H+X)/2;I=(B+o)/2;M=($+T)/2;J=(o+i)/2;P=(T+r)/2;
n=(I+J)/2;x=(M+P)/2;d.A.B8(E,y,B,$,I,M,n,x,b,k,D,j+1);d.A.B8(n,x,J,P,i,r,Z,X,b,k,D,j+1)}};d.A.azW=function(E,y,c,e,p){var H=Date.now(),Z=d.A.ao2(E,y,c);
if(p){console.log("trace polygons",Date.now()-H);H=Date.now()}var X=[];for(var N=0;N<Z.length;N++){var b=Z[N],k=b[0],D=["M"],j=E[k[1]*y+k[0]];
if(k.length>8)k=d.A.af6(k,e,b[1]);if(k.length<=4)continue;for(var g=2;g<k.length;g+=2)D.push("L");D.push("Z");
X.push({path:{j:k,G:D},color:j,parent:-1,Mj:d.A.n7(k)})}if(p){console.log("simplify polygons",Date.now()-H);
H=Date.now()}for(var N=1;N<X.length;N++){var R=X[N],t=R.path.j,w=t[0],B=t[1],$=t[2],o=t[3],T=$-w,i=o-B,r=w+.5*T-.001*i,I=B+.5*i+.001*T;
for(var g=N-1;g>=0;g--){var M=X[g];if(!M.Mj.Rq(R.Mj))continue;if(!ap.te(M.path.j,r,I))continue;R.parent=g;
break}}if(p){console.log("checking parents",Date.now()-H);H=Date.now()}return X};d.A.ao2=function(E,y,c){var e=y*c,p=new Uint16Array(y*c),Z=0;
for(var N=0;N<e;N++)p[N]=E[N];var H=new Uint8Array(y*c);H[1*y+1]=H[(c-1)*y+1]=H[1*y+y-1]=H[(c-1)*y+y-1]=1;
for(var X=1;X<c;X++)for(var b=1;b<y;b++){var N=X*y+b,k=p[N-y-1],D=p[N-y],j=p[N-1],g=p[N],R=k==g&&D==j&&k!=D,t=0;
if(g<j){Z=g;g=j;j=Z}if(j<D){Z=j;j=D;D=Z}if(D<k){Z=D;D=k;k=Z}if(g<j){Z=g;g=j;j=Z}if(j<D){Z=j;j=D;D=Z}if(g<j){Z=g;
g=j;j=Z}if(k!=D)t++;if(D!=j)t++;if(j!=g)t++;if(g!=k)t++;if(t>=3||R)H[N]=1}var w=[];for(var X=1;X<c;X++)for(var b=1;
b<y;b++){var N=X*y+b;if(p[N]!=p[N-1]){var B=d.A.aaN(p,y,c,b,X),$=[];for(var o=0;o<B.length;o+=2)if(H[B[o+1]*y+B[o]]==1)$.push(o>>>1);
w.push([B,$]);d.A.Wa(p,y,c,b,X)}}return w};d.A.Wa=function(E,y,c,e,p){var H=[p*y+e],Z=E[p*y+e];E[p*y+e]=65535;
while(H.length!=0){var N=H.pop();E[N]=0;if(E[N+y]==Z){H.push(N+y);E[N+y]=65535}if(E[N-y]==Z){H.push(N-y);
E[N-y]=65535}if(E[N-1]==Z){H.push(N-1);E[N-1]=65535}if(E[N+1]==Z){H.push(N+1);E[N+1]=65535}}};d.A.aaN=function(E,y,c,e,p){var H=[0,-1,1,0,0,1,-1,0],D=1;
function Z(g,R,D){var N=k*y+b,t=0;if(D==0)t=N-y;else if(D==1)t=N;else if(D==2)t=N-1;else if(D==3)t=N-y-1;
return E[t]}var X=[],b=e,k=p,j=Z(b,k,D);do{X.push(b,k);b+=H[D*2];k+=H[D*2+1];if(Z(b,k,D)!=j)D=D+1&3;
else if(Z(b,k,D+3&3)!=j)D=D;else if(Z(b,k,D+2&3)!=j)D=D+3&3}while(b!=e||k!=p);return X};d.A.af6=function(E,y,c){var e=E.length-2;
if(c&&c.length!=0){var p=c[0]*2,H=c[c.length-1]*2,Z=p==0?e:p-2,X=E.slice(H);for(var N=0;N<p;N++)X.push(E[N]);
if(p==H)X.push(.9*E[p]+.1*E[Z],.9*E[p+1]+.1*E[Z+1]);else X.push(E[p],E[p+1]);X=d.A.zg(X,y);X.pop();X.pop();
for(var N=0;N<c.length-1;N++){var b=E.slice(c[N]*2,c[N+1]*2+2);b=d.A.zg(b,y);for(var k=0;k<b.length-2;
k++)X.push(b[k])}return X}var D=E.slice(0);D.push(.9*E[0]+.1*E[e],.9*E[1]+.1*E[e+1]);D=d.A.zg(D,y);D.pop();
D.pop();return D};d.A.zg=function(E,y){var c=E.length-2,e=E[0],p=E[1],H=E[c],Z=E[c+1],X=H-e,b=Z-p,k=1/Math.sqrt(X*X+b*b),D=H*p-Z*e,j=-1,g=-1,R=0;
for(var N=2;N<c;N+=2){var t=E[N],w=E[N+1],B=w*w*1e6+t*t,$=Math.abs(b*t-X*w+D)*k;if($>g||$==g&&B>R){g=$;
j=N;R=B}}if(g<y)return[e,p,H,Z];var o=d.A.zg(E.slice(0,j+2),y),T=d.A.zg(E.slice(j),y);for(var N=2;N<T.length;
N++)o.push(T[N]);return o};d.A.abD=function(){var E=function(e,p,H,Z,X,b){return(p-Z)*(X-H)+(H-e)*(b-Z)>=0},y=function(e,p,H,Z,X,b,k,D){var j=k-H,g=D-Z,R=X-H,t=b-Z,w=e-H,B=p-Z,$=j*j+g*g,o=j*R+g*t,T=j*w+g*B,i=R*R+t*t,r=R*w+t*B,I=1/($*i-o*o),M=(i*T-o*r)*I,J=($*r-o*T)*I;
return M>=0&&J>=0&&M+J<1},c=function(e){var j1=e.length>>>1,N=0;if(j1<3)return[];var p=[],H=[];for(var N=0;
N<j1;N++)H.push(N);var Z=j1;while(Z>3){var X=H[(N+0)%Z],b=H[(N+1)%Z],k=H[(N+2)%Z],D=e[2*X],j=e[2*X+1],g=e[2*b],R=e[2*b+1],t=e[2*k],w=e[2*k+1],B=!1;
if(E(D,j,g,R,t,w)){B=!0;for(var $=0;$<Z;$++){var o=H[$];if(o==X||o==b||o==k)continue;if(y(e[2*o],e[2*o+1],D,j,g,R,t,w)){B=!1;
break}}}if(B){p.push(X,b,k);H.splice((N+1)%Z,1);Z--;N=0}else if(N++>3*Z)break}p.push(H[0],H[1],H[2]);
return p};return c}();d.A.av$=function(E,y){var c={},e={G:[],j:[]};for(var N=0;N<y.length;N+=3){var p=y[N]*2,H=y[N+1]*2,Z=y[N+2]*2;
d.A.rJ(E,p,H,e,c);d.A.rJ(E,p,Z,e,c);d.A.rJ(E,H,Z,e,c)}return e};d.A.rJ=function(E,y,c,e,p){if(y>c){var H=c;
c=y;y=H}if(p[y+","+c])return;p[y+","+c]=!0;e.G.push("M","L");e.j.push(E[y],E[y+1],E[c],E[c+1])};d.A.aCM=function(E,y){var c=[],e=E.length;
for(var N=0;N<e;N+=2){var p=E[N],H=E[N+1],Z=E[(N+2)%e],X=E[(N+3)%e];if(X<H){var b=H;H=X;X=b}if(H<y&&y<X){var k=(y-H)/(X-H);
c.push(p+k*(Z-p))}}c.sort(function(D,j){return D-j});return c};d.A.a1j=function(E,y,c,e,p,H,Z){var X=E-c,b=y-e,k=p-c,D=H-e,j=1/Math.sqrt(X*X+b*b),g=1/Math.sqrt(k*k+D*D),R=X*j,t=b*j,w=k*g,B=D*g,$=t*Z,o=-R*Z,T=-B*Z,i=w*Z,r=d.A.yU($,o,R,t,T,i,w,B),I=$+R*r,M=o+t*r,r=d.A.yU(0,0,R,t,I,M,-t,R),J=R*r,P=t*r;
return[Math.sqrt(J*J+P*P),R,t,w,B]};d.A.atd=function(E,y,c,e,p,H,Z){var X=d.A.a1j(E,y,c,e,p,H,Z),b=X[0],k=X[1],D=X[2],j=X[3],g=X[4],R=Math.atan2(k*g-D*j,k*j+D*g);
if(R<0){R=R*-1}var t=Math.PI-R,w=4/3*Math.tan(t/4),B=c+b*k,$=e+b*D,o=c+b*j,T=e+b*g,i=B+w*Z*-k,r=$+w*Z*-D,I=o+w*Z*-j,M=T+w*Z*-g;
return[0,0,B,$,i,r,I,M,o,T]};d.A.yU=function(E,y,c,e,p,H,Z,X){var b=Z*(y-H)-X*(E-p),k=X*c-Z*e;if(k==0)return 0;
return b/k};d.A.Ch=function(E,y,c,e,p,H){return E*(e-H)+c*(H-y)+p*(y-e)};d.A.at6=function(E){function y(C,h,A,W,Q,l,O,z,a){var m=d.A.yU(C,h,A,W,Q,l,O,z);
a.push(C+A*m,h+W*m)}var c=[],e=E.length,p=[];for(var N=0;N<e;N+=2){var H=N==0?e-2:N-2,Z=N==e-2?0:N+2,X=E[N],b=E[N+1],k=X-E[H],D=b-E[H+1],j=E[Z]-X,g=E[Z+1]-b,R=Math.sqrt(k*k+D*D),t=Math.sqrt(j*j+g*g);
p.push(t);var w=R/(R+t),B=X-k*.5,$=b-D*.5,o=X+j*.5,T=b+g*.5,i=(E[Z]+E[H])*.5,r=(E[Z+1]+E[H+1])*.5,I=B+w*(o-B),M=$+w*(T-$),J=X-I,P=b-M,n=(j*-k+g*-D)/(R*t),x=(w-.5)*7,L=1+x*w,u=1-x*(1-w);
c.push(B+J*L,$+P*L,o+J*u,T+P*u)}return c};d.HJ=function(){};d.HJ.sy=function(E,y,c,e,p){var H=c.m,Z=c.e,X=H*Z,b=new Int32Array(X),j1=0;
for(var N=0;N<X;N++)if(y[N]!=0){b[N]=j1;j1++}else if(E[(N<<2)+3]<200){b[N]=-2}else b[N]=-1;if(j1==0)return;
var k=new d.jm(j1,j1),D=new Array(3*j1),j=new Array(3*j1);for(var N=0;N<j.length;N++)j[N]=D[N]=0;var g=1/255,R=[-H,-1,1,H],t=[],w=[];
for(var B=0;B<Z;B++)for(var $=0;$<H;$++){var o=B*H+$,T=o<<2,N=b[o],i=N*3,r=0,I=0,M=0;if(N==-1||N==-2)continue;
for(var J=0;J<4;J++){if(J==2){I=M;t[M]=0;w[M]=N;M++}var P=o+R[J],n=P<<2,x=b[P];if(J==0&&B==0||J==1&&$==0||J==2&&$==H-1||J==3&&B==Z-1||x==-2)continue;
r++;if(x==-1){D[i+0]+=E[n+0];D[i+1]+=E[n+1];D[i+2]+=E[n+2]}else{t[M]=-1;w[M]=x;M++;if(y[o]==y[P]){D[i+0]+=E[T+0]-E[n+0];
D[i+1]+=E[T+1]-E[n+1];D[i+2]+=E[T+2]-E[n+2]}}}t[I]=r;k.Dy(t,w,M)}for(var N=0;N<X;N++)if(b[N]!=-1){var L=N<<2,u=b[N],C=u*3;
j[C]=E[L+0];j[C+1]=E[L+1];j[C+2]=E[L+2]}var h=Date.now();k.aCu(j,D,e,p);console.log(Date.now()-h);for(var N=0;
N<X;N++){var u=b[N],A=u*3,L=N<<2;if(u==-1||E[L+3]!=255)continue;E[L+0]=~~(.5+Math.max(0,Math.min(255,j[A+0])));
E[L+1]=~~(.5+Math.max(0,Math.min(255,j[A+1])));E[L+2]=~~(.5+Math.max(0,Math.min(255,j[A+2])))}};d.rect={};
d.rect.arv=function(E,y){var c=[E],e=[];for(var N=0;N<y.length;N++){var p=y[N],H=!1;for(var Z=N+1;Z<y.length;
Z++){var X=y[Z];if(X[0]<=p[0]&&X[1]<=p[1]&&p[2]<=X[2]&&p[3]<=X[3]){H=!0;break}}if(!H)e.push(p)}y=e;for(var N=0;
N<y.length;N++){var p=y[N];for(var Z=0;Z<c.length;Z++){var X=c[Z],b=Math.max(p[0],X[0]),k=Math.min(p[2],X[2]),D=Math.max(p[1],X[1]),j=Math.min(p[3],X[3]);
if(b<k&&D<j){var g=[];if(X[1]<p[1]){var R=X.slice(0);R[3]=p[1];g.push(R)}if(X[0]<p[0]){var t=X.slice(0);
t[1]=D;t[2]=p[0];g.push(t)}if(p[2]<X[2]){var w=X.slice(0);w[1]=D;w[0]=p[2];g.push(w)}if(p[3]<X[3]){var B=[b,j,k,X[3]];
g.push(B)}if(g.length!=0){c[Z]=g[0];for(var $=1;$<g.length;$++)c.push(g[$])}}}c.push(p);c=d.rect.a5_(c)}c.sort(function(p,X){return p[1]!=X[1]?p[1]-X[1]:p[0]-X[0]});
for(var N=1;N<c.length;N++){var p=c[N-1],X=c[N];if(p[0]==X[0]&&p[1]==X[1]&&p[2]==X[2]&&p[3]==X[3]){c.splice(p[4]==null?N-1:N,1);
N--}}return c};d.rect.a5_=function(E){E=E.slice(0);for(var N=0;N<E.length;N++){var y=E[N],c=null;if(y[4]!=null)continue;
for(var e=0;e<E.length;e++){var p=E[e];if(N==e||p[4]!=null)continue;var H=y[0]==p[0],Z=y[1]==p[1],X=y[2]==p[2],b=y[3]==p[3];
if(Z&&b&&(y[2]==p[0]||y[0]==p[2])){c=[Math.min(y[0],p[0]),y[1],Math.max(y[2],p[2]),y[3]]}if(H&&X&&(y[3]==p[1]||y[1]==p[3])){c=[y[0],Math.min(y[1],p[1]),y[2],Math.max(y[3],p[3])]}if(c){E[N]=c;
E.splice(e,1);break}}if(c){N--}}return E};d.rect.AS=function(E){var y=new ir;for(var N=0;N<E.length;
N++)y=y.uN(E[N]);return y};d.rect.aaa=function(E,y){var c=d.rect.AS,e=new UnionFind(E.length),I=1e3,M=1e3;
for(var N=0;N<E.length;N++)for(var p=N+1;p<E.length;p++){if(!y)continue;var H=E[N],Z=E[p],j=1e9,g=1e9;
if(H.TF(Z)){e.link(N,p);continue}var X=H.x+H.m,b=H.y+H.e,k=Z.x+Z.m,D=Z.y+Z.e;if((X<Z.x||k<H.x)&&(b<Z.y||D<H.y))continue;
if(!(b<Z.y||D<H.y))j=Math.min(Math.abs(X-Z.x),Math.abs(H.x-k));if(!(X<Z.x||k<H.x))g=Math.min(Math.abs(b-Z.y),Math.abs(H.y-D));
var R=Math.min(j,g),t=Math.min(H.m,H.e,Z.m,Z.e);if(R<.3*t)e.link(N,p)}var w=[],B={};for(var N=0;N<E.length;
N++){var $=e.find(N),o=E[N];if(B[$]==null){B[$]=w.length;w.push([])}w[B[$]].push(o)}var T=[],i=[];for(var N=0;
N<w.length;N++){T.push(c(w[N]));var r=c(w[N]);r.ir=N;i.push(r)}i.sort(function(W,Q){return Math.max(Q.e,Q.m)-Math.max(W.e,W.m)});
var J=new NETXUS.RectanglePacker(I,M);while(!0){var P=!1;J.reset(I,M);for(var N=0;N<i.length;N++){var n=J.findCoords(i[N].m,i[N].e);
if(n){i[N].x=n.x;i[N].y=n.y}else{I=Math.floor(I*1.1);M=Math.floor(M*1.1);P=!0;break}}if(P)continue;break}for(var N=0;
N<w.length;N++){var x=i[N],L=x.ir,u=T[L],C=w[L],h=x.x-u.x,A=x.y-u.y;for(var p=0;p<C.length;p++)C[p].offset(h,A)}};
d._5=function(){};d._5.rs=Math.floor(16*window.devicePixelRatio);d._5.QD={};d._5.eL=0;d._5.F0=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
d._5.a8O=["px","in","cm","mm","%"];d._5.o3=function(E,y,c,e){var p=[1,y,y/2.54,y/25.4,c/100][e];return E*p};
d._5.a10=function(E,y,c,e){var p=[1,y,y/2.54,y/25.4,c/100][e];return E/p};d._5.rB=function(E,y,c,e,p){var H=c.km.sz,Z=[1,y,y/2.54,y/25.4,e/100][H],X=[2,3,2,1,2][H];
E=E/Z;var b=Math.round(E),k=H==0&&Math.abs(E-b)<1e-6?b+"":E.toFixed(X);if(p)k+=" "+d._5.a8O[H];return k};
d._5.ajU=function(E,y,c,e){var p=c.km.sz,H=[1,y,y/2.54,y/25.4,e/100][p];E=parseFloat(E)*H;return E};
d._5.avP=function(E,y){var c=E+","+y;if(d._5.QD.clr==c)return;var e=Math.round(d._5.rs*.5);d._5.eL=e;
var p=d.FB(e,e);p.save();p.font=e*1.5+"px monospace";var H="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var N=0;
N<H.length;N++){p.fillStyle="#"+d.ly(y);p.fillRect(0,0,e,e);p.fillStyle="#"+d.ly(E);p.fillText(H[N],0,e);
d._5.QD[H[N]]=new Uint8Array(p.getImageData(0,0,e,e).data.buffer)}d._5.QD.clr=c;p.restore()};d._5.a4n=function(E,y,c){var e=0,p=0,H=4*d._5.rs;
for(var N=9;N>=0;N--){var Z=Math.pow(10,N);if(5*Z*E<=H){e=5*Z;p=10;break}if(2*Z*E<=H){e=2*Z;p=4;break}if(1*Z*E<=H){e=1*Z;
p=10;break}}if(e==0){e=1;p=10}var X=Math.ceil(e*E),b=d.R(X*d._5.rs*4);d.KT(b,4278190080|c);for(var N=0;
N<d._5.rs;N++)d._5.MR(b,4*N*X,y);for(var N=0;N<X;N++)d._5.MR(b,4*((d._5.rs-1)*X+N),y);if(e==2)p=2;if(e==5)p=5;
if(e>1||e==1&&X>20)for(var N=1;N<p;N++)d._5.akl(b,N*(X/p),X,(N&1)==1?.8:.7,y);return{Rh:b,step:e}};d._5.akl=function(E,y,c,e,p){var y=Math.round(y);
for(var H=Math.round(d._5.rs*e);H<d._5.rs-1;H++)d._5.MR(E,4*(H*c+y),p)};d._5.MR=function(E,y,c){E[y+0]=c>>16&255;
E[y+1]=c>>8&255;E[y+2]=c&255};d._5.adG=function(E,y,c,e,p,H,Z){var X=E.tP.m,b=E.tP.e,k=d._5.rs,D=y&255,j=y>>8&255,g=y>>16&255;
y=Math.round(D*.6)<<16|Math.round(j*.6)<<8|Math.round(g*.6);d._5.avP(Math.round(D*.8)<<16|Math.round(j*.8)<<8|Math.round(g*.8),c);
var R=E.O,t=E.z,w=E.fb;for(var B=0;B<2;B++){var $=B==0?H:Z;E.O=$[0];E.z=$[1];E.fb=0;var o=this.a4n(E.O,y,c),T=E.GV(0,0),i=E.GV(X,b),r=Math.floor(T.x/o.step)*o.step,I=Math.ceil(i.x/o.step)*o.step,M=Math.floor(T.y/o.step)*o.step,J=Math.ceil(i.y/o.step)*o.step,P=E.qW(r,M),n=E.qW(I,M),x=o.step*E.O,L=Math.ceil(x);
if(B==1){var u=o.Rh;o.Rh=d.R(u.length*4);d.r.El(u,o.Rh,L,k)}var C=B==0?E.um.data:E._E.data,h=new ir(0,0,[X,k][B],[k,b][B]),A=new ir(0,0,[L,k][B],[k,L][B]),W=new ir([0,Math.round(k*.2)][B],[Math.round(k*.08),0][B],d._5.eL,d._5.eL),Q=(B==0?I-r:J-M)/o.step;
for(var N=0;N<Q;N++){if(B==0)A.x=Math.round(P.x+N*x);else A.y=Math.round(P.y+N*x);d.E6(o.Rh,A,C,h,A);
var l=(B==0?r+N*o.step:Math.abs(M+N*o.step)).toString(10);for(var O=0;O<l.length;O++){if(B==0)W.x=A.x+3+O*Math.round(d._5.eL*.8);
else W.y=A.y+3+O*Math.round(d._5.eL*1.15);var z=d._5.QD[l[O]];d.E6(z,W,C,h,W)}}}E.O=R;E.z=t;E.fb=w;var a=Math.floor(k*.6),m=new Uint32Array(E.um.data.buffer),q=new Uint32Array(E._E.data.buffer),K=D<128?4278190080:4294967295;
if(0<e&&e<X)for(var N=0;N<a;N++)m[N*X+e]=K;if(0<p&&p<b)for(var N=0;N<a;N++)q[p*k+N]=K};d.scale={};d.scale.V$=document.createElement("canvas");
d.scale.kA=d.scale.V$.getContext("2d");d.scale.lp=function(E,y,c){var e=d.scale.V$,p=d.scale.kA;e.width=y;
e.height=c;var H=new ImageData(new Uint8ClampedArray(E.buffer),y,c);p.putImageData(H,0,0);return p.createPattern(p.canvas,"repeat")};
d.scale.aC9=function(E,y,c,e,p,H,Z,X,b){var k=d.scale.a3I(E,c,e,p,H,Z,X,b);if(y)y.set(k);return new Uint8Array(k.buffer)};
d.scale.a3I=function(E,y,c,e,p,H,Z,X){var b=d.FB(y,c);b.save();b.rect(0,0,y,c);b.translate(H,Z);b.scale(e,p);
if(X!=null)b.rotate(-X);b.fillStyle=E;b.fill();b.restore();return new Uint8Array(b.getImageData(0,0,y,c).data.buffer)};
d.scale.u=function(E,y,c,e,p){var H=c.J==0&&c.E7==0,Z=p.m,X=p.e,b=d.A.S6(y,c).j,k=d.A.xv(b,H).fr(p),D=k.x,j=k.y,g=D+k.m,R=j+k.e,t=~~y.x,w=~~y.y,B=~~y.m,$=~~y.e;
if(H)for(var o=j;o<R;o++){var T=c.sN*(o+.5)+c.Dm-w,i=~~T*B;for(var r=D;r<g;r++){var I=c.U*(r+.5)+c.Kc-t;
e[o*Z+r]=E[i+~~I]}}else for(var o=j;o<R;o++)for(var r=D;r<g;r++){var M=r+.5,J=o+.5,I=c.U*M+c.E7*J+c.Kc-t,T=c.J*M+c.sN*J+c.Dm-w;
if(0<=I&&0<=T&&I<B&&T<$)e[o*Z+r]=E[~~T*B+~~I]}};d.scale.ana=function(E,y,c,e,p,H){var Z=new Uint32Array(E.buffer),X=new Uint32Array(e.buffer),b=p.m,k=p.e,D=d.A.S6(y,c).j,j=H?p:d.A.xv(D).fr(p),g=j.x,R=j.y,t=g+j.m,w=R+j.e,B=~~y.x,$=~~y.y,o=~~y.m,T=~~y.e;
for(var i=R;i<w;i++)for(var r=g;r<t;r++){var I=r+.5,M=i+.5,J=c.U*I+c.E7*M+c.Kc-B,P=c.J*I+c.sN*M+c.Dm-$;
if(H){J=((o<<10)+J)%o;P=((T<<10)+P)%T}if(0<=J&&0<=P&&J<o&&P<T)X[i*b+r]=Z[~~P*o+~~J]}};d.scale.Ga=function(E,y,c,e,p,H,Z){if(Z<1)d.scale.azx(E,y,c,e,p,H,Math.round(1/Z));
else d.scale.alg(E,y,c,e,p,H,Z)};d.scale.JQ=function(E,y,c,e,p,H,Z,X){if(X)X=X.fr(new ir(0,0,y,c));E=new Uint32Array(E.buffer);
e=new Uint32Array(e.buffer);if(Z<1)d.scale.a38(E,y,c,e,p,H,Math.round(1/Z),X);else d.scale.a2d(E,y,c,e,p,H,Z)};
d.scale.alg=function(E,y,c,e,p,H,Z){for(var X=0;X<c;X++)for(var b=0;b<y;b++){var k=E[X*y+b],D=Math.min(Z,p-b*Z),j=Math.min(Z,H-X*Z);
for(var N=0;N<j;N++)for(var g=0;g<D;g++)e[(Z*X+N)*p+Z*b+g]=k}};d.scale.azx=function(E,y,c,e,p,H,Z){for(var X=0;
X<H;X++)for(var b=0;b<p;b++){var k=0,D=Math.min(Z,y-b*Z),j=Math.min(Z,c-X*Z);for(var N=0;N<j;N++)for(var g=0;
g<D;g++)k+=E[(Z*X+N)*y+(Z*b+g)];e[X*p+b]=Math.round(k/(D*j))}};d.scale.a2d=function(E,y,c,e,p,H,Z){for(var X=0;
X<c;X++)for(var b=0;b<y;b++){var k=E[X*y+b],D=Math.min(Z,p-b*Z),j=Math.min(Z,H-X*Z);for(var N=0;N<j;
N++)for(var g=0;g<D;g++)e[(Z*X+N)*p+Z*b+g]=k}};d.scale.amw=function(E,y,c){return(E>>>c&255)+(y>>>c&255)>>>1};
d.scale.Qb=function(E,y){var c=d.scale.amw;return c(E,y,24)<<24|c(E,y,16)<<16|c(E,y,8)<<8|c(E,y,0)};
d.scale.aeI=function(E,y,c,e,p,H){var Z=new Uint32Array(E.buffer),X=new Uint32Array(e.buffer);for(var b=0;
b<c;b++){for(var k=0;k<y;k++){var D=b*y+k,j=Z[D],g=j,R=j,t=j;if(k<y-1)g=d.scale.Qb(j,Z[D+1]);if(b<c-1)R=d.scale.Qb(j,Z[D+y]);
if(k<y-1&&b<c-1)t=d.scale.Qb(j,Z[D+y+1]);var w=(b*p+k)*2;X[w]=j;X[w+1]=g;X[w+p]=R;X[w+p+1]=t}}if((p&1)==1)for(var b=0;
b<H;b++)X[b*p+p-1]=X[b*p+p-2];var B=p*(H-1);if((H&1)==1)for(var k=0;k<p;k++)X[B+k]=X[B-p+k]};d.scale.a38=function(E,y,c,e,p,H,Z,X){var b=0,k=p,D=0,j=H;
if(X){b=Math.floor(X.x/Z);k=Math.ceil((X.x+X.m)/Z);D=Math.floor(X.y/Z);j=Math.ceil((X.y+X.e)/Z)}for(var g=D;
g<j;g++)for(var R=b;R<k;R++){var t=0,w=0,B=0,$=0,o=Math.min(Z,y-R*Z),T=Math.min(Z,c-g*Z);for(var N=0;
N<T;N++)for(var i=0;i<o;i++){var r=E[(Z*g+N)*y+Z*R+i],I=r>>>24;t+=I;w+=I*(r>>>16&255);B+=I*(r>>>8&255);
$+=I*(r&255)}if(t!=0){var M=1/t;e[g*p+R]=t/(o*T)<<24|w*M<<16|B*M<<8|$*M}else e[g*p+R]=0}};d.i=function(){function E(X,b,N){return(128&X[N-b-1]&X[N-b]&X[N-2]&X[N-1]&X[N+1]&X[N+b-1]&X[N+b])==0}function y(X,b,N){return(128&X[N-b-b]&X[N-b+1]&X[N+2]&X[N+b+1]&X[N+b+b])==0}function c(X,b,N){return(X[N-b]&X[N-1]&X[N+1]&X[N+b]&128)==0}function e(X,N){return(X[N]&128)!=0}function p(X,b,k,D){var N=0,j=k.m,g=k.e;
if(D)for(var R=0;R<g;R++)for(var t=0;t<j;t++){if(e(X,N)&&(t<2||R<2||t>j-3||R>g-3||((X[N-1]&128)==0||b[N-1]!=0)&&E(X,j,N)||y(X,j,N)))b[N]=255;
N++}else for(var R=0;R<g;R++)for(var t=0;t<j;t++){if(e(X,N)&&(t==0||R==0||t==j-1||R==g-1||c(X,j,N)))b[N]=255;
N++}}function H(X,b,k,D,j){var g=k.m,R=k.e,t=new Uint8Array(b.buffer),w=new Uint32Array(b.buffer);if(j)for(var B=2;
B<R-2;B++)for(var $=2;$<g-2;$++){var N=B*g+$;if(e(X,N)&&(((X[N-1]&128)==0||w[N-1]!=0)&&E(X,g,N)||y(X,g,N)))w[N]=D[($+B&4)>>>2]}else for(var B=1;
B<R-1;B++)for(var $=1;$<g-1;$++){var N=B*g+$;if(e(X,N)&&c(X,g,N)){w[N]=D[($+B&4)>>>2]}}}function Z(X,b,k,D,j){var g=k.m,R=k.e,t=new Uint8Array(b.buffer),w=new Uint32Array(b.buffer),N=0;
if(D==1)for(var B=0;B<R;B++)for(var $=0;$<g;$++,N++){var o=X[N];w[N]=255-o>>>1<<24|255}else for(var B=0;
B<R;B++)for(var $=0;$<g;$++,N++){var o=X[N];w[N]=255<<24|(o<<16|o<<8|o)}}return{a1m:p,atT:H,ajW:Z}}();
d.c7={};d.c7.H0=function(E,y,c){var e,p;if(c==0){e=E.rect.clone();p=d.c7.a00}if(c==1){e=E.rect.uN(y.rect);
p=d.c7.uN}if(c==2){e=y.rect.clone();p=d.c7.acH}if(c==3){e=E.rect.fr(y.rect);p=d.c7.fr}if(c==4){e=E.rect.uN(y.rect);
p=d.c7.aAK}if(e.tj())return null;var H=d.R(e.P());d.kh(y.channel,y.rect,H,e);var Z=d.R(e.P());d.kh(E.channel,E.rect,Z,e);
p(Z,H,H);var X=d.pL(H,e);if(X.tj())return null;if(!X.rT(e)){var b=d.R(X.P());d.kh(H,e,b,X);H=b;e=X}return{channel:H,rect:e}};
d.c7.a00=function(E,y,c){for(var N=0;N<E.length;N++)c[N]=E[N]};d.c7.uN=function(E,y,c){for(var N=0;N<E.length;
N++)c[N]=Math.min(E[N]+y[N],255)};d.c7.acH=function(E,y,c){for(var N=0;N<E.length;N++)c[N]=Math.max(y[N]-E[N],0)};
d.c7.fr=function(E,y,c){var e=1/255;for(var N=0;N<E.length;N++)c[N]=E[N]*y[N]*e};d.c7.aAK=function(E,y,c){var e=1/255;
for(var N=0;N<E.length;N++)c[N]=Math.min(E[N]+y[N],255)-E[N]*y[N]*e};d.jm=function(E,y){this.H=[];this.pk=[0];
this.Jl=[];this.uF=[];this.BL=[0];this.tb=[];this.yw=[];this.rows=E;this.cols=y};d.jm.prototype.clone=function(){var E=this,y=E.rows,c=E.cols,e=new d.jm(y,c);
e.H=E.H.slice(0);e.pk=E.pk.slice(0);e.Jl=E.Jl.slice(0);e.uF=E.uF.slice(0);e.BL=E.BL.slice(0);e.tb=E.tb.slice(0);
e.yw=E.yw.slice(0);return e};d.jm.prototype.Dy=function(E,y,c){var e=this.pk.length-1;for(var N=0;N<c;
N++){var p=E[N],H=y[N];this.H.push(p);this.Jl.push(H);if(H==e){this.yw.push(p==0?0:1/p)}else{this.uF.push(p);
this.tb.push(H)}}this.pk.push(this.H.length);this.BL.push(this.uF.length)};d.jm.prototype.I6=function(E,y){var c=this,e=c.rows,p=c.H,H=c.Jl;
if(y==null)y=new Array(e);for(var N=0;N<e;N++){var Z=c.pk[N],X=c.pk[N+1],b=0;while((X-Z&3)!=0){b+=p[Z]*E[H[Z]];
Z++}for(var k=Z;k<X;k+=4)b+=p[k]*E[H[k]]+p[k+1]*E[H[k+1]]+p[k+2]*E[H[k+2]]+p[k+3]*E[H[k+3]];y[N]=b}return y};
d.jm.prototype.multiply=function(E){return this.Es(E.El())};d.jm.prototype.Es=function(E){var y=this,c=y.rows,e=y.cols,p=E.rows,H=new d.jm(c,p),Z=y.Jl,X=E.Jl;
for(var N=0;N<c;N++){var b=[],k=[],D=y.pk[N],j=y.pk[N+1];for(var g=0;g<p;g++){var R=E.pk[g],t=E.pk[g+1],w=0,B=D,$=R;
while(B<j&&$<t){var o=Math.max(Z[B],X[$]);while(B<j&&Z[B]<o)B++;while($<t&&X[$]<o)$++;if(B<j&&$<t&&Z[B]==X[$])w+=y.H[B++]*E.H[$++]}if(w!=0){b.push(w);
k.push(g)}}H.Dy(b,k,b.length)}return H};d.jm.prototype.El=function(){var E=this.rows,y=this.cols,c=[];
for(var N=0;N<y;N++)c.push([[],[]]);var e=this.H,p=this.pk,H=this.Jl;for(var N=0;N<E;N++){var Z=p[N],X=p[N+1];
for(var b=Z;b<X;b++){var k=c[H[b]];k[0].push(e[b]);k[1].push(N)}}var D=new d.jm(y,E);for(var N=0;N<y;
N++)D.Dy(c[N][0],c[N][1],c[N][1].length);return D};d.jm.prototype.KC=function(){var E=this.rows,y=this.cols,c=new Array(E),e=this.H,p=this.pk,H=this.Jl;
for(var N=0;N<E;N++){var Z=c[N]=new Array(y);for(var X=0;X<y;X++)Z[X]=0;var b=p[N],k=p[N+1];for(var D=b;
D<k;D++)Z[H[D]]=e[D]}return c};d.jm.prototype.Nt=function(E,y,c,e,p){function H(M,y,J,P){var n=M.length;
for(var N=0;N<n;N++)P[N]=M[N]-y[N]*J}function Z(M,y,J,P){var n=M.length,x=0;while((n-x&3)!=0){P[x]=M[x]+y[x]*J;
x++}for(var N=x;N<n;N+=4){P[N]=M[N]+y[N]*J;P[N+1]=M[N+1]+y[N+1]*J;P[N+2]=M[N+2]+y[N+2]*J;P[N+3]=M[N+3]+y[N+3]*J}}function X(M,y,J){var P=M.length;
for(var N=0;N<P;N++)J[N]=M[N]*y[N]}function b(M,y){var J=M.length,P=0,n=0;while((J-P&3)!=0){n+=M[P]*y[P];
P++}for(var N=P;N<J;N+=4)n+=M[N]*y[N]+M[N+1]*y[N+1]+M[N+2]*y[N+2]+M[N+3]*y[N+3];return n}var k=e!=null?2:1,D=Date.now(),j=0,g=this,R=E.slice(0),t=E.slice(0);
g.I6(E,t);H(y,t,1,R);var w=this.yw;if(k==0){w=R.slice(0);w.fill(1)}var B=R.slice(0);X(w,R,B);var $=B.slice(0),o=b(R,B);
while(!0){g.I6($,t);var T=o/b($,t);Z(E,$,T,E);H(R,t,T,R);if((j&7)==0&&Math.sqrt(b(R,R))<c)break;if(k<=1)X(w,R,B);
else{var i=R.slice(0);e.aBy(i,R);p.agO(B,i)}var r=b(R,B),I=r/o;Z(B,$,I,$);o=r;j++}};d.jm.prototype.aaH=function(E,y,c,e){var p=Date.now(),H=1.96,X=0;
if(c==null)c=5e-6;if(e==null)e=1e9;var Z=1-H,j1=this.rows,b=this.uF,k=this.BL,D=this.tb,j=this.yw;while(!0){var g=0;
for(var N=0;N<j1;N++){var R=y[N],t=k[N],w=k[N+1];if(w-t==4)R-=b[t]*E[D[t]]+b[t+1]*E[D[t+1]]+b[t+2]*E[D[t+2]]+b[t+3]*E[D[t+3]];
else for(var B=t;B<w;B++)R-=b[B]*E[D[B]];var $=E[N]*Z+j[N]*R*H,o=$-E[N];g+=o*o;E[N]=$}if(g/j1<c||Date.now()>p+e)break}};
d.jm.prototype.aCu=function(E,y,c,e){var p=Date.now(),H=1.96,X=0;if(c==null)c=5e-5;if(e==null)e=1e9;
var Z=1-H,j1=this.rows,b=this.uF,k=this.BL,D=this.tb,j=this.yw;while(!0){var g=0;for(var N=0;N<j1;N++){var R=N*3,t=y[R],w=y[R+1],B=y[R+2],$=k[N],o=k[N+1];
for(var T=$;T<o;T++){var i=b[T],r=D[T]*3;t-=i*E[r+0];w-=i*E[r+1];B-=i*E[r+2]}var I=j[N]*H,M=E[R+0]*Z+t*I,J=E[R+1]*Z+w*I,P=E[R+2]*Z+B*I,n=M-E[R+0],x=J-E[R+1],L=P-E[R+2];
g+=.4*n*n+.5*x*x+.1*L*L;E[R+0]=M;E[R+1]=J;E[R+2]=P}if(g/j1<c||Date.now()>p+e)break}};d.$K={};d.$K.rL=function(E,y,c){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:E},Vrtc:{t:"doub",v:y},Cnty:{t:"bool",v:c}}}};
d.$K.u=function(E,y){for(var N=0;N<E.length;N++){var c=E[N].v,e=y.dl(new eq(c.Hrzn.v,c.Vrtc.v));c.Hrzn.v=Math.round(e.x);
c.Vrtc.v=Math.round(e.y)}};d.$K.aeA=function(E,y,c){var j1=E.length-1,e=d.dX.hl(j1+1,j1+2);for(var N=1;
N<j1;N++){e[N][N-1]=1/(E[N]-E[N-1]);e[N][N]=2*(1/(E[N]-E[N-1])+1/(E[N+1]-E[N]));e[N][N+1]=1/(E[N+1]-E[N]);
e[N][j1+1]=3*((y[N]-y[N-1])/((E[N]-E[N-1])*(E[N]-E[N-1]))+(y[N+1]-y[N])/((E[N+1]-E[N])*(E[N+1]-E[N])))}e[0][0]=2/(E[1]-E[0]);
e[0][1]=1/(E[1]-E[0]);e[0][j1+1]=3*(y[1]-y[0])/((E[1]-E[0])*(E[1]-E[0]));e[j1][j1-1]=1/(E[j1]-E[j1-1]);
e[j1][j1]=2/(E[j1]-E[j1-1]);e[j1][j1+1]=3*(y[j1]-y[j1-1])/((E[j1]-E[j1-1])*(E[j1]-E[j1-1]));d.dX.Kx(e,c)};
d.$K.a2o=function(E,y,c,e){if(E<=y[0])return c[0];if(E>=y[y.length-1])return c[y.length-1];var N=1;while(y[N]<E)N++;
var p=y[N],H=y[N-1],Z=c[N],X=c[N-1],b=(E-H)/(p-H),k=e[N-1]*(p-H)-(Z-X),D=-e[N]*(p-H)+(Z-X),j=(1-b)*X+b*Z+b*(1-b)*(k*(1-b)+D*b);
return j};d.$K.a54=function(E,y,c,e){var p={oX:[E[0]],Jk:[y[0]],es:[]};e[0]=p;for(var N=1;N<E.length-1;
N++){p.oX.push(E[N]);p.Jk.push(y[N]);if(c[N]==!1){d.$K.aeA(p.oX,p.Jk,p.es);p={oX:[E[N]],Jk:[y[N]],es:[]}}e[N]=p}p.oX.push(E[N]);
p.Jk.push(y[N]);d.$K.aeA(p.oX,p.Jk,p.es);e[N]=p};d.$K.aj8=function(E,y,c,e){if(E<=y[0])return c[0];if(E>=y[y.length-1])return c[y.length-1];
var N=1;while(y[N]<E)N++;var p=e[N-1];return d.$K.a2o(E,p.oX,p.Jk,p.es)};d.$K.ab9=function(E){var y={oX:[],Jk:[],vA:[]};
for(var N=0;N<E.length;N++){y.oX[N]=E[N].v.Hrzn.v;y.Jk[N]=E[N].v.Vrtc.v;y.vA[N]=E[N].v.Cnty?E[N].v.Cnty.v:!0}return y};
d.$K.O_=function(E,j1,y){var c=0,e=255;if(y){c=-1e9;e=1e9}var p=d.$K.ab9(E),H=[];d.$K.a54(p.oX,p.Jk,p.vA,H);
var Z=[];for(var N=0;N<j1;N++)Z[N]=1/255*Math.max(c,Math.min(e,d.$K.aj8(N*(255/(j1-1)),p.oX,p.Jk,H)));
return Z};d.$K.akf=function(E,j1,y){var c=Math.round(E.length/20),e=j1-E.length,p=y?(E[c]-E[0])/c:0,H=y?E[0]-e*p:E[E.length-1],Z=[];
for(var N=0;N<e;N++)Z.push(H+N*p);return y?Z.concat(E):E.concat(Z)};d.$K.So=function(E,j1,y){var c=d.$K.ab9(E),e=[];
d.$K.a54(c.oX,c.Jk,c.vA,e);var p=new Uint8Array(j1),H=j1/256;for(var N=0;N<j1;N++)p[N]=Math.max(0,Math.min(j1-1,d.$K.aj8(N*H,c.oX,c.Jk,e)));
if(y){p[0]=0;if(p[1]>100)p[1]=.4*p[1];if(p[2]>150)p[1]=.7*p[2]}return p};d.$K.akN=function(E,y){var c=new Uint8Array(E.length);
for(var N=0;N<E.length;N++)c[N]=y[E[N]];return c};d.$K.y_=function(E,y,c){var e=document.createElement("canvas");
e.width=y;e.height=c;var p=e.getContext("2d"),H=d.$K.So(E,256);p.scale(y/255,c/255);p.fillStyle="#fff";
p.fillRect(0,0,255,255);p.fillStyle="#333";p.beginPath();p.moveTo(0,255);for(var N=0;N<H.length;N++)p.lineTo(N,255-H[N]);
p.lineTo(255,255);p.closePath();p.fill();return e.toDataURL()};d.style={};d.style.stroke=function(E,y,c,e){var p=c.m,H=c.e,Z=d.style.d1(E,p,H);
d.style.O9(y,c,Z,c,e)};d.style.O9=function(E,y,c,e,p){var H=y.fr(e),Z=H.m,X=H.e;p+=.5;var b=H.x-y.x,k=H.y-y.y,D=y.m,j=H.x-e.x,g=H.y-e.y,R=e.m;
for(var t=0;t<X;t++){var w=(t+g)*R+j,B=(t+k)*D+b;for(var $=0;$<Z;$++){var o=Math.max(0,Math.min(1,p-c[w+$]));
E[B+$]=Math.round(o*255)}}};d.style.aiE=function(E,y,c,e){for(var p=0;p<c;p++)for(var H=0;H<y;H++){var Z=p*y+H,X=0,b=0,k=E[Z];
if(H==0||p==0){X=E[Z+1]-k;b=E[Z+y]-k}else if(H==c-1||p==y-1){X=k-E[Z-1];b=k-E[Z-y]}else{X=E[Z+1]-E[Z-1];
b=E[Z+y]-E[Z-y]}if(X!=0||b!=0){var D=1/Math.sqrt(X*X+b*b);X*=D;b*=D}e[Z+Z]=X;e[Z+Z+1]=b}};d.style.d1=function(E,y,c){var e=y*c,p=new ArrayBuffer((e+y*4)*4),H=new Float32Array(p,0,e),Z=new Uint16Array(p,0,e<<1),X=new Int32Array(p,e*4,y),b=new Int32Array(p,(e+y)*4,y),k=new Int32Array(p,(e+y*2)*4,y),D=new Int32Array(p,(e+y*3)*4,y),j=1/255;
for(let N=0;N<y;++N){let g=-c-y,R=0,t=N,w=0;for(;w<c;++w,t+=y){if(E[t]>128)g=w,R=E[t];Z[t<<1]=w-g;Z[(t<<1)+1]=R}g=Z[t+=t-y-y],R=Z[t+1];
for(;w>1;--w){if(Z[t-=y+y]>g)Z[t]=++g,Z[t+1]=R;else g=Z[t],R=Z[t+1]}}for(let B=0;B<e;B+=y){var $=B+y,o=Z[B<<1]*Z[B<<1],T=0;
let i=X[0]=B,r=b[0]=B,I=o,M=I;for(let t=B+1;t<$;++t){var J=Z[t<<1]*Z[t<<1];while(T&&M>(r-t)*(r-t)+J){r=b[--T],i=X[T],I=Z[i<<1]*Z[i<<1],M=(r-i)*(r-i)+I}if(T||M<=(r-t)*(r-t)+J){var P=t-i,n=B+Math.floor((P*(t+i-B-B)+J-I)/(P<<1))+1;
if(n<$){r=b[++T]=n,i=X[T]=t,I=J,M=(r-i)*(r-i)+I}}else r=B,i=X[0]=t,I=J,M=(r-i)*(r-i)+I}for(let N=0;N<T;
++N){var x=X[N]<<1;k[N]=Z[x]*Z[x];D[N]=Z[x+1]}let L=.5-Z[(X[T]<<1)+1]*j;for(let t=$-1;t>=B;--t){H[t]=Math.max(0,Math.sqrt((t-i)*(t-i)+I)+L);
if(T&&t==r){r=b[--T],i=X[T],I=k[T],L=.5-D[T]*j}}}return H};d.style.adP=function(E,y,c){var e=new Float64Array(y*c),p=0,H=y*c;
for(var N=0;N<H;N++)p|=E[N];if(p==0){e.fill(1e9);return}var Z=d.style.ge(E,y,c);for(var X=0;X<c;X++)for(var b=0;
b<y;b++){var N=X*y+b,k=Z[N*2],D=Z[N*2+1];if(k==0&&D==0){e[N]=0;continue}var j=Math.sqrt(k*k+D*D),g=E[(X+D)*y+b+k]*(1/255);
e[N]=j+.5-g}return e};d.style.ajj=function(E,y,c){return(.5-c)*E};d.style.ge=function(E,y,c,e){var p=new Int16Array(y*c*2);
d.style.a97(E,p,y,c,128);return p};d.style.a97=function(E,y,c,e,p){var H=new Int32Array(c*e);d.style.a1Y(E,H,c,e,p);
d.style.a3r(H,y,c,e)};d.style.a1Y=function(E,y,c,e,p){var H=new Int32Array(e);for(var Z=0;Z<c;Z++){var X=c+e;
for(var b=e-1;b>=0;b--){if(E[b*c+Z]>p)X=0;else X++;H[b]=X}X=c+e;for(var b=0;b<e;b++){if(E[b*c+Z]>p)X=0;
else X++;y[b*c+Z]=X<H[b]?-X:H[b]}}};d.style.a3r=function(E,y,c,e){var p=(c+e)*(c+e),H=new Float64Array(c),Z=new Uint16Array(c);
for(var X=0;X<e;X++){var b=X*c,k=0;Z[0]=0;H[0]=-p;H[1]=+p;for(var D=1;D<c;D++){var j=E[D+b]*E[D+b]+D*D,g=(j-(E[Z[k]+b]*E[Z[k]+b]+Z[k]*Z[k]))/(2*D-2*Z[k]);
while(g<=H[k]){k--;g=(j-(E[Z[k]+b]*E[Z[k]+b]+Z[k]*Z[k]))/(2*D-2*Z[k])}k++;Z[k]=D;H[k]=g;H[k+1]=p}k=0;
for(var D=0;D<c;D++){while(H[k+1]<D)k++;var R=Z[k]-D,t=E[Z[k]+b],N=X*c+D<<1;y[N]=R;y[N+1]=t}}};d.style.XZ=function(E,y,c){if(c)for(var N=0;
N<E.length;N++){var e=E[N];if(e>0)E[N]=Math.max(0,Math.min(255,e+y*2*(d.style.NB(N)-128)))}else for(var N=0;
N<E.length;N++){var e=E[N];if(e>0)E[N]=Math.max(0,Math.min(255,e+Math.min(e*3,y*2*(d.style.NB(N)-128))))}};
d.style.NB=function(E){E=E^61^E>>16;E=E+(E<<3);E=E^E>>4;E=E*668265261;E=E^E>>15;return E&255};d.fS={};
d.fS.Ek=function(E,y,c){var e=E.canvas;if(e.width!=y||e.height!=c){e.width=y;e.height=c}};d.fS.xp=function(E,y,c,e,p,H){d.fS.Ek(E,y,c);
if(H==null)H=!1;var Z=p.channel,X=p.rect,b=!p.isEnabled;if(y*c==0)return;var k=E.createImageData(y,c),D=k.data,j=1/y,g=1/c;
for(var N=0;N<c;N++)for(var R=0;R<y;R++){var t=N*y+R,w=t*4,B=Math.round(e.x+R*j*e.m),$=Math.round(e.y+N*g*e.e),o=0;
if(B<X.x||B>=X.x+X.m||$<X.y||$>=X.y+X.e)o=p.color;else o=Z[($-X.y)*X.m+(B-X.x)];o=255*(255-p.$a)+o*p.$a>>>8;
if(H)o=170+Math.round(.4*(o-170));D[w]=o;D[w+1]=o;D[w+2]=o;D[w+3]=255}E.putImageData(k,0,0);if(b)d.fS.awL(E,y,c)};
d.fS.acN=[];d.fS.aoZ=function(E,y,c,e){var p,H,Z;p=Math.ceil(Math.max(y,c)*.35);H=y-p;Z=c-p;var X=d.fS.acN[p];
if(X==null){var b=d.FB(p,p);b.fillStyle="#eeeeee";b.fillRect(0,0,p,p);var k=Math.round(p*.27),D=b.lineWidth=Math.max(1,Math.round(p*.12)),j=D/2;
b.strokeRect(1+j,1+j,p-D-2,p-D-2);b.strokeRect(k+j,k+j,p-k-k-D,p-k-k-D);X=d.fS.acN[p]=b.getImageData(0,0,p,p)}E.putImageData(X,H,Z)};
d.fS.aD$=[];d.fS.az6=function(E,y,c){var e,p,H;e=Math.ceil(Math.max(y,c)*.35);p=y-e;H=c-e;var Z=d.fS.aD$[e];
if(Z==null){var X=d.FB(e,e);X.fillStyle="#eeeeee";X.fillRect(0,0,e,e);X.lineWidth=1;X.strokeRect(2.5,2.5,e-5,e-5);
var b=X.createImageData(3,3);d.KT(b.data,4278190080);b.data[4*4]=b.data[4*4+1]=b.data[4*4+2]=238;X.putImageData(b,1,1);
X.putImageData(b,e-4,1);X.putImageData(b,1,e-4);X.putImageData(b,e-4,e-4);Z=d.fS.aD$[e]=X.getImageData(0,0,e,e)}E.putImageData(Z,p,H)};
d.fS.a15=function(E,y,c,e,p){d.fS.Ek(E,y,c);var H=y/e.m;if(y*c==0)return;E.fillStyle="#999999";E.setTransform(1,0,0,1,0,0);
E.clearRect(0,0,y,c);var Z=d.fS.vL;if(Z==null)Z=d.fS.vL=cb.CY.TL(!0,!0);Z.strokeStyleLineWidth.v.val=1/H;
E.fillStyle="#ffffff";E.scale(H,H);d.o.m$(p.X,E,0,0);d.o.m$(p.X,E,0,0,Z)};d.fS.ave=null;d.fS.a8=function(E,y,c,e,p,H,Z,X,b){d.fS.Ek(E,y,c);
if(y*c==0)return;var k=Math.max(y,c),D=d.fS.ave;if(D==null||D.width<k||D.height<k){d.fS.ave=D=E.createImageData(k,k)}k=D.width;
var j=D.data,g=e.m/y,R=e.e/c,t=H.x,w=H.x+H.m,B=H.y,$=H.y+H.e;for(var N=0;N<c;N++)for(var o=0;o<y;o++){var T=N*k+o,i=T*4,r=~~(e.x+o*g),I=~~(e.y+N*R),M=d.av6(N,o,2);
if(r<t||r>=w||I<B||I>=$||b){j[i]=M;j[i+1]=M;j[i+2]=M;j[i+3]=255}else{var J=(I-H.y)*H.m+(r-H.x)<<2,P=p[J+3]*(1/255);
j[i]=p[J+0]*P+M*(1-P);j[i+1]=p[J+1]*P+M*(1-P);j[i+2]=p[J+2]*P+M*(1-P);j[i+3]=255}}if(X!=null)for(var N=0;
N<j.length;N+=4)j[N]=j[N+1]=j[N+2]=j[N+X];E.putImageData(D,0,0);if(Z)d.fS.awL(E,y,c)};d.fS.awT=function(E,y,c,e){d.fS.Ek(E,y,c);
E.fillStyle=d.fS.yd(e.Clr.v);E.fillRect(0,0,y,c);d.fS.G9(E,y,c)};d.fS.abX=null;d.fS.awW=function(E,y,c,e){d.fS.Ek(E,y,c);
var p=E.canvas.width,H=E.canvas.height,Z=d.fS.abX;if(Z==null||Z.width!=p||Z.height!=H){E.fillStyle="#ffffff";
E.fillRect(0,0,y,c);E.fillStyle="#000000";E.font=""+c*.7+"px serif";E.fillText("T",(y-c*.43)/2,c*.75);
E.fillText("T",(y-c*.43)/2,c*.75);d.fS.abX=E.getImageData(0,0,p,H)}else E.putImageData(Z,0,0)};d.fS.afj=function(E,y,c){d.fS.Ek(E,y,c);
E.clearRect(0,0,y,c);E.font=c*.7+"px serif";E.fillText(":(",(y-c*.43)/2,c*.7)};d.fS.amW=function(E,y,c,e){d.fS.Ek(E,y,c);
var p=et.get(e),H=E.canvas.width,Z=d.fS.ay4[H+p];if(Z==null){var X=PIMG["adj/"+p],b=iu.tf(X),k=UPNG.decode(b.buffer),D=new Uint8Array(UPNG.toRGBA8(k)[0]),j=new ir(0,0,160,160),g=0,R=H-g*2,t=F.Y.$X([D,j],new jr(R/160,0,0,R/160,0,0)),w=new ir(0,0,H,H),B=d.R(w.P()*4);
d.l.Io("norm",t.buffer,t.rect,B,w,t.rect,1);Z=d.fS.ay4[H+p]=new ImageData(new Uint8ClampedArray(B.buffer),H,H)}E.putImageData(Z,0,0)};
d.fS.ay4={};d.fS.agB=function(E,y,c,e){d.fS.Ek(E,y,c);var p=E.canvas.width,H=E.canvas.height,Z=E.getImageData(0,0,p,H);
d.L.Z$(e.Grad.v,new Uint8Array(Z.data.buffer),new ir(0,0,p,H),[1/p,0,0,1/H],p/2,H/2,!1,0,16711680,65280);
E.putImageData(Z,0,0);d.fS.G9(E,y,c)};d.fS.alk=function(E,y,c,e,p){d.fS.Ek(E,y,c);var H=E,Z=hA.GX(e.Ptrn.v,p.add.Patt);
if(Z==null)return;var X=Z.Gi[1];d.fS.a8(E,y,c,X,Z.Gi[0],X,!1);d.fS.G9(H,y,c)};d.fS.awL=function(E,y,c){E.strokeStyle="#bb0000";
E.lineWidth=3;E.beginPath();E.moveTo(y*.15,c*.15);E.lineTo(y*.85,c*.85);E.moveTo(y*.85,c*.15);E.lineTo(y*.15,c*.85);
E.closePath();E.stroke()};d.fS.G9=function(E,y,c){E.fillStyle="#eeeeee";E.fillRect(0,c*.75,y,c*.25);
E.beginPath();E.moveTo(0,c*.75);E.lineTo(y,c*.75);E.moveTo(y*.1,c*.875);E.lineTo(y*.9,c*.875);E.moveTo(y*.65,c*.825);
E.lineTo(y*.65,c*.95);E.closePath();E.stroke()};d.fS.yd=function(E){var y=d.L.yd(E),c=Math.round(y.Z)<<16|Math.round(y.D)<<8|Math.round(y.J);
return"#"+d.ly(c)};d.o={};d.o.rC=function(E,y,c){var e=[],p=-1;for(var N=0;N<E.length;N++){var H=E[N];
if((H.type==0||H.type==3)&&H.O0!=-1)p++;if(H.type>5||H.type==0||H.type==3)continue;if(y!=null&&y.indexOf(p)==-1)continue;
if(c!=null&&c.indexOf(N)==-1)continue;e.push(H.$0.x);e.push(H.$0.y);e.push(H.I.x);e.push(H.I.y);e.push(H.dW.x);
e.push(H.dW.y)}return e};d.o.nd=function(E,y,c,e){var p=0,H=-1;for(var N=0;N<y.length;N++){var Z=y[N];
if((Z.type==0||Z.type==3)&&Z.O0!=-1)H++;if(Z.type>5||Z.type==0||Z.type==3)continue;if(c!=null&&c.indexOf(H)==-1)continue;
if(e!=null&&e.indexOf(N)==-1)continue;Z.$0.tW(E[p],E[p+1]);Z.I.tW(E[p+2],E[p+3]);Z.dW.tW(E[p+4],E[p+5]);
p+=6}};d.o.dg=function(E,y,c,e){var p=d.o.rC(E,c,e);d.A.u(p,y,p);d.o.nd(p,E,c,e)};d.o.aeP=function(E,y,c,e){var p=d.o.rC(E,c,e);
d.r.u(y,p);d.o.nd(p,E,c,e)};d.o.aa6=function(E,y,c,e){if(e==null){var p=d.o.a0T(E,40,c);for(var N=0;
N<p.length;N++)E[N]=p[N]}var H=d.o.rC(E,c,e);d.My.u(y,H,d.A.n7(H));d.o.nd(H,E,c,e)};d.o.a0T=function(E,y,c){var e=[],p=-1;
for(var N=0;N<E.length;N++){var H=E[N],Z=H.length;if(H.type>5){e.push(JSON.parse(JSON.stringify(H)));
continue}H=JSON.parse(JSON.stringify(H));e.push(H);if(H.O0!=-1)p++;if(c&&c.indexOf(p)==-1){e=e.concat(E.slice(N+1,N+1+Z))}else{var X=d.o.au9(E,N+1,Z);
X=d.A.Kn(X,y);var b=d.o.at0(X);H.length=b.length;for(var k=0;k<b.length;k++)e.push(b[k])}N+=Z}return e};
d.o.au9=function(E,y,c){var e={G:["M"],j:[]},p=E[y],H=E[y+c-1];e.j.push(p.I.x,p.I.y);for(var N=1;N<c;
N++){var Z=E[y+N-1],X=E[y+N];e.G.push("C");e.j.push(Z.dW.x,Z.dW.y,X.$0.x,X.$0.y,X.I.x,X.I.y)}e.G.push("C");
e.j.push(H.dW.x,H.dW.y,p.$0.x,p.$0.y,p.I.x,p.I.y);return e};d.o.at0=function(E){var y=[],c=E.G,e=E.j,p=0,j1=e.length;
y.push({type:2,$0:new eq(e[j1-4],e[j1-3]),I:new eq(e[0],e[1]),dW:new eq(e[2],e[3])});for(var N=0;N<c.length-2;
N++){var H=N*6+4;y.push({type:2,$0:new eq(e[H],e[H+1]),I:new eq(e[H+2],e[H+3]),dW:new eq(e[H+4],e[H+5])})}return y};
d.o.a1R=function(E){for(var N=0;N<E.length;N++){if(E[N].type>5)continue;var y=E[N].length;if(!(y==4||y==6||y==8)){N+=y;
continue}for(var c=0;c<y;c++){var e=E[N+1+c],p=E[N+1+(c+1)%y],H=Math.min(e.I.x,p.I.x),Z=Math.min(e.I.y,p.I.y),X=0,b=0;
if(e.I.x<p.I.x){X=e.I.y-Z;b=X-(p.I.x-H)}else{X=p.I.y-Z;b=X-(e.I.x-H)}if(Math.abs(b)<.2*X)return X}}return-1};
d.o.L$=function(E,y,c){function e(g,R){var t=Math.min(g.x,R.x),w=Math.min(g.y,R.y),B=Math.max(g.x+g.m,R.x+R.m),$=Math.max(g.y+g.e,R.y+R.e);
return new ir(t,w,B-t,$-w)}var p=null,H=-1,Z=!d.o.c1(E);for(var N=0;N<E.length;N++){var X=E[N];if(X.type>5)continue;
if((X.type==0||X.type==3)&&X.O0!=-1)H++;if(y!=null&&y.indexOf(H)==-1)continue;if(N==E.length-1)break;
var b=X.type==3,k=X.length,D=X.O0,j=d.o.MM(E,N+1,k,b);if(p==null)p=j;else if(c)p=e(p,j);else if(Z){if(y!=null||D==0||D==-1||D==2)p=e(p,j);
else if(D==1)p=p;else if(D==3){p=j;Z=!1}}else{if(y!=null||D==0||D==-1||D==1)p=e(p,j);else if(D==2)p=p;
else if(D==3)p=p.fr(j)}N+=k}if(p==null||p.m<0||p.e<0)p=new ir(0,0,0,0);return p};d.o.a6J=new Float64Array(4);
d.o.MM=function(E,N,y,c){var e=d.o.a6J;e[0]=1e30;e[1]=1e30;e[2]=-1e30;e[3]=-1e30;var p=E[N+y-1];if(!c)d.o.auC(p.I.x,p.I.y,p.dW.x,p.dW.y,E[N].$0.x,E[N].$0.y,E[N].I.x,E[N].I.y,e);
for(var H=N;H<N+y-1;H++){var Z=E[H],X=E[H+1];d.o.auC(Z.I.x,Z.I.y,Z.dW.x,Z.dW.y,X.$0.x,X.$0.y,X.I.x,X.I.y,e)}return new ir(e[0],e[1],e[2]-e[0],e[3]-e[1])};
d.o.auC=function(E,y,c,e,p,H,Z,X,b){if(E==c&&y==e&&p==Z&&H==X){b[0]=Math.min(b[0],Math.min(E,Z));b[1]=Math.min(b[1],Math.min(y,X));
b[2]=Math.max(b[2],Math.max(E,Z));b[3]=Math.max(b[3],Math.max(y,X));return}var k=E,D=y,j=E,g=y,R=40,t=1/(R-1);
for(var w=0;w<R;w++){var B=w*t,$=1-B,o=$*$*$,T=3*$*$*B,i=3*$*B*B,r=B*B*B,I=o*E+T*c+i*p+r*Z,M=o*y+T*e+i*H+r*X;
if(I<k)k=I;else if(I>j)j=I;if(M<D)D=M;else if(M>g)g=M}if(k<b[0])b[0]=k;if(D<b[1])b[1]=D;if(j>b[2])b[2]=j;
if(g>b[3])b[3]=g};d.o.aep=function(E,y){var c=E.length-3,e=y%c,p=Math.floor(e);if(y<0||p>=c)return null;
var H=E[3+p],Z=E[3+(p+1)%c],X=H.I,b=H.dW,k=Z.$0,D=Z.I,j=e-p,g=1-j,R=g*g*g*X.x+3*g*g*j*b.x+3*g*j*j*k.x+j*j*j*D.x,t=g*g*g*X.y+3*g*g*j*b.y+3*g*j*j*k.y+j*j*j*D.y;
return new eq(R,t)};d.o.Kt=function(E,y){var c=d.A.ue(E),e=c.E8;c.E8=Typr.U.pathToSVG({crds:e.j,cmds:e.G},y==null?2:y);
return c};d.o.a2=function(E){d.o.bM();var y,c=d.o.Cb(E),e=[];for(var N=0;N<c.length;N++){var p=c[N][0],H=c[N][1];
if(Math.abs(p.area)<1e-5)e.push(p);else if(y==null)y=p;else{if(!p.closed)p.closed=!0;y=y[H](p);y.remove()}}if(y==null)y=new paper.CompoundPath(e);
else{if(y.segments)y=new paper.CompoundPath(y);for(var N=0;N<e.length;N++){y.addChild(e[N])}}var Z=E.slice(0,2);
Z=Z.concat(d.o.am(y));d.o.Ki(c);d.o.Ki([[y]]);if(Z[2])Z[2].O0=1;for(var N=3;N<Z.length;N++)if(Z[N].O0!=null)Z[N].O0=-1;
return Z};d.o.bM=function(){if(d.o.a2$==null){var E=document.createElement("canvas");paper.setup(E);
d.o.a2$=!0}};d.o.aqR=function(E,y){d.o.bM();var c=[],e=d.o.Cb(E),p=new paper.Path.Rectangle(new paper.Rectangle(y.x,y.y,y.m,y.e));
p.remove();p.fillColor=new paper.Color(1,0,0);for(var N=0;N<e.length;N++){if(p.intersects(e[N][0])||p.contains(e[N][0].children[0].segments[0].point))c.push(N)}d.o.Ki(e);
return c};d.o.U1=function(E,y,c,e){d.o.bM();var p=c?{curves:!0,tolerance:e}:null,H=new paper.Point(y.x,y.y),Z=d.o.Cb(E);
d.o.Ki(Z);for(var N=Z.length-1;N>=0;N--){var X=Z[N][0],b=X.hitTest(H,p);if(b!=null)return{h2:N,O$:c?b.location.index:null,ih:c?b.location.time:0}}return{h2:-1}};
d.o.Dw=function(E,y,c,e){var p=[[],[],[]];for(var N=0;N<E.length;N++){var H=E[N];if(H.type>5||H.type==0||H.type==3)continue;
var Z=y.u6(H.I),X=y.u6(H.$0),b=y.u6(H.dW);if(c&&c.indexOf(N)==-1){if(e){if(c.indexOf(N-1)==-1)X=!1;if(c.indexOf(N+1)==-1)b=!1}else X=b=!1}if(Z)p[0].push(N);
if(X)p[1].push(N);if(b)p[2].push(N)}p[3]=p[0].length+p[1].length+p[2].length;return p};d.o.azA=function(E,y,c){var e=E[y];
for(var p=y+1;p<c;p++)E[p-1]=E[p];E[c-1]=e};d.o.a1X=function(E,y,c,e){var N,p,H,Z=0;E=E.slice(0);y.sort(function(t,w){return t-w});
H=-1;for(N=2;N<E.length;){var X=E[N],b=X.length;if(X.O0!=-1)H++;var k=Z;while(k<y.length&&y[k]<N+1+b)k++;
if(Z!=k){var D=y.slice(Z,k);Z=k;for(p=0;p<b;p++)if(D.indexOf(N+1+p)!=-1)E[N+1+p]=null;if(X.type==0){var j=D[0]-(N+1);
while(j!=0){d.o.azA(E,N+1,N+1+b);j--}}var g=X;g.length=0;p=0;while(p<b&&E[N+1+p]==null)p++;while(p<b){var R=E[N+1+p];
if(R!=null)g.length++;else if(p<b+1&&E[N+1+p+1]&&e){g=E[N+1+p]={type:0,O0:-1,length:0,cr:0,x9:0,X7:1}}p++}if(e)for(p=-1;
p<b;p++)if(E[N+1+p]&&E[N+1+p].type<3)E[N+1+p].type+=3;d.gM.z4(c,H)}N+=1+b}for(N=0;N<E.length;N++)if(E[N]==null){E.splice(N,1);
N--}H=0;for(N=2;N<E.length;N++){var X=E[N];if(X.length==0){if(E[N+1]&&E[N+1].O0==-1)E[N+1].O0=X.O0;else if(X.O0!=-1)c.splice(H,1);
E.splice(N,1);N--}else if(X.length!=null&&X.O0!=-1)H++}return E};d.o.akD=function(E,y){var c=E.slice(0,2),e=-1;
for(var N=2;N<E.length;N++){if((E[N].type==0||E[N].type==3)&&E[N].O0!=-1)e++;if(y.indexOf(e)==-1)c.push(E[N])}return c};
d.o.ayy=function(E,y){var c=E.slice(0,2),e=-1;for(var N=2;N<E.length;N++){if((E[N].type==0||E[N].type==3)&&E[N].O0!=-1)e++;
if(y.indexOf(e)!=-1)c.push(E[N])}return c};d.o.aa3=function(E){var y=0;for(var N=0;N<E.length;N++)if(E[N].type==0||E[N].type==3)y=N;
return E[y]};d.o.a0=function(E){var y=-1;for(var N=0;N<E.length;N++)if((E[N].type==0||E[N].type==3)&&E[N].O0!=-1)y++;
return y+1};d.o.O3=function(E,y,c){var e=-1;for(var N=0;N<E.length;N++)if((E[N].type==0||E[N].type==3)&&(c||E[N].O0!=-1)){e++;
if(e==y)return N}return-1};d.o.CV=function(E,y,c){var e=-1;for(var N=0;N<E.length;N++)if((E[N].type==0||E[N].type==3)&&(c||E[N].O0!=-1)){if(N>=y)return e;
e++}return e};d.o.$l=function(E,y){var c=-1,e=0;for(var N=0;N<E.length;N++){if((E[N].type==0||E[N].type==3)&&E[N].O0!=-1)c++;
if(c==y)e++}return e};d.o.aA6=function(E){var y=180;for(var N=0;N<E.length;N++){if(E[N].type!=0&&E[N].type!=3)continue;
var c=E[N].length;if(c<3)continue;for(var e=0;e<c;e++){var p=E[N+1+(e-1+c)%c],H=E[N+1+e],Z=E[N+1+(e+1)%c],X=H.I,b=H.$0.rT(X)?p.dW:H.$0,k=H.dW.rT(X)?Z.$0:H.dW;
if(X.rT(b)||X.rT(k))continue;var D=b.x-X.x,j=b.y-X.y,g=k.x-X.x,R=k.y-X.y,b=Math.atan2(b.y-X.y,b.x-X.x)*180/Math.PI,k=Math.atan2(k.y-X.y,k.x-X.x)*180/Math.PI,t=Math.abs(k-b)%360,w=t>180?360-t:t;
if(w<y)y=w}}return y*Math.PI/180};d.o.am=function(E){var y=E.segments?[E]:E.children,c=[];for(var N=0;
N<y.length;N++){var e=y[N],p=e.segments,H=e.closed?0:3,Z=c.length,X=null;if(p.length<=1)continue;c.push({type:H,length:p.length,O0:0,X7:2});
for(var b=0;b<p.length;b++){var k=p[b],D=new eq(k.handleIn.x,k.handleIn.y),j=new eq(k.handleOut.x,k.handleOut.y),g=new eq(k.point.x,k.point.y),R={type:H+1,$0:g.add(D),I:g,dW:g.add(j)};
if(X==null)X=R;c.push(R);if(b+1==p.length&&eq.oG(X.I,R.I)<1e-5){c.pop();c[Z].length--;X.$0=R.$0;if(H==3)for(var t=Z;
t<c.length;t++)c[t].type-=3}}}return c};d.o.Cb=function(E){d.o.bM();var y=[],c,e=new paper.Color(1,0,0);
function p(R,X){R.remove();R.closed=!X;R.fillRule="evenodd"}for(var N=0;N<E.length;N++){if(E[N].type>5)continue;
var H=E[N].length,Z;if(N==E.length-1)break;var X=E[N].type==3;if(N==2){if(!d.o.E9(E))Z="subtract";else Z="unite"}else{if(E[N].O0==0)Z="exclude";
if(E[N].O0==1)Z="unite";if(E[N].O0==2)Z="subtract";if(E[N].O0==3)Z="intersect"}if(E[N].O0!=-1){c=new paper.CompoundPath;
y.push([c,Z]);c.fillRule="evenodd";c.fillColor=e}var b=[];for(var k=0;k<H;k++){var D=E[N+1+k],j=D.$0.DZ(D.I),g=D.dW.DZ(D.I);
b.push([[D.I.x,D.I.y],[j.x,j.y],[g.x,g.y]])}var R=new paper.Path(b);p(R,X);c.addChild(R);N+=H}return y};
d.o.Ki=function(E){for(var N=0;N<E.length;N++)E[N][0].remove()};d.o.eV=function(E){for(var N=0;N<E.length;
N++){var y=E[N];if(y.I==null)continue;if(!y.I.rT(y.$0)||!y.I.rT(y.dW))return!1}return!0};d.o.a7S=function(E){if(E.length<=5)return 0;
var y=0,c=E.length-3-1;for(var N=0;N<c;N++){var e=E[3+N],p=E[3+N+1];if(e.type==0||p.type==0)return 0;
y+=(p.I.x-e.I.x)*(e.I.y+p.I.y)}y+=(E[3].I.x-E[3+c].I.x)*(E[3+c].I.y+E[3+1].I.y);return-y*.5};d.o.c1=function(E){var y=E[2],c=!1;
if(E.length==2)c=E[1].all==0;else if(E[1].all==1){if(y.O0==1||y.O0==3)c=!0;else c=!1}else{if(y.O0==1||y.O0==3||y.O0==0)c=!0;
else c=!1}return c};d.o.E9=function(E){var y=d.o.c1(E);for(var N=3;N<E.length;N++)if(E[N].O0==3)y=!0;
return y};d.o.akq=0;d.o.a1H=0;d.o.axF=0;d.o.avB=function(E,y,c,e){if(c.tj())return;var p=c.P(),$=16384;
d.o.akq+=p;if(p>d.o.a1H){d.o.a1H=p}var H=c.m,Z=c.e;if(e==null&&d.o.eV(E)&&E[2]&&E[2].O0!=2){var X=!0;
for(var N=2;N<E.length;)if(E[N].length==2)N+=3;else{X=!1;break}if(X){return}if(d.o.wS(E)){y.fill(255);
var b=d.o.L$(E);if(b.P()!=p){var k=1-(b.x-c.x),D=1-(b.y-c.y),j=1-(c.x+c.m-(b.x+b.m)),g=1-(c.y+c.e-(b.y+b.e)),R=~~(k*255),t=~~(j*255),w=~~(D*255),B=~~(g*255);
y.fill(w,0,H);y[0]=~~(k*D*255);y[H-1]=~~(j*D*255);for(var N=H;N<p;N+=H){y[N]=R;y[N+H-1]=t}y.fill(B,(Z-1)*H,Z*H);
y[p-H]=~~(k*g*255);y[p-1]=~~(j*g*255)}return}}var o=Math.ceil(H/$),T=Math.ceil(Z/$),i=Math.ceil(H/o),r=Math.ceil(Z/T),I=Date.now();
for(var M=0;M<T;M++)for(var J=0;J<o;J++){var P=J*i,n=M*r,x=i,L=r,u=d.FB(x,L);if(!d.o.c1(E))u.fillRect(0,0,x,L);
d.o.m$(E,u,-c.x-P,-c.y-n,e);var C=new Uint8Array(u.getImageData(0,0,x,L).data.buffer);if(x==H&&L==Z)d.LI(C,y,3);
else d.xN(C,new ir(P,n,x,L),y,new ir(0,0,H,Z))}};d.o.ahG=function(E){var y=!1,c=!1,e=0,p=!1;for(var N=0;
N<E.length;N++){var H=E[N].O0;if(H!=null){e++;if(H==-1)y=!0;if(H==1||H==2||H==3)c=!0;if(E[N].type==0)p=!0}}if(!y&&e<20&&p&&c)E=d.o.a2(E);
return E};d.o.m$=function(E,y,c,e,p,H){if(p!=null){E=d.o.ahG(E)}for(var N=0;N<E.length;N++){if(E[N].type>5)continue;
var Z=E[N].length;if(Z==0)continue;if(N==E.length-1)break;var X=E[N].type==3,b=E[N].O0;if(b!=-1&&p==null){var k=["xor","source-over","destination-out","source-in"][b];
y.globalCompositeOperation=k}if(E[N].O0!=-1){y.beginPath();if(p)d.o.IN(cb.CY.pl(p),y)}d.o.a68(y,E,N+1,Z,c,e,X);
if(X){}else y.closePath();if(E[N+1+Z]==null||E[N+1+Z].O0!=-1){if(p){if(H)y.clip();y.stroke()}else y.fill(b==-1?"nonzero":"evenodd")}N+=Z}y.globalCompositeOperation="source-over";
y.setLineDash([])};d.o.IN=function(E,y){var c=E.IE;y.setLineDash(E.hC);y.lineCap=["butt","round","square"][E.vh];
y.lineJoin=["miter","round","bevel"][E.nh];y.lineWidth=E.xF==1?c:c*2;y.miterLimit=E.Xb};d.o.a68=function(E,y,N,c,e,p,H){var Z=y[N],X=null;
E.moveTo(Z.I.x+e,Z.I.y+p);for(var b=N;b<N+c-1;b++){Z=y[b];X=y[b+1];E.bezierCurveTo(Z.dW.x+e,Z.dW.y+p,X.$0.x+e,X.$0.y+p,X.I.x+e,X.I.y+p)}if(!H){Z=y[b];
X=y[N];E.bezierCurveTo(Z.dW.x+e,Z.dW.y+p,X.$0.x+e,X.$0.y+p,X.I.x+e,X.I.y+p)}};d.o.af0=function(E,y){var c=[],e=y?4:1;
for(var N=0;N<E.length;N+=2){var p=new eq(E[N],E[N+1]);c.push({type:e,$0:p.clone(),I:p.clone(),dW:p.clone()})}return c};
d.o.aqI=function(E,y,c){var e=(1-(c!=null?c:25)*.01)*10;if(e>0){for(var N=0;N<y.length;N++){var p=y[N],H=d.o.O3(E,p),Z=d.o.$l(E,p),X=E.slice(H,H+Z);
d.o.bM();var b=new paper.Path;b.remove();b.closed=!0;for(var k=1;k<X.length;k++)b.add(new paper.Point(X[k].I.x,X[k].I.y));
var D=b.simplify(e);if(D)E.splice(H,Z,...d.o.am(b))}}return E};d.o.NK=function(E,y,c){var e=d.A.n7(E),p=Math.sqrt(Math.sqrt(e.P()))*.2,H=.2;
E=E.slice(0);var Z=E.length,X=y?0:2;for(var b=0;b<5;b++)for(var N=X;N<E.length-X;N+=2){var k=(N-2+Z)%Z,D=(N+2)%Z,j=E[N],g=E[N+1],R=(E[k]+E[D])*.5,t=(E[k+1]+E[D+1])*.5;
E[N]=j+(R-j)*H;E[N+1]=g+(t-g)*H}if(c)return d.o.M1.hr(E,null,!y);d.o.bM();var w=new paper.Path;w.remove();
w.closed=y;for(var N=0;N<E.length;N+=2)w.add(new paper.Point(E[N],E[N+1]));w.simplify(p);var B=[{type:6},{type:8,all:0}];
B=B.concat(d.o.am(w));return B};d.o.eq=function(E,y,c){var e=E[y].length,p=E[y].type,H=0,Z=E.slice(y+1,y+1+e);
for(var N=0;N<e;N++){var X=c[(N-1+e)%e],b=c[(N+1+e)%e],k=c[N];if(k!=0){var D=Z[(N-1+e)%e].I,j=Z[(N+0+e)%e].I,g=Z[(N+1+e)%e].I,R=eq.oG(j,D),t=eq.oG(j,g),w=d.A.a1j(D.x,D.y,j.x,j.y,g.x,g.y,k)[0],B=Math.min(w,X==0?R:R/2,b==0?t:t/2);
k*=B/w;var $=d.A.atd(D.x,D.y,j.x,j.y,g.x,g.y,k),o={type:p+1,$0:new eq($[2],$[3]),I:new eq($[2],$[3]),dW:new eq($[4],$[5])},T={type:p+1,$0:new eq($[6],$[7]),I:new eq($[8],$[9]),dW:new eq($[8],$[9])};
E.splice(y+H+1,1,o,T);H++;E[y].length++}H++}};d.o.eV=function(E){for(var N=0;N<E.length;N++){var y=E[N],c=y.type;
if(c==1||c==2||c==4||c==5)if(!y.I.rT(y.$0)||!y.I.rT(y.dW))return!1}return!0};d.o.wS=function(E){if(E.length!=7||E[2].length!=4||!d.o.eV(E))return!1;
for(var N=0;N<4;N++){var y=!0;for(var c=0;c<4;c++){var e=E[3+(N+c&3)],p=E[3+(N+c+1&3)];if(e.I.x!=p.I.x&&e.I.y!=p.I.y)y=!1}if(y)return!0}return!1};
d.o.a8N=function(E){if(E.length<6)return 0;var y=E.length-2,c=0;for(var N=0;N<y;N+=2)c+=(E[N+2]-E[N])*(E[N+1]+E[N+3]);
c+=(E[0]-E[y])*(E[y+1]+E[1]);return-c*.5};d.o.aae=function(E){E=jN.pU.MD(E);var y=d.o.a0(E);for(var c=0;
c<y;c++){var e=d.o.O3(E,c)+1,p=E[e-1].length,H=[];for(var N=0;N<p;N++){var Z=E[e+N].I;H.push(Z.x,Z.y)}var X=d.o.a8N(H);
if(X<0)d.o.ayJ(E,e-1)}return E};d.o.ayJ=function(E,y){var c=y+1,e=E[y].length,p=[];for(var N=0;N<e;N++){var H=E[c+N],Z=H.$0;
H.$0=H.dW;H.dW=Z;p.push(H)}for(var N=0;N<e;N++)E[c+N]=p[e-1-N]};d.o.M1={};d.o.M1.hr=function(E,y,c){var e=[{type:6},{type:8,all:0}],p=null;
e.push({type:c?3:0,O0:1,length:0,cr:0,x9:0,X7:1});if(y==0||y==null)p=null;else if(y instanceof Array)p=y;
else{p=[];for(var N=0;N<E.length;N+=2)p.push(y)}e=e.concat(d.o.af0(E,c));e[2].length=e.length-3;if(p)d.o.eq(e,2,p);
return e};d.o.M1.aw6=function(E,y,c,e,p){var H=[],Z=[],X=.553,b=1,k=-1;H.push({type:1,$0:new eq(0,X),I:new eq(0,0),dW:new eq(0,-X)});
p+=2;for(var N=0;N<p;N++){var D={type:1};if(N==0){D.I=new eq(1,-1);D.$0=new eq(1-X,-1);D.dW=new eq(1+X,-1)}else{var j=-(N+2)*Math.PI/2,g=1+((N&1)==1?N-1:N),R=Math.sin(j),t=Math.cos(j);
b+=g*(R-t);k+=g*(t+R);D.I=new eq(b,k);D.$0=new eq(b+g*t*X,k-g*R*X);if((N&1)==1)g+=2;D.dW=new eq(b-g*t*X,k+g*R*X)}var w={type:1,$0:new eq(-D.dW.x,-D.dW.y),I:new eq(-D.I.x,-D.I.y),dW:new eq(-D.$0.x,-D.$0.y)};
H.push(D);if(N<p-2)Z.push(w)}Z.reverse();H=H.concat(Z);var B=[{type:6},{type:8,all:0}];B.push({type:0,O0:1,length:H.length,cr:0,x9:0,X7:1});
B=B.concat(H);var $=new jr(c/p,0,0,c/p,0,0);$.rotate(e);$.translate(E,y);d.o.dg(B,$);return B};d.o.M1.Rect=function(E,y,c,e,p){var H=[E,y,E+c,y,E+c,y+e,E,y+e];
return d.o.M1.hr(H,p)};d.o.M1.G7=function(E,y,c,e,p,H,Z,X){var b=[],k=2*Math.PI/p;for(var N=0;N<p;N++)b.push(Math.cos(N*k-e),Math.sin(N*k-e));
if(Z!=null){var D=d.A.n7(b),j=D.m,g=D.e,R=Z/(j/2),t=X/(g/2);for(var N=0;N<b.length;N+=2){b[N]=(b[N]-(D.x+j/2))*R;
b[N+1]=(b[N+1]-(D.y+g/2))*t}c=1}var w=new jr(c,0,0,c,0,0);w.translate(E,y);d.A.u(b,w,b);return d.o.M1.hr(b,H)};
d.o.M1.a3z=function(E,y,c,e,p,H,Z){var X=[],b=Math.PI/p;for(var N=0;N<p*2;N++){var k=(N&1)==0?1:Z;X.push(k*Math.cos(N*b),k*Math.sin(N*b))}var D=new jr(c,0,0,c,0,0);
D.rotate(e);D.translate(E,y);d.A.u(X,D,X);return d.o.M1.hr(X,H)};d.o.M1.GA=function(E,y,c,e,p){return d.o.M1.vk(0,E,y,c,e,p)};
d.o.M1.at8=function(E,y,c,e,p,H){return d.o.M1.vk(1,E,y,c,e,p,H)};d.o.M1.iW=function(E,y,c,e,p,H){return d.o.M1.vk(2,E,y,c,e,p,H)};
d.o.M1.vk=function(E,y,c,e,p,H,Z){var X=Math.sqrt((e-y)*(e-y)+(p-c)*(p-c)),b;H/=2;if(E==0)b=[-H,0,H,0,H,X,-H,X];
if(E==1){var k=H*2*Z*1.3/1.5,D=H*Z;b=[-H,0,H,0,H,X-k,D,X-k,0,X,-D,X-k,-H,X-k]}if(E==2){var k=Z[3],D=Z[2]/2,j=k*(2/3)*Z[4]/100,g=k-j,R=k;
b=[];if(Z[0])b.push(-H,g,-D,R,0,0,D,R,H,g);else if(H==0)b.push(0,0);else b.push(-H,0,H,0);if(Z[1])b.push(H,X-g,D,X-R,0,X,-D,X-R,-H,X-g);
else if(H==0)b.push(0,X);else b.push(H,X,-H,X)}var t=new jr(1,0,0,1,0,0);t.rotate(Math.atan2(-p+c,e-y)+Math.PI/2);
t.translate(y,c);d.A.u(b,t,b);return d.o.M1.hr(b,0)};d.o.M1.fM=function(E,y,c,e){var p=[{type:6},{type:8,all:0}],j=.553;
p.push({type:0,O0:1,length:4,cr:0,x9:0,X7:1});var H=E,Z=y,X=E+c,b=y+e,E=(H+X)/2,y=(Z+b)/2,k=(H-X)/2,D=(Z-b)/2;
p.push({type:1,$0:new eq(E-j*k,y-D),I:new eq(E,y-D),dW:new eq(E+j*k,y-D)});p.push({type:1,$0:new eq(E+k,y-j*D),I:new eq(E+k,y),dW:new eq(E+k,y+j*D)});
p.push({type:1,$0:new eq(E+j*k,y+D),I:new eq(E,y+D),dW:new eq(E-j*k,y+D)});p.push({type:1,$0:new eq(E-k,y+j*D),I:new eq(E-k,y),dW:new eq(E-k,y-j*D)});
return p};d.o.M1.a6C=function(E,y,c,e,p){var H=[{type:6},{type:8,all:0}];H.push({type:3,O0:1,length:5,cr:0,x9:0,X7:1});
var Z=(p-e)/4;for(var N=0;N<5;N++){var X=N*Z,b=Math.cos(X),k=Math.sin(X),D=.553*(Z/(Math.PI/2)),j=k*D,g=-b*D,R=new eq(b,k);
H.push({type:4,$0:N==0?R.clone():new eq(b+j,k+g),I:R,dW:N==4?R.clone():new eq(b-j,k-g)})}var t=new jr;
t.rotate(-e);t.scale(c,c);t.translate(E,y);d.o.dg(H,t);return H};d.Bh={};d.Bh.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
d.Bh.avl={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
d.Bh.Mi=function(E){var y=E.warpStyle.v.warpStyle;if(y=="warpNone")return!0;else if(y=="warpCylinder")return!1;
else if(y=="warpCustom"){var c=!1,e=d.Bh.aBq(E);for(var N=0;N<4;N++)for(var p=0;p<4;p++){var H=e[N*2]-e[(p*4+N)*2],Z=e[N*4*2+1]-e[(N*4+p)*2+1];
if(H*H>1||Z*Z>1)c=!0}return!c}else return E.warpValue.v==0&&E.warpPerspective.v==0&&E.warpPerspectiveOther.v==0};
d.Bh.a7j=function(E){var y=JSON.parse(JSON.stringify(E));y.v.classID="quiltWarp";y.v.deformNumRows={t:"long",v:4};
y.v.deformNumCols={t:"long",v:4};if(y.v.customEnvelopeWarp)d.Bh.a7P(y.v,[[0,1],[0,1]]);return y};d.Bh.ay$=function(E){var y;
if(d.Bh.VV(E.v)==16)y=JSON.parse(JSON.stringify(E));else y={t:"Objc",v:d.Bh.R(d.Bh.EK(E.v))};y.v.classID="warp";
delete y.v.deformNumRows;delete y.v.deformNumCols;var c=y.v.customEnvelopeWarp;if(c){delete c.v.quiltSliceX;
delete c.v.quiltSliceY}return y};d.Bh.VV=function(E){return E.deformNumRows.v*E.deformNumCols.v};d.Bh.R=function(E){var y={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(E){y.classID="quiltWarp";y.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:E.y}},Left:{t:"UntF",v:{type:"#Pxl",val:E.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:E.y+E.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:E.x+E.m}}}};
y.uOrder={t:"long",v:4};y.vOrder={t:"long",v:4};y.deformNumRows={t:"long",v:4};y.deformNumCols={t:"long",v:4}}return y};
d.Bh.aD2=function(E,y,c){for(var N=0;N<E.length;N+=2){var e=E[N],p=E[N+1],H=(1-y)/2,Z=1-H,X=H+e*(Z-H);
p=.5+(p-.5)*X*2;var b=(1-c)/2,k=1-b,D=b+p*(k-b);e=.5+(e-.5)*D*2;E[N]=e;E[N+1]=p}};d.Bh.kj=function(E,y){return{id:E,type:"UnFl",uID:"#Pxl",arr:y}};
d.Bh.a7P=function(E,y){var c=d.Bh.EK(E);function e(H,Z){H=H.slice(0);var X=H.length,N;for(N=0;N<X;N++)H[N]*=Z;
H[0]-=.6;H[X-1]+=.6;return H}var p=E.customEnvelopeWarp.v;p.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[d.Bh.kj("quiltSliceX",e(y[0],c.m))]}};
p.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[d.Bh.kj("quiltSliceY",e(y[1],c.e))]}}};d.Bh.auO=function(E){var y=d.Bh.EK(E);
function c(Z,X){Z=Z.slice(0);var H=Z.length,N,b=1e9,k=-b;for(N=0;N<H;N++){if(Z[N]<b)b=Z[N];if(Z[N]>k)k=Z[N]}for(N=0;
N<H;N++)Z[N]=(Z[N]-b)/(k-b);Z[0]=0;Z[H-1]=1;return Z}var e=E.customEnvelopeWarp.v,p=[],H=["X","Y"];for(var N=0;
N<2;N++)p.push(c(e["quiltSlice"+(N==0?"X":"Y")].v.arr[0].arr.slice(0),N==0?y.m:y.e));return p};d.Bh.av4=function(E,y){var c=[],e=[];
for(var N=0;N<y.length;N+=2){c.push(y[N]);e.push(y[N+1])}E.customEnvelopeWarp.v.meshPoints.v.arr=[d.Bh.kj("Hrzn",c),d.Bh.kj("Vrtc",e)]};
d.Bh.aBq=function(E){var y=[],c=E.customEnvelopeWarp.v.meshPoints.v.arr,e=c[0].arr,p=c[1].arr;for(var N=0;
N<e.length;N++)y.push(e[N],p[N]);return y};d.Bh.lq=function(E,y){var c,e=E.warpStyle.v.warpStyle;if(e=="warpCustom")c=[E.deformNumCols.v,E.deformNumRows.v,d.Bh.auO(E),d.Bh.aBq(E)];
else{if(y==null)y=d.Bh.EK(E);if(y.tj())y.m=y.e=1;if(e=="warpCylinder"){var p=F.Y.Rt(E.warpValues);c=d.Bh.Bh(e,p)}else{var H="warpPerspective";
c=d.Bh.Bh(e,E.warpValue.v/100,E.warpRotate.v.Ornt=="Hrzn",E[H].v/100,E[H+"Other"].v/100,y.m/y.e)}d.Bh.azP(c[3],y)}return c};
d.Bh.azP=function(E,y){for(var N=0;N<E.length;N+=2){E[N]=y.x+E[N]*y.m;E[N+1]=y.y+E[N+1]*y.e}};d.Bh.ajx=function(E){var y=Math.sin(E*Math.PI/2),c=Math.pow(E,1/3.5),e=(1-E)*y+E*c;
e=Math.pow(e,1.045);var p=.1725+.0573*e,H=1-(.96*y+.04*c);H=Math.pow(H,1.27);var Z=1/129+(.167684-1/129)*H;
return[p,Z]};d.Bh.ta=function(E,y){E.warpStyle.v.warpStyle="warpCustom";E.deformNumCols.v=y[0];E.deformNumRows.v=y[1];
var c="customEnvelopeWarp";if(E[c]==null)E[c]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
d.Bh.a7P(E,y[2]);d.Bh.av4(E,y[3])};d.Bh.EK=function(E){var y=E.bounds.v,c=y.Left.v.val,e=y.Rght.v.val,p=y.Top.v.val,H=y.Btom.v.val;
if(c==null){c=y.Left.v,e=y.Rght.v;p=y.Top.v,H=y.Btom.v}return new ir(c,p,e-c,H-p)};d.Bh.Bh=function(E,y,c,e,p,H){if(E=="warpCylinder"){var Z=y,X=Z[0],b=Z[1],k=Z[2],D=Z[3],j=Z[4],g=Z[5],R=Z[6],t=[];
for(var w=0;w<4;w++)for(var B=0;B<13;B++)t.push(B/12,w/3);var $=k-X,o=b-D,T=j*.5*($/o),i=g*.5*($/o),r=d.Bh.ajx(R),I=[0,0,0,0,0,r[0],.5],M=[0,0,0,0,T*.42,T,T],J=[0,0,0,0,i*.42,i,i];
for(var w=0;w<4;w++)for(var B=0;B<7;B++){var N=w*13+B;t[N*2]=I[B];var P=M[B],n=1+J[B],x=w/3;t[N*2+1]=P*(1-x)+n*x}for(var w=0;
w<4;w++)for(var B=0;B<6;B++){var N=w*13+B,L=w*13+12-B;t[L*2]=1-t[N*2];t[L*2+1]=t[N*2+1]}var x=r[1];return[13,4,[[0,x,.5,1-x,1],[0,1]],t]}var u=d.My.R(0,0,1,1);
if(E!="warpNone"){if(!c)H=1/H;d.Bh.adw(u,E,y,e,p,H);var C=u.slice(0);if(!c)for(var w=0;w<4;w++)for(var B=0;
B<4;B++){u[(w*4+B)*2]=C[(B*4+w)*2+1];u[(w*4+B)*2+1]=C[(B*4+w)*2]}if(y==0)d.Bh.aD2(u,e,p);else{var h=new jr;
h.translate(-.5,-.5);d.A.u(u,h,u);d.Bh.abI(u,p,e);h.Ub();d.A.u(u,h,u)}}return[4,4,[[0,1],[0,1]],u]};
d.Bh.adw=function(E,y,c,e,p,H){var Z=new ir(0,0,H,1);for(var N=0;N<E.length;N+=2)E[N]*=H;for(var N=0;
N<4;N++){for(var X=0;X<4;X++){var b=2*(4*N+X),k=E[b]-Z.x,D=E[b+1]-Z.y,j=k,g=D;if(c!=0){var R=Z.m/2,t=Z.e/2;
j-=R;g-=t;var w=j,B=j,$=-t,o=t,T=Math.abs(c),i=Math.tan((1-T)*Math.PI/2),r=Math.sqrt(i*i+1),I=Math.atan2(1,i),M=j/R*I,J=R*r,P=R*r+Z.e,n=Math.cos(I),x=Math.sin(I),L=d.Bh.alT(n,x),u=d.Bh.a7c(n,x),C=-i*R+L*J;
if(y=="warpArc"){w=Math.sin(M)*P;$=i*R-Math.cos(I)*P+t;B=Math.sin(M)*J;o=i*R-Math.cos(I)*J+t;if(X==1||X==2){w=X==1?-u*P:u*P;
B=X==1?-u*J:u*J;$=i*R+t-L*P;o=i*R+t-L*J}if(c<0){var h=w;w=B;B=h;h=$;$=-o;o=-h}}if(y=="warpArcLower"){if(X==1||X==2){B=X==1?-u*J:u*J;
o=c<0?t-C:t+C}}if(y=="warpArcUpper"||y=="warpArch"||y=="warpBulge"){if(X==1||X==2){w=X==1?-u*J:u*J;$=c<0?-t+C:-t-C}if(y=="warpArch"){B=w;
o=$+2*t}if(y=="warpBulge"){B=w;o=-$}}if(y=="warpFish"||y=="warpFlag"||y=="warpWave"){var A=X;if(y=="warpFlag")A=3-X;
if(A==1){$-=c*4*t;o+=c*4*t}if(A==2){$+=c*4*t;o-=c*4*t}if(y=="warpFlag"||y=="warpWave")$=o-2*t}if(y=="warpRise"){if(X<2)$=-t+c*t*4;
o=$+2*t}var W=(g+t)/Z.e;j=w+W*(B-w);g=$+W*(o-$);if(y=="warpWave"){if(N==0)g=-t;if(N==3)g=t;if(N==1||N==2)g=2*t*(N/3-.5)*(1/3)+g*(2/3)}if(y=="warpFisheye"){if((N==1||N==2)&&(X==1||X==2)){j=j+4*j*c;
g=g+4*g*c}}if(y=="warpInflate"){var Q=2/3;if((N==1||N==2)&&(X==1||X==2)){j=j+.5*j*c;g=g+.5*g*c}else if(N==1||N==2)j=j+Q*j*c;
else if(X==1||X==2)g=g+Q*g*c}if(y=="warpSqueeze"){var Q=2/3;if((N==1||N==2)&&(X==1||X==2)){if(c>0)j=j-Q*j*c;
else g=g+Q*g*c}else if(N==1||N==2)j=j-Q*j*c;else if(X==1||X==2)g=g+Q*g*c}if(y=="warpTwist"){if((N==1||N==2)&&(X==1||X==2)){var l=c*Math.PI/2,r=1+Math.abs(c)*2,O=j*Math.cos(l)-g*Math.sin(l),z=j*Math.sin(l)+g*Math.cos(l);
j=O*r;g=z*r}}if(y=="warpShellLower"||y=="warpShellUpper"){if(y=="warpShellUpper"){N=3-N;g=-g}if(N>2||N==2&&(X==0||X==3)){if(c>0){var a=J+N/3*2*t;
j=Math.sin(M)*a;g=-i*R-t+Math.cos(M)*a;if(X==1||X==2){j=X==1?-u*a:u*a;g=-i*R-t+L*a}}else{if((X==1||X==2)&&N==3){j=X==1?-u*J:u*J;
g=i*R-L*J+t}else if(N==2){g=t-t*(2/3)*Math.cos(M);j=j+t*(2/3)*Math.sin(M)}}}if(y=="warpShellUpper"){N=3-N;
g=-g}}j+=R;g+=t}k=j,D=g;E[b]=k+Z.x;E[b+1]=D+Z.y}}for(var N=0;N<E.length;N+=2)E[N]/=H};d.Bh.abI=function(E,y,c){var e=[];
for(var p=0;p<4;p++)e.push(1-c+p/3*2*c);var H=[];for(var p=0;p<4;p++)H.push(1-y+p/3*2*y);var Z=[0,0,0,0],X=[0,0,0,0];
for(var N=0;N<4;N++)for(var p=0;p<4;p++){var b=2*(4*N+p),k=E[b],D=E[b+1];Z[p]+=k/4;X[p]+=D/4}for(var N=0;
N<4;N++)for(var p=0;p<4;p++){var j=e[p],b=2*(4*N+p),k=E[b],D=E[b+1],g=Z[p],R=X[p];E[b]=g+j*(k-g);E[b+1]=R+j*(D-R)}var t=E.slice(0);
for(var N=0;N<4;N++)for(var p=1;p<3;p++){var b=2*(4*N+p),k=E[b],D=E[b+1],w=b+(p==1?-2:2),B=E[w],$=E[w+1];
E[b]=k-B;E[b+1]=D-$}var o=E[0],T=E[1],i=E[8],r=E[9],I=E[16],M=E[17],J=E[24],P=E[25],n=E[6],x=E[7],L=E[14],u=E[15],C=E[22],h=E[23],A=E[30],W=E[31],Q=n-o,l=x-T,O=L-i,z=u-r,a=C-I,m=h-M,q=A-J,K=W-P;
for(var N=0;N<4;N++){var U=2*N*4,f=0,Y=0,G=N==1?.33:.66,V=1-G;if(N==0){f=Q;Y=l}if(N==1){f=V*Q+G*-q;Y=V*l+G*-K}if(N==2){f=V*Q+G*-q;
Y=V*l+G*-K}if(N==3){f=-q;Y=-K}E[U]=E[U]+f/2;E[U+1]=E[U+1]+Y/2;E[U+6]=E[U+6]-f/2;E[U+7]=E[U+7]-Y/2}for(var N=0;
N<4;N++)for(var p=1;p<3;p++){var b=2*(4*N+p),k=E[b],D=E[b+1],w=b+(p==1?-2:2),B=E[w],$=E[w+1],j=2*N/3;
E[b]=B+j*k;E[b+1]=$+j*D}for(var N=1;N<3;N++)for(var p=1;p<3;p++){var b=2*(4*N+p),k=E[b],D=E[b+1],dF=N==1?-8:-16,s=N==1?16:8,aH=E[b+dF],dw=E[b+dF+1],kO=E[b+s],hX=E[b+s+1],j=N/3;
k=(1-j)*aH+j*kO;D=(1-j)*dw+j*hX;E[b]=k;E[b+1]=D}d.A.UC(t,E,E,y)};d.Bh.alT=function(E,y){return(4-E)*(1/3)};
d.Bh.a7c=function(E,y){return(1-E)*(3-E)/(3*y)};d.Ri={};d.Ri.aA3=function(E,y,c,e,p,H,Z,X,b,k){for(var D=0;
D<X;D++)for(var j=0;j<Z;j++){var g=3*(D*Z+j),R=D+H,t=j+p,w=E[R*y+t];e[g]=w;e[g+1]=w;e[g+2]=w}};d.Ri.Ga=function(E,y,c,e,p,H,Z,X,b,k){var D=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],j=1/b,g=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],R=new Uint32Array(6);
for(var t=0;t<X;t++){for(var w=0;w<Z;w++){var B=3*(t*Z+w),$=t+H,o=w+p;R[0]=0;R[1]=0;R[2]=0;R[3]=0;R[4]=0;
R[5]=0;for(var N=0;N<16;N+=2){var T=o+g[N],i=$+g[N+1],r=T-b*~~(T*j),I=i-b*~~(i*j),M=k[I*b+r];R[M]+=E[i*y+T];
R[M+3]++}var T=o,i=$,r=T-b*~~(T*j),I=i-b*~~(i*j),M=k[I*b+r];R[M]=E[$*y+o];R[M+3]=1;e[B]=R[0]*D[R[3]];
e[B+1]=R[1]*D[R[4]];e[B+2]=R[2]*D[R[5]]}}};d.Ri.ab7=function(E,y,c){for(var N=0;N<c;N+=2)E[y+N]=E[y+N+1];
y=y+c;for(var N=0;N<c;N+=2)E[y+N+1]=E[y+N]};d.Ri.alL=function(E,y,c,e){for(var N=0;N<e;N+=2){var p=y+N*c;
E[p]=E[p+c];E[p+c+1]=E[p+1]}};d.Ri.a0z=function(E,y,c,e,p,H){var Z=e[p],X=e[p+1],b=e[H],k=e[H+1],D=X+b>>>1;
E[y]=E[y+3]=E[c]=E[c+3]=Z;E[y+1]=D;E[y+4]=X;E[c+1]=b;E[c+4]=D;E[y+2]=E[y+5]=E[c+2]=E[c+5]=k};d.Ri.a8u=function(E,y,c,e,p,H){var Z=H*3;
for(var N=0;N<H;N+=2){var X=y+N,b=p+N*3;d.Ri.a0z(e,b,b+Z,E,X,X+c)}};d.Ri.agu=function(E,y,c,e,p,H,Z){var X=H*3;
for(var N=0;N<Z;N+=2){var b=y+N*c,k=p+N*H*3;d.Ri.a0z(e,k,k+X,E,b,b+c)}};d.Ri.a4W=function(E,N,y){var c=E[N-y-y],e=E[N-y],p=E[N-2],H=E[N-1],Z=E[N],X=E[N+1],b=E[N+2],k=E[N+y],D=E[N+y+y],j=Math.abs(e-k),g=Math.abs(H-X),R=Math.abs(Z-c)*2+j,t=Math.abs(Z-b)*2+g,w=Math.abs(Z-p)*2+g,B=Math.abs(Z-D)*2+j,$=Math.min(R,Math.min(t,Math.min(w,B)));
if($==R)return e*3+k+Z-c>>2;if($==t)return X*3+H+Z-b>>2;if($==w)return H*3+X+Z-p>>2;return k*3+e+Z-D>>2};
d.Ri.X4=function(E,y,c,e,p){if(E<y&&y<c||E>y&&y>c)return~~(.5+e+(p-e)*(y-E)/(c-E));else return(e+p>>1)+(y+y-E-c>>2)};
d.Ri.a4Y=function(E,y,N,c){var e=y[N-c-1],p=y[N-c+1],H=y[N],Z=y[N+c-1],X=y[N+c+1],b=E[N-c-1],k=E[N-c+1],D=E[N],j=E[N+c-1],g=E[N+c+1],R=Math.abs(k-j)+Math.abs(E[N-c-c+2]-D)+Math.abs(D-E[N+c+c-2])+Math.abs(p-H)+Math.abs(H-Z),t=Math.abs(b-g)+Math.abs(E[N-c-c-2]-D)+Math.abs(D-E[N+c+c+2])+Math.abs(e-H)+Math.abs(H-X);
if(R<t)return d.Ri.X4(p,H,Z,k,j);else return d.Ri.X4(e,H,X,b,g)};d.Ri.Kp=function(E,y,c,e,p,H){E[y+0]=c[p];
E[y+1]=e[p];E[y+2]=d.Ri.a4Y(c,e,p,H)};d.Ri.NJ=function(E,y,c,e,p,H){var Z=e[p];E[y+0]=d.Ri.X4(e[p-1],Z,e[p+1],c[p-1],c[p+1]);
E[y+1]=Z;E[y+2]=d.Ri.X4(e[p-H],Z,e[p+H],c[p-H],c[p+H])};d.Ri.kz=function(E,y,c,e,p,H){var Z=e[p];E[y+0]=d.Ri.X4(e[p-H],Z,e[p+H],c[p-H],c[p+H]);
E[y+1]=Z;E[y+2]=d.Ri.X4(e[p-1],Z,e[p+1],c[p-1],c[p+1])};d.Ri.sx=function(E,y,c,e,p,H){E[y+0]=d.Ri.a4Y(c,e,p,H);
E[y+1]=e[p];E[y+2]=c[p]};d.Ri.ay7=function(E,y,c,e,p,H,Z,X,b){var k=Date.now(),D=2,j=y-2,g=2;if((p&1)==1){D++;
j--}var R=c-2;if((H&1)==1){g++;R--}if(b==1||b==3){D++;j--}var t=E.slice(0);d.Ri.ab7(t,0,y);d.Ri.alL(t,0,y,c);
d.Ri.alL(t,y-2,y,c);d.Ri.ab7(t,(c-2)*y,y);for(var w=g;w<R;w+=2)for(var B=D;B<j;B+=2){var N=w*y+B,$=d.Ri.a4W(t,N,y),o=d.Ri.a4W(t,N+y+1,y);
t[N]=Math.max(0,$);t[N+y+1]=Math.max(0,o)}var T=Z,i=X;if(H+X==c){i-=2;d.Ri.a8u(E,(c-2)*y+p,y,e,(X-2)*Z*3,Z)}if(p+Z==y){T-=2;
d.Ri.agu(E,H*y+p+Z-2,y,e,(Z-2)*3,Z,X)}if(b==0)for(var w=0;w<i;w+=2)for(var B=0;B<T;B+=2){var r=(w+H)*y+B+p,I=(w*Z+B)*3;
d.Ri.Kp(e,I,E,t,r,y);d.Ri.NJ(e,I+3,E,t,r+1,y);r+=y;I+=3*Z;d.Ri.kz(e,I,E,t,r,y);d.Ri.sx(e,I+3,E,t,r+1,y)}else if(b==1)for(var w=0;
w<i;w+=2)for(var B=0;B<T;B+=2){var r=(w+H)*y+B+p,I=(w*Z+B)*3;d.Ri.NJ(e,I,E,t,r,y);d.Ri.Kp(e,I+3,E,t,r+1,y);
r+=y;I+=3*Z;d.Ri.sx(e,I,E,t,r,y);d.Ri.kz(e,I+3,E,t,r+1,y)}else if(b==2)for(var w=0;w<i;w+=2)for(var B=0;
B<T;B+=2){var r=(w+H)*y+B+p,I=(w*Z+B)*3;d.Ri.sx(e,I,E,t,r,y);d.Ri.kz(e,I+3,E,t,r+1,y);r+=y;I+=3*Z;d.Ri.NJ(e,I,E,t,r,y);
d.Ri.Kp(e,I+3,E,t,r+1,y)}else if(b==3)for(var w=0;w<i;w+=2)for(var B=0;B<T;B+=2){var r=(w+H)*y+B+p,I=(w*Z+B)*3;
d.Ri.kz(e,I,E,t,r,y);d.Ri.sx(e,I+3,E,t,r+1,y);r+=y;I+=3*Z;d.Ri.Kp(e,I,E,t,r,y);d.Ri.NJ(e,I+3,E,t,r+1,y)}};
d.raw={};d.raw.asL=function(E){var y=Date.now(),c=E.width,e=E.height,p=0,H=0,Z=c,X=e;if(E.t50829){var b=E.t50829;
p=b[1];H=b[0];Z=b[3];X=b[2]}if(E.t50720&&E.t50720[0]*1.2>c){if(E.t50719){var k=E.t50719;p+=k[0]>>1<<1;
H+=k[1]>>1<<1}if(E.t50720){var D=E.t50720;Z=p+D[0];X=H+D[1]}}var j=Z-p,g=X-H,R=d.raw.axz(E),t=E.t33422,w=E.t33421;
if(w){var D=w[0],B=t.slice(0);for(var $=0;$<D;$++)for(var o=0;o<D;o++){var T=(o+(p&1))%D,i=($+(H&1))%D;
B[$*D+o]=t[i*D+T]}t=B}if(E.t277[0]==1&&t)d.raw.anV(R,c,e,E,t);d.raw.cP(2,E,R,c,e);var r=new Float32Array(j*g*3);
if(E.t277[0]==1){if(w==null){d.Ri.aA3(R,c,e,r,p,H,j,g)}else if(w.length!=2||w[0]!=2||w[1]!=2){console.log("Unknown CFA pattern size",w);
d.Ri.Ga(R,c,e,r,p,H,j,g,w[0],t)}else{var I=E.t33422.join(","),M=0;if(I=="0,1,1,2")M=0;else if(I=="1,0,2,1")M=1;
else if(I=="2,1,1,0")M=2;else if(I=="1,2,0,1")M=3;else throw"Unknown CFA pattern "+I;if((j&1)!=0||(g&1)!=0)throw"e";
d.Ri.ay7(R,c,e,r,p,H,j,g,M)}}else{for(var $=0;$<g;$++)for(var o=0;o<j;o++){var J=(($+H)*c+o+p)*3,P=($*j+o)*3;
r[P+0]=R[J+0];r[P+1]=R[J+1];r[P+2]=R[J+2]}}var n=r,x=r.length,L=d.raw.Ij(E),u=1/L;for(var N=0;N<x;N+=3){r[N]=n[N]*u;
r[N+1]=n[N+1]*u;r[N+2]=n[N+2]*u}d.raw.cP(3,E,r,j,g);var C=E.Rp,h=j,A=g;if(C==1||C==9){}else{var W=d.raw.ap2(C,j,g),P=0;
h=W[0];A=W[1];var Q=r.slice(0);for(var $=0;$<A;$++)for(var o=0;o<h;o++){var l=W[2]*o+W[3]*$+W[4],O=W[5]*o+W[6]*$+W[7],J=(O*j+l)*3;
r[P]=Q[J];r[P+1]=Q[J+1];r[P+2]=Q[J+2];P+=3}}return{bb:r,uq:h,eX:A}};d.raw.ap2=function(E,y,c){var e=y,p=c;
if(!1){}else if(E==2)return[y,c,-1,0,y-1,0,1,0];else if(E==3)return[y,c,-1,0,y-1,0,-1,c-1];else if(E==4)return[y,c,1,0,0,0,-1,c-1];
else if(E==5)return[c,y,0,1,0,1,0,0];else if(E==6)return[c,y,0,1,0,-1,0,c-1];else if(E==7)return[c,y,0,-1,y-1,-1,0,c-1];
else if(E==8)return[c,y,0,-1,y-1,1,0,0];else throw"unknown orientation "+E};d.raw.anV=function(E,y,c,e,p){var H=Date.now(),u=0,A=0;
if(d.raw.Ij(e)>4e4){for(var N=0;N<E.length;N++)E[N]>>=1;var Z=["t50714","t50715","t50712","t50717"];
for(var N=0;N<Z.length;N++){var X=e[Z[N]];if(X)for(var b=0;b<X.length;b++)X[b]>>>=1}console.log("remapping to lower bit depth")}var k=~~Math.sqrt(p.length),D=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],j=[];
for(var g=0;g<k;g++)for(var R=0;R<k;R++){var N=g*k+R,t=p[N],w=4,B=4,$=8,o=0,T=0;for(var b=0;b<18;b+=2){var i=(k+R+D[b])%k,r=(k+g+D[b+1])%k,I=p[r*k+i];
if(I==t){}else if(w==4){w=I;o=b}else if(B==4&&I!=w){B=I;T=b;break}}if(B<w){var M=B;B=w;w=M;M=T;T=o;o=M}if(w<t){var M=w;
w=t;t=M;M=o;o=$;$=M}if(B<w){var M=B;B=w;w=M;M=T;T=o;o=M}j[N*3]=D[$+1]*y+D[$];j[N*3+1]=D[o+1]*y+D[o];
j[N*3+2]=D[T+1]*y+D[T]}var J=~~(.996*d.raw.Ij(e)),P=~~(.992*d.raw.Ij(e)),n=e.t50728;if(n==null||n[0]==0)n=[1,1,1];
var x=[],L=[0,0,0];for(var g=1;g<c-1;g++)for(var R=1;R<y-1;R++){var N=g*y+R,C=g%k*k+R%k,t=E[N+j[C*3+0]],w=E[N+j[C*3+1]],B=E[N+j[C*3+2]],h=Math.max(t,w,B);
if(h>J)x.push(N);else if(h>P){L[0]+=t;L[1]+=w;L[2]+=B;u++}}if(x.length==0)return;if(u/(y*c)<1e-5){console.log("not enough semi-saturated pixels",u);
L=n}if(L[1]<L[A])A=1;if(L[2]<L[A])A=2;var W=[L[0]/L[A],L[1]/L[A],L[2]/L[A]],Q=E.slice(0);for(var l=0;
l<x.length;l++){var N=x[l],g=~~(N/y),R=N-g*y,C=g%k*k+R%k,O=Math.min(65535,~~(E[N+j[C*3+A]]*W[p[C]]));
if(O>Q[N])Q[N]=O}E.set(Q)};d.raw.PY=function(E,y,c,e){var p=Math.round(E.length/3),H=gm.qx(e[0],e[1]),Z=d.raw.aw0(c,H),X=d.Av.multiply(d.Av.Er,Z),b=Math.pow(2,c.t50730?c.t50730[0]:0);
X=d.Av.multiply(X,d.Av.X1(b,b,b));var k=d.raw.PY.a4D;if(k==null){k=d.raw.PY.a4D=new Float64Array(8e3);
for(var N=0;N<8e3;N++)k[N]=d.nW(N*(1/1e3))}for(var N=0;N<p;N++){var D=N<<2,j=D-N,g=E[j],R=E[j+1],t=E[j+2],w=X[0]*g+X[1]*R+X[2]*t,B=X[4]*g+X[5]*R+X[6]*t,$=X[8]*g+X[9]*R+X[10]*t;
if(w<0)w=0;if(B<0)B=0;if($<0)$=0;y[j]=k[~~(w*1e3)];y[j+1]=k[~~(B*1e3)];y[j+2]=k[~~($*1e3)]}};d.raw.axz=function(E){var y=E.width,c=E.height,e=y*c*E.t277,p=new Uint16Array(e),H=null,Z=0;
d.raw.asY(E,p);d.raw.cP(1,E,p,y,c);if(E.t50712){H=E.t50712;Z=H.length-1;if(H[Z]>65535)throw"too big values"}var X=d.raw.atm(E),b=d.raw.aA7(E);
if(H==null)for(var N=0;N<e;N++)p[N]=Math.max(0,p[N]-X);else for(var N=0;N<e;N++){var k=p[N];if(k>Z)k=Z;
k=H[k];p[N]=Math.max(0,k-X)}return p};d.raw.atm=function(E){var y=E.t50714,c=y?y[0]:0,e=E.t50715,p=E.t50716;
if(e)c+=e[0][0]/e[0][1];if(p)c+=p[0][0]/p[0][1];return Math.round(c)};d.raw.aA7=function(E){var y=null,c=0;
if(E.t50712){y=E.t50712;c=y.length-1}var e=E.t50717?E.t50717[0]:(1<<E.t258[0])-1;if(y)e=Math.min(e,y[c]);
return e};d.raw.Ij=function(E){var y=d.raw.atm(E),c=d.raw.aA7(E);return c-y};d.raw.asY=function(E,y){var c=y.length,e=E.data,p=E.t258[0];
if(p!=16&&p!=14&&p!=12&&p!=10&&p!=8)throw"Unsupported Bits Per Sample:"+p;p=Math.round(e.length*8/c);
if(p==16&&E.isLE){d.Jt(e,y);return}for(var N=0;N<c;N+=2){var H=0,Z=0,X=0;if(p==16){H=N<<1;Z=e[H]<<8|e[H+1];
X=e[H+2]<<8|e[H+3]}else if(p==14){var b=N*14,k=b>>>3,D=e[k]<<24|e[k+1]<<16|e[k+2]<<8|e[k+3];if((b&7)==0){Z=D>>>18;
X=D>>>4&16383}else{Z=D>>>14&16383;X=D&16383}}else if(p==12){H=N+(N>>>1);Z=e[H]<<4|e[H+1]>>4;X=(e[H+1]&15)<<8|e[H+2]}else if(p==10){var b=N*10,k=b>>>3;
if((b&7)==0){Z=(e[k]<<2|e[k+1]>>6)&1023;X=(e[k+1]<<4|e[k+2]>>4)&1023}else{Z=(e[k]<<6|e[k+1]>>2)&1023;
X=(e[k+1]<<8|e[k+2]>>0)&1023}}else if(p==8){H=N;Z=e[H];X=e[H+1]}y[N]=Z;y[N+1]=X}};d.raw.anf=function(E,y,c,e,p,H,Z){var X=E-.499999,b=y-.499999,k=~~X,D=~~b,j=X-k,g=b-D,R=(1-g)*(1-j),t=(1-g)*j,w=g*(1-j),B=g*j,$=(D*e+k)*3,o=((D+1)*e+k)*3,T=R*c[$]+t*c[$+3]+w*c[o]+B*c[o+3],i=R*c[$+1]+t*c[$+4]+w*c[o+1]+B*c[o+4],r=R*c[$+2]+t*c[$+5]+w*c[o+2]+B*c[o+5];
H[Z]=T;H[Z+1]=i;H[Z+2]=r};d.raw.cP=function(E,y,c,e,p){var H=y["t"+[51008,51009,51022][E-1]],D=0;if(H==null)return;
var Z=e*p,X=_.q,b=_.ct,k=new Uint8Array(H),h$=_.q(k,D);D+=4;for(var j=0;j<h$;j++){var g=X(k,D);D+=4;
var R=X(k,D);D+=4;var t=X(k,D);D+=4;var w=X(k,D);D+=4;if(!1){}else if(g==1&&E==3){var B=D,$=X(k,B);B+=4;
var o=b(k,B);B+=8;var T=b(k,B);B+=8;var i=b(k,B);B+=8;var r=b(k,B);B+=8;var I=b(k,B);B+=8;var M=b(k,B);
B+=8;B+=($-1)*8*6;var J=b(k,B);B+=8;var P=b(k,B);B+=8;var n=J*e,x=P*p,L=Math.max(n,e-n),u=Math.max(x,p-x),C=Math.sqrt(L*L+u*u),h=1/C,A=c.slice(0);
for(var W=0;W<p;W++)for(var Q=0;Q<e;Q++){var l=(Q+.5-n)*h,O=(W+.5-x)*h,z=l*l+O*O,a=o+T*z+i*(z*z)+r*(z*z)*z,m=I*(2*l*O)+M*(z+2*l*l),q=M*(2*l*O)+I*(z+2*O*O),K=Math.min(n+C*(a*l+m),e-1),U=Math.min(x+C*(a*O+q),p-1),f=(W*e+Q)*3;
d.raw.anf(K,U,A,e,p,c,f)}}else if(g==3&&E==3){var B=D,Y=b(k,B);B+=8;var G=b(k,B);B+=8;var V=b(k,B);B+=8;
var dF=b(k,B);B+=8;var s=b(k,B);B+=8;var J=b(k,B);B+=8;var P=b(k,B);B+=8;var n=J*e,x=P*p,L=Math.max(n,e-n),u=Math.max(x,p-x),C=Math.sqrt(L*L+u*u),h=1/C;
for(var W=0;W<p;W++)for(var Q=0;Q<e;Q++){var l=(Q+.5-n)*h,O=(W+.5-x)*h,z=l*l+O*O,aH=1+(Y+(G+(V+(dF+s*z)*z)*z)*z)*z,f=(W*e+Q)*3;
c[f]=aH*c[f];c[f+1]=aH*c[f+1];c[f+2]=aH*c[f+2]}}else if(g==4&&E==1){var B=D,dw=X(k,B);B+=4;var kO=X(k,B);
B+=4;for(var N=0;N<Z;N++)if(c[N]==dw)c[N]=c[N-2]+c[N+2]>>1}else if(g==5&&E==1){var B=D,hX=X(k,B);B+=4;
var jF=X(k,B);B+=4;var gn=X(k,B);B+=4;for(var N=0;N<jF;N++){var hM=X(k,B);B+=4;var ie=X(k,B);B+=4;var N=hM*e+ie;
c[N]=c[N-2]+c[N+2]>>1}}else if(g==7&&E==1){var B=D,bN=_.SY(k,B);B+=16;var kd=X(k,B);B+=4;var i7=X(k,B);
B+=4;var dn=X(k,B),ew=X(k,B+4);B+=8;var e4=X(k,B);B+=4;var eE=new Uint16Array(e4);for(var N=0;N<e4;N++)eE[N]=_.dT(k,B+2*N);
var jc=bN.m,ft=bN.e;for(var W=0;W<ft;W+=dn)for(var Q=0;Q<jc;Q+=ew){var N=(bN.y+W)*e+(bN.x+Q);c[N]=eE[c[N]]}}else if(g==8&&E==2){var B=D,bN=_.SY(k,B);
B+=16;var kd=X(k,B);B+=4;var i7=X(k,B);B+=4;var dn=X(k,B),ew=X(k,B+4);B+=8;var bd=X(k,B);B+=4;var iB=[];
for(var N=0;N<=bd;N++)iB[N]=_.ct(k,B+N*8);var cG=bN.x,bT=bN.x+bN.m,g$=bN.y,hU=bN.y+bN.e,ah=y.t50717[0],co=1/ah;
for(var im=0;im<i7;im++)for(var W=g$;W<hU;W+=dn){var f=3*W*e+kd+im;for(var Q=cG;Q<bT;Q+=ew){var N=f+3*Q,hb=c[N]*co,dI=iB[bd];
for(var bw=bd;bw>0;bw--)dI=dI*hb+iB[bw-1];c[N]=Math.max(0,Math.min(65535,~~(dI*ah)))}}}else if(g==9&&E==2){var B=D,bN=_.SY(k,B),fv=!0;
B+=16;var kd=X(k,B);B+=4;var i7=X(k,B);B+=4;var dn=X(k,B),ew=X(k,B+4);B+=8;var fb=X(k,B),iG=X(k,B+4);
B+=8;var dy=b(k,B),kp=b(k,B+8);B+=16;var gw=b(k,B),dR=b(k,B+8);B+=16;var fT=X(k,B);B+=4;if(fT!=1)throw"more than one map plane";
var gA=fb*iG,by=new Float32Array(gA);for(var bw=0;bw<gA;bw++)by[bw]=_.SI(k,B+bw*4);for(var bw=0;bw<gA;
bw++)if(by[bw]!=1)fv=!1;if(!fv){var jc=bN.m,ft=bN.e,d4=.9999*(iG-1)/jc,fg=.9999*(fb-1)/ft;for(var W=0;
W<ft;W+=dn)for(var Q=0;Q<jc;Q+=ew){var N=(bN.y+W)*e+(bN.x+Q),aC=Q*d4,bu=W*fg,hj=Math.floor(aC),jg=Math.floor(bu),cm=aC-hj,bz=bu-jg,f=jg*iG+hj,db=by[f]*(1-cm)+by[f+1]*cm,eM=by[f+iG]*(1-cm)+by[f+1+iG]*cm,de=db*(1-bz)+eM*bz;
c[N]=Math.max(0,Math.min(65535,~~(c[N]*de+.5)))}}}else console.log("Unknown opcode "+g+" in OpcodeList"+E+". Length: "+w);
D+=w}};d.raw.aw0=function(E,y){var c=gm.LC(y),e=d.raw.anK(E,y),p=d.Av.Ub(e),H=gm.afX(c,gm.LC(gm.aui)),Z=d.Av.multiply(H,p);
return Z};d.raw.acV=function(E){var y=E.t50728,p=1;if(y==null||y[0]==0)y=[1,1,1];var c=y.slice(0);c.push(0);
var e={x:.34567,y:.3585};do{var H=d.Av.Ub(d.raw.anK(E,e)),Z=d.Av.WV(H,c),X=gm.az1(Z);p=Math.abs(e.x-X.x)+Math.abs(e.y-X.y);
e=X}while(p>1e-7);return e};d.raw.anK=function(E,y){var c=gm.ao_(y),e=d.raw.aeB,p=E.t50778?E.t50778[0]:0,H=E.t50779?E.t50779[0]:0,Z=E.t50723,X=E.t50724;
if(Z&&Z.length==3)Z=null;if(X&&X.length==3)X=null;var b=e(E.t50721,E.t50722,p,H,c.g$),k=e(Z,X,p,H,c.g$);
b=b||[1,0,0,0,1,0,0,0,1];k=k||[1,0,0,0,1,0,0,0,1];var D=E.t50727?[E.t50727[0],0,0,0,E.t50727[1],0,0,0,E.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return d.Av.multiply(d.Av.pY(D),d.Av.multiply(d.Av.pY(k),d.Av.pY(b)))};d.raw.aeB=function(E,y,c,e,p){if(!E&&!y){return null}else if(E&&!y){return E}else if(p<c){return E}else if(p>e){return y}else{var H=(1/p-1/e)/(1/c-1/e),Z=1-H,X=[];
for(var N=0;N<9;N++)X[N]=E[N]*H+y[N]*Z;return X}};var gm={};gm.aui={x:.34567,y:.3585};gm.akL=[{Z:0,YB:.18006,XR:.26352,V4:-.24341},{Z:10,YB:.18066,XR:.26589,V4:-.25479},{Z:20,YB:.18133,XR:.26846,V4:-.26876},{Z:30,YB:.18208,XR:.27119,V4:-.28539},{Z:40,YB:.18293,XR:.27407,V4:-.3047},{Z:50,YB:.18388,XR:.27709,V4:-.32675},{Z:60,YB:.18494,XR:.28021,V4:-.35156},{Z:70,YB:.18611,XR:.28342,V4:-.37915},{Z:80,YB:.1874,XR:.28668,V4:-.40955},{Z:90,YB:.1888,XR:.28997,V4:-.44278},{Z:100,YB:.19032,XR:.29326,V4:-.47888},{Z:125,YB:.19462,XR:.30141,V4:-.58204},{Z:150,YB:.19962,XR:.30921,V4:-.70471},{Z:175,YB:.20525,XR:.31647,V4:-.84901},{Z:200,YB:.21142,XR:.32312,V4:-1.0182},{Z:225,YB:.21807,XR:.32909,V4:-1.2168},{Z:250,YB:.22511,XR:.33439,V4:-1.4512},{Z:275,YB:.23247,XR:.33904,V4:-1.7298},{Z:300,YB:.2401,XR:.34308,V4:-2.0637},{Z:325,YB:.24792,XR:.34655,V4:-2.4681},{Z:350,YB:.25591,XR:.34951,V4:-2.9641},{Z:375,YB:.264,XR:.352,V4:-3.5814},{Z:400,YB:.27218,XR:.35407,V4:-4.3633},{Z:425,YB:.28039,XR:.35577,V4:-5.3762},{Z:450,YB:.28863,XR:.35714,V4:-6.7262},{Z:475,YB:.29685,XR:.35823,V4:-8.5955},{Z:500,YB:.30505,XR:.35907,V4:-11.324},{Z:525,YB:.3132,XR:.35968,V4:-15.628},{Z:550,YB:.32129,XR:.36011,V4:-23.325},{Z:575,YB:.32931,XR:.36038,V4:-40.77},{Z:600,YB:.33724,XR:.36051,V4:-116.45}];
gm.ao_=function(E){var y=gm.akL,c=2*E.x/(1.5-E.x+6*E.y),e=3*E.y/(1.5-E.x+6*E.y),p=0,H=0,Z=0;for(;Z<31;
Z++){p=e-y[Z].XR-y[Z].V4*(c-y[Z].YB);if(Z>0&&p<0){break}H=p}while(Z>=y.length)Z--;p/=Math.sqrt(1+y[Z].V4*y[Z].V4);
H/=Math.sqrt(1+y[Z-1].V4*y[Z-1].V4);var X=H/(H-p),b=1e6/((y[Z].Z-y[Z-1].Z)*X+y[Z-1].Z),k=c-((y[Z].YB-y[Z-1].YB)*X+y[Z-1].YB),D=e-((y[Z].XR-y[Z-1].XR)*X+y[Z-1].XR),j=Math.sqrt(1+y[Z].V4*y[Z].V4),g=1/j,R=y[Z].V4/j,t=Math.sqrt(1+y[Z-1].V4*y[Z-1].V4),w=1/t,B=y[Z-1].V4/t,$=(g-w)*X+w,o=(R-B)*X+B,T=Math.sqrt($*$+o*o);
$/=T;o/=T;var i=(k*$+D*o)*-3e3;return{g$:b,Hy:i}};gm.qx=function(E,y){var c=gm.akL,e=1e6/E,p=1;for(;
p<31;p++){if(e<c[p].Z){break}}var H=(c[p].Z-e)/(c[p].Z-c[p-1].Z),Z=(c[p-1].YB-c[p].YB)*H+c[p].YB,X=(c[p-1].XR-c[p].XR)*H+c[p].XR,b=Math.sqrt(1+c[p].V4*c[p].V4),k=1/b,D=c[p].V4/b,j=Math.sqrt(1+c[p-1].V4*c[p-1].V4),g=1/j,R=c[p-1].V4/j,t=(g-k)*H+k,w=(R-D)*H+D,B=Math.sqrt(t*t+w*w);
t/=B;w/=B;Z+=t*y/-3e3;X+=w*y/-3e3;return{x:1.5*Z/(Z-4*X+2),y:X/(Z-4*X+2)}};gm.az1=function(E){var y=E[0]+E[1]+E[2];
return{x:E[0]/y,y:E[1]/y}};gm.LC=function(E){return{x:E.x/E.y,y:1,mV:(1-E.x-E.y)/E.y}};gm.afX=function(E,y){var c=d.Av.pY([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),e=[E.x,E.y,E.mV,0],p=[y.x,y.y,y.mV,0];
e=d.Av.WV(c,e);p=d.Av.WV(c,p);var H=p[0]/e[0],Z=p[1]/e[1],X=p[2]/e[2],b=d.Av.pY([H,0,0,0,Z,0,0,0,X]),k=d.Av.Ub(c);
return d.Av.multiply(d.Av.multiply(k,b),c)};d.raw.o$={};d.raw._h=function(E){E*=8;var y=[8,10,12,14,16];
for(var c in CAMS){var e=CAMS[c];if(e.length==4)continue;var p=e[4],H=e[5];for(var N=0;N<y.length;N++)if(p*H*y[N]==E)return[c,y[N]]}var Z=[[4e3,3e3]];
for(var N=0;N<Z.length;N++){var e=Z[N],p=e[0],H=e[1];for(var N=0;N<y.length;N++)if(p*H*y[N]==E)return[e,y[N]]}return null};
d.raw.ast=function(E){var E=new Uint8Array(E);for(var N=0;N<E.length;N+=2){var y=E[N];E[N]=E[N+1];E[N+1]=y}var c=d.raw._h(E.length),e=CAMS[c[0]];
if(e==null)e=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,c[0][0],c[0][1]];var p=e[4],H=e[5],Z=Math.max(e[2],116),X={data:E,Rp:1,width:p,height:H,t256:[p],t257:[H],t258:[c[1]],t277:[1],t33421:[2,2],t33422:d.raw.n0[e[1]],t50706:[1,2,0,0],t50714:[Z,Z,Z,Z],t50717:[e[3]],t50721:e[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var N=0;N<9;N++)X.t50721[N]/=1e4;return X};d.raw.ap7=function(E){if(E==null||E.length==0||typeof E[0]=="number")return E;
var y=[];for(var N=0;N<E.length;N++)y[N]=E[N][1]==0?0:E[N][0]/E[N][1];return y};d.raw.n0=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
d.raw.normalize=function(E,y){if(E.t50706!=null||E.t271[0].startsWith("Hasselblad")){var c=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var N=0;N<c.length;N++)if(E["t"+c[N]]!=null)E["t"+c[N]]=d.raw.ap7(E["t"+c[N]]);if(E.t271&&E.t271[0].startsWith("Hasselblad")){E.t50706=[1,2,0,0];
E.t33422=d.raw.n0[1];E.t50723=[1,0,0,0,1,0,0,0,1];E.t50778=[17];if(!E.isLE)for(var N=0;N<E.data.length;
N+=2){var e=E.data[N];E.data[N]=E.data[N+1];E.data[N+1]=e}}if(E.t272&&E.t272[0]=="HERO10 Black"){E.t50728=[.469725,1,.739884];
if(!E.t305[0].startsWith("Adobe")){var p=new Uint16Array(E.data.buffer);for(var N=0;N<p.length;N++)p[N]>>>=2}}return}var H=E.t258[0],Z=E.exifIFD,y=new Uint8Array(y);
E.t50706=[1,2,0,0];var X=E.t271[0].trim(),b=E.t272[0].trim();if(E.t50708==null)E.t50708=[X+" "+b];var k=(X+":"+b).toLowerCase(),D=CAMS[k];
if(k=="panasonic:dmc-lx2")D[3]=1<<16;if(D==null){alert("Unknown camera:"+k);if(k.startsWith("canon"))D=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(D!=null){var j=D[2];
E.t50714=[j,j,j,j];if(E.t272=="Canon EOS REBEL T3")D[3]=13584;E.t50717=[D[3]];E.t50721=D[0].slice(0);
for(var N=0;N<9;N++)E.t50721[N]=E.t50721[N]*(1/1e4)}E.t50723=[1,0,0,0,1,0,0,0,1];if(E.t50728==null)E.t50728=[.35,1,.6];
E.t50778=[17];if(X.startsWith("OLYMPUS")||X.startsWith("OM Digital Solutions")){E.t33422=[2,1,1,0];var g=Z.t41730,B;
if(g)E.t33422=[g[4],g[5],g[6],g[7]];var R=E.t50341;if(R==null)R=Z.t36864;var t=d.raw.acU(R.buffer,E);
E.data=new Uint8Array(t.buffer);if((E.height&1)==1)E.t50829=[0,0,E.height-1,E.width];var w=Z.makerNote,$=w.t8256;
if($)B=$.t256;else B=w.t12288.t256;E.t50728=[256/B[0],1,256/B[1]]}else if(E.t271[0].startsWith("SONY")){var o=UTIF["_bin"+(E.isLE?"LE":"BE")],T=E.t28688,n;
if(JSON.stringify(T)!="[8000,10400,12900,14100]")console.log(T);if(T){var i=[0,0,0,0,0,4095],r=new Uint16Array(16385);
for(var N=0;N<4;N++){var I=T[N]>>>2;i[N+1]=I;if(I>4095)throw"e"}for(var N=0;N<16385;N++)r[N]=N;for(var N=0;
N<5;N++)for(var M=i[N]+1;M<=i[N+1];M++)r[M]=r[M-1]+(1<<N);var J=y.length*8<E.width*E.height*H;if(J)E.t50712=r}else console.log("no curve");
var P=E.dngPrvt;if(P){var x=P.t29184[0],L=P.t29185[0],u=(E.isLE?_.gT:_.q)(P.t29217,0),C=new Uint32Array(y.slice(x,x+(L&4294967292)).buffer),h=new Uint32Array(L>>>2);
d.raw.a7h(C,h,L>>>2,u);var A=new Uint8Array(x+L);A.set(new Uint8Array(h.buffer),x);var W=[];UTIF._readIFD(o,A,x,W,0,!1);
var Q=W.pop(),l=Q.t29458;E.t50728=[l[1]/l[0],1,l[1]/l[3]];E.t50730=[.5];var O=Q.t29891;E.t50829=[O[1],O[0],O[3],O[2]]}else if(Z.makerNote&&Z.makerNote.t8208){var n=Z.makerNote,z=n.t8208,a=z.length,m=0,q=new Uint8Array(256);
for(var N=249;N<256;N++)q[N]=N;for(var N=0;N<249;N++)q[N*N*N%249]=N;for(var N=0;N<a;N++)z[N]=q[z[N]];
if(a==6604)m=612;else throw"e";var l=[];for(var N=0;N<3;N++)l.push(_.BP(z,m+N*2));console.log(l);E.t50728=[l[1]/l[0],1,l[1]/l[2]]}else console.log("no white balance");
if(E.width*E.height*1.5==E.t279[0]){j=j>>>2;E.t50714=[j,j,j,j];E.t50717=[D[3]>>>2]}}else if(E.t271[0].startsWith("Canon")){var y=E.data,K=y.slice(0),U=E.t50752,f=[],G=0;
if(U==null||U[0]==0&&U[1]==0)f.push(E.width);else{for(var N=0;N<U[0];N++)f.push(U[1]);f.push(U[2])}var Y=E.width*2,V=E.t50885&&E.t50885[0]==4;
if(!V)for(var dF=0;dF<f.length;dF++){var s=f[dF],aH=2*G,dw=2*s;for(var kO=0;kO<E.height;kO+=2){var hX=kO*Y+aH,jF=E.height*aH+kO*dw;
for(var N=0;N<dw;N++){y[hX+N]=K[jF+N];y[hX+N+Y]=K[jF+N+dw]}}G+=s}else{var gn=new Uint16Array(K.buffer),hM=new Uint16Array(y.buffer);
function ie(kd,i7){hM[i7*3+0]=gn[kd*3+0];hM[i7*3+1]=gn[kd*3+1];hM[i7*3+2]=gn[kd*3+2]}var bN=(U[0]*U[1]+U[2])/E.width;
for(var dF=0;dF<f.length;dF++){var s=Math.round(f[dF]/bN);for(var kO=0;kO<E.height;kO++){var kd=E.height*G+(bN==3?(kO>>>3)*8+[0,4,1,5,2,6,3,7][kO&7]:kO)*s,i7=kO*E.width+G;
for(var dn=0;dn<s;dn++)ie(kd+dn,i7+dn)}G+=s}var ew=new Uint16Array(y.buffer),e4=new Uint16Array(1),eE=new Int16Array(e4.buffer);
for(var N=0;N<ew.length;N+=3){var jc=ew[N],ft=ew[N+1],bd=ew[N+2];e4[0]=ft<<2;ft=eE[0]>>2;e4[0]=bd<<2;
bd=eE[0]>>2;ew[N+0]=Math.max(0,bd+jc);ew[N+1]=Math.max(0,(jc<<12)-ft*778-(bd<<11)>>12);ew[N+2]=Math.max(0,ft+jc)}}var n=Z.makerNote,kd=n.t224;
if(kd){var x=E.t50719=[kd[5],kd[6]],iB=E.t50720=[kd[7]+1-kd[5],kd[8]+1-kd[6]],cG=n.t154;if(cG){x[0]+=cG[3];
x[1]+=cG[4];iB[0]=cG[1];iB[1]=cG[2]}}if(n.t16385){var bT=n.t16385,g$=bT.length,hU=0;console.log(bT);
if(bT instanceof Array)bT=new Uint16Array(bT);if(g$==582)hU=1;else if(g$==653)hU=2;else if(g$==796)hU=3;
else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(g$)!=-1)hU=4;else if([1816,1820,1824,5120].indexOf(g$)!=-1){hU=5;
bT=new Int16Array(bT.slice(0).buffer)}else if(g$==1273||g$==1275)hU=6;else if([1312,1313,1316,1506].indexOf(g$)!=-1)hU=7;
else if([1560,1592,1353,1602].indexOf(g$)!=-1)hU=8;else if(g$==3656)hU=9;else if(g$==3778||g$==3973)hU=10;
else throw"e"+g$;var ah=bT[0],co=[null,[25,166],[34,286],[63,196],[63],[71,ah==-4?333:ah==16||ah==17||ah==18||ah==19?329:264],[63,251],[63,ah==10?504:728],[63,326],[85,343],[105,363]],m=co[hU][0],im=co[hU][1];
if(hU==4){if(bT[0]==2)im=231;else if(bT[0]==3)im=231;else if(bT[0]==4)im=231;else if(bT[0]==5)im=231;
else if(bT[0]==6)im=231;else if(bT[0]==7)im=231;else if(bT[0]==9)im=231;else throw"e"}E.t50728=[bT[m+1]/bT[m],1,bT[m+1]/bT[m+3]];
var j=im==null?1024:bT[im];if(hU!=4)E.t50714=[j,j,j,j]}else{E.t50728=[.4,1,.6]}if(V){E.t277=[3];E.t50728=[1,1,1];
E.t50714=[0,0,0,0]}}else if(E.t271[0].startsWith("NIKON")){var n=Z.makerNote,hb=E.isLE?_.BP:_.aL,kp=0,gw=0,fv,cm=0;
if(n.t61){var dI=n.t61,bw=[];for(var N=0;N<4;N++)bw[N]=dI[N]/Math.pow(2,14-H);E.t50714=bw}if(n.t3585){var fb=n.t3585,N=0,x=22;
while(x<fb.length&&N!=-4){var iG=_.gT(fb,x);x+=4;x+=14;N=_.gT(fb,x)-4;x+=4;if(iG==1990472198){if(fb[x]!=0)throw"Flip"}if(iG==1990472199){var dy=_.BP(fb,x);
if(dy==0)E.Rp=1;else if(dy==270)E.Rp=8;else throw"e "+dy}x+=N}}if(n.t183){var dR=n.t183,iB=[];for(var N=0;
N<6;N++)iB.push(hb(dR,16+N*2));kp=iB[0];gw=iB[1]}if(n.t3614){var fT=n.t3614;kp=_.gT(fT,8);gw=_.gT(fT,12)}if(kp!=0&&Math.max(kp,gw)<Math.max(E.width,E.height)){if(kp<gw){var e=kp;
kp=gw;gw=e}var dn=E.width-kp>>>1,kO=E.height-gw>>>1;E.t50829=[kO,dn,kO+gw,dn+kp]}else E.t50829=[8,8,E.height-8,E.width-56];
var gA=n.t69;if(gA){var by=gA[1];if((by&1)==1)by++;E.t50829=[by,gA[0],by+gA[3],gA[0]+gA[2]]}if(n.t12){var d4=d.raw.ap7(n.t12);
fv=[1/d4[0],1,1/d4[1]]}else if(n.t151){var fg=d.raw.abk(n,151),aC=fg[0],iI=fg[1],bu=fg[2];if(aC=="0100"&&iI>=80)throw"e";
else if(aC=="0102"){var hj=[];for(var N=0;N<4;N++)hj.push(hb(bu,6+N*2));fv=[hj[1]/hj[0],1,hj[1]/hj[3]]}else if(aC=="0103"&&iI>=26){var hj=[];
for(var N=0;N<4;N++)hj.push(hb(bu,16+N*2));fv=[hj[1]/hj[0],1,hj[3]/hj[2]]}else if(aC=="0204"&&iI>=564||aC=="0205"&&iI>=284){var x=aC=="0204"?6:14,hj=[];
for(var N=0;N<4;N++)hj.push(hb(bu,x+N*2));fv=[hj[1]/hj[0],1,hj[1]/hj[3]]}else throw"e"}else console.log("no white balance info");
if(b=="NIKON D1")fv=[1,1,1];if(fv)E.t50728=fv;var jg=n.t150?n.t150:n.t140;if(jg){var bz=jg[cm++],db=jg[cm++],eb;
if(bz==73||db==88)cm+=2110;cm+=8;var eM=1<<H&32767,de=hb(jg,cm);cm+=2;var r=[];if(de>1)eb=Math.floor(eM/(de-1));
if(bz==68&&db==32&&eb>0){for(N=0;N<de;N++){r[N*eb]=hb(jg,cm);cm+=2}for(N=0;N<eM;N++)r[N]=Math.floor((r[N-N%eb]*(eb-N%eb)+r[N-N%eb+eb]*(N%eb))/eb)}else if(bz!=70&&de<=16385){eM=de;
for(var N=0;N<de;N++)r[N]=hb(jg,cm+2*N);cm+=2*de}var b=E.t272[0];if(r.length!=0)E.t50712=new Uint16Array(r);
if(E.t258[0]==14&&E.t50717&&E.t50717[0]<1e4){console.log("fixing white");E.t50717[0]*=4}}}else if(X.startsWith("FujiFilm")){}else if(X.startsWith("Panasonic")){if(E.t277==null)E.t277=[1]}else alert("Unknown camera "+X)};
d.raw.a7h=function(E,y,c,e){if(0==c)return;var p=new Uint32Array(128),H=new Uint8Array(p.buffer),Z=127,X=0,b=0;
for(var Z=0;Z<4;Z++)p[Z]=e=(e*15625>>>0)*3125+1>>>0;p[3]=p[3]<<1|(p[0]^p[2])>>>31;for(var Z=4;Z<127;
Z++)p[Z]=(p[Z-4]^p[Z-2])<<1|(p[Z-3]^p[Z-1])>>>31;for(var Z=0;Z<127;Z++)p[Z]=_.q(H,Z*4);for(;c>0;c--){p[Z&127]=p[Z+1&127]^p[Z+1+64&127];
var k=p[Z&127],D=E[X];D^=k;y[b]=D;X++;b++;Z++}};d.raw.afJ=function(E,y){var c=_.xY(y,0,4),e=d.raw.aoI;
for(var N=0;N<e.length;N++)if(e[N][0]==E&&c.startsWith(e[N][1])&&(e[N][2]==0||e[N][2]==y.length))return e[N];
throw"e"};d.raw.adW=function(E){if(E.t29==null)return[];var y=d.raw.a1y,c=d.raw.aqu,e=E.t29[0],p=0,Z=0;
for(var N=0;N<e.length;N++){var H=e.charCodeAt(N);p=p*10+(48<=H&&H<=57?H-48:H%10)}var iI=E.t167[0];for(var N=0;
N<4;N++)Z^=iI>>>(N<<3)&255;var X=y[p&255],b=c[Z&255];return[X,b,96]};d.raw.abk=function(E,y){var c=E["t"+y],iI=c.length,e=d.raw.afJ(y,c),p=_.xY(c,0,4),H,Z=e[4];
if(Z==null)H=c.slice(4);else{H=new Uint8Array(iI-Z);var X=d.raw.adW(E),b=X[0],k=X[1],D=X[2];for(var N=0;
N<H.length;N++){k=k+b*D++&255;H[N]=c[Z++]^k}}return[p,iI,H]};d.raw.acU=function(E,y){var c=y.t271[0],e=y.t272[0],p=y.t256[0],H=y.t257[0],Z=y.t258[0],X=y.t273[0],b=X,k=new Uint8Array(E),D,j=p-4,g=H,R=k.length-X,B=0,$=0;
function t(){var I=new Uint16Array(4096),j1=0;I[j1]=3084;for(var N=12;N--;)for(var M=0;M<2048>>N;M++)I[++j1]=N+1<<8|N;
return I}function w(){return k[b++]}function o(I,M){var J;if(I>25)return 0;if(I==0||$<0)return 0;if(I<0){B=0;
$=0;return 0}while($<I){J=w();if(J==null)break;B=(B<<8)+(255&J);$+=8}J=$==0?0:B<<32-$>>>32-I;if(M){$-=M[J]>>8;
J=255&M[J]}else $-=I;return J}function T(){var I=t();b+=7;o(-1);for(var M=0;M<g;M++){var J=[new Int32Array(3),new Int32Array(3)];
for(var P=0;P<p;P++){var n=J[P&1],N=2*(n[2]<3),x;for(x=2+N;(65535&n[0])>>x+N;x++);var L=o(3),u=L&3;L=L<<29>>31;
var C=o(12,I);if(C==12)C=o(16-x)>>>1;var h=o(x);n[0]=C<<x|h;var A=(n[0]^L)+n[1];n[1]=A*3+n[1]>>5;n[2]=n[0]>16?0:n[2]+1;
if(P>=j)continue;var W=D[M*p+P-2],j1=D[(M-2)*p+P],Q=D[(M-2)*p+P-2];D[M*p+P]=(M<2&&P<2?0:M<2?W:P<2?j1:W<Q&&Q<j1||j1<Q&&Q<W?Math.abs(W-Q)>32||Math.abs(j1-Q)>32?W+j1-Q:W+j1>>1:Math.abs(W-Q)>Math.abs(j1-Q)?W:j1)+(A<<2|u)}}}function i(){var I=p*Z/8,M=H+1>>1,P=0,n=0;
I+=I&6>>7;var J=I*8-p*Z;for(var x=0;x<H;x++){var L=x%M*2+~~(x/M);if(L==1){P=0;b=X-(-M*I&-2048)}for(var u=0;
u<p;u++){for(P-=Z;P<0;P+=8){n<<=8;for(var N=0;N<8;N+=8)n|=w()<<N}var C=n<<64-Z-P>>>64-Z;D[L*p+u]=C}P-=J}}function r(){var I=!c.startsWith("OLYMPUS")||!c.startsWith("OM Digi")||!c.toLowerCase().startsWith("clauss")&&!e.toLowerCase().startsWith("pix 5oo");
return I&&R<p*H}if(r()){D=new Uint16Array(j*g);T()}else{D=new Uint16Array(p*H);i()}return D};d.raw.aoI=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
d.raw.a1y=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
d.raw.aqu=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
d.YI={};d.YI.YI=function(E,y,c,e,p){if(e==null)e=3;if(p==null)p=!0;var H=E.m,Z=E.e,X=1/H,b=H*Z,k=Date.now(),D=!1,j=d.YI.aj3(c,H,Z,255,128),g=d.YI.aj3(c,H,Z,0,128),G=0;
if(D)console.log("extract contours",Date.now()-k);k=Date.now();var R=function(fb,iG){var dy=fb<<2,kp=iG<<2;
return y[dy]+y[dy+1]+y[dy+2]-(y[kp]+y[kp+1]+y[kp+2])};j.sort(R);g.sort(R);var t=d.R(b),w=d.R(b),B=[],$=new Uint32Array(H*Z);
$.fill(4294967295);for(var N=0;N<b;N++)if(c[N]==0)w[N]=255;else if(c[N]==255)t[N]=255;else{$[N]=B.length;
B.push(N)}var o=j.length,T=g.length,i=B.length;function r(fb,iG,dy,kp){var gw=fb.length,dR=new Array(gw*2);
for(var N=0;N<gw;N++){var W=fb[N],Q=~~(W*kp),l=W-Q*dy,co=W<<2;dR[N*2]=l<<16|Q;dR[N*2+1]=iG[co]<<16|iG[co+1]<<8|iG[co+2]}return dR}var I=r(j,y,H,X),M=r(g,y,H,X),J=r(B,y,H,X);
if(D)console.log("Itemize",Date.now()-k,"Unknown:",i,o,T);k=Date.now();var P=d.style.ge(t,H,Z,!0),n=d.style.ge(w,H,Z,!0),x=new Array(i),L=new Array(i),u=new Array(i),C=new Array(i),h=new Array(i);
if(D)console.log("Dist transform",Date.now()-k);k=Date.now();var A=d.YI.vO;for(var N=0;N<i;N++){var W=B[N],Q=~~(W*X),l=W-Q*H,O=P[W<<1],z=P[(W<<1)+1],a=Math.sqrt(O*O+z*z),m=n[W<<1],q=n[(W<<1)+1],K=Math.sqrt(m*m+q*q);
x[N]=1/a;L[N]=1/K;var U=Math.floor(d.l.NB(W*17)*o),f=Math.floor(d.l.NB(W*19)*T);u[N]=U;C[N]=f;h[N]=A(J[N*2],J[N*2+1],I[U*2],I[U*2+1],M[f*2],M[f*2+1],x[N],L[N],1e9)}var Y=[-H-1,-H,-H+1,-1,1,H-1,H,H+1];
while(Math.floor(Math.max(o,T)*Math.pow(.5,G))>1)G++;for(var V=0;V<e;V++){var dF=0;for(var N=0;N<i;N++){var W=B[N],Q=~~(W*X),l=W-Q*H,s=x[N],aH=L[N],dw=J[N*2],kO=J[N*2+1],hX=h[N],U=u[N],f=C[N],kd=1;
if(Q!=0&&l!=0&&l!=H-1&&Q!=Z-1)for(var jF=0;jF<8;jF++){var gn=$[W+Y[jF]];if(gn==4294967295)continue;var hM=u[gn],ie=C[gn];
if(hM==U&&ie==f)continue;var bN=A(dw,kO,I[hM*2],I[hM*2+1],M[ie*2],M[ie*2+1],s,aH,hX);if(bN<hX){hX=bN;
U=hM;f=ie}}for(var i7=0;i7<G;i7++){var ew=~~(o*kd),e4=~~(T*kd);kd*=.5;var eE=d.l.NB(W+V*17+i7*31),jc=d.l.NB(W+V*29+i7*63),ft=Math.max(0,U-ew),bd=Math.min(U+ew,o-1),iB=Math.max(0,f-e4),cG=Math.min(f+e4,T-1),hM=ft+~~(eE*(bd-ft)),ie=iB+~~(jc*(cG-iB)),bN=A(dw,kO,I[hM*2],I[hM*2+1],M[ie*2],M[ie*2+1],s,aH,hX);
if(bN<hX){hX=bN;U=hM;f=ie}}h[N]=hX;u[N]=U;C[N]=f;dF+=hX}}if(D)console.log(dF);if(D)console.log("iterations",Date.now()-k);
k=Date.now();var bT=c.slice(0);for(var N=0;N<i;N++){var g$=d.YI.alpha(J[N*2+1],I[u[N]*2+1],M[C[N]*2+1]);
bT[B[N]]=~~(.5+255*g$)}bT=d.Fx.akO(bT,y,new ir(0,0,H,Z),16,.01*.01);if(D)console.log("guided filter",Date.now()-k);
k=Date.now();if(p)for(var N=0;N<b;N++)if(c[N]==255||c[N]==0)bT[N]=c[N];var hU=y.slice(0);for(var N=0;
N<i;N++){var ah=B[N],U=j[u[N]],hX=h[N],co=ah<<2,im=bT[ah],bw=(im>=250?ah:U)<<2;hU[co]=y[bw];hU[co+1]=y[bw+1];
hU[co+2]=y[bw+2]}d.Og(bT,hU,3);if(D)console.log(Date.now()-k);k=Date.now();return hU};d.YI.vO=function(E,y,c,e,p,H,Z,X,b){var k=E>>>16,D=E&65535,j=k-(c>>>16),g=D-(c&65535),R=k-(p>>>16),t=D-(p&65535),w=Math.sqrt(j*j+g*g)*Z,B=Math.sqrt(R*R+t*t)*X;
if(w+B>=b)return 1e9;var $=d.YI.aC$(y,e,H);return $+w+B};d.YI.aC$=function(E,y,c){var e=E>>>16,p=E>>>8&255,H=E&255,Z=y>>>16,X=y>>>8&255,b=y&255,k=c>>>16,D=c>>>8&255,j=c&255,g=d.YI.alpha(E,y,c),R=e-(g*Z+(1-g)*k),t=p-(g*X+(1-g)*D),w=H-(g*b+(1-g)*j);
return Math.sqrt(R*R+t*t+w*w)};d.YI.alpha=function(E,y,c){var e=E>>>16,p=E>>>8&255,H=E&255,Z=y>>>16,X=y>>>8&255,b=y&255,k=c>>>16,D=c>>>8&255,j=c&255,g=Z-k,R=X-D,t=b-j,w=e-k,B=p-D,$=H-j,o=g*g+R*R+t*t,T=o==0?.5:(w*g+B*R+$*t)/o;
return Math.max(0,Math.min(1,T))};d.YI.ag8=function(E){};d.YI.aj3=function(E,y,c,e,p){var H=[],Z=y-1,X=c-1;
for(var b=1;b<X;b++)for(var k=1;k<Z;k++){var N=b*y+k;if(E[N]==e&&(E[N-y-1]==p||E[N-y]==p||E[N-y+1]==p||(E[N-1]==p||E[N+1]==p)||(E[N+y-1]==p||E[N+y]==p||E[N+y+1]==p)))H.push(N)}return H};
d.Fx={};d.Fx.a7R=function(E,y,c,e,p){var H=c.m,Z=c.e,X=H*Z,b=d.Fx.ajk,k=d.R(X*4),D;d.KT(k,4294967295);
var j=c,g=E,R=y,t=e;d.Og(E,k,0);D=d.Ws(k,c);D=d.Ws(D.bb,D.rect);j=D.rect;t=e>>>2;console.log(j,t);g=d.R(j.P());
d.LI(D.bb,g,0);d.Og(y,k,0);D=d.Ws(k,c);D=d.Ws(D.bb,D.rect);R=d.R(j.P());d.LI(D.bb,R,0);var w=d.Fx.adI(g,R,j,t,p),B=w[0],$=w[1],o=new ir(0,0,j.m*2,j.e*2);
B=b(B,j,o,!0);B=b(B,o,c,!0);$=b($,j,o,!0);$=b($,o,c,!0);var T=d.R(X);for(var N=0;N<X;N++)T[N]=Math.max(0,Math.min(255,Math.floor(.5+(B[N]*y[N]+255*$[N]))));
return T};d.Fx.gC=function(E,y,c,e){y.set(E);d.gC.alY(y,c,e)};d.Fx.ajk=function(E,y,c,e){var p=c.m,H=c.e,Z=y.m,X=y.e,b=d.Fx.xO,k=new Float32Array(p*H);
for(var D=0;D<X;D++){var j=(D+D)*p;for(var g=0;g<Z;g++){if(!0||g==0||D==0||g==Z-1||D==X-1)k[j]=k[j+1]=k[j+p]=k[j+p+1]=E[D*Z+g];
else{k[j]=b(g+.25,D+.25,E,Z,X);k[j+1]=b(g+.75,D+.25,E,Z,X);k[j+p]=b(g+.25,D+.75,E,Z,X);k[j+p+1]=b(g+.75,D+.75,E,Z,X)}j+=2}}return k};
d.Fx.xO=function(E,y,c,e,p){E-=.499999;y-=.499999;var H=Math.floor(E),Z=Math.floor(y),X=Z*e+H,b=E-H,k=y-Z,D=(1-k)*(1-b),j=(1-k)*b,g=k*(1-b),R=k*b;
if(c[X]==null||c[X+e+1]==null){console.log(E,y,e,p);throw"e"}return D*c[X+0]+j*c[X+1]+g*c[X+e+0]+R*c[X+e+1]};
d.Fx.adI=function(E,y,c,e,p){var H=c.m,Z=c.e,X=H*Z,b=d.Fx.a57,k=d.Fx.R,D=d.Fx.gC,j=d.Fx.Aw,y=b(y,X),E=b(E,X),g=k(X);
D(y,g,c,e);var R=k(X);D(E,R,c,e);var t=k(X);j(y,y,t);D(t,t,c,e);var w=k(X);j(y,E,w);D(w,w,c,e);var B=k(X),$=k(X);
for(var N=0;N<X;N++){var o=g[N],T=R[N],i=t[N]-o*o,r=w[N]-o*T,I=r/(i+p),M=T-I*o;B[N]=I;$[N]=M}var J=k(X);
D(B,J,c,e);var P=k(X);D($,P,c,e);return[J,P]};d.Fx.akO=function(E,y,c,e,p){var H=c.m,Z=c.e,X=H*Z,b=d.Fx.ajk,k=Date.now(),D=!1,j=c,g=E,R=y,t=e;
j=new ir(0,0,H>>>2,Z>>>2);t=e>>>2;g=d.Fx.a1C(E,H,Z);R=d.Fx.anT(y,H,Z);if(D)console.log(Date.now()-k);
k=Date.now();var w=d.Fx.anI(g,R,j,t,p),B=w[0],$=w[1],o=w[2],T=w[3];if(D)console.log(Date.now()-k);k=Date.now();
var i=d.R(X);for(var r=0;r<Z;r++)for(var I=0;I<H;I++){var N=r*H+I,M=(r>>>2)*(H>>>2)+(I>>>2),J=N<<2,P=B[M]*y[J]+$[M]*y[J+1]+o[M]*y[J+2]+T[M]*255;
i[N]=Math.max(0,Math.min(255,~~(.5+P)))}if(D)console.log(Date.now()-k);k=Date.now();return i};d.Fx.a1C=function(E,y,c){var e=y>>>2,p=c>>>2,H=d.R(e*p);
for(var Z=0;Z<p;Z++)for(var X=0;X<e;X++)H[Z*e+X]=E[Z*y+X<<2];return H};d.Fx.anT=function(E,y,c){var e=y>>>2,p=c>>>2,H=d.R(e*p*4);
for(var Z=0;Z<p;Z++)for(var X=0;X<e;X++){var b=Z*e+X<<2,k=Z*y+X<<4;H[b]=E[k];H[b+1]=E[k+1];H[b+2]=E[k+2];
H[b+3]=E[k+3]}return H};d.Fx.anI=function(E,y,c,e,p){var H=c.m,Z=c.e,X=H*Z,b=d.Fx.a57,k=d.Fx.R,D=d.Fx.gC,j=d.Fx.Aw,E=b(E,X),g=new d.Ay(H*Z);
d.Rk(y,g);var y=[b(g.Z,X),b(g.D,X),b(g.J,X)],R=d.Fx.amF(E,y,c,e,p),t=k(X);D(E,t,c,e);var w=k(X);j(y[0],E,w);
D(w,w,c,e);var B=k(X);j(y[1],E,B);D(B,B,c,e);var $=k(X);j(y[2],E,$);D($,$,c,e);var o=k(X),T=k(X),i=k(X),r=k(X);
for(var N=0;N<X;N++){var I=t[N],M=R.Em[N],J=R.u1[N],P=R.tr[N],n=w[N]-M*I,x=B[N]-J*I,L=$[N]-P*I;o[N]=R.asf[N]*n+R.Qd[N]*x+R.Fi[N]*L;
T[N]=R.Qd[N]*n+R.av2[N]*x+R.fg[N]*L;i[N]=R.Fi[N]*n+R.fg[N]*x+R.a1P[N]*L;r[N]=I-o[N]*M-T[N]*J-i[N]*P}D(o,o,c,e);
D(T,T,c,e);D(i,i,c,e);D(r,r,c,e);return[o,T,i,r]};d.Fx.amF=function(E,y,c,e,p){var H=c.m,Z=c.e,X=H*Z,b=d.Fx.R,k=d.Fx.gC,D=d.Fx.Aw,j={};
j.Em=b(X);k(y[0],j.Em,c,e);j.u1=b(X);k(y[1],j.u1,c,e);j.tr=b(X);k(y[2],j.tr,c,e);var g=b(X);D(y[0],y[0],g);
k(g,g,c,e);var R=b(X);D(y[0],y[1],R);k(R,R,c,e);var t=b(X);D(y[0],y[2],t);k(t,t,c,e);var w=b(X);D(y[1],y[1],w);
k(w,w,c,e);var B=b(X);D(y[1],y[2],B);k(B,B,c,e);var $=b(X);D(y[2],y[2],$);k($,$,c,e);j.asf=g;j.Qd=R;
j.Fi=t;j.av2=w;j.fg=B;j.a1P=$;for(var N=0;N<X;N++){var o=j.Em[N],T=j.u1[N],i=j.tr[N],r=g[N]-o*o+p,I=R[N]-o*T,M=t[N]-o*i,J=w[N]-T*T+p,P=B[N]-T*i,n=$[N]-i*i+p,x=J*n-P*P,L=P*M-I*n,u=I*P-J*M,C=r*n-M*M,h=M*I-r*P,A=r*J-I*I,W=x*r+L*I+u*M,Q=1/W;
j.asf[N]=x*Q;j.Qd[N]=L*Q;j.Fi[N]=u*Q;j.av2[N]=C*Q;j.fg[N]=h*Q;j.a1P[N]=A*Q}return j};d.Fx.R=function(E){return new Float32Array(E)};
d.Fx.a57=function(E,y){var c=new Float32Array(y);for(var N=0;N<y;N++)c[N]=E[N]*(1/255);return c};d.Fx.Aw=function(E,y,c){for(var N=0;
N<E.length;N++)c[N]=E[N]*y[N]};d.PB={};d.PB.W4=function(E,y,c,e){var p=E[y]-c[e],H=E[y+1]-c[e+1],Z=E[y+2]-c[e+2];
return Math.sqrt(p*p+H*H+Z*Z)*(1/441.7)};d.PB.getSelection=function(E,y,c){var e=y*c,p=d.R(e),H=!1,Z=Math.round(c*.7),X=1,b=new Uint32Array(12),k=d.R(12);
for(var D=0;D<Z;D++)for(var j=0;j<y;j++){if(j<X||D<X||j>y-X-1||D>c-X-1){var N=D*y+j,g=N<<2,R=0;if(D<X)R=4;
else if(j>y-X-1)R=8;b[R]+=E[g];b[R+1]+=E[g+1];b[R+2]+=E[g+2];b[R+3]++;p[N]=255}}for(var N=0;N<12;N+=4)for(var t=0;
t<3;t++)k[N+t]=b[N+t]/b[N+3];var w=new Float32Array(e);for(var N=0;N<e;N++){var g=N*4,B=d.PB.W4(E,g,k,0),$=d.PB.W4(E,g,k,4),o=d.PB.W4(E,g,k,8),T=Math.max(B,Math.max($,o));
w[N]=B+$+o-T}d.PB.yc(w);var i=Date.now(),r=new Float32Array(e),I=[],M=d.R(e);for(var N=0;N<3;N++){d.LI(E,M,N);
var J=new Uint16Array(e);I.push(J);d.PB.a2a(M,p,y,c,J)}if(H)console.log("MBD",Date.now()-i);i=Date.now();
for(var N=0;N<e;N++)r[N]=I[0][N]+I[1][N]+I[2][N];d.PB.yc(r);for(var N=0;N<e;N++)r[N]+=.4*w[N];var P=y>>>1,Z=c>>>1,n=1/Math.sqrt(P*P+Z*Z);
for(var D=0;D<c;D++)for(var j=0;j<y;j++){var x=j-P,L=D-Z,u=1-Math.sqrt(x*x+L*L)*n;r[D*y+j]*=u}if(H)console.log("Centeredness",Date.now()-i);
i=Date.now();for(var N=0;N<e;N++)p[N]=r[N]*255;var C=Math.round(y/120),h=Math.round(C*.8);if(H)console.log(C,h);
d.ZX.YR(p,p,y,c,C+C+1,!1);if(H)console.log("erosion",Date.now()-i);i=Date.now();for(var N=0;N<e;N++)r[N]=p[N];
d.PB.yc(r);var A=d.R(256);for(var N=0;N<256;N++)A[N]=256/(1+Math.exp(-20*(N/255-.5)));for(var N=0;N<e;
N++){var W=~~(r[N]*255+.5);p[N]=A[W]}if(H)console.log("Simoid",Date.now()-i);i=Date.now();return p};
d.PB.yc=function(E){var y=E.length,c=0;for(var N=0;N<y;N++)c=Math.max(c,E[N]);var e=1/c;for(var N=0;
N<y;N++)E[N]=E[N]*e};d.PB.a2a=function(E,y,c,e,p){var H=c*e,Z=E.slice(0),X=E.slice(0);for(var N=0;N<H;
N++)p[N]=y[N]==255?0:65535;d.PB.aBO(E,X,Z,p,c,e);d.PB.aq1(E,X,Z,p,c,e);d.PB.aBO(E,X,Z,p,c,e);d.PB.aq1(E,X,Z,p,c,e);
return p};d.PB.aBO=function(E,y,c,e,p,H){for(var Z=1;Z<p;Z++)d.PB.uy(Z,-1,E,y,c,e);for(var X=1;X<H;X++){d.PB.uy(X*p,-p,E,y,c,e);
for(var Z=1;Z<p;Z++){var N=X*p+Z;d.PB.uy(N,-1,E,y,c,e);d.PB.uy(N,-p,E,y,c,e)}}};d.PB.aq1=function(E,y,c,e,p,H){for(var Z=p-2;
Z>=0;Z--)d.PB.uy(p*H-p+Z,1,E,y,c,e);for(var X=H-2;X>=0;X--){d.PB.uy(X*p+p-1,p,E,y,c,e);for(var Z=p-2;
Z>=0;Z--){var N=X*p+Z;d.PB.uy(N,1,E,y,c,e);d.PB.uy(N,p,E,y,c,e)}}};d.PB.uy=function(N,E,y,c,e,p){var H=N+E,Z=y[N],X=c[H],b=e[H];
if(X<Z)X=Z;else if(Z<b)b=Z;var k=X-b;if(p[H]!=65535&&k<p[N]){p[N]=k;c[N]=X;e[N]=b}};d.ah={};d.ah.filter=function(E,y,c,e){var p=y.m,H=y.e,Z=p*H,X=e[0],b=e[1],k=e[2],D=e[3],j=e[4],g=e[5],R=e[6],t=Date.now(),w=new Float32Array(p*H*4);
d.ah.avL(E,p,H,w);var B=Math.ceil(X*Math.sqrt(-2*Math.log(.1))),$=new ArrayBuffer(Z*4),o=new Float32Array($),T=new Float32Array(Z),i=new Float32Array(Z);
for(var N=0;N<Z;N++){var r=N*4;o[N]=w[r];T[N]=w[r+1];i[N]=w[r+2]}d.gC.RC(o,y,B*1/2.4,2);d.gC.RC(T,y,B*1/2.4,2);
d.gC.RC(i,y,B*1/2.4,2);for(var N=0;N<Z;N++){var r=N*4;w[r]=o[N];w[r+1]=T[N];w[r+2]=i[N]}var I=new Uint8Array($);
for(var N=0;N<Z;N++){var r=N*4,M=N*4,o=w[r],T=w[r+1],i=w[r+2],J=Math.sqrt((o-i)*(o-i)+4*T*T),P=(o+i+J)*.5,n=(o+i-J)*.5,x=n-i,L=T,u=x*x+L*L;
if(u!=0){var C=Math.sqrt(u),h=1/C;x*=h;L*=h}I[M]=128+127*x;I[M+1]=128+127*L}var A=1.3*b+2,W=D*(2/10),Q=E.slice();
if(h0.Lq){var l=new Float32Array([1/p,1/H]),O=h0.On(0,p,H);O.set(Q);var z=h0.On(1,p,H);z.set(I);h0.Lm(O,y);
if(j){O.br(y);h0.filter.v_({type:h0.filter.a3x,T3:l,anx:1/k,a6Y:W},O.UY)}O.br(y);h0.filter.v_({type:h0.filter.lH,nE:z.Ln,T3:l,as_:A,a0u:2},O.UY);
if(j){O.br(y);h0.filter.v_({type:h0.filter.a5Q,T3:l,aaq:new Float32Array(R),a14:g},O.UY)}O.get(c)}else{if(j)d.ah.XZ(1/k,W,Q,p,H);
d.ah.lH(Q,c,I,p,H,A);if(j)d.ah.ab2(p,H,c,R,g)}var a=Z*4;for(var N=3;N<a;N+=4)c[N]=E[N]};d.ah.lH=function(E,y,c,e,p,H){var Z=Math.ceil(2*H),X=-1/(2*H*H),b=[],k=1;
for(var N=0;N<Z+20;N++)b[N]=Math.exp(N*N*X);var D=[0,0,0,0];for(var j=0;j<p;j++){for(var g=0;g<e;g++){var R=j*e+g,t=R*4,w=1,B=E[t],$=E[t+1],o=E[t+2],T=E[t+3],i=(c[t]-128)*(1/127),r=(c[t+1]-128)*(1/127),I=i,M=r,J=g==0?.51:.49,P=j==0?.51:.49;
for(var N=0;N<2;N++){var n=g+J,x=j+P,L=0;while(L<Z){if(n<.5||e-.5<n||x<.5||p-.5<x)break;var u=~~n,C=~~x,h=C*e+u,A=h*4,W=(c[A]-128)*(1/127),Q=(c[A+1]-128)*(1/127);
if(W*I+Q*M<0){W=-W;Q=-Q}I=W;M=Q;n+=k*W;x+=k*Q;if(n<.5||e-.5<n||x<.5||p-.5<x)break;var l=~~n,O=~~x,z=O*e+l<<2;
L+=k;var a=b[~~L];d.r.aBS(n,x,E,e,p,D);B+=D[0]*a;$+=D[1]*a;o+=D[2]*a;T+=D[3]*a;w+=a}I=-i;M=-r}var m=1/w;
y[t]=~~(.5+B*m);y[t+1]=~~(.5+$*m);y[t+2]=~~(.5+o*m);y[t+3]=~~(.5+T*m)}}};d.ah.ab2=function(E,y,c,e,p){for(var H=0;
H<y;H++)for(var Z=0;Z<E;Z++){var X=H*E+Z<<2,b=1+d.ah.a7B(Z,H,c,E,y,e)*p;c[X]=Math.max(0,Math.min(255,c[X]*b));
c[X+1]=Math.max(0,Math.min(255,c[X+1]*b));c[X+2]=Math.max(0,Math.min(255,c[X+2]*b))}};d.ah.a7B=function(E,y,c,e,p,H){var Z=c[(y*e+Math.max(0,E-1))*4+3],X=c[(y*e+Math.min(e-1,E+1))*4+3],b=c[(Math.max(0,y-1)*e+E)*4+3],k=c[(Math.min(p-1,y+1)*e+E)*4+3],D=.7,j=(X-Z)*(1/255),g=.7,R=(k-b)*(1/255),t=-j*g,w=-D*R,B=D*g,$=Math.sqrt(t*t+w*w+B*B),o=1/$,T=t*o,i=w*o,r=B*o,I=H[0]*T+H[1]*i+H[2]*r;
return I};d.ah.XZ=function(E,y,c,e,p){function H(X,k,D){return Math.max(k,Math.min(D,X))}for(var Z=0;
Z<p;Z++)for(var X=0;X<e;X++){var b=d.ah.aop(X+.5,Z+.5,E,y);c[(Z*e+X)*4+3]=Math.max(0,Math.min(255,b*255))}};
d.ah.aop=function(E,y,c,e){function p(M,J,P){return(1-P)*M+P*J}var H=(E+613)*c,Z=(y+117)*c,X=~~H,b=~~Z,k=H-X,D=Z-b,j=Math.sin(11),g=Math.cos(X)*j,R=Math.cos(X+1)*j,t=Math.cos(b)*j,w=Math.cos(b+1)*j,j1=d.ah.hash(g,t),B=d.ah.hash(R,t),$=d.ah.hash(g,w),o=d.ah.hash(R,w),T=p(j1,B,k),i=p($,o,k),r=p(T,i,D);
r=r<.5?0:1;var I=r+e*d.ah.hash(Math.cos(H)*j,Math.cos(Z)*j);return I*(1/3)};d.ah.hash=function(E,y){var c=Math.sin(E*11.697096+y*73.32456)*12157.47691;
return c-Math.floor(c)};d.ah.avL=function(E,y,c,e){var p=[-1,0,1,-2,0,2,-1,0,1],H=[-1,-2,-1,0,0,0,1,2,1],Z=y-1,X=c-1,b=y*4;
for(var k=1;k<X;k++)for(var D=1;D<Z;D++){var N=k*y+D,j=N*4,g=d.ah.Zx(E,j,b,p),R=d.ah.Zx(E,j,b,H),t=d.ah.Zx(E,j+1,b,p),w=d.ah.Zx(E,j+1,b,H),B=d.ah.Zx(E,j+2,b,p),$=d.ah.Zx(E,j+2,b,H);
e[j]=g*g+t*t+B*B;e[j+1]=g*R+t*w+B*$;e[j+2]=R*R+w*w+$*$}d.ah.a41(e,y,c)};d.ah.Zx=function(E,y,c,e){return E[y-c-4]*e[0]+E[y-c]*e[1]+E[y-c+4]*e[2]+E[y-4]*e[3]+E[y]*e[4]+E[y+4]*e[5]+E[y+c-4]*e[6]+E[y+c]*e[7]+E[y+c+4]*e[8]};
d.ah.a41=function(E,y,c){function e(b,N,k){var D=N*4,j=k*4;b[j]=b[D];b[j+1]=b[D+1];b[j+2]=b[D+2]}var p=y-1,H=c-1;
e(E,y+1,0);e(E,2*y-2,y-1);for(var Z=1;Z<p;Z++)e(E,y+Z,Z);for(var X=1;X<H;X++){e(E,X*y+1,X*y);e(E,X*y+y-2,X*y+y-1)}for(var Z=1;
Z<p;Z++)e(E,(c-2)*y+Z,(c-1)*y+Z);e(E,(X-2)*y+1,(X-1)*y);e(E,(X-1)*y-2,X*y-1)};d.zv=function(){function E(k,D,j,g){var R=new Float32Array(k*k),t=k/2;
for(var w=0;w<k;w++)for(var B=0;B<k;B++){var $=B+j-t,o=w+g-t;R[w*k+B]=Math.max(0,Math.min(1,D+.5-Math.sqrt($*$+o*o)))}return R}var y=[],e=null;
function c(k,D,j,g){var R=Math.floor(D*10),t=y[R],w=k*8,B=w>>>1;if(t==null){t=y[R]=[];var $=new ir(0,0,w,w),o=k/2/(1+.2*D),T=Math.floor(k*R*.1);
for(var i=0;i<2;i++)for(var r=0;r<2;r++){var I=E(w,o,.25+r*.5,.25+i*.5),M=0;d.gC.RC(I,$,T);while(I[w*B+M]<.005)M++;
if(M!=0)M--;var J=2*(B-M),P=new ir(M,M,J,J),n=new Float32Array(J*J);for(var x=0;x<J;x++)for(var L=0;
L<J;L++)n[x*J+L]=I[(M+x)*w+M+L];t.push([n,P])}}var u=Math.floor(j),C=Math.floor(g),h=j-u,A=g-C,W=h<.5?1:0,Q=A<.5?1:0;
t=t[Q*2+W];var P=t[1].clone();P.x+=u-B;P.y+=C-B;return[t[0],P]}function p(k,D,j){if(e==null){e=new Uint8Array(4e4);
for(var N=0;N<4e4;N++)e[N]=Math.min(255,~~(.5+255*d.xz(N*(1/255))))}var g=k.length;for(var N=0;N<g;N++){var R=k[N],t=~~(255*R);
D[N]=e[t]<<24|j}}function H(k,D,j,g,R){var t=D.fr(g),w=Math.max(0,t.x-D.x),B=Math.max(0,t.x-g.x),$=Math.max(0,t.y-D.y),o=Math.max(0,t.y-g.y),T=t.m,i=t.e;
for(var N=0;N<i;N++){var r=($+N)*D.m+w,I=(o+N)*g.m+B;for(var M=0;M<T;M++){j[I+M]+=R*k[r+M]}}}var Z=-1;
function X(k,D,j,g,R){var t=Math.round(g[1]*D*j*.01),w=g[2],B=g[3],$=g[4],o=g[5],T=g[6],i=g[7],r=g[8],I=g[9],M=g[10]?g[10]:1,a=!1;
if(w!=Z){y=[];Z=w}var J=Date.now(),P=new ir(0,0,D,j),n=new b(g[0]);if(R)k.fill(0);var x=new Float32Array(R?k.buffer:D*j);
for(var N=0;N<t;N++){var L=n.get()*D,u=n.get()*j,C=n.get()*B,h=n.get()*w*4,A=(n.get()+T)*Math.PI*2,W=n.get()*w*4,Q=(n.get()+2*T)*Math.PI*2;
L+=I*(h*Math.cos(A)+W*Math.cos(Q));u+=I*(h*Math.sin(A)+W*Math.sin(Q));if(r)u=u+T*j*M;var l=c(w,C,L,u%j),O=$,z=n.get();
if(i)O=.5+.5*$*(.5+.5*Math.sin((2*T+z)*2*Math.PI));H(l[0],l[1],x,P,O)}if(a)console.log(Date.now()-J,"add floats");
J=Date.now();var m=new Uint8Array(x.buffer);p(x,new Uint32Array(m.buffer),o.J<<16|o.D<<8|o.Z);if(a)console.log(Date.now()-J,"toInt");
J=Date.now();if(!R){d.l.Io("scrn",m,P,k,P,P,1);if(a)console.log(Date.now()-J,"blendOver")}}function b(k){this.d8=123456789;
this.Re=987654321;this.F=4294967295;this.e9(k)}b.prototype.e9=function(N){this.d8=123456789+N&this.F;
this.Re=987654321-N&this.F};b.prototype.get=function(){this.Re=36969*(this.Re&65535)+(this.Re>>16)&this.F;
this.d8=18e3*(this.d8&65535)+(this.d8>>16)&this.F;var k=(this.Re<<16)+(this.d8&65535)>>>0;k/=4294967296;
return k};return{Sw:X}}();d.Ml={};d.Ml.lF=function(E,y,c,e){var p=E[y*2],H=E[y*2+1],Z=E[c*2],X=E[c*2+1],b=E[e*2],k=E[e*2+1];
return p*X+Z*k+b*H-b*X-Z*H-p*k};d.Ml.aw1=function(E,y){var c=[],e=[],p=[],H={};for(var N=0;N<y.length;
N+=3){var Z=~~(N*(1/3)),X=y[N+0],b=y[N+1],k=y[N+2],D=d.Ml.lF(E,X,b,k);if(D>0){var j=b;b=k;k=j}var g=H[k+"-"+b],R=H[b+"-"+X],t=H[X+"-"+k],w=[k,g,Z,null],B=[b,R,Z,w],$=[X,t,Z,B];
w[3]=$;if(g)g[1]=w;if(R)R[1]=B;if(t)t[1]=$;H[k+"-"+X]=$;H[X+"-"+b]=B;H[b+"-"+k]=w;c[X]=B;p[N]=B;c[b]=w;
p[N+1]=w;c[k]=$;p[N+2]=$;e[Z]=B}return{yN:c,Cy:e,Le:p}};d.Ml.ajD=function(E){var y=[],c=E.Cy;for(var N=0;
N<c.length;N++){var e=c[N];y.push(e[0]);e=e[3];y.push(e[0]);e=e[3];y.push(e[0])}return y};d.Ml.alu=function(E,y,c,e){var p=E[y*2],H=E[y*2+1],Z=E[c*2],X=E[c*2+1],b=E[e*2],k=E[e*2+1],D=Z-p,j=X-H,g=b-p,R=k-H,t=D*(p+Z)+j*(H+X),w=g*(p+b)+R*(H+k),B=2*(D*(k-X)-j*(b-Z));
if(Math.abs(B)<1e-5){var $=Math.min(p,Z,b),o=Math.min(H,X,k),T=(Math.max(p,Z,b)-$)*.5,i=(Math.max(H,X,k)-o)*.5;
return[$+T,o+i,T*T+i*i,1]}var r=(R*t-j*w)/B,I=(D*w-g*t)/B,T=r-p,i=I-H;return[r,I,T*T+i*i,0]};d.Ml.aDp=function(E,y,c){var e=c[1],p=c[3],H=p[3],Z=e[3],X=Z[3],b=c[2],k=e[2],D=c[0],j=e[0],g=p[0],R=Z[0],t=d.Ml.alu(E,j,R,g),w=E[D*2]-t[0],B=E[D*2+1]-t[1],$=w*w+B*B>t[2]&&t[3]==0&&d.Ml.lF(E,R,D,g)<0&&d.Ml.lF(E,g,j,R)<0;
if($){c[0]=g;e[0]=R;c[3]=H;H[3]=Z;Z[3]=c;e[3]=X;X[3]=p;p[3]=e;p[2]=k;Z[2]=b;y.Cy[k]=X;y.Cy[b]=H;y.yN[j]=Z;
y.yN[D]=p}return $};d.Ml.aAw=function(E,y,c){var e=E[y*2]-E[c*2],p=E[y*2+1]-E[c*2+1];return Math.sqrt(e*e+p*p)};
d.Ml.arX=function(E,y,c){var e=c[1],p=c[3],H=p[3],Z,X,b=c[2],k,D=c[0],j=H[0],g=p[0],R;if(e){Z=e[3];X=Z[3];
k=e[2];R=Z[0]}var t=E.length>>>1;E[2*t]=(E[2*j]+E[2*D])*.5;E[2*t+1]=(E[2*j+1]+E[2*D+1])*.5;if(!0){var w=b,B=c,$=y.Cy.length,o=[t,null,w,B],T=[g,o,$,H];
o[1]=T;var i=[t,null,$,T];p[3]=o;H[3]=i;H[2]=$;y.Cy[w]=p;y.Cy[$]=i;y.yN[D]=p;y.yN[g]=H;y.Le.push(o,T,i)}if(e){var r=k,I=e,M=$+1;
i[1]=I,I[1]=i;var J=[t,null,r,I],P=[R,J,M,X];J[1]=P;var n=[t,B,M,P];B[1]=n;Z[3]=J;X[3]=n;X[2]=M;y.Cy[r]=Z;
y.Cy[M]=X;y.yN[j]=Z;y.yN[R]=X;y.Le.push(J,P,n)}y.yN[t]=B};d.Ml.atb=function(E,y){var c=0;while(!0){var e=c;
for(var N=0;N<y.Le.length;N++){var p=y.Le[N];if(p[1]==null)continue;var H=d.Ml.aDp(E,y,p);if(H){c++;
break}}if(e==c)break}return c!=0};d.Ml.agd=function(E,y,c,e){var p=0;for(var N=0;N<e;N++){var H=null,Z=0;
for(var X=0;X<y.Le.length;X++){var b=y.Le[X],k=d.Ml.aAw(E,b[0],b[3][3][0])*(b[1]?1:2);if(k>Z){H=b;Z=k}}if(Z>c){d.Ml.arX(E,y,H);
p++}}return p!=0};d.Ml.af9=function(E,y){var c=[],g=0;for(var N=0;N<E.length;N++)c.push(0);for(var N=0;
N<y.Le.length;N++){var e=y.Le[N],p=e[0],H=e[3][3][0],Z=E[p*2],X=E[p*2+1],b=E[H*2],k=E[H*2+1],D=Z-b,j=X-k;
c[p*2]+=-D;c[p*2+1]+=-j;c[H*2]+=D;c[H*2+1]+=j}for(var N=0;N<E.length;N+=2){var R=N>>>1,t=y.yN[R],e=t,w=!0;
do{if(e[1]==null){w=!1;break}e=e[1][3]}while(e!=t);if(w){var B=.02;E[N]+=B*c[N];E[N+1]+=B*c[N+1];g+=B*(c[N]*c[N]+c[N+1]*c[N+1])}}return g};
d.Ml.awe=function(E,y,c){var e=d.A.n7(E),p=d.Ml.aw1(E,y);d.Ml.atb(E,p);for(var H=0;H<300;H++){var Z=!1,X=!1;
Z=d.Ml.agd(E,p,c,5);if(Z)X=d.Ml.atb(E,p);var b=d.Ml.af9(E,p);if(!Z&&!X&&b<1e-4){break}}return d.Ml.ajD(p)};
d.bs={};d.bs.aaI=function(E){var y=E.KN,c=E.PD,e=E.Hh,p=E.AY,H=E.QL,Z=E.hV,X=E.Ba,b=d.dX.I6,o,T,i=0;
function k(j1){var dF=new Array(j1);for(var N=0;N<j1;N++)dF[N]=0;return dF}var D=c.length>>>1,j=k(y.wA*2),g=k(y.wA),R=k(y.wA),t=Date.now();
for(var N=0;N<E.kM.length;N++){var w=y.ahY+N,B=y.Pf*(Z[N*2]+X[N*2]),$=y.Pf*(Z[N*2+1]+X[N*2+1]);j[w*2]=B;
j[w*2+1]=$;g[w]=B;R[w]=$}y.aqB.Nt(p,y.aba.I6(j),.01,o,T);for(var N=0;N<y.ab1.Le.length;N++){var r=y.ab1.Le[N],I=r[3][3][0],M=r[0],J=r[3][0],P=r[1]?r[1][3][0]:J;
if(r[1]&&I>M)continue;var n=c[I*2],x=c[I*2+1],L=c[M*2],u=c[M*2+1],C=p[I*2],h=p[I*2+1],A=p[M*2],W=p[M*2+1],Q=p[J*2],l=p[J*2+1],O=p[P*2],z=p[P*2+1],a=[C,h,A,W,Q,l];
if(r[1])a.push(O,z);var m=b(y.aCP[i],a),q=m[0],K=m[1],U=1/Math.sqrt(q*q+K*K);q*=U;K*=U;var f=L-n,Y=u-x;
g[i]=q*f+K*Y;R[i]=-K*f+q*Y;i++}var G=new Array(D),V=new Array(D);for(var N=0;N<D;N++){G[N]=H[N*2];V[N]=H[N*2+1]}y.ap3.Nt(G,y.a0L.I6(g),.5);
y.ap3.Nt(V,y.a0L.I6(R),.5);for(var N=0;N<D;N++){H[N*2]=G[N];H[N*2+1]=V[N]}};d.bs.aek=function(E){var y=E.PD,c=E.Hh,e=E.kM,p=d.dX.multiply,H=Date.now(),Z=d.Ml.aw1(y,c),X=y.length>>>1,b=0,t=0,K=1e3;
for(var N=0;N<Z.Le.length;N++)b+=Z.Le[N][1]?.5:1;var k=b+e.length,D=[],j=new d.jm(k*2,X*2),g=new d.jm(k,X),R=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],w=[],B=[];
for(var N=0;N<Z.Le.length;N++){var $=Z.Le[N],o=$[3][3][0],T=$[0],i=$[3][0],r=$[1]?$[1][3][0]:i;if($[1]&&o>T)continue;
var I=y[o*2],M=y[o*2+1],J=y[T*2],P=y[T*2+1],n=y[i*2],x=y[i*2+1],L=y[r*2],u=y[r*2+1],C=[[I,M,1,0],[M,-I,0,1],[J,P,1,0],[P,-J,0,1],[n,x,1,0],[x,-n,0,1]];
if($[1])C.push([L,u,1,0],[u,-L,0,1]);var h=d.dX.El(C),A=p(linear.invert(p(h,C)),h);A.pop();A.pop();D.push(A);
var W=J-I,Q=P-M,l=R[$[1]?1:0];l=d.dX.DZ(l,p([[W,Q],[Q,-W]],A));var O=[o*2,o*2+1,T*2,T*2+1,i*2,i*2+1,r*2,r*2+1],z=$[1]?8:6,a=[];
for(var m=0;m<z;m++)a.push([O[m],l[0][m],l[1][m]]);a.sort(function(dF,s){return dF[0]-s[0]});for(var q=0;
q<2;q++){for(var m=0;m<z;m++){w[m]=a[m][0];B[m]=a[m][1+q]}j.Dy(B,w,z)}if(o<T)g.Dy([-1,1],[o,T],2);else g.Dy([1,-1],[T,o],2);
t++}for(var N=0;N<e.length;N++){var U=e[N];j.Dy([K],[U*2],1);j.Dy([K],[U*2+1],1);g.Dy([K],[U],1)}var f=j.El(),Y=f.Es(f),G=g.El(),V=G.Es(G);
return{ahY:b,wA:k,aba:f,aqB:Y,a0L:G,ap3:V,ab1:Z,aCP:D,Pf:K}};d.bs.alv=function(E,y,c,e,p){var H=new ir(0,0,y,c),Z=d.R(H.P());
d.LI(E,Z,3);d.round(Z,70);var X=d.pL(Z,H),b=[.1,.065,.035][e]*Math.max(X.m,X.e),k=p+1,D=y+k*2,j=c+k*2,g=new ir(-k,-k,D,j),R=d.R(g.P());
d.kh(Z,H,R,g);var t=R.slice(0);for(var w=0;w<p;w++){for(var B=1;B<j-1;B++){for(var $=1;$<D-1;$++){var N=B*D+$;
t[N]=R[N-D]|R[N-1]|R[N]|R[N+1]|R[N+D]}}var o=t;t=R;R=o}var T=ap.tl(R,D,j,Math.round(X.P()*5e-4)),i=ap.sA(T),r=new jr(1,0,0,1,-k,-k);
for(var N=0;N<i.length;N++){var I=i[N];d.A.u(I.path.j,r,I.path.j);I.PD=d.bs.aoA(I.path);I.Hh=d.A.abD(I.PD);
I.Hh=d.Ml.awe(I.PD,I.Hh,b)}return i};d.bs.aoA=function(E){var y=[],c=E.j,e=E.G.length-1,p=0,H=0;for(var Z=0;
Z<e;Z++){var N=Z*6,X=c[N+6]-c[N+0],b=c[N+7]-c[N+1],k=Math.ceil(Math.sqrt(X*X+b*b));for(var D=0;D<k;D++){var j=D/k,g=1-j,R=g*g*g*c[N+0]+3*g*g*j*c[N+2]+3*g*j*j*c[N+4]+j*j*j*c[N+6],t=g*g*g*c[N+1]+3*g*g*j*c[N+3]+3*g*j*j*c[N+5]+j*j*j*c[N+7];
y.push(R,t);p=R;H=t}}y=d.A.af6(y,1);var w=[],B=y.length;for(var N=0;N<B;N+=2){var t=y.pop(),R=y.pop();
w.push(R,t)}return w};d.bs.amq=function(E,y,c,e){function p(J,P,n,x,L){var u=L[J*2]-L[P*2],C=L[J*2+1]-L[P*2+1],h=Math.sqrt(u*u+C*C);
if(n[J].indexOf(P)==-1){n[J].push(P);x[J].push(h)}if(n[P].indexOf(J)==-1){n[P].push(J);x[P].push(h)}}var H=E.length>>>1,Z=new Array(H);
if(c.length==0){Z.fill(0);return Z}var X=new Array(H),b=new Array(H);for(var N=0;N<H;N++){X[N]=[];b[N]=[]}for(var N=0;
N<y.length;N+=3){p(y[N],y[N+1],X,b,E);p(y[N],y[N+2],X,b,E);p(y[N+1],y[N+2],X,b,E)}var k=new Float64Array(H*2),D=new Uint32Array(H*2);
k.fill(1e9);var j=new Uint8Array(H);for(var g=0;g<c.length;g++){j.fill(0);var R=["---",[0,c[g]]];while(R.length!=1){var t=d.afe.fq(R),w=t[0],B=t[1];
if(j[B]==1)continue;var $=B<<1;if(w<k[$]){k[$+1]=k[$];D[$+1]=D[$];k[$]=w;D[$]=g}else if(w<k[$+1]){k[$+1]=w;
D[$+1]=g}j[B]=1;var o=X[B],T=b[B];for(var N=0;N<o.length;N++){var i=o[N];if(j[i]!=1){d.afe.dF(R,[w+T[N],i])}}}}for(var N=0;
N<H;N++){var $=N<<1,r=k[$],I=k[$+1],M=1/(r+I);Z[N]=(1-r*M)*e[D[$]]+(1-I*M)*e[D[$+1]]}return Z};d.bs.ael=function(E){var y={G:[],j:[]},c=[E];
while(c.length!=0){var e=c.pop(),p=e.Mj;if(e.a1T instanceof Array||e.aBr instanceof Array){y.G.push("M","L","L","L","Z");
y.j.push(p[0],p[1],p[2],p[1],p[2],p[3],p[0],p[3])}else c.push(e.a1T,e.aBr)}return y};d.bs.bD=function(E,y,c,e,p,H,Z,X,b,k,D){var j=Math.round(k.length/3),g=new Array(j);
for(var N=0;N<j;N++)g[N]=N;g.sort(function(t,w){return b[k[t*3]]-b[k[w*3]]});for(var N=0;N<j;N++){var R=g[N]*3;
d.bs.agL(k[R]*2,k[R+1]*2,k[R+2]*2,Z,X,E,y,c,e,p,H,D)}};d.bs.agL=function(E,y,c,e,p,H,Z,X,b,k,D,j){var g=[E,y,c,1.2,1.2,1.2,0],R=[0,0,0,0],t=p[E],w=p[E+1],B=p[y],$=p[y+1],o=p[c],T=p[c+1],i=B-t,r=$-w,I=o-t,M=T-w,J=i*M-I*r+1e-9,P=1/J,n=Math.max(0,Math.min(Z-1,e[E])),x=Math.max(0,Math.min(Z-1,e[y])),L=Math.max(0,Math.min(Z-1,e[c])),u=Math.max(0,Math.min(X-1,e[E+1])),C=Math.max(0,Math.min(X-1,e[y+1])),h=Math.max(0,Math.min(X-1,e[c+1])),A=t<B?t<o?E:c:B<o?y:c,W=p[A+1]+.5,Q=Math.max(0,Math.floor(Math.min(t,B,o))),l=Math.min(k,Math.ceil(Math.max(t,B,o))),O=Math.max(0,Math.floor(Math.min(w,$,T))),z=Math.min(D,Math.ceil(Math.max(w,$,T))),a=1e9;
for(var m=O;m<z;m++){var q=m>W&&a!=1e9?a:Q;a=1e9;for(var K=q;K<l;K++){var U=K+.5-t,f=m+.5-w,Y=(U*M-I*f)*P,G=(i*f-U*r)*P;
if(Y>=0&&G>=0&&Y+G<=1){if(a==1e9)a=K;var V=1-Y-G,dF=n*V+x*Y+L*G,s=u*V+C*Y+h*G;if(j){var aH=Math.floor(.5+s)*Z+Math.floor(.5+dF),dw=aH<<2,kO=m*k+K<<2;
b[kO]=H[dw];b[kO+1]=H[dw+1];b[kO+2]=H[dw+2];b[kO+3]=H[dw+3]}else{d.r.aBS(dF,s,H,Z,X,R);d.bs.a46(R,b,m*k+K<<2)}}else if(a!=1e9)break}}};
d.bs.a46=function(E,y,c){if(E[3]>250){y[c]=~~(.5+E[0]);y[c+1]=~~(.5+E[1]);y[c+2]=~~(.5+E[2]);y[c+3]=~~(.5+E[3])}else{var e=y[c],p=y[c+1],H=y[c+2],Z=y[c+3],X=1-E[3]*(1/255);
y[c]=~~(.5+E[0]+e*X);y[c+1]=~~(.5+E[1]+p*X);y[c+2]=~~(.5+E[2]+H*X);y[c+3]=~~(.5+E[3]+Z*X)}};d.bs.aq7=function(){var E=function(c,e,p,H){var Z=H[0],X=H[1],b=H[2],k=c[Z+0],D=c[Z+1],j=c[X+0],g=c[X+1],R=c[b+0],t=c[b+1],w=j-k,B=g-D,$=R-k,o=t-D,T=e-k,i=p-D,r=w*o-$*B,I=1/(r+1e-9),M=(T*o-$*i)*I,J=(w*i-T*B)*I;
if(M>=0&&J>=0&&M+J<=1){H[3]=1-M-J;H[4]=M;H[5]=J;return 1}return 0},y=function(c,e,p,H){var Z=[0,0,0,0,0,0];
for(var N=0;N<e.length;N+=3){Z[0]=e[N]*2;Z[1]=e[N+1]*2;Z[2]=e[N+2]*2;if(E(c,p,H,Z)==1)return!0}return!1};
return{awo:E,aCw:y}}();d.xW={};d.xW.aE5=function(E,y,c,e){E=E.slice(0);if(e)d.Og(e,E,3);else for(var N=0;
N<E.length;N+=4)E[N+3]=0;var p=d.R(y*c*4),H=!1;d.r.Ga(E,y,c,p,[c,y,0,1,0,1,0,0]);return[d.xW.K9(E,y,c,H),d.xW.K9(p,c,y,H)]};
d.xW.u=function(E,y){var c=!1,e=E[0],p=E[1],H=e[1],Z=e[2],X=e[3],b=y.m,k=y.e;if(Z==b&&X==k)H=H.slice(0);
else if(X!=k){var D=d.R(Z*k*4);d.xW.CX(p,k,D,c);H=d.R(Z*k*4);d.r.Ga(D,k,Z,H,[Z,k,0,1,0,1,0,0]);if(Z!=b){e=d.xW.K9(H,Z,k,c);
H=d.R(b*k*4);d.xW.CX(e,b,H,c)}}else if(Z!=b){H=d.R(b*X*4);d.xW.CX(e,b,H,c)}for(var N=0;N<H.length;N+=4)H[N+3]=255;
return H};d.xW.K9=function(E,y,c,e){var p=Date.now(),H=new Uint16Array(y*c),k=1;d.xW.avh(E,y,c,H);var Z=d.R(y*c);
d.LI(E,Z,3);for(var X=0;X<c;X++)for(var b=0;b<y;b++)H[X*y+b]+=Math.floor((65535-H[X*y+b])*Z[X*y+b]*(1/255));
var D=Math.ceil(y/k),j=new Uint32Array(k),g=new Uint32Array(k),D=Math.floor(y/k);for(var R=0;R<k;R++)g[R]=R<k-1?D:y-(k-1)*D;
for(var X=0;X<c;X++){var N=X*y;for(var R=0;R<k;R++){var D=g[R];for(var b=0;b<D;b++)j[R]+=H[N+b];N+=D}}if(e){console.log(Date.now()-p,"cost");
p=Date.now()}var t=new Uint32Array(y),w=new Uint32Array(y),B=new Uint32Array(y*c);for(var b=0;b<y;b++){B[(c-1)*y+b]=H[(c-1)*y+b]}for(var X=c-2;
X>=0;X--){var $=X*y;for(var R=0;R<k;R++){var D=g[R];B[$]=H[$]+Math.min(B[$+y],B[$+y+1]);for(var b=1;
b<D-1;b++){var N=$+b;B[N]=H[N]+Math.min(B[N+y-1],Math.min(B[N+y],B[N+y+1]))}$+=D-1;B[$]=H[$]+Math.min(B[$+y-1],B[$+y]);
$++}}if(e){console.log(Date.now()-p,"Building M");p=Date.now()}function o(L,u){return L<u?L:u}function T(N,L){var u=w[N],C=B[L],h=~~(u*C*1e-4);
return h}var i=new Uint8Array(y*c),r=new Uint32Array(y);for(var N=0;N<y;N++){t[N]=N;w[N]=H[N]}for(var X=1;
X<c;X++){var I=0,$=X*y;for(var R=0;R<k;R++){var D=g[R],N=$;r[I]=T(I,N);var M=r[I]+T(I+1,N+1),J=T(I,N+1)+T(I+1,N);
r[I+1]=o(M,J);for(var b=2;b<D;b++){var N=$+b,P=r[I+b-1]+T(I+b-1,N-1),n=r[I+b-2]+T(I+b-1,N-2)+T(I+b-2,N-1);
r[I+b]=o(P,n)}var b=D-1;while(b>=2){var N=$+b,P=r[I+b-1]+T(I+b-1,N-1),n=r[I+b-2]+T(I+b-1,N-2)+T(I+b-2,N-1);
if(r[I+b]==P){i[N-y]=1;b-=1}else{i[N-y]=0;i[N-y-1]=2;b-=2}}var N=$;if(b==0){i[N-y]=1}else{if(r[I+1]==M){i[N+1-y]=1;
i[N-y]=1}else{i[N+1-y]=0;i[N-y]=2}}$+=D;I+=D}d.xW.awG(X,y,i,H,t,w,!0,p)}if(e){console.log(Date.now()-p,"Matching");
p=Date.now()}var x=H;return[UZIP.adler(E,0,E.length),E,y,c,k,g,j,t,w,i,x]};d.xW.CX=function(E,y,c,e){var p=E.slice(0),H=p.shift(),Z=p.shift(),X=p.shift(),b=p.shift(),k=p.shift(),D=p.shift(),j=p.shift(),g=p.shift(),R=p.shift().slice(0),t=p.shift(),w=p.shift(),B=Date.now(),$=Math.abs(X-y),o=Math.floor($/k),T=new Uint32Array(k),r=0,I=1e9,J=0,P=0,n=0;
for(var i=0;i<k;i++)T[i]=i<k-1?o:$-(k-1)*o;w.fill(0);for(var M=0;M<X;M++){r=Math.max(r,R[M]);I=Math.min(I,R[M])}for(var i=0;
i<k;i++){var x=D[i],o=T[i];for(var L=0;L<o;L++){var u=0,C=1e9;for(var M=0;M<x;M++)if(R[P+M]<C){C=R[P+M];
u=P+M}if(y<X)R[u]=1e9;else R[u]*=1.2;if(n<X/3)J+=C;var h=g[u],A=w[h],W=A<65280?65280:A+1;if(W<65280)throw"e";
for(var Q=0;Q<b;Q++){var N=Q*X+h;w[N]=W;h+=t[N]-1}n++}P+=x}if(e){console.log(Date.now()-B,"Removing best seams");
B=Date.now()}function l(N,z){var a=N<<2,m=z<<2;c[a]=Z[m];c[a+1]=Z[m+1];c[a+2]=Z[m+2];c[a+3]=Z[m+3]}for(var Q=0;
Q<b;Q++){var O=0,N=Q*X;for(var M=0;M<y;M++,O++){if(y<X){while(w[N+O]==65280)O++;l(Q*y+M,Q*X+O)}else{l(Q*y+M,Q*X+O);
while(w[N+O]>=65280){w[N+O]--;M++;l(Q*y+M,Q*X+O)}}}}if(e){console.log(Date.now()-B,"Shifting image pixels");
B=Date.now()}};d.xW.awG=function(E,y,c,e,p,H){var Z=0,N=E*y;while(Z<y){if(c[N-y]==1){H[Z]=H[Z]+e[N];
Z++;N++}else{var X=p[Z];p[Z]=p[Z+1];p[Z+1]=X;var b=H[Z];H[Z]=H[Z+1]+e[N];H[Z+1]=b+e[N+1];Z+=2;N+=2}}};
d.xW.avh=function(E,y,c,e){function p(E,N,b){var j=N<<2,g=b<<2,R=E[j]-E[g],t=E[j+1]-E[g+1],w=E[j+2]-E[g+2];
return Math.abs(R)+Math.abs(t)+Math.abs(w)}for(var H=1;H<y;H++){var Z=p(E,H,H-1);e[H-1]+=Z;e[H]+=Z}for(var X=1;
X<c;X++){var b=X*y,Z=p(E,b,b-y);e[b]+=Z;e[b-y]+=Z;for(var H=1;H<y;H++){var N=X*y+H,k=p(E,N,N-1),D=p(E,N,N-y);
e[N-y]+=D;e[N-1]+=k;e[N]+=D+k}}for(var X=0;X<c;X++){e[X*y]*=2;e[X*y+y-1]*=2}for(var N=0;N<e.length;N++)if(e[N]==0)e[N]=1};
d.BZ=function(){function E(){return 1953e6+Math.floor(Math.random()*999999)}function y(C,h){var A=h[0]-C[0],W=h[1]-C[1];
return A*A+W*W}function c(C,h,A,W,Q,l,O,z){var a=A-C,m=W-h,q=d.A.yU(C,h,a,m,Q,l,O-Q,z-l),K=[C+q*a,h+q*m],U=q>0?[[[C,h],K,!1,0,1],[[Q,l],K,!1,0,5]]:[[[A,W],K,!1,0,1],[[O,z],K,!1,0,5]];
return U}function e(C,h){var A=c(C[0],C[1],C[2],C[3],C[6],C[7],C[4],C[5]),W=c(C[0],C[1],C[6],C[7],C[2],C[3],C[4],C[5]),Q=[A,W],l=[A[0][1],W[0][1]];
for(var N=0;N<2;N++){var O=l[1-N],z=Q[N];if(y(z[0][0],O)<y(z[1][0],O)){var a=z[0];z[0]=z[1];z[1]=a}}var m=[E(),0,-1,0,[0,0],A[0],A[1],W[0],W[1]],q=r(m,h),K=q[1][0];
m[3]=K;m[4]=q[0][K];m[5][3]=m[6][3]=q[0].indexOf(m[5][1]);m[7][3]=m[8][3]=q[0].indexOf(m[7][1]);if((m[6][3]+1)%3!=m[7][3]){var a=m[5];
m[5]=m[7];m[7]=a;var a=m[6];m[6]=m[8];m[8]=a}for(var N=0;N<4;N++)m[5+N][4]=[1,5,7,3][N];return m}function p(C){var h=C[5],A=C[8],W=C[6],Q=h[0],l=A[0],O=W[0],z=h[1],a=A[1],m=l[0],q=l[1],K=a[0]-m,U=a[1]-q,f=d.A.yU(m,q,K,U,O[0],O[1],z[0]-O[0],z[1]-O[1]);
return[Q[0],Q[1],m,q,m+f*K,q+f*U,O[0],O[1]]}function H(C,h){return C[0]==h[0]&&C[1]==h[1]}function Z(C){return{1:0,5:1,7:2,3:3}[C]}function X(C,h,A){var W=h[5+Z(C)],Q=W[1],l=W[0][0]-Q[0],O=W[0][1]-Q[1],z=Math.sqrt(l*l+O*O);
l/=z;O/=z;for(var a=0;a<A.length;a++){var m=A[a];if(m[0]!=h[1]&&m[1]!=h[0])continue;for(var N=0;N<4;
N++){var q=m[5+N],K=q[0];if(!H(Q,q[1]))continue;var U=K[0]-Q[0],f=K[1]-Q[1];z=Math.sqrt(U*U+f*f);U/=z;
f/=z;var Y=U*l+f*O;if(Math.abs(Y-1)<1e-7)return!0}}return!1}function b(C,h){d.r.u(C,h);return h}function k(C,h){var A=[];
for(var W=0;W<C.length;W++){var Q=C[W],l=Q[1];for(var O=0;O<l.length;O++){if(h&&h[W].indexOf(O)==-1)continue;
var z=l[O],a=[],m=d.r.C0(p(z),new ir(0,0,1,1));for(var N=1;N<=7;N+=2){a[N]=X(N,z,l)}if(!a[1]){if(!a[7])A.push([b(m,[0,0]),W,O,0]);
A.push([b(m,[.5,0]),W,O,1])}if(!a[3]){if(!a[1])A.push([b(m,[1,0]),W,O,2]);A.push([b(m,[1,.5]),W,O,3])}if(!a[5]){if(!a[3])A.push([b(m,[1,1]),W,O,4]);
A.push([b(m,[.5,1]),W,O,5])}if(!a[7]){if(!a[5])A.push([b(m,[0,1]),W,O,6]);A.push([b(m,[0,.5]),W,O,7])}}}return A}function D(C){var h=C.length-2,A=0;
for(var N=0;N<h;N+=2)A+=(C[N+2]-C[N])*(C[N+1]+C[N+3]);A+=(C[0]-C[h])*(C[h+1]+C[1]);return-A*.5}function j(C,h,A,W){}function g(C,N){var h=C[N+2&7]-C[N&7],A=C[N+3&7]-C[N+1&7],W=1/Math.sqrt(h*h+A*A);
return[h*W,A*W]}function R(C){var h=C[2];C[2]=C[6];C[6]=h;var h=C[3];C[3]=C[7];C[7]=h}function t(C,h,A,W){if(W==null)W=0;
var Q=h[1],l=p(h),f=null,Y,s,aH,bd,iB,U,cG;if(Q==0){if(D(l)<0)R(l);var O=6,z=l[7]+l[1];for(var N=0;N<6;
N+=2){var a=l[N+1]+l[N+3];if(a<z){z=a;O=N}}l=l.slice(O).concat(l.slice(0,O));var m=F.Et.dm(l,A[0],A[1]),q=Math.sqrt(y(l,l.slice(2))),K=Math.sqrt(y(l.slice(4),l.slice(6))),U=(q+K)*.5;
return[l,new ir(0,0,U,U/m)]}for(var N=0;N<C.length&&f==null;N++){Y=C[N][1];for(var G=0;G<Y.length&&f==null;
G++)if(Y[G][0]==Q)f=Y[G]}var V=t(C,f,A,W+1),dF=V[0];V=V[1];for(var N=0;N<8;N+=2){var dw=dF[N&7],kO=dF[N+1&7],hX=dF[N+2&7],jF=dF[N+3&7];
for(var G=0;G<8;G+=2){var gn=l[G],hM=l[G+1],ie=l[G+2&7],bN=l[G+3&7],kd=Math.abs(d.A.Ch(dw,kO,hX,jF,gn,hM))+Math.abs(d.A.Ch(dw,kO,hX,jF,ie,bN));
if(kd<=30){s=G;aH=N}}}var i7=g(dF,aH),dn=g(l,s),ew=i7[0]-dn[0],e4=i7[1]-dn[1],eE=ew*ew+e4*e4;if(eE<.001){R(l);
s={0:6,2:4,4:2,6:0}[s]}while(s!=(aH+4&7)){l.unshift(l.pop());s=s+1&7}var m=F.Et.dm(l,A[0],A[1]),jc=d.r.C0(dF,V);
jc=d.r.Ub(jc);var ft=[l[s],l[s+1],l[s+2&7],l[s+3&7]];d.r.u(jc,ft);var bT=d.A.n7(ft);if(aH==0||aH==4){U=bT.m;
cG=U/m;bd=bT.x;iB=bT.y+(aH==0?-cG:0)}else{cG=bT.e;U=cG*m;iB=bT.y;bd=bT.x+(aH==6?-U:0)}return[l,new ir(bd,iB,U,cG)]}function w(C,h){function A(K,U,f,Y){var G=b(K,[U,f]);
G.push(Y);return G}var W=[];for(var Q=0;Q<C.length;Q++){var l=C[Q],O=l[1];for(var z=0;z<O.length;z++){var a=O[z],m=t(C,a,h),q=m[0],K=d.r.C0(q,new ir(0,0,1,1));
W.push(A(K,.5,0,1));W.push(A(K,1,.5,3));W.push(A(K,.5,1,5));W.push(A(K,0,.5,7));W.push(A(K,.5,.5,[m?(m[1].m/m[1].e).toFixed(2):""].join(", ")))}}return W}function B(C,h,A,W){var Q=[h],l=[h];
while(!0){var O=[];for(var N=0;N<C.length;N++){var z=C[N],a=!1;for(var m=0;m<Q.length;m++){if(z[1]==C[Q[m]][0]||z[0]==C[Q[m]][1])O.push(N)}}var q=Q.length;
for(var N=0;N<O.length;N++){var K=O[N],z=C[K];if(l.indexOf(K)!=-1)continue;l.push(K);var U=t([[10,C]],z,W);
if(U[1].TF(A))Q.push(K)}if(q==Q.length)break}return Q}function $(C,h,A){var W=A[0],Q=A[1],l=h.x-C[0],O=h.y-C[1],z=d.A.yU(C[0],C[1],l,O,Q[0],Q[1],W[0]-Q[0],W[1]-Q[1]);
return[C[0]+z*l,C[1]+z*O]}function o(C,h,A){C=JSON.parse(JSON.stringify(C));var W=C[h[1]][1][h[2]],Q=h[3]>=8,l=h[3]&7;
if((l&1)==0)return C;var O=Z(l);if(l==1||l==7){var z=W[5+O],a=W[5+2-O],m=W[5+(l==1?3:1)],q=W[5+(l==1?1:3)],K=z[1],U=$(K,A,a);
if(!Q&&y(U,a[1])<y(q[0],a[1]))return C;z[0]=a[0]=U;m[0]=$(K,A,m)}else{var m=W[5+O],K=m[1],z=W[5+(l==3?0:2)],U=$(K,A,z);
if(!Q&&y(U,z[1])>y(z[0],z[1]))return C;if(Math.sign(z[1][0]-z[0][0])!=Math.sign(z[1][0]-U[0]))return C;
m[0]=U}return C}function T(C,h,A){var W=h[0]-C[0],Q=h[1]-C[1],l=d.A.yU(A[0],A[1],-Q,W,C[0],C[1],W,Q);
return[A[0]-Q*l,A[1]+W*l]}function i(C,h,A){var W=A[0],Q=A[1],b=T(C,h,A),l=b[0],O=b[1],z=T(C,A,h),a=d.A.yU(l,O,W-l,Q-O,h[0],h[1],z[0]-h[0],z[1]-h[1]);
return[l+(W-l)*a,O+(Q-O)*a]}function r(C,h){var A=C[5][1],W=C[7][1],Q=i(A,W,h),l=[A,W,Q];l.sort(function(a,m){return a[0]-m[0]});
if(D([l[0][0],l[0][1],l[1][0],l[1][1],l[2][0],l[2][1]])<0){var O=l[1];l[1]=l[2];l[2]=O}var z=[l.indexOf(A),l.indexOf(W),l.indexOf(Q)];
return[l,z]}function I(C,h,A){C=JSON.parse(JSON.stringify(C));var W=h[1],Q=C[W][1][h[2]],l=h[3];if((l&1)!=1)return C;
var O=r(Q,A),z=O[1][2],a=O[0][z],m=JSON.parse(JSON.stringify(Q));C[W][1].push(m);m[0]=E();m[1]=Q[0];
m[2]=-10+l;m[3]=z;m[4]=a;if(l==1||l==5){m[7][3]=m[8][3]=z;m[7][1]=m[8][1]=a;if(l==5){m[5][0]=m[7][0]=Q[6][0];
m[8][0]=p(Q).slice(4,6)}}else{m[5][3]=m[6][3]=z;m[5][1]=m[6][1]=a;if(l==3){m[5][0]=m[7][0]=Q[8][0];m[6][0]=p(Q).slice(4,6)}}return C}function M(C,h,A){C=JSON.parse(JSON.stringify(C));
var W=h[1],Q=C[W][1][h[2]],l=Q[2]+10,O=l+4&7,z=l==1||l==5,a=Q[5+Z(z?7:1)][1],m=Q[5+Z(O)][0],q=Q[5+Z(l)][0];
Q[2]=(z?90:0)+(y(m,a)<y(q,a)?180:0);var K=e(p(Q),A);for(var N=5;N<9;N++)Q[N]=K[N];return C}function J(C,h,A){var j1=C.length>>1,W,Q=C[2*j1-3]-A,l=C[2*j1-2]-h,O=C[2*j1-1]-A,z=!1,a=0;
for(var N=0;N<j1;N++){W=l;Q=O;l=C[2*N]-h;O=C[2*N+1]-A;if(Q==O)continue;z=O>Q}for(var N=0;N<j1;N++){W=l;
Q=O;l=C[2*N]-h;O=C[2*N+1]-A;if(Q<0&&O<0)continue;if(Q>0&&O>0)continue;if(W<0&&l<0)continue;if(Q==O&&Math.min(W,l)<=0)return!0;
if(Q==O)continue;var m=W+(l-W)*-Q/(O-Q);if(m==0)return!0;if(m>0)a++;if(Q==0&&z&&O>Q)a--;if(Q==0&&!z&&O<Q)a--;
z=O>Q}return(a&1)==1}function P(C,h,A,W,Q){var l=null;for(var O=0;O<C.length;O++){var z=C[O][1];for(var a=0;
a<z.length;a++){var m=p(z[a]);if(J(m,h,A)||Q&&Q[0]==O&&Q[1]==a&&l==null){l=[O,a];if(W){var q=t(C,z[a],W),K=d.r.C0(q[0],q[1]),U=[h,A];
K=d.r.Ub(K);d.r.u(K,U);l.push(U)}}}}return l}function n(C,h){for(var A=0;A<C.length;A++){var W=C[A][1],Q=h[A];
if(Q.length==0)continue;var l=x(W,Q);for(var O=0;O<W.length;O++){if(l.indexOf(W[O][0])!=-1){W.splice(O,1);
O--}}}for(var A=0;A<C.length;A++)if(C[A][1].length==0){C.splice(A,1);A--}return C}function x(C,h){var A=[];
for(var N=0;N<10;N++)for(var W=0;W<C.length;W++){var Q=C[W];if(h.indexOf(W)!=-1||A.indexOf(Q[1])!=-1)if(A.indexOf(Q[0])==-1)A.push(Q[0])}return A}function L(C){var h=_.xY(C,0,C.length),A=h.split("\n").slice(1);
function W(){return parseFloat(A.shift())}function Q(){var gn=[W(),W()];l(1);return gn}function l(j1){for(var N=0;
N<j1;N++)A.shift()}var O=[],z=W();for(var a=0;a<z;a++){var m=W(),q=W(),K=[];O.push([m,K]);for(var U=0;
U<q;U++){var f=W(),Y=W(),G=W(),V=W(),dF=Q(),s=[f,Y,G,V,dF];K.push(s);for(var N=0;N<4;N++){var aH=Q(),dw=Q(),kO=W()==1,hX=W(),jF=W();
s.push([aH,dw,kO,hX,jF])}}}return O}function u(C){function h(q){A.push(q[0],q[1],"")}var A=["tNaF203"];
A.push(C.length);for(var W=0;W<C.length;W++){A.push(C[W][0]);var Q=C[W][1];A.push(Q.length);for(var l=0;
l<Q.length;l++){var O=Q[l];A.push(O[0],O[1],O[2],O[3]);h(O[4]);for(var N=0;N<4;N++){var z=O[5+N];h(z[0]);
h(z[1]);A.push(z[2]?1:0,z[3],z[4])}}}var a=A.join("\n"),m=new Uint8Array(a.length);_.bv(m,0,a);return m}return{ux:L,sa:u,a7k:p,a35:e,si:k,arQ:o,be:w,a2U:function(C,h){return h&&(h[3]&1)==0&&C[h[1]][1].length==1},q1:function(C,h){return h&&(h[3]&1)==1},b4:t,abe:I,a8M:M,at_:n,YA:x,ql:P,dk:B}}();
d.aru=function(){var E=0,y=0,e=15,H=256;function c(D,j,g,R,t,w){var B=(t-1)*j,$=w*j;return D[$+R]-D[$+g-1]-D[B+R]+D[B+g-1]}var p=Math.round(e/8),Z=[];
function X(D,j){for(var g=0;g<j.length;g++){var R=j[g],t=0,w=0,B=D[R.eh],$=B.A_,o=B.Pf,T=B.T4;for(var i=-e;
i<=e;i++)for(var r=-e;r<=e;r++){var I=r+R.avK,M=i+R.aC4;if(r*r+i*i>e*e||I<0||M<0||I>=o||M>=o)continue;
var J=$[M*o+I];t+=r*J;w+=i*J}R.tO=Math.atan2(w,t)}}function b(D,j,g,R,t){var w=~~(D+.5),B=~~(j+.5);return c(g,R,w-p,w+p,B-p,B+p)}function k(D,j,g,R,t){E=R;
y=t;if(Z.length==0){var w=new d.l.J3(16200817),T=8,i=0;function B(dF){var n=dF[0]-dF[2],x=dF[1]-dF[3];
return n*n+x*x}function $(){var dF=0,s=0;while(dF===0)dF=w.get();while(s===0)s=w.get();return Math.sqrt(-2*Math.log(dF))*Math.cos(2*Math.PI*s)}var o=$,r=[];
while(i!=H){var I=Math.max(-e,Math.min(e,o()*T)),M=Math.max(-e,Math.min(e,o()*T)),J=Math.max(-e,Math.min(e,o()*T)),P=Math.max(-e,Math.min(e,o()*T)),n=I-J,x=M-P,L=Math.sqrt(n*n+x*x);
if(L<3||L>12)continue;Z.push(I,M,J,P);i++}}var u=20;for(var C=0;C<j.length;C++){var h=j[C],A=D[h.eh],W=A.Sr,g=A.A_,R=A.Pf,t=A.T4,Q=h.avK,l=h.aC4,O=h.tO,z=Math.cos(O),a=Math.sin(O),m=new Uint8Array(H>>>3);
h.hG=m;for(var N=0;N<H;N++){var q=N*4,I=Z[q+0],M=Z[q+1],J=Z[q+2],P=Z[q+3],K=z*I-a*M,U=a*I+z*M,f=z*J-a*P,Y=a*J+z*P,G=b(Q+K,l+U,W,R,t),V=b(Q+f,l+Y,W,R,t);
m[N>>>3]|=(G<V?0:1)<<(N&7)}}}return{att:X,adu:k}}();d.agz=function(){function E(y,c){var e=[[9]],p=Date.now(),H=[];
for(var Z=0;Z<y.length;Z++){var X=y[Z],b=X.Sr,k=X.Pf,D=X.T4,R=9,T=1,h=24;if(b==null)continue;var j=new Float32Array(k*D),g=new Uint8Array(k*D),t=R>>>1,w=t>>>1,B=Math.round(R/3);
if(B!=R/3)throw"e";var $=1/(R*R),o=1.2*(R/9);for(var i=t+1;i<D-t;i+=T)for(var r=t+1;r<k-t;r+=T){var I=d._C(b,k,r-w,r+w,i-t,i+t)-3*d._C(b,k,r-w,r+w,i-t+B,i+t-B),M=d._C(b,k,r-t,r+t,i-w,i+w)-3*d._C(b,k,r-t+B,r+t-B,i-w,i+w),J=r-t+1,P=r+t-1,n=i-t+1,x=i+t-1,L=d._C(b,k,J,r-1,n,i-1)+d._C(b,k,r+1,P,i+1,x)-d._C(b,k,r+1,P,n,i-1)-d._C(b,k,J,r-1,i+1,x),u=(M*I-.9*L*(.9*L))*($*$);
j[i*k+r]=Math.abs(u);g[i*k+r]=u<0?0:1}var C=k*T;for(var i=h;i<D-h;i+=T)for(var r=h;r<k-h;r+=T){var N=i*k+r,A=j[N];
if(A<16)continue;if(j[N-T]>=A||j[N+T]>=A)continue;if(j[N-C-T]>=A||j[N-C]>=A||j[N-C+T]>=A)continue;if(j[N+C-T]>=A||j[N+C]>=A||j[N+C+T]>=A)continue;
H.push({x:~~(r*X.wb+.5),y:~~(i*X.wb+.5),avK:r,aC4:i,eh:Z,b:A,asd:g[N],az:o})}}if(c!=null){H.sort(function(q,K){return K.b-q.b});
H=H.slice(0,c)}return H;var W=[];for(var N=0;N<H.length;N++){var Q=!0,l=H[N];for(var O=0;O<H.length;
O++){var z=H[O];if(O!=N&&z.b>l.b&&(z.eh==l.eh+1||z.eh==l.eh-1)){var a=l.x-z.x,m=l.y-z.y;if(a*a+m*m<5){Q=!1;
break}}}if(Q)W.push(l)}console.log(H.length,W.length);return W}return{amo:E}}();d.pq={};d.pq.asl=function(E){var y=E.length,c=d.pq.aot(E,!1),p=0,H=1;
throw"e";var e=[];for(var N=0;N<y;N++)e[N]=d.pq.am6(c[N]);var Z=E[0][1],X=d.pq.match(c[p],c[H],e[H]);
console.log(X.length);var b=Math.max(Math.min(X.length,40),X.length*.54);b=Math.min(b,200);var k=X.slice(0,b),D=d.kX.aut(c[p],c[H],k,Z.m,Z.e),j=d.kX.awt(D,[0,0,0],1),g=Z.m/2,R=Z.e/2,t=1/Math.max(g,R);
for(var N=0;N<1;N++){var w=k[N],B=c[p][w[0]],$=c[H][w[1]],o=d.kX.a7o(j,t*(B.x-g),t*(B.y-R),t*($.x-g),t*($.y-R))}var T=d.kX.ai0(D,Z),i=[];
for(var N=0;N<2;N++){var r=T[N],I=[r[0][0],r[0][1],r[0][2],r[1][0],r[1][1],r[1][2],r[2][0],r[2][1]],M=F.Y.JV(E[N],null,I);
i.push([M.buffer,M.rect])}return[d.pq.aB9(i[0],i[1],c[p],c[H],k,D,T,Z)]};d.pq.ob=function(E,y){var c=E.length,e=!1,p=Date.now(),H=d.pq.aot(E,!1,1e4);
if(e)console.log("Descriptors ready",Date.now()-p);p=Date.now();for(var N=0;N<c;N++){var Z=E[N][1];for(var X=0;
X<H[N].length;X++){H[N][X].x+=Z.x;H[N][X].y+=Z.y}}if(e)console.log("shifted",Date.now()-p);p=Date.now();
var b=[];for(var N=0;N<c;N++)b[N]=d.pq.am6(H[N]);if(e)console.log("trees built",Date.now()-p);p=Date.now();
var k=[];for(var N=0;N<c-1;N++)for(var X=N+1;X<c;X++){var D=d.pq.match(H[N],H[X],b[X]);if(e)console.log("Matches found",N,X,D.length);
D=D.slice(0,D.length>>>1);if(D.length<10)continue;var j=d.pq.aq6(H[N],H[X],D,2);k.push([N,X,D,j])}k.sort(function(P,n){return n[2].length-P[2].length});
if(e)console.log("Matches found",Date.now()-p);p=Date.now();var g=[],R=new UnionFind(c);for(var N=0;
N<k.length;N++){var t=k[N],w=R.find(t[0]),B=R.find(t[1]);if(w!=B){g.push(t);R.link(w,B)}}var $=[];for(var N=0;
N<c;N++)$[N]=[1,0,0,0,1,0,0,0];var o=[0],T=new Uint8Array(c);T[o[0]]=1;while(o.length!=0){var B=o.pop(),j=$[B],i=[];
for(var N=0;N<g.length;N++){var t=g[N],r=t[0],I=t[1];if(r==B&&T[I]==0){$[I]=d.r.wl(j,t[3]);o.push(I);
T[I]=1}if(I==B&&T[r]==0){$[r]=d.r.wl(j,d.r.Ub(t[3]));o.push(r);T[r]=1}}}if(y==null){var M=[];for(var N=0;
N<c;N++)M.push([$[N][2],N]);M.sort(function(P,n){return P[0]-n[0]});y=M[M.length>>>1][1]}var J=d.r.Ub($[y]);
for(var N=0;N<c;N++)$[N]=d.r.wl($[N],J);if(e)console.log("Transforms reordered",Date.now()-p);p=Date.now();
return $};d.pq.aot=function(E,y,c){var e=[],p=!1;for(var N=0;N<E.length;N++){var H=E[N][0],Z=E[N][1],X=Z.m,b=Z.e,k=d.R(Z.P());
d.DU(H,k);var D=Date.now(),j=d.pq.akF(k,Z,!0);if(p)console.log("Pyramid built ---------------",Date.now()-D);
D=Date.now();var g=d.agz.amo(j,c);if(p)console.log("SURF Generation",Date.now()-D);D=Date.now();if(!y){d.aru.att(j,g);
if(p)console.log("ORB Orientations",Date.now()-D);D=Date.now();d.aru.adu(j,g,k,X,b);if(p)console.log("ORB Descriptors",Date.now()-D);
D=Date.now()}e.push(g)}return e};d.pq.akF=function(E,y,c){var e=[],p=[E,y];d.MI(p);if(c){var H=d.aoG(E,y),Z=H.rect,X=[H.bb,Z];
d.MI(X)}for(var N=0;N<p.length;N++){var b=p[2*N],k=p[2*N+1],D=k.m,j=k.e,g=Math.min(D,j);if(g<30)break;
if(g<1600)e.push({A_:b,Pf:D,T4:j,wb:1<<N,Sr:d.qH(b,D,j)});if(!c)continue;var b=X[2*N],k=X[2*N+1],D=k.m,j=k.e,g=Math.min(D,j);
if(g<30)break;if(g<1600)e.push({A_:b,Pf:D,T4:j,wb:(1<<N)*3/2,Sr:d.qH(b,D,j)})}return e};d.pq.aq6=function(E,y,c,e){var p=Date.now(),H,Z=0,X=0,b=c.length,k=new Float64Array(2);
for(var D=0;D<3e3;D++){var j=~~(Math.random()*b),g=~~(Math.random()*b),R=~~(Math.random()*b),t=~~(Math.random()*b),C=0,h=0;
if(j==g||j==R||j==t||g==R||g==t||R==t)continue;var w=c[j],B=c[g],$=c[R],o=c[t],T=E[w[0]],i=y[w[1]],r=E[B[0]],I=y[B[1]],M=E[$[0]],J=y[$[1]],P=E[o[0]],n=y[o[1]],x=[T.x,T.y,r.x,r.y,M.x,M.y,P.x,P.y],L=[i.x,i.y,I.x,I.y,J.x,J.y,n.x,n.y],u=d.r.abo(x,L);
if(u[0]==0&&u[1]==0&&u[3]==0&&u[4]==0)continue;var A=b-Z+2;for(var N=0;N<b&&N-C<A;N++){var W=E[c[N][0]],Q=y[c[N][1]];
d.r.C3(Q.x,Q.y,u,k);var l=k[0]-W.x,O=k[1]-W.y,z=l*l+O*O;if(z<e){C++;h+=z}}if(C>Z||C==Z&&h<X){H=u;Z=C;
X=h}}return H};var h$=new Uint8Array(256);for(var N=0;N<256;N++){var iI=0,j1=N;while(j1!=0){j1=j1&j1-1;
iI++}h$[N]=iI}d.pq.ayr=function(E,y,c){var e=0,p=E.length;for(var N=0;N<p&&e<c;N++)e+=h$[E[N]^y[N]];
return e};d.pq.a2m=function(E,y,c,top,e){if(e[c]==1)return;var p=d.pq.ayr(E.hG,y.hG,top[0]);if(p<top[0]){if(p<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=p;top[3]=c}else{top[0]=p;top[1]=c}}e[c]=1};d.pq.am6=function(E){var y=[],c=[],e=[[],[]],p=4;
for(var N=0;N<E.length;N++)(E[N].asd==0?y:c).push(N);for(var H=0;H<2;H++){var Z=new Array(p),X=[],b=H==0?y:c,k=b.length/256,D=[];
for(var j=0;j<32;j++){var g=new Array(256),w=0;for(var R=0;R<256;R++)g[R]=[];for(var R=0;R<b.length;
R++){var t=b[R];g[E[t].hG[j]].push(t)}for(var R=0;R<256;R++)w+=Math.abs(g[R].length-k);D.push([w,j,g])}D.sort(function(B,$){return B[0]-$[0]});
var X=[],Z=[];e[H]=[X,Z];for(var N=0;N<p;N++){X.push(D[N][1]);Z.push(D[N][2])}}return e};d.pq.match=function(E,y,c){var e=[],p=new Uint16Array(y.length);
p.fill(65535);var H=new Uint8Array(y.length),top=new Uint32Array(4),Z=[];for(var X=0;X<E.length;X++){var b=E[X],k=b.hG;
top.fill(1e6);H.fill(0);var D=c[b.asd];for(var j=0;j<D[1].length;j++){var g=D[1][j][k[D[0][j]]];for(var R=0;
R<g.length;R++){var t=g[R];d.pq.a2m(b,y[t],t,top,H)}}if(top[2]<50&&top[2]<top[0]*.5){var w=p[top[3]];
if(w==65535){p[top[3]]=e.length;e.push([X,top[3],top[2]])}else if(top[2]<e[w][2]){e[w]=[X,top[3],top[2]]}}}e.sort(function(B,$){return B[2]-$[2]});
return e};d.pq.axb=function(E){var y=new ir;for(var N=0;N<E.length;N++)y=y.uN(E[N][1]);var c=d.R(y.P()*4);
for(var N=0;N<E.length;N++)d.l.Io("norm",E[N][0],E[N][1],c,y,y,1);return[c,y]};d.pq.aB9=function(E,y,c,e,p,H,Z,X){var b=E[1].clone(),k=b.clone();
b.x=b.y=0;var D=y[1].clone(),j=D.clone();D.x=D.y=0;D.x=b.m;var g=b.uN(D),R=j.y-k.y,t=d.R(g.P()*4);d.E6(E[0],b,t,g);
d.E6(y[0],new ir(D.x,D.y+R,D.m,D.e),t,g);var w=document.createElement("canvas");w.width=g.m;w.height=g.e;
var B=w.getContext("2d");B.lineWidth=.5;B.putImageData(new ImageData(new Uint8ClampedArray(t.buffer),g.m,g.e),0,0);
if(H){var $=H[0],o=d.dX.El($),T=b.m,i=X.m;for(var N=0;N<p.length;N++){var r=p[N],E=c[r[0]],y=e[r[1]];
B.strokeStyle="#"+"ff0000";B.beginPath();var I=d.kX.a2t(o,Z[0],y,0,i),M=d.kX.a2t($,Z[1],E,0,i);B.moveTo(-k.x+I[0],-k.y+I[1]);
B.lineTo(-k.x+I[2],-k.y+I[3]);B.moveTo(T-j.x+M[0],-j.y+R+M[1]);B.lineTo(T-j.x+M[2],-j.y+R+M[3]);B.stroke()}}if(p){var J=p.length;
for(var N=0;N<J;N++){var r=p[N],E=c[r[0]],y=e[r[1]];B.strokeStyle="#"+"ffff00"}}var P=new Uint8Array(B.getImageData(0,0,g.m,g.e).data.buffer);
if(!1){for(var n=0;n<2;n++){var x=n==0?c:e,L=n*b.m;for(var N=0;N<x.length;N++){var u=x[N],C=~~u.x,h=~~u.y,A=(h*g.m+C+L)*4;
P[A+1]=P[A+2]=u.a2r*60;P[A+0]=0;P[A+3]=255}}}return[P,g]};d.stack={};d.stack.stack=function(E,y,c){var e=E.length,p=y.length;
if(e==1){y.set(E[0]);return}if(c=="avrg"||c=="stdv"||c=="summ"||c=="vari"){var H=1/e;for(var N=0;N<p;
N++){var Z=0;for(var X=0;X<e;X++)Z+=E[X][N];var b=~~(Z*H+.5);if(c=="avrg"||(N&3)==3)y[N]=b;else if(c=="summ")y[N]=255*Math.pow(Math.min(255,Z)*(1/255),1/2.4);
else{var k=0;for(var X=0;X<e;X++){var D=E[X][N]-b;k+=D*D}var j=Math.sqrt(k*H)*(1/255);if(c=="stdv")y[N]=255*Math.pow(j,1/2.4);
else y[N]=255*Math.pow(j*j,1/2.4)}}}else if(c=="maxx"){for(var N=0;N<p;N++){var g=0;for(var X=0;X<e;
X++)g=Math.max(g,E[X][N]);y[N]=g}}else if(c=="minn"){for(var N=0;N<p;N++){var g=255;for(var X=0;X<e;
X++)g=Math.min(g,E[X][N]);y[N]=g}}else if(c=="medn"||c=="rang"){var R=function($,o){return $-o},t=new Array(e),w=0,B=0;
if((e&1)==0){B=e>>>1;w=B-1}else{w=B=e>>>1}for(var N=0;N<p;N++){for(var X=0;X<e;X++)t[X]=E[X][N];t.sort(R);
if(c=="medn")y[N]=t[w]+t[B]>>>1;else y[N]=(N&3)==3?t[e-1]:t[e-1]-t[0]}}else console.log(c)};d.uJ={};
d.uJ.aiK=function(E,y,c,e){var p=Date.now(),H=new Uint32Array(y*c),Z=new Uint8Array(y*c);while(!0){Z.fill(0);
H.fill(0);var X=[],b=0;for(var k=0;k<c;k++){for(var D=0;D<y;D++){var N=k*y+D;if(Z[N]==0){var j=X.length,g=d.uJ.Wa(E,y,c,D,k,Z,H,j);
X.push([j,D,k,g[0],g[1],E[N]]);if(g[0]<e)b++}}}if(b==0)break;var R=X.length,t=new UnionFind(R),w=[];
for(var N=0;N<R;N++)w.push([]);for(var N=0;N<R;N++){var g=X[N],B=g[4],$=0,o=0;if(g[3]>=e)continue;var j=g[0];
for(var T=0;T<B.length;T+=2){var i=H[B[T+1]*y+B[T]],r=X[i];if(r[3]>o){o=r[3];$=i}}if(t.find(j)!=t.find($)){t.link(j,$);
w[j].push($);w[$].push(j)}}var I=new Uint32Array(R);I.fill(4294967295);var M=new Uint32Array(R);for(var N=0;
N<R;N++){if(I[N]!=4294967295||w[N].length==0)continue;var J=[N],P=[N],n=N,x=X[N][3];while(P.length!=0){var L=P.pop(),u=w[L];
for(var T=0;T<u.length;T++){var C=u[T];if(J.indexOf(C)==-1){J.push(C);P.push(C);var h=X[C];if(h[3]>x){x=h[3];
n=C}}}}for(var T=0;T<J.length;T++){I[J[T]]=n;var A=X[n];M[J[T]]=E[A[2]*y+A[1]]}}for(var k=0;k<c;k++)for(var D=0;
D<y;D++){var N=k*y+D,W=I[H[N]];if(W!=4294967295)E[N]=M[W]}}};d.uJ.Wa=function(E,y,c,e,p,H,Z,X){var b=[e,p],k=E[p*y+e],D=0,j=[];
H[p*y+e]=1;while(b.length!=0){var g=b.pop(),R=b.pop(),N=g*y+R;Z[N]=X;D++;if(g!=c-1)if(E[N+y]==k){if(H[N+y]==0){b.push(R,g+1);
H[N+y]=1}}else j.push(R,g+1);if(g!=0)if(E[N-y]==k){if(H[N-y]==0){b.push(R,g-1);H[N-y]=1}}else j.push(R,g-1);
if(R!=y-1)if(E[N+1]==k){if(H[N+1]==0){b.push(R+1,g);H[N+1]=1}}else j.push(R+1,g);if(R!=0)if(E[N-1]==k){if(H[N-1]==0){b.push(R-1,g);
H[N-1]=1}}else j.push(R-1,g)}return[D,j]};d.uJ.a7d=function(E,y,c){var e=new Uint32Array(y*c);for(var N=0;
N<e.length;N++)e[N]=E[N];var p=[];for(var H=0;H<c;H++){for(var Z=0;Z<y;Z++){var N=H*y+Z,X=e[N];if(X<1e3){var b=d.uJ.aAy(e,y,c,Z,H,1e3+p.length);
p.push([Z,H,X,b,0])}}}for(var N=0;N<e.length;N++)e[N]-=1e3;var k=new Float32Array(y*c);k.fill(y+c);for(var H=0;
H<c;H++)for(var Z=0;Z<y;Z++){var N=H*y+Z,X=e[N];if(Z==0||H==0||e[N-1]!=X||e[N-y]!=X)k[N]=0;else{var D=Math.min(k[N],k[N-1]+1,k[N-y]+1);
if(e[N-y-1]==X)D=Math.min(D,k[N-y-1]+1.414);k[N]=D}}for(var H=c-1;H>=0;H--)for(var Z=y-1;Z>=0;Z--){var N=H*y+Z,X=e[N];
if(Z==y-1||H==c-1||e[N+1]!=X||e[N+y]!=X)k[N]=0;else{var D=Math.min(k[N],k[N+1]+1,k[N+y]+1);if(e[N+y+1]==X)D=Math.min(D,k[N+y+1]+1.414);
k[N]=D}}for(var H=0;H<c;H++)for(var Z=0;Z<y;Z++){var N=H*y+Z,j=p[e[N]];if(k[N]>j[4]){j[4]=k[N];j[0]=Z;
j[1]=H}}return p};d.uJ.aAy=function(E,y,c,e,p,H){var Z=[e,p],X=E[p*y+e],b=0;E[p*y+e]=4294967295;while(Z.length!=0){var p=Z.pop(),e=Z.pop(),N=p*y+e;
b++;E[N]=H;if(p<c-1&&E[N+y]==X){Z.push(e,p+1);E[N+y]=4294967295}if(p>0&&E[N-y]==X){Z.push(e,p-1);E[N-y]=4294967295}if(e>0&&E[N-1]==X){Z.push(e-1,p);
E[N-1]=4294967295}if(e<y-1&&E[N+1]==X){Z.push(e+1,p);E[N+1]=4294967295}}return b};d.uJ.ayU=function(E,y,c,e,p){var H=d.uJ.a88(E.buffer,y,c).NQ,Z=Date.now(),X=[];
for(var N=0;N<H.length;N++){var b=H[N],k=1;for(var D=0;D<k;D++)X.push(b.E7)}var j=new Uint32Array(X),g=UPNG.quantize.getKDtree(new Uint8Array(j.buffer),e),R=[y,1,-y,-1,y+1,-y+1,-y-1,y-1,y+y,2,-y-y,-2,y+y-1,y+y+1,y+2,-y+2,-y-y+1,-y-y-1,-y-2,y-2,y+y+2,-y-y+2-y-y-2,y+y-2],t=new Uint8Array(y*c),w=E;
for(var B=0;B<c;B++)for(var $=0;$<y;$++){var N=B*y+$<<2,o=w[N]*(1/255),T=w[N+1]*(1/255),i=w[N+2]*(1/255),r=w[N+3]*(1/255),I=d.uJ.oP(g,o,T,i,r,p);
if(I==null){var M=[],J=0;while(J<20){var P=B*y+$+R[J]<<2,n=w[P]*(1/255),x=w[P+1]*(1/255),L=w[P+2]*(1/255),u=w[P+3]*(1/255),C=d.uJ.oP(g,n,x,L,u,.005);
if(C!=null){if(M.indexOf(C)==-1){M.push(C);C.nu=1}else C.nu++}J++}M.sort(function(r,i){return i.nu-r.nu});
while(M.length!=0&&M[M.length-1].nu<3)M.pop();if(M.length==0)I=d.uJ.oP(g,o,T,i,r,100);else if(M.length==1)I=M[0];
else if(M.length==2){var h=M[0],A=M[1],W=h.est.q,Q=A.est.q,l=Q[0]-W[0],O=Q[1]-W[1],z=Q[2]-W[2],a=Q[3]-W[3],m=o-W[0],q=T-W[1],K=i-W[2],U=r-W[3],f=l*l+O*O+z*z+a*a,Y=m*m+q*q+K*K+U*U,G=(m*l+q*O+K*z+U*a)/f,V=Y-G*G*f;
if(V<.5)I=G<.5?h:A;else{I=d.uJ.oP(g,o,T,i,r,100)}}else{var h=M[0],A=M[1],dF=M[2],W=h.est.q,Q=A.est.q,s=dF.est.q,aH=W[0]-s[0],dw=W[1]-s[1],kO=W[2]-s[2],hX=W[3]-s[3],jF=Q[0]-s[0],gn=Q[1]-s[1],hM=Q[2]-s[2],ie=Q[3]-s[3],bN=s[0]-o,kd=s[1]-T,i7=s[2]-i,dn=s[3]-r,ew=aH*aH+dw*dw+kO*kO+hX*hX,e4=aH*jF+dw*gn+kO*hM+hX*ie,eE=bN*aH+kd*dw+i7*kO+dn*hX,jc=aH*jF+dw*gn+kO*hM+hX*ie,ft=jF*jF+gn*gn+hM*hM+ie*ie,bd=bN*jF+kd*gn+i7*hM+dn*ie,iB=1/(e4*jc-ew*ft),G=(ft*eE-bd*e4)*iB,cG=(bd*ew-eE*jc)*iB,bT=1-G-cG,g$=Math.max(G,cG,bT);
if(g$==G)I=h;else if(g$==cG)I=A;else I=dF}}t[N>>2]=I.ind}return{Hh:t,NQ:g[1]}};d.uJ.a88=function(E,y,c){var e=[],p={},H=y-1,Z=c-1,X=0,b=new Uint32Array(E),k=[-y-1,-y,-y+1,-1,1,y-1,y,y+1,y+y,2,-y-y,-2,y+y-1,y+y+1,y+2,-y+2,-y-y+1,-y-y-1,-y-2,y-2,y+y+2,-y-y+2-y-y-2,y+y-2];
for(var D=1;D<Z;D++)for(var j=1;j<H;j++){var g=D*y+j,R=b[g],t=!0;for(var N=0;N<8;N++)t=t&&b[g+k[N]]==R;
if(t){X++;var w=p[R];if(w==null){p[R]=e.length;e.push({E7:R,Wf:1})}else e[w].Wf++}}return{NQ:e,a7K:X}};
d.uJ.oP=function(E,y,c,e,p,H){var Z=UPNG.quantize.getNearest(E[0],y,c,e,p);return d.uJ.aAn(Z,y,c,e,p)<H?Z:null};
d.uJ.aAn=function(E,y,c,e,p){var H=E.est.q,Z=y-H[0],X=c-H[1],b=e-H[2],k=p-H[3];return Z*Z+X*X+b*b+k*k};
(function(){d.uJ.NK=function(X,b,k,D,j){var g=X.yf,R=b*k,t=X.ff,w=X.Hh,B=e(D,w,g,R),$=new UnionFind(g),M=0;
for(var o=1;o<k;o++)for(var T=1;T<b;T++){var N=o*b+T,i=w[N],r=0;if((r=w[N-1])!=i&&B[r]==B[i]&&E(t,0,i*6,r*6)<j)$.link(i,r);
if((r=w[N-b])!=i&&B[r]==B[i]&&E(t,0,i*6,r*6)<j)$.link(i,r)}var I=new Uint16Array(g);I.fill(65535);var J=new Uint16Array(g);
for(var N=0;N<g;N++){var P=$.find(N);if(I[P]==65535)I[P]=M++;J[N]=I[P]}var n=new Uint16Array(R);for(var N=0;
N<R;N++)n[N]=J[w[N]];return{Hh:n,yf:M}};d.uJ.Hc=function(X,b,k){var D=d.R(b),j=X.length;for(var N=0;
N<j;N++){var g=k[N];if(g==0||g==255){var R=X[N],t=2-(g>>>7),w=D[R]=D[R]|t;if(w==3)return R}}return-1};
function E(X,b,k,D){var j=1/X[k+5],g=1/X[D+5],R=X[k]*j-X[D]*g,t=X[k+1]*j-X[D+1]*g,w=X[k+2]*j-X[D+2]*g,B=X[k+3]*j-X[D+3]*g,$=X[k+4]*j-X[D+4]*g,o=Math.sqrt(R*R+t*t+w*w),T=Math.sqrt(B*B+$*$);
return~~(o+b*T+.5)}function y(X,b){var N=0,k=X.length;while(N!=k&&X[N]!=b)N+=2;return N==k?-1:N}function c(X,N){if(N==X.length-2){X.pop();
X.pop()}else{X[N+1]=X.pop();X[N]=X.pop()}}d.uJ.avY=function(X,b,k,D,j){var g=new Uint32Array(j*4400),R=[];
for(var N=0;N<j;N++)R.push([]);for(var t=0;t<k;t++)for(var w=0;w<b;w++){var N=t*b+w,B=N<<2,$=D[N],o=0,T=X[B]>>>4,i=X[B+1]>>>4,r=X[B+2]>>>4;
g[$*4400+(T<<8|i<<4|r)]++;g[$*4400+4096]++;g[$*4400+4100+(T<<4|i)]++;g[$*4400+4360+T]++;if(w!=0&&(o=D[N-1])!=$&&y(R[$],o)==-1){R[$].push(o,0);
R[o].push($,0)}if(t!=0&&(o=D[N-b])!=$&&y(R[$],o)==-1){R[$].push(o,0);R[o].push($,0)}}for(var N=0;N<j;
N++){var r=R[N];for(var I=0;I<r.length;I+=2)r[I+1]=Z(g,N,r[I])}return[g,R]};function e(X,b,k,D){var j=d.R(k);
for(var N=0;N<D;N++){var g=X[N];if(g==0||g==255)j[b[N]]=2-(g>>>7)}return j}d.uJ.avf=function(X,b,k,D,j,g,R){var t=b*k,w=R[0],B=R[1],$=new UnionFind(D),o=e(j,X,D,t),T=-1,i=!0,r=0;
for(var N=0;N<D;N++)if(o[N]==1){if(T==-1)T=N;else $.link(N,T)}if(T==-1){for(var N=0;N<t;N++)g[N]=j[N]==255?255:0;
return}while(i){while(i){i=!1;for(var N=0;N<D;N++){if(o[N]==0){var I=p(B[N]);if(o[I]==1){o[N]=o[I];i=!0;
$.link(N,I)}}}}i=!0;r=0;while(i){i=!1;for(var N=0;N<D;N++){if(o[N]==0){var I=p(B[N]);if(o[I]==0){var M=N*4400,J=I*4400;
for(var P=0;P<4400;P+=2){w[M+P]+=w[J+P];w[M+P+1]+=w[J+P+1]}H(B,w,N,I);r++;o[I]=3;i=!0;$.link(N,I)}}}}i=r!=0}var n=$.find(T);
for(var N=0;N<D;N++)o[N]=$.find(N)==n?255:0;for(var N=0;N<t;N++){g[N]=o[X[N]]}for(var N=0;N<t;N++){var I=j[N];
if(I==0||I==255)g[N]=I}};function p(X){var b=0,k=0,D=X.length;for(var j=0;j<D;j+=2){var g=X[j+1];if(g>k){k=g;
b=j}}return X[b]}function H(X,b,k,D){var j=X[k],g=X[D];c(j,y(j,D));c(g,y(g,k));for(var N=0;N<g.length;
N+=2){var R=g[N],t=X[R];c(t,y(t,D));if(y(t,k)==-1){t.push(k,0);j.push(R,0)}}for(var N=0;N<j.length;N+=2){var R=j[N],t=X[R],w=Z(b,k,R);
j[N+1]=w;t[y(t,k)+1]=w}}function Z(X,b,k){var D=0,j=4096,g=b*4400,R=k*4400;for(var t=0;t<16;t++){if(X[g+4360+t]==0||X[R+4360+t]==0)continue;
for(var w=0;w<16;w++){var B=t<<4|w;if(X[g+4100+B]==0||X[R+4100+B]==0)continue;var $=g+(B<<4),o=R+(B<<4);
for(var N=0;N<16;N++)D+=Math.sqrt(X[$+N]*X[o+N])}}var T=D/Math.sqrt(X[g+j]*X[R+j]);return~~(999.99999*T)}}());
d.uJ.Lc=function(){var E,y,c,Z=0,X=0;function e(R,t,w){var B=[],$=w,o=w,T=w>>>2;for(var i=0;i<t;i++)for(var r=0;
r<R;r++){var I=~~((r+.5)*$),M=~~((i+.5)*o),J=1e9,P=Math.max(0,I-T),n=Math.min(y,I+T+1),x=Math.max(0,M-T),L=Math.min(c,M+T+1);
for(var u=x;u<L;u++)for(var C=P;C<n;C++){var h=p(C,u);if(h<J){I=C;M=u;J=h}}B.push(I,M)}return B}function p(R,t){var w=(t*y+R)*4,B=y*4,$=H(w-4,w)+H(w,w+4),o=H(w-B,w)+H(w,w+B);
return $+o}function H(R,t){var w=E[R]-E[t],B=E[R+1]-E[t+1],$=E[R+2]-E[t+2];return w*w+B*B+$*$}function b(R,t,w,B){X++;
if(B<Z)Z=B;R[B].push(t,w)}function k(R){X--;while(R[Z].length==0)Z++}function D(R,t,w,B,$){var o=(w*y+t)*4,T=B[$+5],i=1/T,r=E[o]*T-B[$],I=E[o+1]*T-B[$+1],M=E[o+2]*T-B[$+2],J=t*T-B[$+3],P=w*T-B[$+4],n=Math.sqrt(r*r+I*I+M*M),x=Math.sqrt(J*J+P*P);
return~~((n+R*x)*i+.5)}function j(R,t,w,B,$){E=R;y=t;c=w;Z=0;X=0;var o=y*c,T=Math.round(Math.min(y,c)/(B?B:30));
if(T==0)T=1;var i=($?$:30)/T,r=Math.floor(y/T),I=Math.floor(c/T),M=new Uint16Array(o);for(var N=0;N<o;
N++)M[N]=65535;var J=e(r,I,T),P=J.length>>>1;if(P>65535)throw P;var n=new Uint32Array(P*6),x=[];for(var N=0;
N<1e3+c;N++)x.push([]);var L=1e3*700/(y*c),u=Math.floor(I*L);u=Math.min(I,Math.max(4,u));u=I;var n=new Uint32Array(P*6);
for(var C=0;C<I;C+=u){var h=Math.min(C+u,I);for(var A=C;A<h;A++)for(var W=0;W<r;W++){var N=A*r+W;b(x,J[N*2+1]<<16|J[N*2],N,0)}var Q=Math.min(c,h*T);
if(C+u>=I)Q=c;g(n,x,M,i,Q)}E=null;return{Hh:M,yf:P,ff:n,a5i:i}}function g(R,t,w,B,$){while(X!=0){k(t);
var o=t[Z].pop(),T=t[Z].pop(),i=T>>>16,r=T&65535,N=i*y+r;if(w[N]==null)throw"e";if(w[N]==65535){var I=o*6,M=N<<2;
w[N]=o;R[I]+=E[M];R[I+1]+=E[M+1];R[I+2]+=E[M+2];R[I+3]+=r;R[I+4]+=i;R[I+5]++;if(i!=$-1&&w[N+y]==65535)b(t,i+1<<16|r,o,D(B,r,i+1,R,I));
if(i!=0&&w[N-y]==65535)b(t,i-1<<16|r,o,D(B,r,i-1,R,I));if(r!=0&&w[N-1]==65535)b(t,i<<16|r-1,o,D(B,r-1,i,R,I));
if(r!=y-1&&w[N+1]==65535)b(t,i<<16|r+1,o,D(B,r+1,i,R,I))}}}j.Kn=function(R,t,w,B,$,o){E=R;y=t;c=w;var T=B.yf=B.yf+1,i=B.Hh,r=B.ff,I=B.ff=new Uint32Array(T*6);
I.set(r,0);var M=i[$[1]*y+$[0]];for(var N=0;N<i.length;N++)if(i[N]==M)i[N]=65535;for(var N=0;N<6;N++)I[M*6+N]=0;
var J=[];for(var N=0;N<1e3+c;N++)J.push([]);for(var N=0;N<$.length;N+=2)b(J,$[N+1]<<16|$[N],M,0);for(var N=0;
N<o.length;N+=2)b(J,o[N+1]<<16|o[N],T-1,0);g(I,J,i,B.a5i,c);E=null};return j}();d.ad4={};d.ad4.a3W=function(){var E=11,y=7,c=E>>>1,j1=y>>>1,e=2,p=2e3/e,H=[],X=null,b="";
function Z(D,j,g){var R=(D[j+0]-D[g+0])*(1/255),t=(D[j+1]-D[g+1])*(1/255),w=(D[j+2]-D[g+2])*(1/255),B=(D[j+3]-D[g+3])*(1/255),$=R*R*.125+t*t*.25+w*w*.5+B*B;
return H[~~($*p)]}function k(D,j,g,R,t,w){var B=Date.now(),$=d.R(j*g);d.DU(D,$);var o=UZIP.adler($,0,j*g);
if(o!=b){var T=d.qH($,j,g);X=d.R(j*g*4);b=o;var i=[1,1/9,1/25,1/49,1/81];for(var r=0;r<g;r++)for(var I=0;
I<j;I++)for(var N=0;N<4;N++){var M=Math.max(1,I-N),J=Math.min(j-1,I+N),P=Math.max(1,r-N),n=Math.min(g-1,r+N),x=d._C(T,j,M,J,P,n);
if(isNaN(x))throw I+","+r+","+N+","+x;X[(r*j+I)*4+N]=x*i[N]}}if(h0.Lq){var L=h0.On(0,j,g);L.set(D);var u=h0.On(1,j,g);
u.set(X);var C=h0.On(2,j,g);h0.Lm(C);h0.filter.v_({type:h0.filter.ayW,T3:new Float32Array([1/j,1/g]),a2j:u.Ln,akP:t,afw:w},L.Ln);
C.get(R)}else{for(var N=0;N<2e3;N++)H[N]=Math.exp(-(N/2e3)*e*(100+(1-t)*(1-t)*1e4));var h=j1+2;for(var r=h;
r<g-h;r++)for(var I=h;I<j-h;I++){var A=0,W=0,Q=0,l=0;for(var O=0;O<E;O++)for(var z=0;z<E;z++){var a=I+z-c,m=r+O-c;
if(a==I&&m==r||a<h||m<h||a>=j-h||m>=g-h)continue;var q=Z(X,(r*j+I)*4,(m*j+a)*4),K=m*j+a<<2;A+=q*D[K+0];
W+=q*D[K+1];Q+=q*D[K+2];l+=q}if(l==0){continue}var U=1/l,f=(r*j+I)*4;R[f+0]=~~((1-w)*U*A+w*R[f+0]);R[f+1]=~~((1-w)*U*W+w*R[f+1]);
R[f+2]=~~((1-w)*U*Q+w*R[f+2])}}}return k}();d.a6o=function(){var E=6,y=E>>>1,c=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],e=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function p(w,B){var $=!1,o=w.length,T=B[0],M=5,P=0,n=0;for(var N=1;N<o;N++)T=T.uN(B[N]);if((T.m&1)!=0)T.m++;
if((T.e&1)!=0)T.e++;var i=T.m,r=T.e,I=Math.max(i,r);while(I>>>M>8&&M<10)M++;var J=1<<M;if(i%J!=0)P=J-i%J;
if(r%J!=0)n=J-r%J;T.r4(P>>>1,n>>>1);i=T.m;r=T.e;if(i%J!=0||r%J!=0)throw"e";var x=Date.now(),L=[],u=d.R(T.P()),C=[],h=i*r,A=new Float32Array(i*r*2);
for(var N=0;N<o;N++){var W=B[N],Q=d.R(W.P());d.DU(w[N],Q);u.fill(0);d.kh(Q,W,u,T);L.push(u.slice(0));
var l=W.x-T.x,O=W.y-T.y,z=l+W.m-2,a=O+W.e;for(var m=0;m<W.e;m++){var q=(m+O)*i;for(var K=0;K<l;K++)u[q+K]=u[q+l];
for(var K=z;K<i;K++)u[q+K]=u[q+z-1]}for(var K=0;K<i;K++){for(var m=0;m<O;m++)u[m*i+K]=u[O*i+K];for(var m=a;
m<r;m++)u[m*i+K]=u[(a-1)*i+K]}var U=new Float32Array(i*r*2);C.push(U);for(var f=0;f<h;f++)U[f*2]=u[f]*(1/255);
b(U,A,i,r,M);H(U,i,r,M)}if($)console.log("to gray, decompose",Date.now()-x);x=Date.now();var Y=d.R(i*r);
for(var m=0;m<r;m++)for(var K=0;K<i;K++){var G=0,V=0,dF=m*i+K<<1;for(var N=0;N<o;N++){var s=C[N],aH=s[dF],dw=s[dF+1],kO=aH*aH+dw*dw;
if(kO>V){V=kO;G=N}}Y[dF>>>1]=G}if($)console.log("max abs value",Date.now()-x);x=Date.now();Z(Y,i,r,M);
X(Y,i,r);if($)console.log("denoise",Date.now()-x);x=Date.now();var hX=A.slice(0);for(var m=0;m<r;m++)for(var K=0;
K<i;K++){var N=m*i+K,dF=N<<1,jF=C[Y[N]];hX[dF]=jF[dF];hX[dF+1]=jF[dF+1]}k(hX,A,i,r,M);if($)console.log("compose",Date.now()-x);
x=Date.now();for(var f=0;f<h;f++){var kO=hX[f*2]*255,G=0,V=1e9;for(var N=0;N<o;N++){var gn=Math.abs(L[N][f]-kO);
if(gn<V){V=gn;G=N}L[N][f]=0}L[G][f]=255}if($)console.log("toRGB",Date.now()-x);x=Date.now();return[L,T]}function H(w,B,$,o){var T=B>>>o,i=$>>>o,r=1e-4;
for(var I=0;I<$;I++)for(var M=0;M<B;M++){if(M<T&&I<i)continue;var J=(I*B+M)*2,P=w[J],n=w[J+1],x=P*P+n*n;
if(x<r)P=n=0;else{var L=(x-r)/x;P*=L;n*=L}w[J]=P;w[J+1]=n}}function Z(w,B,$,o){for(var T=0;T<o;T++){var i=B>>>T,r=$>>>T,I=i>>>1,M=r>>>1;
for(var J=0;J<M;J++)for(var P=0;P<I;P++){var n=J*B+I+P,x=(J+M)*B+I+P,L=(J+M)*B+P,u=w[n],C=w[x],h=w[L];
if(u==C==h){}else if(u==C)w[L]=u;else if(C==h)w[n]=C;else if(u==h)w[x]=u}}}function X(w,B,$){for(var o=1;
o<$-1;o++)for(var T=1;T<B-1;T++){var N=o*B+T,i=w[N-B],r=w[N-1],I=w[N],M=w[N+1],J=w[N+B],P=i==r&&i==M||i==M&&M==J||M==J&&r==J||i==r&&J==r;
if(P)w[N]=i==r?i:r==M?r:i;else if(I>i&&I>r&&I>M&&I>J)w[N]=i+r+M+J>>>2;else if(I<i&&I<r&&I<M&&I<J)w[N]=i+r+M+J>>>2}}function b(w,B,$,o,T){for(var N=0;
N<T;N++){var i=$>>>N,r=o>>>N;D(w,B,$,o,i,r)}}function k(w,B,$,o,T){for(var N=T-1;N>=0;N--){var i=$>>N,r=o>>N;
j(w,B,$,o,i,r)}}function D(w,B,$,o,T,i){R(w,B,$,o,T,i,!0);R(B,w,$,o,T,i,!1)}function j(w,B,$,o,T,i){t(w,B,$,o,T,i,!0);
t(B,w,$,o,T,i,!1)}function g(w,B,$,o,T,i){var r=$*o+B<<1;w[r]=T;w[r+1]=i}function R(w,B,$,o,T,i,r){var iI=r?T:i,I=r?i:T,M=I>>>1;
for(var J=0;J<iI;J++){for(var P=0;P<I;P+=2){var n=0,x=0,L=0,u=0,C=P>>>1;for(var h=0;h<6;h++){var A=P+h-3;
if(A<0)A=I+A;if(A>=I)A=A-I;var W=(r?A*$+J:J*$+A)<<1,Q=w[W],l=w[W+1],O=c[h],z=e[h];n+=Q*O[0]-l*O[1];x+=l*O[0]+Q*O[1];
L+=Q*z[0]-l*z[1];u+=l*z[0]+Q*z[1]}if(r){g(B,J,C,$,n,x);g(B,J,C+M,$,L,u)}else{g(B,C,J,$,n,x);g(B,C+M,J,$,L,u)}}}}function t(w,B,$,o,T,i,r){var iI=r?T:i,I=r?i:T,M=I>>>1,J,P,n,x;
for(var L=0;L<iI;L++){for(var u=0;u<I;u++){var C=0,h=0;for(var A=u+3&1;A<6;A+=2){var W=u-A+3>>1;if(W<0)W=M+W;
if(W>=M)W=W-M;if(r){J=L;P=W;n=L;x=W+M}else{P=L;J=W;x=L;n=W+M}var Q=P*$+J<<1,l=x*$+n<<1,O=w[Q],z=w[Q+1],a=w[l],m=w[l+1],q=c[A],K=e[A];
C+=O*q[0]+a*K[0];C+=z*q[1]+m*K[1];h+=z*q[0]+m*K[0];h-=O*q[1]+a*K[1]}if(r)g(B,L,u,$,C,h);else g(B,u,L,$,C,h)}}}return{YR:p}}();
d.a7H=function(){var E=Math.floor(12e3/8),y=UPNG.quantize.findNearest,c,e,p,H;function Z(g,R,t,w){var B=[g,new ir(0,0,R,t)],o;
d.nJ(B);var $=Date.now(),T=R+t>>>1;for(var N=T<1e3?2:4;N>=0;N-=2){var i=B[N+1],e=i.m,p=i.e;if(o==null){o=new Uint8Array(e*p);
y(B[N],o,w)}X(B[N],e,p,w,o);if(N!=0){var r=B[N-1],I=r.m,M=r.e,J=new Uint8Array(I*M);for(var P=0;P<M;
P++)for(var n=0;n<I;n++)J[P*I+n]=o[(P>>>1)*e+(n>>>1)];o=J}}return o}function X(g,R,t,w,B){c=g;e=R;p=t;
H=w;var $=H.length>>>2,o=[-1,-e,1,e],T=[-1,-e,-e+1,2,e+1,e],i=[-1,-e,1,e+1,e+e,e-1],r=8,I=e+p>>>1,M=1e9;
while(I>512){r>>=1;I>>=1}r=Math.max(1,Math.min(4,r));for(var J=0;J<r;J++){var P=0;for(var n=0;n<p;n++)for(var x=0;
x<e;x++){if(D(B,x,n)<2)continue;var L=n*e+x,u=B[L],C=1e9,h=0,A=x==0||n==0||x>e-3||n>p-3;if(A){C=1e9;
for(var N=0;N<$;N++){B[L]=N;var W=j(B,x,n,2);if(W<C){C=W;h=N}}B[L]=h;if(h==u&&x+1<e&&B[L+1]==u){C=1e9;
for(var N=0;N<$;N++){B[L]=B[L+1]=N;var W=j(B,x,n,2)+j(B,x+1,n,2);if(W<C){C=W;h=N}}B[L]=B[L+1]=h}if(h==u&&n+1<p&&B[L+e]==u){C=1e9;
for(var N=0;N<$;N++){B[L]=B[L+e]=N;var W=j(B,x,n,2)+j(B,x,n+1,2);if(W<C){C=W;h=N}}B[L]=B[L+e]=h}}else{C=1e9;
h=-1;for(var N=0;N<4;N++){var Q=B[L+o[N]];if(Q==h)continue;B[L]=Q;var W=j(B,x,n,2);if(W<C){C=W;h=Q}}B[L]=h;
if(h==u&&x+1<e&&B[L+1]==u){C=1e9;h=-1;for(var N=0;N<6;N++){var Q=B[L+T[N]];if(Q==h)continue;B[L]=B[L+1]=Q;
var W=j(B,x,n,2)+j(B,x+1,n,2);if(W<C){C=W;h=Q}}B[L]=B[L+1]=h}if(h==u&&n+1<p&&B[L+e]==u){C=1e9;h=-1;for(var N=0;
N<6;N++){var Q=B[L+i[N]];if(Q==h)continue;B[L]=B[L+e]=Q;var W=j(B,x,n,2)+j(B,x,n+1,2);if(W<C){C=W;h=Q}}B[L]=B[L+e]=h}}P+=C}}}function b(g){var R=0;
for(var t=0;t<p;t++)for(var w=0;w<e;w++)R+=j(g,w,t,1);return R/(e*p)}function k(g,R,t){var N=t*e+R,w=N*4,B=g[N]*4,$=c[w]-H[B],o=c[w+1]-H[B+1],T=c[w+2]-H[B+2],i=c[w+3]-H[B+3];
return $*$+o*o+T*T+i*i}function D(g,R,t){if(R<0||R>=e||t<0||t>=p)throw"e";var N=t*e+R,w=g[N],B=0;if(t>0&&w!=g[N-e])B+=2;
if(R>0&&w!=g[N-1])B+=2;if(R<e-1&&w!=g[N+1])B+=2;if(t<p-1&&w!=g[N+e])B+=2;if(t>0&&R>0&&w!=g[N-e-1])B++;
if(t<p-1&&R>0&&w!=g[N+e-1])B++;if(t>0&&R<e-1&&w!=g[N-e+1])B++;if(t<p-1&&R<e-1&&w!=g[N+e+1])B++;return B}function j(g,R,t,w){return k(g,R,t)+D(g,R,t)*w*E}return Z}();
var ap=function(){function E(){this.P=0;this.UI=0;this.cA={};this.R4=[];this.kN=1e5;this.lt=1e5;this.Lk=-1;
this.sT=-1;this.color=0}function y(j1){this.Lx=j1;this.Gl=new Array(j1);this.E7=new Array(j1*6);this.aez=0;
this.ng=new Array(j1*2);this.alpha=new Array(j1);this.wc=new Array(j1);this.gd=new Array(j1)}function c(p,H,Z,X){function b(B,$,p,H){return p[H*$+B]}function k(N){var M=p.length;
while(N<M&&p[N]==0)N++;return N<M?N:-1}function D(B,$,M){for(var N=2;N<5;N++){var J=0;for(var P=-N+1;
P<=N-1;P++){J+=b(B+P,$+N-1,p,H)==M?1:-1;J+=b(B+N-1,$+P-1,p,H)==M?1:-1;J+=b(B+P-1,$-N,p,H)==M?1:-1;J+=b(B-N,$+P,p,H)==M?1:-1}if(J>0)return 1;
else if(J<0)return 0}return 0}function j(M,t){var w=new E,B=M,$=t,J=0,P=1,n;w.color=p[t*H+M];w.sign=b(M,t,p,H)==w.color?"+":"-";
while(1){w.R4.push(B,$);if(B>w.Lk)w.Lk=B;if(B<w.kN)w.kN=B;if($>w.sT)w.sT=$;if($<w.lt)w.lt=$;w.UI++;B+=J;
$+=P;w.P-=B*P;if(B==M&&$==t)break;var x=b(B+(J+P-1>>1),$+(P-J-1>>1),p,H)==w.color,L=b(B+(J-P-1>>1),$+(P+J-1>>1),p,H)==w.color;
if(L&&!x){if(X.fy=="right"||X.fy=="black"&&w.sign=="+"||X.fy=="white"&&w.sign=="-"||X.fy=="majority"&&D(B,$,w.color)||X.fy=="minority"&&!D(B,$,w.color)){n=J;
J=-P;P=n}else{n=J;J=P;P=-n}}else if(L){n=J;J=-P;P=n}else if(!x){n=J;J=P;P=-n}}return w}var g=0,R=[];
while(!0){var g=k(g);if(g==-1)break;var t=Math.floor(g/H),w=j(g-t*H,t);for(var N=0;N<w.R4.length-2;N+=2){var B=w.R4[N],$=w.R4[N+1],o=$*H+B;
if(B==w.R4[N+2]&&$+1==w.R4[N+3]&&p[o]!=0)ap.fill(o,p,H,0)}if(w.P>X.akJ)R.push(w)}for(var N=0;N<R.length;
N++)R[N].parent=-1;var T=Date.now();for(var N=1;N<R.length;N++){var i=R[N];for(var r=N-1;r>=0;r--){var I=R[r];
if(i.kN<I.kN||i.Lk>I.Lk||i.lt<I.lt||i.sT>I.sT)continue;if(!ap.te(I.R4,i.R4[0]+.5,i.R4[1]+.5))continue;
i.parent=r;break}}return R}function e(p,H){function Z(J,P,n,x,L){this.x=J;this.y=P;this.RE=n;this.po=x;
this.D0=L}function X(J,j1){return(j1+J)%j1}function b(J,P,n,x){return J*x-n*P}function k(J,P,n,x){return J*n+P*x}function D(J,P,n){if(J<=n)return J<=P&&P<n;
else return J<=P||P<n}function j(J,P,n){var x=0;x+=P*J[0]*P;x+=P*J[1]*n;x+=P*J[2];x+=n*J[3]*P;x+=n*J[4]*n;
x+=n*J[5];x+=J[6]*P;x+=J[7]*n;x+=J[8];return x}function g(J,P,n){return P+J*(n-P)}function R(J,P,n,x){var L=Math.sign(n-J),u=-Math.sign(x-P);
return L*(n-J)-u*(x-P)}function t(J,P){return Math.sqrt(J*J+P*P)}function w(J,P,n,x,L){var u=1-J;return u*u*u*P+3*(u*u*J)*n+3*(J*J*u)*x+J*J*J*L}function B(J,P,n,x,L,u,C,h){var A=b(J,P,C,h),W=b(n,x,C,h),Q=b(L,u,C,h),l=A-2*W+Q,O=-2*A+2*W,z=A,a=O*O-4*l*z;
if(l==0||a<0)return-1;var m=Math.sqrt(a),q=(-O+m)/(2*l),K=(-O-m)/(2*l);if(q>=0&&q<=1)return q;else if(K>=0&&K<=1)return K;
else return-1}function $(M){var N,J,P;M.fH=M.R4[0];M.aiO=M.R4[1];M.dG=[];var n=M.dG;n.push(new Z(0,0,0,0,0));
for(N=0;N<M.UI;N++){J=M.R4[N<<1]-M.fH;P=M.R4[(N<<1)+1]-M.aiO;n.push(new Z(n[N].x+J,n[N].y+P,n[N].RE+J*P,n[N].po+J*J,n[N].D0+P*P))}}function o(M){var j1=M.UI,J=M.R4,P,n=new Array(j1),x=new Array(j1),L=new Array(4),u,C,h,A,W,Q,l,O,z,a,m,N,q,K,U,f,Y,G,V=0;
M.YG=new Array(j1);for(N=j1-1;N>=0;N--){if(J[N<<1]!=J[V<<1]&&J[(N<<1)+1]!=J[(V<<1)+1])V=N+1;x[N]=V}for(N=j1-1;
N>=0;N--){var dF=X(N+1,j1)<<1;L[0]=L[1]=L[2]=L[3]=0;P=(3+3*(J[dF]-J[N<<1])+(J[dF+1]-J[(N<<1)+1]))/2;
L[P]++;u=0;C=0;h=0;A=0;V=x[N];K=N;while(1){m=0;P=(3+3*Math.sign(J[V*2]-J[K*2])+Math.sign(J[V*2+1]-J[K*2+1]))/2;
L[P]++;if(L[0]&&L[1]&&L[2]&&L[3]){n[N]=K;m=1;break}z=J[V*2]-J[N*2];a=J[V*2+1]-J[N*2+1];if(b(u,C,z,a)<0||b(h,A,z,a)>0){break}if(Math.abs(z)<=1&&Math.abs(a)<=1){}else{W=z+(a>=0&&(a>0||z<0)?1:-1);
Q=a+(z<=0&&(z<0||a<0)?1:-1);if(b(u,C,W,Q)>=0){u=W;C=Q}W=z+(a<=0&&(a<0||z<0)?1:-1);Q=a+(z>=0&&(z>0||a<0)?1:-1);
if(b(h,A,W,Q)<=0){h=W;A=Q}}K=V;V=x[K];if(!D(V,N,K)){break}}if(m==0){l=Math.sign(J[V*2]-J[K*2]);O=Math.sign(J[V*2+1]-J[K*2+1]);
z=J[K*2]-J[N*2];a=J[K*2+1]-J[N*2+1];U=b(u,C,z,a);f=b(u,C,l,O);Y=b(h,A,z,a);G=b(h,A,l,O);q=1e7;if(f<0){q=Math.floor(U/-f)}if(G>0){q=Math.min(q,Math.floor(-Y/G))}n[N]=X(K+q,j1)}}q=n[j1-1];
M.YG[j1-1]=q;for(N=j1-2;N>=0;N--){if(D(N+1,n[N],q)){q=n[N]}M.YG[N]=q}for(N=j1-1;D(X(N+1,j1),q,M.YG[N]);
N--){M.YG[N]=q}}function T(M){function J(M,N,P){var j1=M.UI,z=M.R4,a=M.dG,m,q,K,U,f,x,Y,G,O,V,dF,s,aH,dw,kO=0;
if(P>=j1){P-=j1;kO=1}if(kO==0){m=a[P+1].x-a[N].x;q=a[P+1].y-a[N].y;U=a[P+1].po-a[N].po;K=a[P+1].RE-a[N].RE;
f=a[P+1].D0-a[N].D0;x=P+1-N}else{m=a[P+1].x-a[N].x+a[j1].x;q=a[P+1].y-a[N].y+a[j1].y;U=a[P+1].po-a[N].po+a[j1].po;
K=a[P+1].RE-a[N].RE+a[j1].RE;f=a[P+1].D0-a[N].D0+a[j1].D0;x=P+1-N+j1}dF=(z[N<<1]+z[P<<1])/2-z[0];s=(z[(N<<1)+1]+z[(P<<1)+1])/2-z[1];
dw=z[P<<1]-z[N<<1];aH=-(z[(P<<1)+1]-z[(N<<1)+1]);Y=(U-2*m*dF)/x+dF*dF;G=(K-m*s-q*dF)/x+dF*s;O=(f-2*q*s)/x+s*s;
V=aH*aH*Y+2*aH*dw*G+dw*dw*O;return Math.sqrt(V)}var N,P,n,x,j1=M.UI,L=new Array(j1+1),u=new Array(j1+1),C=new Array(j1),h=new Array(j1+1),A=new Array(j1+1),W=new Array(j1+1),Q,l,O;
for(N=0;N<j1;N++){O=X(M.YG[X(N-1,j1)]-1,j1);if(O==N){O=X(N+1,j1)}if(O<N){C[N]=j1}else{C[N]=O}}P=1;for(N=0;
N<j1;N++){while(P<=C[N]){h[P]=N;P++}}N=0;for(P=0;N<j1;P++){A[P]=N;N=C[N]}A[P]=j1;n=P;N=j1;for(P=n;P>0;
P--){W[P]=N;N=h[N]}W[0]=0;L[0]=0;for(P=1;P<=n;P++){for(N=W[P];N<=A[P];N++){l=-1;for(x=A[P-1];x>=h[N];
x--){Q=J(M,x,N)+L[x];if(l<0||Q<l){u[N]=x;l=Q}}L[N]=l}}M.asT=n;M.a9C=new Array(n);for(N=j1,P=n-1;N>0;
P--){N=u[N];M.a9C[P]=N}}function i(M){function J(M,N,Q,C,h,hX){var j1=M.UI,jF=M.dG,gn=0,O;while(Q>=j1){Q-=j1;
gn+=1}while(N>=j1){N-=j1;gn-=1}while(Q<0){Q+=j1;gn-=1}while(N<0){N+=j1;gn+=1}var hM=jF[Q+1].x-jF[N].x+gn*jF[j1].x,ie=jF[Q+1].y-jF[N].y+gn*jF[j1].y,bN=jF[Q+1].po-jF[N].po+gn*jF[j1].po,kd=jF[Q+1].RE-jF[N].RE+gn*jF[j1].RE,i7=jF[Q+1].D0-jF[N].D0+gn*jF[j1].D0,l=Q+1-N+gn*j1;
C[hX]=hM/l;C[hX+1]=ie/l;var dn=(bN-hM*hM/l)/l,ew=(kd-hM*ie/l)/l,e4=(i7-ie*ie/l)/l,eE=(dn+e4+Math.sqrt((dn-e4)*(dn-e4)+4*ew*ew))/2;
dn-=eE;e4-=eE;if(Math.abs(dn)>=Math.abs(e4)){O=Math.sqrt(dn*dn+ew*ew);if(O!=0){h[hX]=-ew/O;h[hX+1]=dn/O}}else{O=Math.sqrt(e4*e4+ew*ew);
if(O!=0){h[hX]=-e4/O;h[hX+1]=ew/O}}if(O==0){h[hX]=h[hX+1]=0}}var P=M.asT,n=M.a9C,j1=M.UI,x=M.R4,L=M.fH,u=M.aiO,C=new Array(P*2),h=new Array(P*2),A=new Array(P),W=new Array(3),N,Q,l,O,q,K,U,f,Y,G,V;
M.cA=new y(P);for(N=0;N<P;N++){Q=n[X(N+1,P)];Q=X(Q-n[N],j1)+n[N];C[N<<1]=0;C[(N<<1)+1]=0;h[N<<1]=0;h[(N<<1)+1]=0;
J(M,n[N],Q,C,h,N<<1)}for(N=0;N<P;N++){A[N]=[0,0,0,0,0,0,0,0,0];var z=h[N<<1]*h[N<<1]+h[(N<<1)+1]*h[(N<<1)+1],a=1/z;
if(z!=0){W[0]=h[(N<<1)+1];W[1]=-h[N<<1];W[2]=-W[1]*C[(N<<1)+1]-W[0]*C[N<<1];for(O=0;O<3;O++){A[N][O*3+0]=W[O]*W[0]*a;
A[N][O*3+1]=W[O]*W[1]*a;A[N][O*3+2]=W[O]*W[2]*a}}}var m=[0,0,0,0,0,0,0,0,0];for(N=0;N<P;N++){m[0]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=0;
var dF=x[n[N]<<1]-L,s=x[(n[N]<<1)+1]-u,aH=0,dw=0;Q=X(N-1,P);for(O=0;O<9;O+=3){m[O+0]=A[Q][O+0]+A[N][O+0];
m[O+1]=A[Q][O+1]+A[N][O+1];m[O+2]=A[Q][O+2]+A[N][O+2]}while(1){var kO=m[0]*m[4]-m[1]*m[3];if(kO!=0){aH=(-m[2]*m[4]+m[5]*m[0])/kO;
dw=(m[2]*m[3]-m[5]*m[0])/kO;break}if(m[0]>m[4]){W[0]=-m[1];W[1]=m[0]}else if(m[4]){W[0]=-m[4];W[1]=m[3]}else{W[0]=1;
W[1]=0}var z=W[0]*W[0]+W[1]*W[1],a=1/z;W[2]=-W[1]*s-W[0]*dF;for(O=0;O<3;O++){m[O*3+0]+=W[O]*W[0]*a;m[O*3+1]+=W[O]*W[1]*a;
m[O*3+2]+=W[O]*W[2]*a}}q=Math.abs(aH-dF);K=Math.abs(dw-s);if(q<=.5&&K<=.5){M.cA.ng[N<<1]=aH+L;M.cA.ng[(N<<1)+1]=dw+u;
continue}U=j(m,dF,s);Y=dF;G=s;if(m[0]!=0){for(V=0;V<2;V++){dw=s-.5+V;aH=-(m[1]*dw+m[2])/m[0];q=Math.abs(aH-dF);
f=j(m,aH,dw);if(q<=.5&&f<U){U=f;Y=aH;G=dw}}}if(m[4]!=0){for(V=0;V<2;V++){aH=dF-.5+V;dw=-(m[3]*aH+m[5])/m[4];
K=Math.abs(dw-s);f=j(m,aH,dw);if(K<=.5&&f<U){U=f;Y=aH;G=dw}}}for(O=0;O<2;O++){for(l=0;l<2;l++){aH=dF-.5+O;
dw=s-.5+l;f=j(m,aH,dw);if(f<U){U=f;Y=aH;G=dw}}}M.cA.ng[N<<1]=Y+L;M.cA.ng[(N<<1)+1]=G+u}}function r(M){var J=M.cA.Lx,P=M.cA,N,n,x,L,u,C,h,A,W;
for(N=0;N<J;N++){n=X(N+1,J);x=X(N+2,J);var Q=P.ng[N<<1],l=P.ng[(N<<1)+1],O=P.ng[x<<1],z=P.ng[(x<<1)+1],a=P.ng[n<<1],m=P.ng[(n<<1)+1],q=g(.5,O,a),K=g(.5,z,m);
u=R(Q,l,O,z);if(u!=0){L=b(a-Q,m-l,O-Q,z-l)/u;L=Math.abs(L);C=L>1?1-1/L:0;C=C*(1/.75)}else{C=4/3}P.wc[n]=C;
var U=3*n<<1;if(C>=H.a85){P.Gl[n]=0;P.E7[U+0]=P.E7[U+1]=0;P.E7[U+2]=a;P.E7[U+3]=m;P.E7[U+4]=q;P.E7[U+5]=K}else{if(C<.55){C=.55}else if(C>1){C=1}var f=.5+.5*C;
P.Gl[n]=1;P.E7[U]=g(f,Q,a);P.E7[U+1]=g(f,l,m);P.E7[U+2]=g(f,O,a);P.E7[U+3]=g(f,z,m);P.E7[U+4]=q;P.E7[U+5]=K}P.alpha[n]=C;
P.gd[n]=.5}P.a7y=1}function I(M){function J(){this.qZ=0;this.B2=0;this.Oo=0;this.Nv=0;this.tp=0;this.V4=0;
this.az=0;this.alpha=0}function P(M,N,Q,ft,bd,Y,G){var x=M.cA.Lx,iB=M.cA.E7,cG=M.cA.ng;if(N==Q)return 1;
var bT=N,a=X(N+1,x),g$=X(bT+1,x),kd=cG[N<<1],i7=cG[(N<<1)+1],hU=cG[a<<1],ah=cG[(a<<1)+1],co=Y[g$];if(co==0)return 1;
var im=t(kd-hU,i7-ah);for(bT=g$;bT!=Q;bT=g$){var g$=X(bT+1,x),hb=X(bT+2,x),dI=cG[g$<<1],bw=cG[(g$<<1)+1],fb=cG[hb<<1],iG=cG[(hb<<1)+1];
if(Y[g$]!=co)return 1;if(Math.sign(b(hU-kd,ah-i7,fb-dI,iG-bw))!=co)return 1;if(k(hU-kd,ah-i7,fb-dI,iG-bw)<im*t(dI-fb,bw-iG)*-.999847695156)return 1}var dy=X(N,x)*3+2<<1,kp=X(N+1,x)<<1,gw=X(Q,x)<<1,dR=X(Q,x)*3+2<<1,hX=iB[dy],jF=iB[dy+1],fT=cG[kp],gA=cG[kp+1],by=cG[gw],fv=cG[gw+1],d4=iB[dR],fg=iB[dR+1],V=cG[0],dF=cG[1];
dy=Q*3+2<<1;var aC=iB[dy],bu=iB[dy+1],m=G[Q]-G[N];m-=b(aC-V,bu-dF,aC-V,bu-dF)/2;if(N>=Q){m+=G[x]}var hj=fT-hX,jg=gA-jF,cm=by-hX,bz=fv-jF,db=d4-hX,eM=fg-jF,de=b(hj,jg,cm,bz),eb=b(hj,jg,db,eM),k8=b(cm,bz,db,eM),hc=de+k8-eb;
if(eb==de)return 1;var f=k8/(k8-hc),U=eb/(eb-de),bg=eb*f/2;if(bg==0)return 1;var k5=m/bg,q=2-Math.sqrt(4-k5/.3);
ft.B2=g(f*q,hX,fT);ft.Oo=g(f*q,jF,gA);ft.Nv=g(U*q,d4,by);ft.tp=g(U*q,fg,fv);ft.alpha=q;ft.V4=f;ft.az=U;
fT=ft.B2;gA=ft.Oo;by=ft.Nv;fv=ft.tp;ft.qZ=0;for(bT=X(N+1,x);bT!=Q;bT=g$){g$=X(bT+1,x);var e5=cG[bT<<1],j6=cG[(bT<<1)+1],dI=cG[g$<<1],bw=cG[(g$<<1)+1];
f=B(fT-hX,gA-jF,by-fT,fv-gA,d4-by,fg-fv,dI-e5,bw-j6);if(f<-.5)return 1;var gK=w(f,hX,fT,by,d4),aJ=w(f,jF,gA,fv,fg),im=t(dI-e5,bw-j6);
if(im==0)return 1;var ic=b(dI-e5,bw-j6,gK-e5,aJ-j6)/im;if(Math.abs(ic)>bd)return 1;if(k(dI-e5,bw-j6,gK-e5,aJ-j6)<0||k(e5-dI,j6-bw,gK-dI,aJ-bw)<0){return 1}ft.qZ+=ic*ic}for(bT=N;
bT!=Q;bT=g$){g$=X(bT+1,x);var dy=bT*3+2<<1,kp=g$*3+2<<1,gk=iB[dy],hu=iB[dy+1],gQ=iB[kp],e7=iB[kp+1];
f=B(fT-hX,gA-jF,by-fT,fv-gA,d4-by,fg-fv,gQ-gk,e7-hu);if(f<-.5)return 1;var gK=w(f,hX,fT,by,d4),aJ=w(f,jF,gA,fv,fg),im=t(gQ-gk,e7-hu);
if(im==0)return 1;var ic=b(gQ-gk,e7-hu,gK-gk,aJ-hu)/im,a2=b(gQ-gk,e7-hu,cG[g$<<1]-gk,cG[(g$<<1)+1]-hu)/im;
a2*=.75*M.cA.alpha[g$];if(a2<0){ic=-ic;a2=-a2}if(ic<a2-bd)return 1;if(ic<a2){ft.qZ+=(ic-a2)*(ic-a2)}}return 0}var n=M.cA,x=n.Lx,L=n.ng,u=new Array(x+1),C=new Array(x+1),h=new Array(x+1),A=new Array(x+1),W,N,Q,l,O=new J,z,a,m,q,K,U,f,Y=new Array(x),G=new Array(x+1);
for(N=0;N<x;N++){if(n.Gl[N]=="CURVE"){var V=L[X(N-1,x)<<1],dF=L[(X(N-1,x)<<1)+1],s=L[N<<1],aH=L[(N<<1)+1],dw=L[X(N+1,x)<<1],kO=L[(X(N+1,x)<<1)+1];
Y[N]=Math.sign(b(s-V,aH-dF,dw-s,kO-aH))}else{Y[N]=0}}m=0;G[0]=0;var hX=n.ng[0],jF=n.ng[1];for(N=0;N<x;
N++){a=X(N+1,x);if(n.Gl[a]=="CURVE"){q=n.alpha[a];var gn=N*3+2<<1,hM=a*3+2<<1,ie=n.E7[gn],bN=n.E7[gn+1],kd=L[a<<1],i7=L[(a<<1)+1],dn=n.E7[hM],ew=n.E7[hM+1];
m+=.3*q*(4-q)*b(kd-ie,i7-bN,dn-ie,ew-bN)/2;m+=b(ie-hX,bN-jF,dn-hX,ew-jF)/2}G[N+1]=m}u[0]=-1;C[0]=0;h[0]=0;
for(Q=1;Q<=x;Q++){u[Q]=Q-1;C[Q]=C[Q-1];h[Q]=h[Q-1]+1;for(N=Q-2;N>=0;N--){l=P(M,N,X(Q,x),O,H.alI,Y,G);
if(l){break}if(h[Q]>h[N]+1||h[Q]==h[N]+1&&C[Q]>C[N]+O.qZ){u[Q]=N;C[Q]=C[N]+O.qZ;h[Q]=h[N]+1;A[Q]=O;O=new J}}}W=h[x];
K=new y(W);U=new Array(W);f=new Array(W);Q=x;for(N=W-1;N>=0;N--){var e4=X(Q,x),eE=N*3+0<<1,jc=e4*3+0<<1;
if(u[Q]==Q-1){K.Gl[N]=n.Gl[e4];K.E7[eE]=n.E7[jc];K.E7[eE+1]=n.E7[jc+1];K.E7[eE+2]=n.E7[jc+2];K.E7[eE+3]=n.E7[jc+3];
K.E7[eE+4]=n.E7[jc+4];K.E7[eE+5]=n.E7[jc+5];K.ng[N<<1]=n.ng[e4<<1];K.ng[(N<<1)+1]=n.ng[(e4<<1)+1];K.alpha[N]=n.alpha[e4];
K.wc[N]=n.wc[e4];K.gd[N]=n.gd[e4];U[N]=f[N]=1}else{K.Gl[N]="CURVE";K.E7[eE]=A[Q].B2;K.E7[eE+1]=A[Q].Oo;
K.E7[eE+2]=A[Q].Nv;K.E7[eE+3]=A[Q].tp;K.E7[eE+4]=n.E7[jc+4];K.E7[eE+5]=n.E7[jc+5];K.ng[N<<1]=g(A[Q].az,n.E7[jc+4],L[e4<<1]);
K.ng[(N<<1)+1]=g(A[Q].az,n.E7[jc+5],L[(e4<<1)+1]);K.alpha[N]=A[Q].alpha;K.wc[N]=A[Q].alpha;U[N]=A[Q].az;
f[N]=A[Q].V4}Q=u[Q]}for(N=0;N<W;N++){a=X(N+1,W);K.gd[N]=U[N]/(U[N]+f[a])}K.a7y=1;M.cA=K}for(var N=0;
N<p.length;N++){var M=p[N];$(M);o(M);T(M);i(M);r(M);if(H.aoN)I(M)}}return{a9u:c,akQ:e}}();ap.tl=function(E,y,c,e){var p={fy:"minority",akJ:e,aoN:!0,a85:1,alI:.2},H=ap.a9u(E,y,c,p);
ap.akQ(H,p);return H};ap.sA=function(E){var y=[];for(var N=0;N<E.length;N++){var c=E[N],e=c.cA,p=["M"],H=[e.E7[(e.Lx-1)*6+4],e.E7[(e.Lx-1)*6+5]];
for(var Z=0;Z<e.Lx;Z++){var X=Z*6;if(e.Gl[Z]==1){p.push("C");for(var b=0;b<6;b++)H.push(e.E7[X+b])}else if(e.Gl[Z]==0){p.push("L");
for(var b=2;b<4;b++)H.push(e.E7[X+b])}}p.push("Z");y.push({parent:c.parent,color:c.color,path:{j:H,G:p}})}return y};
ap.te=function(E,y,c){var j1=E.length>>1,e,p=E[2*j1-3]-c,H=E[2*j1-2]-y,Z=E[2*j1-1]-c,X=Z>p,b=0;for(var N=0;
N<j1;N++){e=H;p=Z;H=E[2*N]-y;Z=E[2*N+1]-c;if(p==Z)continue;X=Z>p}for(var N=0;N<j1;N++){e=H;p=Z;H=E[2*N]-y;
Z=E[2*N+1]-c;if(p<0&&Z<0)continue;if(p>0&&Z>0)continue;if(e<0&&H<0)continue;if(p==Z&&Math.min(e,H)<=0)return!0;
if(p==Z)continue;var k=e+(H-e)*-p/(Z-p);if(k==0)return!0;if(k>0)b++;if(p==0&&X&&Z>p)b--;if(p==0&&!X&&Z<p)b--;
X=Z>p}return(b&1)==1};ap.fill=function(E,y,c,e){var p=y[E],H=[E],Z=0;while(Z<H.length){var X=H[Z];Z++;
y[X]=e;if(y[X-c]==p){H.push(X-c);y[X-c]=254}if(y[X-1]==p){H.push(X-1);y[X-1]=254}if(y[X+1]==p){H.push(X+1);
y[X+1]=254}if(y[X+c]==p){H.push(X+c);y[X+c]=254}}};var fa=function(){function E(X){return Math.max(0,Math.min(1,X))}function y(X,b){var k=b<0?-b:b;
if(X>1)X=.99;X=X*.99;var D=Math.pow(k/5,.16),g=Math.pow(2,k<1?k:1+(k-1)*.8);if(b<0)g=1/g;X=D*(1-Math.pow(1-X,g))+(1-D)*X;
return X}function c(X,b){var k=b/100;X=X*.99;X=k*(.5-.5*Math.cos(X*Math.PI))+(1-k)*X;return X}var e=d.Av.V3(1,1,1,-.3),p=d.Av.Ub(e);
function H(X,b,k,D,j,g,R){var t=X[k],w=X[k+1],B=X[k+2],$=d.Av.WV(e,[t,w,B,1]);t=$[0];w=$[1];B=$[2];t=y(t,D);
w=y(w,D);B=y(B,D);var $=d.Av.WV(p,[t,w,B,1]);t=$[0];w=$[1];B=$[2];t=E(t);w=E(w);B=E(B);t=c(t,j);w=c(w,j);
B=c(B,j);var o=jC.aoS(t,w,B,g);t=o[0];w=o[1];B=o[2];t=E(t);w=E(w);B=E(B);if(R){var T=new Uint8Array(4);
T[0]=~~(.5+t*255);T[1]=~~(.5+w*255);T[2]=~~(.5+B*255);et.bJ(R,T,T,new ir(0,0,1,1));t=T[0]/255;w=T[1]/255;
B=T[2]/255}b[k]=t;b[k+1]=w;b[k+2]=B}function Z(X,b,k,D,j,g){var R=j.Temp?j.Temp.v:0,t=j.Tint?j.Tint.v:0,w=j.Ex12?j.Ex12.v:0,B=j.Cr12?j.Cr12.v:0,$=j.Vibr?j.Vibr.v:0,o=j.Strt?j.Strt.v:0,T=jC.C0(R,t),i=null;
w+=T.acL;if($!=0||o!=0)i=et.z8("vibA",{Strt:j.Strt,vibrance:j.Vibr});var r=Date.now();if(g){var I=Math.pow(2,w),M=X.length;
w=0;var J=new Float32Array(4e3);for(var N=0;N<4e3;N++){var P=N*(1/1e3);P=d.xz(P);P*=I;P=d.nW(P);P=E(P);
J[N]=P}for(var N=0;N<M;N+=3){D[N]=J[~~(X[N]*1e3)];D[N+1]=J[~~(X[N+1]*1e3)];D[N+2]=J[~~(X[N+2]*1e3)]}console.log(Date.now()-r,"Exposure normalizing");
r=Date.now()}else D.set(X);if(w!=0||B!=0||R!=0||t!=0||i){var n=17,x=1/(n-1),L=n*n*n,u=new Array(L*3);
for(var C=0;C<n;C++)for(var h=0;h<n;h++)for(var A=0;A<n;A++){var N=C*n*n+h*n+A,W=N*3;u[W]=C*x;u[W+1]=h*x;
u[W+2]=A*x}for(var N=0;N<L;N++)H(u,u,N*3,w,B,T,i);console.log(Date.now()-r,"making LUT");r=Date.now();
ICC.U.applyLUTFloat(u,n,D,D);console.log(Date.now()-r,"applying LUT");r=Date.now()}}return Z}();function f$(){}f$.ux=function(E,y){var c=new Uint8Array(E),e=0,p=y.split("/").pop().split(".")[0];
function H(B){for(var N=0;N<B.length;N++)B[N].v.Nm.v=p+"/"+B[N].v.Nm.v.split("/").pop()}var Z={b6:[],XQ:[],list:[]},X=_.dT(c,e);
e+=2;if(X<=2){Z=f$.agq(c);H(Z.list);return Z}var b=_.dT(c,e);e+=2;var k=_.xY(c,e,8);e+=8;var D=_.q(c,e);
e+=4;if(D>0)Z.b6=f$.a3a(c,e,D,b,X);e+=D;var j=_.xY(c,e,8);e+=8;var g=_.q(c,e);e+=4;if(g>0)Z.XQ=ei.e3(c,e,g);
e+=g;var R=_.xY(c,e,8);e+=8;var t=_.q(c,e);e+=4;if(t>0){var w={};kC.NL(c,w,e+4);Z.list=w.Brsh.v}e+=t;
var B=Z.list;for(var N=0;N<B.length;N++){bj.o$.check(B[N].v)}H(B);return Z};f$.Mq=function(E,y){E.v.Nm.v=y};
f$.agq=function(E){var y={b6:[],XQ:[],list:[]},c=0,e=_.dT(E,c);c+=2;var p=_.dT(E,c);c+=2;for(var N=0;
N<p;N++){var H=_.dT(E,c);c+=2;var Z=_.q(E,c);c+=4;var X=c;if(H==2){var b={};y.b6.push(b);var k=_.q(E,X);
X+=4;var D=_.dT(E,X);X+=2;if(e==2){var j=_.Nm(E,X);X+=4+j.length*2+2}b.id=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f";
X++;X+=8;b.k4=_.SY(E,X);X+=16;var g=_.dT(E,X);X+=2;var R=E[X];X++;var t=eH.ji(!1,g,E,b.k4.m,b.k4.e,X,R);
f$.a8h(b,t);var w=bj.OY(b.id),B=w.Brsh.v;B.Dmtr.v.val=b.k4.m;B.Spcn.v.val=D;y.list.push({t:"Objc",v:w})}c+=Z}return y};
f$.iF=function(E){var y=new ek,c=0,e=0;_.xG(y,c,6);c+=2;_.xG(y,c,2);c+=2;var p={},H=[],Z={},X=[];for(var N=0;
N<E.list.length;N++){var b=E.list[N].v,k=b.Brsh.v;if(k.classID=="sampledBrush")p[k.sampledData.v]=!0;
if(b.Txtr)Z[b.Txtr.v.Idnt.v]=!0}for(var N=0;N<E.b6.length;N++)if(p[E.b6[N].id])H.push(E.b6[N]);for(var N=0;
N<E.XQ.length;N++)if(p[E.XQ[N].id])X.push(E.XQ[N]);_.cW(y,c,"8BIMsamp");c+=8;c+=4;e=c;c=f$.ajJ(y,c,H);
_.w$(y,e-4,c-e);_.cW(y,c,"8BIMpatt");c+=8;c+=4;e=c;c=ei.O6(y,c,X);_.w$(y,e-4,c-e);var D=JSON.parse(JSON.stringify(E.list));
for(var N=0;N<D.length;N++)D[N].v.Nm.v=D[N].v.Nm.v.split("/").pop();var j={classID:"null",Brsh:{t:"VlLs",v:D}};
_.cW(y,c,"8BIMdesc");c+=8;c+=4;e=c;_.w$(y,c,16);c+=4;c+=kC.st(y,j,c);_.w$(y,e-4,c-e);return y.data.slice(0,c).buffer};
f$.a3a=function(E,y,c,e,p){var H=_.q,Z=_.SY,X=y+c,b=[];while(y<X){var k={};b.push(k);var D=H(E,y);y+=4;
var j=y,g=_.Fq(E,y);y+=g.length;k.id=g.$f;if(e==1){y+=9;k.k4=Z(E,y);y+=16}else{y+=7;var R=H(E,y);y+=4;
k.k4=Z(E,y);y+=16;var t=H(E,y);y+=4;y+=t*4;var w=H(E,y);y+=4;var B=H(E,y);y+=4;var $=Z(E,y);y+=16}var o=_.dT(E,y);
y+=2;var T=E[y];y+=1;var i=eH.ji(!1,o,E,k.k4.m,k.k4.e,y,T);f$.a8h(k,i);if(D%4!=0)D+=4-D%4;y=j+D}return b};
f$.a8h=function(E,y){var c=E.k4.clone();c.x=c.y=0;E.Gi=[y,c]};f$.ajJ=function(E,y,c){var e=_.w$,p=_.K7;
for(var N=0;N<c.length;N++){var H=c[N],Z=y+4,b=56,D=1;y+=4;_.L1(E,y,H.id);y+=H.id.length+2;E._Z(y,1);
E.data[y]=1;y+=3;e(E,y,3);y+=4;var X=y;y+=4;p(E,y,H.k4);y+=16;e(E,y,b);y+=4;y+=b*4;e(E,y-4,1);var k=y;
y+=4;e(E,y,8);y+=4;p(E,y,H.k4);y+=16;_.xG(E,y,8);y+=2;E._Z(y,1);E.data[y]=D;y++;var j=H.Gi[0];E._Z(y,H.k4.P()*2);
y=eH.nv(!1,j,E.data,H.k4.m,H.k4.e,y,D);E._Z(y,8);y+=8;var g=y-Z;e(E,Z-4,g);e(E,X,g-49);e(E,k,g-305);
if(g%4!=0)y+=4-g%4}return y};function gG(){}gG.ux=function(E,y){var c=new Uint8Array(E),e=[],p=0,H=_.dT(c,p);
p+=2;if(H!=4){throw"Unknown version of curves: "+H}var Z=_.dT(c,p);p+=2;for(var N=0;N<Z;N++){var X=gG.ack(c,p);
p+=2+2*X.length;e.push(X)}if(p!=c.length){var b=_.xY(c,p,4);p+=4;var k=_.dT(c,p);p+=2;var D=_.dT(c,p);
p+=2;if(D!=0)throw"extra curves for channels"}var j=gG.alO(e,0);j.presetKind={t:"long",v:3};j.presetFileName={t:"TEXT",v:y.split("/").pop().split(".")[0]};
return[j]};gG._4=function(E,y,c){var e=y,p=[],H=E[y];y+=3;var Z=_.q(E,y);y+=4;for(var N=0;N<4;N++){var X=Z>>>N&1;
if(X){if(H==0){var b=gG.ack(E,y);y+=2+2*b.length}else{var b=gG.a0e(E,y);y+=256}p.push(b)}else p.push(H==0?[0,0,255,255]:gG.afg())}var k=gG.alO(p,H);
return k};gG.alO=function(E,y){var c=cN.TL("curv");for(var N=0;N<4;N++){if(y==0){var e=E[N],p=[];for(var H=0;
H<e.length;H+=2)p.push(d.$K.rL(e[H],e[H+1],!0));gG.UL(c,N,p)}else gG.UL(c,N,E[N])}return c};gG.pJ=function(E,y,c){var e=[];
for(var N=0;N<4;N++){var p=gG.PM(c,N);if(p.length==256)e.push(p);else{var H=[];for(var Z=0;Z<p.length;
Z++)H.push(p[Z].v.Hrzn.v,p[Z].v.Vrtc.v);e.push(H)}}var X=y,b=e[0].length==256?1:0;E._Z(y,3);E.data[y]=b;
E.data[y+1]=0;E.data[y+2]=1;y+=3;_.w$(E,y,15);y+=4;for(var N=0;N<4;N++){var k=e[N];if(b==0){gG.ayk(E,y,k);
y+=2+2*k.length}else{gG.aBf(E,y,k);y+=256}}return y-X};gG.afg=function(){var E=[];for(var N=0;N<256;
N++)E.push(N);return E};gG.UL=function(E,y,c){var e=fE.Tn("CrvA",y);if(c.length<256)e.Crv={t:"VlLs",v:c};
else{e.Mpng={t:"VlLs",v:[]};for(var N=0;N<256;N++)e.Mpng.v[N]={t:"long",v:c[N]}}e={t:"Objc",v:e};var p=E.Adjs.v,H=fE.jx(p,y);
if(H==-1)p.push(e);else p[H]=e};gG.PM=function(E,y){var c=E.Adjs.v,e=fE.jx(c,y);if(e==-1){if(c.length==0||c[0].v.Crv)return[d.$K.rL(0,0,!0),d.$K.rL(255,255,!0)];
if(c[0].v.autoMachineLearning||c[0].v.AuCo)return[d.$K.rL(0,0,!0),d.$K.rL(128,160,!0),d.$K.rL(255,255,!0)];
var p=[];for(var N=0;N<256;N++)p.push(N);return p}var H=c[e].v;if(H.Crv)return H.Crv.v;if(H.Mpng){var p=[];
for(var N=0;N<256;N++)p.push(H.Mpng.v[N].v);return p}return[d.$K.rL(0,0,!0),d.$K.rL(255,255,!0)]};gG.ack=function(E,y){var c=[],e=_.dT(E,y);
y+=2;for(var p=0;p<e;p++){var H=_.dT(E,y);y+=2;var Z=_.dT(E,y);y+=2;c.push(Z,H)}return c};gG.ayk=function(E,y,c){var e=c.length/2;
_.xG(E,y,e);y+=2;for(var p=0;p<e;p++){_.xG(E,y,c[p*2+1]);y+=2;_.xG(E,y,c[p*2+0]);y+=2}};gG.a0e=function(E,y){var c=[];
for(var N=0;N<256;N++)c.push(E[y+N]);return c};gG.aBf=function(E,y,c){E._Z(y,256);for(var N=0;N<256;
N++)E.data[y+N]=c[N]};function b0(){}b0._4=function(E,y,c){var e={},p=_.dT(E,y);y+=2;e.QU=E[y]==1;y++;
y++;e.p0=[_.aL(E,y),_.aL(E,y+2),_.aL(E,y+4)];y+=6;e.HM=[_.aL(E,y),_.aL(E,y+2),_.aL(E,y+4)];y+=6;e._i=[];
for(var N=0;N<6;N++){var H={};H.rX=[_.aL(E,y),_.aL(E,y+2),_.aL(E,y+4),_.aL(E,y+6)];y+=8;H.ot=[_.aL(E,y),_.aL(E,y+2),_.aL(E,y+4)];
y+=6;e._i.push(H)}var Z=cN.TL("hue2"),X=e;if(Z.Clrz==null)Z.Clrz={t:"bool",v:!1};Z.Clrz.v=X.QU;for(var N=0;
N<7;N++){var b=N==0?X.QU?X.p0:X.HM:X._i[N-1];b0.UL(Z,N,b)}return Z};b0.aec=function(E){return{classID:"Hst2",H:{t:"long",v:E[0]},Strt:{t:"long",v:E[1]},Lght:{t:"long",v:E[2]}}};
b0.jx=function(E,y){for(var N=0;N<E.length;N++){var c=E[N].v.LclR;if(y==0&&c==null||c!=null&&c.v==y)return N}return-1};
b0.UL=function(E,y,c){var e=y==0?c:c.ot,p=b0.aec(e);if(y!=0){var H=c.rX;p.LclR={t:"long",v:y},p.BgnR={t:"long",v:H[0]};
p.BgnS={t:"long",v:H[1]};p.EndS={t:"long",v:H[2]};p.EndR={t:"long",v:H[3]}}p={t:"Objc",v:p};var Z=E.Adjs.v,X=b0.jx(Z,y);
if(X==-1)Z.push(p);else Z[X]=p};b0.PM=function(E,y){var c=E.Adjs.v,e=b0.jx(c,y);if(e==-1){if(y==0)return[0,0,0];
else return[{rX:[315,345,15,45],ot:[0,0,0]},{rX:[15,45,75,105],ot:[0,0,0]},{rX:[75,105,135,165],ot:[0,0,0]},{rX:[135,165,195,225],ot:[0,0,0]},{rX:[195,225,255,285],ot:[0,0,0]},{rX:[255,285,315,345],ot:[0,0,0]}][y-1]}var p=c[e].v,H=[p.H.v,p.Strt.v,p.Lght.v];
if(y==0)return H;return{ot:H,rX:[p.BgnR.v,p.BgnS.v,p.EndS.v,p.EndR.v]}};b0.pJ=function(E,y,c){var e={QU:c.Clrz?c.Clrz.v:!1,_i:[]};
e.p0=e.HM=b0.PM(c,0);for(var N=1;N<7;N++)e._i.push(b0.PM(c,N));var p=2+2+12+6*14,H=E.data;E._Z(y,p);
_.L8(H,y,2);y+=2;H[y]=e.QU?1:0;y++;y++;_.SX(H,y+0,e.p0[0]);_.SX(H,y+2,e.p0[1]);_.SX(H,y+4,e.p0[2]);y+=6;
_.SX(H,y+0,e.HM[0]);_.SX(H,y+2,e.HM[1]);_.SX(H,y+4,e.HM[2]);y+=6;for(var N=0;N<6;N++){var Z=e._i[N].rX,X=e._i[N].ot;
_.SX(H,y+0,Z[0]);_.SX(H,y+2,Z[1]);_.SX(H,y+4,Z[2]);_.SX(H,y+6,Z[3]);y+=8;_.SX(H,y+0,X[0]);_.SX(H,y+2,X[1]);
_.SX(H,y+4,X[2]);y+=6}return p};function fE(){}fE.ux=function(E){var y=new Uint8Array(E),c=2,e=[];for(var N=0;
N<29;N++){var p=[];e.push(p);for(var H=0;H<5;H++)p.push(_.dT(y,c+N*10+H*2))}c+=29*10;if(c<y.length){var Z=_.xY(y,c,4);
c+=4;var X=_.dT(y,c);c+=2;var b=_.dT(y,c);c+=2;var k=b-29;for(var N=0;N<k;N++){var p=[];e.push(p);for(var H=0;
H<5;H++)p.push(_.dT(y,c+N*10+H*2))}}var D=cN.TL("levl");for(var N=0;N<4;N++)fE.UL(D,N,e[N]);return D};
fE.Tn=function(E,N){var y=["Cmps","Rd","Grn","Bl"],c={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:y[N]}}]};
return{classID:E,Chnl:c}};fE.jx=function(E,y){var c={Cmps:0,Rd:1,Grn:2,Bl:3};for(var N=0;N<E.length;
N++){var e=E[N].v,p=c[e.Chnl.v[0].v.enum];if(p==y)return N}return-1};fE.UL=function(E,y,c){var e=fE.Tn("LvlA",y);
e.Inpt={t:"VlLs",v:[{t:"long",v:c[0]},{t:"long",v:c[1]}]};e.Otpt={t:"VlLs",v:[{t:"long",v:c[2]},{t:"long",v:c[3]}]};
e.Gmm={t:"doub",v:c[4]/100};e={t:"Objc",v:e};var p=E.Adjs.v,H=fE.jx(p,y);if(H==-1)p.push(e);else p[H]=e};
fE.PM=function(E,y){var c=[0,255,0,255,100],e=E.Adjs.v,p=fE.jx(e,y);if(p==-1)return c;var H=e[p].v;if(H.Inpt){c[0]=H.Inpt.v[0].v;
c[1]=H.Inpt.v[1].v}if(H.Otpt){c[2]=H.Otpt.v[0].v;c[3]=H.Otpt.v[1].v}if(H.Gmm){c[4]=Math.round(H.Gmm.v*100)}return c};
fE.iF=function(E,y){var c=[],e=0;for(var N=0;N<4;N++)c.push(fE.PM(y,N));while(c.length<29)c.push([0,255,0,255,100]);
E._Z(0,2+10*29);_.L8(E.data,e,2);e+=2;for(var N=0;N<29;N++){var p=c[N];for(var H=0;H<5;H++)_.L8(E.data,e+N*10+H*2,p[H])}e+=29*10;
if(c.length==29)return e;E._Z(e,8+10*(c.length-29));_.bv(E.data,e,"Lvls");e+=4;_.L8(E.data,e,3);e+=2;
_.L8(E.data,e,c.length);e+=2;var Z=c.length-29;for(var N=0;N<Z;N++){var p=c[29+N];for(var H=0;H<5;H++)_.L8(E.data,e+N*10+H*2,p[H])}e+=10*Z;
return e};function c7(){}c7.ux=function(E,y){var c=new Uint8Array(E),e=2,p=y.split("/").pop().split(".")[0],H={iM:[],fJ:[]},Z=_.xY(c,e,4);
e+=4;var X=_.dT(c,e);e+=2;var b=_.q(c,e);e+=4;H.iM=ei.e3(c,e,b);e+=b;var k=_.q(c,e);e+=4;for(var N=0;
N<k;N++){var D=_.q(c,e);e+=4;var j=e,g={Al:{},mp:{}};H.fJ.push(g);e+=4;e+=kC.NL(c,g.Al,e);g.Al.Nm.v=p+"/"+g.Al.Nm.v.split("=").pop();
e+=4;e+=kC.NL(c,g.mp,e);e=j+D;var R=g.mp.blendOptions,t=g.mp.Lefx;if(R&&Object.keys(R.v).length>1){}if(t){if(t.v.masterFXSwitch==null)t.v.masterFXSwitch={t:"bool",v:!0};
dc.FG(t.v)}}return H};c7.Mq=function(E,y){E.Al.Nm.v=y};c7.iF=function(E){var y=new ek,c=0;_.xG(y,c,2);
c+=2;_.cW(y,c,"8BSL");c+=4;_.xG(y,c,3);c+=2;var e=c;c+=4;c=ei.O6(y,c,E.iM);_.w$(y,e,c-e-4);var p=E.fJ.length;
_.w$(y,c,p);c+=4;for(var N=0;N<p;N++){c+=4;var H=c,Z=E.fJ[N];_.w$(y,c,16);c+=4;var X=Z.Al.Nm.v;Z.Al.Nm.v=Z.Al.Nm.v.split("/").pop();
c+=kC.st(y,Z.Al,c);Z.Al.Nm.v=X;var b=Z.mp.Lefx;if(b){Z.mp.Lefx=JSON.parse(JSON.stringify(b));dc.sw(Z.mp.Lefx.v)}_.w$(y,c,16);
c+=4;c+=kC.st(y,Z.mp,c);if(b)Z.mp.Lefx=b;_.w$(y,H-4,c-H)}return y.data.slice(0,c).buffer};function gp(){}gp._4=function(E,y,c){var e=_.dT(E,y);
y+=2;var p={};p.R7=_.dT(E,y)==1;y+=2;p.Um=[];for(var N=0;N<10;N++){var H=[];p.Um.push(H);for(var Z=0;
Z<4;Z++)H.push(_.aL(E,y+Z*2));y+=8}var X=cN.TL("selc");X.Mthd.v.CrcM=p.R7?"Absl":"Rltv";for(var N=1;
N<10;N++)gp.UL(X,N-1,p.Um[N]);return X};gp.L0="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
gp.Tn=function(E,N){var y=["Cmps","Rd","Grn","Bl"],c={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:y[N]}}]};
return{classID:E,Chnl:c}};gp.jx=function(E,y){var c=gp.L0;for(var N=0;N<E.length;N++){var e=E[N].v,p=c.indexOf(e.Clrs.v.Clrs);
if(p==y)return N}return-1};gp.UL=function(E,y,c){var e=["Cyn","Mgnt","Ylw","Blck"],p={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:gp.L0[y]}}};
for(var H=0;H<4;H++)p[e[H]]={t:"UntF",v:{type:"#Prc",val:c[H]}};p={t:"Objc",v:p};var Z=E.ClrC.v,X=gp.jx(Z,y);
if(X==-1)Z.push(p);else Z[X]=p};gp.PM=function(E,y){var c=[0,0,0,0],e=E.ClrC.v,p=gp.jx(e,y);if(p==-1)return c;
var H=["Cyn","Mgnt","Ylw","Blck"];for(var N=0;N<4;N++)if(e[p].v[H[N]])c[N]=e[p].v[H[N]].v.val;return c};
gp.pJ=function(E,y,c){var e={R7:c.Mthd.v.CrcM=="Absl",Um:[[0,0,0,0]]};for(var N=0;N<9;N++)e.Um.push(gp.PM(c,N));
E._Z(y,84);_.L8(E.data,y,1);y+=2;_.L8(E.data,y,e.R7?1:0);y+=2;for(var N=0;N<10;N++){var p=e.Um[N];for(var H=0;
H<4;H++)_.SX(E.data,y+H*2,p[H]);y+=8}return 84};function dD(){}dD.TL=function(){return{Mj:new ir(0,0,50,50),Al:"",Iz:"play",X:d.o.M1.hr([.1,.1,.9,.5,.1,.9],0)}};
dD.ux=function(E,y){E=new Uint8Array(E);var c=0,e=[],p=y.split("/").pop().split(".")[0],H=Date.now(),Z=_.xY(E,0,4);
c+=4;var X=_.q(E,c);c+=4;var b=_.q(E,c);c+=4;for(var N=0;N<b;N++){var k=_.Nm(E,c);c+=k.length*2+4+2;
if((k.length&1)==0)c+=2;c=dD.axK(E,c,k,e);e[N].Iz=p+"/"+e[N].Iz}return e};dD.axK=function(E,y,c,e){var p=_.q(E,y);
y+=4;var H=_.q(E,y);y+=4;var Z=y,X=_.Fq(E,Z).$f;Z+=X.length+1;var b=_.SY(E,Z);Z+=16;var k=dD.jv(E,Z,H-(Z-y)),D=d.o.rC(k),j=d.A.n7(D),g=1/j.m,R=1/j.e;
d.o.dg(k,new jr(g,0,0,R,-j.x*g,-j.y*R));e.push({Iz:c,Al:X,X:k,Mj:b});y+=H;return y};dD.Mq=function(E,y){E.Iz=y};
dD.iF=function(E){var y=new ek,c=0;_.cW(y,c,"cush");c+=4;_.w$(y,c,2);c+=4;_.w$(y,c,E.length);c+=4;for(var N=0;
N<E.length;N++){var e=E[N],p=e.Iz.split("/").pop()+"\0";_.Vr(y,c,p);c+=4+p.length*2;if((p.length&1)==1)c+=2;
_.w$(y,c,1);c+=4;c+=4;var H=c;_.L1(y,c,e.Al);c+=e.Al.length+1;_.K7(y,c,e.Mj);c+=16;y._Z(c,e.X.length*26);
dD.Uq(y.data,c,e.X,1,1);c+=e.X.length*26;var Z=c-H;if((Z&3)!=0)Z+=4-(Z&3);_.w$(y,H-4,Z);c=H+Z}return y.data.slice(0,c).buffer};
dD.aAT=function(E){var y=[];for(var N=0;N<E.length;N++){var c=E[N],e=c.type,p={type:e};y.push(p);if(e==6){}else if(e==8)p.all=c.all;
else if(e==0||e==3){p.length=c.length;p.frule=c.O0;p.third=c.X7;p.prmA=c.cr;p.prmB=c.x9}else{p.c=[c.$0.x,c.$0.y,c.I.x,c.I.y,c.dW.x,c.dW.y]}}return y};
dD.aCS=function(E){var y=[];for(var N=0;N<E.length;N++){var c=E[N],e=c.type,p={type:e};y.push(p);if(e==6){}else if(e==8)p.all=c.all;
else if(e==0||e==3){p.length=c.length;p.O0=c.frule;p.X7=c.third;p.cr=c.prmA;p.x9=c.prmB}else{var H=c.c;
p.$0=new eq(H[0],H[1]);p.I=new eq(H[2],H[3]);p.dW=new eq(H[4],H[5])}}return y};dD.jv=function(E,y,c,e,p){if(e==null)e=1;
if(p==null)p=1;function H(w,B,$){var o=_.avU(w,B)*$,T=Math.round(o);return Math.abs(o-T)<1e-6?T:o}var Z=_.aL,X=[],b=Math.floor(c/26);
for(var N=0;N<b;N++){var k=y+N*26,D={},j=0;X.push(D);D.type=Z(E,k);k+=2;if(D.type==6){j=24}if(D.type==8){D.all=Z(E,k);
k+=2;j=22}if(D.type==0||D.type==3){D.length=Z(E,k);k+=2;D.O0=Z(E,k);k+=2;D.X7=Z(E,k);k+=2;D.cr=_.q(E,k);
k+=4;D.x9=_.q(E,k);k+=4;j=10}if(D.type==1||D.type==2||D.type==4||D.type==5){var g,R;R=H(E,k,p);k+=4;
g=H(E,k,e);k+=4;D.$0=new eq(g,R);R=H(E,k,p);k+=4;g=H(E,k,e);k+=4;D.I=new eq(g,R);R=H(E,k,p);k+=4;g=H(E,k,e);
k+=4;D.dW=new eq(g,R);j=0}for(var t=0;t<j;t++)if(E[k+t]!=0){console.log("Unexpected non-zero byte!",D,t,E[k+t])}}return X};
dD.Uq=function(E,y,c,e,p){var H=_.SX,Z=_.auX,X=c.length;for(var N=0;N<X;N++){var b=y+N*26,k=c[N];H(E,b,k.type);
b+=2;if(k.type==6){}if(k.type==8)H(E,b,k.all);if(k.type==0||k.type==3){H(E,b,k.length);b+=2;H(E,b,k.O0);
b+=2;H(E,b,k.X7);b+=2}if(k.type==1||k.type==2||k.type==4||k.type==5){Z(E,b,k.$0.y/p);b+=4;Z(E,b,k.$0.x/e);
b+=4;Z(E,b,k.I.y/p);b+=4;Z(E,b,k.I.x/e);b+=4;Z(E,b,k.dW.y/p);b+=4;Z(E,b,k.dW.x/e);b+=4}}};function ay(){}ay.ux=function(E){var y=new Uint8Array(E),c=[],e=0;
if(_.xY(y,0,4)=="ASEF")c=ay.aur(y);else{e=ay.a8G(y,e,c);if(e+3<y.length){c=[];e=ay.a8G(y,e,c)}}return c};
ay.aur=function(E){var y=[],c=8,e=_.q(E,c),p,H=null,Z,X,b,k;c+=4;for(var D=0;D<e;D++){var j=_.dT(E,c);
c+=2;var g=_.q(E,c);c+=4;var R=c+g;if(j==49153||j==1){var t=_.dT(E,c);c+=2;var w=_.ZL(E,c,t-1);c+=t*2;
if(j==1)p=w;else H=w}if(j==1){var B=_.xY(E,c,4);c+=4;Z=_.SI(E,c);c+=4;X=_.SI(E,c);c+=4;b=_.SI(E,c);c+=4;
if(B=="RGB "){}else if(B=="CMYK"){k=_.SI(E,c);c+=4;var $=UDOC.C.cmykToRgb([Z,X,b,k]);Z=$[0];X=$[1];b=$[2]}else alert("Unknown color space: "+B);
y.push({Z:Z*255,D:X*255,J:b*255,y6:(H?H+" : ":"")+p})}c=R}return y};ay.a8G=function(E,y,c){var e=_.dT,p=_.aL,H=e(E,y);
y+=2;var Z=e(E,y);y+=2;for(var N=0;N<Z;N++){var X=ay.LF(E,y);y+=10;if(H==2){X.y6=_.Nm(E,y);y+=4+X.y6.length*2+2}c.push(X)}return y};
ay.LF=function(E,y){var c=_.dT,e=_.aL,p=c(E,y),R=null;y+=2;var H=c(E,y);y+=2;var Z=c(E,y);y+=2;var X=c(E,y);
y+=2;var b=c(E,y);y+=2;var k=1/65535,D=255/65535,j=100/65535,g=255/1e4;if(p==0)R={Z:H*D,D:Z*D,J:X*D};
else if(p==1){R=d.mf(H*k,Z*k,X*k);R.Z*=255;R.D*=255;R.J*=255}else if(p==2)R=d.L.yd({classID:"CMYC",Cyn:{t:"doub",v:100-H*j},Mgnt:{t:"doub",v:100-Z*j},Ylw:{t:"doub",v:100-X*j},Blck:{t:"doub",v:100-b*j}});
else if(p==7){var t=d.SS(H/100,e(E,y-6)/100,e(E,y-4)/100);R=t}else if(p==8){R={Z:255-H*g,D:255-Z*g,J:255-X*g}}else if(p==18){var w=255*H/16384;
R={Z:w,D:w,J:w}}else{throw p}return R};ay.iF=function(E){var y=new ek,c=0,e=_.xG;e(y,c,2);c+=2;e(y,c,E.length);
c+=2;for(var N=0;N<E.length;N++){var p=E[N];y._Z(c,10);ay.Z9(y.data,c,p);c+=10;var H=(p.y6?p.y6:"")+"\0";
_.Vr(y,c,H);c+=4+H.length*2}return y.data.slice(0,c).buffer};ay.Mq=function(E,y){E.y6=y};ay.Z9=function(E,y,c){var e=65535/255,p=_.L8;
p(E,y,0);p(E,y+2,Math.round(c.Z*e));p(E,y+4,Math.round(c.D*e));p(E,y+6,Math.round(c.J*e));p(E,y+8,0)};
function ji(){}ji.ux=function(E){var y=new Uint8Array(E),c=4,e={};e.xs=_.Nm(y,c);c+=4+e.xs.length*2+2;
e.exp=y[c++]==1;e.tP=[];var p=_.q(y,c);c+=4;for(var N=0;N<p;N++){var H={};e.tP.push(H);H.h2=_.dT(y,c);
c+=2;H.shift=y[c++]==1;H.aAd=y[c++]==1;H.color=_.dT(y,c);c+=2;H.xs=_.Nm(y,c);c+=4+H.xs.length*2+2;H.exp=y[c++]==1;
H.tP=[];var Z=_.q(y,c);c+=4;for(var X=0;X<Z;X++){var b={};H.tP.push(b);b.exp=y[c++]==1;b.w=y[c++]==1;
b.a6_=y[c++]==1;b.a84=y[c++];var k=_.xY(y,c,4);c+=4;if(k=="TEXT"){b.tT=ji.a5D(y,c);c+=4+b.tT.length}else if(k=="long"){b.tT=_.xY(y,c,4);
c+=4}else throw"e";b.mv=ji.a5D(y,c);c+=4+b.mv.length;var D=_.$G(y,c);c+=4;if(D==-1){b.hG={};var j=kC.NL(y,b.hG,c);
c+=j}}}console.log(e);var g=new Uint8Array(ji.iF(e));for(var N=0;N<g.length;N++)if(g[N]!=y[N]&&_.xY(y,N+1,4)!="None"){console.log(y.length,g.length);
var R=4*(N>>>2)-16;console.log(_.hg(y,R,64));console.log(_.hg(g,R,64));console.log(y.slice(R,R+64));
console.log(g.slice(R,R+64));throw"i"}return[e]};ji.a5D=function(E,y){var c=_.q(E,y);return _.xY(E,y+4,c)};
ji.aw4=function(E,y,c){_.w$(E,y,c.length);_.cW(E,y+4,c)};ji.iF=function(E){var y=new ek,c=0;_.w$(y,c,16);
c+=4;_.Vr(y,c,E.xs+"\0");c+=4+E.xs.length*2+2;y._Z(c,1);y.data[c++]=E.exp?1:0;var e=E.tP.length;_.w$(y,c,e);
c+=4;for(var N=0;N<e;N++){var p=E.tP[N];_.xG(y,c,p.h2);c+=2;y._Z(c,2);y.data[c++]=p.shift?1:0;y.data[c++]=p.aAd?1:0;
_.xG(y,c,p.color);c+=2;_.Vr(y,c,p.xs+"\0");c+=4+p.xs.length*2+2;y._Z(c,1);y.data[c++]=p.exp?1:0;var H=p.tP.length;
_.w$(y,c,H);c+=4;for(var Z=0;Z<H;Z++){var X=p.tP[Z];y._Z(c,4);y.data[c++]=X.exp?1:0;y.data[c++]=X.w?1:0;
y.data[c++]=X.a6_?1:0;y.data[c++]=X.a84;var b="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(X.tT)!=-1;
_.cW(y,c,b?"long":"TEXT");c+=4;if(!b){ji.aw4(y,c,X.tT);c+=4+X.tT.length}else{_.cW(y,c,X.tT);c+=4}ji.aw4(y,c,X.mv);
c+=4+X.mv.length;_.Ye(y,c,X.hG?-1:0);c+=4;if(X.hG){var k=kC.st(y,X.hG,c);c+=k}}}return y.data.slice(0,c).buffer};
function h6(){}h6.ux=function(E){var y=new Uint8Array(E),c=0,e=_.q(y,c),b;c+=4;var p=_.xY(y,c,8);c+=8;
var H=_.gT(y,c);c+=4;var Z=_.gT(y,c);c+=4;var X=_.gT(y,c);c+=4;console.log(H,Z,X);if(e==2){b=new Float32Array(E,32,E.byteLength-32>>>2)}else if(e==3||e==4){b=new Float32Array(Z*X*2);
var k=0,D=0,j=!0;c=e==3?32:16+8+40;while(c<y.length){var g=_.gT(y,c);c+=4;if(j)D+=g;else{for(var N=0;
N<g;N++){b[k+D+N<<1]=_.Q4(y,c);b[(k+D+N<<1)+1]=_.Q4(y,c+4);c+=8}D+=g}j=!j;if(g!=0&&D==Z){k+=Z;D=0;j=!0;
if(k==Z*X)break}}}else throw"unknown Mesh version: "+e;return{Pf:Z,T4:X,map:b}};h6.sa=function(E){var y=E.Pf,c=E.T4,e=E.map,p=new Uint8Array(32+c*y*8+c*8),H=0,Z=0;
_.A$(p,H,3);H+=4;_.bv(p,H,"yfqLhseM");H+=8;_.nI(p,H,2);H+=4;_.nI(p,H,y);H+=4;_.nI(p,H,c);H+=4;_.nI(p,H,0);
H+=4;_.nI(p,H,1);H+=4;for(var X=0;X<c;X++){_.nI(p,H,0);H+=4;_.nI(p,H,y);H+=4;for(var b=0;b<y;b++){_.lS(p,H,e[Z]);
_.lS(p,H+4,e[Z+1]);Z+=2;H+=8}}return p.buffer};function b5(){}b5.ux=function(E){var y=new Uint8Array(E),c=0,e=_.xY(y,c,4);
c+=4;var p=_.dT(y,c);c+=2;var H=_.q(y,c);c+=4;var Z=[];for(var N=0;N<H;N++){var X=_.q(y,c);c+=4;var b={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
Z.push(b);var k=_.Nm(y,c);b.Nm.v=k;c+=4+k.length*2+2;var D=_.dT(y,c);c+=2;var j=_.dT(y,c);c+=2;for(var g=0;
g<j;g++){var R=d.$K.rL(0,0,!0);R.v.Vrtc.v=_.dT(y,c);c+=2;R.v.Hrzn.v=_.dT(y,c);c+=2;b.Crv.v.push(R)}if(X==1){}else if(X==2){for(var g=0;
g<j;g++){b.Crv.v[g].v.Cnty.v=y[c]==1;c+=1}}else throw"error";var t=_.q(y,c);c+=4;var w=_.q(y,c);c+=4}return Z};
b5.Mq=function(E,y){E.Nm.v=y};b5.iF=function(E){var y=new ek,c=0;_.cW(y,c,"8BFS");c+=4;_.xG(y,c,1);c+=2;
_.w$(y,c,E.length);c+=4;for(var N=0;N<E.length;N++){_.w$(y,c,2);c+=4;var e=E[N];_.Vr(y,c,e.Nm.v+"\0");
c+=4+e.Nm.v.length*2+2;_.xG(y,c,2);c+=2;var p=e.Crv.v.length;_.xG(y,c,p);c+=2;for(var H=0;H<p;H++){var Z=e.Crv.v[H];
_.xG(y,c,Z.v.Vrtc.v);c+=2;_.xG(y,c,Z.v.Hrzn.v);c+=2}y._Z(c,p);for(var H=0;H<p;H++){y.data[c]=e.Crv.v[H].v.Cnty.v;
c++}_.w$(y,c,0);c+=4;_.w$(y,c,0);c+=4}return y.data.slice(0,c).buffer};function ei(){}ei.ux=function(E,y){var c=new Uint8Array(E),e=4,p=y.split("/").pop().split(".")[0],H=_.dT(c,e);
e+=2;var Z=_.q(c,e);e+=4;var X=[];for(var N=0;N<Z;N++){var b={};X.push(b);e=ei.ae9(c,e,b);b.name=p+"/"+b.name.split("=").pop()}return X};
ei.Mq=function(E,y){E.name=y};ei.iF=function(E){var y=new ek,c=0;_.cW(y,c,"8BPT");c+=4;_.xG(y,c,1);c+=2;
_.w$(y,c,E.length);c+=4;for(var N=0;N<E.length;N++){var e=E[N],p=e.name;e.name=e.name.split("/").pop();
c=ei.abL(y,c,e);e.name=p}return y.data.slice(0,c).buffer};ei.e3=function(E,y,c){var e=y+c,p=[];while(y<e){var H={},Z=_.q(E,y);
y+=4;var X=y;y=ei.ae9(E,y,H);if(!H.Gi[1].tj())p.push(H);if(Z%4!=0)Z+=4-Z%4;y=X+Z}return p};ei.O6=function(E,y,c){for(var N=0;
N<c.length;N++){var e=c[N];y+=4;var p=y;y=ei.abL(E,y,e);var H=y-p;_.w$(E,p-4,H);if(H%4!=0)p+=4-H%4;y=p+H}return y};
ei.ae9=function(E,y,c){var e=_.q(E,y);y+=4;if(e!=1)alert("Unknown version of pattern");var p=_.q(E,y);
y+=4;if(p!=1&&p!=2&&p!=3)console.log("Unsupported mode of pattern: "+p);var H=_.dT(E,y);y+=2;var Z=_.dT(E,y);
y+=2;var X=new ir(0,0,Z,H);c.name=_.Nm(E,y);y+=4+2*c.name.length+2;var b=E[y];y++;c.id=_.xY(E,y,b);y+=c.id.length;
var k=-1;if(p==2){k=y;y+=3*256+4}var D=new d.Ay(Z*H);y=ei.ajv(E,y,D);if(p==2){for(var N=0;N<D.Z.length;
N++){var j=3*D.Z[N];D.Z[N]=E[k+j+0];D.D[N]=E[k+j+1];D.J[N]=E[k+j+2]}}var g=d.R(X.P()*4);d.Dc(D,g);c.Gi=[g,X];
return y};ei.abL=function(E,y,c){var e=c.Gi[0],p=c.Gi[1];_.w$(E,y,1);y+=4;_.w$(E,y,3);y+=4;_.xG(E,y,p.e);
y+=2;_.xG(E,y,p.m);y+=2;_.Vr(E,y,c.name+"\0");y+=4+2*c.name.length+2;_.Bz(E,y,c.id.length);y++;_.cW(E,y,c.id);
y+=c.id.length;var H=new d.Ay(p.P());d.Rk(e,H);y=ei.aj5(E,y,H,p);return y};ei.ajv=function(E,y,c){var e=y,p={k4:null,V:[],a8s:null,Gw:null},H=_.q(E,y);
y+=4;var Z=_.q(E,y);y+=4;p.k4=_.SY(E,y);y+=16;var X=_.q(E,y);y+=4;for(var N=0;N<X+2;N++){var b=_.q(E,y);
y+=4;if(b==0)continue;var k=_.q(E,y);y+=4;if(k==0)continue;var D=_.q(E,y);y+=4;var j=_.SY(E,y);y+=16;
var g=_.dT(E,y);y+=2;var R=E[y];y++;var t=eH.ji(!1,D,E,j.m,j.e,y,R);if(N<X)p.V.push(t);if(N==X)p.a8s=t;
if(N==X+1)p.Gw=t;y+=k-23}if(!p.k4.tj()){if(p.V[0])c.Z=p.V[0];if(p.V[1])c.D=p.V[1];else c.D=p.V[0].slice(0);
if(p.V[2])c.J=p.V[2];else c.J=p.V[0].slice(0);if(p.Gw)c.U=p.Gw;else c.U.fill(255)}return y};ei.aj5=function(E,y,c,e){var p=y,H={k4:e,V:[c.Z,c.D,c.J],a8s:null,Gw:c.U};
_.w$(E,y,3);y+=4;_.w$(E,y,0);y+=4;_.K7(E,y,e);y+=16;_.w$(E,y,24);y+=4;for(var N=0;N<24+2;N++){var Z=y,X=N<3||N==25?1:0;
_.w$(E,y,X);y+=4;if(X==0)continue;_.w$(E,y,0);y+=4;_.w$(E,y,8);y+=4;_.K7(E,y,e);y+=16;_.xG(E,y,8);y+=2;
_.Bz(E,y,1,1);y++;var b=N<3?H.V[N]:H.Gw;E._Z(y,e.P()+2);y=eH.nv(!1,b,E.data,e.m,e.e,y,1);_.w$(E,Z+4,y-Z-8)}_.w$(E,p+4,y-p-8);
return y};function eg(){}eg.ux=function(E,y){var c=new Uint8Array(E),p=0;if(c[0]==71)return eg.abF(c);
var e=y.split("/").pop().split(".")[0],H=_.xY(c,p,4);p+=4;var Z=_.dT(c,p);p+=2;var X=[];if(Z<=3){var b=_.dT(c,p);
p+=2;for(var N=0;N<b;N++){var k=c[p++],D=_.xY(c,p,k);p+=k;var j=eg.aE2(c,p,D),g=j[0];p=j[1];X.push(g)}}else{var j={},R=kC.NL(c,j,p+4),t=j.GrdL.v;
for(var N=0;N<t.length;N++)X[N]=t[N].v.Grad.v}for(var N=0;N<X.length;N++){var w=X[N].Nm.v.split("/").pop().split("=").pop();
X[N].Nm.v=e+"/"+w}return X};eg.Mq=function(E,y){E.Nm.v=y};eg.iF=function(E){var y=new ek,c=0;_.cW(y,c,"8BGR");
c+=4;_.xG(y,c,5);c+=2;_.w$(y,c,16);c+=4;var e={classID:"null",GrdL:{t:"VlLs",v:[]}},p=e.GrdL.v;for(var N=0;
N<E.length;N++){var H=JSON.parse(JSON.stringify(E[N]));H.Nm.v=H.Nm.v.split("/").pop();p[N]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:H}}}}c+=kC.st(y,e,c);
return y.data.slice(0,c).buffer};eg.aE2=function(E,y,c){var e={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:c},Trns:{t:"VlLs",v:[]}},p=_.dT(E,y);
y+=2;if(p==0)throw"e";for(var N=0;N<p;N++){var H=_.q(E,y),Z=_.q(E,y+4),X=ay.LF(E,y+8),b={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:X.Z},Grn:{t:"doub",v:X.D},Bl:{t:"doub",v:X.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:H},Mdpn:{t:"long",v:Z}}};
e.Clrs.v.push(b);y+=20}var k=_.dT(E,y);y+=2;for(var N=0;N<k;N++){var H=_.q(E,y),Z=_.q(E,y+4),D=_.dT(E,y+8),b={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*D/255)}},Lctn:{t:"long",v:H},Mdpn:{t:"long",v:Z}}};
e.Trns.v.push(b);y+=10}var j=_.dT(E,y);y+=2;e.Intr.v=j==2?_.dT(E,y):4096;y+=2;var g=_.dT(E,y);y+=2;return[e,y]};
eg.at3=function(E,y,c){var e=c.Clrs.v.length;_.xG(E,y,e);y+=2;for(var N=0;N<e;N++){var p=c.Clrs.v[N];
_.w$(E,y,p.v.Lctn.v);_.w$(E,y+4,p.v.Mdpn.v);_.xG(E,y+8,0);var H=d.L.hp(d.L.yd(p.v.Clr.v)),Z=[H.Rd.v,H.Grn.v,H.Bl.v,0];
for(var X=0;X<4;X++)_.xG(E,y+10+X*2,Math.round(65535*(Z[X]/255)));y+=20}var b=c.Trns.v.length;_.xG(E,y,b);
y+=2;for(var N=0;N<b;N++){var p=c.Trns.v[N];_.w$(E,y,p.v.Lctn.v);_.w$(E,y+4,p.v.Mdpn.v);_.xG(E,y+8,Math.round(255*p.v.Opct.v.val/100));
y+=10}_.xG(E,y,2);y+=2;_.xG(E,y,c.Intr.v);y+=2;_.xG(E,y,32);y+=2;return y};eg.abF=function(E){var y=_.Uw(E,0,E.length).split("\n"),c=parseFloat(y[2]),e=[],p=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]).Grad.v;
p.Intr.v=0;p.Nm.v=y[1];for(var N=0;N<c;N++){var H=y[3+N].split(" ").map(parseFloat),Z=H[11],X=H[12];
e.push([H[0],H.slice(3,6),H[6]]);if(X!=0){var b=d.vb(H[3],H[4],H[5]),k=d.vb(H[7],H[8],H[9]),D=b.T4,j=k.T4;
if(X==1&&D>j)j++;if(X==2&&D<j)D++;var g=Math.round(Math.abs(j-D)*7);if(g>1)for(var R=0;R<g;R++){var t=1-(R+1)/(g+1),w=1-t,B=d.mf(t*D+w*j,t*b.az+w*k.az,t*b.XR+w*k.XR);
e.push([t*H[0]+w*H[2],[B.Z,B.D,B.J],t*H[6]+w*H[10]])}}e.push([H[2],H.slice(7,10),H[10]])}e.sort(function($,o){return $[0]-o[0]});
d.L.Ll(e,p);return[p]};function jV(){}jV.ux=function(E){var y=new Uint8Array(E),c=[],e=[],p=[],H=[],Z=[],X=0,b=_.xY(y,X,4);
X+=4;var k=_.q(y,X);X+=4;var D=_.q(y,X);X+=4;while(X<y.length){var j=_.xY(y,X,4);X+=4;var g=_.xY(y,X,4);
X+=4;var R=_.q(y,X);X+=4;if(g=="tppa"){e=ei.e3(y,X,R);X+=R}else if(g=="tpbd"){p=f$.a3a(y,X,R,1,1);X+=R}else if(g=="tptp"){var t=_.q(y,X);
X+=4;for(var N=0;N<t;N++){var w=_.Nm(y,X);X+=6+w.length*2;X+=4;var B={};X+=kC.NL(y,B,X);c.push([w,B])}while((X&3)!=0)X++}else if(g=="tpsh"){var $=X,o=y.slice(X,X+R);
while(X<$+R){var T=_.q(y,X);X+=4;X=dD.axK(y,X,"Shape",H)}X=$+R}else if(g=="tpst"){var $=X;X+=4;while(X<$+R){var i=_.q(y,X);
X+=4;var r=X,I=_.q(y,X);X+=4;var B={Al:{},mp:{}};Z.push(B);X+=4;X+=kC.NL(y,B.Al,X);X+=4;X+=kC.NL(y,B.mp,X);
X=r+i;var M=B.mp.Lefx;if(M){if(M.v.masterFXSwitch==null)M.v.masterFXSwitch={t:"bool",v:!0};dc.FG(M.v)}}X=$+R}else{console.log(y.slice(X-8,X+64));
console.log(_.xY(y,X-8,64));throw g}}return{b6:p,XQ:e,list:c,a3u:H,fJ:Z}};jV.Mq=function(E,y){E[0]=y};
jV.iF=function(E){var y=new ek,c=0;_.cW(y,c,"8BTP");c+=4;_.w$(y,c,3);c+=4;_.w$(y,c,1);c+=4;var e=[E.XQ,E.b6,E.list];
for(var N=0;N<3;N++){if(e[N].length==0)continue;_.cW(y,c,"8BIM");c+=4;var p=["tppa","tpbd","tptp"][N];
_.cW(y,c,p);c+=4;var H=c;c+=4;if(p=="tppa"){c=ei.O6(y,c,E.XQ)}else if(p=="tpbd"){c=f$.ajJ(y,c,E.b6)}else if(p=="tptp"){_.w$(y,c,E.list.length);
c+=4;for(var Z=0;Z<E.list.length;Z++){var X=E.list[Z];_.Vr(y,c,X[0]+"\0");c+=6+X[0].length*2;_.w$(y,c,16);
c+=4;c+=kC.st(y,X[1],c)}}_.w$(y,H,c-H-4);while((c&3)!=0)c++;y._Z(c,0)}return y.data.slice(0,c).buffer};
function f9(){}f9.ux=function(E,y){var c=new Uint8Array(E),e;if(_.q(c,0)==c.length)e="icc";else if(c[0]=="<".charCodeAt(0))e="look";
else if(_.h6(c,"LUT_3D_SIZE")!=-1)e="cube";else e="3DL";if(e!="icc"){var p=f9.awg(c,e),H=f9.az5(p[0],p[1]);
c=H}var Z=[];for(var N=0;N<c.length;N++)Z.push(c[N]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:y?y:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:Z}}]};
f9.iF=function(E){var y=E[0],c=new Uint8Array(y.profile.v);return c.buffer};f9.Mq=function(E,y){E.Nm.v=y};
f9.az5=function(E,y){var c=new ek,e=128;c._Z(0,128);var p=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var N=0;N<p.length;N++)c.data[N]=p[N];var H=["desc","A2B0"],Z=H.length,X=128+4+Z*12;_.w$(c,e,Z);
e+=4;for(var b=0;b<Z;b++){var k=H[b];_.cW(c,e,k);e+=4;_.w$(c,e,X);e+=4;var D=X;if(k=="desc"){_.cW(c,D,"mluc");
D+=4;D+=4;_.w$(c,D,1);D+=4;_.w$(c,D,12);D+=4;_.cW(c,D,"enUS");D+=4;var j="ICC by Photopea\0",g=j.length*2+2;
_.w$(c,D,g);D+=4;_.w$(c,D,28);D+=4;c._Z(D,g);for(var N=0;N<j.length;N++)c.data[D+N*2+1]=j.charCodeAt(N);
D+=g}if(k=="A2B0"){_.cW(c,D,"mAB ");D+=4;D+=4;c._Z(D,4);c.data[D]=3;c.data[D+1]=3;D+=4;c._Z(D,4*5);D+=4*3;
_.w$(c,D,D+8-X);D+=4;D+=4;c._Z(D,20);c.data[D]=E;c.data[D+1]=E;c.data[D+2]=E;D+=16;c.data[D]=2;D+=4;
var R=E*E*E*3;c._Z(D,R*2);for(var N=0;N<R;N++)_.L8(c.data,D+N*2,Math.max(0,Math.min(65535,Math.round(y[N]*65535))));
D+=R*2}var t=D-X;while((t&3)!=0)t++;_.w$(c,e,t);e+=4;X+=t}_.w$(c,0,X);return c.data.slice(0,X)};f9.awg=function(E,y){y="LUTFormat"+y.toUpperCase();
var c=[],e=0,p=_.Uw(E,0,E.length),H="";for(var N=0;N<E.length&&H=="";N++){if(E[N]==10)H="\n";else if(E[N]==13){H="\r";
if(E[N+1]==10)H+="\n"}}if(y=="LUTFormatCUBE"){var Z=p.split(H);for(var N=0;N<Z.length;N++){if(Z[N]==""||Z[N][0]=="#")continue;
var X=Z[N].split(" "),b=X[0];if(b=="LUT_3D_SIZE"){e=parseInt(X[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(b)!=-1)continue;
c.push(parseFloat(X[0]),parseFloat(X[1]),parseFloat(X[2]))}c=f9.as5(e,c)}else if(y=="LUTFormat3DL"){var Z=p.split(H),k=1/4095;
for(var N=0;N<Z.length;N++){var D=Z[N];if(D==""||D=="3DMESH"||D.startsWith("Mesh")||D[0]=="#")continue;
var X=D.split(" "),b=X[0];if(e==0){e=X.length;continue}c.push(parseFloat(X[0])*k,parseFloat(X[1])*k,parseFloat(X[2])*k)}}else if(y=="LUTFormatLOOK"){var j=new DOMParser,g=j.parseFromString(p,"text/xml"),R=g.getElementsByTagName("LUT")[0],t=R.children[0].textContent;
e=parseInt(JSON.parse(t));var w=R.children[1].textContent;w=w.replace(/"/g,"").replace(/\s/g,"");var B=3*e*e*e,$=B*4,o=new Uint8Array($);for(var N=0;N<$;N++){var T=w.charCodeAt(N*2),i=w.charCodeAt(N*2+1),r=T<58?T-48:T-55,I=i<58?i-48:i-55;o[N]=(r<<4)+I}for(var N=0;N<B;N++)c.push(_.Q4(o,N<<2));c=f9.as5(e,c)}else throw y;return[e,c]};f9.aox=function(E,y,c){var e=["#Created by www.Photopea.com","TITLE \""+c+"\"","","#LUT size","LUT_3D_SIZE "+y,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],p=6;
for(var N=0;N<E.length;N+=3){e.push(E[N].toFixed(p)+" "+E[N+1].toFixed(p)+" "+E[N+2].toFixed(p))}e.push("");
return _.vx(e.join("\n")).buffer};f9.as5=function(E,y){var c=[],e=E*E*E;for(var N=0;N<e;N++)c.push(0,0,0);
for(var p=0;p<E;p++)for(var H=0;H<E;H++)for(var Z=0;Z<E;Z++){var N=3*(Z+H*E+p*E*E),X=3*(p+H*E+Z*E*E);
c[X]=y[N];c[X+1]=y[N+1];c[X+2]=y[N+2]}return c};function kC(){}kC.NL=function(E,y,c,e,p){var H=c,Z;if(p==null)p=0;
var X=_.q(E,c);if(X==0){Z="";c+=4}else{Z=_.Nm(E,c);c+=4+2*Z.length+2}if(Z!="")y.__name=Z;y.classID=kC.Yf(E,c);
if(e)console.log("\t".repeat(p),"- reading descriptor",y.classID,c);c+=kC.q4(E,c);var b=_.$G(E,c);c+=4;
for(var N=0;N<b;N++){var k=kC.Yf(E,c);c+=kC.q4(E,c);var D=kC.ank(E,c,e,p);y[k]=D;c+=D.size;delete D.size}return c-H};
kC.st=function(E,y,c,e){var p=c,H=y.__name;if(H==null)H="";H+="\0";_.Vr(E,c,H);c+=4+2*H.length;kC.Ia(E,c,y.classID);
c+=kC.q4(E.data,c);_.Ye(E,c,Object.keys(y).length-1-(y.__name==null?0:1));c+=4;for(var Z in y){if(Z=="classID")continue;
if(Z=="__name")continue;kC.Ia(E,c,Z);c+=kC.q4(E.data,c);c+=kC.azg(E,c,y[Z])}return c-p};kC.ank=function(E,y,c,e){var p=y,H=_.xY(E,y,4);
y+=4;var Z={size:0,t:H,v:null};if(c)console.log("\t".repeat(e),"reading key",H,p);switch(H){case"obj ":case"VlLs":Z.v=[];
var X=_.q(E,y);y+=4;for(var N=0;N<X;N++){var b=kC.ank(E,y,c,e+1);y+=b.size;delete b.size;Z.v.push(b)}break;
case"UntF":Z.v={type:_.xY(E,y,4),val:_.ct(E,y+4)};y+=12;break;case"doub":Z.v=_.ct(E,y);y+=8;break;case"bool":Z.v=E[y]==1;
y+=1;break;case"long":Z.v=_.$G(E,y);y+=4;break;case"comp":Z.v=_.$G(E,y+4);y+=8;break;case"Objc":Z.v={};
var k=kC.NL(E,Z.v,y,c,e+1);y+=k;break;case"TEXT":var D=_.q(E,y);if(D==0){Z.v="";y+=4}else{Z.v=_.Nm(E,y);
y+=4+Z.v.length*2+2}break;case"enum":var j=kC.Yf(E,y);y+=kC.q4(E,y);var g=kC.Yf(E,y);y+=kC.q4(E,y);Z.v={};
Z.v[j]=g;break;case"tdta":var R=_.$G(E,y);y+=4;Z.v=[];for(var N=0;N<R;N++)Z.v.push(E[y+N]);y+=R;break;
case"ObAr":var t=_.q(E,y);y+=4;var w=_.Nm(E,y);y+=4+2*w.length+2;if(w!="")throw w;var B=kC.Yf(E,y);y+=4+Math.max(4,B.length);
Z.v={classID:B,arr:[]};var $=_.q(E,y);y+=4;for(var N=0;N<$;N++){var B=kC.Yf(E,y);y+=4+Math.max(4,B.length);
var j=_.xY(E,y,4);y+=4;var o=_.xY(E,y,4);y+=4;var T={id:B,type:j,uID:o,arr:[]};Z.v.arr.push(T);var i=_.q(E,y,4);
y+=4;for(var r=0;r<i;r++){var I=_.ct(E,y);y+=8;T.arr.push(I)}}break;case"Pth ":var M=y,R=_.q(E,y);y+=4;
var J=_.xY(E,y,4);y+=4;var P=_.gT(E,y);y+=4;var n=_.adK(E,y);y+=4+n.length*2;Z.v={sig:J,pth:n};break;
case"Clss":case"type":case"rele":var n=_.Nm(E,y);y+=4+n.length*2+2;var x=kC.Yf(E,y);y+=4+Math.max(4,x.length);
Z.v={classID:x};if(n!="")Z.v.__name=n;if(H=="rele"){Z.v.val=_.$G(E,y);y+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var L=kC.Gh[H],n=_.Nm(E,y);
y+=4+n.length*2+2;if(n.length!=0){console.log(H,n);throw"e"}Z.v={};for(var N=0;N<L.length;N++){var x=kC.Yf(E,y);
y+=4+Math.max(4,x.length);Z.v[L[N]]=x}if(H=="name"){var n=_.Nm(E,y);y+=4+n.length*2+2;Z.v.val=n}if(H=="indx"||H=="Idnt"){Z.v.val=_.q(E,y);
y+=4}break;case"alis":var R=_.q(E,y);y+=4;Z.v=_.xY(E,y,R);y+=R;break;default:{console.log("unknown oskey: "+H+", "+p);
throw"e";return Z}}if(c){console.log("\t".repeat(e),Z.v);console.log("\t".repeat(e),"======",y)}Z.size=y-p;
return Z};kC.Gh={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
kC.azg=function(E,y,c){var e=y,p=c.t;c=c.v;_.cW(E,y,p);y+=4;switch(p){case"obj ":case"VlLs":_.Ye(E,y,c.length);
y+=4;for(var H=0;H<c.length;H++){var Z=kC.azg(E,y,c[H]);y+=Z}break;case"UntF":_.cW(E,y,c.type);_.zV(E,y+4,c.val);
y+=12;break;case"doub":_.zV(E,y,c);y+=8;break;case"bool":_.Bz(E,y,c?1:0,1);y+=1;break;case"long":_.Ye(E,y,c);
y+=4;break;case"comp":_.Ye(E,y+4,c);y+=8;break;case"Objc":var Z=kC.st(E,c,y);y+=Z;break;case"TEXT":_.Vr(E,y,c+"\0");
y+=4+c.length*2+2;break;case"enum":var X=Object.keys(c)[0],b=c[X];kC.Ia(E,y,X);y+=kC.q4(E.data,y);kC.Ia(E,y,b);
y+=kC.q4(E.data,y);break;case"tdta":_.w$(E,y,c.length);y+=4;_.dZ(E,y,c);y+=c.length;break;case"ObAr":_.w$(E,y,c.arr[0].arr.length);
y+=4;_.Vr(E,y,"\0");y+=6;kC.Ia(E,y,c.classID);y+=4+Math.max(4,c.classID.length);_.w$(E,y,c.arr.length);
y+=4;for(var N=0;N<c.arr.length;N++){var k=c.arr[N];kC.Ia(E,y,k.id);y+=4+Math.max(4,k.id.length);_.cW(E,y,k.type);
y+=4;_.cW(E,y,k.uID);y+=4;_.w$(E,y,k.arr.length);y+=4;for(var H=0;H<k.arr.length;H++){_.zV(E,y,k.arr[H]);
y+=8}}break;case"Pth ":var D=c.pth.length*2+4+8;_.w$(E,y,D);y+=4;_.cW(E,y,c.sig);y+=4;_.wR(E,y,D);y+=4;
_.abh(E,y,c.pth);y+=c.pth.length*2+4;break;case"Clss":case"type":case"rele":var j=c.__name;if(j==null)j="";
_.Vr(E,y,j+"\0");y+=4+j.length*2+2;var g=c.classID;kC.Ia(E,y,g);y+=4+Math.max(4,g.length);if(p=="rele"){_.Ye(E,y,c.val);
y+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var R=kC.Gh[p];_.w$(E,y,1);y+=6;for(var N=0;
N<R.length;N++){var g=c[R[N]];kC.Ia(E,y,g);y+=4+Math.max(4,g.length)}if(p=="name"){_.Vr(E,y,c.val+"\0");
y+=4+c.val.length*2+2}if(p=="indx"||p=="Idnt"){_.w$(E,y,c.val);y+=4}break;case"alis":var D=c.length;
_.w$(E,y,D);y+=4;_.cW(E,y,c);y+=D;break;default:console.log("unknown oskey: "+p);y=e;break}return y-e};
kC.Yf=function(E,y){var c=_.$G(E,y);if(c>1e3)throw"e";if(c==0)c=4;return _.xY(E,y+4,c).trim()};kC.q4=function(E,y){var c=_.$G(E,y);
return c==0?8:4+c};kC.Ia=function(E,y,c){var e="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),p=4<c.length||e.indexOf(c)!=-1;
_.Ye(E,y,p?c.length:0);_.cW(E,y+4,c);if(c.length<4&&!p){var H="";for(var N=c.length;N<4;N++)H+=" ";_.cW(E,y+4+c.length,H)}};
kC.aoL=function(E){var y={};for(var c in E){if(c=="classID")y[c]=E[c];else if(c=="__name")y[c]=E[c];
else y[c]=kC.a1z(E[c])}return y};kC.a1z=function(E){if(E.V4=="Objc")return kC.aoL(E.v);else if(E.V4=="VlLs"){var y=[];
for(var N=0;N<E.v.length;N++)y.push(kC.a1z(E.v[N]));return y}else if(E.V4=="UntF")return E.v.val;else return E.v};
function dc(){}dc.awJ=function(E,y,c,e,p,H){while(y<c){var Z=_.xY(E,y,4);y+=4;if(Z!="8BIM"&&Z!="8B64"){console.log("layer information signature error! "+Z,"PSB = "+p);
alert("Error in PSD file: wrong signature.");return c}var X=_.xY(E,y,4);y+=4;var b=_.q(E,y);y+=4;var k=p&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(X)!=-1;
if(k){b=b<<32|_.$G(E,y);y+=4}var D=["lrFX","PlLd"];if(D.indexOf(X)!=-1){if(b%4!=0)b+=4-b%4;y+=b;continue}switch(X){case"iOpa":e[X]=E[y];
break;case"brst":e[X]=[1,1,1];for(var N=0;N<b;N+=4)e[X][_.q(E,y+N)]=0;break;case"knko":e[X]=E[y];break;
case"infx":e[X]=E[y];break;case"clbl":e[X]=E[y];break;case"lmgm":e[X]=E[y];break;case"vmgm":e[X]=E[y];
break;case"fcmy":e[X]=E[y];break;case"lyid":e[X]=_.q(E,y);break;case"lsct":e[X]={type:_.q(E,y)};if(b>=12)e[X].ur=_.xY(E,y+8,4);
break;case"lsdk":e.lsct={type:_.q(E,y)};break;case"lyvr":e[X]=_.q(E,y);break;case"lnsr":var j={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
e[X]=_.xY(E,y,4);break;case"lspf":e[X]=_.q(E,y);break;case"lclr":e[X]=_.dT(E,y);break;case"luni":e[X]=_.ro(E,y);
break;case"fxrp":e[X]=new eq(_.ct(E,y),_.ct(E,y+8));break;case"artb":case"artd":e[X]={};kC.NL(E,e[X],y+4);
break;case"SoCo":e[X]={};kC.NL(E,e[X],y+4);break;case"GdFl":e[X]={};kC.NL(E,e[X],y+4);dc.La(e[X],X);
break;case"PtFl":e[X]={};kC.NL(E,e[X],y+4);dc.La(e[X],X);break;case"CgEd":e[X]={};kC.NL(E,e[X],y+4);
break;case"brit":var g=e.brit=cN.TL("brit"),R={};g.Brgh.v=_.aL(E,y);g.Cntr.v=_.aL(E,y+2);g.useLegacy.v=!0;
break;case"levl":var t=E.buffer.slice(y,y+b);e[X]=fE.ux(t);break;case"curv":e[X]=gG._4(E,y,b);break;
case"expA":var w=_.dT(E,y),B=e[X]=cN.TL("expA");B.Exps.v=_.SI(E,y+2);B.Ofst.v=_.SI(E,y+6);B.gammaCorrection.v=_.SI(E,y+10);
break;case"vibA":e[X]={};kC.NL(E,e[X],y+4);break;case"hue2":e[X]=b0._4(E,y,b);break;case"blnc":var B=e[X]=cN.TL(X);
B.PrsL.v=E[y+18]==1;var $=["ShdL","MdtL","HghL"];for(var N=0;N<3;N++)for(var o=0;o<3;o++)B[$[N]].v[o].v=_.aL(E,y+N*6+o*2);
break;case"blwh":var T={};kC.NL(E,T,y+4);var B=cN.TL(X),i="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var N=0;N<i.length;N++){B[i[N]]=T[i[N]];delete T[i[N]]}e[X]=B;break;case"phfl":var B=e[X]=cN.TL(X),r=B.Clr.v,w=_.dT(E,y);
if(w==3){var I=[_.q(E,y+2),_.q(E,y+6),_.q(E,y+10)],M=32768,J=d.awr(I[0]/M,I[1]/M,I[2]/M);r.Lmnc.v=J.s3;
r.A.v=J.U;r.B.v=J.J}if(w==2){var P=_.dT(E,y+2);if(P!=7)throw"e";r.Lmnc.v=_.aL(E,y+4)/100;r.A.v=_.aL(E,y+6)/100;
r.B.v=_.aL(E,y+8)/100}var n=y+2+(w==3?12:10);B.Dnst.v=_.q(E,n);n+=4;B.PrsL.v=E[n]==1;break;case"mixr":var x={bo:_.dT(E,y+2)==1,b:[]};
for(var N=0;N<20;N++)x.b.push(_.aL(E,y+4+N*2));e[X]=et.acs(x);break;case"clrL":case"rplc":e[X]={};kC.NL(E,e[X],y+6);
break;case"nvrt":e[X]={};break;case"post":e[X]=cN.TL("post");e[X].Lvls.v=_.dT(E,y);break;case"thrs":e[X]=cN.TL("thrs");
e[X].Lvl.v=_.dT(E,y);break;case"grdm":var L=y,u=_.dT(E,L);L+=2;var C=E[L]==1,h=E[L+1]==1;L+=2;var A=_.xY(E,L,4);
if(A=="Perc"||A=="Gcls"||A=="Lnr "||A=="\0\0\x0B\x1D")L+=4;var W=_.ro(E,L);L+=4+W.length*2;var Q=eg.aE2(E,L,W),l=Q[0];
L=Q[1];var O=_.dT(E,L);L+=2;var z=_.q(E,L);L+=4;var a=_.dT(E,L)==1;L+=2;var m=_.dT(E,L)==1;L+=2;var q=_.q(E,L);
L+=4;var K=_.dT(E,L);L+=2;var U=[],f=[];for(var N=0;N<4;N++){U.push({t:"long",v:~~(_.dT(E,L+N*2)*100/32768)});
f.push({t:"long",v:~~(_.dT(E,L+N*2+8)*100/32768)})}L+=16;var Y=_.dT(E,L);L+=2;if(O==1)l={classID:"Grdn",Nm:{t:"TEXT",v:W},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:a},VctC:{t:"bool",v:m},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:z},Smth:{t:"long",v:q},Mnm:{t:"VlLs",v:U},Mxm:{t:"VlLs",v:f}};
var G=cN.TL("grdm");G.Rvrs.v=C;G.Grad.v=l;e[X]=G;break;case"selc":e[X]=gp._4(E,y,b);break;case"vmsk":case"vsms":var V=e.vmsk=new jN.pU,dF=_.$G(E,y+4),s=(dF>>0&1)==1;
V.PJ=(dF>>1&1)==0;V.isEnabled=(dF>>2&1)==0;V.X=dD.jv(E,y+8,b-8,H.m,H.e);break;case"shmd":e[X]={};var aH=_.q(E,y),n=y+4;
for(var N=0;N<aH;N++){var Z=_.xY(E,n,4);n+=4;var dw=_.xY(E,n,4);n+=4;var kO=E[n];n++;if(Math.max(E[n],E[n+1])!=0)throw"e";
n+=3;var hX=_.q(E,n);n+=4;if(dw=="cust"||dw=="cmls"||dw=="extn"||dw=="mlst"){var jF=_.q(E,n);if(jF!=16)n+=4;
if(_.q(E,n)==16){var T={};kC.NL(E,T,n+4,!1);e[X][dw]=T;if(dw=="cmls")F.tX.a89(e[X][dw])}}else{console.log("unknown shmd key: "+dw+", size: "+hX)}n+=hX}break;
case"shpa":var w=_.q(E,y),gn=_.q(E,y+4);if(gn!=0)console.log("some patterns present!");break;case"TySh":var hM=e[X]={},w=_.dT(E,y);
hM.u=_.nq(E,y+2);var ie=_.dT(E,y+2+48);hM.EG={};try{var bN=kC.NL(E,hM.EG,y+56)}catch(b4){e[X]=null;break}var kd=gV.aa7();
for(var i7 in kd)if(hM.EG[i7]==null)hM.EG[i7]=kd[i7];hM.RO={};var dn=kC.NL(E,hM.RO,y+56+bN+6);hM.dz=_.ajL(E,y+56+bN+6+dn);
hM.Ax=bR.ux(hM.EG.EngineData.v);gV.amV(hM.Ax.EngineDict.StyleRun.RunArray);if(hM.Ax.ResourceDict==null)hM.Ax.ResourceDict=JSON.parse(JSON.stringify(hM.Ax.DocumentResources));
delete hM.EG.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var ew=_.q(E,y),e4=_.q(E,y+4);e.lmfx={};
var bN=kC.NL(E,e.lmfx,y+8);dc.FG(e.lmfx);break;case"FMsk":e[X]=_.kf(E,y,b);break;case"Txt2":e[X]={};
e[X].raw=_.kf(E,y,b);e[X].jc=i9.ux(e[X].raw);break;case"Patt":e[X]=ei.e3(E,y,b);break;case"SoLd":var eE=_.xY(E,y,4),jc=_.q(E,y+4),ft=_.q(E,y+8),bd=e[X]={},iB=kC.NL(E,bd,y+12),cG=bd.warp,bT=bd.quiltWarp;
if(bT==null)bT=bd.quiltWarp=d.Bh.a7j(cG);delete bd.warp;var g$=bT.v.warpStyle.v.warpStyle,hU=bT.v.warpValues;
if(g$!="warpCylinder"&&hU){bT.v.warpValue={t:"doub",v:hU.v[0].v};delete bT.v.warpValues}if(bd.nonAffineTransform==null)bd.nonAffineTransform=JSON.parse(JSON.stringify(bd.Trnf));
if(bd.Impr==null)bd.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var jc=_.q(E,y);
e[X]={};var iB=kC.NL(E,e[X],y+4);break;case"vscg":var dw=_.xY(E,y,4),jc=_.q(E,y+4);e[dw]={};var iB=kC.NL(E,e[dw],y+8);
dc.La(e[dw],dw);break;case"vogk":var ah=_.q(E,y),jc=_.q(E,y+4);e[X]={};var iB=kC.NL(E,e[X],y+8);e[X]=e[X].keyDescriptorList.v;
for(var N=0;N<e[X].length;N++){var co=e[X][N].v;if(!d.gM.yt(co))continue;if(co.keyOriginBoxCorners==null){var im=d.gM.B4(co);
co.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var hb=[im[0],im[1],im[2],im[1],im[2],im[3],im[0],im[3]];
if(co.keyOriginType.v==4)hb=d.gM.ahz(d.gM.Go(co),co.keyOriginLineWeight.v);d.gM.KX(co,"keyOriginBoxCorners",hb)}}break;
case"lnk2":case"lnkD__":case"lnk3__":e[X]=[];var L=y;while(L<y+b){var dI=new jN.DE;e[X].push(dI);var bw=_.vW(E,L);
L+=8;var fb=L;dI.type=_.xY(E,L,4);L+=4;if(dI.type!="liFD"){alert("Unknown Linked Layer type: "+dI.type);
break;throw dI.type}dI.D_=_.q(E,L);L+=4;var iG=_.Fq(E,L);L+=1+iG.$f.length;dI.pf=iG.$f;dI.gg=_.Nm(E,L);
L+=4+dI.gg.length*2+2;dI.uC=_.xY(E,L,4);L+=4;dI.la=_.xY(E,L,4);L+=4;var dy=_.vW(E,L);L+=8;dI.open=E[L];
L+=1;if(dI.open!=0){var kp={},bN=kC.NL(E,kp,L+4);if(bN%4!=0)bN+=4-bN%4;console.log(kp);L+=bN+4}dI.open=0;
dI.raw=_.kf(E,L,dy);L=fb+bw;if(bw%4!=0)L+=4-bw%4}break;case"FEid":var L=y;e[X]=[];var gw=L+b,w=_.q(E,L);
L+=4;while(L<gw){L+=4;var bw=_.q(E,L);L+=4;var Q={};e[X].push(Q);Q.id=_.Fq(E,L).$f;L+=Q.id.length+1;
var w=_.q(E,L);L+=4;L+=4;var dR=_.q(E,L);L+=4;Q.rect=_.SY(E,L);L+=16;var fT=_.q(E,L);L+=4;var gA=_.q(E,L);
L+=4;var by=new d.Ay(0);for(var N=0;N<gA+2;N++){var fv=_.q(E,L);L+=4;if(fv!=0){L+=4;var d4=_.q(E,L),fg=null;
L+=4;if(N<3||N==25)fg=eH.Ks(!0,fT,E,Q.rect.m,Q.rect.e,L,d4);if(N==0)by.Z=fg;if(N==1)by.D=fg;if(N==2)by.J=fg;
if(N==25)by.U=fg;L+=d4}}Q.buffer=d.R(Q.rect.P()*4);d.Dc(by,Q.buffer);var aC=E[L];L++;if(aC!=0){Q.F=new jN.W$;
Q.F.rect=_.SY(E,L);L+=16;L+=4;var bu=_.q(E,L);L+=4;Q.F.channel=eH.Ks(!0,fT,E,Q.F.rect.m,Q.F.rect.e,L,bu);
Q.F.color=255;Q.F.Q8();L+=bu}if(bw%4!=0)L+=4-bw%4}break;case"Lr16":bP.a9f(H,E,y);break;case"Anno":e[X]=[];
var hj=y,jg=y+4,gn=_.q(E,jg);jg+=4;for(var N=0;N<gn;N++){var bw=_.q(E,jg);jg+=4;var cm=_.xY(E,jg,4);
jg+=4;if(cm!="txtA")throw cm;var bz=E[jg++],db=E[jg++],eM=_.dT(E,jg);jg+=2;var de=_.SY(E,jg);jg+=16;
var eb=_.SY(E,jg);jg+=16;var r=ay.LF(E,jg);jg+=10;var k8=_.Fq(E,jg);jg+=k8.length;var hc=_.Fq(E,jg);
jg+=hc.length;var bg=_.Fq(E,jg);jg+=bg.length;var k5=_.q(E,jg);jg+=4;var e5=_.xY(E,jg,4);jg+=4;var j6=_.q(E,jg);
jg+=4;var gK=_.ZL(E,jg+2,j6-2>>1);jg+=j6;e[X].push([de.x,de.y,r,k8.$f,gK])}break;default:break}var aJ="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(aJ.indexOf(X)==-1)if(b%4!=0)console.log("size not multiple of 4!!!",X);if(X!="luni"&&X!="TySh"&&X!="tySh"&&X!="lfx2"&&X!="iOpa")if(b%4!=0)b+=4-b%4;
y+=b}var R=e.CgEd;if(R){var g=e.brit;if(g){g.Brgh.v=R.Brgh?R.Brgh.v:0;g.Cntr.v=R.Cntr?R.Cntr.v:0;g.useLegacy.v=R.useLegacy?R.useLegacy.v:0}delete e.CgEd}var ic=[];
for(var N=0;N<ic.length;N++)delete e[ic[N]];return y};dc.aiT=function(E,y,c,e,p){if(c.SoLd){var H={};
for(var Z in c){if(Z=="SoLd")H.PlLd={};H[Z]=c[Z]}c=H}for(var X in c)if(c[X]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+X+"\" tag was present with a null value.");delete c[X]}for(var X in c){var b=e&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(X)!=-1,D=0;
_.cW(E,y,b?"8B64":"8BIM");y+=4;var k=y;_.cW(E,y,X);y+=4;_.Ye(E,y,0);y+=b?8:4;switch(X){case"iOpa":_.Bz(E,y,c[X],1);
D=4;break;case"brst":D=0;for(var N=0;N<3;N++)if(c[X][N]==0){_.w$(E,y+D,N);D+=4}break;case"knko":_.Bz(E,y,c[X],1);
D=4;break;case"infx":_.Bz(E,y,c[X],1);D=4;break;case"clbl":_.Bz(E,y,c[X],1);D=4;break;case"lmgm":_.Bz(E,y,c[X],1);
D=4;break;case"vmgm":_.Bz(E,y,c[X],1);D=4;break;case"fcmy":_.Bz(E,y,c[X],1);D=4;break;case"lyid":_.w$(E,y,c[X]);
D=4;break;case"lsct":_.w$(E,y,c[X].type);D=4;if(c[X].ur){_.cW(E,y+4,"8BIM");_.cW(E,y+8,c[X].ur);D=12}break;
case"lyvr":_.w$(E,y,c[X]);D=4;break;case"lnsr":_.cW(E,y,c[X]);D=4;break;case"lspf":_.w$(E,y,c[X]);D=4;
break;case"lclr":_.xG(E,y,c[X]);D=8;break;case"luni":_.Vr(E,y,c[X]);D=4+2*c[X].length;break;case"fxrp":_.zV(E,y,c[X].x);
_.zV(E,y+8,c[X].y);D=16;break;case"artb":case"artd":_.w$(E,y,16);D=kC.st(E,c[X],y+4)+4;break;case"SoCo":_.w$(E,y,16);
D=kC.st(E,c[X],y+4)+4;break;case"GdFl":_.w$(E,y,16);D=kC.st(E,c[X],y+4)+4;break;case"PtFl":_.w$(E,y,16);
D=kC.st(E,c[X],y+4)+4;break;case"CgEd":var j={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},g=j,R=c[X];
g.Brgh.v=R.Brgh.v;g.Cntr.v=R.Cntr.v;g.useLegacy.v=R.useLegacy.v;_.w$(E,y,16);D=kC.st(E,j,y+4)+4;break;
case"brit":E._Z(y,8);D=8;break;case"levl":var t=new ek;D=fE.iF(t,c[X]);_.dZ(E,y,t.data);break;case"curv":D=gG.pJ(E,y,c[X]);
break;case"expA":D=14;E._Z(y,14);_.L8(E.data,y,1);_.D1(E.data,y+2,c[X].Exps?c[X].Exps.v:0);_.D1(E.data,y+6,c[X].Ofst?c[X].Ofst.v:0);
_.D1(E.data,y+10,c[X].gammaCorrection?c[X].gammaCorrection.v:1);break;case"vibA":_.w$(E,y,16);D=kC.st(E,c[X],y+4)+4;
break;case"hue2":D=b0.pJ(E,y,c[X]);break;case"blnc":D=19;E._Z(y,D);var w=["ShdL","MdtL","HghL"];for(var N=0;
N<3;N++){var B=c[X][w[N]].v;for(var $=0;$<3;$++)B.push(_.SX(E.data,y+N*6+$*2,B[$].v))}E.data[y+18]=c[X].PrsL.v?1:0;
break;case"blwh":var j={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},o="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var N=0;N<o.length;N++){j[o[N]]=c[X][o[N]]}_.w$(E,y,16);D=kC.st(E,j,y+4)+4;break;case"phfl":_.xG(E,y,2);
var T=c[X].Clr.v;_.xG(E,y+2,7);_.xG(E,y+4,Math.round(T.Lmnc.v*100));_.xG(E,y+6,Math.round(T.A.v*100));
_.xG(E,y+8,Math.round(T.B.v*100));_.xG(E,y+10,0);var i=y+2+10;E._Z(i,5);_.A$(E.data,i,c[X].Dnst.v);i+=4;
E.data[i]=c[X].PrsL.v?1:0;i++;D=i-y;break;case"mixr":D=44;E._Z(y,D);var r=et.ex(c[X]);_.L8(E.data,y,1);
_.L8(E.data,y+2,r.bo?1:0);for(var N=0;N<20;N++)_.SX(E.data,y+4+N*2,r.b[N]);break;case"clrL":case"rplc":_.xG(E,y,1);
_.w$(E,y+2,16);D=kC.st(E,c[X],y+6)+6;break;case"nvrt":D=0;break;case"post":_.xG(E,y,c[X].Lvls.v);D=2;
break;case"thrs":_.xG(E,y,c[X].Lvl.v);D=2;break;case"grdm":var I=c[X].Rvrs?c[X].Rvrs.v:!1,M=!1,J=867527939,P=!1,n=!1,x=2048,L=[0,0,0,0],u=[32768,32768,32768,32768],C=c[X].Grad.v,h,A,W=C.Clrs==null?1:0;
if(W==0){h=C;A=JSON.parse(cb.Wy.aBj).v}else{h=cN.TL("grdm").Grad.v;A=C}E._Z(y,4);_.L8(E.data,y,1);E.data[y+2]=I?1:0;
E.data[y+3]=M?1:0;var Q=y+4;_.Vr(E,Q,C.Nm.v);Q+=4+C.Nm.v.length*2;Q=eg.at3(E,Q,h);_.xG(E,Q,W);Q+=2;_.w$(E,Q,A.RndS.v);
Q+=4;_.xG(E,Q,A.ShTr.v?1:0);Q+=2;_.xG(E,Q,A.VctC.v?1:0);Q+=2;_.w$(E,Q,A.Smth.v);Q+=4;_.xG(E,Q,3);Q+=2;
for(var N=0;N<4;N++)_.xG(E,Q+N*2,L[N]);Q+=8;for(var N=0;N<4;N++)_.xG(E,Q+N*2,u[N]);Q+=8;Q+=2;D=Q-y;break;
case"selc":D=gp.pJ(E,y,c[X]);break;case"FMsk":_.dZ(E,y,c[X]);D=c[X].length;break;case"Txt2":var l=new ek,O=i9.sa(c[X].jc,l),z=d.R(O,!0);
for(var N=0;N<O;N++)z[N]=l.data[N];_.dZ(E,y,z);D=z.length;break;case"vmsk":var a=c[X],m=0;_.w$(E,y,3);
if(!a.PJ)m+=1<<1;if(!a.isEnabled)m+=1<<2;_.w$(E,y+4,m);D=8;var q=a.X.length;E._Z(y+8,q*26);dD.Uq(E.data,y+8,a.X,p.m,p.e);
D+=q*26;break;case"shmd":_.w$(E,y,Object.keys(c[X]).length);var i=y+4;for(var K in c[X]){_.cW(E,i,"8BIM");
i+=4;_.cW(E,i,K);i+=4;_.w$(E,i,0);i+=4;_.w$(E,i,0);i+=4;_.w$(E,i,16);i+=4;var U=kC.st(E,c[X][K],i);if(U%4!=0)U+=4-U%4;
_.w$(E,i-8,U+4);i+=U}D=i-y;break;case"TySh":var i=y;_.FZ(E,i,1);i+=2;var f=c[X],l=new ek;f.Ax.DocumentResources=JSON.parse(JSON.stringify(f.Ax.ResourceDict));
var O=bR.sa(f.Ax,l),z=d.R(O,!0);for(var N=0;N<O;N++)z[N]=l.data[N];f.EG.EngineData={t:"tdta",v:z};var Y=f.Ax.EngineDict.Editor.Text;
f.EG.Txt.v=Y.substring(0,Y.length-1);_.aDO(E,i,f.u);i+=48;_.FZ(E,i,50);i+=2;_.w$(E,i,16);i+=4;i+=kC.st(E,f.EG,i);
_.FZ(E,i,1);i+=2;_.w$(E,i,16);i+=4;i+=kC.st(E,f.RO,i);_.auR(E,i,f.dz);i+=16;D=i-y;break;case"lmfx":_.w$(E,y,0);
_.w$(E,y+4,16);var j=JSON.parse(JSON.stringify(c[X])),G=!1;dc.sw(j);for(var N=0;N<cb.zt.length;N++)if(j[cb.zt[N]]!=null)G=!0;
_.cW(E,k,G?"lmfx":"lfx2");D=kC.st(E,j,y+8)+8;break;case"Patt":var i=ei.O6(E,y,c[X]);D=i-y;break;case"PlLd":var V=y;
E._Z(y,60);var B=c.SoLd;_.cW(E,y,"plcL");_.w$(E,y+4,3);var dF=E.data[y+8]=B.Idnt.v.length;_.cW(E,y+9,B.Idnt.v);
var i=y+9+dF,s=[1,1,16,2];for(var N=0;N<4;N++)_.w$(E,i+N*4,s[N]);i+=16;s=F.Y.Rt(B.nonAffineTransform);
for(var N=0;N<8;N++)_.zV(E,i+N*8,s[N]);i+=64;_.w$(E,i,0);_.w$(E,i+4,16);var aH=d.Bh.ay$(B.quiltWarp).v;
i+=8+kC.st(E,aH,i+8);D=i-y;break;case"SoLd":var B=c[X],dw=B.quiltWarp;B.warp=d.Bh.ay$(dw);if(d.Bh.VV(dw.v)==16)delete B.quiltWarp;
_.cW(E,y,"soLD");_.w$(E,y+4,4);_.w$(E,y+8,16);D=kC.st(E,B,y+12)+12;B.quiltWarp=dw;delete B.warp;break;
case"vstk":case"pths":_.w$(E,y,16);D=kC.st(E,c[X],y+4)+4;break;case"vscg__":_.cW(E,y,c[X].key);_.w$(E,y+4,16);
D=kC.st(E,c[X].b,y+8)+8;break;case"vogk":_.w$(E,y,1);_.w$(E,y+4,16);d.gM.ab5(c[X]);for(var N=0;N<c[X].length;
N++){var kO=c[X][N].v.keyOriginResolution;if(kO)kO.v=p.$c}var hX={classID:"null",keyDescriptorList:{t:"VlLs",v:c[X]}};
D=kC.st(E,hX,y+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var Q=y;for(var N=0;N<c[X].length;N++){var jF=c[X][N],gn=Q;
_.PC(E,Q,0);Q+=8;_.cW(E,Q,jF.type);Q+=4;_.w$(E,Q,jF.D_);Q+=4;E._Z(Q,1);E.data[Q]=jF.pf.length;Q++;_.cW(E,Q,jF.pf);
Q+=jF.pf.length;_.Vr(E,Q,jF.gg+"\0");Q+=4+jF.gg.length*2+2;_.cW(E,Q,jF.uC);Q+=4;_.cW(E,Q,jF.la);Q+=4;
_.PC(E,Q,jF.raw.length);Q+=8;E._Z(Q,1);E.data[Q]=jF.open;Q++;_.dZ(E,Q,jF.raw);Q+=jF.raw.length;_.w$(E,Q,1);
Q+=4;Q+=11;var hM=Q-gn-8;_.PC(E,gn,hM);if(hM%4!=0){E._Z(Q,4-hM%4);Q+=4-hM%4}}D=Q-y;break;case"FEid":var Q=y;
_.w$(E,Q,3);Q+=4;for(var ie=0;ie<c[X].length;ie++){var bN=c[X][ie];Q+=4;var kd=Q;Q+=4;_.L1(E,Q,bN.id);
Q+=bN.id.length+1;_.w$(E,Q,1);Q+=4;var i7=d.R(bN.rect.P()),dn=bN.rect,ew=d.R(dn.P());Q+=4;var e4=Q;Q+=4;
_.K7(E,Q,dn);Q+=16;_.w$(E,Q,8);Q+=4;_.w$(E,Q,24);Q+=4;for(var N=0;N<24+2;N++){var eE=-1;if(N==0)eE=0;
if(N==1)eE=1;if(N==2)eE=2;if(N==25)eE=3;_.w$(E,Q,eE!=-1?1:0);Q+=4;if(eE!=-1){d.LI(bN.buffer,i7,eE);d.kh(i7,bN.rect,ew,dn);
Q+=4;var jc=Q;Q+=4;E._Z(Q,dn.P()+2);Q=eH.U4(!0,ew,E.data,dn.m,dn.e,Q,3);_.w$(E,jc,Q-(jc+4))}}_.w$(E,e4,Q-(e4+4));
E._Z(Q,1);E.data[Q]=bN.F?1:0;Q++;if(bN.F!=null){var ft=dn,bd=d.R(ft.P());bd.fill(bN.F.color);d.kh(bN.F.channel,bN.F.rect,bd,ft);
_.K7(E,Q,ft);Q+=16;Q+=4;var iB=Q;Q+=4;E._Z(Q,ft.P()+2);Q=eH.U4(!0,bd,E.data,ft.m,ft.e,Q,3);_.w$(E,iB,Q-(iB+4))}var hM=Q-(kd+4);
_.w$(E,kd,hM);if(hM%4!=0)Q+=4-hM%4}D=Q-y;break;case"Anno":var cG=y,bT=c[X].length;_.xG(E,cG,2);_.xG(E,cG+2,1);
cG+=4;_.w$(E,cG,bT);cG+=4;for(var N=0;N<bT;N++){var g$=c[X][N],hU=g$[0],ah=g$[1],co=cG;cG+=4;_.cW(E,cG,"txtA");
cG+=4;E._Z(cG,2);E.data[cG]=1;E.data[cG+1]=28;cG+=2;_.xG(E,cG,1);cG+=2;_.K7(E,cG,new ir(hU,ah,17,21));
cG+=16;_.K7(E,cG,new ir(hU+8,ah+10,241,141));cG+=16;E._Z(cG,10);ay.Z9(E.data,cG,g$[2]);cG+=10;cG+=_.L1(E,cG,g$[3]);
cG+=_.L1(E,cG,"");cG+=_.L1(E,cG,"D:20211012120233+01'00'");var im=g$[4].length*2;_.w$(E,cG,12+2+im);
cG+=4;_.cW(E,cG,"txtC");cG+=4;_.w$(E,cG,2+im);cG+=4;E._Z(cG,2);E.data[cG]=254;E.data[cG+1]=255;cG+=2;
_.a4p(E,cG,g$[4]);cG+=im;_.w$(E,co,cG-co)}D=cG-y;break;default:console.log("unknown layer tag: "+X+", size: "+D);
y-=12;continue}var hb=["Txt2","artd","extd","pths"];if(hb.indexOf(X)==-1)if(D%4!=0)D+=4-D%4;if(b)_.PC(E,y-8,D);
else _.w$(E,y-4,D);if(X!="luni"&&X!="TySh")if(D%4!=0)D+=4-D%4;y+=D}return y};dc.FG=function(E){for(var N=0;
N<cb.order.length;N++){var y=cb.order[N],c=cb.zt[N];if(E[c]==null)E[c]={t:"VlLs",v:[]};if(E[y]!=null){E[c].v.push(E[y]);
delete E[y]}var e=[];for(var p=0;p<E[c].v.length;p++){var H=E[c].v[p];if(H.v.present==null||H.v.present.v==!0)e.push(H)}E[c].v=e}};
dc.sw=function(E){for(var N=0;N<cb.order.length;N++){var y=cb.order[N],c=cb.zt[N],e=E[c].v.length;if(e==0){delete E[c];
continue}if(e==1){E[y]=E[c].v[0];delete E[c];continue}}};dc.La=function(E,y){if(y=="GdFl"){if(E.Angl==null)E.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(E.Algn==null)E.Algn={v:!0,t:"bool"};if(E.Scl==null)E.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(E.Ofst==null)E.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(E.Rvrs==null)E.Rvrs={v:!1,t:"bool"};if(E.Dthr==null)E.Dthr={v:!1,t:"bool"}}if(y=="PtFl"){if(E.Algn==null)E.Algn={v:!0,t:"bool"};
if(E.Angl==null)E.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(E.Scl==null)E.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(E.phase==null)E.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};dc.clone=function(E,y){var c={};
if(E=="TySh"){c.u=y.u.clone();c.EG=JSON.parse(JSON.stringify(y.EG));c.RO=JSON.parse(JSON.stringify(y.RO));
c.dz=y.dz.clone();c.Ax=JSON.parse(JSON.stringify(y.Ax));if(y.add)c.add={vmsk:y.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(y.add.vogk))};
return c}else if(E=="fxrp")return y.clone();else if(E=="vmsk")return y.clone();else return JSON.parse(JSON.stringify(y))};
function e6(E,y){}e6.ux=function(E,y,c,e){e=e6.afA(E,y,c,e);return e};e6.sa=function(E,y,c,e,p){e=e6.ajp(E,y,c,e,p);
return e};e6.afA=function(E,y,c,e){var p=e;E.rect=_.SY(c,e);e+=16;var H=_.dT(c,e);e+=2;E.n3=[];var Z=y.H_;
for(var N=0;N<H;N++){E.n3[N]={id:_.aL(c,e),length:(Z?_.vW:_.q)(c,e+2)};e+=Z?10:6}var X=_.xY(c,e,4);e+=4;
if(X!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(X));alert("Error in Photoshop file: wrong signature.");
throw"e"}E.ur=_.xY(c,e,4);e+=4;E.opacity=c[e];e+=1;E.av=c[e]==1;e+=1;E.Gc=c[e];e+=1;if(c[e]!=0)console.log("error in filler!");
e+=1;var b=_.q(c,e);e+=4;var k=e;e=e6.a4k(E,c,e);e=e6.apB(E,c,e);var D=_.Fq(c,e);E.name=D.$f;e+=D.length;
if(D.length%4!=0)e+=4-D.length%4;e=dc.awJ(c,e,k+b,E.add,Z,y);if(E.add.lsct){if(E.add.lsct.ur)E.ur=E.add.lsct.ur;
E.add.lsct=E.add.lsct.type}return e};e6.ajp=function(E,y,c,e,p){var H=e;_.K7(c,e,E.rect);e+=16;var Z=y.add.fcmy==1,X=E.abq(Z);
_.xG(c,e,X.length);e+=2;var b=y.H_;p.push(e);for(var N=0;N<X.length;N++){_.FZ(c,e,X[N]);if(b)_.PC(c,e+2,0);
else _.w$(c,e+2,0);e+=b?10:6}_.cW(c,e,"8BIM");e+=4;_.cW(c,e,E.ur);e+=4;_.Bz(c,e,E.opacity,1);e+=1;_.Bz(c,e,E.av?1:0,1);
e+=1;_.Bz(c,e,E.Gc,1);e+=1;_.Bz(c,e,0,1);e+=1;var k=e;_.w$(c,e,0);e+=4;var D=e;e=e6.atD(E,c,e);e=e6.a77(E,c,e);
var j=_.L1(c,e,E.name.slice(0,255));e+=j;if(j%4!=0)e+=4-j%4;if(E.add.lsct){E.add.lsct={type:E.add.lsct};
if(E.ur=="pass"){E.add.lsct.ur="pass";E.ur="norm"}}if(E.ur=="pass")E.add.lsct={type:E.add.lsct,ur:"pass"};
if(E.add.brit)E.add.CgEd=E.add.brit;e=dc.aiT(c,e,E.add,b,y);delete E.add.CgEd;if(E.add.lsct){if(E.add.lsct.ur)E.ur=E.add.lsct.ur;
E.add.lsct=E.add.lsct.type}var g=e-D;_.w$(c,k,g);return e};e6.a4k=function(E,y,c){var e=_.q(y,c);c+=4;
if(e==0)return c;var p=c;E.F=new jN.W$;E.F.rect=_.SY(y,c);c+=16;E.F.color=y[c];c+=1;var H=e6.ak8(E.F,y,c);
c+=1;if(H){var Z=!1,X=255,b=0,k=255,D=0;for(var N=0;N<E.n3.length;N++)if(E.n3[N].id==-3)Z=!0;if(Z){E.W_=e6.awp(y,c);
c+=18}var j=c,g=y[c];c++;if(g>>0&1){X=y[c];c++}if(g>>1&1){b=_.ct(y,c);c+=8}if(g>>2&1){k=y[c];c++}if(g>>3&1){D=_.ct(y,c);
c+=8}if((c-j&1)==1)c++;E.JH=[X,b,k,D]}else{if(e==20)c+=2;else{E.W_=e6.awp(y,c);c+=18}}return p+e};e6.atD=function(E,y,c){_.w$(y,c,0);
c+=4;if(E.F==null)return c;var e=E.Nb(),p=E.add.vmsk,H=c,Z=!0;_.w$(y,c,0);_.K7(y,c,E.F.rect);c+=16;_.Bz(y,c,E.F.color);
c+=1;e6.akg(E.F,y,c,Z);c+=1;if(Z){if(E.W_){e6.aoe(y,c,E.W_);c+=18}var X=c;_.Bz(y,c,p?15:3);c+=1;_.Bz(y,c,e?e.$a:255);
c+=1;_.zV(y,c,e?e.oV:0);c+=8;if(p){_.Bz(y,c,p?p.$a:255);c+=1;_.zV(y,c,p?p.oV:0);c+=8}if((c-X&1)==1)c++}_.w$(y,H-4,c-H);
return c};e6.awp=function(E,y){var c=new jN.W$;e6.ak8(c,E,y);y+=1;c.color=E[y];y+=1;c.rect=_.SY(E,y);
y+=16;return c};e6.aoe=function(E,y,c){e6.akg(c,E,y,!1);y+=1;_.Bz(E,y,c.color);y+=1;_.K7(E,y,c.rect);
y+=16};e6.ak8=function(E,y,c){var e=y[c];E.PJ=(e>>0&1)==0;E.isEnabled=(e>>1&1)==0;E.iu=(e>>3&1)==1;return e>>4&1};
e6.akg=function(E,y,c,e){var p=0;if(!E.PJ)p+=1<<0;if(!E.isEnabled)p+=1<<1;if(E.iu)p+=1<<3;if(e)p+=1<<4;
_.Bz(y,c,p)};e6.apB=function(E,y,c){var e=_.q(y,c);c+=4;for(var N=0;N<e;N++)E.TO[N]=y[c+N];return c+e};
e6.a77=function(E,y,c){_.w$(y,c,E.TO.length);c+=4;y._Z(c,40);for(var N=0;N<40;N++){y.data[c+N]=E.TO[N]}return c+40};
function eH(){}eH.ux=function(E,y,c,e){e=eH.ag0(y,y.H_,y.lC,y.dw,E,c,e);return e};eH.iF=function(E,y,c,e,p,H,Z){e=eH.a5m(E,y,c,e,p,H,Z);
return e};eH.ag0=function(E,y,c,e,p,H,Z){var X=p.n3,b={},k=Z;for(var N=0;N<X.length;N++){var D=X[N],j=D.id,g=D.length,R;
if(j==-2&&p.F==null)j=-1;if(j==-3)R=p.W_.rect;else if(j==-2)R=p.F.rect;else R=p.rect;var t=eH.Ks(y,c,H,R.m,R.e,Z,g);
Z+=g;if(j==-3)p.W_.channel=t;else if(j==-2)p.F.channel=t;else b["c"+j]=t}var w=new d.Ay(0);w.U=null;
if(e==3){w.Z=b.c0;w.D=b.c1;w.J=b.c2;w.U=b["c-1"]}else if(e==1){w.Z=b.c0;w.D=b.c0;w.J=b.c0;w.U=b["c-1"]}else if(e==4){var B=E.fO.r1039,$=null,o=b.c0,T=b.c1,i=b.c2,r=b.c3;
if(B){var $=B.a6B,I=17;if($==null){var M=ICC.R(B.buffer);if(M.header.spaceIn=="RGB "){}else $=B.a6B=ICC.U.sampleLUT(M,I)}}if($){var J={Z:o,D:T,J:i,U:r},P=d.R(o.length*4);
d.Dc(J,P);d.Ub(P);ICC.U.applyLUT4($,I,P,P);d.Rk(P,J)}else{for(var N=0;N<o.length;N++){var n=1-o[N]*(1/255),x=1-T[N]*(1/255),L=1-i[N]*(1/255),u=1-r[N]*(1/255),C=d.D5([n,x,L,u]);
o[N]=Math.floor(.5+C[0]*255);T[N]=Math.floor(.5+C[1]*255);i[N]=Math.floor(.5+C[2]*255)}}w.Z=o;w.D=T;
w.J=i;w.U=b["c-1"]}if(w.Z==null)w.Z=d.R(0);if(w.U==null&&w.Z!=null){w.U=w.Z.slice(0);w.U.fill(255)}if(w.D==null)w.D=w.Z.slice(0);
if(w.J==null)w.J=w.Z.slice(0);p.buffer=d.R(Math.max(0,p.rect.P()*4));d.Dc(w,p.buffer);return Z};eH.a5m=function(E,y,c,e,p,H,Z){var X=y.abq(Z),b=y.buffer,k=new d.Ay(y.rect.P());
if(Z){var D=k.U.slice(0);d.LI(b,D,3);b=b.slice(0);d.apO(b);d.Rk(b,k);k.aoM=k.U;k.U=D}else d.Rk(b,k);
for(var N=0;N<X.length;N++){var j=X[N],g,R;if(j==-3)g=y.W_.rect;else if(j==-2)g=y.F.rect;else g=y.rect;
if(j==-3)R=y.W_.channel;if(j==-2)R=y.F.channel;if(j==-1)R=k.U;if(j==0)R=k.Z;if(j==1)R=k.D;if(j==2)R=k.J;
if(j==3)R=k.aoM;c._Z(e,g.P()*3+4);var t=e;e=eH.U4(E,R,c.data,g.m,g.e,e,H[1]?3:1);var w=e-t;if(E)_.agn(c.data,p+N*10+2,w);
else _.A$(c.data,p+N*6+2,w)}return e};eH.Ks=function(E,y,c,e,p,H,Z){var X=_.dT(c,H);H+=2;return eH.ji(E,y,c,e,p,H,X,Z-2)};
eH.U4=function(E,y,c,e,p,H,Z){_.SX(c,H,Z);H+=2;H=eH.nv(E,y,c,e,p,H,Z);return H};eH.ji=function(E,y,c,e,p,H,Z,X){var b,k=e*p*(y>>>3),D=k&3,g=k+(D==0?0:4-D);
if(X<=0){return d.R(g)}if(Z>3){console.log("unknown compression: "+Z,e,p,e*p,X);Z=0}if(Z==0){if(H+g<=c.length)b=c.slice(H,H+g);
else{b=d.R(k);for(var N=0;N<k;N++)b[N]=c[H+N]}H+=k}else if(Z==1){b=d.R(k);var R=E?4:2,t=eH.a6f(c,b,e,p,H,H+R*p,R);
H+=R*p+t}else if(Z==2||Z==3){var w=new Uint8Array(c.buffer,H+2,X-6),B=d.R(g);UZIP.inflateRaw(w,B);if(Z==3){if(y==8)for(var $=0;
$<p;$++){var o=$*e+1,T=o+e-1,i=B[o-1];for(var r=o;r<T;r++){i+=B[r];B[r]=i&255}}else for(var $=0;$<p;
$++){var o=$*e+1,T=o+e-1,i=B[2*o-2]<<8|B[2*o-1];for(var r=o;r<T;r++){var I=r<<1;i+=B[I]<<8|B[I+1];B[I]=i>>>8;
B[I+1]=i&255}}}if(B.length==g)b=B;else{b=d.R(g);for(var N=0;N<B.length;N++)b[N]=B[N]}}if(y==16){var M=d.R(e*p);
for(var N=0;N<k;N+=2)M[N>>>1]=b[N];b=M}return b};eH.nv=function(E,y,c,e,p,H,Z){var X=e*p;if(Z==0)for(var N=0;
N<X;N++)c[H++]=y[N];else if(Z==1){var b=E?4:2,k=eH.aCv(y,c,e,p,H,H+b*p,b);H+=b*p+k}else if(Z==2||Z==3){if(Z==3){var D=new Uint8Array(y.length);
for(var j=0;j<p;j++){var g=j*e+1,R=g+e-1,t=y[g-1];D[g-1]=t;for(var w=g;w<R;w++){D[w]=y[w]+(256-t)&255;
t=y[w]}}y=D}c[H]=120;c[H+1]=156;H+=2;var B=pako.deflateRaw(y,{a9v:4});_.alh(c,H,B);H+=B.length+4}else console.log("Unknown compression: "+Z);
return H};eH.a6f=function(E,y,c,e,p,H,Z){if(!(E instanceof Uint8Array)||!(y instanceof Uint8Array))throw"e";
var X=H,b=e|0;if(Z==2)for(var N=0;N<b;N++){var k=_.dT(E,p+(N<<1));eH.l4(E,H,k,y,N*c,c);H+=k}else for(var N=0;
N<b;N++){var k=_.q(E,p+(N<<2));eH.l4(E,H,k,y,N*c,c);H+=k}return H-X};eH.aCv=function(E,y,c,e,p,H,Z){var X=H;
if(Z==2)for(var N=0;N<e;N++){var b=eH.afd(E,N*c,c,y,H);_.L8(y,p+N*2,b);H+=b}else for(var N=0;N<e;N++){var b=eH.afd(E,N*c,c,y,H);
_.A$(y,p+N*4,b);H+=b}return H-X};eH.afd=function(E,y,j1,c,e){var p,H,Z,X,b,iI,k;X=y+j1;for(Z=y,H=e;j1>0;
Z=p,j1-=iI){k=j1<128?j1:128;if(Z<=X-3&&E[Z+1]==E[Z+0]&&E[Z+2]==E[Z+0]){for(p=Z+3;p<Z+k&&E[p]==E[Z+0];
)++p;iI=p-Z;c[H++]=1+256-iI;c[H++]=E[Z+0]}else{for(p=Z;p<Z+k;)if(p<=X-3&&E[p+1]==E[p+0]&&E[p+2]==E[p+0])break;
else++p;iI=p-Z;c[H++]=iI-1;for(var N=0;N<iI;N++)c[H+N]=E[Z+N];H+=iI}}return H-e};eH.l4=function(E,y,c,e,p,H){for(var Z=0;
Z<c;){var j1=E[y++];if(j1>=128){var X=E[y++],b=p+(257-j1);e.fill(X,p,b);p=b;Z+=2}else{for(var N=0;N<=j1;
N++)e[p+N]=E[y+N];y+=j1+1;p+=j1+1;Z+=1+1+j1}}};function bP(){}bP.Md=function(E,y,c){return;var e="",p=y;
while(p!=0){var H=p%1e3+"";while(H.length<3)H="0"+H;e=(e==""?H:H+" ")+e;p=Math.floor(p/1e3)}while(e.startsWith("0")&&e!="0")e=e.slice(1);
while(e.length<11)e=" "+e;console.log("===",e,"\t".repeat(E),": "+c)};bP.a1G=function(E){var y={fO:{}},e=0,p=0,X;
y.H_=!1;y.lC=8;var c=new Uint8Array(E);p=bP.BB(y,c,e);e=p;p=bP.atV(y,c,e);e=p;var H=_.q(c,e);e+=4+H;
var Z=y.H_?8:4;if(y.H_)X=_.vW(c,e);else X=_.q(c,e);e+=Z+X;p=bP.apQ(y,c,e);return[{Yu:new ir(0,0,y.m,y.e),data:y.buffer.buffer}]};
bP.ux=function(E,y){y.H_=!1;y.lC=8;var c=new Uint8Array(E),e=0,p=0,Z=0,K,ie=!1,bN=!0,kd=!1,i7=0,aJ=0;
p=bP.BB(y,c,e);bP.Md(0,p-e,"PSD Header");e=p;p=bP.atV(y,c,e);bP.Md(0,p-e,"Color Mode Data");e=p;p=bP.aqw(y,c,e);
bP.Md(0,p-e,"Image Resources");e=p;p=bP.alM(y,c,e);bP.Md(0,p-e,"Layer And Mask Info");e=p;p=bP.apQ(y,c,e);
bP.Md(0,p-e,"Merged Image");e=p;if(y.B.length==0){var H=y.N8();H.v4("Background");y.B.push(H);H.buffer=y.buffer.slice(0);
H.rect=new ir(0,0,y.m,y.e)}for(var N=0;N<y.B.length;N++){var p=y.B[N],X=p.add.lsct;if(X==kl.vp)Z++;else if(X==kl.Sh||X==kl.ze)Z--}while(Z<0){y.B.unshift(y.eM());
Z++}if(y.fO.r1005){y.$c=_.OO(y.fO.r1005,0)}if(y.fO.r1026){var c=y.fO.r1026;for(var N=0;N<c.length;N+=2){var p=y.B[N>>>1];
if(p)p.Y5=_.dT(c,N)}}if(y.fO.r1072){var c=y.fO.r1072;for(var N=0;N<c.length;N++){var p=y.B[N];if(p)p.E0=c[N]==1}}if(y.fO.r1032){y.oc=bP.aA4(y.fO.r1032,0)}delete y.fO.r1036;
y.Cr(y.fO.r1039);if(y.fO.r1050){var b=_.q,k=y.fO.r1050,D=_.q(k,0);if(D==6){var j=4,g=_.SY(k,j);j+=16;
var R=_.ro(k,j);j+=4+R.length*2;var t=b(k,j);j+=4;var w=y.Cv;for(var N=0;N<t;N++){var B=F.Uj.O1(),o;
w.push(B);B=B.v;B.sliceID.v=b(k,j);j+=4;B.groupID.v=b(k,j);j+=4;var $=b(k,j);j+=4;if($==1){o=b(k,j);
j+=4}var R=_.ro(k,j);j+=4+R.length*2;var T=b(k,j);j+=4;var i=[b(k,j),b(k,j+4),b(k,j+8),b(k,j+12)];j+=16;
F.Uj.DM(w,w.length-1,i);var r=B.url.v=_.ro(k,j);j+=4+r.length*2;var I=B.null.v=_.ro(k,j);j+=4+I.length*2;
var M=B.Msge.v=_.ro(k,j);j+=4+M.length*2;var J=B.altTag.v=_.ro(k,j);j+=4+J.length*2;B.cellTextIsHTML.v=k[j]==1;
j++;var P=B.cellText.v=_.ro(k,j);j+=4+P.length*2;var n=b(k,j);j+=4;var x=b(k,j);j+=4;var L=k.slice(j,j+4);
j+=4;if($!=2)w.pop()}}else if(D==8){var u={};kC.NL(k,u,8,!1);var k=y.Cv=u.slices.v;for(var N=0;N<k.length;
N++){if(k[N].v.origin.v.ESliceOrigin!="userGenerated"){k.splice(N,1);N--}}}}if(y.fO.r1058){var C=y.fO.r1058,h=UTIF.decode(C.buffer,{parseMN:!1,debug:!1});
kJ.wX(h[0],y.Or);delete y.fO.r1058}if(y.fO.r1060){var A=_.Uw(y.fO.r1060);kJ.xm(A,y.Or);delete y.fO.r1060}if(y.fO.r1065){var c=y.fO.r1065;
y.$k={};kC.NL(c,y.$k,4,!1)}if(y.fO.r1069){var c=y.fO.r1069,W=[];for(var N=2;N<c.length;N+=4){var o=_.q(c,N);
for(var Q=0;Q<y.B.length;Q++){var p=y.B[Q];if(p.add.lyid==o&&p.add.lsct!=3&&W.indexOf(Q)==-1)W.push(Q)}}y.g=W}if(y.fO.r1073){var c=y.fO.r1073,j=0,l=_.$G(c,j);
j+=4;var O=_.$G(c,j);j+=4;for(var N=0;N<O;N++){y.v0.push({y:l>=2?_.SI(c,j+2):_.OO(c,j+2),x:l>=2?_.SI(c,j+6):_.OO(c,j+6)});
j+=14}delete y.fO.r1073}if(y.fO.r1025){var z=y.fO.r1025;delete y.fO.r1025;var a=dD.jv(z,0,z.length,y.m,y.e),m=new jN.pU;
m.X=a;y.gA[0]=cc.u7("Working Path",{vmsk:m})}var q=y.add.pths;delete y.add.pths;var U=y.fO.r3000;if(U){K={};
kC.NL(U,K,4,!1);delete y.fO.r3000}if(q){var f=q.pathSymmetrySelectedPath;if(f){var Y=q.pathList.v[f.v].v,G=Y.pathUnicodeName.v;
y.sG=G.startsWith("Tile Symmetry")}}for(var V=0;V<=997;V++){var dF="r"+(2e3+V),z=y.fO[dF];if(z==null)break;
var a=dD.jv(z,0,z.length,y.m,y.e),G="Path "+V;if(q){var s=q.pathList.v[V].v;G=s.pathUnicodeName.v;if(G=="Tile Symmetry 1")continue}var aH=K?K.keyRootDescriptorList.v[V].v.keyDescriptorList.v:jN.m5(a),m=new jN.pU;
m.X=a;y.gA.push(cc.u7(G,{vmsk:m,vogk:aH}));delete y.fO[dF]}delete y.H_;if(y.fO.r4000){y.BZ=d.BZ.ux(y.fO.r4000)}var dw=y.fO.r7000,kO=y.fO.r7001;
if(dw){var hX=_.Uw(dw);y.NC=bP.aDD(hX)}if(kO){var hX=_.Uw(kO);y.PH=bP.agG(hX)}delete y.fO.r7000;delete y.fO.r7001;
var jF=new ir(0,0,y.m,y.e),gn=y.add.Txt2,hM=gn;if(hM){hM=hM.jc;if(hM._DocumentResources==null)hM=iW.aCy(hM)}var dn=-1;
for(var N=0;N<y.B.length;N++){var p=y.B[N],ew=p.add.lsct,e4=p.add.vmsk,eE=p.Nb();if(ew==kl.vp){i7++;
p.add.lspf=0}else if(ew==kl.Sh||ew==kl.ze)i7--;if(p.name==""){p.name="Layer "+(N+1);kd=!0}if(kd&&p.uY()&&p.ur=="norm")p.ur="pass";
if(p.p3()&&p.kP(y)==null)delete p.add.SoLd;if(p.p3()&&p.kP(y).F){var jc=p.kP(y);jc.F.isEnabled=p.add.SoLd.filterFX.v.filterMaskEnable.v}if(e4&&p.iU()){var ft=cb.CY.TL(!0);
if(p.add.vstk==null)p.add.vstk=JSON.parse(JSON.stringify(ft));else{var bd="strokeStyleLineDashSet";if(p.add.vstk[bd]==null)p.add.vstk[bd]=JSON.parse(JSON.stringify(ft[bd]))}p.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
p.add.vstk.strokeStyleResolution.v=y.$c}if(e4&&(p.add.vogk==null||d.o.a0(e4.X)!=p.add.vogk.length))p.m5();
if(!1){var iB=p.add.vogk,cG=!0;for(var bT=0;bT<iB.length;bT++){var g$=iB[bT].v.keyShapeInvalidated;if(g$==null||g$.v==!1)cG=!1}if(cG)p.m5()}if(p.add.SoLd&&p.rect.tj()){console.log("redrawing smart instance");
p.an(y,null,null,!0)}if(eE==null&&p.F!=null){if(p.F.iu==!1){p.F.iu=!0;p.W_=p.F.clone()}}eE=p.Nb();if(p.JH){var ft=p.JH,m=e4;
if(eE){eE.$a=ft[0];eE.oV=ft[1]}if(m){m.$a=ft[2];m.oV=ft[3]}p.JH=null}if(eE!=null&&e4!=null&&(eE.oV+e4.oV!=0||eE.$a+e4.$a!=2*255))p.fP(y);
else if(e4!=null&&!p.iU())p.fP();else if(eE&&eE.$a!=255&&p.iU())p.fP(y);var hU=p.add.artb;if(hU&&hU.artboardBackgroundType==null)hU.artboardBackgroundType={t:"long",v:1};
if(hU&&i7!=0)delete p.add.artb;var ah=p.add.vstk;if(p.iU()&&(p.rect.tj()||e4&&e4.oV!=0||ah&&!ah.fillEnabled.v&&(!ah.strokeEnabled.v||ah.strokeStyleLineWidth.v.val==0)))p.yq(y);
if(p.add.TySh){ie=!0;if(!p.rect.tj())bN=!1}if(p.add.TySh&&hM){dn++;var co=p.add.TySh.Ax,im=gV.kq(co),hb=hM._DocumentObjects._TextObjects;
if(hb.length<=dn){console.log("Txt2 incomplete");continue}var dI=hb[dn]._Model,bw=dI._StyleRun?dI._StyleRun._RunArray:[],fb=co.EngineDict.StyleRun.RunArray;
for(var iG=0;iG<fb.length;iG++){var dy=fb[iG].StyleSheet.StyleSheetData;if(bw[iG]==null)continue;var kp=bw[iG]._RunData._StyleSheet._Features;
if(kp&&kp._BaselineDirection)dy.BaselineDirection=parseInt(kp._BaselineDirection.slice(1));if(kp&&kp._FillBackgroundFlag)dy._FillBackgroundFlag=kp._FillBackgroundFlag;
if(kp&&kp._FillBackgroundColor){var gw=kp._FillBackgroundColor,dR=gw._Color._Values.slice(0);for(var Q=0;
Q<4;Q++)dR[Q]=parseFloat(dR[Q].slice(1));dy._FillBackgroundColor={Type:1,Values:dR}}if(kp&&kp._LineWidth)dy._LineWidth=parseFloat(kp._LineWidth.slice(1))}var fT=co.EngineDict.ParagraphRun.RunArray,gA=dI._ParagraphRun._RunArray;
if(gA==null)gA=[];var by=Math.min(gA.length,fT.length);for(var Q=0;Q<by;Q++){var fv=fT[Q].ParagraphSheet.Properties,d4=hM._DocumentResources._ParagraphSheetSet._Resources,fg=gA[Q]._RunData._ParagraphSheet;
if(typeof fg=="string")fg=d4[parseInt(fg.slice(1))]._Resource;var aC=fg._Parent==null?fg:d4[parseInt(fg._Parent.slice(1))]._Resource;
fg=fg._Features;aC=aC._Features;var bu=fg._ParagraphDirection;if(bu==null)bu=aC._ParagraphDirection;
if(bu)fv._Direction=parseInt(bu.slice(1));if(fg._ComposerEngine)fv._ComposerEngine=parseInt(fg._ComposerEngine.slice(1))}if(dI._AlternateGlyphRun){var gA=dI._AlternateGlyphRun._RunArray,by=gA.length,hj=co.EngineDict.AlternateGlyphRun=gV.a20();
for(var Q=0;Q<by;Q++){var fg=gA[Q],jg={},cm=fg._RunData._AlternateGlyphSheet;if(cm)jg.Glyph=parseInt(cm._Glyph.slice(1));
hj.RunArray.push(jg);hj.RunLengthArray.push(parseInt(fg._Length.slice(1)))}}var bz=hM._DocumentResources,db=bz._TextFrameSet._Resources,eM=db[dn]._Resource,de=eM._Data,eb=new jr(1,0,0,1,0,0);
if(eM._0){var k8=parseFloat(eM._0[0].slice(1)),hc=parseFloat(eM._0[1].slice(1));eb.translate(k8,hc)}if(im){eb.translate(im[0],im[1]);
gV.fF(co,[0,0,im[2]-im[0],im[3]-im[1]])}else{if(eM._Bezier&&eM._Bezier._Points){var a=eM._Bezier._Points,k8=parseFloat(a[0].slice(1)),hc=parseFloat(a[1].slice(1));
if(k8!=0||hc!=0){eb.translate(k8,hc)}}}if(eM._Data&&eM._Data._FrameMatrix){var bg=eM._Data._FrameMatrix;
bg=bg.map(function(hu){return parseFloat(hu.slice(1))});eb.concat(new jr(bg[0],bg[1],bg[2],bg[3],bg[4],bg[5]))}eb.concat(p.add.TySh.u);
p.add.TySh.u=eb;var T=de._Type?parseInt(de._Type.slice(1)):0;if(T==2||T==1&&de._PathData&&de._PathData._Spacing=="i-3")if(eM._Bezier){var k5=function(hu){return parseFloat(hu.slice(1))},a=eM._Bezier._Points.map(k5);
if(im)d.A.u(a,new jr(1,0,0,1,-im[0],-im[1]),a);var e5=de._PathData?de._PathData._Reversed:!1,j6=de._TextOnPathTRange;
if(j6==null)j6=["f-3","f-3"];co.Curve={Points:a,TextOnPathTRange:j6.map(k5),Reversed:e5==null?!1:e5};
p.add.TySh.add={vmsk:new jN.pU,vogk:null};gV.Ou(p.add.TySh)}if(de._LineOrientation=="i2")co._LineOrientation=2}}F.tX.HQ(y,!0);
var gK={},ic=[];for(var N=0;N<y.B.length;N++){var gk=y.B[N].add.lyid;if(gk==null)continue;var aJ=Math.max(aJ,gk);
if(gK[gk]!=null)ic.push(N);else gK[gk]=!0}for(var N=0;N<ic.length;N++)y.B[ic[N]].add.lyid=aJ+1+N};bP.aA4=function(E,y){y+=12;
var c=_.q(E,y),e=[];y+=4;c=Math.min(c,Math.floor((E.length-y)/5));for(var N=0;N<c;N++){var p=Math.min(E[y+N*5+4],1),H=_.$G(E,y+N*5)/32;
e.push([p,H])}return e};bP.aDD=function(E){var y=new DOMParser,c=y.parseFromString(E,"text/xml").firstChild.children[0],e=c.getElementsByTagName("variables");
if(e.length==0)return[];e=e[0].children;var p=[],H="varName trait docRef placementMethod align valign clip".split(" ");
for(var Z=0;Z<e.length;Z++){var X=e[Z],b={};p.push(b);for(var k=0;k<H.length;k++){var D=H[k],j=X.getAttribute(D);
if(j==null)continue;b[D]=j}}return p};bP.agG=function(E){var y=new DOMParser,c=y.parseFromString(E,"text/xml").firstChild.children,e=[[]];
if(c==null)return e;for(var N=0;N<c.length;N++){var p=c[N],H=[];e.push(H);for(var Z=0;Z<p.children.length;
Z++){var X=p.children[Z];if(N==0)e[0].push(X.tagName);H.push(X.textContent)}}return e};bP.sa=function(E,y,c){F.tX.qt(E);
F.tX.HQ(E,!1);E.H_=c[3]==!0;var e=[],p=[],B=0,o=1,t=16,hM=0;for(var N=0;N<E.B.length;N++){var H=E.B[N];
if(H.p3()&&H.kP(E).F){H.add.SoLd.filterFX.v.filterMaskEnable.v=H.kP(E).F.isEnabled}if(H.add.TySh){var Z=H.add.TySh.Ax,X=gV.VY(Z);
H.add.TySh.EG.TextIndex={t:"long",v:e.length};e.push(Z);if(X==2)gV.Pv(H.add.TySh)}var b=H.add.vstk;if(b)b.strokeStyleResolution.v=E.$c;
if(H.iU()||c[2]&&H.add.SoLd){p[N]=[H.rect,H.buffer];H.rect=new ir;H.buffer=d.R(0);if(H.add.SoLd){var k=H.kP(E);
if(k!=null){p[N].push(k.buffer);k.buffer=d.R(k.buffer.length)}}}}if(e.length>0){var D=E.add.Txt2?E.add.Txt2.jc:null;
if(E.add.Txt2==null)E.add.Txt2={};E.add.Txt2.jc=ak.ado(e,null,D)}var j=[E.add.lnk2,E.add.FEid,E.add.Patt],g=E.aqC(E.B);
E.atH(g);E.fO.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);_.aAJ(E.fO.r1005,0,E.$c);_.aAJ(E.fO.r1005,8,E.$c);
if(E.v0.length>0){var R=E.v0;E.fO.r1073=new Uint8Array(8+R.length*14);_.FV(E.fO.r1073,0,3);_.FV(E.fO.r1073,4,R.length);
for(var N=0;N<R.length;N++){var t=8+14*N;_.SX(E.fO.r1073,t,14);_.D1(E.fO.r1073,t+2,R[N].y);_.D1(E.fO.r1073,t+6,R[N].x);
_.SX(E.fO.r1073,t+10,-1);_.SX(E.fO.r1073,t+12,8)}}if(E.xn()){E.fO.r1022=new Uint8Array([0,3+E.cB.length-1,0])}else delete E.fO.r1022;
var w=new Uint8Array(E.B.length*2),$=new Uint8Array(E.B.length);for(var N=0;N<E.B.length;N++){var H=E.B[N],T=H.Y5,i=H.E0?1:0;
_.L8(w,N*2,T);$[N]=i;if(T>B)B=T;if(i==0)o=0}if(B>0)E.fO.r1026=w;if(o<1)E.fO.r1072=$;var r=E.oc,I=r.length,M=E.fO.r1032=d.R(16+5*I,!0);
_.A$(M,0,1);_.A$(M,4,576);_.A$(M,8,576);_.A$(M,12,I);for(var N=0;N<I;N++){_.FV(M,t,Math.round(r[N][1]*32));
M[t+4]=r[N][0];t+=5}if(c[4]!=!0){var J=[E.buffer,new ir(0,0,E.m,E.e)],P=0;d.nJ(J);while(J[P+1].P()>200*200)P+=2;
var n=iu.sF("jpg"),x=J[P+1],L=new Uint8Array(n.Jv([[J[P].buffer]],x.m,x.e)),M=E.fO.r1036=new Uint8Array(28+L.length);
_.A$(M,0,1);_.A$(M,4,x.m);_.A$(M,8,x.e);_.A$(M,12,x.m*3);_.A$(M,16,x.P()*3);_.A$(M,20,L.length);_.L8(M,24,24);
_.L8(M,26,1);M.set(L,28)}var u=d.Oi(E.buffer);if(E.add.fcmy)u=!1;var C=[];if(u)C.push({name:"Transparency",KR:{Z:255,D:0,J:0},Ku:100,KO:1});
C=C.concat(E.cB);delete E.fO.r1045;delete E.fO.r1006;delete E.fO.r1077;var h=new ek;t=0;var A=new Uint8Array(4+C.length*13);
A[3]=1;for(var N=0;N<C.length;N++){var W=C[N],Q=W.name+"\0";_.Vr(h,t,Q);t+=4+Q.length*2;var l=4+N*13;
ay.Z9(A,l,W.KR);A[l+11]=W.Ku;A[l+12]=W.KO}if(t!=0)E.fO.r1045=h.data.slice(0,t);E.fO.r1077=A;for(var N=0;
N<E.Cv.length;N++)E.Cv[E.Cv.length-N-1].v.sliceID.v=2+N*3;var O={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:E.Cv}},h=new ek;
_.w$(h,0,8);_.w$(h,4,16);var z=kC.st(h,O,8);E.fO.r1050=h.data.slice(0,z+8);var h=new ek;_.w$(h,0,16);
var z=kC.st(h,E.$k,4);E.fO.r1065=h.data.slice(0,z+4);var a=E.g;M=E.fO.r1069=d.R(2+a.length*4,!0);_.L8(M,0,a.length);
for(var N=0;N<a.length;N++)_.A$(M,2+4*N,E.B[a[N]].add.lyid);delete E.fO.r1058;delete E.fO.r1060;if(Object.keys(E.Or).length!=0){var m=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
kJ.NP(E.Or,m[0],c[0]&&c[1]);E.fO.r1058=new Uint8Array(UTIF.encode(m));var q=kJ.Gy(E.Or);E.fO.r1060=_.vx(q)}var K=[],U=[],f=E.gA.slice(0);
if(E.sG){var Y=dD.aCS([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),G=new jN.pU;
G.X=Y;f.push(cc.u7("Tile Symmetry 1",{vmsk:G,vogk:jN.m5(Y)}))}for(var N=0;N<f.length;N++){var V=f[N],Y=V.add.vmsk.X;
if(N==0&&Y.length==2)continue;var dF=d.R(Y.length*26);dD.Uq(dF,0,Y,E.m,E.e);var s=N==0?1025:2e3+N-1;
E.fO["r"+s]=dF;if(N!=0){var aH={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:V.name}};if(V.name=="Tile Symmetry 1")aH.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
K.push({t:"Objc",v:aH});U.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:V.add.vogk}}})}}if(K.length!=0){E.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:K}};
if(E.sG)E.add.pths.pathSymmetrySelectedPath={t:"long",v:K.length-1};U={classID:"null",keyRootDescriptorList:{t:"VlLs",v:U}};
var h=new ek;_.w$(h,0,16);var z=kC.st(h,U,4);E.fO.r3000=h.data.slice(0,z+4)}else{delete E.add.pths;delete E.fO.r3000}if(E.BZ&&E.BZ.length!=0){E.fO.r4000=d.BZ.sa(E.BZ)}if(E.NC.length!=0){var dw="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var N=0;N<E.NC.length;N++){var kO=E.NC[N],hX=[];for(var s in kO)hX.push(s+"=\""+kO[s]+"\"");dw+="<variable "+hX.join(" ")+">\n</variable>\n"}dw+="</variables>\n</variableSet>\n</variableSets>";
E.fO.r7000=_.vx(dw)}if(E.PH.length!=0){var dw="<sampleDataSets psdPath=\""+E.name+"\">\n";for(var N=1;
N<E.PH.length;N++){var jF=E.PH[N];dw+="<sampleDataSet dataSetName=\"Data Set "+N+"\">\n";for(var gn=0;
gn<jF.length;gn++)dw+="<"+E.PH[0][gn]+">"+jF[gn].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+E.PH[0][gn]+">\n";
dw+="</sampleDataSet>\n"}dw+="</sampleDataSets>";E.fO.r7001=_.vx(dw)}hM=bP.arB(E,y,hM,3+C.length);hM=bP.a6z(E,y,hM);
hM=bP.apw(E,y,hM);hM=bP.aeE(E,y,hM,c,u);hM=bP.aDo(E,y,hM,c[0],u);var ie=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var N=0;N<ie.length;N++)delete E.fO["r"+ie[N]];for(var N=0;N<E.B.length;N++){var H=E.B[N];if(H.iU()||c[2]&&H.add.SoLd){H.rect=p[N][0];
H.buffer=p[N][1];if(p[N][2]){var k=H.kP(E);p[N].push(k.buffer);k.buffer=p[N][2]}}}E.atH(j);F.tX.HQ(E,!0);
delete E.H_;return hM};bP.BB=function(E,y,c){var e=_.xY(y,c,4);c+=4;if(e!="8BPS")alert("invalid header signature: "+e);
var p=_.dT(y,c);c+=2;E.H_=p==2;if(p!=1&&p!=2)alert("invalid version: "+p);c+=6;E.rW=_.dT(y,c);c+=2;E.e=_.$G(y,c);
c+=4;E.m=_.$G(y,c);c+=4;E.lC=_.dT(y,c);c+=2;E.dw=_.dT(y,c);c+=2;return c};bP.arB=function(E,y,c,e){var p=E.add.fcmy==1;
y._Z(0,64);_.bv(y.data,c,"8BPS");c+=4;_.L8(y.data,c,E.H_?2:1);c+=2;_.A$(y.data,c,0);c+=4;_.L8(y.data,c,0);
c+=2;_.L8(y.data,c,e+(p?1:0));c+=2;_.FV(y.data,c,E.e);c+=4;_.FV(y.data,c,E.m);c+=4;_.L8(y.data,c,8);
c+=2;_.L8(y.data,c,p?4:3);c+=2;return c};bP.atV=function(E,y,c){var e=_.$G(y,c);c+=4;if(e!=0)E.Hj=y.slice(c,c+e);
c+=e;return c};bP.a6z=function(E,y,c){_.Ye(y,c,0);c+=4;return c};bP.aqw=function(E,y,c){var e=_.q(y,c),p=0;
c+=4;var H=[];while(p<e){var Z=_.xY(y,c+p,4);p+=4;var X=_.dT(y,c+p);p+=2;var b=_.Fq(y,c+p);p+=b.length;
if(Z=="MeSa"&&(X==7e3||X==7001)){}else if(Z!="8BIM"){H.push(X);console.log("Unknown Image Resources signature: "+Z+", ID: "+X)}var k=_.q(y,c+p);
p+=4;if(E.fO["r"+X]!=null)console.log("--- two resources with same ID");E.fO["r"+X]=_.kf(y,c+p,k);p+=k+(k&1)}for(var N=0;
N<H.length;N++)delete E.fO["r"+H[N]];return c+e};bP.apw=function(E,y,c){var e=c,Z=0;c+=4;var p=[];for(var H in E.fO){p.push(parseInt(H.slice(1)))}p.sort(function(j,g){return j-g});
for(var N=0;N<p.length;N++){var X=p[N];_.cW(y,c+Z,X==7e3||X==7001?"MeSa":"8BIM");Z+=4;_.xG(y,c+Z,X);
Z+=2;var b=_.L1(y,c+Z,"");Z+=b;var k=E.fO["r"+X],D=k.length;_.w$(y,c+Z,D);Z+=4;_.dZ(y,c+Z,k);Z+=D;if(D%2==1)Z++}_.w$(y,e,Z);
return c+Z};bP.alM=function(E,y,c){var e=c,p,H,Z=E.H_?8:4;if(E.H_)p=_.vW(y,c);else p=_.q(y,c);c+=Z;if(p==0)return e+Z;
H=bP.arU(E,y,c);bP.Md(1,H-c,"Layer Info");c=H;H=bP.a1k(E,y,c);bP.Md(1,H-c,"Global Layer Mask Info");
c=H;H=dc.awJ(y,c,e+Z+p,E.add,E.H_,E);bP.Md(1,H-c,"Project Add Info");c=H;return e+Z+p};bP.aeE=function(E,y,c,e,p){var H=c;
_.w$(y,c,0);c+=4;if(E.H_){_.w$(y,c,0);c+=4}c=bP.aq8(E,y,c,e,p);c=bP.avI(E,y,c);c=dc.aiT(y,c,E.add,E.H_,E);
if(E.H_)_.PC(y,H,c-H-8);else _.w$(y,H,c-H-4);return c};bP.arU=function(E,y,c){var e,p=E.H_?8:4;if(E.H_)e=_.vW(y,c);
else e=_.q(y,c);c+=p;if(e!=0)bP.a9f(E,y,c);return c+e};bP.a9f=function(E,y,c){var e=_.aL(y,c);c+=2;var p=Math.abs(e);
for(var N=0;N<p;N++){var H=new jN;c=e6.ux(H,E,y,c);E.B[N]=H}var Z=new ir(0,0,E.m,E.e);for(var N=0;N<p;
N++){var X=E.B[N],b=X.Nb(),k=eH.ux(X,E,y,c);if(k-c>8)bP.Md(2,k-c,"Lay: "+X.getName());c=k;bP.a0$(X,Z);
if(b)bP.a0$(b,Z)}};bP.a0$=function(E,y){};bP.aq8=function(E,y,c,e,p){var H=c,Z=E.H_;c+=Z?8:4;c=bP.a28(E,y,c,e,p);
var X=c-H-(Z?8:4);if(X%2!=0)X++;if(Z)_.PC(y,H,X);else _.w$(y,H,X);return H+X+(Z?8:4)};bP.a28=function(E,y,c,e,p){var H=E.B.length;
_.FZ(y,c,p?-H:H);c+=2;var Z=[];for(var N=0;N<H;N++)c=e6.sa(E.B[N],E,y,c,Z);for(var N=0;N<H;N++)c=eH.iF(E.H_,E.B[N],y,c,Z[N],e,E.add.fcmy==1);
return c};bP.a1k=function(E,y,c){var e=_.q(y,c);c+=4;c+=e;return c};bP.avI=function(E,y,c){var e=_.w$(y,c,0);
c+=4;return c};bP.apQ=function(E,y,c){var e=E.dw,p="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),H=[1,1,1,3,4,1,1,3],Z,w;
if(e!=3){if(e==1||e==2||e==4)console.log("Project will be converted from "+p[e]+" to "+p[3]+" mode.");
else{alert("Color mode "+p[e]+" is not supported yet :(")}if(e==4)E.add.fcmy=1}if(E.fO.r1045){Z=[];var X=E.fO.r1045,b=0;
while(b<X.length){var k=_.Nm(X,b);Z.push(k);b+=4+2+k.length*2}}var D=H[e]+(Z==null||Z[0]=="Transparency"?1:0),j=E.m,g=E.e,R=j*g,t=_.dT(y,c);
c+=2;E.buffer=d.R(R*4);d.KT(E.buffer,4278190080);var B=c;for(var $=0;$<E.rW;$++){if(t==0){w=eH.ji(E.H_,E.lC,y,j,g,c,t);
c+=R*(E.lC>>>3)}else if(t==1){w=d.R(R);var o=E.H_?4:2;if($==0)c+=E.rW*g*o;c+=eH.a6f(y,w,j,g,B+$*g*o,c,o)}else{console.log("unknown compression of image data: ",t);
return}if($<D){d.Og(w,E.buffer,$);if(E.rW==1&&$==0){d.Og(w,E.buffer,1);d.Og(w,E.buffer,2)}}else{var T=new jN.W$,i=$-D,r=$-H[E.dw];
T.name=Z?Z[r]:"Alpha";if(T.name=="Quick Mask"){T.bY=!0;E.dL.push(i)}T.rect=new ir(0,0,j,g);T.channel=w;
T.color=0;T.Q8();E.cB[i]=T;if(E.fO.r1077){var X=E.fO.r1077.slice(4+r*13);T.KR=ay.LF(X,0);T.Ku=X[11];
T.KO=X[12];if(T.KO==2)T.bY=!0}}}E.rW=4;if(E.dw==2)for(var N=0;N<R;N++){var I=N*4,M=E.buffer[I];E.buffer[I]=E.Hj[0+M];
E.buffer[I+1]=E.Hj[256+M];E.buffer[I+2]=E.Hj[512+M]}return c};bP.aDo=function(E,y,c,e,p){var H=1,Z=16,X=E.m,b=E.e,D,j;
_.xG(y,c,H);c+=2;var k=X*b;if(!e){j=new d.Ay(X*b);d.Rk(E.buffer,j);var g=j.Z,R=j.D,t=j.J,w=j.U;for(var N=0;
N<k;N++){var B=w[N]*(1/255);g[N]=~~(g[N]*B+255*(1-B));R[N]=~~(R[N]*B+255*(1-B));t[N]=~~(t[N]*B+255*(1-B))}}else D=d.R(k);
var $=[D,D,D];if(!e)$=[j.Z,j.D,j.J];if(E.add.fcmy==1){var o=D;if(!e){o=d.R(k);o.fill(255)}$.push(o)}if(p)$.push(e?D:j.U);
for(var N=0;N<E.cB.length;N++){$.push(E.cB[N].tv(new ir(0,0,E.m,E.e)))}var T=c;for(var i=0;i<$.length;
i++){y._Z(c,X*b+4);D=$[i];if(H==0||H==2||H==3)c=eH.nv(E.H_,D,y.data,X,b,c,H);else{var r=E.H_?4:2;if(i==0)c+=$.length*b*r;
var I=c;c+=eH.aCv(D,y.data,X,b,T+i*b*r,c,r)}}return c};function bR(){}bR.ux=function(E){var y={};bR.JE(E,y,0,0);
return y};bR.sa=function(E,y){var c=0;c=bR.Sd(E,y,c,0);return c};bR.JE=function(E,y,c,e){while(E[c]!="<".charCodeAt(0))c++;
c+=2;while(!0){if(E[c]=="/".charCodeAt(0)){c++;var p=_.indexOf(E," ".charCodeAt(0),c,c+50),H=_.indexOf(E,"\n".charCodeAt(0),c,c+50);
if(H==-1)H=Infinity;if(p==-1)p=Infinity;var Z=Math.min(H,p),X=_.xY(E,c,Z-c),b=bR.NS(E,Z+1,e+1,X);y[X]=b.b;
c=Z+1;c+=b.size}else if(E[c]==">".charCodeAt(0)){c+=2;break}else{var k=E[c];if(k==10||k==9||k==32)c++;
else{console.log("unknown byte: "+k+", char: "+String.fromCharCode(k),c);c++}}}return c};bR.Sd=function(E,y,c,e){_.cW(y,c,"<<\n");
c+=3;var p=bR.ak0;for(var H in E){_.Bz(y,c,"\t".charCodeAt(0),e+1);c+=e+1;_.cW(y,c,"/"+H);c+=1+H.length;
if(p(E[H])||E[H]instanceof Array){_.cW(y,c," ");c++}else{_.cW(y,c,"\n");c++;_.Bz(y,c,"\t".charCodeAt(0),e+1);
c+=e+1}c=bR.Kk(E[H],y,c,e+1);_.cW(y,c,"\n");c++}_.Bz(y,c,"\t".charCodeAt(0),e);c+=e;_.cW(y,c,">>");c+=2;
return c};bR.NS=function(E,y,c,e){var p=y,H={size:0,b:0};while(!0){while(E[y]==" ".charCodeAt(0)||E[y]=="\t".charCodeAt(0)||E[y]=="\n".charCodeAt(0))y++;
if(E[y]=="<".charCodeAt(0)){H.b={};y=bR.JE(E,H.b,y,c+1);break}else if(E[y]=="(".charCodeAt(0)){y+=3;
var Z=y;while(!0){if(E[Z-1]!="\\".charCodeAt(0)&&E[Z]==")".charCodeAt(0)&&(E[Z+1]=="\n".charCodeAt(0)||E[Z+1]==" ".charCodeAt(0)))break;
else Z++}H.b=_.a1A(E,y,Z);y=Z+2;break}else if(E[y]=="[".charCodeAt(0)){y++;H.b=[];while(E[y]==" ".charCodeAt(0)||E[y]=="\t".charCodeAt(0)||E[y]=="\n".charCodeAt(0))y++;
while(E[y]!="]".charCodeAt(0)){var X=bR.NS(E,y,c+1,e);H.b.push(X.b);y+=X.size;while(E[y]==" ".charCodeAt(0)||E[y]=="\t".charCodeAt(0)||E[y]=="\n".charCodeAt(0))y++}y++;
break}else{var b=_.indexOf(E," ".charCodeAt(0),y,y+50),k=_.indexOf(E,"\n".charCodeAt(0),y,y+50);if(k==-1)k=Infinity;
if(b==-1)b=Infinity;var D=_.xY(E,y,Math.min(b,k)-y).trim(),j=parseFloat(D);if(!isNaN(j)){H.b=parseFloat(D);
y=Math.min(b,k)+1;break}else if(D=="true"||D=="false"){H.b=D=="true";y=Math.min(b,k)+1;break}else if(D=="null"||D=="NaN"||D=="undefined"){H.b=0;
y=Math.min(b,k)+1;break}else{console.log("unknown identifier: "+D);throw"e"}y=Math.min(b,k)+1}}H.size=y-p;
return H};bR.Kk=function(E,y,c,e){if(E instanceof Array){var p=E.length==0||typeof E[0]=="number";if(p){_.cW(y,c,"[ ");
c+=2;for(var N=0;N<E.length;N++){var H=E[N]+" ";_.cW(y,c,H);c+=H.length}_.cW(y,c,"]");c+=1}else{_.cW(y,c,"[\n");
c+=2;for(var N=0;N<E.length;N++){_.Bz(y,c,"\t".charCodeAt(0),e);c+=e;c=bR.Kk(E[N],y,c,e);_.cW(y,c,"\n");
c++}_.Bz(y,c,"\t".charCodeAt(0),e);c+=e;_.cW(y,c,"]");c+=1}}else if(E instanceof Object){c=bR.Sd(E,y,c,e)}else if(typeof E=="string"){_.cW(y,c,"(");
c++;_.Bz(y,c,254);c++;_.Bz(y,c,255);c++;c=_.aqo(y,c,E);_.cW(y,c,")");c+=1}else{var H=E+"";_.cW(y,c,H);
c+=H.length}return c};bR.ak0=function(E){var y=typeof E;return y=="string"||y=="number"||y=="boolean"};
function i9(){}i9.ux=function(E){var y={};i9.asA(E,y,0,0);return y};i9.sa=function(E,y){var c=0;_.cW(y,c," ");
c++;c=i9.alm(E,y,c,0);c--;y._Z(c,2);y.data[c]=y.data[c+1]=0;c+=2;return c};i9.JE=function(E,y,c,e){while(E[c]!="<".charCodeAt(0)){c++;
console.log("šipka")}c+=2;c=i9.asA(E,y,c,e);return c};i9.Sd=function(E,y,c,e){_.cW(y,c,"<< ");c+=3;c=i9.alm(E,y,c,e);
_.cW(y,c,">>");c+=2;return c};i9.CK=function(E){return E==9||E==10||E==32};i9.asA=function(E,y,c,e){while(!0){while(i9.CK(E[c])||E[c]==0)c++;
if(c>=E.length)break;if(E[c]=="/".charCodeAt(0)){c++;var p=c;while(!i9.CK(E[p]))p++;var H=_.xY(E,c,p-c);
c=p+1;var Z=i9.NS(E,c,e,H);y["_"+H]=Z.b;c+=Z.size}else if(E[c]==">".charCodeAt(0)){c+=2;break}else{var X=E[c];
console.log(_.xY(E,c,c+100));console.log("unknown byte: "+X+", char: "+String.fromCharCode(X)+", offset: "+c);
c++;throw"e";return-1}}return c};i9.alm=function(E,y,c,e){for(var p in E){var H=p.substring(1,p.length);
_.cW(y,c,"/"+H);c+=1+H.length;_.cW(y,c," ");c++;c=i9.Kk(E[p],y,c,e+1,H);_.cW(y,c," ");c++}return c};
i9.NS=function(E,y,c,e){var p=y,H={type:"",size:0,b:0};while(i9.CK(E[y]))y++;if(E[y]=="<".charCodeAt(0)){H.type="Object";
H.b={};y=i9.JE(E,H.b,y,c+1)}else if(E[y]=="(".charCodeAt(0)){H.type="String";y++;if(E[y]==")".charCodeAt(0)){H.b="e";
y++}else if(E[y]==254&&E[y+1]==255){y+=2;var Z=y,X=0;while(!0){if(E[Z]==")".charCodeAt(0)&&E[Z-1]!="\\".charCodeAt(0))break;
else Z+=1}H.b="s"+_.a1A(E,y,Z);y=Z+2}else{var Z=y;while(E[Z]!=")".charCodeAt(0))Z++;H.b="s"+_.xY(E,y,Z-y);
y=Z+1}}else if(E[y]=="[".charCodeAt(0)){y++;H.b=[];H.type="Array";while(i9.CK(E[y]))y++;while(E[y]!="]".charCodeAt(0)){var b=i9.NS(E,y,c+1,e);
if(b==-1)return-1;H.b.push(b.b);y+=b.size;delete b.size;while(i9.CK(E[y]))y++}y++}else{var k=y;while(!i9.CK(E[k]))k++;
var D=_.xY(E,y,k-y),j=parseFloat(D);if(!isNaN(j)&&D.indexOf(".")!=-1){H.type="Float";var g=parseFloat(D);
H.b="f"+g}else if(!isNaN(j)&&D.indexOf(".")==-1){H.type="Integer";H.b="i"+parseInt(D)}else if(D=="true"||D=="false"){H.type="Boolean";
H.b=D=="true"}else if(D.charAt(0)=="/"){H.type="BString";H.b=D}else if(D=="NaN"||D=="undefined"){H.type="Float";
H.b="f0"}else{console.log("unknown value",JSON.stringify(D));throw"e"}y=k+1}H.size=y-p;return H};i9.aAV=function(E){if(E==Math.round(E))return E+".0";
var y=E.toFixed(5);while(y.endsWith("0")&&y[y.length-2]!=".")y=y.slice(0,y.length-1);if(0<E&&E<1)y=y.slice(1);
if(-1<E&&E<0)y="-"+y.slice(2);return y};i9.Kk=function(E,y,c,e,p){var H=typeof E=="string"?E.charAt(0):"";
if(E instanceof Array){_.cW(y,c,"[ ");c+=2;for(var N=0;N<E.length;N++){c=i9.Kk(E[N],y,c,e,"");_.cW(y,c," ");
c++}_.cW(y,c,"]");c+=1}else if(E instanceof Object){c=i9.Sd(E,y,c,e)}else if(H=="e"){_.cW(y,c,"()");
c+=2}else if(H=="s"){_.cW(y,c,"(");c++;if(p=="97"){_.cW(y,c,E.slice(1));c+=E.length-1}else{_.Bz(y,c,254);
c++;_.Bz(y,c,255);c++;c=_.aqo(y,c,E.slice(1))}_.cW(y,c,")");c++}else if(H=="/"){_.cW(y,c,E);c+=E.length}else if(H=="f"){var Z=parseFloat(E.substring(1)),X=i9.aAV(Z);
_.cW(y,c,X);c+=X.length}else if(H=="i"){_.cW(y,c,E.substring(1));c+=E.length-1}else{var X=E+"";_.cW(y,c,X);
c+=X.length}return c};function _(){}_.aCn=function(j1){var E="";for(var N=3;N>=0;N--)E+=String.fromCharCode(j1>>N*8&255);
return E};_.aBc=function(E){var j1=0;for(var N=E.length-1;N>=0;N--)j1|=E.charCodeAt(N)<<(3-N)*8;return j1};
_.indexOf=function(E,y,c,e){if(c==null)c=0;if(e==null)e=E.length;e=Math.min(e,E.length);for(var N=c;
N<e;N++)if(E[N]==y)return N;return-1};_.h6=function(E,y,c){if(c==null)c=0;var e=y.length,p=E.length-e;
if(typeof y=="string"){var H=[];for(var N=0;N<e;N++)H.push(y.charCodeAt(N));y=H}if(y.length>0){var Z=y[0];
for(var N=c;N<p;N++)if(E[N]==Z){var X=!0;for(var b=1;b<e;b++)if(y[b]!=E[N+b]){X=!1;break}if(X)return N}}return-1};
_.a1A=function(E,y,c){var e=[],H="";while(y<c){var p=E[y++];if(p=="\\".charCodeAt(0))e.push(E[y++]);
else e.push(p)}for(var N=0;N<e.length;N+=2)H+=String.fromCharCode(e[N]<<8|e[N+1]);return H};_.a9l=function(E,y,c){var e=new Uint8Array(2);
for(var N=0;N<c.length;N++){_.L8(e,0,c.charCodeAt(N));if(e[0]==")".charCodeAt(0)||e[0]=="(".charCodeAt(0)||e[0]=="\\".charCodeAt(0)){E[y]="\\".charCodeAt(0);
y++}E[y]=e[0];y++;if(e[1]==")".charCodeAt(0)||e[1]=="(".charCodeAt(0)||e[1]=="\\".charCodeAt(0)){E[y]="\\".charCodeAt(0);
y++}E[y]=e[1];y++}return y};_.aqo=function(E,y,c){E._Z(y,4*c.length);return _.a9l(E.data,y,c)};_.GL=function(E,y,c){var e="";
for(var N=0;N<c;N++){var p=E[y++]|E[y++]<<8;e+=String.fromCharCode(p)}return e};_.ZL=function(E,y,c){var e="";
for(var N=0;N<c;N++){var p=E[y++]<<8|E[y++];e+=String.fromCharCode(p)}return e};_.a7b=function(E,y,c){for(var N=0;
N<c.length;N++){var e=c.charCodeAt(N);_.Jf(E,y+2*N,e)}};_.adJ=function(E,y,c){for(var N=0;N<c.length;
N++){var e=c.charCodeAt(N);_.L8(E,y+2*N,e)}};_.a4p=function(E,y,c){E._Z(y,2*c.length);_.adJ(E.data,y,c)};
_.aE4=function(E,N,y){var c=[],e=0,p=0;y+=N;while(N<y){e=E[N++];if((e&128)==0)p=e;else if((e&224)==192){p=(e&31)<<6;
e=E[N++];p|=e&63}else if((e&240)==224){p=(e&15)<<12;e=E[N++];p|=(e&63)<<6;e=E[N++];p|=e&63}else if((e&248)==240){p=(e&7)<<18;
e=E[N++];p|=(e&63)<<12;e=E[N++];p|=(e&63)<<6;e=E[N++];p|=e&63}else throw"e";c.push(p)}return c};_.apA=window.TextDecoder?new window.TextDecoder("utf8"):null;
_.Uw=function(E,y,c){if(y==null)y=0;if(c==null)c=E.length;if(_.apA&&y==0&&c==E.length)return _.apA.decode(E);
var e=_.aE4(E,y,c),p=e.length;for(var N=0;N<p;N++)e[N]=String.fromCharCode(e[N]);return e.join("")};
_.a39=window.TextEncoder?new window.TextEncoder("utf8"):null;_.vx=function(E){if(_.a39)return _.a39.encode(E);
var y=new Uint8Array(E.length*4),c=_.Ww(E,y,0);return y.slice(0,c)};_.Ww=function(E,y,c){var e=E.length,N=0;
for(var p=0;p<e;p++){var H=E.charCodeAt(p);if((H&4294967295-(1<<7)+1)==0){y[c+N]=H;N++}else if((H&4294967295-(1<<11)+1)==0){y[c+N]=192|H>>6;
y[c+N+1]=128|H>>0&63;N+=2}else if((H&4294967295-(1<<16)+1)==0){y[c+N]=224|H>>12;y[c+N+1]=128|H>>6&63;
y[c+N+2]=128|H>>0&63;N+=3}else if((H&4294967295-(1<<21)+1)==0){y[c+N]=240|H>>18;y[c+N+1]=128|H>>12&63;
y[c+N+2]=128|H>>6&63;y[c+N+3]=128|H>>0&63;N+=4}else throw"e"}return N};_.m0=function(E,y){var c=_.q(E,y),e=_.Uw(E,y+4,c-1);
return{az:e,qC:4+c}};_.adK=function(E,y){var c=_.gT(E,y),e=_.GL(E,y+4,c);return e};_.ro=function(E,y){var c=_.q(E,y),e=_.ZL(E,y+4,c);
return e};_.Nm=function(E,y){var c=_.q(E,y),e=_.ZL(E,y+4,c-1);return e};_.abB=function(E,y,c){_.nI(E,y,c.length);
y+=4;_.a7b(E,y,c)};_.ayS=function(E,y,c){_.A$(E,y,c.length);y+=4;_.adJ(E,y,c)};_.Vr=function(E,y,c){E._Z(y,4+2*c.length);
_.ayS(E.data,y,c)};_.abh=function(E,y,c){E._Z(y,4+2*c.length);_.abB(E.data,y,c)};_.hg=function(E,y,c){var e=[];
for(var N=0;N<c;N++)e.push(String.fromCharCode(E[y+N]));return e};_.aAD=function(E,y,c){var e=!1,p=E.length-c.length;
for(var N=y;N<p;N++){for(var H=0;H<c.length;H++){if(E[N+H]!=c.charCodeAt(H))break;if(H==c.length-1)return N}}};
_.xY=function(E,y,c){var e="";for(var N=0;N<c;N++)e+=String.fromCharCode(E[y+N]);return e};_.bv=function(E,y,c){for(var N=0;
N<c.length;N++)E[y+N]=c.charCodeAt(N)};_.cW=function(E,y,c){E._Z(y,c.length);_.bv(E.data,y,c)};_.a6W=function(E,y,c){var e="";
for(var N=0;N<c;N++){var p=E[y+N];if(p<10)e+="  ";else if(p<100)e+=" ";e+=p+", "}return e};_.dT=function(E,y){return E[y]<<8|E[y+1]};
_.L8=function(E,y,j1){E[y]=j1>>8&255;E[y+1]=j1&255};_.xG=function(E,y,j1){E._Z(y,4);_.L8(E.data,y,j1)};
_.OO=function(E,y){var c=_.dT(E,y),e=_.dT(E,y+2);return c+e*(1/65536)};_.aAJ=function(E,y,j1){var c=Math.floor(j1),e=Math.floor((j1-c)*65536);
_.L8(E,y,c);_.L8(E,y+2,e)};_.iH=function(E,y){return E[y+1]<<8|E[y]};_.Jf=function(E,y,j1){E[y+1]=j1>>8&255;
E[y]=j1&255};_.Fk=function(E,y,j1){E._Z(y,4);_.Jf(E.data,y,j1)};_.aL=function(E,y){_.k2[0]=E[y+1];_.k2[1]=E[y];
return _.o0[0]};_.BP=function(E,y){_.k2[0]=E[y];_.k2[1]=E[y+1];return _.o0[0]};_.SX=_.L8;_.FZ=_.xG;_.$G=function(E,y){_.Tr[0]=E[y+3];
_.Tr[1]=E[y+2];_.Tr[2]=E[y+1];_.Tr[3]=E[y];return _.CJ[0]};_.FV=function(E,y,j1){_.CJ[0]=j1;E[y+3]=_.Tr[0];
E[y+2]=_.Tr[1];E[y+1]=_.Tr[2];E[y+0]=_.Tr[3]};_.Ye=function(E,y,j1){E._Z(y,4);_.FV(E.data,y,j1)};_.CQ=function(E,y,c,e){c[e+0]=E[y+0];
c[e+1]=E[y+1];c[e+2]=E[y+2];c[e+3]=E[y+3]};_.gT=function(E,y){_.CQ(E,y,_.Tr,0);return _.a12[0]};_.nI=function(E,y,j1){_.a12[0]=j1;
_.CQ(_.Tr,0,E,y)};_.wR=function(E,y,j1){E._Z(y,4);_.nI(E.data,y,j1)};_.ZE=function(E,y){_.CQ(E,y,_.Tr,0);
return _.CJ[0]};_.anJ=function(E,y,j1){_.CJ[0]=j1;_.CQ(_.Tr,0,E,y)};_.azo=function(E,y,j1){E._Z(y,4);
_.anJ(E.data,y,j1)};_.q=function(E,y){var c=E[y]*(256*256*256)+(E[y+1]<<16|E[y+2]<<8|E[y+3]);return c};
_.A$=function(E,y,j1){E[y]=j1>>24&255;E[y+1]=j1>>16&255;E[y+2]=j1>>8&255;E[y+3]=j1>>0&255};_.w$=function(E,y,j1){E._Z(y,4);
_.A$(E.data,y,j1)};_.vW=function(E,y){return _.q(E,y)<<32|_.q(E,y+4)};_.agn=function(E,y,j1){_.A$(E,y,j1>>16>>16);
_.A$(E,y+4,j1&4294967295)};_.PC=function(E,y,j1){E._Z(y,8);_.agn(E.data,y,j1)};_.ct=function(E,y){var c=new Uint8Array(8);
for(var N=0;N<8;N++)c[N]=E[y+7-N];var e=new Float64Array(c.buffer);return e[0]};_.Wv=function(E,y){var c=new Uint8Array(8);
for(var N=0;N<8;N++)c[N]=E[y+N];var e=new Float64Array(c.buffer);return e[0]};_.pZ=function(E,y,j1){var c=new Float64Array(1);
c[0]=j1;var e=new Uint8Array(c.buffer);for(var N=0;N<4;N++){var p=e[N];e[N]=e[7-N];e[7-N]=p}for(var N=0;
N<8;N++)E[y+N]=e[N]};_.zV=function(E,y,j1){E._Z(y,8);_.pZ(E.data,y,j1)};_.SI=function(E,y){_.Tr[0]=E[y+3];
_.Tr[1]=E[y+2];_.Tr[2]=E[y+1];_.Tr[3]=E[y+0];return _.Ge[0]};_.Q4=function(E,y){_.Tr[0]=E[y+0];_.Tr[1]=E[y+1];
_.Tr[2]=E[y+2];_.Tr[3]=E[y+3];return _.Ge[0]};_.D1=function(E,y,j1){_.Ge[0]=j1;E[y+0]=_.Tr[3];E[y+1]=_.Tr[2];
E[y+2]=_.Tr[1];E[y+3]=_.Tr[0]};_.amJ=function(E,y,j1){E._Z(y,4);_.D1(E.data,y,j1)};_.lS=function(E,y,j1){_.Ge[0]=j1;
E[y+0]=_.Tr[0];E[y+1]=_.Tr[1];E[y+2]=_.Tr[2];E[y+3]=_.Tr[3]};_.afL=function(E,y,j1){E._Z(y,4);_.lS(E.data,y,j1)};
_.avU=function(E,y){var c=_.$G(E,y),e=c*(1/(1<<24));return e};_.auX=function(E,y,c){var e=Math.floor(c*(1<<24));
_.FV(E,y,e)};_.ajw=function(E,y,c){E._Z(y,4);_.auX(E.data,y,c)};_.Fq=function(E,y){var c=E[y],e=_.xY(E,y+1,c);
c+=1-c%2;return{$f:e,length:c+1}};_.aA5=function(E,y,c){var e=c.length;E[y]=e;_.bv(E,y+1,c);if(e%2==0){E[y+1+e]=0;
++e}return e+1};_.L1=function(E,y,c){E._Z(y,c.length+2);return _.aA5(E.data,y,c)};_.nq=function(E,y){var c=new jr;
c.U=_.ct(E,y+0*8);c.J=_.ct(E,y+1*8);c.E7=_.ct(E,y+2*8);c.sN=_.ct(E,y+3*8);c.Kc=_.ct(E,y+4*8);c.Dm=_.ct(E,y+5*8);
return c};_.pm=function(E,y,c){_.pZ(E,y+0*8,c.U);_.pZ(E,y+1*8,c.J);_.pZ(E,y+2*8,c.E7);_.pZ(E,y+3*8,c.sN);
_.pZ(E,y+4*8,c.Kc);_.pZ(E,y+5*8,c.Dm)};_.aDO=function(E,y,c){E._Z(y,48);_.pm(E.data,y,c)};_.ajL=function(E,y){var c=_.SI(E,y),e=_.SI(E,y+4),p=_.SI(E,y+8),H=_.SI(E,y+12);
return new ir(c,e,p-c,H-e)};_.akR=function(E,y,c){_.D1(E,y,c.x);_.D1(E,y+4,c.y);_.D1(E,y+8,c.x+c.m);
_.D1(E,y+12,c.y+c.e)};_.auR=function(E,y,c){E._Z(y,16);_.akR(E.data,y,c)};_.SY=function(E,y){var c=_.$G(E,y),e=_.$G(E,y+4),p=_.$G(E,y+8),H=_.$G(E,y+12);
return new ir(e,c,H-e,p-c)};_.aac=function(E,y,c){_.FV(E,y,c.y);_.FV(E,y+4,c.x);_.FV(E,y+8,c.y+c.e);
_.FV(E,y+12,c.x+c.m)};_.K7=function(E,y,c){E._Z(y,16);_.aac(E.data,y,c)};_.kf=function(E,y,c){var e=new Uint8Array(c);
for(var N=0;N<c;N++)e[N]=E[y+N];return e};_.alh=function(E,y,c){E.set(c,y)};_.dZ=function(E,y,c){E._Z(y,c.length);
_.alh(E.data,y,c)};_.ap6=function(E,y,c,j1){if(!j1)j1=1;for(var N=0;N<j1;N++)E[y+N]=c};_.Bz=function(E,y,c,j1){if(!j1)j1=1;
E._Z(y,j1);_.ap6(E.data,y,c,j1)};_.o0=new Int16Array(1);_.k2=new Uint8Array(_.o0.buffer);_.CJ=new Int32Array(1);
_.a12=new Uint32Array(_.CJ.buffer);_.Tr=new Uint8Array(_.CJ.buffer);_.Ge=new Float32Array(_.CJ.buffer);
function en(){}en.ux=function(E,y){var c=new Uint8Array(E),e=0,p=_.xY(c,e,9),X=4,b=100;e+=9;var H=_.xY(c,e,4);
e+=4;e++;y.m=_.q(c,e);e+=4;y.e=_.q(c,e);e+=4;var Z=_.q(c,e);e+=4;if(Z!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(H)==-1){b=_.q(c,e);e+=4;if(parseInt(H.slice(1))>=7){b=b}else alert("Unknown XCF version: "+H);
X=8}var k={};e=en.xP(c,e,k);var D=[];e=en.jD(c,e,D,X);var j=[];e=en.jD(c,e,j,X);y.Aj=0;for(var N=0;N<D.length;
N++)en.al8(c,D[N],y,k,X,b);while(y.Aj>0){y.B.push(y.eM());y.Aj--}y.B.reverse();delete y.Aj;y.buffer=d.R(y.m*y.e*4);
if(y.B.length==0)console.log("No layers!!!");for(var N=0;N<j.length;N++){var g=en.awk(c,j[N],k,X,b);
if(g.jV[aF.ab0])y.i={channel:g.A_,rect:new ir(0,0,y.m,y.e)}}};en.al8=function(E,y,c,e,p,H){var Z=c.N8(),X=_.q(E,y),j=0;
y+=4;var b=_.q(E,y);y+=4;Z.rect=new ir(0,0,X,b);var k=_.q(E,y);y+=4;var D=_.m0(E,y);y+=D.qC;Z.v4(D.az);
var g={};y=en.xP(E,y,g);if(g[aF.a4$]){var R=g[aF.a4$];j=R.length/4-1}if(g[aF.we]){Z.rect.x=_.$G(g[aF.we],0);
Z.rect.y=_.$G(g[aF.we],4)}if(g[aF.aoQ]){Z.opacity=_.q(g[aF.aoQ],0)}if(g[aF.aoj]){Z.add.lsct=kl.Sh;Z.Gc=24}if(g[aF.amr]){var t=_.q(g[aF.amr],0);
Z.ur=aF.avQ[t];if(Z.uY()&&Z.ur=="norm")Z.ur="pass"}if(g[aF.aro]){if(_.q(g[aF.aro],0)==0)Z.Gc+=2}if(g[aF.agP]){var w=_.q(g[aF.agP],0);
Z.add.lsct=w&1==1?kl.Sh:kl.ze}if(g[aF.$W]){var B=g[aF.$W];for(var $ in B){var o=B[$];if($=="gimp-text-layer"){var T=en.agU(o),i=T.text,r=T.font,I=T.color,M=T["font-size"];
if(i==null&&T.markup){var J=new DOMParser,P=J.parseFromString(T.markup,"image/svg+xml");while(P.firstChild!=null&&P.firstChild.tagName!=null){P=P.firstChild;
var n=P.getAttribute("font"),x=P.getAttribute("foreground"),L=P.getAttribute("size");if(n!=null)r=n;
if(x!=null){x=CSS.LF(x);I=[1,x.Z/255,x.D/255,x.J/255]}if(L!=null){M=""+parseFloat(L)/245}}i=P.textContent}Z.add.lnsr="rend";
Z.add.TySh=gV.V1(0,0);Z.add.TySh.dz=new ir(0,0,100,100);Z.add.TySh.u=new jr(1,0,0,1,Z.rect.x,Z.rect.y);
var u=Z.add.TySh.Ax;gV.Y8(u,0,i);var C=gV.c$(u,0,0),h=T.justify,A=T["line-spacing"];if(I)C.na.FillColor={Type:1,Values:[1,parseFloat(I[1]),parseFloat(I[2]),parseFloat(I[3])]};
if(M){M=Math.round(parseFloat(M));C.na.FontSize=M;Z.add.TySh.u.Dm+=Math.min(17,M*.17)}if(A){A=Math.round(parseFloat(A)+C.na.FontSize*1.2);
C.na.Leading=A;C.na.AutoLeading=!1}if(h)C.dV.Justification=["left","right","center","fill"].indexOf(h);
if(r&&r!="Sans-serif"){var W=r.toLowerCase(),Q="bold italic semi extra regular condensed light".split(" "),l=W.length;
for(var N=0;N<Q.length;N++){var O=W.indexOf(Q[N]);if(O!=-1&&O<l&&W[O-1]==" ")l=O}if(l!=W.length)r=r.slice(0,l-1).split(" ").join("")+"-"+r.slice(l).split(" ").join("");
gV.Wn(C,r)}gV.gR(u,0,i.length,C);var z=T["box-width"],a=T["box-height"],m=z?parseFloat(z):Z.rect.m,q=a?parseFloat(a):Z.rect.e;
gV.qz(u,1);gV.fF(u,[0,0,Math.ceil(m),Math.ceil(q)])}else console.log("Unknown property "+$)}}while(c.Aj>j){c.B.push(c.eM());
c.Aj--}c.Aj=j;if(Z.add.lsct==kl.Sh||Z.add.lsct==kl.ze)c.Aj++;var K=p==4?_.q:_.vW,U=K(E,y);y+=p;var f=K(E,y);
y+=p;if(Z.Gq()){Z.buffer=d.R(Z.rect.P()*4);var Y=new d.Ay(Z.rect.P());en.ayK(E,U,Y,e,p,H);d.Dc(Y,Z.buffer)}if(f!=0){Z.F=new jN.W$;
var G=en.awk(E,f,e,p,H);Z.F.channel=G.A_;Z.F.rect=Z.rect.clone();if(g[aF.axV])Z.F.isEnabled=_.q(g[aF.axV],0)==1;
Z.F.color=Z.F.channel[0];Z.F.Q8()}if(Z.uY())Z.rect=new ir;c.B.push(Z)};en.agU=function(E){var y="("+_.Uw(E,0,E.length-1)+")",c=[],e={};
en.axm(y,1,c);en.ah_(c,e);return e};en.ah_=function(E,y){for(var N=0;N<E.length;N++){var c=E[N],e=c[0];
if(c.length==2)y[e]=c[1];else y[e]=c.slice(1)}};en.axm=function(E,y,c){while(!0){if(y>=E.length)throw"e";
var e=E.charAt(y);y++;if(e=="("){var p=[];y=en.axm(E,y,p);c.push(p)}else if(e==" "||e=="\n"||e=="\r"){}else if(e==")")return y;
else if(e=="\""){var H=y;while(!0){var Z=E[y];y++;if(Z=="\"")break;if(Z=="\\")y++}c.push(JSON.parse(E.slice(H-1,y)))}else{var H=y-1;
while(E[y]!=" "&&E[y]!=")")y++;c.push(E.slice(H,y))}}};en.awk=function(E,y,c,e,p){var H=_.q(E,y);y+=4;
var Z=_.q(E,y);y+=4;var X=_.m0(E,y);y+=X.qC;var b={};y=en.xP(E,y,b);var k=new d.Ay(H*Z),D=e==4?_.q:_.vW,j=D(E,y);
y+=e;en.ayK(E,j,k,c,e,p);return{A_:k.Z,jV:b}};en.ayK=function(E,y,c,e,p,H){var Z=_.q(E,y);y+=4;var X=_.q(E,y);
y+=4;var b=_.q(E,y);y+=4;var k=p==4?_.q:_.vW,D=k(E,y);y+=p;en.aoE(E,D,c,e,b,p,H)};en.aoE=function(E,y,c,e,p,H,Z){var X=_.q(E,y),D=0,N=0;
y+=4;var b=_.q(E,y);y+=4;var k=new ir(0,0,X,b);if(Z==100||Z==150)D=1;else if(Z==200||Z==250)D=2;else if(Z==300||Z==350)D=4;
else if(Z==500||Z==550)D=2;else if(Z==600||Z==650)D=4;else if(Z==700||Z==750)D=8;else{alert("unsupported bit depth "+Z);
throw"e"}var j=p/D,D=Math.round(p/j),g=[];y=en.jD(E,y,g,H);var R=new d.Ay(64*64*D),t=new ir,w=e[aF.akV][0],B=[R.Z,R.D,R.J,R.U];
if(j==3)R.U.fill(255);var $=Date.now();if(g.length!=0)for(var o=0;o<b;o+=64)for(var T=0;T<X;T+=64){var i=Math.min(X-T,64),r=Math.min(b-o,64),I=i*r;
t.tW(T,o,i,r);en.aqh(E,g[N++],I*D,w,j,B);if(Z==100||Z==150){}else if(Z==250){for(var M=0;M<j;M++){var J=B[M];
for(var P=0;P<I;P++){var n=J[P]<<8|J[I+P];J[P]=Math.min(n>>>8,255)}}}else if(Z==600){var x=en.axl(),L=new Uint32Array(1),u=new Float32Array(L.buffer);
for(var M=0;M<j;M++){var J=B[M];for(var P=0;P<I;P++){L[0]=J[P]<<24|J[I+P]<<16|J[(I<<1)+P]<<8|J[(I<<1)+I+P]<<0;
var C=u[0];if(C<0)C=0;else if(C>1)C=1;J[P]=x[~~(.5+C*1e3)]}}}else console.log("unknown data format",Z);
d.IO(R,t,c,k)}};en.axl=function(){var E=en.acJ;if(E!=null)return E;E=en.acJ=new Uint8Array(1001);for(var N=0;
N<1001;N++)E[N]=~~(.49+255*d.nW(N*.001));return E};en.aqh=function(E,y,c,e,p,H){if(e==1){for(var Z=0;
Z<p;Z++){var X=H[Z],b=0;while(b<c){var j1=E[y];y++;if(j1<127){var k=E[y];y++;j1++;for(var N=0;N<j1;N++)X[b+N]=k}else if(j1==127){var D=E[y];
y++;var j=E[y];y++;var k=E[y];y++;j1=D<<8|j;for(var N=0;N<j1;N++)X[b+N]=k}else if(j1==128){var D=E[y];
y++;var j=E[y];y++;j1=D<<8|j;for(var N=0;N<j1;N++)X[b+N]=E[y+N];y+=j1}else{j1=256-j1;for(var N=0;N<j1;
N++)X[b+N]=E[y+N];y+=j1}b+=j1}}}else if(e==2){var g=pako.inflate(E.slice(y)),R=Math.round(g.length/c);
for(var N=0;N<c;N++){var t=N*R;H[0][N]=g[t];H[1][N]=g[t+1];H[2][N]=g[t+2];H[3][N]=R==3?255:g[t+3]}}else alert("Unknown compression "+e)};
en.jD=function(E,y,c,e){var p=e==4?_.q:_.vW;while(!0){var H=p(E,y);y+=e;if(H==0)break;else c.push(H)}return y};
en.xP=function(E,y,c){while(!0){var e=_.q(E,y);y+=4;var p=_.q(E,y);y+=4;if(e==aF.aqT)break;else if(e==aF.$W)c[e]=en.agC(E,y,y+p);
else c[e]=_.kf(E,y,p);y+=p}return y};en.agC=function(E,y,c){var e={};while(y<c){var p=_.m0(E,y);y+=p.qC;
var H=_.q(E,y);y+=4;if(H!=1)console.log("unknown flags",H);var Z=_.q(E,y);y+=4;e[p.az]=_.kf(E,y,Z);y+=Z}return e};
var aF={aqT:0,ayM:1,ai7:2,akG:3,ab0:4,aCI:5,aoQ:6,amr:7,aro:8,an4:9,a2A:10,axV:11,awZ:12,a4b:13,a8l:14,we:15,awD:16,akV:17,axu:18,anu:19,auT:20,$W:21,ayQ:22,a6j:23,amM:24,agW:25,ai8:26,ayp:27,ahb:28,aoj:29,a4$:30,agP:31,aCc:32,aqP:33,aw5:34,abi:35,a0y:36,anw:37,as0:38,amG:0,akS:1,a2R:2,a56:3,a8A:1,ahR:2,a90:0,aCO:1,axS:1};
aF.avQ="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var ht=function(){var E=!1,y,c,$=0,i;function e(){var M=_.xY(y,c,4);c+=4;return M[3]+M[2]+M[1]+M[0]}function p(){var M=_.xY(y,c,4);
c+=4;return M}function H(){var M=y[c];c+=1;return M}function Z(){var M=_.iH(y,c);c+=2;return M}function X(){var M=_.gT(y,c);
c+=4;return M}function b(){var M=_.ZE(y,c);c+=4;return M}function k(){var M=_.gT(y,c);c+=8;return M}function D(){var M=_.Q4(y,c);
c+=4;return M}function j(){var M=_.Wv(y,c);c+=8;return M}function g(){var M=_.iH(y,c),J=_.Uw(y,c+2,M);
c+=2+M;return J}function R(){var M=_.gT(y,c),J=_.Uw(y,c+4,M);c+=4+M;return J}function t(M){c=M;var J=[];
while(c!=0){var P=p();if(P!="#FT4"&&P!="#FT3"&&P!="#FT2")throw P;var n=k(),x=k(),L=k(),u=k(),C=k(),h=X(),A=X(),W=X(),Q=Z(),l=H(),O={};
J.push(O);for(var N=0;N<h;N++){var z=X(),a=H();if(a!=0&&a!=1&&a!=2)throw a;var m=[];if(a==0||a==1){var q=k(),K=k(),U=k(),f=X(),Y=H(),G=X(),V=P!="#FT4"?0:X(),dF=null;
if(P=="#FAT"||P=="#FT2"){switch(Y){case 1:Y=1;break;case 2:Y=65;break;case 3:Y=129;break;case 4:Y=193;
break;default:Y=0;break}}if(a==0)dF=g();m=[q,K,U,Y,dF]}O["i"+z]=[a,m]}for(var N=0;N<Q;N++){var s=Z(),aH=Z(),dw=k(),kO=_.xY(y,c,s);
c+=s}c=n}J.reverse();for(var hX=1;hX<J.length;hX++){var O=J[hX],jF=J[hX]=JSON.parse(JSON.stringify(J[hX-1]));
for(var gn in O){var hM=O[gn];if(hM[0]==0)jF[gn]=hM;else if(hM[0]==1){hM[1][4]=jF[gn][1][4];jF[gn]=hM}else if(hM[0]==2)delete jF[gn]}}var ie=J.pop(),bN=[];
for(var gn in ie)bN.push(ie[gn][1]);bN.sort(function(kd,i7){return kd[0]-i7[0]});return bN}function w(M,J,P,n){while(c<y.length){var x=H(),h=null;
if(x==0){if(n){var L=H();if(L!=2){var u=e()}if(L==0)c+=4;n=!1;continue}else{break}}var C=e();if(E)console.log("  ".repeat(J),x,x&127,C,M._type);
if(x>127)h=B(x,J,P);else h=o(x,J,P);if(E)console.log("  ".repeat(J),h);M[C]=h}}function B(M,J,P){var n=[];
M=M&127;if(M==43)c+=4;var x=X();if(M==50){var L=e(),u=Z();if(u!=1)throw"e";for(var N=0;N<x;N++){var C={_status:"NotShared",_type:L};
n.push(C);var h=H();if(h!=1)throw h;w(C,J+1,P)}}else if(M==41){if(x>8)throw x;for(var N=0;N<x;N++)n.push((y[c]>>>N&1)==1);
c++}else for(var N=0;N<x;N++){n.push(o(M,J,P,N!=0));if(M==42)M=2}return n}function o(M,J,P,n){var x=null;
if(M==49){x={};var L=H();if(L!=0){var u=X();if(P==null){x._id=u;x._status=["Shared","Link"][L-1]}if(P&&L==2)x=P[u];
if(L==1){if(P)P[u]=x;var C=H(),h=!1;if(C>1)throw C;x._type=e();if(E)console.log("  ".repeat(J),"new",x._type,C,c);
if(C==0){while(!0){var A=Z();if(A!=0&&A!=1&&A!=2&&A!=3&&A!=4)throw A;if(y[c]!=0){h=!0;break}var W=Z();
if(W==512)break;var Q=e();if(W==256)break}}w(x,J+1,P,h)}}}else if(M==50){x={_status:"NotShared"};if(H()==1){x._type=e();
c+=2;w(x,J+1,P)}}else if(M==1)x={type:"byte",value:H()};else if(M==2)x={type:"uint16",value:Z()};else if(M==3)x={type:"uint32",value:X()};
else if(M==4)x={type:"uint64",value:k()};else if(M==7)x={type:"int32",value:b()};else if(M==8)x={type:"int64",value:k()};
else if(M==9)x={type:"float32",value:D()};else if(M==10)x={type:"float64",value:j()};else if(M==21)x={type:"Vec2i",value:[X(),X()]};
else if(M==23)x={type:"Vec4i",value:[X(),X(),X(),X()]};else if(M==33)x={type:"Vec4f",value:[D(),D(),D(),D()]};
else if(M==36)x={type:"Vec2",value:[j(),j()]};else if(M==38)x={type:"Vec4",value:[j(),j(),j(),j()]};
else if(M==40)x={type:"Vec6",value:[j(),j(),j(),j(),j(),j()]};else if(M==41)x={type:"bool",value:H()!=0};
else if(M==42)x={type:"Enum",value:X()};else if(M==43)x={type:"string",value:R()};else if(M==44){if(n!=!0)$=Z();
x={type:"curv16",value:[j(),$==12?[H(),H(),H(),H()]:[X(),X()]]}}else if(M==45){var l=X();x={type:"buff",value:y.slice(c,c+l)};
c+=l}else if(M==47){x={type:"uint32",value:X()}}else if(M==48){var O=[],z=Z();if(z!=1)throw z;while(!0){if(y[c]==135){var a=B(H(),J+1,P),m=B(H(),J+1,P),q=B(H(),J+1,P);
O.push([a,m,q])}else{var K=1;if(y[c]==3){H();K=X()}for(var N=0;N<K;N++){if(H()!=41)throw"e";var u=H();
if(u!=0&&u!=1)throw u;if(H()!=172)throw"e";var U=X(),f=Z(),Y=[];O.push(Y);if(f!=18)throw f;if(U>4e3)throw U;
for(var G=0;G<U;G++)Y.push([j(),j(),H(),H()])}}if(y[c]==0){c++;break}}x={type:"curve",value:O}}else if(M==51){x={type:"EmbeddedData"};
x[e()]=R()}else if(M==52)x={type:"uint32",value:X()};else if(M==56)x={type:"Color32",value:[H(),H(),H(),H()]};
else if(M==60)x={type:"ColorGRAY",value:[D(),D()]};else if(M==68)x={type:"ColorRGBA",value:[D(),D(),D(),D()]};
else if(M==72)x={type:"ColorCMYK",value:[D(),D(),D(),D(),D()]};else{throw M}return M==49||M==50||M==51?x:x.value}function T(M){var J=0,P=M.length;
for(var N=0;N<P;N++)M[N]=J=J+M[N]&255}function r(M){y=M;c=4;var J=X(),P=p();if(P!="nsrP")throw P;var P=p();
if(P!="#Inf")throw P;var n=k();i=k();var x=k(),L=k(),u=k(),C=X(),h=X(),P=p();if(P!="Prot")throw P;var C=X(),A=t(n),W={},Q=Date.now();
for(var l=0;l<A.length;l++){var O=A[l],z=O[3],U=null;c=O[0];var P=p();if(P!="#Fil")throw P;var a=z>>>5&1,m=z&3,q=z&192;
switch(q){case 64:q=1;a=0;break;case 128:q=2;break;case 192:q=3;break;default:q=0;a=0}var K=new Uint8Array(y.buffer,c,O[2]);
if(m==0)U=K;else if(m==1)U=pako.inflate(K);else if(m==2)U=iu.OV.zh(K,O[1]);else throw m;if(a==0){if(q==1)T(U);
if(q==2)throw"e"}else if(a==1){if(q==2)T(U);else throw q}else throw a;W[O[4]]=U}return W}function I(M){var J=r(new Uint8Array(M));
y=J["doc.dat"];c=16;var P={};w(P,0,[]);return[J,P,i]}return{aj2:I}}();function fy(){}fy.ux=function(){function E(R,t){var w=Date.now(),B=ht.aj2(R),$=B[0],o=B[1],T=B[2],i=o.DocR,r=i.DfSz,I=i.Chld;
if(I.length!=1)console.log(I);var M=I[0],J=M.SprB;I=M.Chld;t.m=~~J[2];t.e=~~J[3];t.buffer=d.R(t.m*t.e*4);
var P=[0,{}];for(var N=0;N<I.length;N++)p(I[N],t,$,new jr,P,0);t.Fy(P[0]);console.log(Date.now()-w,"Document created");
w=Date.now()}function y(R){return new jr(R[0],R[3],R[1],R[4],R[2],R[5])}function c(R,t){var w=t.Xfrm;
w=w?y(w):new jr;w.concat(R);return w}function e(R){var t={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[R];
return t?t:"norm"}function p(R,t,w,B,$,o){var T=R._type,i=R.Chld,r=t.N8();r.v4(R.Desc==null||R.Desc==""?T=="Grup"?"Folder":"Layer":R.Desc);
r.rP(R.Visi);r.opacity=Math.round(255*R.Opac);if(R.FOpc!=1)r.add.iOpa=Math.round(255*R.FOpc);var I=R.Blnd;
if(I!=null)r.ur=e(I);var M=c(B,R),J=T=="ShpN"||T=="PCrv";if(i){t.B.push(t.eM());r.add.lsct=kl.Sh;r.ur="pass";
r.Gc=24;if(T=="ShpN"){var P=R.ShpB;r.ix(new ir(P[0]+M.Kc,P[1]+M.Dm,P[2]-P[0],P[3]-P[1]));$[0]++;r.add.artb.Clr={t:"Objc",v:d.L.hp({Z:255,D:255,J:255})}}for(var N=0;
N<i.length;N++)p(i[N],t,w,M,$,o+1)}else if(T=="Rstr"||T=="ImgN"||T=="MRst"){var n=R.Bitm,x=n.Bckg,L=Date.now(),u;
if(x==null){u=k(n,w,$[1]);r.rect=u[2].clone();r.buffer=u[1].slice(0);r.rect.x+=M.Kc;r.rect.y+=M.Dm}if(x||M.ul()!=1){var C,h=0,A=0;
if(x){var W=w[x.Data],Q=_.h6(W,"ataD")+4,l=_.gT(W,Q);Q+=4;C=W.slice(Q,Q+l)}else{h=r.rect.x-M.Kc;A=r.rect.y-M.Dm;
if(u[3]==null)u[3]=new Uint8Array(iu.sF("PNG").Jv([[r.buffer.buffer]],r.rect.m,r.rect.e));C=u[3].slice(0)}var O=t.np(C,r.getName(),0,0);
O.Gc=r.Gc;O.opacity=r.opacity;r=O;var z=new jr;z.translate(h,A);z.concat(M);var a=r.rect.clone();a.x=a.y=0;
var m=d.A.S6(a).j;d.A.u(m,z,m);r.add.SoLd.Trnf=F.Y.Zd(m);r.add.SoLd.nonAffineTransform=F.Y.Zd(m);r.an(t,!1)}}else if(T=="TxtA"||T=="TxtF"){r.add.lnsr="rend";
r.add.TySh=gV.V1(0,0);r.add.TySh.dz=new ir(0,0,100,100);var q=R.TxtH.FrmB,K=1,U=1,f=r.add.TySh.u=new jr,s=0;
f.translate(q[0],q[1]);f.concat(M);if(T=="TxtF"){var Y=Math.atan2(-f.J,f.U);f.rotate(-Y);K=f.U;U=f.sN;
f.sN=f.U=1;f.rotate(Y)}var G=r.add.TySh.Ax,V=R.StSt,dF=V.Blok;if(dF.length!=1)throw"e";for(var aH=0;
aH<dF.length;aH++){var dw=dF[aH],kO=s,hX=0,jF=dw.Glyp.Utf8;if(jF==null)continue;jF=jF.replace(/\u2028/g,"\n");
jF=jF.replace(/\u2029/g,"\n");jF=jF.slice(0,jF.length-1);if(jF=="")continue;r.v4(jF.slice(0,255));gV.Y8(G,s,jF);
s+=jF.length;var gn=dw.GAtt.Runs,hM=dw.PAtt.Runs[0],ie=hM.Item.Ints[0];for(var bN=0;bN<gn.length;bN++){var kd=gn[bN],i7=kd.Indx,dn=kd.Item,ew=dn.Objs,e4=gV.c$(G,kO,1);
e4.dV.Justification=ie==0?0:ie==1?2:1;gV.Wn(e4,dn.DFnt.Post);e4.na.FontSize=dn.Doub[0];for(var N=0;N<ew.length;
N++){var eE=ew[N];if(eE._type=="FDsc"){var jc=eE.FDeF;if(jc._type=="FilS"){var ft=b(jc.Colr);e4.na.FillColor={Type:1,Values:[1,ft[0],ft[1],ft[2]]}}}}gV.gR(G,kO+hX,kO+Math.min(i7,jF.length),e4);
hX=i7}}gV.qz(G,1);gV.fF(G,[0,0,Math.round((q[2]-q[0])*K),Math.round((q[3]-q[1])*U*1.2)]);t.kc=!0}else if(J){r.Gc|=16;
var bd=r.add.vstk=cb.CY.TL(!0),iB=r.add.vmsk=H(R);d.o.dg(iB.X,M);if(R.BFFl){var cG=R.BFFl[0].FDeF,bT=cG._type;
if(bT=="FilS")r.add.SoCo={classID:"null",Clr:X(cG.Colr)};else if(bT=="FilG"){var g$=r.add.GdFl=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]);
Z(cG,g$)}else if(bT=="FilN"){r.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}};bd.fillEnabled.v=!1}else console.log(bT)}if(R.LILn){var ah=R.LILn[0].LDeL,co=ah.Wght;
if(co!=0){bd.strokeEnabled.v=!0;bd.strokeStyleLineWidth.v.val=co;var cG=R.LIFl[0].FDeF,bT=cG._type;if(bT=="FilS")bd.strokeStyleContent.v.Clr=X(cG.Colr);
else if(bT=="FilN")bd.strokeEnabled.v=!1}}r.m5();r.fP(t)}else console.log(T);var im=R.AdCh,hb=[];if(im)for(var N=0;
N<im.length;N++){var dI=im[N],bw=dI._type;if(bw=="ShpN"||bw=="PCrv"){var iB=r.add.vmsk=H(dI),fb=c(M,dI);
d.o.dg(iB.X,fb);r.m5();r.fP(t)}else if(dI.AdjP){var iG=dI.AdjP,dy=iG._type,kp={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dy];
if(kp==null){console.log(iG);continue}var gw=cN.cK(kp,{});hb.push(gw);var dR=gw.v.Fltr.v;if(dy=="LevP"){var fT=fE.PM(dR,0);
fT[0]=iG.OutB*255;fT[1]=iG.OutW*255;fE.UL(dR,0,fT)}else if(dy=="WhBP"){var fT=fE.PM(dR,2);fT[4]=100+iG.WBTi*20;
fE.UL(dR,2,fT);var fT=fE.PM(dR,3);fT[4]=100+iG.WBTi*200;fE.UL(dR,3,fT)}else if(dy=="HSSP"){var fT=b0.PM(dR,0);
fT[0]=Math.round(iG.HueA*256);fT[1]=Math.round(iG.SatA*256);fT[2]=Math.round(iG.LumA*256);b0.UL(dR,0,fT)}else if(dy=="RecP"){dR.Clrz.v=!0;
var fT=b0.PM(dR,0);fT[0]=Math.round(iG.RecH*100);fT[1]=Math.round(iG.RecS*100);fT[2]=Math.round(iG.RecL*100);
b0.UL(dR,0,fT)}else if(dy=="B&CP"){dR.Brgh.v=Math.round(iG.Brig*100);dR.Cntr.v=Math.round(iG.Ctrs*100-100)}else if(dy=="PosP"){dR.Lvls.v=iG.Post}else if(dy=="VibP"){dR.vibrance.v=iG.Vibr-100;
dR.Strt.v=Math.round(iG.Satu*100)}else if(dy=="ExpP"){dR.Exps.v=iG.Expo;dR.gammaCorrection.v=iG.Gamm/2.2}else if(dy=="ThrP"){dR.Lvl.v=Math.round(iG.Thre*255)}else if(dy=="CrvP"){var gA=iG.Mast["Cnt "],by=iG.Mast.Vals,fT=gG.PM(dR,0),fv=fT[0];
for(var d4=0;d4<gA;d4++){var fg=fT[d4]=JSON.parse(JSON.stringify(fv));fg.v.Hrzn.v=Math.round(by[d4]*255);
fg.v.Vrtc.v=Math.round(by[4+d4]*255)}gG.UL(dR,0,fT)}}else console.log(dI)}if(hb.length!=0&&r.add.SoLd){r.add.SoLd.filterFX=cN.z3();
t.sV({id:r.add.SoLd.placed.v,rect:new ir,buffer:d.R(1),F:new jN.W$});r.add.SoLd.filterFX.v.filterFXList.v=hb;
r.an(t,!1)}var aC=R.FiEf;if(aC&&aC.length!=0){var bu=r.add.lmfx=JSON.parse(cb.default);for(var N=0;N<cb.order.length;
N++)bu[cb.zt[N]]={t:"VlLs",v:[]};for(var hj=0;hj<aC.length;hj++){var jg=aC[hj],cm=jg._type,bz={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[cm],g$=bz?JSON.parse(cb.Dn[cb.order.indexOf(bz)]):null;
if(cm=="ColO"){g$.Clr=X(jg.Colr)}else if(cm=="GrdO"){Z(jg.GrFl.FDeF,g$)}else if(cm=="Shad"||cm=="InnS"||cm=="OutG"||cm=="InnG"){g$.Clr=X(jg.Colr);
g$.blur.v.val=Math.round(jg.Radi/2.4);if(jg.Offs!=null){g$.Dstn.v.val=jg.Offs;g$.lagl.v.val=Math.round(180-jg.Angl*180/Math.PI);
g$.uglg.v=!1}}else if(cm=="Strk"){g$.Clr=X(jg.Colr);g$.Sz.v.val=Math.round(jg.Radi)}else if(cm=="PhgB"||cm=="BevE"){g$.blur.v.val=Math.round(jg.Radi);
if(cm=="BevE")g$.bvlS.v.BESl="PlEb"}else if(cm=="Gaus"){if(J&&jg.Enab){r.add.vmsk.oV=jg.Radi/2.4;r.add.vmsk.tq=!0;
r.m5();r.fP(t)}}if(bz){g$.enab.v=jg.Enab;if(g$.Md&&jg.BlnM!=null)g$.Md.v.BlnM=cg.KH(e(jg.BlnM));if(g$.Opct&&jg.Opac!=null)g$.Opct.v.val=Math.round(jg.Opac*100);
var db=cb.zt[cb.order.indexOf(bz)];bu[db].v.unshift({t:"Objc",v:g$})}}}t.B.push(r)}function H(R){var t=new jN.pU,w=R._type;
if(w=="PCrv"){var B=R.Crvs.Data,$=[],o=[];for(var N=0;N<B.length;N++){var T=B[N],i=T.length%3;if(i!=1){T=i==2?T[0][2]!=0?T.slice(0,T.length-1):T.slice(1):T.slice(1,T.length-1)}for(var r=0;
r<T.length;r++){var I=T[r],M=I[2];if(M!=0)$.push(r==0?"M":"C");o.push(I[0],I[1])}}t.X=d.A.V2({j:o,G:$},!0)}else{var J=R.ShpB,P=R.Shpe,n=P._type,x=J[2]-J[0];
if(n=="ShpE"){t.X=d.o.M1.fM(J[0],J[1],J[2]-J[0],J[3]-J[1])}else if(n=="ShNR"){var L=[0,0,0,0];if(P.CTyp){L=P.ShCR.slice(0);
for(var N=0;N<4;N++)L[N]*=J[2]-J[0]}t.X=d.o.M1.Rect(J[0],J[1],J[2]-J[0],J[3]-J[1],L)}else if(n=="ShpT"){t.X=d.A.V2({G:["M","L","L","Z"],j:[J[0],J[3],J[2],J[3],J[0]+x*.5,J[1]]},!0)}else if(n=="ShTz"){t.X=d.A.V2({G:["M","L","L","L","Z"],j:[J[0]+x*P.PosL,J[1],J[0]+x*P.PosR,J[1],J[2],J[3],J[0],J[3]]},!0)}else{console.log("--",n);
t.X=d.o.M1.Rect(J[0],J[1],J[2]-J[0],J[3]-J[1],[0,0,0,0])}}return t}function Z(R,t){var w=R.Grad,B=w.Cols;
t.Type.v.GrdT=R.Type==0?"Lnr":"Rdl";var $=[];for(var N=0;N<B.length;N++){var o=b(B[N]);$.push([w.Posn[N][0],o])}t.Grad.v.Intr.v=0;
d.L.Ll($,t.Grad.v);var T=w.Posn,i=new eq(T[0][0],T[0][1]),r=new eq(T[1][0],T[1][1]);if(R.Type==0)i=new eq((i.x+r.x)/2,(i.y+r.y)/2);
d.L.FO(i,r,new ir(0,0,1,1),t)}function X(R){var t=b(R);return{t:"Objc",v:d.L.hp({Z:t[0]*255,D:t[1]*255,J:t[2]*255})}}function b(R){var t=R._col,w=R._type;
if(w=="HSLA"){var B=d.nf(t[0],t[1],t[2]);return[B.Z,B.D,B.J,t[3]]}else if(w=="RGBA")return t;else if(w=="CMYK")return d.D5(t);
else if(w=="GRAY")return[t[0],t[1],t[2]];else{console.log(t);throw w}}function k(R,t,w){var B=R.Frmt,L="";
if(B!=0&&B!=1&&B!=4&&B!=6)throw B;var $=R.BmpW,o=R.BmpH,T=B==1?128:256,i=B==4?5:B==0||B==1?4:1,r=Math.ceil($/T),I=Math.ceil(o/256),M=new ir(0,0,r,I),J=new ir;
for(var N=0;N<i;N++){var P=new Uint8Array(R["Sta"+(N+1)]),n=d.pL(P,M);J=J.uN(n)}var x=[];for(var N=0;
N<i;N++){var P=new Uint8Array(R["Sta"+(N+1)]),u=d.R(J.P());d.kh(P,M,u,J);x[N]=[];for(var C=0;C<u.length;
C++)x[N][C]=u[C];L+=JSON.stringify(x[N])+","+JSON.stringify(R["Idx"+(N+1)])+","}if(w[L]==null){var h=J.m*T,A=J.e*256,W=new Array(i);
for(var N=0;N<i;N++){var P=W[N]=new Uint8Array(h*A);D(P,R["Idx"+(N+1)],x[N],t,h,A,T)}var Q=d.R(h*A*4);
if(B==0||B==1)d.Dc({Z:W[0],D:W[1],J:W[2],U:W[3]},Q);else if(B==4){for(var N=0;N<W[0].length;N++){var l=N*4,O=W[0][N]*(1/255),z=W[1][N]*(1/255),a=W[2][N]*(1/255),m=W[3][N]*(1/255),q=UDOC.C.cmykToRgb([O,z,a,m]);
Q[l]=q[0]*255;Q[l+1]=q[1]*255;Q[l+2]=q[2]*255;Q[l+3]=W[4][N]}}else{Q.fill(255);d.Q9(W[0],Q)}var K=new ir(0,0,h,A),U={buffer:Q,rect:K};
d.ig(U);w[L]=[U.rect,U.buffer]}var n=w[L][2]=w[L][0].clone();n.x+=J.x*T;n.y+=J.y*256;return w[L]}function D(R,t,w,B,$,o,T){var i=0,r=$>>>(T==256?8:7),I=o>>>8;
for(var M=0;M<I;M++)for(var J=0;J<r;J++){var P=J*T,n=M*256,x=M*r+J,L=n*$+P,u=w[x];if(u<=1)j(R,L,0,$,T,256);
else if(u==2)j(R,L,4294967295,$,T,256);else if(u==4){var C=t[i];i++;var h=B[C.Data.DatI],A=C.Rect;if(A==null)A=[0,0,T,256];
j(R,L,0,$,T,256);g(R,(n+A[1])*$+P+A[0],h,A[1]*T+A[0],$,T,A[2]-A[0],A[3]-A[1])}else console.log(u)}}function j(R,t,w,B,$,o){var T=t+B*o;
for(;t<T;t+=B){var i=t+$;for(var r=t;r<i;r++){R[r]=w}}}function g(R,t,w,B,$,o,T,i){var r=t+$*i,I=B+o*i;
for(;t<r&&B<I;t+=$,B+=o){for(var N=0;N<T;N++)R[t+N]=w[B+N]}}return E}();function gE(){}gE.ux=function(E,y){var c=gE,e=hg.parse(E),H=0;
if(e.pages.length>1)console.log(e.pages.length,"pages");var p=[],Z=new ir;for(var X=0;X<e.pages.length;
X++){var b=e.pages[X],k=b.layers,D=c.n7(k,X),g=!1;if(D.P()>8e3*8e3||D.m>3e4||D.e>3e4){c.ax5(k,!0);var j=c.n7(k,X);
if(j.P()>=D.P())c.ax5(k,!1)}D=c.n7(k,X);for(var R=0;R<k.length;R++){var t=k[R];if(c.SZ(t)=="artboard")g=!0}if(!g){console.log("no artboard");
var w={};for(var B in b)w[B]=b[B];w._class="group";b.layers=[w]}p.push(D.clone());if(D.tj())continue;
D.x=0;D.y=H;H+=D.e+200;Z=Z.uN(D)}var $={};if(e.foreignSymbols)for(var N=0;N<e.foreignSymbols.length;
N++){var o=e.foreignSymbols[N].symbolMaster;$[o.symbolID]={XE:o}}c.a0t(e.pages,$,y);for(var T in $){var t=$[T].XE,i=c.arR(t.layers)}var r=gE.Kf(Z,8192*8192);
y.kc=!0;y.m=Math.round(Z.m/r);y.e=Math.round(Z.e/r);y.buffer=d.R(y.m*y.e*4);y.Fy(e.pages[0].layers.length);
y.tM={};y.Tj=[];H=0;for(var X=0;X<e.pages.length;X++){var I=e.pages[X],D=p[X],M=new jr(r,0,0,r,D.x,D.y-H);
c.hL(I.layers,y,M,e,$,{},[]);H+=D.e+200}delete y.tM;delete y.Tj;if(r!=1)alert("File scaled down "+r+"x");
y.atA()};gE.a27=0;gE.SZ=function(E){return E._class?E._class:E.$class};gE.Kf=function(E,y){var c=1;while(Math.round(E.m/c)*Math.round(E.e/c)>y||Math.max(Math.round(E.m/c),Math.round(E.e/c))>3e4)c++;
if(c!=1&&!window.confirm("Your image is quite large ("+E.m+" x "+E.e+" px).\n"+"Press OK to scale it down "+c+"x, or Cancel to keep the size."))c=1;
return c};gE.n7=function(E,y){var c=[],e=gE;for(var p=0;p<E.length;p++){var H=E[p],Z=e.SY(H.frame);if(y==0||e.SZ(H)=="artboard")c.push(Z)}return d.rect.AS(c)};
gE.ax5=function(E,y){var c=[],e=gE;for(var p=0;p<E.length;p++){var H=E[p],Z=e.SY(H.frame);Z.m+=150;Z.e+=150;
c.push(Z)}var X=d.rect.AS(c);d.rect.aaa(c,y);var b=d.rect.AS(c);if(b.P()*1.5<X.P()||X.m>3e4&&b.m<=3e4||X.e>3e4&&b.e<=3e4){alert("Re-arranging artboards");
for(var p=0;p<E.length;p++){var k=c[p],H=E[p],D=H.frame;D.x=k.x;D.y=k.y}}};gE.a0t=function(E,y,c){if(E==null)return;
var e=gE;for(var p=0;p<E.length;p++){var H=E[p],Z=e.SZ(H);if(["page","artboard","group"].indexOf(Z)!=-1)e.a0t(H.layers,y,c);
else if(Z=="symbolMaster")y[H.symbolID]={XE:H}}};gE.arR=function(E){var y=gE;for(var c=0;c<E.length;
c++){var e=E[c],p=y.SZ(e),H=null;if(["page","artboard","group"].indexOf(p)!=-1)H=y.arR(e.layers);if(p=="symbolMaster"||p=="symbolInstance")H=e;
if(H!=null)return H}return null};gE.hL=function(E,y,c,e,p,H,Z){if(E==null)return;var X=gE,b=[];for(var k=0;
k<E.length;k++){var D=E[k],j=D.frame?X.SY(D.frame):null,g=D.style,$="",M=null,J=!1;if(g==null){console.log("no styles")}var R=X.aa$(D,c),t=X.SZ(D),w=t=="shapeGroup"||t=="shapePath"||t=="rectangle"||t=="oval"||t=="triangle"||t=="polygon",B=["page","artboard","group"].indexOf(t)!=-1;
if(t=="shapeGroup"){for(var N=0;N<D.layers.length;N++)if(X.SZ(D.layers[N])=="shapeGroup")B=!0}var o=D.exportOptions;
if(o){var T=o.exportFormats;if(T==null)T=o.sizes;if(t!="artboard"&&(T&&T.length!=0)){var i=T[0].scale}}var r=y.N8();
r.rP(D.isVisible);var I=D.name;if(!(typeof I=="string"))I=t;r.v4($+I.slice(0,250));if(g!=null)M=X.a1O(e,y,g,j,R,r.getName(),w||t=="artboard"||B);
if(t=="rectangle"&&g&&g.fills&&g.fills[0]){var P=g.fills[0];if(P.fillType==4&&P.patternFillType>1&&P.image!=null)J=!0}if(D.shouldBreakMaskChain){while(b.length!=0)X.ah9(b.pop(),y)}if(B){r.add.lsct=D.layerListExpandedType==2?kl.Sh:kl.ze;
r.ur="pass";r.Gc=24;r.rP(D.isVisible);y.B.push(y.eM());if(t=="artboard"){var n=j.clone(),x=R.ul();n.x=-Math.floor(R.Kc/x);
n.y=-Math.floor(R.Dm/x);n.m=Math.floor(n.m/x);n.e=Math.floor(n.e/x);r.ix(n);var L=D.backgroundColor,u=L?{Z:255*L.red,D:255*L.green,J:255*L.blue}:{Z:255,D:255,J:255};
r.add.artb.Clr={t:"Objc",v:d.L.hp(u)};r.add.artb.artboardBackgroundType={t:"long",v:4}}X.hL(D.layers,y,R,e,p,H,Z)}else if(w&&!J){var C=M!=null&&M.frameFXMulti.v.length==1;
r.add.vmsk=new jN.pU;r.add.vstk=cb.CY.TL(!0,C);var h=g?g.fills:null,A=g?X.a58(e,h,j,R,r.getName(),y,X.jR(Z,D.do_objectID+"_image")):[];
if(A.length==0){if(C)r.add.vstk.fillEnabled.v=!1;else r.add.iOpa=0;r.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}}}else{var W=A[0],Q=null,l=null;
if(W.type=="SoFi"){Q="SoCo";l=cb.nM}if(W.type=="GrFl"){Q="GdFl";l=cb.Bm}if(W.type=="patternFill"){Q="PtFl";
l=cb.Z0}if(Q!=null){r.add[Q]={classID:"null"};for(var N=0;N<l.length;N++){var O=l[N];r.add[Q][O]=W.b.v[O]}var z=W.b.v.Opct.v.val;
if(C&&z==0)r.add.vstk.fillEnabled.v=!1;else r.add.iOpa=Math.round(255*z/100)}}r.Gc|=16;r.add.vmsk.X=X.SL(D.layers?D.layers:[D],D.layers?R:c);
var a=g?g.blur:null;if(a&&a.isEnabled&&a.type<=1)r.add.vmsk.oV=a.radius;if(r.add.vmsk.X.length==2){console.log("shape with no content:",r.getName())}if(C){var m=M.frameFXMulti.v[0].v,q=r.add.vstk,K=g.borders[0];
M.frameFXMulti.v=[];hA.ac_(m,q);var U=g.borderOptions,f=g.miterLimit;if(U)cb.CY.write(q,{vh:U.lineCapStyle,nh:U.lineJoinStyle,hC:U.dashPattern,Xb:f})}r.m5();
r.fP(y)}else if(t=="bitmap"||J){if(!J&&D.image==null)continue;var Y=J?g.fills[0]:null,G=J?Y.image.bdata:D.image.bdata,V=y.np(G,r.getName(),0,0);
V.Gc=r.Gc;r=V;var a=g?g.blur:null,dF=g?g.colorControls:null;if(a||dF){r.add.SoLd.filterFX=cN.z3();y.sV({id:r.add.SoLd.placed.v,rect:new ir,buffer:d.R(1),F:new jN.W$});
var h=r.add.SoLd.filterFX.v.filterFXList.v;if(a){var s=cN.cK("GsnB",{});s.v.enab.v=a.isEnabled;s.v.Fltr.v.Rds.v.val=a.radius;
h.push(s)}if(dF){var aH=dF.brightness,dw=dF.contrast,kO=dF.hue,hX=dF.saturation;if(kO!=0||hX!=1){var s=cN.cK("hue2",{});
s.v.enab.v=dF.isEnabled;b0.UL(s.v.Fltr.v,0,[Math.round(kO*180/Math.PI),Math.round((hX-1)*100),0]);h.push(s)}if(aH!=0||dw!=1){var s=cN.cK("brit",{});
s.v.enab.v=dF.isEnabled;dw=dw-1;if(dw>0)dw/=2;var jF=s.v.Fltr.v;jF.Brgh.v=Math.round(aH*255);jF.Cntr.v=Math.round(dw*255);
jF.useLegacy.v=!0;h.push(s)}}}if(J){var gn=Y.patternFillType;if(gn==3){var hM=r.rect.m/r.rect.e,ie=j.m/j.e;
if(hM<ie){R.translate(-(j.m*(1-hM/ie))/2,0);R.scale(ie/hM,1)}else{R.translate(0,-(j.e*(1-ie/hM))/2);
R.scale(1,hM/ie)}}}j.x=j.y=0;var bN=d.A.S6(j).j;R.Ub();d.A.u(bN,R,bN);r.add.SoLd.Trnf=F.Y.Zd(bN);r.add.SoLd.nonAffineTransform=F.Y.Zd(bN);
r.an(y,!1)}else if(t=="text"){if(D.attributedString==null)continue;var kd=R.clone(),i7,dn,ft=0;kd.Ub();
kd.U=kd.sN=Math.min(kd.U,kd.sN);r.add.lnsr="rend";r.add.TySh=gV.V1(0,0);r.add.TySh.dz=new ir(0,0,j.m,j.e);
r.add.TySh.u=kd;var ew=D.attributedString;if(ew.archivedAttributedString)ew=ew.archivedAttributedString;
var e4=ew.NSString;if(e4==null)e4=ew.string;if(e4==null)e4="";if(e4["NS.string"])e4=e4["NS.string"];
if(H[D.do_objectID]!=null)e4=H[D.do_objectID];var eE=X.jR(Z,D.do_objectID+"_stringValue");if(eE)e4=eE.value;
if(ew.attributes!=null){i7=[];dn=[];var jc=ew.attributes;for(var N=0;N<jc.length;N++){i7.push(jc[N].length,N);
dn.push(jc[N].attributes)}}else if(ew.NSAttributeInfo==null){i7=[e4.length,0];dn=[ew.NSAttributes]}else{i7=ew.NSAttributeInfo["NS.data"];
dn=ew.NSAttributes;i7=gE.a1d(i7,dn)}for(var N=0;N<i7.length;N+=2)ft+=i7[N];if(ft!=e4.length){while(ft>e4.length){i7[i7.length-2]--;
ft--;if(i7[i7.length-2]==0){i7.pop();i7.pop()}}i7[i7.length-2]+=e4.length-ft}e4=e4.replace(/\u2028/g,"\n");
e4=e4.replace(/\u2029/g,"\n");e4=e4.replace(/\r/g,"\n");var bd=r.add.TySh.Ax;gV.Y8(bd,0,e4);if(e4!=""){var iB=D.textBehaviour,cG=g.textStyle,g$=cG?cG.verticalAlignment:0,hU=X.aBC(bd,i7,dn,e4),x=kd.ul(),ah=gV.c$(bd,0,1),bw=0;
if(ah.na.Font){var im=ah.GF[ah.na.Font].Name;if(im=="FontAwesome"||im=="Ionicons")hU*=.87}var dI=ah.na.AutoLeading?0:ah.na.Leading*.6,fb=Math.max(hU,dI)*x,iG=j.m,dy=j.e;
if(iB==0){gV.qz(bd,0);var kp=gV.Ex(ah.dV);if(kp==1)bw=iG*x;if(kp==2)bw=iG*x*.5;if(g$==0)fb*=1;else fb*=.9}else{gV.qz(bd,1);
gV.fF(bd,[0,0,Math.round(iG),Math.round(dy)]);if(iB==2&&g$==0)fb=fb*.2;else if(iB==2&&g$==1){fb=x*.5*(dy-ah.na.FontSize)}else if(iB==1&&g$==0)fb=fb*.2;
else fb=fb*.35}r.add.TySh.u.translate(bw,fb)}}else if(t=="symbolInstance"||t=="symbolMaster"){var gw=D.symbolID;
if(H[D.do_objectID])gw=H[D.do_objectID].symbolID;var dR=X.jR(Z,D.do_objectID+"_symbolID");if(dR)gw=dR.value;
if(gw=="")continue;var fT={};for(var O in H)fT[O]=H[O];if(D.overrides)for(var O in D.overrides)fT[O]=D.overrides[O];
var gA=Z.slice(0);if(D.overrideValues)gA=gA.concat(D.overrideValues);var by=p[gw];if(by==null){console.log("Unknown master master",D.symbolID);
continue}var fv=gE.SY(by.XE.frame),d4=fv.m/j.m,fg=fv.e/j.e,aC=R.clone();aC.scale(d4,fg);r.add.lsct=kl.ze;
r.ur="pass";r.Gc=24;r.rP(D.isVisible);y.B.push(y.eM());var bu=by.XE;if(y.Tj.indexOf(bu)==-1){y.Tj.push(bu);
X.hL(bu.layers,y,aC,e,p,fT,gA);y.Tj.pop()}}else if(t=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+t,D);continue}if(g&&g.contextSettings){var hj=g.contextSettings,jg=hj.blendMode;
if(jg<X.WH.length){r.ur=cg.Fn[cg.Y1.indexOf(X.WH[jg])];if(B&&r.ur=="norm")r.ur="pass"}r.opacity=Math.round(r.opacity*hj.opacity)}if(M!=null){r.add.lmfx=M}y.B.push(r);
if(D.hasClippingMask&&E.length>1){b.push(r);y.B.push(y.eM())}}while(b.length!=0)X.ah9(b.pop(),y)};gE.jR=function(E,y){for(var N=0;
N<E.length;N++)if(E[N].overrideName.startsWith(y))return E[N]};gE.a1d=function(E,y){var c=0,e=[];while(c+1<E.length){var p=E[c];
c++;if(p>127){p+=128*(E[c]-1);c++;if(E[c-1]>127){p+=128*(E[c]-1);c++}}var H=E[c];c++;e.push(p,H)}return e};
gE.aBC=function(E,y,c,e){var p=gE,H=0,D=0,j=0;for(var N=0;N<e.length;N++){var Z=e.charCodeAt(N),X=1473<=Z&&Z<=1479||1488<=Z&&Z<=1514||1520<=Z&&Z<=1524,b=1569<=Z&&Z<=1594||1600<=Z&&Z<=1749;
if(X||b)H++}var k=H>e.length/2;for(var N=0;N<y.length;N+=2){var g=y[N],r=14,I="DejaVuSans";if(g==0)continue;
var R=y[N+1],t=c[R],w=gV.c$(E,D,D+g-1),B=t.NSColor;if(B==null){var B=t.MSAttributedStringColorDictionaryAttribute;
if(B==null)B=t.MSAttributedStringColorAttribute;if(B==null)B="0 0 0";else B=[B.red,B.green,B.blue].join(" ")}else if(p.SZ(B)=="MSArchivedColor")B=B.dr+" "+B.dg+" "+B.db;
else if(B.NSRGB){B=B.NSRGB;B=_.xY(B,0,B.length-1)}else if(B.NSCMYK){B=B.NSCMYK;B=_.xY(B,0,B.length-1);
B=B.split(" ").map(parseFloat);var $=1-B[0],o=1-B[1],T=1-B[2],i=1-B[3];B=$*i+" "+o*i+" "+T*i}else if(B.NSWhite){B="1 1 1"}B=B.split(" ");
w.na.FillColor={Type:1,Values:[1,parseFloat(B[0]),parseFloat(B[1]),parseFloat(B[2])]};var M=t.MSAttributedStringFontAttribute;
if(t.NSFont){r=t.NSFont.NSSize;I=t.NSFont.NSName}else if(M){if(M.attributes){M=M.attributes;r=M.size;
I=M.name}else{var J=M.NSFontDescriptorAttributes;if(J==null)J=M.UIFontDescriptorAttributes;M=J;r=M.NSFontSizeAttribute;
I=M.NSFontNameAttribute}if(I==null)I="DejaVuSans"}var j=Math.max(j,r);w.na.FontSize=Math.round(r);gV.Wn(w,I);
var P=t.NSKern;if(P==null)P=t.kerning;if(P!=null)w.na.Tracking=Math.round(1e3*P/r);if(t.NSUnderline!=null)w.na.Underline=t.NSUnderline>0;
var n=t.NSStrikethrough;if(n==null)n=t.strikethroughStyle;if(n!=null)w.na.Strikethrough=n>0;if(t.MSAttributedStringTextTransformAttribute==1)w.na.FontCaps=2;
var x=t.NSParagraphStyle;if(x==null)x=t.paragraphStyle;if(x){var L=x.paragraphSpacing;if(L!=null){w.dV.SpaceAfter=L}var u=x.NSAlignment;
if(u==null)u=x.alignment;if(u!=null){var C=0;if(!1){}else if(u==1)C=1;else if(u==2)C=2;else if(u==4)C=0;
else{C=u;console.log("unknown align",u)}if(k&&C<2)C=1-C;w.dV.Justification=C}var h=x.NSMinLineHeight;
if(h==null)h=x.minimumLineHeight;if(h!=null){w.na.AutoLeading=!1;w.na.Leading=h}}w.dV._Direction=k?1:0;
gV.gR(E,D,D+g,w);D+=g}return j};gE.a1O=function(E,y,c,e,p,H,Z){var X=gE,b=JSON.parse(cb.default),k=!1;
for(var N=0;N<cb.order.length;N++)b[cb.zt[N]]={t:"VlLs",v:[]};var D=c.fills,j=X.a58(E,D,e,p,H,y);for(var g=0;
g<2;g++){var R=c[["shadows","innerShadows"][g]];if(R==null)continue;var t=["DrSh","IrSh"][g],w=cb.zt[cb.order.indexOf(t)];
for(var N=0;N<R.length;N++){var B=R[N];if(!B.isEnabled)continue;var $=B.contextSettings;if($&&$.opacity==0||B.color.alpha==0)continue;
var o=JSON.parse(cb.Dn[cb.order.indexOf(t)]);b[w].v.unshift({t:"Objc",v:o});k=!0;o.Clr.v=X.LF(B.color);
o.blur.v.val=Math.round(B.blurRadius/p.ul());var T=p.clone();T.Kc=T.Dm=0;T.Ub();var i=T.dl(new eq(B.offsetX,B.offsetY)),r=Math.sqrt(i.x*i.x+i.y*i.y);
o.Dstn.v.val=Math.round(r);o.lagl.v.val=Math.round(Math.atan2(i.y,-i.x)*(180/Math.PI));if(o.layerConceals)o.layerConceals.v=j.length!=0;
X.i_(B,o)}}var I=c.borders;if(I!=null&&(j.length==0||c.blur==null||!c.blur.isEnabled))for(var N=0;N<I.length;
N++){var M=I[N];if(!M.isEnabled)continue;var o=JSON.parse(cb.Dn[cb.order.indexOf("FrFX")]),w=cb.zt[cb.order.indexOf("FrFX")];
b[w].v.unshift({t:"Objc",v:o});k=!0;o.Clr.v=X.LF(M.color);if(M.fillType!=0&&M.gradient){var J=X.a9w(M.gradient,e,p,H),P=["Type","Angl","Ofst","Scl"];
for(var N=0;N<P.length;N++)o[P[N]]=J[P[N]];o.Grad.v=J.Grad.v;o.PntT.v.FrFl="GrFl"}o.Sz.v.val=Math.round(M.thickness/p.ul());
o.Styl.v.FStl=["CtrF","InsF","OutF"][M.position];X.i_(M,o)}for(var N=Z?1:0;N<j.length;N++){var n=j[N],w=cb.zt[cb.order.indexOf(n.type)];
b[w].v.unshift(n.b);k=!0}return k?b:null};gE.a58=function(E,y,c,e,p,H,Z){if(y==null)return[];var X=gE,b=[];
for(var N=0;N<y.length;N++)if(y[N].isEnabled)b.push(y[N]);y=b;var k=[];for(var N=0;N<y.length;N++){var D=y[N],j=null,g=null;
if(D.fillType==0){j="SoFi";var R=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);g={t:"Objc",v:R};g.v.Clr.v=X.LF(D.color)}else if(D.fillType==1){j="GrFl";
g={t:"Objc",v:X.a9w(D.gradient,c,e,p)}}else if(D.fillType==4&&D.image!=null){var t=D.image;if(Z)t=Z.value;
var w=iu.XS(t.bdata.buffer);if(w=="fpng")w="png";if(w!=null&&w!="pdf"&&w!="eps"){var B,r=0,I=0,M=0;if(H.tM[t.key])B=H.tM[t.key];
else{var $={data:new ArrayBuffer(4),Yu:new ir(0,0,1,1)};try{$=iu.sF(w).cU(t.bdata)[0]}catch(b4){}B={};
B.id=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f";B.name="someImage";B.Gi=[new Uint8Array($.data),$.Yu];H.w4(B);
H.tM[t.key]=B}var o=B.Gi[1],R=JSON.parse(cb.Dn[cb.order.indexOf("patternFill")]);j="patternFill";g={t:"Objc",v:R};
var T=D.patternFillType,i=D.patternTileScale;R.Algn.v=!0;R.Ptrn.v.Idnt.v=B.id;if(T==0){r=i*o.m/Math.min(o.m,o.e);
I=-e.Kc;M=-e.Dm}else{r=Math.max(c.m/o.m,c.e/o.e);I=-e.Kc-(o.m*r-c.m)/2;M=-e.Dm-(o.e*r-c.e)/2}R.Scl.v.val=100*r*(1/e.ul());
R.phase.v.Hrzn.v=Math.round(I/e.ul());R.phase.v.Vrtc.v=Math.round(M/e.ul())}}else if(D.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",D.fillType);
if(j!=null){X.i_(D,g.v);k.push({type:j,b:g})}}return k};gE.ayw=function(E){var y=gE,c=new ir(0,0,1,1);
E=E.slice(0);while(!0){var e=!1;for(var N=0;N<E.length-1;N++){var p=E[N],H=E[N+1],Z=null,X=p.contextSettings;
if(p.fillType==0&&(X==null||X.opacity==1&&X.blendMode==0)&&p.color.alpha==1){var b="norm",k=1,X=H.contextSettings;
if(X){k=X.opacity;b=cg.RI(y.WH[X.blendMode])}if(H.fillType==0){Z=JSON.parse(JSON.stringify(H));y.adl(Z.color,p.color,Z.color,c,b,k)}if(H.fillType==1){Z=JSON.parse(JSON.stringify(H));
var D=Z.gradient.stops;for(var j=0;j<D.length;j++)y.adl(D[j].color,p.color,D[j].color,c,b,k)}if(Z!=null&&Z.contextSettings){var X=Z.contextSettings;
X.opacity=1;X.blendMode=0}}if(Z!=null){E.splice(N,0,Z);e=!0;break}}if(!e||E.length<2)break}return E};
gE.adl=function(E,y,c,e,p,H){var Z=gE,X=d.R(4);Z.aas(E,X);var b=d.R(4);Z.aas(y,b);d.l.Io(p,X,e,b,e,e,H);
Z.a3h(b,c)};gE.aas=function(E,y){y[0]=255*E.red;y[1]=255*E.green;y[2]=255*E.blue;y[3]=255*E.alpha};gE.a3h=function(E,y){y.red=E[0]/255;
y.green=E[1]/255;y.blue=E[2]/255;y.alpha=E[3]/255};gE.ah9=function(E,y){E=E.clone();E.Gc=24;E.v4("Mask by "+E.getName());
y.B.push(E);E.add.lsct=kl.Sh;E.add.lyid=y.Xf();delete E.add.lmfx;delete E.add.SoCo;delete E.add.GdFl;
delete E.add.PtFl;delete E.add.iOpa;if(E.add.vmsk)E.add.vmsk.tq=!0;E.m5();E.fP(y);if((E.Gc&16)==16)E.Gc-=16;
if((E.Gc&2)==2)E.Gc-=2;E.ur="pass";E.opacity=255};gE.WH="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
gE.a9w=function(E,y,c,e){c=c.clone();c.Ub();c.Kc=c.Dm=0;var p=c.ul(),g=0,R=0;c.scale(1/p,1/p);var H=gE,Z=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]),X=Z.Grad.v;
X.Intr.v=0;if(E==null)return Z;var b=E.gradientType,k=H.NG(E.from),D=H.NG(E.to);k.offset(-.5,-.5);D.offset(-.5,-.5);
k=c.dl(k);D=c.dl(D);var j=Math.atan2(-(D.y-k.y),D.x-k.x);Z.Type.v.GrdT=["Lnr","Rdl","Angl"][b];Z.Scl.v.val=100*eq.oG(k,D);
if(b==0){Z.Angl.v.val=180/Math.PI*j;Z.Scl.v.val=100*eq.oG(k,D);g=(k.x+D.x)/2;R=(k.y+D.y)/2}if(b==1){Z.Scl.v.val=200*eq.oG(k,D);
g=k.x;R=k.y}if(b==2){Z.Angl.v.val=180/Math.PI*(j-Math.PI/2)}var t=Z.Ofst.v;t.Hrzn.v.val=g*100;t.Vrtc.v.val=R*100;
var w=[];for(var N=0;N<E.stops.length;N++){var B=E.stops[N],$=B.color;w.push([B.position,$?[$.red,$.green,$.blue]:[0,0,0],$.alpha])}d.L.Ll(w,X);
return Z};gE.i_=function(E,y){var c=gE,e=1,p=E.contextSettings;if(p!=null){y.Md.v.BlnM=c.WH[p.blendMode];
e*=p.opacity}else y.Md.v.BlnM=c.WH[0];y.enab.v=E.isEnabled;if(y.uglg!=null)y.uglg.v=!1;if(E.color!=null)e*=E.color.alpha;
y.Opct.v.val=Math.round(e*100)};gE.LF=function(E){return d.L.hp(E?{Z:E.red*255,D:E.green*255,J:E.blue*255}:{Z:0,D:0,J:0})};
gE.SL=function(E,y){var c=gE,e=[{type:6},{type:8,all:0}];for(var p=0;p<E.length;p++){var H=E[p],Z=H.booleanOperation,X=0,b=H._class,t=!1;
if(b=="group"||b=="text"||b=="symbolInstance"||b=="slice"){console.log(b+" inside ShapeGroup");continue}if(Z==-1)X=0;
else if(Z==0)X=1;else if(Z==1)X=2;else if(Z==2)X=3;else if(Z==3)X=0;if(p==0)X=1;var k=gE.SY(H.frame),D=c.aa$(H,y),j=H.path?H.path:H,g=[{type:0,length:0,O0:X,X7:2,cr:0,x9:0}],R=j.points;
for(var N=0;N<R.length;N++){var w=R[N],B=c.NG(w.curveTo),$=c.NG(w.point),o=c.NG(w.curveFrom);t=t||w.hasCurveFrom&&!o.rT($)||w.hasCurveTo&&!B.rT($)}var T=[];
if(!t){var i=[],j1=R.length;if(j1==0)continue;for(var N=0;N<j1;N++){T[N]=R[N].cornerRadius;var w=c.NG(R[N].point);
i.push(w.x,w.y)}D.scale(1/k.m,1/k.e);D.Ub();d.A.u(i,D,i);g=d.o.M1.hr(i,T).slice(2);g[0].O0=X}else{var r=R.length;
g[0].length=r;for(var N=0;N<r;N++){var w=R[N],I=w.curveMode,M=c.NG(w.point);g[1+N]={type:I==2||I==4?1:2,$0:w.hasCurveTo?c.NG(w.curveTo):M.clone(),I:M,dW:w.hasCurveFrom?c.NG(w.curveFrom):M.clone()}}D.scale(1/k.m,1/k.e);
D.Ub();d.o.dg(g,D);var T=[];for(var N=0;N<r;N++){var w=R[N],I=w.curveMode,J=w.cornerRadius;if(I==1&&J!=0)T.push(J);
else T.push(0)}}if(!j.isClosed)for(var N=0;N<g.length;N++)g[N].type+=3;e=e.concat(g);var P=c.SZ(H);if(D.J==0&&D.E7==0){var n=D.Kc,x=D.Dm,L=n+D.U,u=x+D.sN,C=[n,x,L,u]}}return e};
gE.aa$=function(E,y){var c=y.clone(),e=E.frame?gE.SY(E.frame):null;if(e)c.translate(-e.x-e.m/2,-e.y-e.e/2);
if(E.isFlippedHorizontal)c.scale(-1,1);if(E.isFlippedVertical)c.scale(1,-1);c.rotate(-E.rotation*(Math.PI/180));
if(e)c.translate(e.m/2,e.e/2);return c};gE.NG=function(E){E=E.slice(1,E.length-1).split(",");return new eq(parseFloat(E[0]),parseFloat(E[1]))};
gE.SY=function(E){return new ir(E.x,E.y,E.width,E.height)};gE.aac=function(E){return{_class:"rect",constrainProportions:!1,x:E.x,y:E.y,width:E.m,height:E.e}};
function ed(){}ed.ux=function(E,y){var c=Date.now(),e=ed,p=UZIP.parse(E),H=JSON.parse(_.Uw(p.manifest)),Z=JSON.parse(_.Uw(p["resources/graphics/graphicContent.agc"])).resources,X=[],b=[],k=H.children;
for(var N=0;N<k.length;N++){var D=k[N];if(D.name=="artwork"){var j=D.children;for(var g=0;g<j.length;
g++){var R=j[g],t=JSON.parse(_.Uw(p["artwork/"+R.path+"/graphics/graphicContent.agc"])),w=t.children;
if(w.length==0){}else if(w.length==1){if(R["uxdesign#bounds"]){R._node=w[0];X.push(R)}}else{var B=w[0],$=B.transform,o=B.shape;
if(o==null)o={x:0,y:0,width:1e3,height:1e3};if(o.type=="path"){var T=d.A.xv(Typr.U.SVGToPath(o.path).crds);
o={x:T.x,y:T.y,width:T.m,height:T.e}}o=JSON.parse(JSON.stringify(o));if($){o.x+=$.tx;o.y+=$.ty}R["uxdesign#bounds"]=o;
R._node={type:"artboard",artboard:{children:w}};b.push(R)}}}}if(X.length==0)X=b;var i=[],r=new ir;for(var N=0;
N<X.length;N++){var R=X[N],I=gE.SY(R["uxdesign#bounds"]);i.push(I);r=r.uN(I)}var M=gE.Kf(r,8192*8192);
y.kc=!0;y.m=Math.round(r.m/M);y.e=Math.round(r.e/M);y.buffer=d.R(y.m*y.e*4);y.Fy(X.length);var J=new jr(M,0,0,M,r.x,r.y);
y.tM={};for(var N=0;N<X.length;N++){var R=X[N],I=gE.SY(R["uxdesign#bounds"]),P=R._node,n=J.clone(),x=I.clone(),L=n.ul();
n.translate(-I.x,-I.y);x.x=-Math.floor(n.Kc/L);x.y=-Math.floor(n.Dm/L);x.m=Math.floor(x.m/L);x.e=Math.floor(x.e/L);
n.translate(I.x,I.y);ed.aI(P,y,n,Z,p,x);var u=y.B[y.B.length-1];u.v4(R.name);u.ix(x);if(N!=X.length-1)u.add.lsct=kl.ze}delete y.tM};
ed.nq=function(E){if(E==null)return new jr;return new jr(E.a,E.b,E.c,E.d,E.tx,E.ty)};ed.aI=function(E,y,c,e,p,H){var Z=ed,X=E.type,b=E[X],k=E.style,D=Z.nq(E.transform),t,w="none",B,$="none",o,T;
D.Ub();var j=c.clone();j.concat(D);var g=y.N8(),R=E.name;g.v4(R?R.slice(0,250):"Layer");if(E.visible!=null)g.rP(E.visible);
if(k){t=k.stroke;w=t?t.type:"none";B=k.fill;$=B?B.type:"none";if(B&&Object.keys(B).length==1)$="none";
o=k.filters;T=k.clipPath;if(T&&e.clipPaths[T.ref])T=e.clipPaths[T.ref].children;else T=null;if(k.opacity!=null)g.opacity=Math.round(255*k.opacity);
if($=="solid"&&B.color.alpha)g.opacity=Math.round(g.opacity*B.color.alpha);if(o){g.add.lmfx=Z.aD_(o);
for(var N=0;N<o.length;N++)if(o[N].type=="uxdesign#blur"){var i=o[N],r=i.params,I=r.brightnessAmount;
if(I==null)I=0;I=Math.abs(I/100);if((i.visible==null||i.visible==!0)&&r.backgroundEffect)g.opacity=Math.round(g.opacity*(I+(1-I)*r.fillOpacity))}}if($=="pattern"&&B.pattern.meta.ux.uid=="")$="none"}if(T==null&&E.meta&&E.meta.ux&&E.meta.ux.clipPathResources)T=E.meta.ux.clipPathResources.children;
if(X=="artboard"||X=="group"){if(T){var M=T[0],J=M.shape,P=J!=null&&J.type=="rect"&&J.width*J.height>4e6;
if(M.type!="text"&&!P){if(J){var D=Z.nq(M.transform);D.Ub();var n=j.clone();n.concat(D);g.add.vmsk=new jN.pU;
g.add.vmsk.X=Z.SL(J);n=n.clone();n.Ub();d.o.dg(g.add.vmsk.X,n);g.m5();g.fP(y)}}else if(!P)alert("Clipping by text has been ignored")}g.add.lsct=kl.Sh;
g.ur="pass";g.Gc=24;if(E.visible!=null)g.rP(E.visible);y.B.push(y.eM());var x=b.children,L=B;if(L)L=L.color;
if(L)L=L.value;if(B){if(X=="artboard"&&$=="solid"){g.ix(new ir(0,0,10,10));g.add.artb.Clr={t:"Objc",v:d.L.hp({Z:L.r,D:L.g,J:L.b})};
g.add.artb.artboardBackgroundType={t:"long",v:4}}else{var u=y.N8();u.v4("BACKGROUND");u.Gc|=16;u.add.vstk=cb.CY.TL();
u.add.vmsk=new jN.pU;u.add.vmsk.X=Z.SL({type:"rect",x:H.x,y:H.y,width:H.m,height:H.e});Z.Ig(B,$,j,H,H,u,y,e,p);
u.m5();u.fP(y);y.B.push(u)}}for(var N=0;N<x.length;N++){ed.aI(x[N],y,j,e,p,H)}}else if(X=="shape"&&(b.type=="rect"&&(b.r==null||b.r==0)||b.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(b.path)))&&$=="pattern"&&(Math.abs(b.width/b.height-B.pattern.width/B.pattern.height)<.01||k.fill.pattern.meta.ux.scaleBehavior=="fill")){var C=B.pattern,h=C.meta.ux,A=h.uid,W=p["resources/"+A];
if(W==null){console.log(C);return}var Q=y.np(W,g.getName(),0,0);Q.Gc=g.Gc;Q.opacity=g.opacity;g=Q;var l=d.o.L$(Z.SL(b),null),O=d.A.S6(new ir(0,0,C.width,C.height)).j,z=new jr;
z.scale(C.width/l.m,C.height/l.e);if(h.offsetX)z.translate(-h.offsetX*C.width,0);if(h.offsetY)z.translate(0,-h.offsetY*C.height);
j.concat(z);j.Ub();d.A.u(O,j,O);g.add.SoLd.Trnf=F.Y.Zd(O);g.add.SoLd.nonAffineTransform=F.Y.Zd(O);g.an(y,!1)}else if(X=="shape"){g.Gc|=16;
g.add.vstk=cb.CY.TL();g.add.vmsk=new jN.pU;g.add.vmsk.X=Z.SL(b);var l=d.o.L$(g.add.vmsk.X,null),n=j.clone();
n.Ub();d.o.dg(g.add.vmsk.X,n);var a=d.o.L$(g.add.vmsk.X,null);if(w=="none"){}else{var m=t.color.value,q,K;
q="SoFi";var U=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);K={t:"Objc",v:U};K.v.Clr.v=d.L.hp({Z:m.r,D:m.g,J:m.b});
var f=t.align,Y=t.cap;if(f==null)f="center";var G=g.add.vstk;G.strokeEnabled.v=!0;G.strokeStyleLineWidth.v.val=t.width;
if(f)G.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cb.CY.FC[["inside","center","outside"].indexOf(f)];
if(Y)G.strokeStyleLineCapType.v.strokeStyleLineCapType=cb.CY.sj[["butt","round","square"].indexOf(Y)];
var V=["SoFi","GrFl","patternFill"].indexOf(q),dF=[cb.nM,cb.Bm,cb.Z0][V];G.strokeStyleContent.v={classID:cb.CY.gV[0]};
var s=G.strokeStyleContent.v={classID:cb.CY.gV[V]};for(var N=0;N<dF.length;N++)s[dF[N]]=K.v[dF[N]]}if(o)for(var N=0;
N<o.length;N++)if(o[N].type=="uxdesign#blur"&&o[N].visible){var aH=o[N];g.add.vmsk.oV=aH.params.blurAmount}Z.Ig(B,$,j,l,a,g,y,e,p);
g.m5();g.fP(y)}else if(X=="text"&&E.text){var dw=E.text,kO=dw.frame,hX=k.font,jF=k.textAttributes,D=j.clone(),i7=0;
D.Ub();g.add.lnsr="rend";g.add.TySh=gV.V1(0,0);g.add.TySh.dz=new ir(0,0,100,100);g.add.TySh.u=D;var gn=g.add.TySh.Ax,hM=dw.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
gV.Y8(gn,0,hM);if(hM!=""){var ie=gV.c$(gn,0,1),bN=hX.postscriptName;if(bN==null)bN=hX.family;gV.Wn(ie,bN);
ie.na.FontSize=Math.round(hX.size);if($=="solid"){var m=B.color.value;ie.na.FillColor={Type:1,Values:[1,m.r/255,m.g/255,m.b/255]}}if(jF){if(jF.paragraphAlign)ie.dV.Justification=["left","right","center"].indexOf(jF.paragraphAlign);
if(jF.letterSpacing)ie.na.Tracking=Math.round(jF.letterSpacing);if(jF.lineHeight){ie.na.AutoLeading=!1;
ie.na.Leading=Math.round(jF.lineHeight)}}gV.gR(gn,0,hM.length,ie)}var kd=E.meta.ux.rangedStyles;if(kd)for(var N=0;
N<kd.length;N++){var b=kd[N],ew=Math.min(b.length,hM.length-i7);if(N==kd.length-1)ew=hM.length-i7;var ie=gV.c$(gn,i7,i7+ew),bN=b.postscriptName;
if(bN==null)bN=b.family;if(bN!=null)gV.Wn(ie,bN);var e4=b.textScript,jc=b.underline,bd=b.fontSize,i=b.fill,iB=b.textTransform;
if(e4&&e4!="none")ie.na.FontBaseline=e4=="superscript"?1:2;if(jc!=null)ie.na.Underline=jc;if(bd!=null)ie.na.FontSize=Math.round(bd);
if(iB!=null)ie.na.FontCaps=iB=="uppercase"?2:0;if(iB=="lowercase"){gV.qb(gn,i7,i7+ew);gV.Y8(gn,i7,hM.slice(i7,i7+ew).toLowerCase())}if(i!=null){var cG=i.value;
ie.na.FillColor={Type:1,Values:[1,(cG>>>16&255)/255,(cG>>>8&255)/255,(cG>>>0&255)/255]}}gV.gR(gn,i7,i7+ew,ie);
i7+=ew}if(kO.type=="area"||kO.type=="autoHeight"){var hU=kO.width,ah=kO.height;gV.qz(gn,1);gV.fF(gn,[0,0,hU,ah!=null?ah:hU*2])}}else if(X=="syncRef"){var co=E.syncSourceGuid,im=e.meta.ux.symbols,hb=Z.zb(im,co);
if(hb){var dI=j.clone();dI.concat(Z.nq(hb.transform));ed.aI(hb,y,dI,e,p,H)}return}else console.log(X,E);
y.B.push(g)};ed.zb=function(E,y){for(var N=0;N<E.length;N++){var c=E[N],e=c.group;if(c.id==y)return c;
if(e){var p=ed.zb(e.children,y);if(p)return p}}return null};ed.SL=function(E){var y=E.type,c=[{type:6},{type:8,all:0}];
if(y=="rect"){var e=E.r,p=E.x,H=E.y,Z=E.width,X=E.height;c=d.o.M1.Rect(p,H,Z,X,e?e:0)}else if(y=="circle"){var e=E.r;
c=d.o.M1.fM(E.cx-e,E.cy-e,2*e,2*e)}else if(y=="ellipse"){var b=E.rx,k=E.ry;c=d.o.M1.fM(E.cx-b,E.cy-k,2*b,2*k)}else if(y=="path"||y=="compound"){var D=Typr.U.SVGToPath(E.path);
c=d.A.V2({G:D.cmds,j:D.crds},!1)}else if(y=="line"){var j=E.x1,g=E.x2,R=E.y1,t=E.y2;c=d.o.M1.hr([j,R,g,t],0,!0)}else if(y=="polygon"){var w=E.points,B=[];
for(var N=0;N<w.length;N++)B.push(w[N].x,w[N].y);c=c.concat(d.o.M1.hr(B,0,!1).slice(2))}else console.log(y,E);
return c};ed.aD_=function(E){var y=JSON.parse(cb.default);for(var N=0;N<cb.order.length;N++)y[cb.zt[N]]={t:"VlLs",v:[]};
for(var N=0;N<E.length;N++){var c=E[N],e=c.type,p=c.params,H=c.visible;if(e=="dropShadow"){var Z=cb.zt[cb.order.indexOf("DrSh")],X=JSON.parse(cb.Dn[cb.order.indexOf("DrSh")]);
y[Z].v.unshift({t:"Objc",v:X});var b=p.dropShadows;if(b.length!=1)throw"e";var k=b[0],D=k.color,j=D.value,g=k.dx,R=k.dy;
X.Clr.v=d.L.hp({Z:j.r,D:j.g,J:j.b});X.Opct.v.val=Math.round((D.alpha!=null?D.alpha:1)*100);X.uglg.v=!1;
X.enab.v=H!=null?H:!0;X.lagl.v.val=Math.round(180/Math.PI*Math.atan2(R,-g));X.Dstn.v.val=Math.round(Math.sqrt(g*g+R*R));
X.blur.v.val=Math.round(k.r*2.3)}}return y};ed.Ig=function(E,y,c,e,p,H,Z,X,b){var k=ed;H.add.vstk.fillEnabled.v=y!="none";
if(y=="none"){H.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}}}else{var D,j,g;if(y=="solid"){var R=E.color.value;
D="SoCo";j=cb.nM;var t=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);g={t:"Objc",v:t};g.v.Clr.v=d.L.hp({Z:R.r,D:R.g,J:R.b})}else if(y=="gradient"){D="GdFl";
j=cb.Bm;var t=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]),w=t.Grad.v,i,r,I;w.Intr.v=0;var B=E[y],$=B.ref?X.gradients[B.ref]:B.meta.ux.gradientResources,o=["linear","radial","angular"].indexOf($.type),T=$.stops;
t.Type.v.GrdT=["Lnr","Rdl","Angl"][o];if(o==0){var i=new eq(B.x1,B.y1),r=new eq(B.x2,B.y2);i.x=r.x+.5*(i.x-r.x);
i.y=r.y+.5*(i.y-r.y)}else{var i=new eq(B.cx,B.cy),r=new eq(B.cx+B.r,B.cy)}I=p;if(B.units=="objectBoundingBox"){var M=new jr(e.m,0,0,e.e,e.x,e.y);
i=M.dl(i);r=M.dl(r)}var M=k.nq(B.transform);i=M.dl(i);r=M.dl(r);M=c.clone();M.Ub();i=M.dl(i);r=M.dl(r);
d.L.FO(i,r,I,t);var J=[];for(var N=0;N<T.length;N++){var P=T[N],n=P.color,R=n.value,x=n.alpha;if(x==null)x=1;
J.push([P.offset,[R.r/255,R.g/255,R.b/255],x])}d.L.Ll(J,w);g={t:"Objc",v:t}}else if(y=="pattern"){D="PtFl";
j=cb.Z0;var t=JSON.parse(cb.Dn[cb.order.indexOf("patternFill")]),O;g={t:"Objc",v:t};var L=E[y],u=L.meta.ux,C=u.uid,h=b["resources/"+C].buffer,A=u.flipX,W=u.flipY,Q=C+A+W,l=iu.XS(h);
if(Z.tM[Q])O=Z.tM[Q];else{var z=new ir(0,0,L.width,L.height),a;if(z.tj()||l==null){z=new ir(0,0,1,1);
a=new ArrayBuffer(4)}else{var m=iu.sF(l);if(m.qg){var q=new cc;m.cU(h,q);a=q.eA().buffer}else{try{var K=m.cU(h)[0];
a=K.data;z=K.Yu}catch(b4){a=new ArrayBuffer(z.P()*4)}}}O={};O.id=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f";
O.name="someImage";O.Gi=[new Uint8Array(a),z];if(A)d.r.ju(O.Gi[0].slice(0),O.Gi[0],z.m,z.e);if(W)d.r.a1r(O.Gi[0].slice(0),O.Gi[0],z.m,z.e);
Z.w4(O);Z.tM[Q]=O}var U=c.clone();U.Ub();U.translate(e.x,e.y);var f=e.m,Y=e.e,G=O.Gi[1].m,V=O.Gi[1].e,dF=Math.max(f/G,Y/V);
if(u.scale)dF*=u.scale;var s=new jr;s.translate(-G/2,-V/2);s.scale(1/G,1/V);if(u.offsetX!=null)s.translate(u.offsetX,u.offsetY);
s.scale(G,V);s.scale(dF,dF);s.translate(f/2,Y/2);s.concat(U);hA.a55(O,t,0,0,1e3,s)}else console.log(y);
if(D!=null){H.add[D]={classID:"null"};for(var N=0;N<j.length;N++){var aH=j[N];H.add[D][aH]=g.v[aH]}}}};
var iD=function(){function E(B){return B.tagName?B.tagName.split(":").pop():null}function y(B,$,o){if(o&&o[0]==null)o=null;
B=new Uint8Array(B);var T,l=1;if(B[0]==255&&B[1]==254)T=_.GL(B,2,(B.length>>>1)-1);else T=_.Uw(B,0,B.length);
var i=new DOMParser,r=i.parseFromString(T,"image/svg+xml"),I=r.getElementsByTagName("style")[0];if(I)I=Typr.U.SVG.cssMap(I.textContent);
else I={};var M=r.firstChild;while(E(M)!="svg")M=M.nextSibling;var J=new ir(0,0,100,100),P=M.getAttribute("viewBox"),n=M.getAttribute("width"),x=M.getAttribute("height"),L=n!=null?parseFloat(n):parseFloat(x),u=x!=null?parseFloat(x):parseFloat(n);
if(P){var C=c(P);J.x=C[0];J.y=C[1];J.m=C[2];J.e=C[3];if(n!=null){var h=C[2]/C[3],A=L/u;if(A>h){var W=C[3]*A-J.m;
J.x-=W/2;J.m+=W}if(A<h){var Q=C[2]/A-J.e;J.y-=Q/2;J.e+=Q}}}else if(n!=null||x!=null){J.m=L;J.e=u}J=d.A.u8(J);
while(o&&Math.max(J.m*l,J.e*l)<Math.max(o[0],o[1]))l++;while(o==null&&Math.max(J.m,J.e)*l>8192)l*=.5;
$.kc=!0;$.m=~~(J.m*l);$.e=~~(J.e*l);var O=new jr(l,0,0,l,-J.x*l,-J.y*l),z={mp:j(M),a8m:I,Y7:0};e(r,M.children,$,O,z,new jr,0);
if($.B.length==0){var a=$.N8();a.v4("Layer");$.B.push(a)}}function c(B){var $=" ";if(B.indexOf(",")!=-1)$=",";
return B.split($).map(parseFloat)}function e(B,$,o,T,i,r,I,M){var J=["display","opacity","fill-opacity","filter","clip-path"],P=0;
for(var n=0;n<$.length;n++){var x=$[n],L=E(x),u=x.getAttribute("id"),A=13,z=1,q="clip-path",K=null,dw=0;
if(u==null)u=x.getAttribute("data-name");var C=j(x,i.a8m);for(var h in i.mp)if(J.indexOf(h)==-1&&C[h]==null)C[h]=i.mp[h];
if(C["font-size"])A=Z(C["font-size"],A);if(x.getAttribute("dx"))T.Kc+=Z(x.getAttribute("dx"),A);if(x.getAttribute("dy"))T.Dm+=Z(x.getAttribute("dy"),A);
var W=b(x);W.concat(T);var Q=x.getAttribute("visibility"),l=C.display,O=o.N8();if(Q=="hidden"||l=="none")O.rP(!1);
O.v4(u!=null?u.split(":::")[0]:"Layer");if(C.opacity)z*=parseFloat(C.opacity);if(C["fill-opacity"]){var a=parseFloat(C["fill-opacity"]);
if(a!=0)z*=a}O.opacity=Math.round(255*z);if(C["mix-blend-mode"]){var m=cg.bI.indexOf(C["mix-blend-mode"]);
if(m!=-1)O.ur=cg.Fn[m]}if(x.getAttribute(q)==null)q="mask";if(x.getAttribute(q)!=null||C["clip-path"]){var U=x.getAttribute(q);
if(U==null)U=C["clip-path"];U=U.slice(4,U.length-1);var f=B.getElementById(U.slice(1));if(f){var Y=f.children;
K=o.N8();K.v4("Clip-Path"+(u?": "+u:""));K.add.lsct=I<2?kl.Sh:kl.ze;K.ur="pass";K.Gc=24;var G=K.add.vmsk=new jN.pU;
o.B.push(o.eM());var V=[];if(f.getAttribute(q)){var U=f.getAttribute(q);U=U.slice(4,U.length-1);V=B.getElementById(U.slice(1)).children}for(var N=0;
N<Y.length;N++){var dF=b(Y[N]);dF.concat(W);var s=H(o,B,Y[N],!1).slice(2);d.o.dg(s,dF);G.X=G.X.concat(s)}for(var N=0;
N<V.length;N++){var dF=b(Y[N]);dF.concat(W);var s=H(o,B,V[N],!1).slice(2);for(var aH=0;aH<s.length;aH++)if(s[N].O0!=null)s[N].O0=3;
d.o.dg(s,dF);G.X=G.X.concat(s)}for(var N=0;N<G.X.length;N++)if(G.X[N].O0!=null)G.X[N].O0=0;K.m5();K.fP();
I++}}if(C.filter&&C.filter!="none"){var kO=C.filter,jF,gn,hM,bN=!1,kd=!1,i7=!1;kO=kO.slice(5,kO.length-1);
var hX=B.getElementById(kO),ie=[0,0,0,.5],dn=W.ul();if(hX)for(var N=0;N<hX.children.length;N++){var ew=hX.children[N],e4=E(ew);
if(e4=="feGaussianBlur"){bN=!0;jF=parseFloat(ew.getAttribute("stdDeviation"))*dn}if(e4=="feColorMatrix"){var eE=ew.getAttribute("values");
if(eE){eE=eE.split(" ").map(parseFloat);ie=[eE[4],eE[9],eE[14],eE[18]]}}if(e4=="feComposite"){i7=!0}if(e4=="feOffset"){kd=!0;
var jc=ew.getAttribute("dx"),ft=ew.getAttribute("dy");gn=parseFloat(jc?jc:0)*dn;hM=parseFloat(ft?ft:0)*dn}}if(bN&&(i7||kd)){var bd=i7?"IrSh":"DrSh";
if(bd=="IrSh"){O.add.iOpa=0}var iB=JSON.parse(cb.Dn[cb.order.indexOf(bd)]);iB.blur.v.val=Math.round(jF*2.4);
var cG=Math.sqrt(gn*gn+hM*hM);iB.uglg.v=!1;iB.Dstn.v.val=Math.round(cG);iB.lagl.v.val=Math.round(Math.atan2(hM,-gn)*(180/Math.PI));
iB.Clr.v=d.L.hp({Z:ie[0]*255,D:ie[1]*255,J:ie[2]*255});iB.Opct.v.val=Math.round(ie[3]*100);p(O,cb.zt[cb.order.indexOf(bd)],iB)}else if(bN)dw=jF}if(L=="g"||L=="a"||L=="svg"||L=="switch"||(L=="text"||L=="textPath")&&x.children.length>0||L=="symbol"&&M){if(L=="text")r=k(x,r);
var bT=x.getAttribute("viewBox"),g$=x.getAttribute("width"),hU=x.getAttribute("height");if(L=="svg"&&g$&&hU&&bT==null)bT="0 0 "+g$+" "+hU;
if(bT&&g$&&hU){var ah=c(bT),co=k(x),im=new jr;im.translate(-ah[0],-ah[1]);im.scale(parseFloat(g$)/ah[2],parseFloat(hU)/ah[3]);
im.translate(co.Kc,co.Dm);im.concat(W);W=im}var hb=x.children.length,dI=i.mp;i.mp=C;var bw=i.Y7;i.Y7=Math.max(i.Y7,dw);
var fb=L!="text"&&L!="textPath"||hb>1;if(fb){var iG=O.OQ();O.add.lsct=I<2&&iG&&(u==null||!u.endsWith(":::"))?kl.Sh:kl.ze;
O.ur="pass";O.Gc=24;O.rP(iG);o.B.push(o.eM())}e(B,x.children,o,W,i,r,I+1);if(fb)o.B.push(O);else{var dy=o.B[o.B.length-1];
dy.opacity=O.opacity;dy.ur=O.ur}i.Y7=bw;i.mp=dI}else if(L=="use"){var im=k(x);im.concat(W);var kp=R(x),gw=B.getElementById(kp.slice(1));
if(gw){var dI=i.mp;i.mp=C;if(C.filter)gw.setAttribute("filter",C.filter);e(B,[gw],o,im,i,r,I+1,!0);i.mp=dI}}else if(L=="path"||L=="rect"||L=="circle"||L=="ellipse"||L=="polygon"||L=="polyline"||L=="line"){O.Gc|=16;
var G=O.add.vmsk=new jN.pU,dR=C.fill,fT=dR=="none"||C["fill-opacity"]&&parseFloat(C["fill-opacity"])==0;
G.X=H(o,B,x,C["fill-rule"]=="evenodd",fT);d.o.dg(G.X,W);var gA=C.stroke,by=C["stroke-width"],fv=C["stroke-dasharray"],d4=C["stroke-linejoin"];
if(d4==null)d4="miter";var fg=C["stroke-linecap"];if(fg==null)fg="butt";var aC=C["stroke-miterlimit"];
if(aC==null)aC=4;var bu=C["paint-order"],hj=!(gA==null||gA=="none"||gA=="null"),jg=O.add.vstk=cb.CY.TL(null,hj);
if(hj){var cm=X(B,gA,W,G.X,o),bz=["SoFi","GrFl","patternFill"].indexOf(cm.type),db=cm.b.v.Opct.v,eb=1;
if(db.val!=100){O.opacity=Math.round(O.opacity*db.val/100);db.val=100}var eM=[cb.nM,cb.Bm,cb.Z0][bz],de=jg.strokeStyleContent.v={classID:cb.CY.gV[bz]};
for(var N=0;N<eM.length;N++)de[eM[N]]=cm.b.v[eM[N]];by=by?parseFloat(by):1;if(bu&&bu.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){eb=2;
by/=2}var k8={nh:["miter","round","bevel"].indexOf(d4),vh:["butt","round","square"].indexOf(fg),IE:by,Xb:aC};
if(fv!=null&&fv!="none")k8.hC=fv.split(",").map(parseFloat);cb.CY.write(jg,k8,W.ul());jg.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cb.CY.FC[eb];
jg.strokeStyleOpacity.v.val=100*(C["stroke-opacity"]?parseFloat(C["stroke-opacity"]):1)}O.add.vstk.fillEnabled.v=!fT;
if(fT){O.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}}}else{var cm=X(B,dR,W,G.X,o),hc=null,bg=null;
if(cm.type=="SoFi"){hc="SoCo";bg=cb.nM}if(cm.type=="GrFl"){hc="GdFl";bg=cb.Bm}if(cm.type=="patternFill"){hc="PtFl";
bg=cb.Z0}if(hc!=null){var db=cm.b.v.Opct.v;if(db.val!=100){O.opacity=Math.round(O.opacity*db.val/100);
db.val=100}O.add[hc]={classID:"null"};for(var N=0;N<bg.length;N++){var h=bg[N];O.add[hc][h]=cm.b.v[h]}}if(cm.gl)O.add._fstl=cm.gl}var k5=Math.max(dw,i.Y7);
if(k5!=0)O.add.vmsk.oV=k5;O.m5();O.fP(o);o.B.push(O)}else if((L=="text"||L=="tspan")&&x.textContent!=""){r=k(x,r);
var im=r.clone(),hM=0;im.concat(W);im.translate(P,0);if(x.children.length>0){var e5=j(x.children[0],i.a8m);
for(var h in e5)if(J.indexOf(h)==-1)C[h]=e5[h]}var j6=C["xml:space"],gK=x.textContent;if(j6=="preserve")gK=gK.replace(/\t/g," ").replace(/\n/g," ");
if(u==null)O.v4(gK);O.add.lnsr="rend";O.add.TySh=gV.V1(0,0);O.add.TySh.dz=new ir(0,0,100,100);O.add.TySh.u=im.clone();
var aJ=O.add.TySh.Ax;gV.Y8(aJ,0,gK);if(L=="tspan")P+=A*gK.length*.5*im.ul();var dR=C.fill,ic=C["font-weight"],gk=C["font-family"],hu=C["text-decoration"],gA=C.stroke,by=C["stroke-width"],gQ=C["dominant-baseline"];
if(gQ=="text-before-edge")hM=A;else if(gQ=="middle")hM=A/2;else if(gQ=="hanging")hM=A;if(hM!=0)O.add.TySh.u.translate(0,hM);
var e7=gV.c$(aJ,0,1);if(dR&&dR!="none"){var ie=CSS.LF(dR);e7.na.FillColor={Type:1,Values:[1,ie.Z/255,ie.D/255,ie.J/255]}}if(hu=="underline")e7.na.Underline=!0;
e7.na.FontSize=Math.round(A);gV.Wn(e7,"LiberationSans");if(ic=="bold")gV.Wn(e7,"LiberationSans-Bold");
if(gk){gk=gk.split(",")[0].trim();if(gk[0]=="\"")gk=gk.slice(1);if(gk[gk.length-1]=="\"")gk=gk.slice(0,gk.length-1);
var a2=gk+":"+(ic?ic:"normal"),gU={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(gU[a2])gV.Wn(e7,gU[a2]);else gV.Wn(e7,gk)}if(C["text-anchor"])e7.dV.Justification=["start","end","middle"].indexOf(C["text-anchor"]);
gV.gR(aJ,0,gK.length,e7);if(gA==null||gA=="none"){}else{var iB=JSON.parse(cb.Dn[cb.order.indexOf("FrFX")]);
iB.Clr.v=d.L.hp(CSS.LF(gA));iB.Sz.v.val=Math.round(parseFloat(by)*im.ul());p(O,"frameFXMulti",iB)}o.B.push(O)}else if(L=="image"){var kp=R(x);
if(kp&&kp.slice(0,4)=="data"){var kv=iu.tf(kp),cO=kv,hs=o.np(cO,O.getName(),0,0);hs.Gc=O.Gc;O=hs;var ai=O.rect.clone();
ai.x=ai.y=0;var ky=x.getAttribute("width"),c0=x.getAttribute("height");if(ky)ai.m=parseFloat(ky);if(c0)ai.e=parseFloat(c0);
var aQ=k(x);aQ.concat(W);var ec=d.A.S6(ai).j;d.A.u(ec,aQ,ec);O.add.SoLd.Trnf=F.Y.Zd(ec);O.add.SoLd.nonAffineTransform=F.Y.Zd(ec);
O.an(o,!1);o.B.push(O)}}else console.log("unknown tag: "+L,x.children.length,x.textContent.length);if(K!=null){o.B.push(K);
I--}}}function p(B,$,o){var T=B.add.lmfx;if(T==null){var T=B.add.lmfx=JSON.parse(cb.default);for(var N=0;
N<cb.order.length;N++)T[cb.zt[N]]={t:"VlLs",v:[]}}T[$].v.push({t:"Objc",v:o})}function H(B,$,o,T,i){var r=[{type:6},{type:8,all:0}],I=E(o);
if(I=="use"){var M=R(o),J=$.getElementById(M.slice(1)),P=new jr;if(E(J)!="rect")P=k(J);P.concat(b(J));
r=H(B,$,J,T,i);d.o.dg(r,P)}else if(I=="path"){var n=o.getAttribute("d");if(n==null)return r;var x=Typr.U.SVGToPath(n);
r=d.A.V2({j:x.crds,G:x.cmds},T,i)}else if(I=="rect"){var L=o.getAttribute("rx"),u=new eq(0,0);t("x",o,B,u,!0);
t("y",o,B,u,!1);var C=new eq(0,0);t("width",o,B,C,!0);t("height",o,B,C,!1);r=d.o.M1.Rect(u.x,u.y,C.x,C.y,L?parseFloat(L):0)}else if(I=="circle"||I=="ellipse"){var h=[0,0,0,0],A=["cx","cy","rx","ry","r"];
for(var N=0;N<5;N++){var W=o.getAttribute(A[N]);if(W){W=parseFloat(W);if(N<4)h[N]=W;else h[2]=h[3]=W}}r=d.o.M1.fM(h[0]-h[2],h[1]-h[3],2*h[2],2*h[3])}else if(I=="polygon"||I=="polyline"||I=="line"){var Q;
if(I=="line")Q=[o.getAttribute("x1"),o.getAttribute("y1"),o.getAttribute("x2"),o.getAttribute("y2")].map(parseFloat);
else Q=o.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
r=d.o.M1.hr(Q,0,I!="polygon")}return r}function Z(B,$){if(B.charAt(B.length-1)=="m")return $*parseFloat(B.slice(0,B.length-2));
else return parseFloat(B)}function X(B,$,o,T,i){var r,I,M,J=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]),P=d.o.L$(T),n=$!=null?$.indexOf("("):-1;
if(n!=-1){var x=$.indexOf(")"),L=$.slice(0,n).trim(),u=$.slice(n+1,x).trim();if(u.charAt(0)=="'")u=u.slice(1,u.length-1);
if(L=="url"){if(u.charAt(0)=="#"){var C=B.getElementById(u.slice(1));if(C&&E(C).toLowerCase().endsWith("gradient")){var M=w(B,C,o,P),h=dd.Ol(M,T);
r="GrFl";I={t:"Objc",v:h}}else if(C&&E(C).toLowerCase()=="pattern"&&C.children[0]&&E(C.children[0])=="use"){r="SoFi";
I={t:"Objc",v:J};var A=C.children[0],W=b(A),Q=R(A),l=B.getElementById(Q.slice(1)),O=iu.tf(R(l)).buffer,z=iu.sF(iu.XS(O)),a=z.cU(O)[0],m={};
m.id=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f";m.name="someImage";m.Gi=[new Uint8Array(a.data),a.Yu];i.w4(m);
var J=JSON.parse(cb.Dn[cb.order.indexOf("patternFill")]);J.Scl.v.val=Math.round(100*P.m*W.U);var q=J.phase.v;
q.Hrzn.v=Math.round(P.x+W.Kc*P.m);q.Vrtc.v=Math.round(P.y+W.Dm*P.e);J.Ptrn.v.Idnt.v=m.id;r="patternFill";
I={t:"Objc",v:J}}else{r="SoFi";I={t:"Objc",v:J}}}else console.log("unknown url",u)}else if(L=="rgb"||L=="rgba"){r="SoFi";
I={t:"Objc",v:J};I.v.Clr.v=d.L.hp(CSS.LF($));if(L=="rgba")I.v.Opct.v.val=Math.round(100*parseFloat($.split(",").pop()))}else console.log("unknown fill",$)}else{r="SoFi";
I={t:"Objc",v:J};var K=CSS.LF($);I.v.Clr.v=d.L.hp(K);if(K.U!=null)I.v.Opct.v.val=Math.round(100*K.U/255)}return{type:r,b:I,gl:M}}function b(B){var $=new jr,o=B.getAttribute("transform");
if(o)$=D(o);var T=B.getAttribute("style");if(T!=null){var i={};g(i,T,["transform"]);T=i.transform;if(T)$.concat(D(T))}return $}function k(B,$){var o=new jr,T=B.getAttribute("x"),i=B.getAttribute("y");
if(T)o.Kc=parseFloat(T);else if($)o.Kc=$.Kc;if(i)o.Dm=parseFloat(i);else if($)o.Dm=$.Dm;return o}function D(B){var $=Typr.U.SVG.readTrnf(B);
return new jr($[0],$[1],$[2],$[3],$[4],$[5])}function j(B,$){var o={},T="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var N=0;N<T.length;N++){var i=B.getAttribute(T[N]);if(i!=null&&i!="inherit")o[T[N]]=i}var r=B.getAttribute("class");
if($!=null&&r!=null&&$["."+r]!=null)g(o,$["."+r],T);var I=B.getAttribute("id");if($!=null&&I!=null&&$["#"+I]!=null)g(o,$["#"+I],T);
var M=B.getAttribute("style");if(M!=null)g(o,M,T);return o}function g(B,$,o){$=$.trim().split(";");for(var N=0;
N<$.length;N++){var T=$[N].split(":"),i=T[0]?T[0].trim():"",r=T[1]?T[1].trim():"";for(var I=0;I<o.length;
I++)if(i==o[I]&&r!="inherit")B[o[I]]=r}}function R(B){var $=B.getAttribute("xlink:href");if($==null)$=B.getAttribute("href");
if($==null)$=B.getAttribute("xl:href");return $}function t(B,$,o,T,i){var r=$.getAttribute(B);if(r==null)return;
var I=parseFloat(r);if(r.endsWith("%"))I*=(i?o.m:o.e)/100;if(i)T.x=I;else T.y=I}function w(B,$,o,T){var i=t,r=new jr,I=$.getAttribute("gradientTransform"),L=!1;
if(I)r=D(I);r.concat(o);var M=E($)=="linearGradient"?0:1,J=new eq(0,0),P=new eq(T.m,0),n=J.clone();if(M==0){var x=new ir(0,0,1,1);
i("x1",$,x,J,!0);i("y1",$,x,J,!1);i("x2",$,x,P,!0);i("y2",$,x,P,!1);n.tW(J.x,J.y)}if(M==1){if($.getAttribute("cx"))J.x=parseFloat($.getAttribute("cx"));
if($.getAttribute("cy"))J.y=parseFloat($.getAttribute("cy"));P.tW(J.x,J.y);n.tW(J.x,J.y);if($.getAttribute("r"))P.x+=parseFloat($.getAttribute("r"));
if($.getAttribute("fx"))n.x=parseFloat($.getAttribute("fx"));if($.getAttribute("fy"))n.y=parseFloat($.getAttribute("fy"))}var u=$;
while(!0){if(u.getAttribute("gradientUnits")=="userSpaceOnUse")L=!0;var C=R(u);if(C==null)break;u=B.getElementById(C.slice(1))}if(!L)r=new jr(T.m,0,0,T.e,T.x,T.y);
var h=dd.VA(M,r,T,J,P,n),A=$.children,W=h[1]=[];if(A.length==0){var Q=R($);if(Q==null)throw"gradient has no stops";
var l=B.getElementById(Q.slice(1));if(l==null){console.log(Q.slice(1))}else W=h[1]=w(B,l,r,T)[1]}else for(var N=0;
N<A.length;N++){var O=A[N],z=j(O),a=z["stop-color"],m=z["stop-opacity"],q=O.getAttribute("offset");if(a==null)a="#000000";
m=m==null?1:parseFloat(m);var K=q?parseFloat(q):0;if(q&&q.endsWith("%"))K/=100;a=CSS.LF(a);if(a.U!=null)m*=a.U/255;
W.push([K,[a.Z/255,a.D/255,a.J/255],parseFloat(m)])}return h}return{ux:y}}();iD.iF=function(){var E=null,y=null,c="",e="",p;
function H(J,P,n,x){var L=[],A=" { ",W=" } ",Q=!1;y=P;e=P.YX?"":"\t";c=P.YX?"":" ";var u=P.atN,C=P.aeW;
p=new ir(0,0,J.m,J.e);if(x!=null){p=J.root.children[x].a.fQ();u=p.m;C=p.e}L.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[p.x,p.y,p.m,p.e].join(" ")+"\" width=\""+u+"\" height=\""+C+"\">");
if(!P.YX)L.push(Z(1)+"<title>"+T(J.name.split(".")[0])+"</title>");var h={wJ:[],tP:[],nj:0,$N:0,Ee:0,HI:{},zJ:{},LL:0,fJ:{},ais:{},P5:0,UG:[]};
w(J,h,J.root.children,1,P,n,x);if(h.wJ.length!=0){L.push(Z(1)+"<defs>");L=L.concat(h.wJ);L.push(Z(1)+"</defs>")}L.push(Z(1)+"<style>");
if(P.YX){A="{";W="}"}for(var N=0;N<J.B.length;N++)if(J.B[N].add.TySh)Q=!0;if(Q&&!P.atK&&!P.ahI)L.push(Z(2)+"tspan"+A+"white-space:pre"+W);
for(var l in h.fJ)L.push(Z(2)+"."+l+A+h.fJ[l]+W);L.push(Z(1)+"</style>");L=L.concat(h.tP);L.push("</svg>");
L=L.join(P.YX?"":"\n");return _.vx(L)}function Z(j1){var J="";for(var N=0;N<j1;N++)J+=e;return J}function X(j1,J){if(J==null)J=1;
var P=""+parseFloat(j1.toFixed(J));if(P.startsWith("0."))P=P.slice(1);return P}function b(J,P){var n=J.add.lmfx;
if(n)n=n[P].v[0];if(n)n=n.v;if(n&&!n.enab.v)n=null;return n}function k(J,P){var n=b(J,"frameFXMulti");
if(n){var x=n.Sz.v.val;if(n.Styl.v.FStl=="OutF"){P.push("paint-order:stroke fill markers");x*=2}t(P,CSS.iB(n.Clr.v),1);
if(x!=1)P.push("stroke-width: "+x);P.push("stroke-linejoin: round;")}}var D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function j(J){var P=D.length,n="";for(var x=1;x<10;x++){var L=(P-10)*~~Math.pow(P,x-1);if(J<L){for(var N=0;
N<x;N++){var u=N==x-1?10:0,C=P-u,h=J%C;n=D[h+u]+n;J=Math.floor((J-h)/C)}break}J-=L}return n}function g(J,P,n,x){if(J.length!=0){if(x==null)x="s";
var L=J.join(";"),u=P.ais[L];if(u==null){u=y.YX?j(P.P5):x+P.P5;P.P5++;P.ais[L]=u;P.fJ[u]=L}if(n)n.push(u);
return u}}function R(J){if(y.YX&&J.length==7&&J[0]=="#"){if(J[1]==J[2]&&J[3]==J[4]&&J[5]==J[6])J="#"+J[1]+J[3]+J[5]}return J}function t(J,P,n){P=R(P);
if(P!="#000"||n==1)J.push((n==0?"fill:":"stroke:")+c+P)}function w(J,P,n,x,L,u,C){var h=!1;for(var A=0;
A<n.length;A++){var W=n[A].a,Q=W.add.lsct;if(W.add.artb&&C!=null&&A!=C)continue;if(!W.av&&n[A+1]&&n[A+1].a.av&&W.iU()&&W.add.vmsk){var l=[];
r(W,W.add.vmsk,P,l);P.tP.push(Z(x)+"<g "+l[0]+">");x++;h=!0}else if(!W.av&&n[A-1]&&n[A-1].a.av&&h){x--;
P.tP.push(Z(x)+"</g>");h=!1}var O=W.add.vmsk,z=W.add.vogk,a=W.add.vstk,m=W.add.TySh;if(O&&!O.isEnabled)O=a=null;
var q=[];if(!L.hidden&&!W.OQ())continue;var K=W.opacity/255,U=W.add.iOpa?W.add.iOpa/255:1;if(W.uY()){K*=U;
U=1}if(K!=1)q.push("opacity:"+c+X(K));if(U!=1)q.push("fill-opacity:"+c+X(U));if(W.ur!="norm"){var f=cg.bI[cg.Fn.indexOf(W.ur)];
if(f!=null)q.push("mix-blend-mode:"+c+f)}if(!W.OQ())q.push("display:"+c+"none");var l=[],Y=[],G=W.getName(),V=G.indexOf(" .");
if(!L.YX)l.push("id=\""+T(G)+"\"");var dF=hA.hc(W.add.lmfx,W.add),s=dF[0],aH=dF[1],dw=W.add.SoLd;if(dw&&dw.filterFX){var kO=dw.filterFX.v;
if(kO.enab.v&&kO.filterFXList.v.length!=0)dw=null}if(W.uY()){var hX=n[A].children;if(!(hX.length==1&&hX[0].a.add.SoLd&&!L.Vo)){if(E&&W.getName().split("-").length==3){E.push({p2:W.getName(),UI:0,V8:[]})}r(W,O,P,l);
if(q.length!=0)l.push("style=\""+q.join(";")+"\"");if(s){var jF=CSS.iB(s.Clr.v),gn="f"+P.$N;P.$N++;P.tP.push(Z(x)+"<filter id=\""+gn+"\">");
P.tP.push(Z(x+1)+"<feFlood flood-color=\""+jF+"\" flood-opacity=\""+X(s.Opct.v.val/100,2)+"\" />");P.tP.push(Z(x+1)+"<feBlend mode=\""+cg.bI[cg.Fn.indexOf(cg.RI(s.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
P.tP.push(Z(x+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");P.tP.push(Z(x)+"</filter>");
l.push("filter=\"url(#"+gn+")\"")}var hM=o(l,Y),ie=L.YX&&hM=="";if(!ie)P.tP.push(Z(x)+"<g"+(hM==""?"":" "+hM)+">");
w(J,P,hX,x+1,L,u);if(!ie)P.tP.push(Z(x)+"</g>")}}else if(W.iU()&&O==null){I(J,q,W.add,P,p,L);if(q.length!=0)l.push("style=\""+q.join(";")+"\"");
P.tP.push(Z(x)+"<rect width=\""+p.m+"\" height=\""+p.e+"\" "+o(l,Y)+"/>")}else if(O&&dw==null){var bN=d.o.L$(O.X,null,!0),kd,i7=null,dn=0,ew;
I(J,q,W.add,P,bN,L);g(q,P,Y);if(z.length!=0){kd=z[0].v;i7=kd.keyOriginType;if(i7)i7=i7.v;if(i7==2){var e4=d.gM._T(kd);
dn=e4[0];for(var N=0;N<3;N++)if(dn!=e4[N+1])i7=null}}if(z.length==1&&i7==5&&Math.abs(d.gM.a24(kd))<1e-4){var bN=d.gM.B4(kd),jc=(bN[0]+bN[2])/2,ft=(bN[1]+bN[3])/2,bd=jc-bN[0],iB=ft-bN[1],cG=Math.abs(bd-iB)<.01,bT=cG?"r=\""+X(bd)+"\"":"rx=\""+X(bd)+"\" ry=\""+X(iB)+"\"";
ew="<"+(cG?"circle":"ellipse")+" "+o(l,Y)+" cx=\""+X(jc)+"\" cy=\""+X(ft)+"\" "+bT+"/>"}else if(z.length==1&&i7==2&&dn!=0&&Math.abs(d.gM.a24(kd))<1e-4){var bN=d.gM.B4(kd),g$=bN[0],hU=bN[1],ah=bN[2]-bN[0],co=bN[3]-bN[1],im="";
if(g$!=0)im+=" x=\""+X(g$)+"\"";if(hU!=0)im+=" y=\""+X(hU)+"\"";im+=" width=\""+X(ah)+"\"";im+=" height=\""+X(co)+"\"";
im+=" rx=\""+X(dn)+"\"";ew="<rect "+o(l,Y)+im+"></rect>"}else{var hb=d.o.Kt(O.X,1);if(hb.AL!=0){l.push("fill-rule=\"evenodd\"")}ew="<path "+o(l,Y)+" d=\""+hb.E8+"\"/>"}P.tP.push(Z(x)+ew);
if(E&&E[E.length-1]){var dI=d.A.Pw(O.X);dI.j=dI.j.map(Math.round);var bw=E[E.length-1];bw.UI+=JSON.stringify(dI).length;
bw.V8.push([q[0].split("#").pop(),dI])}}else if(m&&L.atK){c=L.YX?"":" ";var fb=m.Ax,iG=new cU(fb,u,m.EG),dy=null;
if(s)dy=CSS.iB(s.Clr.v);if(aH){var bN=W.rect.clone();M(aH,P,bN,L);dy="url(#g"+P.nj+")"}if(dy)q.push("fill:"+c+dy);
k(W,q);var kp=kz.uM(iG,m,!0),gw=d.A.vf(kp);for(var dR in gw){var fT=q.slice(0),gA=Y.slice(0),by=l.slice(0);
if(dy==null){t(fT,dR.slice(0,7),0);if(dR.length>7){var fv=dR.slice(7).split("-");console.log(fv);t(fT,fv[1],1);
if(fv[2]!="1")fT.push("stroke-width:"+c+fv[2])}}g(fT,P,gA);var d4=gw[dR],fv=Typr.U.pathToSVG({crds:d4.j,cmds:d4.G},1);
P.tP.push(Z(x)+"<path "+o(by,gA)+(L.YX?"":" "+$(m))+" d=\""+fv+"\"/>")}}else if(m&&!L.ahI){var fb=m.Ax,fg=m.u.clone(),dy=null;
q.push("transform:"+c+i(fg));var aC=gV.qO(fb),iG=new cU(fb,u,m.EG);k(W,q);if(q.length!=0)l.push("style=\""+q.join(";")+"\"");
P.tP.push(Z(x)+"<text "+o(l,Y)+" >");if(s)dy=CSS.iB(s.Clr.v);if(aH){var bN=W.rect.clone();bN.x-=fg.Kc;
bN.y-=fg.Dm;M(aH,P,bN,L);dy=" url(#g"+P.nj+")"}for(var N=0;N<iG.dV.length;N++){var bu=iG.dV[N];if(bu.ma.length==1&&bu.ma[0].l2)continue;
for(var hj=0;hj<bu.M2.length;hj++){var jg=bu.M2[hj],ft=bu.Vw.y+jg.Vw.y,cm=bu.ma[jg.start].start,bz=bu.ma[jg.end-1].end,db=gV.ajf(fb,cm,bz),eM="";
for(var de=0;de<db.length;de++){var eb=iG.Tf(cm),k8=db[de],hc=gV.c$(fb,cm,cm),bg=hc.GF[hc.na.Font].Name,dR=gV.yd(hc.na.FillColor),k5=Math.round(hc.na.FontSize),e5=aC.slice(cm,cm+k8);
if(hc.na.FontCaps==2)e5=e5.toUpperCase();var j6=new jr;j6.translate(eb.k4.x,-ft);var gK=[];CSS.agf(gK,hc,null,!0,!0,dy);
var aJ=g(gK,P,null,"t");aJ=aJ?" class=\""+aJ+"\"":"";var jc=eb.k4.x,ic=B(hc,e5);eM+="<tspan "+(de==0?"x=\""+X(eb.k4.x)+"\"":"")+" y=\""+X(ft)+"\""+aJ+ic+">"+T(e5)+"</tspan>";
cm+=k8}P.tP.push(Z(x+1)+eM)}}P.tP.push(Z(x)+"</text>")}else if(dw&&L.Vo&&s==null){var gn=dw.Idnt.v,gk=0,hu=dw.Crop?dw.Crop.v:null;
if(P.zJ[gn]!=null)gk=P.zJ[gn];else{P.LL++;gk=P.LL;P.zJ[gn]=P.LL;var gQ=J.oY(gn,hu),gU="";if(gQ==null)return;
var e7=gQ.ed,a2=iu.XS(gQ.raw.buffer);if(a2=="pdf"){var kv=new cc("h");iu.sF("PDF").cU(gQ.raw.buffer,kv);
kv.RH();kv.RD();kv.W();kv._1();if(dw.Crop&&dw.Crop.v==1){F.Et.cw(kv,kv.root.EK(kv,!0))}var cO=iu.sF("SVG").Jv(kv,kv.m,kv.e,null,{UG:u});
gU="data:image/svg+xml;base64,"+iu.al(cO)}else if(a2=="jpg"||a2=="png"||a2=="gif"||a2=="svg"){var hs={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
gU="data:"+hs[a2]+";base64,"+iu.al(gQ.raw.buffer)}else{gU=iu.Se(e7[0].buffer,e7[1].m,e7[1].e)}P.wJ.push(Z(2)+"<image width=\""+e7[1].m+"\" height=\""+e7[1].e+"\" id=\"img"+gk+"\" href=\""+gU+"\"/>")}var ai=d.r.ij(dw),ky=[];
r(W,O,P,ky);if(ky.length!=0)P.tP.push(Z(x)+"<g "+o(ky,Y)+">");if(q.length!=0)l.push("style=\""+q.join(";")+"\"");
var c0=o(l,Y);P.tP.push(Z(x)+"<use "+c0+" href=\"#img"+gk+"\" transform=\""+i(ai)+"\"/>");if(ky.length!=0)P.tP.push(Z(x)+"</g>")}else if(!W.rect.tj()&&(L.Vo||m)){if(q.length!=0)l.push("style=\""+q.join(";")+"\"");
var c0=o(l,Y),aQ=W.buffer;if(s)aQ=hA.akX(aQ,s,W.rect);var ec=W.rect;P.LL++;var gU=iu.Se(aQ.buffer,ec.m,ec.e,"png",null,!0);
P.wJ.push(Z(2)+"<image "+$(m)+" width=\""+W.rect.m+"\" height=\""+W.rect.e+"\" id=\"img"+P.LL+"\" href=\""+gU+"\"/>");
P.tP.push(Z(x)+"<use "+c0+" href=\"#img"+P.LL+"\" x=\""+ec.x+"\" y=\""+ec.y+"\"/>")}}if(h){x--;P.tP.push(Z(x)+"</g>");
h=!1}}function B(J,P){var n=J.na.Tracking,x="";if(n!=null&&n!=0){n=Math.round(n*J.na.FontSize/1e3);x=" dx=\"0";
for(var L=1;L<P.length;L++)x+=" "+n;x+="\" "}return x}function $(J){if(J==null)return"";var P=J.Ax,n=gV.qO(P);
n=T(n.slice(0,n.length-1));return"aria-label=\""+n+"\" "}function o(J,P){if(P.length!=0)J.push("class=\""+P.join(" ")+"\"");
return J.join(" ")}function T(J){return String(J).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function i(J){var P=[J.U,J.J,J.E7,J.sN,J.Kc,J.Dm];
for(var N=0;N<6;N++)P[N]=X(P[N],3);return"matrix("+P.join(",")+")"}function r(J,P,n,x){if(P||J.add.artb){var L;
if(P)L=d.o.Kt(P.X).E8;else{var u=J.fQ(),C=d.A.S6(u);L=Typr.U.pathToSVG({crds:C.j,cmds:C.G},1)}n.Ee++;
x.push("clip-path=\"url(#cp"+n.Ee+")\"");n.wJ.push(Z(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+n.Ee+"\">");
n.wJ.push(Z(3)+"<path d=\""+L+"\"/>");n.wJ.push(Z(2)+"</clipPath>")}}function I(J,P,n,x,L,u){var C=n.vmsk,h=n.lmfx,A=[];
if(C&&C.oV!=0){var W=X(C.oV);if(x.HI[W]==null){x.$N++;x.HI[W]=x.$N;x.wJ.push(Z(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+x.$N+"\"> <feGaussianBlur stdDeviation=\""+W+"\"/> </filter>")}A.push("url(#f"+x.HI[W]+")")}if(h)for(var N=0;
N<cb.order.length;N++){var Q=cb.order[N],l=cb.zt[N],O=h[l].v;for(var z=0;z<O.length;z++){var a=O[z].v,m=a.classID;
if(!a.enab.v)continue;if(m=="OrGl"||m=="DrSh"){x.$N++;A.push("url(#f"+x.$N+")");var q=0,K=0,U=a.blur.v.val/2.4,f=a.Opct.v.val/100;
if(m=="DrSh"){var Y=a.uglg&&a.uglg.v?J.Ac():a.lagl.v.val;Y=Y*(Math.PI/180);var G=a.Dstn.v.val;q=-Math.cos(Y)*G;
K=Math.sin(Y)*G}if(m=="OrGl")f/=a.Inpr.v.val/100;var V="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+x.$N+"\" >";
V+="<feDropShadow dx=\""+q+"\" dy=\""+K+"\" stdDeviation=\""+U+"\" flood-color=\""+CSS.iB(a.Clr.v)+"\" flood-opacity=\""+X(f)+"\"/>";
V+="</filter>";x.wJ.push(Z(2)+V)}}}if(A.length!=0)P.push("filter:"+c+A.join(" "));var dF=n.vstl;if(dF==null)dF=cc.ab8(n);
for(var N=0;N<2;N++){var s=N==0?dF.gl:dF.Rl;if(s==null){if(N==0)P.push("fill:"+c+"none")}else if(s.length==3)t(P,CSS.Z9({Z:s[0]*255,D:s[1]*255,J:s[2]*255}),N);
else{M(s,x,L,u);t(P,"url(#g"+x.nj+")",N)}}if(dF.Rl){var aH=dF.vh,dw=dF.nh,kO=dF.IE,hX=dF.xF,jF=dF.hC;
if(hX==2){kO*=2;P.push("paint-order:stroke fill markers")}if(aH!=0)P.push("stroke-linecap:"+c+["butt","round","square"][aH]);
if(dw!=0)P.push("stroke-linejoin:"+c+["miter","round","bevel"][dw]);else if(dF.Xb!=4)P.push("stroke-miterlimit:"+dF.Xb);
if(kO!=1)P.push("stroke-width:"+c+X(kO));if(jF.length!=0)P.push("stroke-dasharray:"+c+jF.join(","))}}function M(J,P,n,x){if(!(J instanceof Array))J=dd.q5(J,n);
P.nj++;var L=d.o.M1.Rect(n.x,n.y,n.m,n.e),u=J[0],C=(u==1?"radial":"linear")+"Gradient",h=Z(2)+"<"+C+" id=\"g"+P.nj+"\"",A="";
if(x.YX){if(P.nj==1)P.wJ.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");A=" href=\"#P\""}else A=" gradientUnits=\"userSpaceOnUse\"";
var W=dd.lW(J,L),Q=[new eq(0,0),new eq(1,0)];for(var N=0;N<Q.length;N++)Q[N]=W.dl(Q[N]);if(u==0)P.wJ.push(h+" x1=\""+X(Q[0].x)+"\" y1=\""+X(Q[0].y)+"\" x2=\""+X(Q[1].x)+"\" y2=\""+X(Q[1].y)+"\""+A+">");
if(u==1)P.wJ.push(h+" cx=\""+X(Q[0].x)+"\" cy=\""+X(Q[0].y)+"\" r=\""+X(eq.oG(Q[0],Q[1]))+"\""+A+">");
var l=J[1],O=x.YX?2:3;for(var N=0;N<l.length;N++){var z=l[N],a=z[0],m=z[1],q=z[2];q=q==1?"":" stop-opacity=\""+X(q,O)+"\"";
var K=a==0&&x.YX?"":" offset=\""+X(a,O)+"\"",U=CSS.Z9({Z:m[0]*255,D:m[1]*255,J:m[2]*255});U=x.YX&&U=="#000000"?"":" stop-color=\""+R(U)+"\"";
P.wJ.push(Z(3)+"<stop"+K+U+q+"/>")}P.wJ.push(Z(2)+"</"+C+">")}iD.pm=i;return H}();iD.M1=function(E,y,c,e,p){var H=[],Z=iD.M1,X=!1,b={Pf:E,T4:y,O4:[!0,!0,!0],aA:!1,e9:c,a5c:0};
b.qB=Math.round(Math.max(E,y)*(.02+Z.A0(b)*.03));b.Qt=Z.aDZ(b);b.A4=Z.azB(b.Qt,(Z.A0(b)<.5?-1:1)*(.2+Z.A0(b)*.3));
if(Z.A0(b)<.5){var k=b.Qt;b.Qt=b.A4;b.A4=k}b.awq=Z.A0(b)<.4&&Z.abS(b.A4,{Z:1,D:1,J:1})>.3;b.av8=Z.A0(b)<.5?0:1;
H.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+E+" "+y+"\" width=\""+E+"\" height=\""+y+"\">");
b.bW=e[Math.floor(Z.Qg(b)*e.length)];b.IT=e[Math.floor(Z.Qg(b)*e.length)];H.push("<style>");H.push("@font-face {  font-family: "+b.bW[2]+";  src: url(rsrc/fonts/"+b.bW[5]+");  }");
H.push("@font-face {  font-family: "+b.IT[2]+";  src: url(rsrc/fonts/"+b.IT[5]+");  }");H.push("</style>");
var D=[0,0,E,y],j=D;if(p==null)H.push("<path style=\"fill: "+Z.h3(b.Qt)+"\" d=\""+Z.Rect(D[0],D[1],D[2]-D[0],D[3]-D[1])+"\" id=\"Background\" />");
else{b.aA=!0;Z.a3D(b,D,H,p)}if(Z.A0(b)<.25&&!b.aA){b.O4[0]=b.O4[2]=!1;Z.a6N(D,b,H);j=D}else if(Z.A0(b)<.25||b.aA)j=D;
else{var g=.52+Z.A0(b)*.2;if(Z.A0(b)<.5)g=1-g;var R=D.slice(0),t=D.slice(0);if(Z.A0(b)<.5)R[2]=t[0]=Math.round(g*E);
else R[3]=t[1]=Math.round(g*y);if(Z.A0(b)<.5){var k=R;R=t;t=k}j=R;Z.abQ(b,t,H,p)}Z.axf(b,j,H);H.push("</svg>");
H=H.join("\n");var w=d.R(Math.round(H.length*1.5)),B=_.Ww(H,w,0);return[w.buffer.slice(0,B),b.Rh]};iD.M1.a6N=function(E,y,c){var e=iD.M1,p=E[2]-E[0],H=E[3]-E[1];
if(e.A0(y)<.5){c.push("<path id=\"Border\" style=\"fill: "+e.h3(y.A4)+"\" d=\""+e.av1(E[0],E[1],E[2]-E[0],E[3]-E[1],y.qB)+"\" />")}else if(e.A0(y)<-.4){e.aa2(y,E,c)}else{var Z=e.A0(y)<.5?0:1,X=(Z==0?H:p)/4,b=e.ss(y,Z,E,c,X,!0),b=e.ss(y,Z+2,E,c,X,!0,b)}};
iD.M1.axf=function(E,y,c){var e=iD.M1,p="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),H=2*Math.floor(e.A0(E)*p.length/2),Z=y[2]-y[0],X=y[3]-y[1],k=0,j=0;
E.e7=(E.Pf+Z)*.5*(.04+e.A0(E)*.05);E.e7=Math.min(E.e7,X*.4,Z*.12);E.e7=Math.round(E.e7);var b=Math.min(E.e7*p[H].length*(.35+.3*e.A0(E)),Z*.9),D=(y[1]+y[3])/2,g=d.pM(E.Qt)<.85?{Z:1,D:1,J:1}:{Z:.1,D:.1,J:.1};
if(e.A0(E)<.25&&E.O4[0]){j=0;k=y[0]+E.qB}else if(e.A0(E)<.33&&E.O4[2]){j=2;k=y[2]-E.qB}else{j=1;k=(y[0]+y[2])/2}var R=g.Z==1?"0,0,0":"255,255,255",t=E.aA&&e.A0(E)<1;
if(t){var w=y[0],B=Z,$=D-E.e7*1.1,o=E.e7*2.2,T=.7;if(j==1&&e.A0(E)<.5){w=$=.2*Math.min(Z,X);B=Z-2*$;
o=X-$-$}else if(e.A0(E)<.7){w=$=0;B=Z;o=X;T=.25}c.push("<path id=\"Strip\" style=\"fill: rgb("+R+"); opacity: "+T+"\" d=\""+e.Rect(w,$,B,o)+"\" />")}if(e.A0(E)<.4){var i=E.e7*.07;
i*=1.5+e.A0(E)*1;if(j==-1&&Z/X<3&&!t){c.push("<path id=\"Bar-bottom\" style=\"fill: "+e.h3(g)+"\" d=\""+e.Rect(k-b/2,D+E.e7*1.1-i/2,b,i)+"\" />");
c.push("<path id=\"Bar-top\"    style=\"fill: "+e.h3(g)+"\" d=\""+e.Rect(k-b/2,D-E.e7*1.1-i/2,b,i)+"\" />")}if(j!=1){c.push("<path id=\"Bar\" style=\"fill: "+e.h3(g)+"\" d=\""+e.Rect(k-i/2,D-E.e7*.8,i,E.e7*.8*2)+"\" />");
k+=(j==0?1:-1)*E.e7/3}}var r=E.e7*.4;c.push(e.a0h(p[H+1],k,D+r*1.6,r,g,j,E.IT));c.push(e.a0h(p[H],k,D+E.e7*.04,E.e7,g,j,E.bW))};
iD.M1.abQ=function(E,y,c,e){var p=y[2]-y[0],H=y[3]-y[1],Z=Math.max(p,H),X=Math.min(p,H),b=iD.M1;if(Z/X<5&&!E.aA&&!1){b.a3D(E,y,c,e)}else if(b.A0(E)<0)c.push("<path style=\"fill: "+b.h3(E.A4)+"\" d=\""+b.Rect(y[0],y[1],p,H)+"\" />");
else{var k=0;if(y[3]!=E.T4)k=0;if(y[2]!=E.Pf)k=3;if(y[0]!=0)k=1;if(y[1]!=0)k=2;var D=k+2&3;if(Z/X<3){var j=b.arf(D),g=j[Math.round(b.A0(E)*(j.length-1))],R=g.p2.slice(0,4),t=R.indexOf(1);
g=JSON.parse(JSON.stringify(g));var w=-1;if(R!="0000"){var B=new jr;if(g.p2[5]=="0"){if(t==3&&k==1){w=1;
B.scale(-1,1)}else w=t}else{var $=D;while($==D)$=Math.floor(b.A0(E)*4)&3;B.rotate((-t+$)*Math.PI/2)}b.u(g,B)}var o=b.n7(g),T=p-2*E.qB,i=H-2*E.qB;
if(w!=-1){if((w&1)==0)i-=E.qB;else T-=E.qB}var r=Math.min(T/o.m,i/o.e),I=new jr;I.translate(-o.x,-o.y);
I.scale(r,r);var M=(p-o.m*r)/2,J=(H-o.e*r)/2;if(w!=-1){if(w==3)M=0;if(w==0)J=0;if(w==1)M=p-o.m*r;if(w==2)J=H-o.e*r}I.translate(y[0]+M,y[1]+J);
b.Hv(E,g,I,E.A4,c)}else{b.ss(E,k,y,c,1e9)}}};iD.M1.a3D=function(E,y,c,e){var p=y[2]-y[0],H=y[3]-y[1],Z=Math.max(p,H),X=Math.min(p,H),b=iD.M1,k=b.Qg(E),D,j,g,R=e[0]instanceof ArrayBuffer;
if(R){D="data:image/jpg;base64,"+fz.Xv(e[0]);j=e[1];g=e[2]}else{var t=Math.floor(k*e.length),w=e[t];
E.Rh=w;D=w.webformatURL;j=w.webformatWidth;g=w.webformatHeight}var B=y[0],$=y[1],o=p,T=H;if(p/H>j/g){T=o*g/j;
$=$-(T-H)/2}else{o=T*j/g;B=B-(o-p)/2}if(R){c.push("<defs>");c.push("<image width=\""+j+"\" height=\""+g+"\" id=\"Background\" href=\""+D+"\" />");
c.push("</defs>");var i=o/j;c.push("<use href=\"#Background\" transform=\""+iD.pm(new jr(i,0,0,i,B,$))+"\" />")}else{var r="cp"+Math.random();
c.push("<clipPath id=\""+r+"\">");c.push("<path style=\"fill: "+b.h3(E.A4)+"\" d=\""+b.Rect(y[0],y[1],p,H)+"\" />");
c.push("</clipPath>");c.push("<image  clip-path=\"url(#"+r+")\" xlink:href=\""+D+"\" x=\""+B+"\" y=\""+$+"\" width=\""+o+"\" height=\""+T+"\" />")}};
iD.M1.a0h=function(E,y,c,e,p,H,Z){var X=iD.M1;return"<text x=\""+y+"\" y=\""+c+"\" style=\"fill:"+X.h3(p)+"; font-size:"+e+"px; text-anchor:"+["start","middle","end"][H]+"; font-family:"+Z[2]+";\"><tspan>"+E+"</tspan></text>"};
iD.M1.Hv=function(E,y,c,e,p){var H=iD.M1,Z=[];for(var N=0;N<y.V8.length;N++){Z.push(e);if(E.awq){e=(N&1)==E.av8?{Z:1,D:1,J:1}:Z[0]}}p.push("<g id=\""+y.p2.split("-")[2]+":::\" style=\"transform: "+iD.pm(c)+";\" >");
for(var N=0;N<y.V8.length;N++){var X=y.V8[N];e=Z.pop();p.push("<path style=\"fill: "+(e?H.h3(e):"#"+X[0])+"\" d=\""+Typr.U.pathToSVG({crds:X[1].j,cmds:X[1].G})+"\" />")}p.push("</g>")};
iD.M1.aa2=function(E,y,c){var e=iD.M1,p=iD.M1.iP,H=[];for(var N=0;N<p.length;N++){var Z=p[N],X=Z.p2.slice(0,4);
if(X!="1001")continue;H.push(Z)}var Z=H[Math.floor(e.A0(E)*H.length)];if(e.A0(E)<.5)e.u(Z,new jr(0,1,1,0,0,0));
var b=y[3]-y[1],k=y[2]-y[0],D=e.n7(Z),j=.7*Math.min(k,b,.5*Math.max(k,b))/Math.max(D.m,D.e),g=new jr;
g.scale(j,j);if(e.A0(E)<.5){g.scale(1,-1);g.translate(0,b)}e.Hv(E,Z,g,E.A4,c);g.rotate(Math.PI);g.translate(k,b);
e.Hv(E,Z,g,E.A4,c)};iD.M1.arf=function(E){var y=iD.M1.iP,c=[];for(var N=0;N<y.length;N++){var e=y[N],p=e.p2.slice(0,4);
if(p=="0000"){c.push(e);continue}if(["1000","0100","0010","0001"].indexOf(p)==-1)continue;var H=p.indexOf("1");
if(e.p2[5]=="0"&&E==H&&H!=3)continue;c.push(e)}return c};iD.M1.ss=function(E,y,c,e,p,H,Z){var X=iD.M1.iP,b=iD.M1,k=[],o,T;
for(var N=0;N<X.length;N++){var D=X[N],j=D.p2.slice(0,4);if(["1110","1101","1011","0111"].indexOf(j)==-1)continue;
var g=j.indexOf("0")+2&3;if(D.p2[5]=="0")if(H==!0||y!=g&&!(y==1&&g==3))continue;k.push(D)}var R=Z!=null?Z:Math.floor(b.A0(E)*k.length),D=k[R],D=JSON.parse(JSON.stringify(D)),j=D.p2.slice(0,4),g=j.indexOf("0")+2&3;
if(g==3&&y==1)d.u(D,new jr(1,0,0,-1,0,1e3));var t=new jr;t.translate(-500,-500);t.rotate(-g*Math.PI/2);
t.translate(500,500);b.u(D,t);var w=c[3]-c[1],B=c[2]-c[0],$=b.n7(D);if($.y<0){$.e+=$.y;$.y=0}if($.y>0){$.e+=$.y;
$.y=0}if((y&1)==0){T=w;o=B}else{o=w;T=B}var i=Math.min(Math.min(.5+.5*b.A0(E))*Math.min(B,w),p)/$.e,r=Math.ceil(o/(1e3*i)),I=new jr,M=new jr;
M.scale(i,i);if(y==0||y==2){M.translate(-(B/2),-(w/2));M.rotate(-y*Math.PI/2);M.translate(B/2+c[0],w/2+c[1])}else{M.rotate(Math.PI/2);
M.scale(1,-1);M.translate(c[0],c[1]);if(y==1){M.scale(-1,1);M.translate(B,0)}}e.push("<g id=\"Border-"+["top","right","bottom","left"][y]+":::\">");
for(var N=0;N<r;N++){var J=I.clone();J.concat(M);b.Hv(E,D,J,E.A4,e);I.translate(1e3-2,0)}e.push("</g>");
return R};iD.M1.Rect=function(E,y,c,e){return Typr.U.pathToSVG({crds:[E,y,E+c,y,E+c,y+e,E,y+e],cmds:["M","L","L","L","Z"]})};
iD.M1.av1=function(E,y,c,e,p){var H=[E,y,E+c,y,E+c,y+e,E,y+e];E+=p;y+=p;c-=2*p;e-=2*p;H.push(E,y,E,y+e,E+c,y+e,E+c,y);
return Typr.U.pathToSVG({crds:H,cmds:"M L L L Z M L L L Z".split(" ")})};iD.M1.azB=function(E,y){var c=d.z_(E.Z,E.D,E.J);
c.qC=Math.max(.1,Math.min(.9,c.qC+y));return d.nf(c.T4,c.az,c.qC)};iD.M1.a8S=function(E,y){var c=d.z_(E.Z,E.D,E.J);
c.T4+=y;return d.nf(c.T4,c.az,c.qC)};iD.M1.ax4=function(E){var y=d.z_(E.Z,E.D,E.J);y.qC=1-y.qC;return d.nf(y.T4,y.az,y.qC)};
iD.M1.abS=function(E,y){var c=E.Z-y.Z,e=E.D-y.D,p=E.J-y.J;return Math.sqrt(c*c+e*e+p*p)};iD.M1.aDZ=function(E){var y=iD.M1;
return{Z:y.A0(E),D:y.A0(E),J:y.A0(E)}};iD.M1.h3=function(E){return CSS.Z9({Z:E.Z*255,D:E.D*255,J:E.J*255})};
iD.M1.n7=function(E){var y=E.V8,c=new ir;for(var N=0;N<y.length;N++)c=c.uN(d.A.n7(y[N][1].j));return c};
iD.M1.u=function(E,y){var c=E.V8;for(var N=0;N<c.length;N++)d.A.u(c[N][1].j,y,c[N][1].j)};iD.M1.A0=function(E){E.a5c++;
var y=E.a5c&3;if(y==0)E.e9=iD.M1.dp(E.e9);var c=E.e9>>>8*y&255;return c*(.99999999/255)};iD.M1.Qg=function(E){var y=iD.M1.dp(E.e9);
E.e9=iD.M1.dp(y);return y*(1/4294967295)};iD.M1.dp=function(E){E=(E^61^E>>>16)>>>0;E=E+(E<<3)>>>0;E=(E^E>>>4)>>>0;
E=E*668265261>>>0;E=(E^E>>>15)>>>0;return E};iD.M1.iP=[{p2:"0001-0-bird",V8:[["4b3c34",{G:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),j:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{G:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),j:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{G:"M C C C C C C C C C C C C L Z".split(" "),j:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{p2:"0001-0-bird2",V8:[["ff7f2a",{G:"M L L L Z M L L L Z".split(" "),j:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{G:"M C C C C C C C C C C C L Z".split(" "),j:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{G:"M C C C C C C L Z M C C Z".split(" "),j:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{G:"M L L L Z M L L L Z".split(" "),j:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{G:"M L C C C C C C C C L Z".split(" "),j:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{G:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),j:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{p2:"0000-1-flower",V8:[["7a59a2",{G:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),j:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{p2:"0000-1-flower",V8:[["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),j:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{p2:"0000-1-flower",V8:[["ffac42",{G:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),j:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{p2:"0000-1-flower",V8:[["d04040",{G:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{p2:"0000-1-flower",V8:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),j:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{G:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),j:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{p2:"0000-0-hearts",V8:[["d17070",{G:"M C C C C C C C C C L Z".split(" "),j:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{G:"M C C C C C C C C C L Z".split(" "),j:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{G:"M C C C C C C C C C L Z".split(" "),j:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{p2:"0000-0-anchor",V8:[["2a3b66",{G:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),j:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{p2:"0000-1-leaf",V8:[["fbb600",{G:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),j:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{p2:"0000-1-acorn",V8:[["a05a2c",{G:"M C C C C C C C L Z".split(" "),j:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{G:"M C C C C C C C C C C C Z".split(" "),j:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{p2:"0000-0-skull",V8:[["808080",{G:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),j:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{p2:"0000-0-ghost",V8:[["e6e6e6",{G:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),j:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{G:"M C C C C Z M C C C C Z".split(" "),j:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{p2:"1001-1-rose",V8:[["9e1460",{G:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),j:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{G:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),j:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{p2:"1001-1-curls",V8:[["53a7ab",{G:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{G:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{p2:"0111-0-pines",V8:[["e9e9e9",{G:"M C C C C C C C C L L L Z".split(" "),j:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{G:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),j:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{p2:"0111-0-flowers",V8:[["8cae40",{G:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),j:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{p2:"1101-1-confetti",V8:[["e789ff",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{p2:"1101-1-branch",V8:[["7f500b",{G:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),j:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{p2:"1101-1-sticks",V8:[["ec7272",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{p2:"1101-1-dots",V8:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{G:["M","C","C","Z"],j:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{p2:"1101-1-strips",V8:[["ffc88c",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{G:["M","C","C","Z"],j:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{p2:"1101-1-circs",V8:[["ec7272",{G:"M C C C C Z M C C C C Z".split(" "),j:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{G:"M C C C C Z M C C C C Z".split(" "),j:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{G:["M","C","C","Z"],j:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{p2:"1101-1-squares",V8:[["014ea7",{G:"M L L L L Z M L L L L Z".split(" "),j:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{G:"M L L L L Z M L L L L Z".split(" "),j:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{G:["M","C","C","Z"],j:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{p2:"1101-0-christmas",V8:[["014ea7",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var hg={};hg.parse=function(E){var y=new Uint8Array(E),c=null;if(y[0]==80&&y[1]==75){var e=Date.now(),p=UZIP.parse(y.buffer),c=p["document.json"];
c=JSON.parse(_.Uw(c,0,c.length));hg.c4(c,p)}else{var H=eo.parse(E);c=hg.anz(H[2][0][1])}return c};hg.c4=function(E,y){var c=typeof E;
if(c=="string"||c=="number"||c=="boolean"||E==null)return E;if(E instanceof Array){for(var N=0;N<E.length;
N++)E[N]=hg.c4(E[N],y);return E}var e=E._class;if(e==null)return E;if(e=="MSJSONFileReference"){var p=E._ref;
if(!1){}else if(y[p+".json"]!=null){var H=y[p+".json"],Z=H.length;for(var N=0;N<Z;N++)if(H[N]==11||H[N]==3)H[N]=32;
var X=_.Uw(H,0,Z);E=JSON.parse(X)}else if(y[p+".png"]!=null)return{key:p.split("/").pop(),bdata:y[p+".png"]};
else if(y[p+".jpg"]!=null)return{key:p.split("/").pop(),bdata:y[p+".jpg"]};else if(y[p+".pdf"]!=null)return{key:p.split("/").pop(),bdata:y[p+".pdf"]};
else if(y[p]!=null)return{key:p.split("/").pop(),bdata:y[p]};else{console.log(E,y);return}}else if(e=="MSAttributedString"){var X=atob(E.archivedAttributedString._archive),b=X.length,k=new Uint8Array(b);
for(var N=0;N<b;N++)k[N]=X.charCodeAt(N);E.archivedAttributedString=hg.anz(k)}for(var D in E)E[D]=hg.c4(E[D],y);
return E};hg.acQ=function(E,y,c,e){if(E instanceof Uint8Array)return null;if(e.indexOf(E)!=-1)return null;
e.push(E);if(E==y)return c;for(var p in E){c.push(p);var H=hg.acQ(E[p],y,c,e);if(H){console.log(E,H);
throw"e"}c.pop()}};hg.anz=function(E){var y=iV.parse(E,0),c=y.$objects,e=new Uint8Array(c.length),p=hg.jY(c,e,y.$top.root);
for(var N=0;N<c.length;N++)if(e[N]==0&&N!=0){console.log(N,c[N]);hg.acQ(p,N,[],[])}for(var N=0;N<c.length;
N++){var H=c[N];if(H._class&&(H._class=="bitmap"||H._class=="fill"&&H.fillType==4&&(H.image||H.imageSHA))){var Z=H.image,X=H.imageSHA,b=null,k=null;
if(Z=="$null")Z=null;if(X=="$null")X=null;if(Z&&Z.data){k=Z.sha1["NS.bytes"];k=btoa(_.xY(k,0,k.length));
b=Z.data instanceof Uint8Array?Z.data:Z.data["NS.bytes"]}else if(Z==null&&X==null){var D=iu.sF("PNG").Jv([[d.R(4).buffer]],1,1);
b=new Uint8Array(D)}else{var j=(p.assets?p.assets.imageCollection:p.images).images;if(X)k=X instanceof Uint8Array?X:X["NS.bytes"];
else k=Z.sha1["NS.bytes"];k=btoa(_.xY(k,0,k.length));var b=j[k].data;if(b["NS.bytes"])b=b["NS.bytes"]}b=new Uint8Array(b.buffer.slice(b.byteOffset,b.byteOffset+b.length));
delete H.imageSHA;H.image={key:k,bdata:b}}}return p};hg.axc=function(E){return E.slice(0,11)=="MSImmutable"?"MS"+E.slice(11):E};
hg.jY=function(E,y,c){var e=E[c];if(y[c]==1){return e}y[c]=1;if(typeof e=="string")return e;if(typeof e=="number")return e;
if(typeof e=="boolean")return e;if(e instanceof Array)return e;if(e instanceof Uint8Array){return e}if(E[e.$class]==null){if(e.$class==null&&e["NS.data"]!=null)return e;
console.log(c,e);throw"e"}var p=E[e.$class],H=hg.axc(p.$classname);y[e.$class]=1;e.$class=H;if(hg.aeM[H]){delete e.$class;
e._class=hg.aeM[H]}var Z=hg.jY;if(H=="NSMutableArray"||H=="NSArray"){var X=[];if(e["NS.objects"]!=null)for(var N=0;
N<e["NS.objects"].length;N++)X.push(Z(E,y,e["NS.objects"][N]));else for(var N=0;e["NS.object."+N]!=null;
N++)X.push(Z(E,y,e["NS.object."+N]));E[c]=X;return X}if(H=="NSDictionary"||H=="NSMutableDictionary"){var b={$class:H};
if(e["NS.keys"]!=null)for(var N=0;N<e["NS.keys"].length;N++){var k=Z(E,y,e["NS.keys"][N]);if(k instanceof Uint8Array)k=btoa(hg.QH.xY(k,0,k.length));
else if(typeof k!="string"&&typeof k!="number")k=btoa(hg.QH.xY(k["NS.bytes"],0,k["NS.bytes"].length));
b[k]=Z(E,y,e["NS.objects"][N])}else for(var N=0;e["NS.key."+N]!=null;N++){var k=Z(E,y,e["NS.key."+N]);
if(k instanceof Uint8Array)k=btoa(hg.QH.xY(k,0,k.length));else if(typeof k!="string"&&typeof k!="number")k=btoa(hg.QH.xY(k["NS.bytes"],0,k["NS.bytes"].length));
b[k]=Z(E,y,e["NS.object."+N])}for(var D in e)delete e[D];for(var D in b)e[D]=b[D];return e}if(H=="NSURL")return{$class:H,base:Z(E,y,e["NS.base"]),relative:Z(E,y,e["NS.relative"])};
if(hg.a1N.indexOf(H)!=-1){E[c]=Z(E,y,e.array_do);return E[c]}if(e.do_objectID!=null)e.do_objectID=Z(E,y,e.do_objectID);
if(hg.a4L.indexOf(H)!=-1)return e;var j=hg.aD3[H];if(j==null){console.log(E,e);throw"unknown class "+H}for(var N=0;
N<j.length;N++)if(e[j[N]]!=null)e[j[N]]=Z(E,y,e[j[N]]);if(H=="MSTextLayer"){var g=e,R,t,w,B;if(g.attributedString)R=g.attributedString.archivedAttributedString;
else R=g.storage;B=R.NSString;if(typeof B!="string")B=_.Uw(B["NS.bytes"],0,B["NS.bytes"].length);if(R.NSAttributeInfo)t=R.NSAttributeInfo["NS.bytes"];
else{var $=B.length,o=[];while($>0){var T=Math.min(100,$);o.push(T,0);$-=T}t=new Uint8Array(o)}w=R.NSAttributes instanceof Array?R.NSAttributes:[R.NSAttributes];
var i={$class:"NSAttributedString",NSString:B,NSAttributes:w};g.attributedString={_class:"MSAttributedString",archivedAttributedString:i};
i.NSAttributeInfo={$class:"NSMutableData","NS.data":t};delete g.storage}return e};hg.QH={dT:function(E,y){return E[y+1]<<8|E[y]},q:function(E,y){return E[y+3]<<24|E[y+2]<<16|E[y+1]<<8|E[y]},xY:function(E,y,c){var e="";
for(var N=0;N<c;N++)e+=String.fromCharCode(E[y+N]);return e}};hg.aeM={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
hg.a1N=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
hg.a4L="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
hg.aD3={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var iV={};iV.parse=function(E,y){var c=_.xY(E,y,8);y+=8;var e=E.length-32,p=iV.parse.aDn(E,e),H=[];if(p.VJ==1){var y=e-p.VJ*p.oy;
for(var N=0;N<p.oy;N++)H.push(E[y+N])}else if(p.VJ==2){var y=e-p.VJ*p.oy;for(var N=0;N<p.oy;N++)H.push(_.dT(E,y+N*2))}else if(p.VJ==4){var y=e-p.VJ*p.oy;
for(var N=0;N<p.oy;N++)H.push(_.q(E,y+N*4))}else{throw"e"}var Z=iV.parse.jY(E,H,p.root,p);return Z};
iV.parse.jY=function(E,y,c,e){var p=iV.QH,H=e.aB_,Z=H==4?p.q:H==2?p.dT:p.ame,X=iV.parse,b=y[c],k=E[b],D=k>>4,j=k&15,R=null;
b+=1;if([4,5,6,10,12,13].indexOf(D)!=-1&&j==15){var g=X.$G(E,b);b+=g.UI;j=g.b}if(!1){}else if(D==0)R=j==8?!1:j==9?!0:null;
else if(D==1)R=X.$G(E,b-1).b;else if(D==2)R=1<<j==4?_.SI(E,b):_.ct(E,b);else if(D==3)R=_.ct(E,b);else if(D==4)R=new Uint8Array(E.buffer,b,j);
else if(D==5)R=_.xY(E,b,j);else if(D==6)R=_.ZL(E,b,j);else if(D==8){R=0;for(var N=0;N<j+1;N++)R=R<<8|E[b+N]}else if(D==10){R=[];
for(var N=0;N<j;N++)R.push(X.jY(E,y,Z(E,b+H*N),e))}else if(D==12){R=[];for(var N=0;N<j;N++)R.push(X.jY(E,y,Z(E,b+H*N),e))}else if(D==13){R={};
for(var N=0;N<j;N++){var t=X.jY(E,y,Z(E,b+H*N),e),w=X.jY(E,y,Z(E,b+H*(j+N)),e);R[t]=w}}else throw"unknown mask "+D;
return R};iV.parse.$G=function(E,y){var c=1<<(E[y]&15),e=0;for(var N=0;N<c;N++)e=e<<8|E[y+1+N];return{b:e,UI:c+1}};
iV.parse.aDn=function(E,y){var c={};y+=6;c.VJ=E[y];y++;c.aB_=E[y];y++;y+=4;c.oy=_.q(E,y);y+=4;y+=4;c.root=_.q(E,y);
y+=4;y+=4;c.aDr=_.q(E,y);y+=4;return c};iV.QH={ame:function(E,y){return E[y]},dT:function(E,y){return E[y]<<8|E[y+1]},q:function(E,y){return E[y]<<24|E[y+1]<<16|E[y+2]<<8|E[y+3]},xY:function(E,y,c){var e="";
for(var N=0;N<c;N++)e+=String.fromCharCode(E[y+N]);return e}};var eo={parse:function(E){var y=new Uint8Array(E),c=eo.BB(y),e=[],p=new Uint8Array(y.length),H=[];
e.push(H);eo.uI(y,c,1,p,H);for(var N=0;N<H.length;N++){var Z=[];e.push(Z);eo.uI(y,c,H[N][3],p,Z,N==11);
H[N][3]=N+1}return e},uI:function(E,y,c,e,p,H){c--;var Z=c*y.N5+(c==0?100:0),X=E[Z],b=eo.dT(E,Z+1),k=eo.dT(E,Z+3),D=eo.dT(E,Z+5),g=0;
if(D==0)D=65536;var j=E[Z+7];Z+=8;if(X==2||X==5){g=eo.q(E,Z);Z+=4}for(var R=0;R<k;R++){var t=c*y.N5+eo.dT(E,Z+2*R),w=-1,B=0,$=0,o=0;
if(X==2||X==5){w=eo.q(E,t);t+=4}if(X==2||X==10||X==13){B=eo.mw(E,t);t+=B.UI}if(X==5||X==13){$=eo.mw(E,t);
t+=$.UI}if(X==2||X==5){eo.uI(E,y,w,e,p,H);continue}var T=y.N5-(c==0?100:0),i=B.XR,r=X==13?T-35:Math.floor((T-12)*64/255)-23,I=Math.floor((T-12)*32/255)-23,M=I+(i-I)%(T-4);
if(i<=r){eo.Jt(E,t,e,0,i)}else{var J=M<=r?M:I,P=0;eo.Jt(E,t,e,0,J);P+=J;o=eo.q(E,t+J);while(o!=0){var n=(o-1)*y.N5;
o=eo.q(E,n);var x=Math.min(y.N5-4,i-P);eo.Jt(E,n+4,e,P,x);P+=x}}p.push(eo.ac6(e,i))}if(g!=0)eo.uI(E,y,g,e,p,H)},ac6:function(E,y){var c=0,e=eo.mw(E,c);
c+=e.UI;var p=[],H=[];while(c<e.XR){var Z=eo.mw(E,c);c+=Z.UI;p.push(Z.XR)}if(c!=e.XR)throw"e";for(var N=0;
N<p.length;N++){var Z=p[N];if(!1){}else if(Z==0)H.push(null);else if(Z==1){H.push(eo.atj(E,c));c+=1}else if(Z==2){H.push(eo.aL(E,c));
c+=2}else if(Z==3){H.push(eo.anl(E,c));c+=3}else if(Z==4){H.push(eo.$G(E,c));c+=4}else if(Z==5){H.push(eo.q(E,c+2));
c+=6}else if(Z==6){H.push(eo.q(E,c)+":"+eo.q(E,c+4));c+=8}else if(Z==7){H.push(eo.a8v(E,c));c+=8}else if(Z==8)H.push(0);
else if(Z==9)H.push(1);else if(Z>=12&&(Z&1)==0){var X=Z-12>>1,b=new Uint8Array(X);eo.Jt(E,c,b,0,X);H.push(b);
c+=X}else if(Z>=13&&(Z&1)==1){var X=Z-13>>1;H.push(eo.Uw(E,c,X));c+=X}else throw"unknonw type "+Z}return H},BB:function(E){if(!(E[18]==1&&E[19]==1&&E[20]==0&&E[21]==64&&E[22]==32&&E[23]==32))throw"unexpected SQL3 header";
var y={DR:eo.xY(E,0,15),N5:eo.dT(E,16),aiN:eo.q(E,24),size:eo.q(E,28),a5O:eo.q(E,32),ajG:eo.q(E,36),azH:eo.q(E,40),akE:eo.q(E,44),aB7:eo.q(E,48),an0:eo.q(E,52),atx:eo.q(E,56),aDE:eo.q(E,60),axL:eo.q(E,64)!=0,adY:eo.q(E,68),aDd:eo.q(E,92),a6L:eo.q(E,96)};
if(y.N5==1)y.N5=65536;if(y.atx!=1)throw"unsupported text encoding "+y.atx;return y},avN:function(E,y){return E[y]<<16|E[y+1]<<8|E[y+2]},anl:function(E,y){var c=eo.avN(E,y),e=c&8388608;
return e?-(16777215-c+1):c},atj:function(E,y){eo.Ev[0]=E[y];return eo.a37[0]},$G:function(E,y){var c=eo.Ev;
for(var N=0;N<4;N++)c[N]=E[y+3-N];return eo.ai3[0]},aL:function(E,y){var c=eo.Ev;c[0]=E[y+1];c[1]=E[y];
return eo.ajy[0]},dT:function(E,y){return E[y]<<8|E[y+1]},q:function(E,y){var c=eo.Ev;for(var N=0;N<4;
N++)c[N]=E[y+3-N];return eo.ab3[0]},a8v:function(E,y){var c=eo.Ev;for(var N=0;N<8;N++)c[N]=E[y+7-N];
return eo.aBu[0]},mw:function(E,y){var c=y,j1=0;while(!0){var e=E[y];y++;j1=j1*128+(e&127);if(e<128)break}return{XR:j1,UI:y-c}},xY:function(E,y,c){var e="";
for(var N=0;N<c;N++)e+=String.fromCharCode(E[y+N]);return e},Uw:function(E,y,c){var e="";for(var N=0;
N<c;N++)e+="%"+eo.apx(E[y+N].toString(16));try{e=decodeURIComponent(e);return e}catch(b4){return e}},Jt:function(E,y,c,e,p){if(E[y+p-1]==null||c[e+p-1]==null){console.log(y,e,p);
throw"e"}for(var N=0;N<p;N++)c[e+N]=E[y+N]},apx:function(j1){return j1.length<2?"0"+j1:j1}};eo.Ev=new Uint8Array(8);
eo.a37=new Int8Array(eo.Ev.buffer);eo.ajy=new Int16Array(eo.Ev.buffer);eo.ai3=new Int32Array(eo.Ev.buffer);
eo.ab3=new Uint32Array(eo.Ev.buffer);eo.aBu=new Float64Array(eo.Ev.buffer);eo.akb=function(E,y){var c=E[0],e={};
for(var N=0;N<c.length;N++){var p=c[N],H=p[1];if(p[0]!="table")continue;var Z=p[4];Z=Z.slice(Z.indexOf("(")+1,Z.indexOf(")"));
Z=Z.split(",");for(var X=0;X<Z.length;X++){var b=Z[X].trim().split(" ")[0];if(y&&b.startsWith(H))b=b.slice(H.length);
Z[X]=b}var k=e[H]=[],D=E[p[3]];for(var X=0;X<D.length;X++){var j=D[X],g={};k.push(g);for(var R=0;R<Z.length;
R++){if(g[Z[R]]!=null)throw"e";g[Z[R]]=j[R]}}}return e};function af(E,y,c){this.XH=E;this.S8=y;this.aux=c;
this.vd=new eq(0,0);this.ef=-1;this.v8=0;this.BF=0;this.N1=new ir;this.$I=[];this.G4=null;this.a4X=null;
this.zl=null;this.th=null;this.md=null;this.a6V=null}af.prototype.StartPage=function(E,y,c,e,p){var H=this.S8,Z=H.ul(),X=1,b=(c-E)*(e-y);
if(p!=null)b=p;while(b*Z*Z/(X*X)>2*8192*8192)X++;H.scale(1/X,1/X);this.a4X=[E,y,c,e];var X=H.ul();E=Math.round(E*X);
y=Math.round(y*X);c=Math.round(c*X);e=Math.round(e*X);var k=this.XH,D=this.zl;if(D==null){H.Kc=-E}else{var j=D[2]-D[0]+30,g=Math.round(c-E)+30;
if(this.vd.x+j+g>8192){H.Kc=-E;this.vd.x=0;this.vd.y+=this.BF+120;this.BF=0}else{H.Kc+=j;this.vd.x+=j}}H.Dm=this.vd.y+(this.aux?e:-y);
this.BF=Math.max(this.BF,Math.round(e-y));this.zl=[E,y,c,e];this.afz=[];k.B.push(k.eM())};af.prototype.StartTGroup=function(E){this.zo();
var y=this.XH;y.B.push(y.eM());var c=af.$J[E.bmode];if(c==null)c="norm";var e=y.N8();e.v4("<Group>");
e.add.lsct=kl.Sh;e.ur=c=="norm"?"pass":c;e.Gc=24;e.opacity=Math.round(255*E.ca);this.afz.push(e)};af.prototype.EndTGroup=function(){this.XH.B.push(this.afz.pop())};
af.prototype.ayD=function(){var E=this.XH,y=E.B[E.B.length-1];return y};af.prototype.ahZ=function(){var E=this.XH,y=E.N8();
y.v4("Path "+E.B.length);this.XH.B.push(y);y.Gc|=16;y.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}};
y.add.vmsk=new jN.pU;y.add.vstk=cb.CY.TL();return y};af.prototype.q2=function(E){var y={j:E.crds,G:E.cmds},c=d.A.V2(y,!1);
d.o.dg(c,this.S8);return c};af.abc=function(E,y){for(var N=0;N<E.length;N++)if(E[N].O0!=null)E[N].O0=y};
af.bP=function(E){return d.L.hp({Z:E[0]*255,D:E[1]*255,J:E[2]*255})};af.rE=function(E){return new jr(E[0],E[1],E[2],E[3],E[4],E[5])};
af.prototype.Stroke=function(E){if(this.ef!=-1&&this.ef!=this.v8)return;if(E.pth.cmds.length<=1)return;
var y=this.q2(E.pth),Z=null;if(y.length<=2)return;this.ME(E);af.abc(y,-1);y[2].O0=1;var c=this.ayD(),e=cb.CY.TL(null,!0),p=E.ctm,H={};
af.awy(H,E);cb.CY.write(e,H,Math.sqrt(Math.abs(p[0]*p[3]-p[1]*p[2]))*this.S8.ul());if(!(E.COLR instanceof Array)){Z=d.A.n7(E.pth.crds);
var X=d.A.S6(Z);d.A.u(X.j,this.S8,X.j);Z=d.A.n7(X.j)}var b=af.Kv(E.COLR,this.S8,Z,y),k=["SoFi","GrFl","patternFill"].indexOf(b.type),D=[cb.nM,cb.Bm,cb.Z0][k],j=e.strokeStyleContent.v={classID:cb.CY.gV[k]};
for(var N=0;N<D.length;N++)j[D[N]]=b.b.v[D[N]];var g=c!=null&&c.add.vmsk!=null&&!c.uY(),R=g&&!c.add.vstk.fillEnabled.v&&JSON.stringify(e)==c.add.vsjs;
if(R){var t=c.add.vmsk.X;for(var N=2;N<y.length;N++)t.push(y[N])}else{var w=g&&!c.add.vstk.strokeEnabled.v&&jN.pU.awj(c.add.vmsk.X,y,!0);
if(w){c.add.vstk=e;e.fillEnabled.v=!0}else{c=this.ahZ();c.add.vmsk.X=y;c.add.vstk=e;c.add.vsjs=JSON.stringify(e)}}};
af.awy=function(E,y){E.IE=y.lwidth;E.Xb=y.mlimit;E.hC=y.dash.slice(0);E.Yt=y.doff;E.nh=y.ljoin;E.vh=y.lcap;
E.xF=1};af.ay1=function(E,y){y.lwidth=E.IE;y.mlimit=E.Xb;y.doff=E.Yt;y.ljoin=E.nh;y.lcap=E.vh;y.sal=E.xF;
y.dash=E.hC.slice(0);if(y.dash.length==1&&y.dash[0]==0)y.dash=[]};af.prototype.Fill=function(E,y){if(this.ef!=-1&&this.ef!=this.v8)return;
if(E.ca==0)return;var c=E.pth.cmds;if(c.length==0)return;if(c.length==2&&JSON.stringify(c)=="[\"M\",\"L\"]")return;
var e=d.A.n7(E.pth.crds),p=d.A.n7(E.cpth.crds);if(e.fr(p).tj())return;var H=E.pth,Z=UDOC.G.isBox(H,[e.x,e.y,e.x+e.m,e.y+e.e]),X=E.cpth,b=UDOC.G.isBox(X,[p.x,p.y,p.x+p.m,p.y+p.e]);
if(Z&&b&&e.P()>p.P()*2){var k=e.fr(p),D=k.x,j=k.y,g=D+k.m,R=j+k.e;H={cmds:["M","L","L","L","Z"],crds:[D,j,g,j,g,R,D,R]};
e=k}else if(this.th==null&&UDOC.G.isBox(H,[e.x,e.y,e.x+e.m,e.y+e.e])&&e.Rq(p)){H=X;e=p}else this.ME(E);
var t=this.q2(H),w=d.A.S6(e);d.A.u(w.j,this.S8,w.j);e=d.A.n7(w.j);var B=af.Kv(E.colr,this.S8,e,t),$=this.ayD(),o=$!=null&&$.opacity==Math.round(255*E.ca)&&$.add.vstk!=null&&!$.add.vstk.strokeEnabled.v&&$.add.SoCo&&B.type=="SoFi"&&JSON.stringify($.add.SoCo.Clr.v)==JSON.stringify(B.b.v.Clr.v);
if(o){var T=!1;for(var N=0;N<t.length;N++){if(t[N].O0==0||t[N].O0==2)T=!0}if(T){var i=d.A.n7(d.o.rC($.add.vmsk.X)),r=d.A.n7(d.o.rC(t));
o=i.fr(r).tj()}}if(o){var I=$.add.vmsk.X;for(var N=2;N<t.length;N++)I.push(t[N])}else{$=this.ahZ();delete $.add.SoCo;
$.add.vmsk.X=jN.pU.MD(t);af.Ig(E.colr,$,this.S8,e,t);af.a3H(E,$)}};af.Ig=function(E,y,c,e,p){var H=af.Kv(E,c,e,p),Z=null,X=null;
y.add.vstk.fillEnabled.v=!0;if(H.type=="SoFi"){Z="SoCo";X=cb.nM}if(H.type=="GrFl"){Z="GdFl";X=cb.Bm}if(H.type=="patternFill"){Z="PtFl";
X=cb.Z0}if(Z!=null){y.add[Z]={classID:"null"};for(var N=0;N<X.length;N++){var b=X[N];y.add[Z][b]=H.b.v[b]}if(Z=="GdFl")y.add._fstl=H.gl}};
af.prototype.ME=function(E){var y=this.XH,c=E.cpth,e=c.cmds.join(""),p=c.crds,H=e+" "+p.join(","),Z=UDOC.G.isBox(c,this.a4X);
if(Z&&this.th==null)return;if(H==this.th)return;this.zo();if(!Z){this.th=H;y.B.push(y.eM());var X=y.N8();
X.v4("Mask");X.add.lsct=kl.ze;X.ur="pass";X.Gc=24;var b=X.add.vmsk=new jN.pU;b.X=this.q2(E.cpth);if(UDOC.G.isBox(c)){this.md=d.o.L$(b.X);
this.md.r4(3,3)}else this.md=null;this.a6V=X}};af.prototype.zo=function(){var E=this.XH;if(this.th!=null){var y=E.B.length-1,N=y,c=!1;
while(N>=0&&E.B[N].add.lsct!=kl.vp)N--;var e=this.md;if(e){var p=new ir,H=y;while(H>N){p=E.B[H].WT(this.XH,!1,!0);
H--}c=e.Rq(p)}if(c){this.$I.splice(N,1);E.B.splice(N,1)}else{E.B.push(this.a6V)}this.th=null}};af.Kv=function(E,y,c,e){var p,H,Z;
if(E.length!=null){p="SoFi";var X=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);H={t:"Objc",v:X};H.v.Clr.v=af.bP(E)}else{var b=af.a2W(E,y,c);
p="GrFl";H={t:"Objc",v:dd.Ol(b,e)};Z=b}return{type:p,b:H,gl:Z}};af.a2W=function(E,y,c){var e=af.rE(E.mat);
e.concat(y);var p=new eq(0,0),H=new eq(0,0),Z=new eq,X=E.crds,b=E.typ=="rad"?1:0;if(b==1){var k=.7;Z.x=X[0];
Z.y=X[1];p.x=X[3];p.y=X[4];H.x=p.x;H.y=p.y;H.x+=X[5]}else{p.x=X[0];p.y=X[1];H.x=X[2];H.y=X[3];Z.tW(p.x,p.y)}var D=dd.VA(b,e,c,p,H,Z);
D[1]=JSON.parse(JSON.stringify(E.grad));return D};af.prototype.PutText=function(E,y,c,e){var p=y.charCodeAt(0),R=null;
if(this.ef!=-1&&this.ef!=this.v8)return;if(y.length==0||y.length==1&&(p==0||p==8203))return;this.ME(E);
var H=this.XH,Z=E.font,X=Math.round(255*E.ca);if(E.font.Tmode==3)X=0;var b=af.rE(E.ctm);b.concat(this.S8);
var k=af.rE(Z.Tm);k.concat(b);var D=k.ul(),j=new jr(1/D,0,0,-1/D,0,0);j.concat(k);var g=Z.Tfs*D,t=H.B.length-1;
while(t>=0&&H.B[t].add.TySh==null)t--;if(j.J*j.J+j.E7*j.E7<.001&&e==null&&t>=0&&H.B[t].add.TySh&&H.B[t].opacity==X){var w=H.B[t],B=this.$I[t],$=w.add.TySh.u,o=(j.Kc-B.a51)/g,T=Math.abs(o),i=$.U==j.U&&$.J==j.J&&$.E7==j.E7&&$.sN==j.sN,r=j.Dm-B.K0,I=i&&Math.abs(r)<1e-5&&T<1;
if(I){R=w;if(o>.2&&[".",",","?",":","!"].indexOf(y)==-1){y=" "+y;c+=.5}}else if(i&&0<r&&r<g*1.7&&B.a4e==g){R=w;
this.a4w(B);B.K0=j.Dm;B.a7O=j.Kc;y="\n"+y}}if(R==null){t=H.B.length;this.$I[t]={s8:[],mr:0,a51:j.Kc,K0:j.Dm,a7O:j.Kc,UP:"",a4e:g};
R=H.N8();H.B.push(R);R.add.lnsr="rend";R.add.TySh=gV.V1(0,0);R.add.TySh.u=j}var B=this.$I[t];B.mr+=c*g;
B.UP+=y;B.a51=j.Kc+c*g;var M=R.add.TySh.Ax,J=gV.qO(M);if(e){gV.qz(M,1);var P=[0,0,Math.ceil(e[0]*D),Math.ceil(e[1]*D)];
gV.fF(M,P)}var n=J.length-1,x=n+y.length;gV.Y8(M,n,y);if(this.G4==null)this.G4=gV.c$(M,n,n);var L=this.G4;
L.na.FontSize=Math.round(g);L.na.Tracking=Math.round(Z.Tc*100);L.na.Underline=Z.Tun==1;L.na.FillColor={Type:1,Values:[1,E.colr[0],E.colr[1],E.colr[2]]};
if(Z.Tal!=null)L.dV.Justification=Z.Tal;if(B.s8.length!=0){L.na.AutoLeading=!1;L.na.Leading=B.K0-B.s8[B.s8.length-1].y}var u=Z.Tf;
u=u.replace(/#2B/g,"+");u=u.replace(/#2C/g,"-");u=u.split("+").pop();var C={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(C[u])u=C[u];gV.Wn(L,u);gV.gR(M,n,x-1,L);R.sp();R.opacity=X};af.prototype.a4w=function(E){E.s8.push({Pf:E.mr,V4:E.UP.slice(E.s8.length==0?0:1)+"\n",x:E.a7O,y:E.K0,az:E.a4e});
E.mr=0;E.UP=""};af.prototype.ZH=function(E,y,c){return new Uint8Array(iu.sF("PNG").Jv([[E.buffer,0]],y,c))};
af.prototype.PutImage=function(E,y,c,e,p,H,Z){if(this.ef!=-1&&this.ef!=this.v8)return;var X=this.XH,b=E.font.Tmode;
if(b==7&&X.B[X.B.length-1].add.TySh){return}this.ME(E);var k=af.rE(E.ctm);k.concat(this.S8);var D=new jr(1/c,0,0,-1/e,0,1);
D.concat(k);k=D;y=af.adA(y,c,e,H,!1);if(p)p=af.adA(p,c,e,Z,!0);if(p==null){if(y.length==c*e*4)y=this.ZH(y,c,e)}else{y=this.ake(y,c,e,H,!1);
p=this.ake(p,c,e,Z,!0);var j=d.R(c*e);d.LI(p,j,0);d.Og(j,y,3);y=this.ZH(y,c,e)}var g=X.np(y,"Bitmap",0,0),R=g.rect.clone();
R.x=R.y=0;var t=d.A.S6(R).j;d.A.u(t,k,t);g.add.SoLd.Trnf=F.Y.Zd(t);g.add.SoLd.nonAffineTransform=F.Y.Zd(t);
g.an(X,!1);af.a3H(E,g);X.B.push(g)};af.a3H=function(E,y){y.opacity=Math.round(255*E.ca);var c=af.$J[E.bmode];
if(c==null)console.log("Unknown blend mode",c);else y.ur=c};af.$J={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
af.aio=function(E){if(E=="pass")E="norm";for(var y in af.$J)if(af.$J[y]==E)return y;return"/Normal"};
af.adA=function(E,y,c,e,p){var H=iu.XS(E.buffer);if(H=="jpg"){try{E=new Uint8Array(iu.sF("JPG").auY(E.buffer))}catch(b4){E=new Uint8Array(y*c*4)}}else if(H=="jb2"){E=new Uint8Array(iu.sF("JPG").cU(E.buffer,e,p)[0].data)}else if(E.length!=y*c*4){var Z=new Uint8Array(y*c*4),X=Math.ceil(y/8),b=new Uint8Array(c*X);
UTIF.decode._decodeG4(E,0,E.length,b,0,y,1);var k=b[0]==(p?255:0);for(var D=0;D<c;D++){var j=X*D;for(var g=0;
g<y;g++){var N=D*y+g,R=N*4,t=(b[j+(g>>3)]>>7-(g&7)&1)*255;if(k)t=255-t;Z[R]=t;Z[R+1]=t;Z[R+2]=t;Z[R+3]=255}}E=Z}return E};
af.prototype.ake=function(E,y,c,e,p){if(E.length!=y*c*4){var H=iu.XS(E.buffer);if(H=="jb2")throw"e";
var Z=iu.sF(H);if(Z==null||H=="tga")Z=iu.sF("jpg");E=new Uint8Array(Z.cU(E,e,p)[0].data)}return E};af.prototype.ShowPage=function(){var E=this.XH;
this.v8++;var y=this.zl;this.zo();var c=E.N8();E.B.push(c);var e=new ir(Math.round(this.vd.x),Math.round(this.vd.y),Math.round(y[2]-y[0]),Math.round(y[3]-y[1]));
if(e.tj())e.m=e.e=2e3;this.N1=this.N1.uN(e);c.ix(e);c.add.artb.artboardBackgroundType.v=1;c.v4("Page "+this.v8);
c.add.lsct=kl.ze;c.ur="pass";c.Gc=24};af.prototype.Print=function(E){console.log("Print:",E)};af.prototype.Done=function(){var E=this.XH;
if(this.v8==1)E.B[E.B.length-1].add.lsct=kl.Sh;E.Fy(this.v8);for(var N=0;N<E.B.length;N++){var y=E.B[N],c=y.add.vmsk,e=y.add.TySh,p=this.$I[N];
y.m5();delete y.add.vsjs;if(c){var H=!1;for(var Z=0;Z<c.X.length;Z++){var X=c.X[Z];if((X.type==0||X.type==3)&&X.length>32767)H=!0}if(H){E.B.splice(N,1);
N--;continue}}y.fP(E);if(e&&p&&p.s8.length!=0){this.a4w(p);var b=e.Ax,k=p.s8.length,D=p.s8[0],j=1e9,g=-1e9,I="";
for(var Z=0;Z<k;Z++){var R=p.s8[Z];j=Math.min(j,R.x);g=Math.max(g,R.x+R.Pf)}var t=[];for(var Z=0;Z<k;
Z++){var R=p.s8[Z],w=-1,B=D.az*.1,$=Math.abs(R.x-j),o=Math.abs(R.x+R.Pf-g),T=Math.abs($-o);if(T<B)w=2;
if(o<B){w=1;if(R.x!=j)if(Z!=0&&p.s8[Z-1].x==R.x||Z!=k-1&&p.s8[Z+1].x==R.x)w=-1}if($<B)w=0;if(R.Pf==g-j)w=3;
t.push(w)}var i=[!1,!1,!1];for(var Z=0;Z<k;Z++){var w=t[Z];if(w==3)w=Z==0?t[Z+1]:t[Z-1];if(w==3)w=0;
t[Z]=w;i[w]=!0}var r=(g-j)*.05;if(i[0]&&!i[1])g+=r;if(!i[0]&&i[1])j-=r;if(!i[0]&&!i[1]){j-=r;g+=2*r}gV.qz(b,1);
e.u.Dm-=D.az*.7;e.u.Kc=Math.round(j);gV.fF(b,[0,0,Math.ceil(g-j),Math.ceil(p.s8[k-1].y-D.y+D.az*2)]);
for(var Z=0;Z<k;Z++){var R=p.s8[Z],w=t[Z],M=0;if(w==-1){w=0;M=Math.round(R.x-j)}var J=I.length,P=J+R.V4.length;
I+=R.V4;var n={GF:[],na:{},dV:{Justification:w,StartIndent:M}};gV.gR(e.Ax,J,P-1,n)}}if(e){var b=e.Ax;
gV.ao5(b);var x=gV.qO(b).split("\n");for(var Z=0;Z<x.length-1;Z++){var R=x[Z],L=0;for(var u=0;u<R.length;
u++){var C=R.charCodeAt(u);if(1473<=C&&C<=1524)L++}if(L>R.length/2){x[Z]=R.split("").reverse().join("");
var h=b.EngineDict.ParagraphRun.RunArray[Z].ParagraphSheet.Properties;h._Direction=1;h.Justification=gV.Ex(h)}}gV.OT(b,x.join("\n"))}}E.kc=!0;
E.m=this.N1.m;E.e=this.N1.e;E.buffer=d.R(this.N1.P()*4)};var fs={};fs.hQ=null;fs.iF=function(E,y,c,e,p,H){if(p==null)p=E.m;
if(H==null)H=E.e;fs.hQ=E;var Z=!1,X=[E.root],b=E.root.children;if(E.add.artd){Z=!0;for(var N=0;N<b.length;
N++)if(b[N].a.add.artb==null)Z=!1;if(Z)X=b}var k=new ir(0,0,E.m,E.e),D=y[0];D=D.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
D=D.split(" ");var j=[];for(var N=0;N<D.length;N++){var g=D[N];if(g=="-"){var R=j.pop(),t=parseInt(D[N+1]);
while(R<t){j.push(R);R++}}else j.push(parseInt(g))}D=j;for(var N=0;N<D.length;N++)if(isNaN(D[N])||D[N]<1||D[N]>X.length){D.splice(N,1);
N--}var w=p/E.m,B=H/E.e,$=w*72/E.$c,o=B*72/E.$c,T=y[5];if(T==null)T=0;var i=72*T,r=72*T;for(var I=0;
I<X.length;I++){var N=I;if(y[2])N=X.length-1-I;if(D.length!=0&&D.indexOf(N+1)==-1)continue;var M=X[N],J=Z?M.a.fQ():k;
if(!M.a.OQ())continue;var P=Math.round(J.m*$+2*i),n=Math.round(J.e*o+2*r);c.StartPage(0,0,P,n);var x=UDOC.getState(),L=new jr;
L.translate(-J.x,-J.y-J.e);L.scale($,-o);L.translate(i,r);if(Z){var u=M.a.add.artb,C=u.artboardBackgroundType.v;
if(C!=1&&C!=3){var h=M.a.$g(),A=i*$,W=r*o,Q=A+J.m*$,l=W+J.e*o;x.colr=[(h>>>0&255)/255,(h>>>8&255)/255,(h>>>16&255)/255];
x.pth={cmds:["M","L","L","L","Z"],crds:[A,W,Q,W,Q,l,A,l]};c.Fill(x)}}if(y[3]){var O=E.eA();if(!k.rT(J)){O=d.R(J.P()*4);
d.E6(E.eA(),k,O,J)}var z=E.Xj();if(z)ICC.U.applyLUT(z[E.add.fcmy==1?5:3],z[2],O,O);var a=iu.sF("JPG").Jv([[O.buffer]],J.m,J.e,[y[1]]);
O=new Uint8Array(a);var m=new jr;m.translate(J.x,J.y);fs._n(x,c,O,J,m,L)}else{fs.aAv(E,M,x,c,L,y,e);
if(i!=0){var A=i,W=r,Q=A+J.m,l=W+J.e,q=Q+i,K=l+i;x.ca=1;x.colr=[1,1,1];x.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,K,q,K,q,0,A,W,Q,W,Q,l,A,l]};
c.Fill(x)}}if(y[6]){var U=[[0,0],[1,0],[1,1],[0,1]],f=50,Y=5,G=f*.5,V=Y*.5;x.colr=[.1,.1,.1];for(var I in U){var dF=U[I],s=[I==0||I==3?-1:1,I==0||I==1?-1:1],aH=[i-G+V*s[0]+dF[0]*E.m,r-(s[1]!=1?Y:0)+dF[1]*E.e],dw=[i-(s[0]!=1?Y:0)+dF[0]*E.m,r-G+V*s[1]+dF[1]*E.e];
x.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[aH[0],aH[1],aH[0]+f,aH[1],aH[0]+f,aH[1]+Y,aH[0],aH[1]+Y,dw[0],dw[1],dw[0]+Y,dw[1],dw[0]+Y,dw[1]+f,dw[0],dw[1]+f]};
c.Fill(x)}}var kO=E.Cv;for(var hX=0;hX<kO.length;hX++){var jF=kO[hX].v,J=d.Bh.EK(jF),gn=d.A.S6(J).j;
d.A.u(gn,L,gn);var hM=d.A.n7(gn);if(!new ir(0,0,P,n).Rq(hM))continue;if(c.AddAnnot)c.AddAnnot([hM.x,hM.y,hM.x+hM.m,hM.y+hM.e],jF.url.v)}c.ShowPage()}c.Done();
fs.hQ=null};fs.Ct=function(E){E=d.L.yd(E);return[E.Z/255,E.D/255,E.J/255]};fs.aAv=function(E,y,c,e,p,H,Z){var X=y.a,b=X.add.lsct,k=X.add.lmfx,D=X.add.vmsk,j=X.add.vstk,g=X.add.TySh,$,o,x;
if(!X.OQ())return;var R=X.opacity/255,t=X.add.iOpa!=null?X.add.iOpa/255:1;c.bmode=af.aio(X.ur);var w=c.ca;
c.ca=c.CA=R*t;var B=k;if(B)B=B.solidFillMulti.v[0];if(B)B=B.v;if(B&&!B.enab.v)B=null;var T=X.rect;if(X.ag()&&(!X.uY()||X.b_&&X.b_.LA)){if(X.uY()){$=X.b_.LA;
T=X.b_.apL}else{$=d.R(X.rect.P());d.LI(X.buffer,$,3)}o=hA.bx(k,X.add.fxrp,$,T,E,T).type;var i=["DrSh","OrGl"];
if(t!=1||j&&!j.fillEnabled.v){var r=$.slice(0);d.Ub(r);for(var N=0;N<i.length;N++){var I=o[i[N]];for(var M=0;
M<I.length;M++){var J=I[M],P=J.Z_.clone();P.x+=T.x;P.y+=T.y;d.ys(r,T,J.bb,P)}}}}if(o)fs.ax_(X,$,T,o,c,e,p,H,!0);
var n=hA.aiC(X,!1);if(n){e.StartTGroup(c);x=c;c=UDOC.getState()}var L=D&&!X.iU();if(L){var u=d.A.ue(D.X,!1),C=u.E8;
d.A.u(C.j,p,C.j);c.cpth={cmds:C.G,crds:C.j}}if(X.uY()){for(var N=0;N<y.children.length;N++)fs.aAv(E,y.children[N],c,e,p,H,Z)}else if(X.iU()&&X.add.PtFl==null){var h=D?D.X:d.o.M1.Rect(0,0,E.m,E.e),A=d.o.L$(h),W=!1;
if(D==null)W=!0;else{if(j.fillEnabled.v)W=!0;var Q=hA.Id(k);if(!j.strokeEnabled.v&&Q)j=Q}if(W){var l=hA.hc(k,X.add),O=l[0],z=l[1];
c.colr=fs.a8V(O?O:z,p,A)}var u=d.A.ue(h,j?j.strokeEnabled.v:!1),C=u.E8;d.A.u(C.j,p,C.j);c.pth={cmds:C.G,crds:C.j};
fs.akH(e,c,W,j,p,A,u.AL!=0)}else if(g&&H[4]){var a=g.Ax,m=new cU(a,Z,g.EG),C=kz.uM(m,g,!0),q=d.A.vf(C),K=hA.Id(k);
for(var U in q){var f=parseInt(U.slice(1,7),16),Y=0;c.colr=B?fs.Ct(B.Clr.v):fs.ayZ(f);var G=q[U];d.A.u(G.j,p,G.j);
G=d.A.afO(G);c.pth={cmds:G.G,crds:G.j};var j=K;if(U.length>7){j=cb.CY.TL();var V=U.slice(7).split("-"),f=parseInt(V[1].slice(1),16),dF=fs.ayZ(f);
j.fillEnabled.v=!0;j.strokeEnabled.v=!0;j.strokeStyleLineWidth.v.val=parseFloat(V[2]);j.strokeStyleContent.v.Clr.v=B?B.Clr.v:d.L.hp({Z:dF[0]*255,D:dF[1]*255,J:dF[2]*255});
j.strokeStyleMiterLimit.v=parseFloat(V[2])}fs.akH(e,c,!0,j,p,null,!1)}}else if(g){var a=JSON.parse(JSON.stringify(g.Ax));
gV.ao5(a);var s=g.u.clone(),aH=new jr(1,0,0,-1,0,0);aH.concat(s);aH.concat(p);var dw=gV.qO(a),m=new cU(a,Z,g.EG);
for(var N=0;N<m.dV.length;N++){var kO=m.dV[N];if(kO.ma.length==1&&kO.ma[0].l2)continue;for(var M=0;M<kO.M2.length;
M++){var hX=kO.M2[M],jF=kO.Vw.y+hX.Vw.y,gn=kO.ma[hX.start].start,hM=kO.ma[hX.end-1].end,ie=gV.ajf(a,gn,hM);
for(var bN=0;bN<ie.length;bN++){var kd=m.Tf(gn),i7=ie[bN],dn=gV.c$(a,gn,gn),ew=dn.GF[dn.na.Font].Name;
c.font.Tf=ew;var U=gV.yd(dn.na.FillColor);c.colr=B?fs.Ct(B.Clr.v):[U.Z/255,U.D/255,U.J/255];var e4=c.font.Tfs=Math.round(dn.na.FontSize),jc=dw.slice(gn,gn+i7);
if(dn.na.FontCaps==2)jc=jc.toUpperCase();var bd=new jr;bd.translate(kd.k4.x,-jF);bd.concat(aH);c.ctm=[bd.U,bd.J,bd.E7,bd.sN,bd.Kc,bd.Dm];
e.PutText(c,jc,0);for(var iB=0;iB<2;iB++){var cG=dn.na[iB==0?"Strikethrough":"Underline"];if(!cG)continue;
var bT=m.Tf(gn+i7-1),g$=iB==0?.27:-.2,hU=e4*g$,ah=e4*(g$+.07),Y=bT.k4.x+bT.k4.m-kd.k4.x,co=[0,hU,Y,hU,Y,ah,0,ah];
d.A.u(co,bd,co);c.pth={cmds:["M","L","L","L","Z"],crds:co};e.Fill(c)}c.ctm=[1,0,0,1,0,0];gn+=i7}}}}else if(!X.rect.tj()){var im,dI,bw=!1,fb=new jr,iG=X.add.SoLd,dy=!0;
if(iG)dy=d.r.A6(d.r.C0(F.Y.Rt(iG.Trnf)));var kp=E.Xj();if(iG&&dy&&kp==null){var gw=iG.Idnt.v,dR=E.oY(gw,iG.Crop?iG.Crop.v:null),by="";
if(dR==null)return;var fT=dR.ed,gA=iu.XS(dR.raw.buffer);if(H[7].indexOf(gA)!=-1){im=dR.raw;bw=!0}else im=fT[0];
dI=fT[1];fb=d.r.ij(iG)}else{im=X.buffer;dI=X.rect;fb.translate(dI.x,dI.y);if(kp){im=im.slice(0);ICC.U.applyLUT(kp[E.add.fcmy==1?5:3],kp[2],im,im)}if(d.$S(im,dI.m,dI.e)&&H[7]&&H[7].indexOf("jpg")!=-1){var fv=iu.sF("JPG").Jv([[im.buffer]],dI.m,dI.e,[H[1]]);
im=new Uint8Array(fv);bw=!0}}if(B&&!bw)im=hA.akX(im,B,dI);fs._n(c,e,im,dI,fb,p);if(B&&bw){var co=[0,0,dI.m,0,dI.m,dI.e,0,dI.e];
d.A.u(co,fb,co);d.A.u(co,p,co);var d4=JSON.parse(JSON.stringify(c));d4.ca=B.Opct.v.val/100;d4.pth={cmds:["M","L","L","L","Z"],crds:co};
d4.colr=fs.Ct(B.Clr.v);e.Fill(d4)}}if(L)c.cpth=null;if(n){e.EndTGroup();c=x}c.ca=c.CA=w;if(o)fs.ax_(X,$,T,o,c,e,p,H,!1)};
fs.akH=function(E,y,c,e,p,H,Z){var X=!1,b=0,k=0;if(e&&e.strokeEnabled.v){var D=e.strokeStyleContent.v;
y.COLR=fs.a8V(D,p,H);var j=cb.CY.pl(e,null,p.ul());af.ay1(j,y,1);b=y.sal;delete y.sal;k=y.lwidth;X=!0}var g=b==2;
if(c&&!g)E.Fill(y,Z);if(X){y.lwidth=k*(b==2?2:1);E.Stroke(y)}if(c&&g)E.Fill(y,Z)};fs.a5R=function(E){var y=fs.hQ;
if(y==null)return E;var c=y.Xj();if(c&&y.add.fcmy){return d.D5(d.jS(E)).slice(0,3)}return E};fs.Ct=function(E){E=d.L.yd(E);
return fs.a5R([E.Z/255,E.D/255,E.J/255])};fs.ayZ=function(E){return fs.a5R([(E>>>16&255)/255,(E>>>8&255)/255,(E&255)/255])};
fs.a8V=function(E,y,c){if(E.Clr)return fs.Ct(E.Clr.v);var e=E,p=e.Rvrs?e.Rvrs.v:!1,H=e.Type.v.GrdT,Z,X=H=="Rdl"||H=="Dmnd"?"rad":"lin",b=d.L.u3(e,c),k=y.dl(b[0]),D=y.dl(b[1]);
if(X=="rad")Z=[k.x,k.y,0,k.x,k.y,eq.oG(k,D)];else{k.tW(D.x+(k.x-D.x)*2,D.y+(k.y-D.y)*2);Z=[k.x,k.y,D.x,D.y]}var j=d.L.u2(e.Grad.v,p);
return{typ:X,mat:[1,0,0,1,0,0],grad:j,crds:Z}};fs.ax_=function(E,y,c,e,p,H,Z,X,b){var k=c.clone(),D=y;
if(E.add.TySh&&!X[3]&&!X[4])return;var j=p.ca,g=p.bmode;for(var N=cb.order.length-1;N>=0;N--){var R=cb.order[N];
if(R=="GrFl"||R=="SoFi")continue;if((E.add.vmsk||E.add.TySh)&&R=="FrFX")continue;var t=e[R],w=N>7||R=="FrFX";
if(w!=b)continue;for(var B=0;B<t.length;B++){var $=t[B];if($.Z_==null)$=$.Qk?$.Qk:$.cD;if($==null)continue;
var o=$.Z_.clone();o.offset(k.x,k.y);if(!w){if(!k.Rq(o)){var T=k.uN(o),i=d.R(T.P());d.kh(D,k,i,T);D=i;
k=T}d.ys(D,k,$.bb,o)}if(w&&R=="FrFX"&&$.WG)d.ys($.WG,o,$.bb,o);var r=new jr;r.translate(o.x,o.y);p.ca=$.QR;
p.bmode=af.aio($.yS);fs._n(p,H,$.bb,o,r,Z)}}p.ca=j;p.bmode=g};fs._n=function(E,y,c,e,p,H){var Z=new jr;
Z.scale(e.m,-e.e);Z.translate(0,e.e);Z.concat(p);Z.concat(H);E.ctm=[Z.U,Z.J,Z.E7,Z.sN,Z.Kc,Z.Dm];y.PutImage(E,c,e.m,e.e);
E.ctm=[1,0,0,1,0,0]};var hH={};hH.ux=function(E){var y=new Uint8Array(E);return hH.yb(y,0)};hH.yb=function(E,y){var c=_.q,e=_.xY,p={pf:e(E,y,4),z:y+8,size:c(E,y+4)},H=p.pf=="FORM"||p.pf=="FOR4"||p.pf=="LIST"||p.pf=="CAT ";
if(H)p.gV=e(E,y+8,4);if(p.size<0||p.z+p.size>E.length)throw"e";if(H){p.sub=[];y+=12;var Z=p.z+p.size;
while(y<Z){var X=hH.yb(E,y);p.sub.push(X);var b=X.size&1,k=X.size&3;if(p.pf=="FOR4")b=k==0?0:4-k;y+=8+X.size+b}}return p};
var bS={};bS.ux=function(E,y){var c=new Uint8Array(E);return bS.yb(c,0,y)};bS.yb=function(E,y,c){var e=_.gT,p=_.xY,H={pf:p(E,y,4),z:y+8,size:e(E,y+4)};
if(c&&c[H.size]!=null)H.size=c[H.size];if(H.pf=="RIFF"||H.pf=="LIST"){H.gV=p(E,y+8,4)}if(H.size<0||H.z+H.size>E.length)throw"e";
if(H.pf=="RIFF"||H.pf=="LIST"&&(H.gV!="cmpr"&&H.gV!="stlt")){H.sub=[];y+=12;var Z=H.z+H.size;while(y<Z){var X=bS.yb(E,y,c);
H.sub.push(X);y+=8+X.size+(X.size&1)}}return H};var gJ=function(){function E(f,Y){var G=null;if(f.sub==null)return G;
for(var N=0;N<f.sub.length;N++){var V=f.sub[N];if(V.pf==Y||V.gV==Y)G=V}return G}function y(f){if(f==32)return 300;
else if(f<49)return 0;else if(f<58)return 100*(f-48);else if(f<65)return 0;return 100*(f-55)}var c;function e(f,Y){var G=new Uint8Array(f);
Y.kc=!0;c={};var V=_.xY(G,0,2);if(V=="WL"){alert("Unsupported CDR version")}else{var dF,s,aH,hX,ew=300,jc=0;
if(V=="PK"){s=UZIP.parse(G);if(s["content/root.dat"]){G=s["content/root.dat"];aH=_.Uw(s["content/dataFileList.dat"]).split("\n")}else{G=s["content/riffData.cdr"];
s=null}}dF=bS.ux(G.buffer);console.log(dF);var dw=y(G[11]),kO={data:G,z:0,NV:dw};kO.en=kO.NV<600?16:32;
J(G,kO,aH,s,dF.sub,0);var jF=[];if(s){hX=E(dF,"doc ");p(hX);var gn=dF.sub;for(var N=0;N<gn.length;N++)if(gn[N].gV=="page")jF.push(gn[N]);
jF=jF.slice(1)}else if(dF.sub[3]&&dF.sub[3].pf=="pack"){alert("We dont support this version of CDR files");
return}else if(E(dF,"cmpr")==null){hX=E(dF,"page");jF.push(hX);if(E(hX,"mcfg")==null){hX=E(dF,"doc ");
p(hX);jF=[];var gn=dF.sub;for(var N=0;N<gn.length;N++)if(gn[N].gV=="page")jF.push(gn[N]);jF=jF.slice(1)}}else{var hM=E(dF,"cmpr").sub;
hX=hM[0];jF=[hM.slice(1)[1]];if(E(hX,"filt"))p(hX)}var ie=E(hX,"mcfg").b,bN=ie.adC,kd=bN.x*.1,i7=bN.x*jF.length+kd*(jF.length-1),dn=bN.y;
ew/=gE.Kf(new ir(0,0,Math.round(i7*ew),Math.round(dn*ew)),8192*8192);var e4=Math.round(i7*ew),eE=Math.round(dn*ew);
Y.m=e4;Y.e=eE;Y.buffer=d.R(Y.m*Y.e*4);for(var N=0;N<jF.length;N++){var ft=new jr(ew,0,0,-ew,bN.x*ew/2+jc,bN.y*ew/2);
H(jF[N],hX,Y,ft);var bd=Y.B[Y.B.length-1];bd.ix(new ir(Math.round(jc),0,Math.round(bN.x*ew),Math.round(bN.y*ew)));
bd.v4("Page "+(N+1));jc+=bN.x*ew+kd*ew}Y.Fy(jF.length)}}function p(f){var Y=E(f,"filt").sub,G=E(f,"otlt").sub,V=E(f,"fntt");
if(V)V=V.sub;f.E5={};for(var N=0;N<Y.length;N++)f.E5[Y[N].sub[0].b.id]=Y[N].sub[0].b;f.y8={};for(var N=0;
N<G.length;N++)f.y8[G[N].b.id]=G[N].b;if(V){f.fonts={};for(var N=0;N<V.length;N++)f.fonts[V[N].b.id]=V[N].b}}function H(f,Y,G,V){var dF=f.gV?f.gV:f.pf,s=E(f,"lgob"),aH=E(f,"txsm"),dw=null,kO=null;
if(s){dw=E(s,"trfl");kO=E(s,"loda")}else if(E(f,"lobj"))kO=E(f,"lobj");var hX=dw&&dw.sub[0].dX?dw.sub[0].dX.clone():new jr;
hX.concat(V);var jF=G.N8();if(dF=="page"||dF=="layr"||dF=="grp "){jF.v4((dF=="page"?"Page":"Group")+" "+G.B.length);
jF.add.lsct=kl.Sh;jF.ur="pass";jF.Gc=24;var gn=[];if(dF=="page")gn=E(f,"gobj").sub;if(dF=="layr")gn=f.sub.slice(2);
if(dF=="grp ")gn=f.sub.slice(4);if(gn.length==0)return;G.B.push(G.eM());for(var N=gn.length-1;N>=0;N--)H(gn[N],Y,G,V)}else if(dF=="obj "&&kO.b&&kO.b.path){var hM,ie;
if(Y.E5){hM=Y.E5[kO.b.a0E];ie=Y.y8[kO.b.awl]}if(hM==null)hM=kO.b.avw;if(ie==null)ie=kO.b.as$;jF=Z(G,kO.b.path,V,hX,hM,ie)}else if(dF=="obj "&&aH){var bN=kO.b.abA,kd=kO.b.ab6,ew="";
jF.add.TySh=gV.V1(0,0);var i7=hX.ul();jF.add.TySh.u.translate(hX.Kc,hX.Dm);var dn=jF.add.TySh.Ax,e4=aH.b.zv;
if(e4==null)return;for(var N=0;N<e4.length;N++){var eE=e4[N],jc=ew.length;ew+=eE.text+"\n";gV.Y8(dn,jc,eE.text+"\n");
if(eE.text=="")continue;var ft=X(eE.adZ,Y),bd=ft.ayX,iB=Y.fonts[bd.a2C],cG=gV.c$(dn,jc,ew.length);if(ft.align==3)cG.dV.Justification=1;
else if(ft.align==2)cG.dV.Justification=2;else cG.dV.Justification=0;var g$=ft.fill.b;if(g$==null)g$=[0,0,0];
if(iB.he)gV.Wn(cG,iB.he);cG.na.FillColor={Type:1,Values:[1,g$[0],g$[1],g$[2]]};cG.na.FontSize=Math.round(bd.fontSize*V.ul());
gV.gR(dn,jc,ew.length-1,cG)}if(kd){gV.qz(dn,0)}else{gV.qz(dn,1);gV.fF(dn,[0,0,Math.round(bN.x*hX.U),Math.round(-bN.y*hX.sN)])}jF.v4(ew.slice(0,10))}else{jF=null}if(jF)G.B.push(jF)}function Z(f,Y,G,V,dF,s){var aH=f.N8();
aH.v4("Object "+f.B.length);aH.Gc|=16;var dw=aH.add.vstk=cb.CY.TL();aH.add.vmsk=new jN.pU;aH.add.vmsk.X=d.A.V2(Y,!1);
d.o.dg(aH.add.vmsk.X,V);var kO=dF&&dF.type!=0,hX=kO&&dF.b!=null?dF.b:[0,0,0];af.Ig(hX,aH,V,d.o.L$(aH.add.vmsk.X));
dw.fillEnabled.v=kO;if(s&&s.aeK!=1){dw.strokeEnabled.v=!0;dw.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var jF=dw.strokeStyleLineWidth.v.val=s.lineWidth*G.ul(),gn=s.color;dw.strokeStyleContent.v.Clr.v=d.L.hp({Z:gn[0]*255,D:gn[1]*255,J:gn[2]*255});
if(s.hC.length!=0)dw.strokeStyleLineDashSet.v=hA.RV(s.hC,4/jF);var hM=s.aAi,ie=s.a5t;if(ie!=0){var bN=Y.j,N=bN.length-4,kd=bN[N],i7=bN[N+1],dn=bN[N+2],ew=bN[N+3],e4=new jr;
e4.scale(.15,.15);e4.rotate(-Math.PI/2+Math.atan2(ew-i7,-(dn-kd)));e4.translate(dn,ew);e4.concat(V);
if(c[ie]){var eE=Z(f,c[ie],G,e4,gn,null);f.B.push(eE)}}}aH.m5();aH.fP(f);return aH}function X(f,Y){var G=E(Y,"stlt").b,V=JSON.parse(JSON.stringify(G.EX[f]));
if(V.Tq!=0){var dF=G.EX[V.Tq];for(var s in dF)if(V[s]==null||V[s]==0)V[s]=dF[s];delete V.Tq}V.align=G.aca[V.a7u];
V.fill=Y.E5[G.aly[V.aun]];V.awQ=Y.y8[G.adL[V.atv]];V.ayX=G.aoF[V.a0B];return V}function b(N){var j1=N.data[N.z];
N.z+=1;return j1}function k(N){var j1=_.iH(N.data,N.z);N.z+=2;return j1}function D(N){var j1=_.gT(N.data,N.z);
N.z+=4;return j1}function j(N){var j1=_.gT(N.data,N.z);N.z+=8;return j1}function g(N){var j1=_.BP(N.data,N.z);
N.z+=2;return j1}function R(N){var j1=_.ZE(N.data,N.z);N.z+=4;return j1}function t(N){var j1=_.Wv(N.data,N.z);
N.z+=8;return j1}function w(N){if(N.z>=N.data.length)throw"e";var f=0;while(N.data[N.z+f]!=0)f++;var Y=_.xY(N.data,N.z,f);
N.z+=f+1;return Y}function B(N){var f="";while(!0){var Y=k(N);if(Y==0)break;f+=String.fromCharCode(Y)}return f}function $(f){var Y=D(f),G=(Y&4294901760)>>>16,V=(Y&65535)/65535;
return G+V}function o(f){if(f.NV<600)return Math.PI*g(f)/1800;return Math.PI*R(f)/18e7}function T(f){if(f.NV<1500)return i(f);
else return t(f)/254e3}function i(f){if(f.NV<600)return g(f)/1e3;else return R(f)/254e3}function r(f){if(f.NV<600)return k(f);
else return D(f)}function I(f){if(f.NV<600)return g(f);else return R(f)}function M(f,Y,G){var V="";for(var N=0;
N<G;N++){for(var dF=0;dF<Y;dF+=4){var j1=_.gT(f.data,f.z+N*Y+dF);V+=(j1<500?j1:j1)+","}V+="\n"}return V}function J(f,Y,G,V,dF,s){var aH,dw,kO;
for(var hX=0;hX<dF.length;hX++){var jF=Y.NV,gn=dF[hX];Y.data=f;Y.z=gn.z+(gn.pf=="LIST"?4:0);if(V&&gn.sub==null){aH=D(Y);
dw=D(Y);kO=D(Y);var hM=k(Y);if(hM!=0&&hM!=768)throw"e";var ie=k(Y);if(ie>32)throw"e";Y.z-=16;if(aH!=4294967295){Y.data=V["content/data/"+G[aH]];
Y.z=kO}}if(gn.pf=="vrsn"){if(gn.size==16)Y.z+=8;var bN=k(Y);Y.NV=bN;console.log("Version",bN);Y.en=bN<600?16:32}else if(gn.pf=="DISP"){}else if(gn.pf=="pack"){var kd=D(Y),i7=_.xY(Y.data,Y.z,4),e4=0;
if(i7!="CPng")throw i7;var dn=new Uint8Array(Y.data.buffer,Y.z+8+2,gn.size-10-4),ew=pako.inflateRaw(dn);
gn.sub=[];while(e4<ew.length){var eE=bS.yb(ew,e4);e4=eE.z+eE.size;gn.sub.push(eE)}var jc={data:ew,z:0,NV:jF,en:Y.en};
J(ew,jc,G,V,gn.sub,s+1)}else if(gn.pf=="LIST"&&gn.gV=="cmpr"){var ft=D(Y),bd=D(Y),iB=D(Y),kd=D(Y),i7=_.xY(Y.data,Y.z,4),e4=0;
if(i7!="CPng")throw i7;var dn=new Uint8Array(Y.data.buffer,Y.z+8+2,ft-6-8),ew=pako.inflateRaw(dn);Y.z+=ft;
dn=new Uint8Array(Y.data.buffer,Y.z+8+2);var cG=pako.inflateRaw(dn),bT=[];for(var g$=0;g$<cG.length;
g$+=4)bT.push(_.gT(cG,g$));gn.sub=[];while(e4<ew.length){var eE=bS.yb(ew,e4,bT);e4=eE.z+eE.size;gn.sub.push(eE)}var jc={data:ew,z:0,NV:jF,en:Y.en};
J(ew,jc,G,V,gn.sub,s+1)}else if(gn.pf=="LIST"&&gn.gV=="stlt"||gn.pf=="stlt"){if(aH==4294967295)return;
var hU=Y.z,fb="",hj=32;gn.b={};var ah=D(Y);if(ah==0)return;gn.b.aly=W(Y,jF>=1300);gn.b.adL=W(Y);gn.b.aoF={};
var co=D(Y);for(var N=0;N<co;N++){var im=D(Y);Y.z+=jF<1e3?12:20;var hb=k(Y),dI=k(Y);Y.z+=8;var bw=i(Y);
Y.z+=jF<1e3?12:20;gn.b.aoF[im]={a2C:hb,alH:dI,fontSize:bw}}gn.b.aca=W(Y);var iG=D(Y);fb+="Intervals\n"+M(Y,52,iG)+"\n";
Y.z+=52*iG;var dy=D(Y);fb+="Set5s\n"+M(Y,152,dy)+"\n";Y.z+=152*dy;var kp=D(Y);fb+="Tabs\n"+M(Y,784,kp)+"\n";
Y.z+=784*kp;var gw=D(Y);fb+="Bullets\n";for(var N=0;N<gw;N++){var dR=Y.z,fT=D(Y);Y.z+=4*3;if(jF>1300)Y.z+=4;
var gA=D(Y);Y.z+=4*5;if(jF>=1300){var by=D(Y);if(by){if(D(Y))Y.z+=64;else Y.z+=60}else Y.z+=12}else{Y.z+=20;
if(jF>=1e3)Y.z+=8;if(D(Y))Y.z+=8;Y.z+=8}var fv=Y.z;Y.z=dR;fb+=M(Y,fv-dR,1);Y.z=fv}fb+="\n";var d4=D(Y);
fb+="Indents\n";gn.b.asF={};for(var N=0;N<d4;N++){var dR=Y.z,fg=D(Y),aC={};Y.z+=12;aC.right=i(Y);aC.arb=i(Y);
aC.left=i(Y);gn.b.asF[fg]=aC;var fv=Y.z;Y.z=dR;fb+=M(Y,fv-dR,1);Y.z=fv}fb+="\n";var bu=D(Y);if(jF>=1300)hj+=4;
fb+="Hypens\n"+M(Y,hj,bu)+"\n";Y.z+=hj*bu;var jg=D(Y);fb+="Dropcaps\n"+M(Y,28,jg)+"\n";Y.z+=28*jg;if(jF>800){var cm=D(Y);
fb+="Set11s\n"+M(Y,28,cm)+"\n";Y.z+=12*cm}gn.b.EX={};for(var N=0;N<ah;N++){var bz=D(Y);if(bz>3)throw bz;
var db=D(Y),eM={};eM.Tq=D(Y);Y.z+=8;var de=D(Y);if(jF>=1200)de*=2;Y.z+=de;eM.aun=D(Y);eM.atv=D(Y);if(bz>1){eM.a0B=D(Y);
eM.a7u=D(Y);eM.amk=D(Y);eM.a03=D(Y);if(jF>800)eM.aq0=D(Y)}if(bz>2){eM.axC=D(Y);eM.a73=D(Y);eM.aDY=D(Y);
eM.aAm=D(Y);eM.afQ=D(Y)}gn.b.EX[db]=eM}}else if(gn.pf=="LIST")J(f,Y,G,V,gn.sub,s+1);else if(gn.pf=="txsm"){gn.b={};
if(jF<600)throw"e";if(jF<700)throw"e";if(jF>=1600){gn.b=A(Y);return}if(jF>=1500)Y.z+=37;else Y.z+=36;
if(D(Y)){if(jF<800)Y.z+=32}if(jF<800)Y.z+=4;gn.b.aeF=D(Y);gn.b.zv=[];Y.z+=48;if(jF>=800){if(D(Y)){Y.z+=32;
if(jF>=1300)Y.z+=8}}if(jF>=1500)Y.z+=12;var bz=D(Y),eb=1,k8=!1;if(!bz){if(jF>=800)Y.z+=4;if(jF>800)Y.z+=2;
if(jF>=1400)Y.z+=2;Y.z+=24;if(jF<800)Y.z+=8;eb=D(Y)}for(var g$=0;g$<eb;g$++){var hc=D(Y),N=0;if(jF>=1300&&bz)Y.z++;
Y.z++;var ah=D(Y),bg=[];for(N=0;N<ah;N++){var k5=b(Y),j6=0;b(Y);var e5=b(Y);if(jF>=800)j6=b(Y);var eM={};
if(e5&1){eM.a2C=k(Y);var gK=k(Y);if(gK)eM.akc=gK}if(e5&2)Y.z+=4;if(e5&4)eM.ae8=i(Y);if(e5&8)Y.z+=4;if(e5&16)Y.z+=4;
if(e5&32)Y.z+=4;if(e5&64){eM.aun=D(Y);if(jF>=1500)Y.z+=48}if(e5&128){eM.atv=D(Y)}if(j6&8){if(jF>=1300){var aJ=D(Y);
if(Y.z+aJ*2>=Y.data.length){k8=!0;break}Y.z+=aJ*2}else Y.z+=4}if(j6&32){var ic=b(Y);if(ic)Y.z+=52}if(k5==2)if(jF>=1300)Y.z+=48;
bg.push(eM)}if(k8){break}var gk=D(Y);if(Y.z+gk*4>Y.data.length)break;var hu=[];for(N=0;N<gk;N++){var gQ=0;
if(jF>=1200)gQ=j(Y)&4294967295;else gQ=D(Y);hu[N]=gQ>>16|gQ&1}var e7=gk;if(jF>=1200)e7=D(Y);var a2=w(Y);
gn.b.zv.push({adZ:hc,text:a2,EX:bg})}}else if(gn.pf=="arrw")gn.b=P(Y);else if(gn.pf=="font"){var dR=Y.z,gU=k(Y),kv=k(Y),cO="";
Y.z+=14;if(Y.NV>=1200)cO=B(Y);else cO=w(Y);gn.b={id:gU,alo:kv,name:cO};if(V){var hs=dR+dw;while(Y.data[Y.z]==0)Y.z++;
Y.z+=2;var ai=B(Y);while(Y.data[Y.z]==0)Y.z++;while(Y.data[Y.z]<=2)Y.z+=4;gn.b.he=B(Y)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(gn.pf)!=-1){}else if(gn.pf=="flgs")gn.b=D(Y);
else if(gn.pf=="bbox"){var ky=i(Y),c0=i(Y),aQ=i(Y),ec=i(Y);gn.b=new ir(ky,c0,aQ-ky,ec-c0)}else if(gn.pf=="fild"){var hW=D(Y),er;
if(jF>=1300)Y.z+=8;var di=k(Y);if(di==0){}else if(di==1){Y.z+=jF>=1300?13:2;er=K(Y)}else if(di==2){Y.z+=jF>=1300?8:2;
var fe=b(Y),eu=0;if(jF>=1300){Y.z+=17;eu=g(Y)}else if(jF>=600){Y.z+=19;eu=R(Y)}else{Y.z+=11;eu=g(Y)}var gc=o(Y),iM=.5+I(Y),dL=.5+I(Y)-.5;
if(jF>=600)Y.z+=2;var jS=r(Y)&255,iF=b(Y)/100;Y.z++;var cr=r(Y)&65535;if(jF>=1300)Y.z+=3;var g6=[];for(var N=0;
N<cr;N++){var be=K(Y);if(jF>=1400)Y.z+=26;else if(jF>=1300)Y.z+=5;var bt=(r(Y)&65535)/100;if(jF>=1300)Y.z+=3;
g6.push([bt,be])}er={typ:fe==1?"lin":"rad",crds:[iM-Math.cos(gc)/2,dL-Math.sin(gc)/2,iM,dL],grad:g6,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",di);
gn.b={id:hW,type:di,b:er}}else if(gn.pf=="outl"){var jP=D(Y);if(jF>=1300){var d8=0,gd=0;while(d8!=1){Y.z+=gd;
d8=D(Y);gd=D(Y)}}var ha=k(Y),f_=k(Y),hK=k(Y);if(jF<1300&&jF>=600)Y.z+=2;var d2=i(Y),j2=k(Y)/100;if(jF>=600)Y.z+=2;
var kx=o(Y);if(jF>=1300)Y.z+=46;else if(jF>=600)Y.z+=52;var er=K(Y);if(jF<600)Y.z+=10;else Y.z+=16;var dp=k(Y),fu=Y.z,gh=[];
for(var N=0;N<dp;++N)gh.push(k(Y));if(jF<600)Y.z=fu+20;else Y.z=fu+22;var kM=D(Y),dJ=D(Y);gn.b={id:jP,aeK:ha,aj6:f_,apc:hK,lineWidth:d2,color:er,hC:gh,aAi:kM,a5t:dJ}}else if(gn.pf=="mcfg"){if(1300<=jF)Y.z+=12;
else if(900<=jF)Y.z+=4;else if(600<=jF&&jF<700)Y.z+=28;var jj=0,j4=0;if(jF<400){Y.z+=2;var ky=i(Y),c0=i(Y),aQ=i(Y),ec=i(Y);
jj=Math.abs(aQ-ky);j4=Math.abs(ec-c0)}else{jj=i(Y);j4=i(Y)}gn.b={adC:new eq(jj,j4)}}else if(gn.pf=="loda"||gn.pf=="lobj"){var hU=Y.z,fx=r(Y),g1=r(Y),dG=r(Y),dO=r(Y),cd=r(Y),kG=[],dM=[],N=0,an=null;
Y.z=hU+dG;while(N<g1)kG[N++]=r(Y);Y.z=hU+dO;while(N>0)dM[--N]=r(Y);gn.b={};for(N=0;N<g1;N++){Y.z=hU+kG[N];
var du=dM[N];if(du==30){if(jF>=400&&cd==1||jF<400&&cd==0){gn.b.path=C(Y)}else if(jF>=400&&cd==2||jF<400&&cd==1){gn.b.path=u(Y)}else if(jF>=400&&cd==3||jF<400&&cd==2){gn.b.path=z(Y)}else if(cd==37){gn.b.path=O(Y)}else if(jF>=400&&cd==4||jF<400&&cd==3){gn.b.ab6=Q(Y)}else if(jF>=400&&cd==6||jF<400&&cd==5){gn.b.abA=l(Y)}else console.log(cd)}else if(du==20){if(jF<400)gn.b.avw=x(Y);
else gn.b.a0E=D(Y)}else if(du==10){if(jF<400)gn.b.as$=L(Y);else gn.b.awl=D(Y)}else if(du==200)gn.b.az4=r(Y);
else if(du==100){if(jF<400)an=n(Y)}}if(an&&gn.b.path)d.A.u(gn.b.path.j,an,gn.b.path.j)}else if(gn.pf=="trfd"){var hU=Y.z,fx=r(Y),g1=r(Y),dG=r(Y);
Y.z=hU+dG;var kG=[];for(var N=0;N<g1;N++)kG[N]=r(Y);for(var N=0;N<g1;N++){Y.z=hU+kG[N];if(jF>=1300)Y.z+=8;
var g8=k(Y);if(g8==8){var je,gv,ky,aM,gL,c0;if(jF>=600)Y.z+=6;if(jF>=500){je=t(Y);gv=t(Y);ky=t(Y)/(jF<600?1e3:254e3);
aM=t(Y);gL=t(Y);c0=t(Y)/(jF<600?1e3:254e3)}else throw"e";gn.dX=new jr(je,aM,gv,gL,ky,c0)}else console.log(g8)}}else if(!1){console.log(gn);
var e2=Math.min(gn.size,32);console.log(_.hg(f,gn.z,e2));console.log(_.a6W(f,gn.z,e2))}}}function P(f){var Y=D(f);
f.z+=4;var G=k(f);f.z+=4;var V=[];for(var dF=0;dF<G;dF++)V.push(b(f));f.z+=1;var s=[];for(var aH=0;aH<G;
aH++){var dw=[];dw[1]=i(f);dw[0]=i(f);s.push(dw)}var kO=m(s,V);c[Y]=kO}function n(f){var Y=0,G=0,V=0,dF=0,s=0,aH=0;
if(f.NV>=300){var dw=f.z;f.z+=10;var kO=r(f);f.z=dw+kO;Y=$(f);G=$(f);V=R(f)/1e3;dF=$(f);s=$(f);aH=R(f)/1e3}else{V=i(f);
aH=i(f);Y=$(f);G=$(f);V+=$(f)/1e3;dF=$(f);s=$(f);aH+=$(f)/1e3}return new jr(Y,G,dF,s,V,aH)}function x(f){var Y=b(f);
if(Y==0)return null;else if(Y==1)return K(f);else console.log(Y)}function L(f){var Y=b(f);Y<<=1;var G=i(f),V=k(f)/100,dF=o(f),s=K(f);
return{aeK:Y,lineWidth:G,color:s,hC:[],aAi:0,a5t:0}}function u(f){var Y=i(f),G=i(f),V=o(f),dF=o(f),s=d.A.Pw(d.o.M1.fM(0,0,Y,G));
return s}function C(f){var Y=f.NV,G=T(f),V=T(f),dF=0,s=0,aH=0,dw=0,kO=0,hX=1,jF=1;if(Y<1500){dw=T(f);
aH=Y<900?dw:T(f);s=Y<900?dw:T(f);dF=Y<900?dw:T(f)}else{var gn=t(f);if(gn!=0)hX=gn;gn=t(f);if(gn!=0)jF=gn;
var hM=b(f);f.z+=7;if(hM==0){dw=t(f);kO=b(f);f.z+=15;aH=t(f);f.z+=16;s=t(f);f.z+=16;dF=t(f);var ie=Math.abs(G*hX/2),bN=Math.abs(V*jF/2);
dw*=ie<bN?ie:bN;aH*=ie<bN?ie:bN;s*=ie<bN?ie:bN;dF*=ie<bN?ie:bN}else{dw=T(f);kO=b(f);f.z+=15;aH=T(f);
f.z+=16;s=T(f);f.z+=16;dF=T(f)}}return d.A.Pw(d.o.M1.Rect(0,0,G,V,[dF,s,aH,dw]))}function h(f){var Y=D(f);
if(f.NV<1700)Y*=2;f.z+=Y;return""}function A(f){var Y=D(f),V=0;f.z+=37;var G=D(f);for(var N=0;N<G;N++){var dF=D(f);
V=dF;f.z+=48;var s=D(f);if(s==1)f.z+=12*4;else f.z+=8;if(!Y){f.z+=16;h(f)}}var aH={aeF:V,zv:[]},dw=D(f);
for(var kO=0;kO<dw;kO++){var hX=D(f),eE="";f.z+=1;if(Y)f.z+=1;var jF=h(f),gn=D(f);for(var N=0;N<gn;N++){f.z+=2;
var hM=k(f),ie=k(f);if(ie&4){var bN=D(f);bN*=2;f.z+=bN}if(hM||ie&4){var kd=h(f)}}var i7=D(f),dn=[];for(var N=0;
N<i7;N++){var ew=j(f)&4294967295;dn[N]=ew>>16|ew&1}var e4=D(f);for(var N=0;N<i7;N++){var jc=dn[N]&7,ft=0;
if(jc==0||jc==2||jc==4||jc==6)ft=f.data[f.z++];else if(jc==1||jc==3||jc==5)ft=f.data[f.z++]+f.data[f.z++]*256;
else throw jc;eE+=String.fromCharCode(ft)}var bd=eE.split("\r");for(var N=0;N<bd.length;N++)aH.zv.push({text:bd[N],adZ:hX,EX:[]})}return aH}function W(f,Y){var G={},V=D(f);
for(var N=0;N<V;N++){var dF=D(f);f.z+=4;var s=D(f);G[dF]=s;if(Y)f.z+=48}return G}function Q(f){var Y=i(f),G=i(f);
return new eq(Y,G)}function l(f){f.z+=4;var Y=i(f),G=i(f);return new eq(Y,G)}function O(f){f.z+=4;var Y=k(f)+k(f);
f.z+=16;var G=a(f,Y);return G}function z(f){var Y=k(f);f.z+=2;return a(f,Y)}function a(f,Y){var G=[],V=[];
for(var N=0;N<Y;N++)G.push([i(f),i(f)]);for(var N=0;N<Y;N++)V.push(b(f));return m(G,V)}function m(f,Y){var G={j:[],G:[]},V=0,dF=0,s=0;
for(var N=0;N<f.length;N++){var V=f[N][0],dF=f[N][1],aH=Y[N];if(!(aH&64)&&!(aH&128)||N==0){G.j.push(V,dF);
G.G.push("M");s+=2}else if(aH&64&&!(aH&128)){G.j.push(V,dF);G.G.push("L");s+=2}else if(!(aH&64)&&aH&128){G.j.push(V,dF);
G.G.push("C");s+=6}else if(aH&64&&aH&128){G.j.push(V,dF)}}if(s!=G.j.length)throw"e";return G}function q(f,Y){var G=_.gT;
Y+=8;var V=G(f,Y);Y+=4;var dF=G(f,Y);Y+=4;Y+=4*7;var s=Y,aH=d.R(V*dF*4);Y+=1024;for(var dw=0;dw<dF;dw++)for(var kO=0;
kO<V;kO++){var N=dw*V+kO,hX=(dF-dw-1)*V+kO,jF=f[Y+N]<<2,gn=hX<<2;aH[gn+0]=f[s+jF+2];aH[gn+1]=f[s+jF+1];
aH[gn+2]=f[s+jF+0];aH[gn+3]=255}return{bb:aH,rect:new ir(0,0,V,dF)}}function K(f){var Y=f.NV,G=0,V=0,dF=0;
if(Y>=500){G=k(f);if(G==1&&Y>=1300)G=25;if(G==30){G=25;V=30}else{V=k(f);f.z+=4}dF=D(f)}else if(Y>=400)throw"e";
else{G=b(f);dF=D(f)}return U(G,V,dF)}function U(f,Y,G){var V=[0,0,0];if(f==2||f==3||f==9||f==17){var dF=[G>>>0&255,G>>>8&255,G>>>16&255,G>>>24&255];
if(f==2)for(var N=0;N<4;N++)dF[N]=Math.round(255*dF[N]/100);for(var N=0;N<4;N++)dF[N]/=255;V=UDOC.C.cmykToRgb(dF)}else if(f==1||f==5){V=[G>>>0&255,G>>>8&255,G>>>16&255];
for(var N=0;N<3;N++)V[N]=V[N]/255;if(f==5)V.reverse()}else console.log("Unknown color model "+f,G,G.toString(16));
return V}return{ux:e}}(),jd=function(){var E,y,c=new ArrayBuffer(4),e=new Uint8Array(c),p=new Uint32Array(c),H=new Float32Array(c);
function Z(g,R){for(var t=0;t<g.length;t++)if(g[t][0]==R)return g[t]}function X(){var g=0,R=0,t=0;do{t=E[y++];
g|=(t&127)<<R;R+=7}while(t&128&&R<35);return g>>>0}function b(g,R,t,w,B){E=g;y=R;var $=w[0]=="mesg",o=w[2],T={},i=1,r=$?1e9:o.length;
while(i<=r){var I=i;if($){I=X();if(I==0)break}var M=Z(o,I),J=M[2],P=M[1]==1,n=P?X():1,x=new Array(n);
if(J==3){if(!P)throw"e";x=E.slice(y,y+n);y+=n}else for(var N=0;N<n;N++){var L;if((J&1)==1){if(J==1)L=E[y++]==1;
else if(J==3)L=E[y++];else if(J==5){var u=X();L=u&1?~(u>>>1):u>>>1}else if(J==7)L=X();else if(J==9){if(E[y]==0){L=0;
y++}else{e[0]=E[y];e[1]=E[y+1];e[2]=E[y+2];e[3]=E[y+3];var C=p[0];p[0]=C<<23|C>>>9;L=H[0];y+=4}}else if(J==11){var h=k(E,y);
L=h[0];y+=h[1]+1}else throw J}else{var A=t[J>>>1];if(A[0]=="enum"){var W=X();L=A[2][W]}else{var Q=b(E,y,t,A,B+1);
L=Q[0];y=Q[1]}}x[N]=L}T[M[3]]=P?x:x[0];i++}return[T,y]}function k(g,R){var t=R;while(g[t]!=0)t++;return[_.Uw(new Uint8Array(g.buffer,R,t-R)),t-R]}function D(g,R){var t=R;
while(g[t]!=0)t++;for(var N=R;N<t;N++)if(g[N]>127)throw"e";return _.xY(g,R,t-R)}function j(g){E=g;y=1;
var R=[];while(y<g.length){var t=y,w=R.length,B=D(g,y);y+=B.length+1;var $=X();if($>2)throw"e";var o=X(),T=[];
for(var N=0;N<o;N++){var i=D(g,y);y+=i.length+1;var r=X(),I=X(),M=X();T.push($==0?i:[M,I,r,i])}R.push([["enum","strc","mesg"][$],B,T])}return R}return{ac7:j,akW:b}}();
function jB(){}jB.ux=function(E,y){var c=Date.now(),e=new Uint8Array(E),p=8,H,j=0,Q=0;if(e[0]==80&&e[1]==75){H=UZIP.parse(E);
e=H["canvas.fig"]}var Z=_.gT(e,p);p+=4;var X=[];while(p<e.length){var b=_.gT(e,p);p+=4;var k=e.slice(p,p+b);
if(e[p]==137&&e[p+1]==80){}else k=UZIP.inflateRaw(k);X.push(k);p+=b}var D=jd.ac7(X[0]);for(var N=0;N<D.length;
N++)if(D[N][1]=="Message")j=N;var g=jd.akW(X[1],0,D,D[j],0)[0],R={O$:{},pd:{},awN:{},Ei:H},t=g.nodeChanges;
for(var w=0;w<t.length;w++){var B=t[w],$=B.guid;R.pd[$.sessionID+","+$.localID]=B}for(var w=0;w<t.length;
w++){var B=t[w],$=B.parentIndex;if($){var o=jB.zb(R.pd,$.guid);if(o.children==null)o.children=[];o.children.push(B)}}var T=t[0],i=T.children,r=new ir,I=[],M=[];
for(var $=0;$<i.length;$++){var J=i[$],P=J.children;if(J.name=="Internal Only Canvas"||P==null)continue;
var n=new ir;for(var N=0;N<P.length;N++){var x=P[N],L=x.transform,u=x.size;if(L.m00==1&&L.m10==0&&L.m01==0&&L.m11==1){var C=new ir(L.m02,L.m12,u.x,u.y);
n=n.uN(C)}}var h=r.e==0?0:r.e+100,A=n.clone();A.x=0;A.y=h;r=r.uN(A);I[$]=n;M[$]=h}var W=gE.Kf(new ir(0,0,r.m,r.e),8192*8192);
y.m=Math.round(r.m/W);y.e=Math.round(r.e/W);y.buffer=d.R(y.m*y.e*4);for(var $=0;$<i.length;$++){var J=i[$],P=J.children;
if(J.name=="Internal Only Canvas"||P==null)continue;P.sort(jB.a3G);var l=new jr(1,0,0,1,-I[$].x,M[$]-I[$].y);
l.scale(1/W,1/W);for(var N=0;N<P.length;N++){var x=P[N];jB.aI(x,[],l,g.blobs,y,0,R);Q++}}y.Fy(Q);y.kc=!0;
if(W!=1)alert("File scaled down "+W+"x")};jB.aI=function(E,y,c,e,p,H,Z){var X=jB,n=!1,x,C=!1,h,A;y=JSON.parse(JSON.stringify(y));
var b=E.overrideKey?E.overrideKey:E.guid;for(var N=0;N<y.length;N++){var k=y[N],D=k.guidPath.guids;if(X.ayR(D[0],b)){if(D.length==1){var j={};
for(var g in E)j[g]=k[g]!=null?k[g]:E[g];E=j}else k.guidPath.guids=D.slice(1)}}var R=E.type,t=E.children,w=E.size,B=E.effects,$=p.N8();
$.v4(E.name);$.rP(E.visible);$.opacity=Math.round(E.opacity*255);var o=X.nq(E.transform),T=o.clone();
T.concat(c);if(w==null)w={x:0,y:0};var i=new ir(Math.round(T.Kc),Math.round(T.Dm),Math.round(w.x*T.ul()),Math.round(w.y*T.ul()));
if(i.m==0||isNaN(i.m))i.m=100;if(i.e==0||isNaN(i.e))i.e=100;var r=E.fillPaints,I=E.inheritFillStyleID;
if(I){var j=X.zb(Z.pd,I);if(j)r=j.fillPaints}if(r==null)r=[];var r=X.a7l(r),M=r[0];if(M&&M.type=="IMAGE"&&X.eA(e,jB.QV(M),Z,!0)==null)M=null;
var J=E.strokePaints,I=E.inheritFillStyleIDForStroke;if(I){var j=X.zb(Z.pd,I);if(j)J=j.fillPaints}if(J==null)J=[];
var J=X.a7l(J),P="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(R)!=-1;
if(P||R=="FRAME"){x=new jN.pU;X.ac5(E,e,x);n=d.o.wS(x.X);d.o.dg(x.X,T);var L=d.A.u8(d.o.L$(x.X));if(!L.tj())i=L;
if(Z.O$.q9&&M){var u=jN.pU.MD(Z.O$.q9.X);for(var N=2;N<u.length;N++)if(u[N].O0!=null)u[N].O0=3;x.X=x.X.concat(u.slice(2))}}if(M&&M.type=="IMAGE"){A=M.imageScaleMode;
C=!0;var W=M.originalImageWidth,Q=M.originalImageHeight;if(W*Q==0){var l=X.eA(e,jB.QV(M),Z);W=l.Yu.m;
Q=l.Yu.e}var O=W/Q,z=w.x/w.y;h=Math.abs(O-z)}if(R=="FRAME"){}else if(P&&n&&C&&(A=="FIT"||A=="FILL"&&h<=.05||A=="STRETCH"&&h<=.05)){var a=X.eA(e,jB.QV(M),Z,!0),m=p.np(a,$.getName(),0,0);
m.Gc=$.Gc;m.opacity=$.opacity;$=m;var q=new ir(0,0,w.x,w.y);if(A=="FIT"){var K=M.originalImageWidth,U=M.originalImageHeight,f=Math.min(w.x/K,w.y/U),Y=K*f,G=U*f;
q=new ir(q.x+(q.m-Y)/2,q.y+(q.e-G)/2,Y,G)}var V=d.A.S6(q).j;d.A.u(V,T,V);$.add.SoLd.Trnf=F.Y.Zd(V);$.add.SoLd.nonAffineTransform=F.Y.Zd(V);
var dF=[],B=E.effects,s=M.paintFilter;if(B)for(var N=0;N<B.length;N++)if(B[N].type=="FOREGROUND_BLUR"){var aH=B[N],dw=cN.cK("GsnB",{});
dF.push(dw);dw.v.enab.v=aH.visible;dw.v.Fltr.v.Rds.v.val=aH.radius/2.4}if(s&&s.exposure!=0){var dw=cN.cK("brit",{});
dF.push(dw);dw.v.Fltr.v.Brgh.v=Math.round(s.exposure*160);dw.v.Fltr.v.useLegacy.v=!0}if(s&&s.vibrance!=0){var dw=cN.cK("vibA",{});
dF.push(dw);dw.v.Fltr.v.Strt.v=Math.round(Math.round(s.vibrance*100))}if(dF.length!=0){$.add.SoLd.filterFX=cN.z3();
p.sV({id:$.add.SoLd.placed.v,rect:new ir,buffer:d.R(1),F:new jN.W$});$.add.SoLd.filterFX.v.filterFXList.v=dF}$.an(p,!1);
X.acf(Z,$,p)}else if(P){X.aBn($,x,E,M,J,T,i,e,p,Z);if(B)for(var N=0;N<B.length;N++){var aH=B[N];if(aH.type!="FOREGROUND_BLUR")continue;
x.oV=aH.radius/2.4}$.m5();$.fP(p)}else if(R=="TEXT"){var kO=E.textData,hX=kO.layoutSize,jF=["LEFT","RIGHT","CENTER"].indexOf(E.textAlignHorizontal);
$.add.lnsr="rend";$.add.TySh=gV.V1(0,0);$.add.TySh.dz=new ir(0,0,100,100);var gn=T.clone();$.add.TySh.u=gn;
var hM=$.add.TySh.Ax,ie=kO.characters;if(E.textCase=="TITLE"){for(var N=0;N<ie.length;N++)if(N==0||ie[N-1]==" "){var bN=ie.slice(0,N),kd=ie.slice(N+1);
ie=bN+ie[N].toUpperCase()+kd}}ie=ie.replace(/\u2028/g,"\n");ie=ie.replace(/\u2029/g,"\n");ie=ie.replace(/\r\n/g," \n");
gV.Y8(hM,0,ie);var i7=E.textAutoResize,dn=kO.baselines;if(i7=="WIDTH_AND_HEIGHT"){var ew=jF==0?0:jF==1?hX.x:hX.x/2,e4=dn?dn[0].position.y:0;
gn.translate(ew*T.ul(),e4*T.ul());gV.qz(hM,0)}else if(i7=="HEIGHT"||i7=="NONE"||i7==null){var e4=dn?dn[0].position.y-E.fontSize*.7:0;
gn.translate(0,e4*T.ul());gV.qz(hM,1);gV.fF(hM,[0,0,Math.round(hX.x),Math.round((i7=="NONE"?1.8:1)*hX.y)])}else throw i7;
if(ie!=""){var eE=gV.c$(hM,0,1);X.a1M(E,T,w,eE,$,e,p,Z);gV.gR(hM,0,ie.length,eE);var jc=kO.characterStyleIDs,ft=kO.styleOverrideTable;
if(jc){jc=jc.slice(0);for(var N=0;N<jc.length;N++)if(ie[N]=="\n")jc[N]=-N-1;var bd=[0],iB=0,cG=0;for(var N=0;
N<jc.length;N++){cG++;var bT=jc[N];if(N==0||bT==jc[N-1]){}else{bd.push(cG-1,N);cG=1}}bd.push(cG);for(var N=0;
N<bd.length;N+=2){var g$=bd[N],hU=bd[N+1];if(ie[g$]=="\n")continue;var bT=jc[g$];if(bT!=0){var ah;for(var co=0;
co<ft.length;co++)if(ft[co].styleID==bT)ah=ft[co];var eE=gV.c$(hM,g$,g$+1);X.a1M(ah,T,w,eE,$,e,p,Z);
gV.gR(hM,g$,g$+hU-1,eE)}}}}}else if(R=="SYMBOL"){}else if(R=="INSTANCE"){var im=E.symbolData,hb=im.symbolOverrides,j=X.zb(Z.pd,im.symbolID);
if(j)t=j.children;else console.log(E.name,"symbol not found",im.symbolID);y=y.slice(0);for(var N=0;N<hb.length;
N++)y.push(hb[N])}else console.log(R);if(!1){}else if(t&&!P){p.B.push(p.eM());var dI=!1,bw=H==0&&R!="SYMBOL"&&R!="INSTANCE";
if(bw){if(i.tj())console.log(i);$.ix(i)}M=r[r.length-1];if(M&&M.type=="IMAGE"&&X.eA(e,jB.QV(M),Z,!0)==null)M=null;
if(bw&&M&&M.type=="SOLID"){var fb=M.color;$.add.artb.artboardBackgroundType.v=4;$.add.artb.Clr=X.LF(fb)}else if((M||J[0])&&x){var iG=p.N8();
iG.v4("Background");X.aBn(iG,x,E,M,J,T,i,e,p,Z);iG.m5();iG.fP(p);p.B.push(iG);dI=!0}t.sort(X.a3G);var dy=Z.O$;
Z.O$={};for(var kp=0;kp<t.length;kp++)X.aI(t[kp],y,T,e,p,H+1,Z);Z.O$=dy;$.add.lsct=!1?kl.Sh:kl.ze;$.ur="pass";
var gw=$.OQ();$.Gc=24;$.rP(gw);var dR=H!=0&&r.length!=0&&!E.frameMaskDisabled&&E.containerSupportsFillStrokeAndCorners;
if(!dI&&dR&&x){$.add.vmsk=x;$.m5();$.fP(p)}else X.acf(Z,$,p);p.B.push($)}else if(E.mask){if(x){Z.O$.q9=x}}else{var fT=[],bu=1;
if(B)for(var gA=0;gA<B.length;gA++){var aH=B[gA],by=aH.color,fv=aH.type,d4=["DROP_SHADOW","INNER_SHADOW"].indexOf(fv);
if(d4!=-1){var fg=["DrSh","IrSh"][d4],aC=JSON.parse(cb.Dn[cb.order.indexOf(fg)]);fT.push([fg,aC]);aC.enab.v=aH.visible;
aC.Md.v.BlnM=cg.KH(X.aBG(aH.blendMode));aC.Opct.v.val=Math.round(100*by.a);aC.blur.v.val=Math.round(aH.radius*T.ul());
aC.Clr=X.LF(by);var ew=aH.offset.x,e4=aH.offset.y;aC.uglg.v=!1;aC.lagl.v.val=Math.round(180/Math.PI*Math.atan2(e4,-ew));
aC.Dstn.v.val=Math.round(Math.sqrt(ew*ew+e4*e4)*T.ul())}}if(R=="TEXT"&&r[0]&&r[0].type!="SOLID")bu=0;
for(var N=bu;N<r.length;N++){var hj=r[N],jg=X.oJ(E,hj,T,i,e,p,Z);if(jg[0]=="GdFl")fT.push(["GrFl",jg[1]]);
else if(jg[0]=="SoCo")fT.push(["SoFi",jg[1]]);else if(jg[0]=="PtFl")fT.push(["patternFill",jg[1]]);else if(jg[0]=="None"){}else throw jg}if(!P)for(var N=0;
N<J.length;N++){var hj=J[N],jg=X.oJ(E,hj,T,i,e,p,Z);if(jg[0]=="SoCo"){var aC=JSON.parse(cb.Dn[cb.order.indexOf("FrFX")]);
fT.push(["FrFX",aC]);aC.enab=jg[1].enab;aC.Opct=jg[1].Opct;aC.Md=jg[1].Md;aC.Clr=jg[1].Clr;aC.Sz.v.val=Math.round(E.strokeWeight);
var cm=E.strokeAlign;if(cm)aC.Styl.v.FStl=cb.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(cm)]}}if(fT.length!=0){var bz=JSON.parse(cb.default);
for(var N=0;N<cb.order.length;N++)bz[cb.zt[N]]={t:"VlLs",v:[]};for(var N=0;N<fT.length;N++){var db=fT[N],fg=cb.zt[cb.order.indexOf(db[0])];
bz[fg].v.unshift({t:"Objc",v:db[1]})}if(t==null)$.add.lmfx=bz}p.B.push($)}};jB.aBn=function(E,y,c,e,p,H,Z,X,b,k){var D=jB;
E.Gc|=16;E.add.vmsk=y;var j=E.add.vstk=cb.CY.TL(),g=D.oJ(c,e,H,Z,X,b,k);j.fillEnabled.v=g[0]!="None";
if(g[0]=="None"){E.add.SoCo=g[1]}else{D.Wt(g,E);E.add[g[0]]=g[1]}var g=D.oJ(c,p[0],H,Z,X,b,k);if(g[0]!="None"){var j=E.add.vstk;
j.strokeEnabled.v=!0;j.strokeStyleLineWidth.v.val=c.strokeWeight*H.ul();j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cb.CY.FC[["INSIDE","CENTER","OUTSIDE"].indexOf(c.strokeAlign)];
var R={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[g[0]],t=["SoFi","GrFl","patternFill"].indexOf(R),w=[cb.nM,cb.Bm,cb.Z0][t];
j.strokeStyleContent.v={classID:cb.CY.gV[0]};var B=c.dashPattern;if(B)j.strokeStyleLineDashSet.v=hA.RV(B,1/c.strokeWeight);
var $=j.strokeStyleContent.v={classID:cb.CY.gV[t]};for(var N=0;N<w.length;N++)$[w[N]]=g[1][w[N]];if(!j.fillEnabled.v)D.Wt(g,E)}};
jB.Wt=function(E,y){var c=E[1].Opct.v.val;if(c!=100)y.opacity=Math.round(y.opacity/255*(c/100)*255)};
jB.a3G=function(E,y){var c=E.parentIndex.position,e=y.parentIndex.position;return c>e?1:-1};jB.a7l=function(E){for(var N=1;
N<E.length;N++){var y=E[N];if(y.type=="IMAGE"&&y.opacity==1){E=E.slice(N);break}}for(var N=0;N<E.length;
N++){var y=E[N],c=y.imageThumbnail,e=y.type=="IMAGE";if(e&&(y.image==null||y.image.dataBlob==null)&&c&&c.dataBlob)y.image=c;
if(!y.visible||e&&y.image==null){E.splice(N,1);N--}}return E};jB.acf=function(E,y,c){if(E.O$.q9){y.add.vmsk=E.O$.q9.clone();
y.m5();y.fP(c)}};jB.a1M=function(E,y,c,e,p,H,Z,X){var b=E.fontSize,k=E.lineHeight,D=E.fontName,j=E.textAlignHorizontal,g=E.textTracking,R=E.textCase,t=E.textDecoration;
if(b==null)b=e.na.FontSize;if(D){var w=D.postscript;if(w==""){var B=D.family,$=D.style;w=B.split(" ").join("")+"-"+$}gV.Wn(e,w)}if(b!=null)e.na.FontSize=Math.round(b);
if(t=="UNDERLINE")e.na.Underline=!0;if(g)e.na.Tracking=Math.round(g*1e3);if(R)e.na.FontCaps=R=="UPPER"?2:0;
if(k&&(k.units!="PERCENT"||k.value!=100)){if(b==null)b=15;var o=k.value;if(k.units=="PERCENT")o=1*b*o/100;
if(k.units=="RAW")o=1*b*o;e.na.AutoLeading=!1;e.na.Leading=Math.round(o)}if(j)e.dV.Justification=["LEFT","RIGHT","CENTER"].indexOf(j);
var T=E.fillPaints,i=E.inheritFillStyleID;if(i){var r=jB.zb(X.pd,i);if(r)T=r.fillPaints}if(T&&T[0]){var I=jB.oJ(E,T[0],y,c,H,Z,X);
if(I[0]=="SoCo"){var M=d.L.yd(I[1].Clr.v);e.na.FillColor={Type:1,Values:[1,M.Z/255,M.D/255,M.J/255]};
jB.Wt(I,p)}}};jB.oJ=function(E,y,c,e,p,H,Z){var X=jB,b,k,D=E.size;if(D==null)D={x:0,y:0};if(y){var j=y.type,g=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(j);
if(j=="SOLID"){b="SoCo";var R=y.color;k=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);k.Clr=X.LF(R)}else if(g!=-1){var t=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]),w=t.Grad.v;
w.Intr.v=0;t.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][g];var B=[],$=y.stops;for(var N=0;N<$.length;N++){var o=$[N],T=o.color;
B.push([o.position,[T.r,T.g,T.b],T.a])}d.L.Ll(B,w);var i=X.nq(y.transform);i.Ub();var r=i.clone();if(D)r.scale(D.x,D.y);
r.concat(c);var I=new eq(0,.5),M=new eq(1,.5);I=r.dl(I);M=r.dl(M);if(!0){I.x=M.x+.5*(I.x-M.x);I.y=M.y+.5*(I.y-M.y)}d.L.FO(I,M,e,t);
if(g==3){if(r.U*r.sN-r.J*r.E7<0)t.Rvrs.v=!t.Rvrs.v}b="GdFl";k=t}else if(j=="IMAGE"){var t=JSON.parse(cb.Dn[cb.order.indexOf("patternFill")]),i=X.nq(y.transform);
i.Ub();var J=jB.QV(y),P=Z.awN[J];if(P==null){var n=X.eA(p,J,Z);P=Z.awN[J]={};P.id=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f";
P.Gi=[new Uint8Array(n.data),n.Yu];if(i.U<0){var x=P.Gi[0].slice(0);d.r.ju(x,P.Gi[0],n.Yu.m,n.Yu.e)}P.name="someImage";
H.w4(P)}if(i.U<0)i.U=-i.U;var L=["FILL","FIT","STRETCH","TILE"].indexOf(y.imageScaleMode),u=L==3?y.scale:1;
hA.a55(P,t,D.x,D.y,L,c,i,u);b="PtFl";k=t}else if(j=="VIDEO"){b="SoCo";k=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);
k.Clr=X.LF({r:255,g:0,b:255})}else throw j;if(k)k.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(y.opacity*100)}}}if(b==null||y.opacity<.001){b="None";
k={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}}}return[b,k]};jB.QV=function(E){var y=E.image,c=y.dataBlob;
if(c==null){c="";for(var N=0;N<20;N++)c+=y.hash[N].toString(16).padStart(2,"0")}return c};jB.eA=function(E,y,c,e){if(E[y]){var p=E[y];
if(e)return p.bytes;if(p.rslt)return p.rslt;var H=p.bytes.buffer;p.rslt=jB.a2w(H);return p.rslt}else{if(c.Ei==null)return null;
if(e)return c.Ei["images/"+y];var H=c.Ei["images/"+y].buffer;if(c.Ei["images/-"+y])return c.Ei["images/-"+y];
c.Ei["images/-"+y]=jB.a2w(H);return c.Ei["images/-"+y]}};jB.a2w=function(E){var y=iu.XS(E);if(y=="fpng")y="png";
var c=iu.sF(y);try{return c.cU(E)[0]}catch(b4){return{data:d.R(4),Yu:new ir(0,0,1,1)}}};jB.ac5=function(E,y,c){var e=E.type,p=E.size,H=E.cornerRadius,k;
if(H==null)H=0;var Z=p.x,X=p.y,b=[H,H,H,H],D=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var N=0;N<4;N++)if(E[D[N]]!=null)b[N]=E[D[N]];if(e=="RECTANGLE"||e=="ROUNDED_RECTANGLE"||e=="FRAME"){k=d.o.M1.Rect(0,0,Z,X,b)}else if(e=="ELLIPSE"){var j=E.arcData,g=j?j.startingAngle:0,R=j?j.endingAngle:2*Math.PI,t=j?j.innerRadius:0;
if(g==0&&R>1.999*Math.PI)k=d.o.M1.fM(0,0,Z,X,0);else k=d.o.M1.a6C(Z/2,X/2,X/2,g,R);if(t!=0&&t!=1){var w=jN.pU.MD(k).slice(3);
w.reverse();for(var N=0;N<w.length;N++){var B=w[N],$=B.$0;B.$0=B.dW;B.dW=$}var o=new jr;o.translate(-Z/2,-X/2);
o.scale(t,t);o.translate(Z/2,X/2);d.o.dg(w,o);k=k.concat(w);k[2].length*=2}}else if(e=="LINE"){k=d.o.M1.Rect(0,0,Z,X,0);
k.pop();k.pop();k[2].length=2}else if(e=="STAR"){k=d.o.M1.a3z(Z/2,X/2,Z/2,2*Math.PI*(1/4),5,0,E.starInnerScale)}else if(e=="REGULAR_POLYGON"){k=d.o.M1.G7(.5,.5,.5,Math.PI/2,E.count,0);
var T=new jr;T.scale(Z,X);d.o.dg(k,T)}else if(e=="BOOLEAN_OPERATION"){k=[{type:6},{type:8,all:0}];var i=E.children,r=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(E.booleanOperation);
if(r==-1)throw E;if(i==null)i=[];for(var N=0;N<i.length;N++){var I=i[N],M=new jN.pU,J=jB.ac5(I,y,M);
if(M.X==null)continue;d.o.dg(M.X,jB.nq(I.transform));k=k.concat(M.X.slice(2))}for(var N=3;N<k.length;
N++)if(k[N].O0!=null)k[N].O0=r}else if(e=="VECTOR"){var P,n,z=3;if(!0){var x=E.vectorData;if(x==null)return;
P=x.normalizedSize;n=x.vectorNetworkBlob}var L=y[n].bytes,u=new Uint32Array(L.buffer),C=new Float32Array(L.buffer),h=u[0],A=u[1],W=u[2],Q=[],l=[],O=[],a=z+h*3,m=a+A*7;
for(var N=0;N<h;N++){var q=z+N*3,K=new eq(C[q+1],C[q+2]);Q.push(K)}for(var N=0;N<A;N++){var U=a+N*7;
l.push([u[U+0],u[U+1],C[U+2],C[U+3],u[U+4],C[U+5],C[U+6]])}for(var N=0;N<W;N++){var f=u[m+1],Y=O[N]=[];
m+=2;for(var G=0;G<f;G++){var V=u[m++],dF=Y[G]=[];for(var s=0;s<V;s++)dF[s]=u[m+s];m+=V}}if(m!=u.length)throw"e";
if(W==0){var aH=-1;for(var N=0;N<A;N++){if(aH==-1){}else{var dw=-1;for(var G=N;G<A;G++)if(l[G][4]==aH)dw=G;
for(var G=N;G<A;G++)if(l[G][1]==aH)dw=G;if(dw!=-1){var kO=0,$=l[dw];l[dw]=l[N];l[N]=$;if($[1]!=aH){kO=$[1];
$[1]=$[4];$[4]=kO;kO=$[2];$[2]=$[5];$[5]=kO;kO=$[3];$[3]=$[6];$[6]=kO}}}aH=l[N][4]}O.push([[]]);for(var N=0;
N<A;N++)O[0][0].push(N)}var jF=[],gn=[];for(var hM=0;hM<O.length;hM++){for(var ie=0;ie<O[hM].length;
ie++){var bN=O[hM][ie],kd=0;if(bN.length>1){var i7=l[bN[0]],dn=l[bN[1]];kd=i7[4]==dn[1]?1:0}for(var N=0;
N<bN.length;N++){var ew=l[bN[N]],e4=1,eE=4;if(kd==0){e4=4;eE=1}var jc=Q[ew[e4]],ft=Q[ew[eE]];if(N==0){gn.push("M");
jF.push(jc.x,jc.y)}gn.push("C");jF.push(jc.x+ew[e4+1],jc.y+ew[e4+2],ft.x+ew[eE+1],ft.y+ew[eE+2],ft.x,ft.y)}}}k=d.A.V2({j:jF,G:gn},!1);
if(H!=0){var b=[],bd=k[2].length;for(var N=0;N<bd;N++)b.push(H);if(d.o.eV(k))d.o.eq(k,2,b)}var iB=new jr;
iB.scale(P.x==0?1:p.x/P.x,P.y==0?1:p.y/P.y);d.o.dg(k,iB)}c.X=k};jB.zb=function(E,y){return E[y.sessionID+","+y.localID]};
jB.ayR=function(E,y){return E.sessionID==y.sessionID&&E.localID==y.localID};jB.aBG=function(E){var y={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[E];
if(y==null)throw E;return y};jB.LF=function(E){return{t:"Objc",v:d.L.hp({Z:E.r*255,D:E.g*255,J:E.b*255})}};
jB.nq=function(E){if(E==null)return new jr;var y=[E.m00,E.m10,E.m01,E.m11,E.m02,E.m12];for(var N=0;N<6;
N++)if(Math.abs(y[N])<1e-20)y[N]=0;return new jr(y[0],y[1],y[2],y[3],y[4],y[5])};function em(){}em.ux=function(){var E=_.xY;
function y(R,t,w,B){var $=B?[]:{};while(t<R.length-1&&R[t]!=125){var o=E(R,t,3),T=E(R,t+3,1),i;t+=4;
t++;if(T=="v"){var r=y(R,t,w+1,o=="ELM"||o=="TIL"||o=="TFS");i=r.b;t=r.z}else if(T=="i"||T=="f"){var I=t;
while(R[I]!=125)I++;var M=E(R,t,I-t);i=T=="i"?parseInt(M,16):parseFloat(M);t=I+1}else if(T=="s"){var J=_.dT(R,t),M="";
t+=2;for(var N=0;N<J;N++)M+=String.fromCharCode(R[t+2*N+1]);i=M;t=t+2*J+1}else if(T=="b"){i=R[t]==49;
t=t+2}else throw"e";if(B)$.push([o,i]);else if($[o]==null)$[o]=i;else{if(!($[o]instanceof Array))$[o]=[$[o]];
$[o].push(i)}}t++;return{b:$,z:t}}function c(R,t){var w=e(R).slice(1),R=t.Clr.v;R.Rd.v=w[0]*255;R.Grn.v=w[1]*255;
R.Bl.v=w[2]*255}function e(R){return[(R>>>24&255)/255,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]}function p(R,t){var w=t&4278190080|(t&255)<<16|(t>>>8&255)<<8|t>>>16&255;
new Uint32Array(R.buffer).fill(w)}function H(R,t){var w=R.TSZ,B=R.WPX,$=R.HPX,o=R.TIL,T=new ir(0,0,B,$),i=d.R(B*$*4),r=0;
for(var I=0;I<$;I+=w)for(var M=0;M<B;M+=w){var J=new ir(M,I,w,w),P,n=o[r];if(n[0]=="TMC"){P=d.R(J.P()*4);
p(P,n[1])}else if(n[0]=="TID"){P=t[n[1]]}d.E6(P,J,i,T);r++}return[i,T]}function Z(R,t){R=new Uint8Array(R);
var w=8,B,$={},A=0;while(w<R.length){var o=_.q(R,w);w+=4;var T=E(R,w,4);w+=4;if(T=="mkTS"){var i=pako.inflate(R.slice(w,w+o)),r=y(i,0,0);
B=r.b}else if(T=="mkBT"){var I=_.q(R,w+4),M=_.q(R,w+8),i=pako.inflate(R.slice(w+76,w+o));if(M==0)for(var N=0;
N<i.length;N+=4){var J=i[N],P=i[N+1],n=i[N+2],x=i[N+3];i[N+3]=J;i[N+2]=x;i[N+1]=n;i[N]=P}else{var L=d.R(i.length*4);
L.fill(255);d.Q9(i,L);i=L}$[I]=i}w+=o+4}var u=B.PDC,C=u?u instanceof Array?u:[u]:[B.MKB],h=new ir;for(var N=0;
N<C.length;N++){var W=C[N];h=h.uN(new ir(0,A,W.WID,W.HIT));A+=W.HIT+100}t.m=h.m;t.e=h.e;t.buffer=d.R(h.P()*4);
t.Fy(C.length);A=0;for(var Q=0;Q<C.length;Q++){t.B.push(t.eM());var W=C[Q],l=W.WID,O=W.HIT,z=W.BGC,a=(W.LYL?W:B).LYL.LAY,K=3;
for(var N=0;N<a.length;N++)b(a[N],t,null,$,new jr(1,0,0,1,-W.XLC,-W.YLC+A));var m=t.N8();t.B.push(m);
var q=new ir(0,A,l,O);A+=O+100;m.ix(q);if(z>>>24!=0){var U=d.L.hp({Z:z>>>16&255,D:z>>>8&255,J:z>>>0&255});
m.add.artb.Clr={t:"Objc",v:U};K=4}m.add.artb.artboardBackgroundType.v=K;m.v4(W.PGN?W.PGN:"Page "+(Q+1));
m.add.lsct=kl.ze;m.ur="pass";m.Gc=24}}function X(R,t,w){var B=R[t];return B instanceof Array?B[w]:B}function b(R,t,w,B,$){var o=t.N8();
if(R.VIS!=null)o.rP(R.VIS);if(R.VIF!=null)o.rP(R.VIF.VIS);if(R.OPA!=null)o.opacity=Math.round(255*R.OPA/1e3);
o.ur=R.CLL||w=="GRP"?"pass":"norm";if(R.BLD!=null){var T=R.BLD,i={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[T+""];
if(i==null)console.log(R.OBN,T);else o.ur=i;if(T==30)o.opacity>>>=1}if(R.CLL){o.v4(R.LNM);t.B.push(t.eM());
var r=R.CLL.CEL;if(r.length==null)r=[r];for(var I=r.length-1;I>=0;I--){var M=r[I].ELM;for(var N=M.length-1;
N>=0;N--)b(M[N][1],t,M[N][0],B,$)}o.add.lsct=R.DIS?kl.Sh:kl.ze;o.Gc|=24}else if(w=="GRP"){var J=o.add.lmfx=D(R.EFL),P;
t.B.push(t.eM());var M=R.ELM;if(R.MNA){P=M[0][1];M=M.slice(1)}o.v4("Group: "+M.length+" objects");for(var N=M.length-1;
N>=0;N--)b(M[N][1],t,M[N][0],B,$);if(P){if(R.MRX){var n=H(P,B),x=o.F=new jN.W$;x.rect=n[1].clone();x.rect.x=P.XLC;
x.rect.y=P.YLC+$.Dm;x.channel=d.R(x.rect.P());d.LI(n[0],x.channel,0);d.Ub(x.channel)}else{k(o,P,$);o.m5();
o.fP(t)}}o.add.lsct=kl.ze;o.Gc|=24}else if(w=="IMG"){o.v4(R.OBN?R.OBN:"Bitmap");var n=H(R,B);o.rect=n[1].clone();
o.rect.x=R.XLC;o.rect.y=R.YLC+$.Dm;o.buffer=n[0]}else if(w=="TXT"){var L=R.TFS,W="";o.add.lnsr="rend";
o.add.TySh=gV.V1(0,0);o.add.TySh.dz=new ir(0,0,100,100);var u=new jr(1,0,0,1,R.LFT,R.TOP);if(R.MTX){var C=R.MTX,x=new jr(C.M00,C.M01,C.M10,C.M11,C.M20,C.M21);
u.concat(x)}u.concat($);o.add.TySh.u=u;var h=o.add.TySh.Ax,A=gV.c$(h,0,0),Q=X(R,"FON");if(Q)gV.Wn(A,Q);
var l=X(R,"PTS");if(l)A.na.FontSize=Math.round(l);var O=X(R,"ITL");if(O)A.na.FauxItalic=O;if(R.PAT)A.na.FillColor={Type:1,Values:e(X(R.PAT,"FCL"))};
for(var N=0;N<L.length;N++){var z=L[N][0],a=L[N][1];if(z=="TRN"){a=a.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
a=a.replaceAll("\x03","\n").replaceAll("\r","\n");gV.Y8(h,W.length,a);gV.gR(h,W.length,W.length+a.length,A);
W+=a}else if(z=="FON")gV.Wn(A,a);else if(z=="PTS")A.na.FontSize=Math.round(a);else if(z=="ITL")A.na.FauxItalic=a;
else if(z=="UND")A.na.Underline=a;else if(z=="FCL")A.na.FillColor={Type:1,Values:e(a)};else if(z=="LED"){A.na.Leading=a*A.na.FontSize;
A.na.AutoLeading=!1}else if(z=="JST")A.dV.Justification=[0,2,1,3,5,4,6,7,8][a]}o.v4(W.slice(0,255));
var m=R.RIT-R.LFT,q=R.BOT-R.TOP;if(R.IMG){b(R.IMG,t,"IMG",B,$);var K=t.B.pop();o.buffer=K.buffer;o.rect=K.rect.clone()}gV.qz(h,1);
gV.fF(h,[0,0,m,q])}else if(w=="PTH"){o.v4(R.OBN?R.OBN:"Path");o.Gc|=16;var U=!1;k(o,R,$);var f=o.add.vmsk,Y=o.add.vstk,G=d.o.L$(f.X),V=R.PAT,dF=V.BPL,s=V.FPL,aH=V.TXF;
if(s&&s.FEF)f.oV+=s.FEF/2.4;if(dF){var dw=dF.CAT;Y.strokeEnabled.v=!0;Y.strokeStyleLineWidth.v.val=dF.BDI;
Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cb.CY.FC[R.BRP];c(V.BCL,Y.strokeStyleContent.v);
if(dw!="bc_Basic"&&dw!="bc_Pencil")U=!0}Y.fillEnabled.v=s!=null;if(s==null){o.add.SoCo=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);
c(0,o.add.SoCo)}else if(s.CAT=="fc_Solid"){o.add.SoCo=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);c(R.PAT.FCL,o.add.SoCo)}else if(s.CAT=="fc_Linear"||s.CAT=="fc_Circular"||s.CAT=="fc_Elliptical"){var kO=s.CAT=="fc_Linear",hX=o.add.GdFl=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]),jF=hX.Grad.v,gn=[],hM=s.FGL,ie,bN=[];
if(hM.FGY){var kd=hM.FGY,ie=kd.FG0.FGI,bN=kd.FG1.FGI}else ie=hM.FGV.FGI;for(var N=0;N<ie.length;N++){var i7=ie[N],dn=e(i7.FGC),ew=1;
if(bN.length==ie.length)ew=e(bN[N].FGC)[0];gn.push([i7.FGP,dn.slice(1),ew])}hX.Type.v.GrdT=kO?"Lnr":"Rdl";
d.L.Ll(gn,jF);jF.Intr.v=0;var e4=R.PRI?R.PRI:R,eE=new eq(e4.PSX,e4.PSY),jc=new eq(e4.PEX,e4.PEY);if(s.CAT=="fc_Elliptical"&&e4.PFX!=null){var ft=new eq(e4.PFX,e4.PFY),bd=eq.oG(eE,jc),iB=eq.oG(eE,ft);
if(iB<bd){var cG=bd;bd=iB;iB=cG}jc=new eq(eE.x+(bd+iB)/2,eE.y);if(bd/iB<.5)U=!0}if(kO){eE.x=(eE.x+jc.x)/2;
eE.y=(eE.y+jc.y)/2}d.L.FO(eE,jc,G,hX)}else console.log(s.CAT);var J=o.add.lmfx=D(R.EFL,f);if(s&&s.FTB!=0&&aH){var n=H(aH.MSK,B),bT={};
bT.id=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f";bT.name="someImage";bT.Gi=n;t.w4(bT);var g$=n[0];for(var N=0;
N<g$.length;N+=4){g$[N+3]=255-g$[N];g$[N]=g$[N+1]=g$[N+2]=255}var hX=JSON.parse(cb.Dn[cb.order.indexOf("patternFill")]);
hX.Opct.v.val=Math.round(s.FTB/10);hX.Algn.v=!0;hX.Ptrn.v.Idnt.v=bT.id;J.patternFillMulti.v.unshift({t:"Objc",v:hX})}if(U&&R.IMG){b(R.IMG,t,"IMG",B,$);
var hU=t.B[t.B.length-1];hU.opacity=o.opacity;return}o.m5();o.fP(t)}else if(w=="URL")return;else{console.log("unknown layer type",w,R);
o.v4("Layer")}t.B.push(o)}function k(R,t,w){if(t.PBL==null)return;var B=R.add.vmsk=new jN.pU,$=R.add.vstk=cb.CY.TL(!0),o=t.PBL.PBP;
if(!(o instanceof Array))o=[o];for(var T=0;T<o.length;T++){var i=o[T].PBT;if(i==null)continue;if(!(i instanceof Array))i=[i];
var r=o[T].ISC?0:3;B.X.push({type:r,length:i.length,O0:0,X7:2,cr:0,x9:0});for(var N=0;N<i.length;N++){var I=i[N],M=I.XLC,J=I.YLC,P=[M,J,M,J,M,J],n="XPC YPC XLC YLC XSC YSC".split(" ");
for(var x=0;x<6;x++){var L=n[x],u=I[L];if(u!=null)P[x]=u}B.X.push({type:r+2,I:new eq(M,J),$0:new eq(P[0],P[1]),dW:new eq(P[4],P[5])})}}d.o.dg(B.X,w)}function D(R,t){var w=JSON.parse(cb.default);
for(var N=0;N<cb.order.length;N++)w[cb.zt[N]]={t:"VlLs",v:[]};if(R==null||R.EPS==null)return w;var B=R.EPS;
if(!(B instanceof Array))B=[B];for(var N=0;N<B.length;N++){var $=B[N].DCE,o={};for(var T=0;T<$.length;
T++)o[$[T].DCK]=$[T].DCV;if(o.EffectIsVisible=="false")continue;var i=o.mkbFile_WriteOnly_TemporaryEffectUiName;
if(i=="Gaussian Blur..."&&t){t.oV+=parseFloat(o.gaussian_blur_radius);continue}var r=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(i);
if(r==-1){continue}var I=["DrSh","ebbl","IrGl","OrGl"][r],M=cb.zt[cb.order.indexOf(I)],J=JSON.parse(cb.Dn[cb.order.indexOf(I)]);
w[M].v.unshift({t:"Objc",v:J});if(I=="DrSh"){J.uglg.v=!1;j(o,"ShadowDistance",J,"Dstn");j(o,"ShadowBlur",J,"blur");
j(o,"ShadowAngle",J,"lagl",180);J.Opct.v.val=100;g(o,"ShadowColor",J,"Clr")}if(I=="IrGl"){J.Md.v.BlnM="Nrml";
var P=o.MaskSoftness,n=o.GlowWidth;if(P&&n){P=parseInt(P);n=parseInt(n);J.blur.v.val=n+P;J.Ckmt.v.val=Math.round(100*n/(n+P))}j(o,"BevelContrast",J,"Opct");
g(o,"OuterBevelColor",J,"Clr")}if(I=="OrGl"){J.Md.v.BlnM="Nrml";var P=o.MaskSoftness,n=o.GlowWidth;if(P&&n){P=parseInt(P);
n=parseInt(n);J.blur.v.val=n+P}j(o,"BevelContrast",J,"Opct");g(o,"OuterBevelColor",J,"Clr")}if(I=="ebbl"){J.uglg.v=!1;
j(o,"BevelWidth",J,"blur");j(o,"AngleSoftness",J,"Sftn");j(o,"BevelContrast",J,"srgR");j(o,"LightAngle",J,"lagl")}}return w}function j(R,t,w,B,$){var o=R[t];
if($==null)$=0;if(o)w[B].v.val=parseInt(o)+$}function g(R,t,w,B){var $=R[t];if($){$=$.slice(1);if($.length==6)$=$+"ff";
if($.length!=8)throw"e";var o=e(parseInt($,16)),T=w[B].v;T.Rd.v=o[0]*255;T.Grn.v=o[1]*255;T.Bl.v=o[2]*255;
w.Opct.v.val=Math.round(w.Opct.v.val/100*o[3]*100)}}return Z}();var fJ=function(){function E(p){var H=new Uint8Array(p.length);
_.bv(H,0,p);return H}function y(p){var H=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",E("")],Z=H.length,b=0;
H.push("<< /AIMetaData  "+(Z+2)+" 0 R /AIPrivateData1 "+(Z+3)+" 0 R  /AIPrivateData2 "+(Z+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
H.push(E(""));H.push(E(""));H.push(p);var X=new ek,k=[];function D(t){_.cW(X,b,t);b+=t.length}D("%PDF-1.5\n");
for(var N=0;N<H.length;N++){k.push(b);D(N+1+" 0 obj\n");var j=H[N];if(typeof j=="string")D(H[N]+"\n");
else{var g=pako.aqi(j);D("<< /Length "+g.length+" /Filter [ /FlateDecode ] >>\nstream\n");X._Z(b,g.length);
X.data.set(g,b);b+=g.length;D("\nendstream\n")}D("endobj\n")}var R=b;D("xref\n0 "+(k.length+1)+"\n0000000000 65535 f\r\n");
for(var N=0;N<k.length;N++)D((k[N]+"").padStart(10,"0")+" 00000 n\r\n");D("trailer\n<< /Root 1 0 R /Size "+(k.length+1)+" >>\nstartxref\n"+R+"\n%%EOF\n");
return X.data.slice(0,b)}function c(p,H){var Z=Date.now(),X=new Uint8Array(p),b,k=X[2]==68;if(H)console.log(!k?"EPS":"PDF");
if(k){var D=_.h6(X,"/AIMetaData "),i,r,I;while(X[D]!=60)D--;D--;var j=_.h6(X,">>",D),g=_.xY(X,D+2,j-D-2).split("/"),R=[];
for(var N=0;N<g.length;N++){var t=g[N],w=t.startsWith("AIPrivateData"),B=t.startsWith("AIPDFPrivateData");
if(!w&&!B)continue;var $=t.trim().split(/\s+/),o=parseInt($[1]),T=parseInt($[0].slice(w?13:16));R.push([T,o])}if(H)console.log("--- map made",Date.now()-Z);
Z=Date.now();while(!0){var M=FromPDF.indexOfXref(X),J=[],P=FromPDF.readXrefTrail(X,M,J),n={buff:X,off:0},x=!1;
i=new Array(R.length);r=!1;I=!1;for(var N=0;N<R.length;N++){var T=R[N][0],o=R[N][1],h=0;if(J[o]==null){x=!0;
break}var L=FromPDF.getIndirect(o,0,n,J),u=L.buff,C=L["/Filter"];if(C!=null&&typeof C=="string")C=[C];
var A=_.xY(u,h,h+20);if(A=="%AI12_CompressedData"){h+=20;r=!0}else if(A=="%AI24_ZStandard_Data"){h+=20;
I=!0}u=new Uint8Array(u.buffer,u.byteOffset+h,u.length-h);if(C)for(var W=0;W<C.length;W++){var Q=C[W];
if(Q=="/FlateDecode")u=pako.inflate(u);else if(Q=="/ASCIIHexDecode")u=FromPS.F.HexDecode({buff:u,off:0});
else if(Q=="/ASCII85Decode")u=FromPS.F.ASCII85Decode({buff:u,off:0});else throw Q}i[T-1]=u}if(x){console.log("extra xref after AI");
X=X.slice(0,M);continue}break}if(H)console.log("--- arrays found",Date.now()-Z);Z=Date.now();var l=_.xY(i[0],0,13);
if(l=="%%BoundingBox"||l=="%AI7_Thumbnai")i=i.slice(1);if(l=="%AI24_ZStanda"){i[0]=i[0].slice(20);I=!0}if(_.xY(i[0],0,13)=="%AI12_Compres"){i[0]=i[0].slice(20);
r=!0}b=e(i);if(H)console.log("--- concatenated",Date.now()-Z);Z=Date.now();if(r)b=UZIP.inflate(b);if(I)b=iu.OV.zh(b);
if(H)console.log("--- inflated",Date.now()-Z);Z=Date.now()}else{var O=_.Uw(X);if(O.indexOf("%AI5_BeginLayer")!=-1){b=X}else{var z=O.split(/[\n\r]+/),a=[],m=!1;
for(var q=0;q<z.length;q++){var K=z[q].trim();if(K=="%AI9_PrivateDataEnd"){m=!1;break}else if(K=="%AI9_DataStream"||K=="%AI24_DataStream"){m=!0}else if(m)a.push(K.slice(1))}var U=_.vx(a.join("")),f=FromPS.F.ASCII85Decode({buff:U,off:0});
if(f[0]==120&&f[1]==156)b=UZIP.inflate(f);else b=iu.OV.zh(f)}}return b}function e(p){var H=0,X=0;for(var N=0;
N<p.length;N++)H+=p[N].length;var Z=new Uint8Array(H);for(var N=0;N<p.length;N++){var b=p[N];Z.set(b,X);
X+=b.length}return Z}return{azD:c,awc:y}}();function dd(){}dd.ux=function(){function E(A,W,Q){var l=!1,O=Date.now(),z=fJ.azD(A,l);
if(l)console.log("part found",Date.now()-O);O=Date.now();var a=P(z),m=a.Layer,q=a.Header;if(l)console.log(a);
var K=a.Setup.TextDocument,U=m[0];U=a.Layer[0];if(l)console.log("document parsed",Date.now()-O);O=Date.now();
a.Setup.Gradient=J(a.Setup.Gradient,z);if(l)console.log("grads loaded",Date.now()-O);O=Date.now();a.Setup.Pattern=I(a.Setup.Pattern,z);
if(l)console.log("patts loaded",Date.now()-O);O=Date.now();a.Setup.Palette=M(a.Setup.Palette,z);if(l)console.log("palet loaded",Date.now()-O);
O=Date.now();var f=i(a.Setup.DocumentData,z),Y=r(f);a.Setup.DocumentData=f.pop();if(l)console.log("docdata loaded",Date.now()-O);
O=Date.now();a.Setup.SVGFilter=i(a.Setup.SVGFilter,z);if(l)console.log("svgfilter loaded",Date.now()-O);
O=Date.now();var G=q.Cropmarks,V=q.BoundingBox.split(" ").map(parseFloat),dF=q.ArtSize?q.ArtSize.split(" ").map(parseFloat):[V[2]-V[0],V[3]-V[1]];
W.m=Math.round(dF[0]);W.e=Math.round(dF[1]);var s=[1,0,0,1,-V[0]+(W.m-(V[2]-V[0]))/2,-V[1]+(W.e-(V[3]-V[1]))/2];
s[3]=-1;s[5]=W.e-s[5];if(G){G=G.split(" ").map(parseFloat);W.m=Math.round(G[2]-G[0]);W.e=Math.round(G[3]-G[1]);
s=[1,0,0,-1,-G[0],W.e+G[1]]}var f=a.Setup.DocumentData,aH=[],dw=[];if(f&&f[0]&&f[0].ArtboardArray){var aH=f[0].ArtboardArray;
if(aH.length!=1)console.log(aH.length,"artboards");var kO=new ir;for(var N=0;N<aH.length;N++){var hX=aH[N],jF=hX.PositionPoint1,gn=hX.PositionPoint2,hM=jF[0],ie=Math.min(jF[1],gn[1]),bN=gn[0],kd=Math.max(jF[1],gn[1]),i7=new ir(hM,ie,bN-hM,kd-ie);
dw.push(i7);kO=kO.uN(i7)}W.m=Math.round(kO.m);W.e=Math.round(kO.e);s[4]=-kO.x;s[5]=kO.y+W.e}if(f&&f[0]&&f[0]["#document"]){var dn=f[0]["#document"],ew=dn["xmlnode-children"][0];
if(ew&&ew["xmlnode-children"])ew=ew["xmlnode-children"][0];if(ew["xmlnode-nodename"]=="variableSets"){var e4=ew["xmlnode-children"][0]["xmlnode-children"],eE=e4[0],jc=e4[1],ft=h(eE);
W.NC=bP.aDD("<variableSets><variableSet>"+ft+"</variableSet></variableSets>");if(jc){var bd=h(jc),iB=W.PH=bP.agG(bd);
for(var N=0;N<iB.length;N++)for(var cG=0;cG<iB[N].length;cG++)iB[N][cG]=iB[N][cG].trim()}}}var bT=1/gE.Kf(new ir(0,0,W.m,W.e),8192*8192);
while(Math.max(W.m*bT,W.e*bT)<800)bT*=2;while(Q&&Math.max(W.m*bT,W.e*bT)<Math.max(Q[0],Q[1]))bT++;W.m=Math.round(W.m*bT);
W.e=Math.round(W.e*bT);W.$c=Math.round(72*bT);for(var N=0;N<6;N++)s[N]*=bT;var g$=[];if(aH.length!=[1,0][aw]){var hU=aw==0?W.B:[];
hU.push(W.eM());for(var N=0;N<dw.length;N++){var hX=aH[N],i7=dw[N],ah=W.N8();ah.v4(hX.Name);hU.push(ah);
ah.add.SoCo=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);var co=ah.add.SoCo.Clr.v;j(co,[1,1,1]);var hM=i7.x,ie=i7.y,bN=hM+i7.m,kd=ie+i7.e,im=[hM,ie,bN,ie,bN,kd,hM,kd];
d.A.u(im,R(s),im);B(ah,{cmds:["M","L","L","L","Z"],crds:im},W,0);ah.add.vstk=cb.CY.TL(!0);var Q=d.A.n7(im);
g$.push({p2:hX.Name,Mj:[Q.x,Q.y,Q.x+Q.m,Q.y+Q.e],g:hX.IsArtboardSelected})}var ah=W.N8();ah.v4("_Artboards_");
ah.add.lsct=kl.ze;ah.ur="pass";ah.Gc=24;hU.push(ah)}else g$=[{p2:"Artboard",Mj:new ir(0,0,W.m,W.e)}];
if(aw==1)W.add.arts=g$;c=[0,0,0];e=[0,0,0];p="SoCo";H="SoCo";for(var hb=0;hb<m.length;hb++){var dI=m[hb];
dI.Raster=y(dI,"Raster");dI.Place=y(dI,"Place");var bw=o(z,dI);Z(W,bw,s,a,dI,z)}if(aw==0)for(var N=0;
N<W.B.length;N++){var ah=W.B[N];if(ah.ew){W.B.splice(N,1);var fb=W.B[N];fb.add.vmsk=ah.add.vmsk;fb.add.vogk=ah.add.vogk;
fb.fP(W)}}else{}if(l)console.log("layers created",Date.now()-O);O=Date.now()}function y(A,W){var Q=A.Layer,l=A[W];
if(l==null)l=[];if(Q){for(var N=0;N<Q.length;N++){var O=Q[N],z=O[W]=y(O,W);l=l.concat(z)}l.sort(function(a,m){return a._begin-m._begin})}return l}var c,e,p,H;
function Z(A,W,Q,l,O,z){var a=[],m=0,q="",K=!1,U={},f=UDOC.G,Y=UDOC.getState(),V="norm",dF=1,s=0,aH=!1,dw=0,kO=!1,hX=!0,jF=null,gn=!1,hM=0,ie=null,bN,kd,i7=0,dn=0,ew=0,ft=0,bd=!1;
Y.ctm=Q;var G=cb.WF.TL(),e4=[0,0],eE=[],jc=[];for(var iB=0;iB<W.length;iB++){var cG=W[iB],im=1e9;if(cG[0]=="%"){if(cG=="%_/ArtDictionary :"&&hM==0)jF=[cG.slice(2)];
else if(jF!=null){if(cG=="%_"&&hM==0){var bT=L(jF)[0],g$=A.B[A.B.length-1],hU=bT.AI10_ArtUID,ah=bT.BBAccumRotation;
if(hU&&!hU.startsWith("XMLID"))g$.v4(C(hU));if(ah&&g$.add.vmsk)g$.add.vmsk.p9=parseFloat(ah);jF=null}else{jF.push(cG.slice(gn?1:2));
if(cG=="%_X=")hM++;if(cG=="%_X+")hM--;if(cG=="%_/Binary : /ASCII85Decode ,")gn=!0;if(gn&&cG.endsWith("~>"))gn=!1}}else if(ie){bN+=(bN==""?"":" ")+cG.slice(2);
if(bN.endsWith("X#")){ie.push(bN.slice(0,bN.length-3));bN=""}}continue}else if(cG=="/Mesh X!"){ie=[];
bN="";continue}else if(cG=="/End X!"){k(ie,Y,A);ie=null;continue}var co="Xa XR m l c f U u *U w J j M d".split(" "),hb=-1,dI=cG.indexOf("(")!=-1;
for(var N=0;N<co.length;N++){var bw=cG.indexOf(" "+co[N]+" ");if(bw!=-1&&bw<im&&!dI){im=bw;hb=N}}if(hb!=-1){K=!0;
var fb=im+1+co[hb].length;W[iB]=cG.slice(0,fb);var iG=W[iB+1];if(iG==null||iG[0]=="%"||hb>9)W.splice(iB+1,0,cG.slice(fb));
else W[iB+1]=(cG.slice(fb)+" "+iG).replace(/\s\s+/g," ");iB--;continue}cG=cG.trim();var dy=cG.split(" "),kp=dy[dy.length-1],gw=kp.toLowerCase(),dR=dy.map(parseFloat);
if(kp=="m")f.moveTo(Y,dR[0],dR[1]);else if(kp=="L"||kp=="l")f.lineTo(Y,dR[0],dR[1]);else if(kp=="V"||kp=="v"){var fT=Y.pth.crds,gA=Y.cpos[0],by=Y.cpos[1];
f.curveTo(Y,gA,by,dR[0],dR[1],dR[2],dR[3]);var fv=fT.length;fT[fv-6]=gA;fT[fv-5]=by}else if(kp=="Y"||kp=="y")f.curveTo(Y,dR[0],dR[1],dR[2],dR[3],dR[2],dR[3]);
else if(kp=="C"||kp=="c")f.curveTo(Y,dR[0],dR[1],dR[2],dR[3],dR[4],dR[5]);else if(kp=="H"||kp=="h"){if(kp==gw)f.closePath(Y);
if(!aH){var d4=A.N8();A.B.push(d4);d4.v4("<Clipping Path>");d4.ew=!0;d4.add.vstk=cb.CY.TL();d4.add.SoCo=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);
B(d4,Y.pth,A,s)}else kO=!0}else if(kp=="XR"){s=dR[0]}else if(kp=="Xy"){V=dd.auI[dR[0]];dF=dR[1];if(V==null){V="norm";
console.log("unknown blend mode",dR[0])}}else if(kp=="Xd"){var g$=A.B[A.B.length-1];g$.opacity=Math.round(255*dF);
g$.ur=g$.uY()&&V=="norm"?"pass":V}else if(kp=="AE")i7=dR[0];else if(kp=="Ae")dn=dR[0];else if(kp=="Xw")ew=dR[0];
else if(kp=="*"){var fg=Y.pth.crds,aC=Y.ctm,bw=fg[0]==fg[2]?0:1;A.oc.push([bw,fg[bw]]);f.newPath(Y)}else if(kp=="XN")kd=cG.split(" ")[0];
else if(kp=="XI"){var bu=O.Raster,hj,jg;if(bu==null||bu.length==0){console.log("no Raster");continue}if(cG!="XI"){continue}else{var cm=bu[m++];
if(cm.Data)cm=cm.Data;var bz=cm._begin,db=cm._end;while(z[bz]!=88)bz++;bz+=3;hj=z.slice(bz,db);jg=W[iB-2].split(" ").map(parseFloat)}var eM=jg.slice(8),de=eM[2],eb=eM[3],k8=de*eb,hc=d.R(k8*4);
hc.fill(255);var bg=eM[7],k5=eM[8],e5=eM[6],j6=Math.ceil(de*bg*e5/8);if(bg==1){if(e5==8)for(var N=0;
N<k8;N++)for(var gK=0;gK<3;gK++)hc[4*N+gK]=hj[N];else if(e5==1)for(var aJ=0;aJ<eb;aJ++)for(var ic=0;
ic<de;ic++)for(var gK=0;gK<3;gK++)hc[4*(aJ*de+ic)+gK]=255*(hj[aJ*j6+(ic>>>3)]>>>7-(ic&7)&1);else throw e5}else if(bg==3)for(var N=0;
N<k8;N++)for(var gK=0;gK<3;gK++)hc[4*N+gK]=hj[3*N+gK];else if(bg==4||bg==5)for(var N=0;N<k8;N++){var gk=t([hj[bg*N+0]/255,hj[bg*N+1]/255,hj[bg*N+2]/255,hj[bg*N+3]/255]);
hc[4*N+0]=gk[0]*255;hc[4*N+1]=gk[1]*255;hc[4*N+2]=gk[2]*255}else if(bg==7)for(var N=0;N<k8;N++){hc[4*N+0]=hj[bg*N+0];
hc[4*N+1]=hj[bg*N+1];hc[4*N+2]=hj[bg*N+2]}else console.log("unknown number of channels",bg);if(k5==1){var hu=eb*j6;
for(var N=0;N<k8;N++)hc[4*N+3]=hj[hu+N]}var gQ=d.$S(hc,de,eb)?"JPG":"PNG";if(de*eb<700*700)gQ="PNG";
var e7=iu.sF(gQ).Jv([[hc.buffer]],de,eb),a2=A.np(new Uint8Array(e7),"<Image>",0,0);A.B.push(a2);a2.ur=V;
a2.opacity=Math.round(255*dF);a2.rP(ew==0);var gU=new jr;gU.scale(1,-1);gU.concat(R(jg.slice(1)));gU.concat(R(Y.ctm));
var kv=a2.add.SoLd,cO=kv.Sz.v,hs=new ir(0,0,cO.Wdth.v,cO.Hght.v),dy=d.A.S6(hs).j;d.A.u(dy,gU,dy);a2.add.SoLd.Trnf=F.Y.Zd(dy);
a2.add.SoLd.nonAffineTransform=F.Y.Zd(dy);a2.an(A,!1)}else if(kp=="Ln"){a.push(D(cG))}else if(kp=="u"||kp=="q"||kp=="Lb"){eE.push(dn==1);
jc.push((kp=="Lb"?1-dR[0]:ew)==0);if(aH)continue;A.B.push(A.eM())}else if(kp=="U"||kp=="Q"||kp=="LB"){if(eE.length==0||jc.length==0)throw iB;
var ai=eE.pop(),ky=jc.pop();if(kp=="LB")ai=i7==1;if(aH)continue;var a2=A.N8();a2.v4((kp=="U"?"<Group>":"<Clip Group>")+q);
if(kp=="LB")a2.v4(a.pop());a2.add.lsct=ai?kl.Sh:kl.ze;a2.ur="pass";a2.Gc=24;a2.rP(ky);A.B.push(a2);if(bd){if(A.B[A.B.length-3].getName()=="</Layer group>"){A.B.pop();
A.B.splice(A.B.length-2,1)}bd=!1}}else if(kp=="Bb")hX=dR[0]!=1;else if(kp=="BB"){}else if(kp=="Bm"||kp=="Bc"||kp=="Xm"){}else if(kp=="Bh")e4=dR.slice(2,4);
else if(kp=="Bg"){var c0=l.Setup.Gradient,aQ=c0[D(cG)],dy=cG.slice(cG.indexOf(")")+2).split(" ").map(parseFloat);
if(aQ==null){console.log("gradient not found");for(var ec in c0){aQ=c0[ec];break}}var hW=dy[10];if(isNaN(hW))hW=1;
var di=dy.slice(0,4);di.push(hW,e4[0],e4[1]);var er=[aQ.KO,aQ.acT,di,dy.slice(4,10)];b(er,"GdFl",hX)}else if(gw=="p"){var fe=D(cG);
if(A.tM[fe]==null){var eu=l.Setup.Pattern[fe],gc=eu.Mj,de=Math.round(gc[2]-gc[0]),eb=Math.round(gc[3]-gc[1]),bT=new cc;
bT.m=de;bT.e=eb;bT.buffer=d.R(de*eb*4);var iM=Q[0],gU=new jr(1,0,0,-1,-eu.Mj[0],eb+eu.Mj[1]);gU.concat(new jr(iM,0,0,iM,0,0));
Z(bT,eu.s8,[gU.U,gU.J,gU.E7,gU.sN,gU.Kc,gU.Dm],l,O,z);bT.m*=iM;bT.e*=iM;bT.RH();bT.W();if(aw==0)bT._1();
window.aen=eu.s8;A.tM[fe]=bT}var dL=cG.slice(cG.indexOf(")")+2),jS=dL.slice(0,dL.indexOf("[")-1).split(" ").map(parseFloat),iF=dL.slice(dL.indexOf("[")+1,dL.indexOf("]")).split(" ").map(parseFloat);
b([fe,[jS,iF]],"patt",kp=="p")}else if(kp=="J"||kp=="j"||kp=="w"||kp=="M"||kp=="d"){var gU=Y.ctm,iM=Math.sqrt(Math.abs(gU[0]*gU[3]-gU[1]*gU[2]));
console.log(iM);for(var N=1;N<dy.length;N++){var cr=dy[N],be=dR[N-1];if(cr=="w")G.IE=be*iM;if(cr=="j")G.nh=be;
if(cr=="J")G.vh=be;if(cr=="M")G.Xb=be;if(cr=="d"){var bt=cG.slice(cG.indexOf("[")+1,cG.indexOf("]")).trim();
if(bt.length!=0){var jP=bt.split(" ").map(parseFloat);G.hC=jP;for(var gK=0;gK<jP.length;gK++)jP[gK]*=iM}else if(bt=="")G.hC=[]}}}else if(gw=="xa"||gw=="xx"){var d8=w(cG);
b(d8,"SoCo",kp=="Xa"||kp=="Xx")}else if(gw=="xk"){d8=w(cG);b(d8,"SoCo",kp=="Xk")}else if(gw=="k"||gw=="x"){d8=w(cG);
b(d8,"SoCo",kp==gw)}else if(gw=="g"){var d8=[dR[0],dR[0],dR[0]];b(d8,"SoCo",kp==gw)}else if(gw=="n"){if(!aH)f.newPath(Y)}else if(kp=="*u"){aH=!0;
dw=0;jc.push(ew==0)}else if(kp=="*U"||gw=="s"||gw=="f"||gw=="b"){if(kp!="*U"&&aH){if(gw=="f"||gw=="b")dw|=1;
if(gw=="s"||gw=="b")dw|=2;continue}if(kp==gw)f.closePath(Y);if(kp=="*U"){aH=!1}var a2;{a2=A.N8();a2.Gc|=16;
B(a2,Y.pth,A,s);var gd=gw=="f"||gw=="b"||kp=="*U"&&dw&1,ha=gw=="s"||gw=="b"||kp=="*U"&&dw&2,f_=a2.add.vstk=cb.CY.TL(gd,ha),hK=JSON.parse(JSON.stringify(G));
hK.gl=hK.Rl=null;if(gd)hK.gl=c;if(ha)hK.Rl=e;if(aw==0){cb.CY.write(f_,hK);if(p=="SoCo"){a2.add.SoCo=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);
var d2=a2.add.SoCo.Clr.v;j(d2,c)}if(p=="GdFl"){a2.add.GdFl=dd.Ol(c,a2.add.vmsk.X)}if(p=="patt"){a2.add.PtFl=X(c,A)}if(ha){var j2=["SoCo","GdFl","patt"].indexOf(H);
console.log(H,j2);var kx=j2==0?{Clr:{t:"Objc",v:af.bP(e)}}:j2==1?dd.Ol(e,a2.add.vmsk.X):X(e,A),dp=[cb.nM,cb.Bm,cb.Z0][j2],fu=f_.strokeStyleContent.v={classID:cb.CY.gV[j2]};
for(var N=0;N<dp.length;N++)fu[dp[N]]=kx[dp[N]]}}else a2.add.vstl=hK}if(kp=="*U"&&kO){a2.ew=!0;kO=!1}a2.v4("<"+(kp=="*U"?"Compound ":"")+"Path>"+q);
a2.ur=V;a2.opacity=Math.round(255*dF);a2.rP(kp=="*U"?jc.pop():ew==0);a2.fP(A);A.B.push(a2);f.newPath(Y)}else if(kp==","&&dy[0]=="/XMLUID"){var g$=A.B[A.B.length-1];
for(var N=0;N<A.NC.length;N++)if("("+A.NC[N].docRef+")"==dy[2])A.NC[N].docRef="id('"+g$.add.lyid+"')"}else if(kp==","&&dy[1]=="/FreeUndo"){ft=dR[0]}else if(kp==","&&dy[1]=="/StoryIndex"){var gh=l.Setup.TextDocument,cd=null;
if(!(gh instanceof Array))window.al9=gh=l.Setup.TextDocument=T(gh,z);var kM=gh[0],dJ=gh[2];if(kM._DocumentResources)kM=gh[0]=iW.afV(kM);
else iW.aCy(kM);var a2=A.N8();a2.add.lnsr="rend";a2.add.TySh=gV.V1(0,0);var jj=dR[0];if(ft==1){for(var N=1;
N<60;N++){var iG=W[iB+N];if(iG&&iG.endsWith("/StoryIndex ,")){jj=parseFloat(iG.slice(2,iG.indexOf(" ")));
bd=!0;break}}ft=0}var j4=ak.adE(kM),fx=a2.add.TySh.Ax=j4[jj];if(fx==null){console.log("text not found");
bd=!1;continue}a2.v4(gV.qO(fx).slice(0,50));a2.ur=V;a2.opacity=Math.round(255*dF);a2.rP(ew==0);var g1=kM._1._1[jj]._1._0[0]._0;
g1=parseInt(g1.slice(1));var dG=kM._0._8._0,dO=dG[g1]._0;if(dO._0)cd=g(dO._0);else if(dO._1)cd=g(dO._1._0);
else cd=g(dO._2._2).slice(3);if(cd.length!=2){var gc=d.A.n7(cd);cd=[gc.x,gc.y];if(gc.P()!=0){gV.qz(fx,1);
gV.fF(fx,[0,0,Math.round(gc.m),Math.round(gc.e)])}}var kG=new jr,dM=new jr(1,0,0,1,cd[0],cd[1]),an=new jr(1,0,0,1,-dJ[0],-dJ[1]),du=R(Y.ctm),g8=new jr;
if(dO._2&&dO._2._2){var Q=g(dO._2._2);g8=new jr(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}kG.concat(dM);kG.concat(g8);
kG.concat(an);kG.scale(1,-1);kG.concat(du);a2.add.TySh.u=kG;A.B.push(a2);A.kc=!0}else if(kp=="Tp"){U.dX=R(dR)}else if(kp=="Tf"){U.font=dy[0].slice(2)}else if(kp=="Tk"){var a2=A.N8();
a2.add.lnsr="rend";var je=a2.add.TySh=gV.V1(0,0),fx=je.Ax,gU=U.dX.clone(),cO=gU.ul();gU.concat(R(Y.ctm));
var gv=new jr(1/cO,0,0,-1/cO,0,0);gv.concat(gU);je.u=gv;var aM=D(cG);a2.v4(aM);gV.Y8(fx,0,aM);var gL=gV.c$(fx,0,aM.length);
gL.na.FontSize=cO;gL.na.FillColor={Type:1,Values:[1,c[0],c[1],c[2]]};gV.Wn(gL,U.font);gV.gR(fx,0,aM.length,gL);
A.B.push(a2);A.kc=!0}else if(K&&dR.length>3){var e2=!1;for(var N=0;N<dR.length;N++)if(isNaN(dR[N]))e2=!0;
if(!e2)W[iB+1]=(cG+" "+W[iB+1]).replace(/\s\s+/g," ")}}}function X(c,A){if(A.qk==null)A.qk={};var W=A.qk[c[0]];
if(W==null){var Q=A.tM[c[0]],W=A.qk[c[0]]={};W.id=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f";W.name="someImage";
W.Gi=[Q.eA(),new ir(0,0,Q.m,Q.e)];A.w4(W)}var l=JSON.parse(cb.Dn[cb.order.indexOf("patternFill")]);l.Ptrn.v.Idnt.v=W.id;
var O=R(c[1][1]),z=-Math.atan2(-O.J,O.U);l.Angl.v.val=Math.round(z*180/Math.PI);l.Scl.v.val=Math.round(100*O.ul());
return l}dd.Ol=function(A,W){var Q=dd.lW(A,W),l=[0,0,1,0];if(A[0]==0)l[0]=.5;d.A.u(l,Q,l);var O=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]),z=O.Grad.v;
z.Intr.v=0;O.Type.v.GrdT=["Lnr","Rdl"][A[0]];d.L.Ll(A[1],z);d.L.FO(new eq(l[0],l[1]),new eq(l[2],l[3]),d.o.L$(W),O);
return O};dd.q5=function(A,W){var Q=["Lnr","Rdl"].indexOf(A.Type.v.GrdT),l=d.L.u3(A,W),O=l[0],z=l[1];
if(Q==0){O.x-=z.x-O.x;O.y-=z.y-O.y}var a=z.x-O.x,m=z.y-O.y,q=Math.sqrt(a*a+m*m),K=new jr;K.rotate(Math.atan2(-m,a));
K.scale(q,q);K.translate(O.x,O.y);var U=dd.VA(Q,K,W),f=A.Grad.v;U[1]=d.L.u2(f,null,null);return U};dd.VA=function(A,W,Q,l,O,z){W.translate(-Q.x,-Q.y);
var a=Q.m,m=Q.e,U,f,G,V=1;if(l){var q=eq.oG(l,O),K=new jr;K.scale(q,q);K.rotate(-Math.atan2(O.y-l.y,O.x-l.x));
K.translate(l.x,l.y);K.concat(W);W=K}var Y=Math.atan2(-W.J,W.U);if(A==0){W.translate(-a/2,-m/2);var dF=dd.ati(a,m,Y);
W.scale(1/dF,1/dF);W.rotate(-Y);W.scale(1/a,1/m);U=W.Kc+.5;f=W.Dm+.5;G=W.U}else{U=W.Kc/a-.5;f=W.Dm/m-.5;
var s=(U-.5)*a/2,aH=(f-.5)*m/2;W=W.clone();W.rotate(-Y);G=W.U/Math.sqrt(2*(s*s+aH*aH));V=W.sN/W.U}var dw=[A,null,[U,f,Y*180/Math.PI,G,V,0,0],[1,0,0,1,0,0]];
if(l&&!z.rT(l)){var Y=Math.atan2(-(z.y-l.y),z.x-l.x);dw[2][5]=Y*180/Math.PI;dw[2][6]=eq.oG(z,l)/eq.oG(O,l)}return dw};
dd.lW=function(A,W){var Q=A[0],l=A[2],O=A[3],z=new jr(O[0],O[1],O[2],O[3],O[4],O[5]);z.Ub();var a=jN.pU.MD(W);
d.o.dg(a,z);var m=d.o.L$(a),q=m.m,K=m.e,U=l[0],f=l[1],Y=l[2]*Math.PI/180,G=l[3],V=new jr;if(Q==0){V.scale(G,G);
V.translate(U-.5,f-.5);V.scale(q,K);V.rotate(Y);var dF=dd.ati(q,K,Y);V.scale(dF,dF);V.translate(q/2,K/2)}else{var s=(U-.5)*q/2,aH=(f-.5)*K/2,dF=G*Math.sqrt(2*(s*s+aH*aH));
V.scale(dF,dF*l[4]);V.rotate(Y);V.translate((U+.5)*q,(f+.5)*K)}V.translate(m.x,m.y);V.concat(new jr(O[0],O[1],O[2],O[3],O[4],O[5]));
return V};function b(A,W,Q){if(Q){p=W;c=A}else{H=W;e=A}}function k(A,W,Q){var l=UDOC.G,O=[],z=[],a="/DeviceGray",m=1,q=[],K=1;
for(var U=0;U<A.length;U++){var f=A[U];if(f.endsWith(" /CS")){var Y=f.indexOf("/NChannel"),G=f.indexOf("/Process");
if(f.startsWith("/DeviceRGB")){a="/DeviceRGB";m=3}else if(f.startsWith("/DeviceGray")){a="/DeviceGray";
m=1}else if(f.startsWith("/DeviceCMYK")){a="/DeviceCMYK";m=4;q=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(Y!=-1){a="/DeviceCMYK";
m=parseInt(f.slice(Y-2,Y-1));var V=1;for(var N=0;N<m;N++){V=f.indexOf("[",V);q[m-1-N]=f.slice(V+1,V+8).split(" ").map(parseFloat);
V++}}else if(G){a="/DeviceGray";m=1}else throw f}else if(f[0]=="["){var dF=f.indexOf("]"),s=f.slice(1,dF).split(" ").map(parseFloat),aH=f.slice(dF+2),dw,kO,hX,jF,gn,hM;
if(aH=="/Size"||aH=="/P"||aH=="/R")continue;if(aH=="/S"||aH=="/A"){dw=s[0];kO=s[1];hX=s[2];jF=s[3];gn=s[4];
hM=s[5]}else if(aH=="/N"){var ie=m+(K==1?0:1),bN;dw=s[ie+0];kO=s[ie+1];hX=s[ie+2];jF=s[ie+3];gn=s[ie+5];
hM=s[ie+6];if(a=="/DeviceRGB")bN=s.slice(0,3);else if(a=="/DeviceGray")bN=[s[0],s[0],s[0]];else if(a=="/DeviceCMYK"){var kd=[0,0,0,0];
for(var N=0;N<m;N++){var i7=s[N],dn=q[N];kd[0]+=i7*dn[0];kd[1]+=i7*dn[1];kd[2]+=i7*dn[2];kd[3]+=i7*dn[3]}bN=t(kd)}else throw bN;
bN.push(s[m]);z.push([bN,dw,kO])}else throw aH;O.push([aH,gn,hM,dw,kO,hX,jF])}else if(f=="/E"){var ew=O.slice(0),e4=0;
for(var N=0;N<O.length;N++){var eE=O[N][0];if(eE=="/N"){e4++;continue}var jc=N,ft=N+1;while(O[ft][0]!="/N"&&ft<O.length)ft++;
if(e4==0||e4==3){for(var bd=0;bd<ft-jc;bd++)ew[jc+bd]=O[ft-1-bd]}else for(var bd=jc;bd<ft;bd++){var iB=ew[bd],cG=iB[1];
iB[1]=iB[5];iB[5]=cG;cG=iB[2];iB[2]=iB[6];iB[6]=cG}N=ft-1}O=[];for(var N=0;N<ew.length;N++){var iB=ew[N];
O.push(iB[1],iB[2],iB[3],iB[4],iB[5],iB[6])}var bT=O.length;l.moveTo(W,O[2],O[3]);for(var N=0;N<bT;N+=6){var hX=O[(N+4)%bT],jF=O[(N+5)%bT],gn=O[(N+6)%bT],hM=O[(N+7)%bT],dw=O[(N+8)%bT],kO=O[(N+9)%bT];
l.curveTo(W,hX,jF,gn,hM,dw,kO)}l.closePath(W);O=[]}else if(f.endsWith("/Version"))K=parseFloat(f[0])}var g$=Q.N8();
g$.Gc|=16;g$.v4("<Mesh>");var hU=g$.add.vstk=cb.CY.TL(!0);if(z.length>=2){var ah=0,co=0,im=0;for(var N=0;
N<z.length;N++)for(var bd=N+1;bd<z.length;bd++){var hb=z[N][0],dI=z[bd][0],bw=hb[0]-dI[0],fb=hb[1]-dI[1],iG=hb[2]-dI[2],dy=Math.sqrt(bw*bw+fb*fb+iG*iG);
if(dy>im){im=dy;ah=N;co=bd}}var kp=z[ah],gw=z[co],dR=g$.add.GdFl=JSON.parse(cb.Dn[cb.order.indexOf("GrFl")]),fT=dR.Grad.v;
fT.Intr.v=0;dR.Type.v.GrdT="Lnr";d.L.Ll([[0,kp[0]],[1,gw[0]]],fT);var gA=R(W.ctm),by=gA.dl(new eq(kp[1],kp[2])),fv=gA.dl(new eq(gw[1],gw[2])),d4=d.A.n7(W.pth.crds);
by.x=(by.x+fv.x)/2;by.y=(by.y+fv.y)/2;d.L.FO(by,fv,d4,dR)}B(g$,W.pth,Q,0);Q.B.push(g$);l.newPath(W)}function D(A){var W=A.indexOf(")");
while(A[W-1]=="\\")W=A.indexOf(")",W+1);return A.slice(A.indexOf("(")+1,W).replaceAll("\\","")}function j(A,c){A.Rd.v=c[0]*255;
A.Grn.v=c[1]*255;A.Bl.v=c[2]*255}function g(A){var W=[];for(var N=0;N<A.length;N++)W[N]=parseFloat(A[N].slice(1));
return W}function R(A){return new jr(A[0],A[1],A[2],A[3],A[4],A[5])}function t(A){return d.D5(A.slice(0,4)).slice(0,3)}function w(A){var W=A.split(" "),Q=W[W.length-1],l=Q.toLowerCase(),O=W.map(parseFloat),z=null;
if(l=="xa"||l=="xx"||l=="xz"){var z=O[4]==null?O.slice(0,3):[O[4],O[5],O[6]];if(l=="xx"&&O[O.length-2]==2)z=t(O)}else if(l=="g")z=t([0,0,0,1-O[0]]);
else if(l=="x"||l=="k"){if(l=="x"){O.pop();var a=1-O.pop();for(var N=0;N<4;N++)O[N]*=a}z=t(O)}else if(l=="xk"){var m=O[O.length-2],q=O[O.length-3];
if(m==0)z=t(O);else if(m==1){z=[O[4],O[5],O[6]];for(var N=0;N<3;N++)z[N]=q*1+(1-q)*z[N]}else throw A}else throw l;
return z}function B(A,W,Q,l){A.add.vmsk=new jN.pU;if(W.crds.length!=0)A.add.vmsk.X=$(W);A.add.vmsk.O0=l;
A.m5();A.fP(Q)}function $(A){var W={j:A.crds,G:A.cmds},Q=d.A.V2(W,!1);return Q}function o(A,W){var Q=[],U=0,V=0;
for(var l=0;l<2;l++){var O=W[["Raster","Place"][l]];if(O==null)continue;for(var N=0;N<O.length;N++){for(var z=0;
z<3;z++){var a=O[N][["Data","Document","PlacedObjectPreview"][z]];if(a==null)continue;var m=a._begin,q=a._end;
if(m>q)m=q;Q.push([m,q])}}}Q.sort(function(s,aH){return s[0]-aH[0]});var K=[W._begin];for(var N=0;N<Q.length;
N++){var f=Q[N],m=f[0]+32;K.push(m,f[1]);U+=f[1]-m}K.push(W._end);var Y=W._end-W._begin,G=new Uint8Array(Y-U);
for(var N=0;N<K.length;N+=2){var m=K[N],dF=K[N+1]-m;G.set(new Uint8Array(A.buffer,m,dF),V);V+=dF}return _.Uw(G).split(/\r\n|\r|\n/)}function T(A,W){if(A==null)return[];
var Q=o(W,A),l="",O="",z=0,a;for(var N=2;N<Q.length;N++){var m=Q[N];if(m[0]=="%"){if(z==0)l+=m.slice(1);
else O+=m.slice(1)}else if(m==";")z++;else if(m.endsWith("/RulerOrigin ,"))a=m.split(" ").slice(0,2).map(parseFloat)}var q=[l,O],K=[];
for(var N=0;N<2;N++){var U=q[N],f=new Uint8Array(U.length);_.bv(f,0,U);var Y=FromPS.F.ASCII85Decode({buff:f,off:0}),G=i9.ux(Y);
K.push(G)}K.push(a);return K}function i(A,W){if(A==null)return[];var Q=o(W,A);Q=Q.slice(1);for(var N=0;
N<Q.length;N++){var l=Q[N];if(l[0]=="%")Q[N]=l.slice(l[1]=="_"?2:1)}var O=L(Q);return O}function r(A){var W=[];
n(A,W);for(var N=0;N<W.length;N++)W[N]="%_"+W[N];return W}function I(A,W){var Q={};if(A==null)return Q;
for(var N=0;N<A.length;N++){var l=o(W,A[N]),O=l[1],z=D(O),a=O.slice(O.lastIndexOf(")")+2).split(" ").map(parseFloat),m=[];
for(var q=2;q<l.length;q++)m.push(l[q].slice(2));Q[z]={Mj:a,s8:m}}return Q}function M(A,W){var Q=[],O,z;
if(A==null)return Q;var l=o(W,A);for(var N=1;N<l.length;N++){var a=l[N];if(a=="0 0 Pb"||a=="PB"||a==""){}else if(a.endsWith("Xa")||a.endsWith("Xz")||a.endsWith("Xx")||a.endsWith("Xk")||a.endsWith(" k")||a.endsWith(" g")||a.endsWith(" x"))O=[0,w(a)];
else if(a.endsWith("Xs"))O=[0,[0,0,0]];else if(a.endsWith("Bg"))O=[1,D(a)];else if(a.endsWith("Pg"))O=[2,D(a)];
else if(a[0]=="(")z=D(a);else if(a=="Pc")Q.push([z,O]);else if(a=="0 BB"||a=="Bb"||a.endsWith("Bh")){}else throw a}return Q}function J(A,W){var Q={},l,O;
if(A==null)return Q;var z=[];for(var N=0;N<A.length;N++){var a=o(W,A[N]);for(var m=0;m<a.length;m++){var q=a[m];
if(q.endsWith("%_Bs")){var K=q.slice(0,q.length-4);if(!K.endsWith(" "))K+=" ";q=K+"%_BS"}if(q[0]=="("){l=D(q);
var U=q.split(")"),f=U[1].split(" ");O=parseInt(f[1])}else if(q.endsWith("%_BS")){var U=q.split(" "),dF,s=1;
U.pop();U=U.map(parseFloat);var Y=U.pop(),G=U.pop(),V=U.pop();if(V==0)dF=[U[0],U[0],U[0]];else if(V==2||V==4)dF=[U[4],U[5],U[6]];
else if(V==1||V==3)dF=t(U);else if(V==6){if(U.length==3)dF=[U[0],U[0],U[0]];else if(U.length>=8)dF=U.slice(4,7);
else dF=t(U);s=U.pop()}else{throw V}z.push([Y/100,dF,s,G/100])}else if(q=="BD"){for(var aH=0;aH<z.length-1;
aH++)z[aH][3]=z[aH+1][3];z.sort(function(dw,kO){return dw[0]-kO[0]});Q[l]={KO:O,acT:z};z=[]}}}return Q}function P(A){var W="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),Q=Date.now(),l=0,O=[],z={Header:{}},a=[z],m=A.length;
while(l<m){var q=l;while(q!=m&&A[q]!=13&&A[q]!=10){q++}if(A[l]==37&&A[l+1]==95&&A[l+2]==37)l+=2;if(A[l]==37&&(A[l+1]==37||A[l+1]==65)){var K=_.xY(A,l,q-l);
if(K=="%%EOF")break;if(K=="%%EndComments"||K=="%EndComments"||K=="%AI5_Begin_NonPrinting"||K=="%AI5_End_NonPrinting--"||K.startsWith("%AI17_Begin_Content_if_version_gt")||K=="%AI17_End_Versioned_Content"){}else{var U=K.indexOf("Begin"),f=Math.max(K.indexOf("_End"),K.indexOf("%End"));
if(U!=-1&&K[U-1]!="%"&&K[U-1]!="_")U=-1;if(U!=-1){var Y=K.slice(U+5).split(":")[0],G={_begin:l,_end:l},V=a[a.length-1];
if(W.indexOf(Y)!=-1){if(V[Y]==null)V[Y]=[];V[Y].push(G)}else{if(V[Y]!=null){console.log(a);throw K}V[Y]=G}a.push(G);
if(K.startsWith("%%BeginData")){q=_.h6(A,"%%EndData",l)}else if(K.slice(0,15)=="%%BeginDocument")q=_.h6(A,"%%EndDocument",q);
else if(K=="%AI9_BeginDocumentData")q=_.h6(A,"%AI9_EndDocumentData",q);else if(K=="%AI11_BeginTextDocument")q=_.h6(A,"%AI11_EndTextDocument",q)}else if(f!=-1){if(a.length>1)a.pop()._end=l}else if(a.length==1&&(K.startsWith("%AI")||K.startsWith("%%")&&K.indexOf(" ")!=-1)){var dF=1;
if(K.startsWith("%AI"))while(K[dF]!="_"&&dF<K.length)dF++;var s=K.indexOf(":");if(s==-1)s=K.indexOf(" ");
var aH=K.slice(dF+1,s),dw=K.slice(s+1).trim();z.Header[aH]=dw}}}l=q;if(A[l]==13)l++;if(A[l]==10)l++}return z}function n(A,W){if(A instanceof Array)for(var N=0;
N<A.length;N++)n(A[N],W);else if(typeof A=="object"){for(var Q in A){var l=A[Q];if(typeof l=="number")W.push(l+" /Int ("+Q+") ,");
else if(typeof l=="string")W.push("("+l+") /String ("+Q+") ,");else if(l instanceof Array){W.push("/Array :");
n(l,W);W.push("; ("+Q+") ,")}else if(typeof l=="object"){W.push("/Dictionary :");n(l,W);W.push("; ("+Q+") ,")}}}}function x(A,W){for(var N=0;
N<W.length;N++)if(A.startsWith(W[N]))return!0;return!1}function L(A){var W=[],Q=[],top=-1,l,O=null,z=null,a=null,m=0;
for(var q=0;q<A.length;q++){var K=A[q];if(l){K=l+K;l=null}var U="\t".repeat(W.length);if(O!=null){O.push(K);
if(K.endsWith("~>")){var f=_.vx(O.join("")),Y=FromPS.F.ASCII85Decode({off:0,buff:f});W.push(Y);Q.push(!1);
top++;O=null}}else if(a!=null){if(K=="X+"){if(m==1){W.push(a);Q.push(!1);top++;a=null}else m--}else if(K=="X=")m++;
else a.push(K)}else if(z!=null){if(K=="/Def ; "){W.push(z);Q.push(!1);top++;z=null}else z.push(K)}else if(K=="/Binary : /ASCII85Decode ,"){O=[]}else if(K=="X="){a=[];
m++}else if(K=="/FillStyle : 0 O"){z=["0 O"]}else if(K=="/SVGFilter :"||K=="; /Def ;")continue;else if(K.startsWith("/XMLUIDREF :")){var G=u(K);
W[top][G[4]]=G[2]}else if(K.startsWith("/")&&K[1].toUpperCase()!=K[1].toLowerCase()){if(K.startsWith("/XMLUID")){var G=u(K);
if(Q[top])throw"e";W[top][G[4]]=G[2]}if(K.startsWith("/GObjRef")){var G=u(K);if(G.length==7){if(Q[top])throw"e";
W[top][G[5]]=G[2]}else{if(!Q[top])throw"e";W[top].push(G[2])}}else{var V=K.startsWith("/Array")||K.startsWith("/Document");
W.push(V?[]:{});Q.push(V);top++}}else if(K.endsWith(",")){var dF,s,G=u(K);G.pop();if(G[0]==";"||G.length==1||K==" ,"){s=W.pop();
Q.pop();top--;dF=Q[top]?null:G.pop()}else{dF=Q[top]?null:G.pop();var aH=G.pop(),dw=G[0];if(aH=="/Int")s=parseInt(dw);
else if(aH=="/Real")s=parseFloat(dw);else if(aH=="/Bool")s=dw=="1";else if(aH=="/String"||aH=="/UnicodeString")s=G.join("");
else if(aH=="/RealMatrix"||aH=="/RealPoint"||aH=="/RealPointRelToROrigin")s=G.map(parseFloat);else throw aH}if(Q[top])W[top].push(s);
else W[top][dF]=s}else if(K==";"){}else if(K==""){}else{if(K.indexOf("/RealPoint")!=-1){}else if(K.startsWith("(")&&K.endsWith(")")){}else if(K.endsWith("/RealMatrix")){}else throw K;
l=l?l+K:K}}return W}function u(A){var W=0,Q=[];while(W<A.length){var l=A[W],O=l.charCodeAt(0);if(l==" ")W++;
else if(l==","||l==";"||l==":"){Q.push(l);W++}else if(l=="("){var z=W+1;while(!(A[z]==")"&&(A[z-1]!="\\"||A[z-2]=="\\")))z++;
var a=A.slice(W+1,z);Q.push(a);W=z+1}else if(l=="/"||l=="-"||48<=O&&O<=57){var z=W;while(A[z]!=" ")z++;
Q.push(A.slice(W,z));W=z}else throw l}return Q}function C(A){var W="";for(var N=0;N<A.length;N++){if(A[N]=="_"&&A[N+1]=="x"){var j1=parseInt(A.slice(N+2,N+4),16);
W+=String.fromCharCode(j1);N+=4}else if(A[N]=="_")W+=" ";else W+=A[N]}return W}function h(A){var W="xmlnode-nodename",Q="xmlnode-nodevalue",l="xmlnode-attributes",O="xmlnode-children",z=A[W].split(":").pop().replace("#",""),a=A[l],m=A[O],q="<"+z;
for(var K in a)if(K!="xmlns"&&K!="xmlns:v")q+=" "+K.split(":").pop()+"=\""+a[K][Q]+"\"";q+=">"+(m.length==0?"":"\n");
for(var N=0;N<m.length;N++)q+=h(m[N]);if(A[Q])q+=A[Q];return q+"</"+z+">\n"}return E}();dd.ati=function(E,y,c){var e=d.A.S6(new ir(0,0,E,y)).j,p=new jr;
p.rotate(c);d.A.u(e,p,e);var H=d.A.n7(e);return H.m/E};dd.auI=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
dd.iF=function(){function E(g){var R=72/g.$c,t=new jr(R,0,0,-R,0,0),w=g.root.children,B=[],$={UM:[],a3A:0},o=16383,f=0,G=0;
for(var N=0;N<w.length;N++)Z(w[N],g,t,$,B,0);var T=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+o+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
T.push("%%BeginSetup\r");T=T.concat($.UM);for(pn in g.tM){var i=g.tM[pn],r=g.$c/72;T.push("%AI3_BeginPattern: ("+pn+")");
T.push("("+pn+") 0 0 "+Math.round(i.m/r)+" "+Math.round(i.e/r));var w=i.root.children,I=[];for(var N=0;
N<w.length;N++)Z(w[N],i,t,$,I,1);I=window.aen;for(var N=0;N<I.length;N++){var M=I[N];T.push(M.startsWith("%_")?M:"%_"+M)}T.push("E","%AI3_EndPattern");
console.log(R);console.log(i)}T=T.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var J=g.add.arts;for(var N=0;N<J.length;N++){var P=J[N];console.log(P);var n=P.Mj[0]*R,x=-P.Mj[1]*R,L=P.Mj[2]*R,u=-P.Mj[3]*R;
T.push("/Dictionary :","("+P.p2+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",o/2+" "+o/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",c(n)+" "+c(x)+" /RealPointRelToROrigin"," (PositionPoint1) ,",c(L)+" "+c(u)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}T=T.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var C=[],h=[];for(var N=0;N<g.B.length;N++){var A=g.B[N],W=A.add.TySh;if(W){C.push(W.Ax);h.push(W)}}if(C.length!=0){var Q=ak.ado(C,null,null);
function l(P){return P.map(function(V){return"f"+V})}for(var O=0;O<C.length;O++){var W=h[O],z=Q._1._1[O],a=z._1._0[0]._0;
a=parseInt(a.slice(1));var m=Q._0._8._0[a]._0,q=W.u.clone();q.concat(t);q.scale(1,-1);m._2._2=l([q.U,q.J,q.E7,q.sN,q.Kc,q.Dm])}var K=y(Q),U=y(Q);
T.push("%AI11_BeginTextDocument");T.push("/AI11TextDocument : /ASCII85Decode ,");T=T.concat(K);T.push("0.0001 0.0001 /RulerOrigin ,");
T.push(";");T.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");T=T.concat(U);T.push(";");T.push("%AI11_EndTextDocument")}T.push("%%EndSetup\r");
T=T.concat(B);console.log(T.join("\n"));T.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var N=0;N<T.length;N++){var P=T[N];if(typeof P=="string")P=T[N]=_.vx(P);f+=P.length+1}var Y=new Uint8Array(f);
for(var N=0;N<T.length;N++){var P=T[N];Y.set(P,G);G+=P.length;Y[G]=13;G++}return fJ.awc(Y).buffer}function y(g){var R=new ek,t=i9.sa(g,R)-2,w=j(R.data.slice(0,t)),B=[];
for(var $=0;$<w.length;$+=100){if(w.length-$<103){B.push("%"+w.slice($));break}B.push("%"+w.slice($,$+100))}return B}function c(j1){return j1.toFixed(3)}function e(g,R){var t=g.getName(),w=null;
R.push("%_/ArtDictionary :");if(g.add.vmsk)w=g.add.vmsk.p9;if(g.add.SoLd){var B=d.r.ij(g.add.SoLd);w=Math.atan2(-B.J,B.U)}if(g.add.TySh){var B=g.add.TySh.u;
w=Math.atan2(-B.J,B.U)}if(w!=null&&w!=0)R.push("%_("+w+") /String (BBAccumRotation) ,");if(g.add.TySh)R.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!t.startsWith("<")&&!t.endsWith(">")){R.push("%_/XMLUID : "+p(t)+" ; (AI10_ArtUID) ,")}R.push("%_;","%_")}function p(g){var R="";
for(var N=0;N<g.length;N++){var t=g[N],w=g.charCodeAt(N);if(t==" ")R+="_";else if(t=="."||t==":"||t=="-"||48<=w&&w<=57||65<=w&&w<=90||97<=w&&w<=122||127<w)R+=t;
else R+="_x"+w.toString(16).toUpperCase()+"_"}return"("+R+")"}function H(g,R,t){t.push(c(g[0])+" "+c(g[1])+" "+c(g[2])+" "+R)}function Z(g,R,t,w,B,$){var o=g.a;
if($!=0)B.push((o.OQ()?0:1)+" Xw");if(o.uY()){var T=!1;for(var N=0;N<g.children.length;N++)if(g.children[N].a.ew)T=!0;
var i=o.add.lsct==kl.Sh?1:0;if($==0){B.push("%AI5_BeginLayer");B.push((o.OQ()?1:0)+" 1 1 1 0 0 -1 51 44 43 Lb");
B.push("("+o.getName()+") Ln");B.push(i+" AE");e(o,B)}else{B.push(i+" Ae");B.push(T?"q":"u")}for(var N=0;
N<g.children.length;N++)Z(g.children[N],R,t,w,B,$+1);if($==0)B.push("LB","%AI5_EndLayer--");else{B.push(T?"Q":"U");
e(o,B);X(o,B);B.push("0 0 Xd","6 () XW")}}else{X(o,B);var r=o.add.TySh,I=o.add.vmsk;if(r){B.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",w.a3A+" /StoryIndex ,");
if(gV.VY(r.Ax)==1){var M=gV.kq(r.Ax),J=d.A.S6(new ir(M[0],M[1],M[2],M[3])).j;d.A.u(J,r.u,J);d.A.u(J,t,J);
B.push("/Art :","X=","1 Ap",J[0]+" "+J[1]+" m",J[2]+" "+J[3]+" L",J[4]+" "+J[5]+" L",J[6]+" "+J[7]+" L",J[0]+" "+J[1]+" L","n","X+","; /ConfiningPath ,")}B.push("2 /TextAntialiasing ,",";");
w.a3A++}else if(o.add.SoLd){var P,n,x,L=o.add.SoLd,u=L.Idnt.v,C=R.oY(u,L.Crop?L.Crop.v:null),h=C.ed,P=h[0],n=h[1];
x=d.r.ij(L);var A=new jr(1,0,0,-1,0,0);A.concat(x);A.concat(t);var W=n.P(),Q=n.m,l=n.e,O=d.R(W*4+8);
for(var N=0;N<W;N++){var z=N*4,a=N*3;O[a]=P[z];O[a+1]=P[z+1];O[a+2]=P[z+2];O[3*W+N]=P[z+3]}_.bv(O,W*4,"%EndData");
B.push("%AI5_File:","%AI5_BeginRaster","[ "+[A.U,A.J,A.E7,A.sN,A.Kc,A.Dm].map(c).join(" ")+" ] 0 0 "+[Q,l,Q,l].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(W*4+4),"XI",O,"XH","%AI5_EndRaster","N")}else if(I){var m=o.add.vstk,q=o.add.vstl,K,U;
if(q){K=q.gl;U=q.Rl}var f=d.o.a0(I.X)>1;if(f)B.push("*u","0 Xw");if(K){if(K.length==3)H(K,"Xa",B);else if(K.length==4){var Y=k(K,w);
B.push("Bb",Y,"2 BB")}else{B.push("("+K[0]+") "+K[1][0].join(" ")+" ["+K[1][1].join(" ")+"] p")}}if(U){var G=t.ul(),V=q.hC.slice(0);
for(var N=0;N<V.length;N++)V[N]*=G;B.push(q.vh+" J "+q.nh+" j "+q.IE*G+" w "+c(q.Xb)+" M ["+V.join(" ")+"]0 d");
if(U.length==3)H(U,"XA",B);else if(U.length==4){var Y=k(U,w);B.push("1 Bb",Y,"2 BB")}else{B.push("("+U[0]+") "+U[1][0].join(" ")+" ["+U[1][1].join(" ")+"] P")}}var dF=d.A.Pw(I.X,1);
d.A.u(dF.j,t,dF.j);var s=o.ew?"h\nW\nn":K&&U?"b":K?"f":"s";b(dF,s,I.O0,B);if(f)B.push("*U")}e(o,B)}}function X(g,R){var t=dd.auI.indexOf(g.ur);
if(t==-1)t=0;R.push(t+" "+c(g.opacity/255)+" 0 0 0 Xy")}function b(g,R,t,w){w.push(t+" XR");var B=0;
for(var $=0;$<g.G.length;$++){var o=g.G[$],T,i=0,r="";if(o=="M"){i=2;T="m"}if(o=="L"){i=2;T="l"}if(o=="C"){i=6;
T="c"}for(var N=0;N<i;N++)r+=c(g.j[B+N])+" ";B+=i;if(i!=0)w.push(r+T);if($==g.G.length-1||g.G[$+1]=="M"){w.push(o=="Z"?R:R.toUpperCase())}}}function k(g,R){var t=D(g,R),w="";
if(g[0]==1)w="0 0 "+g[2].slice(5).map(c).join(" ")+" Bh\n";return w+"1 ("+t+") "+g[2].slice(0,4).map(c).join(" ")+" "+g[3].map(c).join(" ")+" "+c(g[2][4])+" Bg"}function D(g,R){var t=g[0],w=g[1].slice(0),B="grd"+R.UM.length;
R.UM.push("%AI5_BeginGradient: ("+B+")","("+B+") "+t+" "+w.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(t==0)w=w.reverse();for(var N=0;N<w.length;N++){var $=w[N],o=d.jS($[1]),T=o.concat($[1]).map(c).join(" ")+" 2 "+c($[2])+" 6 50 "+c($[0]*100);
R.UM.push(T+" %_BS");R.UM.push("%_"+T+" Bs")}R.UM.push("BD","%AI5_EndGradient");return B}function j(g){var R=[85*85*85*85,85*85*85,85*85,85,1],t="",w=g.length,B=new Uint8Array(4),$=new Uint32Array(B.buffer);
for(var N=0;N<w;N+=4){var o=w-N;B[3]=g[N];B[2]=o>1?g[N+1]:0;B[1]=o>2?g[N+2]:0;B[0]=o>3?g[N+3]:0;var T=$[0],i=1+Math.min(4,o);
for(var r=0;r<i;r++){var I=Math.floor(T/R[r]);t+=String.fromCharCode(33+I);T-=I*R[r]}}return t+"~>"}return E}();
function iv(){}iv.ux=function(){var E,y,c,e,p,$,o,T;function H(A){return _.Wv(E,A)}function Z(A){return _.iH(E,A)}function X(A){return _.gT(E,A)}function b(A){return _.ZE(E,A)}function k(A,W){var Q=[];
for(var N=0;N<W;N++)Q.push(X(A+N*4));return Q}function D(A,W){var Q=[];for(var N=0;N<W;N++)Q.push(H(A+N*8));
return Q}function j(A){return X((A+1)*4096-12)}function g(A){return X((A+1)*4096-8)}function R(A,y,W,Q){if(e[A]==null)e[A]=[];
e[A].push([Q,new Uint8Array(E.buffer,y,W)])}function t(A,W,Q,l){var O=c[A],y=O*4096;y=y+X(y+4096-24-12-W*4);
var z=Z(y),a=E[y+2],m=E[y+3];if(W!=a)throw a;if(m==0)R(l,y+4,Q,9);else{var q=Z(y+6),K=X(y+8);R(l,y+12,z-12,9);
t(K,q,Q-(z-12),l)}}function w(){var A=X(352),W=X(A*4096+128),Q=X(936);c=[];e={};p={};for(var N=0;N<1e9;
N++){var l=X(Q*4096+128+N*4);if(l==0)break;var O=k(l*4096+128,4096-128-12>>>2);c=c.concat(O)}for(var z=0;
z<c.length;z++){var a=c[z],m=j(a);if(m!=6)continue;var y=a*4096,q=X(y);y+=4;for(var N=0;N<q;N++){var K=X(y);
y+=4;var U=X(y);y+=4;var f=X(y);y+=4;var Y=X(y);y+=4;if(K==0)p[U]=f;else{var G=f&65535,V=f>>>16;if(V==0)R(U,Y*4096,G,8);
else t(Y,V,G,U)}}}var $={};for(var dF in e){var s=e[dF],aH=s.length;if(aH==1)$[dF]=s[0][1];else{var dw=0,y=0;
for(var N=0;N<aH;N++)dw+=s[N][1].length;var kO=$[dF]=new Uint8Array(dw);for(var N=0;N<aH;N++){kO.set(s[N][1],y);
y+=s[N][1].length}}}return $}function B(y,A){var W=A?X(y):Z(y),Q="";y+=A?4:2;while(Q.length<W){var l=E[y++],O=E[y++],z=0,a="";
l+=(O&15)*256;O=O&240;for(var N=0;N<l;N++){if(O==64)z=E[y++];else if(O==128)z=E[y++]|E[y++]<<8;else throw O;
a+=String.fromCharCode(z)}Q+=a}return[Q,y]}function i(y,A,W){var Q=k(y,A);for(var N=0;N<A;N++){W.push(N);
if(Q[N]>o)throw"e";Q[N]=I(Q[N],W);W.pop()}return Q}var r={};function I(A,W){if(T.indexOf(A)!=-1)return $[A];
if(A==0)return null;if($[A]==null)return null;if(!($[A]instanceof Uint8Array))return $[A];var Q=E,y=0;
E=$[A];T.push(A);var l=p[A].toString(16),O=$[A]={_type:h[l]?h[l]+":"+l:"typ-"+l,_eid:A};while(y+8<E.length){var z=X(y);
y+=4;var a=z.toString(16),m=X(y);y+=4;var q=y+m;if(y+m>E.length){O._bin=E;break}M(a,x,O,y,m,W);y=q}E=Q;
T.pop();return O}function M(A,W,Q,y,l,O){var z=W[A+":"+Q._type];if(z==null)z=W[A];O.push(z?z[0]==""?A:z[0]:A);
if(z){var a=z[0],m=null,q=z[1];if(a=="")a=q+"-"+A;if(u[q]&&l!=u[q]){console.log(q);console.log(A,z);
console.log(E.slice(y,y+l));throw"e"}if(q=="mat")m=D(y,6);else if(q=="mmat")m=[I(X(y),O),D(y+6,6)];else if(q=="rect")m=D(y,4);
else if(q=="mrct"){m=D(y,4);m.push(Z(y+32))}else if(q=="doub")m=H(y);else if(q=="pointArr"){var K=Z(y);
m=k(y+2,K*2)}else if(q=="usrt")m=Z(y);else if(q=="uint")m=X(y);else if(q=="pntr"||q=="ptr6"){m=I(X(y),O)}else if(q=="bool2"){if(Z(y)!=0&&Z(y)!=1)throw Z(y);
m=Z(y)==1}else if(q=="bool4"){if(X(y)!=0&&X(y)!=1)throw A+","+X(y);m=X(y)==1}else if(q=="color"){if(l!=38&&l!=30)throw l;
var U=X(y),f=Z(y+4);m=[U];for(var N=0;N<f;N++)m.push(H(y+6+N*8))}else if(q=="path"){var Y=y+l;m=[];var G=X(y);
y+=4;for(var N=0;N<G;N++){var V=[[]];m.push(V);var dF=X(y);y+=4;for(var s=0;s<dF;s++){var U=X(y);y+=4;
if(U<2){V[0].push([U,H(y),H(y+8),H(y+16),H(y+24),H(y+32),H(y+40)]);y+=48}else if(U==2){V[0].push([U,H(y),H(y+8)]);
y+=16}else throw U}V.push(Z(y));y+=2}}else if(q=="ptrAndList"){var aH=X(y),dw=X(y+4);m=i(y+8,dw,O);m.unshift(I(aH,O))}else if(q=="ptrArray"||q=="ptrArrayX"){var kO=l>>2;
if(q=="ptrArray"){kO=X(y);y+=4;if(l!=4+kO*4)throw l}m=i(y,kO,O)}else if(q=="ptrArray2"){var kO=X(y);
y+=4;m=i(y,kO,O);y+=kO*4;kO=X(y);y+=4;m.push(i(y,kO,O))}else if(q=="cldrn"){var hX=X(y),jF=X(y+4),kO=X(y+8);
m={H:I(hX,O),jC:I(jF,O),yK:i(y+12,kO,O)};if(l!=12+kO*4){console.log(A,sa);throw"e"}if(hX==0)throw hX}else if(q=="aprnc"){var kO=X(y);
y+=4;m={};for(var N=0;N<kO;N++){var gn=X(y),hM=Z(y+4),ie=Z(y+6);y+=8;var bN=C[gn.toString(16)];if(bN==null)bN="prm-"+gn.toString(16);
else bN=n(bN);m[bN]=[];for(var s=0;s<ie;s++){var kd=X(y),i7=Z(y+4),dn=null;y+=6;if(kd==28264)dn=H(y);
else if(kd==28263)dn=X(y);else if(kd==279||kd==6917)dn=I(X(y),O);else if(kd==28261)dn=Z(y)==1;else if(kd==28265)dn=[H(y),H(y+4)];
else if(kd==6914||kd==83231)dn=B(y+3)[0];else if(kd==28259||kd==28260||kd==23094||kd==67679){dn=E.slice(y,y+i7)}else throw kd.toString(16);
m[bN].push(dn);y+=i7}}}else if(q=="lopts"){m={ap_:Z(y+0)==1,show:Z(y+2)==1,agT:Z(y+4)==1,BS:X(y+10),name:B(y+21)[0]}}else if(q=="origin"){var Y=y+l;
if(E[y++]!=1)throw"e";var K=X(y);y+=4;var ew=_.xY(E,y,K);y+=K;if(E[y++]!=1)throw"e";var e4=E[y++];if(e4!=1&&e4!=53)throw e4;
var eE=Z(y);y+=2;if(eE!=0&&eE!=1)throw eE;var jc=X(y);y+=4;if(jc!=0&&jc!=1)throw jc;var ft=X(y);y+=4;
if(ft!=0&&ft!=2&&ft!=3)throw ft;var bd=X(y);y+=4;var iB=B(y,!0);y=iB[1];iB=iB[0];var cG=X(y),bT=X(y+4);
y+=8;var g$=X(y);y+=4;if(g$!=0)throw g$;var hU=X(y);y+=4;y+=3;var ah=B(y)[0];y+=2+2+ah.length;m={file:ew,id:iB,wB:ah}}else if(q=="string")m=B(y+3)[0];
else if(q=="relEnt"){var co=Z(y);y+=2;m=[];for(var N=0;N<co;N++)m.push([X(y+N*8),I(X(y+N*8+4),O)])}else if(q=="textData"){var Y=y+l,im=X(y);
y+=4;var gn=X(y);y+=4;var f=Z(y);y+=2;var hb=[];for(var N=0;N<f;N++){var dI=X(y);y+=4;if(im==514)hb.push(B(y,!0)[0]);
else if(im==515){var bw=X(y),A=X(y+4),fb=J(y+8,O);hb.push([bw,I(A,O),fb])}else if(im==516){var bw=X(y),A=X(y+4),iG=Z(y+8),fb=J(y+8,O);
hb.push([bw,I(A,O),fb])}else hb.push(E.slice(y,y+dI));y+=dI}if(Y-y!=12)throw Y-y;m=hb}else if(q=="storyProps"){var dy=X(y);
if(Z(y+4)>1)throw"e";var kp=I(X(y+6),O),f=X(y+10),gw=I(X(y+14+f*4),O);m={akB:dy,a8J:kp,yK:i(y+14,f,O),a5L:gw,ala:k(y+14+f*4+4,4)}}else if(q=="styleProps")m=J(y,O);
else if(q=="bounds"){var dR=y,co=X(y);y+=4;m=[];for(var N=0;N<co;N++){var fT=[];m.push(fT);for(var s=0;
s<4;s++)fT.push(H(y+s*8));y+=32;fT.push(E[y]);y++}if(y!=dR+l)throw"e"}else if(q=="columnPos"){var co=X(y);
y+=4;m=[D(y,co),H(y+co*8)];y+=co*8+8}else if(q=="StyleName"){m=[X(y+4)]}else if(q=="fontName"){var Y=y+l;
m=[Z(y)];y+=2;for(var N=0;N<2;N++){var ew=B(y+3);y=ew[1];m.push(ew[0])}m.push(X(y));y+=4;var gA=Z(y);
y+=2;m.push(gA);var by=Z(y);y+=2;var fv=[];m.push(fv);for(var d4=0;d4<by;d4++){var fg=[];fv.push(fg);
var ew=B(y+3);y=ew[1];fg.push(ew[0]);var aC=Z(y);y+=2;var ew=_.xY(E,y,aC);y+=aC;fg.push(ew);for(var N=0;
N<3;N++){var ew=B(y+3);y=ew[1];fg.push(ew[0])}fg.push(X(y));y+=4;var ew=B(y,!0);y=ew[1];fg.push(ew[0])}if(y+4!=Y)throw"e";
m.push(X(y))}else throw q;if(Q[a]!=null){console.log(a,Q[a],m);console.log(O.slice(0));console.log(eid,A,y,Q[a],z,m);
throw"e"}Q[a]=m}else{var bu=E.slice(y,y+l);Q["prop-"+A]=bu}O.pop()}function J(y,A){var W=Z(y);y+=2;var Q={};
for(var N=0;N<W;N++){var l=X(y);y+=4;var O=l.toString(16),z=Z(y);y+=2;var a=Z(y);y+=2;for(var m=0;m<a;
m++){var q=X(y);y+=4;var K=Z(y);y+=2;M(O,L,Q,y,K,A);y+=K}}return Q}function P(A){E=new Uint8Array(A);
$=w();var W=$[2147483649];W=_.Uw(W,4,W.length-4);delete $[2147483649];o=0;for(var Q in $)o=Math.max(o,parseInt(Q));
T=[];var l={};for(var Q in $)l[Q]=$[Q];for(var Q in $)I(parseInt(Q),[]);return $}function n(A){A=A.split(" ").join("");
return A[0].toLowerCase()+A.slice(1)}var x={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},L={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},u={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},C={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},h={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return P}();function fO(){}fO.ux=function(){var E=0;function y(j,g){var R=iv.ux(j),L=1;E=0;var t=R[1],w=t.spreads,B=[],$=new ir;
for(var o=0;o<w.length;o++){var T=w[o],i=T.children.yK,r=e(T),I=i[0].children.yK,M=new ir;for(var J=0;
J<I.length;J++){var P=I[J],n=e(P);n.concat(r);var x=c(P);x.offset(n.Kc,n.Dm);x=d.A.u8(x);M=M.uN(x)}B.push(M);
$=$.uN(M)}while(Math.sqrt($.P())*L<1e3)L++;g.m=$.m*L;g.e=$.e*L;g.buffer=new Uint8Array(4*g.m*g.e);g.kc=!0;
g.$c=Math.round(72*L);g.Fy(w.length);for(var o=0;o<w.length;o++){var T=w[o],i=T.children.yK,u=g.N8();
u.Gc=24;u.add.lsct=kl.Sh;u.v4("Artboard "+(o+1));var C=B[o].clone();C.offset(-$.x,-$.y);C.x*=L;C.y*=L;
C.m*=L;C.e*=L;C=d.A.u8(C);u.ix(C);u.ur="pass";g.B.push(g.eM());var r=e(T);r.translate(-$.x,-$.y);r.scale(L,L);
var h={};for(var A=0;A<i.length-1;A++){var W=i[A],Q=W.children.yK,l=g.N8(),O=W.layer.lopts;if(O.name=="Internal_pages_layer_name"||h[O.name])continue;
h[O.name]=!0;l.Gc=24;l.add.lsct=kl.Sh;l.v4(O.name);l.rP(O.show);if(O.ap_)l.add.lspf=1<<31;l.ur="pass";
g.B.push(g.eM());for(var N=0;N<Q.length;N++)b(Q[N],g,r,R);g.B.push(l)}g.B.push(u)}}function c(j){var g=j.rect;
return new ir(g[0],g[1],g[2]-g[0],g[3]-g[1])}function e(j){var g=j.transform;return new jr(g[0],g[1],g[2],g[3],g[4],g[5])}function p(j){var g=j.color,R=j.parentFill,w;
if(g==null&&R)g=R.color;if(g==null){console.log("strange color",j);return[0,0,0]}var t=g[0];if(t==5)w=g.slice(1);
else if(t==6)w=UDOC.C.cmykToRgb(g.slice(1));else if(t==7){var B=d.SS(g[1],g[2],g[3]);w=[B.Z/255,B.D/255,B.J/255]}else if(t==14){w=g.slice(1);
console.log("unsure about the color")}else{console.log(g);throw t}return w}function H(j){var g=p(j);
return d.L.hp({Z:g[0]*255,D:g[1]*255,J:g[2]*255})}function Z(j){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[j]}function X(j,g){var N=0,R=0;
while(j[N+1]&&R+j[N][0]<=g){R+=j[N][0];N++}j=j[N][1].textData;N=0;while(j[N+1]&&R+j[N][0]<=g){R+=j[N][0];
N++}return j[N]}function b(j,g,R,t){var w=j.transform?e(j):new jr;w.concat(R);var B=j.path,$=j.appearance,o=j.visible,T=j.children?j.children.yK:null,i=g.N8();
if(o!=null)i.rP(o);var r=T&&T.length==1&&T[0].bitmapFill,I=j["bool2-1623"]&&T&&T.length==1&&T[0].rect&&T[0]._type.startsWith("TextFrame");
if(r){i.v4("bitmap");var M=T[0],J=c(M),P=e(M),C=null;P.concat(w);var n=M.bitmapFill.bitmap;n=t[n]._bin;
if(n.length!=n.buffer.byteLength)n=n.slice(0);if(n[0]==123){console.log("unknown bitmap format");return}var x=g.np(n,"img.jpg",0,0);
x.Gc=i.Gc;i=x;var L=[0,0,J.m,0,J.m,J.e,0,J.e];d.A.u(L,P,L);i.add.SoLd.Trnf=F.Y.Zd(L);i.add.SoLd.nonAffineTransform=F.Y.Zd(L);
i.an(g,!1);var u=M.path;if(u&&u.length!=0)C=D(u,P,$);else if(B&&B.length!=0)C=D(B,w,$);if(C){var h=d.o.L$(C.X),A=d.A.n7(L);
if(h.P()/A.fr(h).P()>1.1){if(h.contains(A))C=null;var W=j.children;j.children=null;b(j,g,R,t);j.children=W}}if(C)i.add.vmsk=C;
i.m5();i.fP(g)}else if(I){if($&&$.strokeSwatch){var Q=g.N8();k(Q,g,$,B,w);g.B.push(Q)}var l=T[0],J=c(l),P=e(l),hX=0;
P.concat(w);var O=l.children.yK[0],z=O.obj228,a=z[0].story[1],m=a.stoProps.a8J.relEnt,q=a.stoProps.yK[0].relEnt,K=a.stoProps.yK[1]["ptrArrayX-210"][0].textData,U=t[m[0][1].textData[0][1].name[0]],f=U?U.styProps:{};
K=K.join("").replace(/\r/g,"\n");var Y=-1;while((Y=K.indexOf("\uFFFC"))!=-1){K=K.slice(0,Y)+(K[Y-1]=="\n"?" ":" ")+K.slice(Y+1)}i.v4(K.slice(0,255));
i.add.lnsr="rend";i.add.TySh=gV.V1(0,0);i.add.TySh.dz=J;i.add.TySh.u=P;var G=i.add.TySh.Ax;gV.Y8(G,0,K);
var V=gV.c$(G,0,K.length);V.na.FontSize=10;gV.gR(G,0,K.length,V);var dF=[];if(K.length!=0){var s=X(m,0),aH=X(q,0),dw=1;
for(var N=1;N<K.length;N++){var B=X(m,N),kO=X(q,N);if(B!=s||kO!=aH){dF.push(dw);dw=0}s=B;aH=kO;dw++}if(dw!=0)dF.push(dw)}for(var N=0;
N<dF.length;N++){var jF=X(q,hX),gn=dF[N],hM=Math.min(hX+gn,K.length-1),ie=jF[2],bN=jF[1].styProps;if(bN==null)bN={};
var kd=X(m,hX),i7=kd[1].styProps,dn=kd[2],ew={};for(var e4 in f)ew[e4]=f[e4];for(var e4 in i7)ew[e4]=i7[e4];
for(var e4 in dn)ew[e4]=dn[e4];for(var e4 in bN)ew[e4]=bN[e4];for(var e4 in ie)ew[e4]=ie[e4];var V=gV.c$(G,hX,hM),eE=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],jc=eE.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var ft=0;ft<jc.length;ft++){var e4=jc[ft],bd=ft<eE.length?V.na:V.dV;if(ew[e4]!=null)bd[e4]=ew[e4]}if(ew.fillColor){var iB=p(ew.fillColor);
V.na.FillColor={Type:1,Values:[1].concat(iB)}}if(ew.font){var cG=ew.font.name[5],bT=ew.fontStyle;if(bT==null)bT="Regular";
for(var hU=0;hU<cG.length;hU++)if(cG[hU][0]==bT)gV.Wn(V,cG[hU][1])}if(ew.leading!=null&&ew.leading>1){V.na.Leading=ew.leading;
V.na.AutoLeading=!1}if(ew.align!=null)V.dV.Justification=[0,2,1,6,3,5,4,0,0,0][ew.align];gV.gR(G,hX,hM,V);
hX+=gn}gV.qz(G,1);gV.fF(G,[0,0,Math.round(J.m),Math.round(J.e)])}else if(j._type.startsWith("Path")&&(T==null||T.length==0)&&B){k(i,g,$,B,w)}else{var ah=j["prop-14526"];
if(T==null&&ah){var co=t[_.gT(ah,20)];T=[co]}if(T){if(B&&B.length!=0){i.add.vmsk=D(B,w,$);i.m5();i.fP(g)}i.v4("group");
i.Gc=24;i.add.lsct=kl.Sh;g.B.push(g.eM());for(var N=0;N<T.length;N++)b(T[N],g,w,t)}}if($){var im=$.objectBlendingMode,hb=$.objectOpacity,dI=$.fillTint,fb=!1;
if(im)i.ur=Z(im[0]);if(hb)i.opacity=Math.round(i.opacity*hb[0]/100);if(!r&&dI)i.opacity=Math.round(i.opacity*dI[0]/100);
var bw=JSON.parse(cb.default);for(var N=0;N<cb.order.length;N++)bw[cb.zt[N]]={t:"VlLs",v:[]};var iG="dropShadow innerShadow satin bevel iglow oglow".split(" "),dy="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var N=0;N<iG.length;N++){var kp=iG[N];if($[kp]&&$[kp][0]){var gw=$[kp],fT=135,gA=10;fb=!0;var dR=JSON.parse(cb.Dn[cb.order.indexOf(dy[N])]);
bw[cb.zt[cb.order.indexOf(dy[N])]].v.push({t:"Objc",v:dR});if($[kp+"Color"])dR.Clr.v=H($[kp+"Color"][0]);
else if(iG[N]=="iglow"||iG[N]=="oglow")dR.Clr.v=d.L.hp({Z:255,D:255,J:255});if($[kp+"ColorH"])dR.hglC.v=H($[kp+"ColorH"][0]);
if($[kp+"ColorS"])dR.sdwC.v=H($[kp+"ColorS"][0]);if($[kp+"BMode"])dR.Md.v.BlnM=cg.KH(Z($[kp+"BMode"][0]));
if($[kp+"BModeH"])dR.hglM.v.BlnM=cg.KH(Z($[kp+"BModeH"][0]));if($[kp+"BModeS"])dR.sdwM.v.BlnM=cg.KH(Z($[kp+"BModeS"][0]));
if($[kp+"Opacity"])dR.Opct.v.val=$[kp+"Opacity"][0];if($[kp+"OpacityH"])dR.hglO.v.val=$[kp+"OpacityH"][0];
if($[kp+"OpacityS"])dR.sdwO.v.val=$[kp+"OpacityS"][0];if($[kp+"Size"])dR.blur.v.val=$[kp+"Size"][0];
if($[kp+"Angle"])fT=$[kp+"Angle"][0];if($[kp+"Dist"])gA=$[kp+"Dist"][0];if($[kp+"DX"]){var by=$[kp+"DX"][0],fv=$[kp+"DY"][0];
gA=Math.round(Math.sqrt(by*by+fv*fv));fT=Math.round(Math.atan2(fv,-by)*180/Math.PI)}if(dR.lagl)dR.lagl.v.val=fT;
if(dR.Dstn)dR.Dstn.v.val=gA;if(dR.uglg)dR.uglg.v=!1;if($[kp+"Invert"])dR.Invr.v=$[kp+"Invert"][0];else if(iG[N]=="satin")dR.Invr.v=!1;
if($[kp+"Alt"])dR.Lald.v.val=$[kp+"Alt"][0];if($[kp+"Depth"])dR.srgR.v.val=$[kp+"Depth"][0];if($[kp+"Choke"])dR.Ckmt.v.val=$[kp+"Choke"][0]}}if(fb)i.add.lmfx=bw}if(j.name)i.v4(j.name);
else if($&&$.name)i.v4($.name[0]);g.B.push(i)}function k(j,g,R,t,w){j.v4("path");j.Gc|=16;j.add.vmsk=D(t,w,R);
var B=j.add.vstk=cb.CY.TL(!0),$=null;if(R){var o=R.strokeSwatch,T=R.fillSwatch,i=R.basicFeather,r=R.basicFeatherWidth,I=R.strokeWeight;
B.strokeEnabled.v=o!=null;B.fillEnabled.v=T!=null;if(i)j.add.vmsk.oV=r?r[0]:9;if(o){B.strokeStyleLineWidth.v.val=I?I[0]:1;
$=H(o[0]);B.strokeStyleContent.v.Clr.v=$}if(T){$=H(T[0])}}if($)j.add.SoCo={classID:"null",Clr:{t:"Objc",v:$}};
j.m5();j.fP(g)}function D(j,g,R){var t=new jN.pU,w=t.X;for(var B=0;B<j.length;B++){var $=j[B],o=$[0].length,T=$[1]==0,i=T?0:3;
w.push({type:i,length:o,O0:0,X7:2,cr:0,x9:0});for(var N=0;N<o;N++){var r=$[0][N],I=r[0],M=new eq(r[1],r[2]),J=new eq(r[3],r[4]),P=new eq(r[5],r[6]);
if(I==0||I==1)w.push({type:i+2,$0:M,I:J,dW:P});else if(I==2)w.push({type:i+2,$0:M,I:M,dW:M});else throw I}}d.o.dg(w,g);
return t}return y}();var hD=function(E){function y(Z,X){var b=[];for(var N=0;N<9;N++){var k=_.q(Z,X+N*4);
if(N%3==2)b.push((k>>>30)+(k&1073741823)/1073741823);else b.push((k>>>16)+(k&65535)/65535)}return b}function c(Z,X,b,k){var D={},j=_.q,g=_.dT;
while(X<b){var R=X,t=_.q(Z,X);X+=4;if(t==0){t=_.q(Z,X);X+=4}var w=_.xY(Z,X,4);X+=4;if(t==0)throw"e";
if(t==1){t=_.vW(Z,X);X+=8}var B=R+t,$="".padStart(k,"\t"),o={};if(w=="mvhd"){var T=Z[X];if(T!=0)throw"e";
X+=4;o.a98=j(Z,X);X+=4;o.aCe=j(Z,X);X+=4;o.L3=j(Z,X);X+=4;o.duration=j(Z,X);X+=4;o.ad0=j(Z,X);X+=4;o.volume=g(Z,X);
X+=2;X+=10;o.alB=y(Z,X);X+=4*9;o.ath=[];for(var N=0;N<6;N++)o.ath.push(j(Z,X+N*4));X+=4*6;o.asg=j(Z,X);
X+=4}else if(w=="tkhd"){var T=Z[X];if(T!=0)throw"e";X+=4;o.a98=j(Z,X);X+=4;o.aCe=j(Z,X);X+=4;o.aaO=j(Z,X);
X+=4;X+=4;o.duration=j(Z,X);X+=4;X+=8;o.a=g(Z,X);X+=2;o.arp=g(Z,X);X+=2;o.volume=g(Z,X);X+=2;X+=2;o.alB=y(Z,X);
X+=4*9;o.Pf=j(Z,X)>>>16;X+=4;o.T4=j(Z,X)>>>16;X+=4}else if(w=="mdhd"){o.Gc=j(Z,X);X+=4;o.a98=j(Z,X);
X+=4;o.aCe=j(Z,X);X+=4;o.L3=j(Z,X);X+=4;o.duration=j(Z,X);X+=4;o.lang=g(Z,X);X+=2;o.gD=g(Z,X);X+=2}else if(w=="hdlr"){var i=j(Z,X);
X+=4;if(i!=0)throw i;o.KO=_.xY(Z,X,4);X+=4;o.awI=_.xY(Z,X,4);X+=4;o.aiS=j(Z,X);X+=4;o.Gc=j(Z,X);X+=4;
o.a8D=j(Z,X);X+=4;var r=X;while(Z[r]!=0)r++;o.name=_.xY(Z,X,r-X);X+=r-X+1}else if(w=="stsd"){var i=j(Z,X);
X+=4;if(i!=0)throw i;var I=j(Z,X);X+=4;if(I!=1)throw I;var M=j(Z,X);X+=4;o.Gx=_.xY(Z,X,4);X+=4;if(o.Gx=="mett"){o.aB$=_.xY(Z,X,B-X)}else{for(var N=0;
N<6;N++)if(Z[X+N]!=0)throw"e";X+=6;o.ahv=g(Z,X);X+=2;o.ady=g(Z,X);X+=2;o.amP=g(Z,X);X+=2;o.aB8=j(Z,X);
X+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ".split(",").indexOf(o.Gx)!=-1){o.a29=j(Z,X);X+=4;
o.aoK=j(Z,X);X+=4;o.aqg=[g(Z,X),g(Z,X+2)];X+=4;o.a5X=[j(Z,X)/(1<<16),j(Z,X+4)/(1<<16)];X+=8;var J=j(Z,X);
X+=4;if(J!=0)throw"e";var P=g(Z,X);X+=2;if(P!=1)throw"e";var n=Z[X];X++;o.a6e=_.xY(Z,X,n);X+=31;o.a6I=g(Z,X);
X+=2;var x=g(Z,X);X+=2;if(x!=65535)throw"e";if(X!=B)o.aDT=c(Z,X,B,k+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(o.Gx)!=-1){o.cB=g(Z,X);
X+=2;o.aqJ=g(Z,X);X+=2;var L=g(Z,X);X+=2;if(L!=0&&L!=65534)throw L;var u=g(Z,X);X+=2;if(u!=0)throw u;
o.ahm=j(Z,X)/(1<<16);X+=4}else if(o.Gx=="CTMD"){o.b=Z.slice(X,B)}else if(o.Gx=="tx3g"||o.Gx=="text"||o.Gx=="mebx"){}else if(o.Gx=="tmcd"){}else if(o.Gx=="CRAW"){}else throw o.Gx}}else if(w=="stts"||w=="stsz"||w=="stco"||w=="stsc"||w=="ctts"){var i=j(Z,X),C=0,A=0;
X+=4;if(i!=0)throw i;if(w=="stsz"){C=j(Z,X);X+=4}var h=j(Z,X)*(w=="stsc"?3:w=="stts"||w=="ctts"?2:1);
X+=4;o=[];for(var N=0;N<h;N++){if(C!=0)o.push(C);else{o.push(j(Z,X));X+=4}}for(var N=0;N<h;N++)A+=o[N]}else if(w=="co64"){var i=j(Z,X);
X+=4;if(i!=0)throw i;var h=j(Z,X);X+=4;o=[];for(var N=0;N<h;N++){o.push(_.vW(Z,X));X+=8}}else if(w=="moov"||w=="trak"||w=="mdia"||w=="minf"||w=="dinf"||w=="stbl"||w=="uuid"){if(w=="uuid")X+=16;
o=c(Z,X,B,k+1)}else if(w=="CMT1"||w=="CMT2"||w=="CMT3"||w=="CMT4"){o=UTIF.decode(Z.slice(X,B))}else{o.z=X;
o.wK=t}X=B;if(w=="trak"||w=="free"||w=="uuid"){if(D[w]==null)D[w]=[];D[w].push(o)}else{if(D[w]!=null)throw w;
D[w]=o}}return D}function e(Z){var X=new Uint8Array(Z);return c(X,0,X.length,0)}function p(Z,X,b){var k=H(Z,X),D=k.mdia.minf.stbl,j=D.stsc,g=0,R=0;
for(var N=0;N<j.length;N+=3){var t=(N+3<j.length?j[N+3]:1e4)-j[N],w=R+t*j[N+1];if(R<=b&&b<w){while(R+j[N+1]<=b){g++;
R+=j[N+1]}break}g+=t;R=w}var B=D.stco;if(B==null)B=D.co64;var $=B[g];while(R<b){$+=D.stsz[R];R++}return[$,D.stsz[b]]}function H(Z,X){var b=Z.moov.trak;
for(var N=0;N<b.length;N++)if(b[N].mdia.hdlr.awI==X)return b[N]}return{ux:e,a5l:p,akm:H}}(),F={};F.k1=function(E){return window.devicePixelRatio||1};
F.Wo=function(E,y){return(y.aAq=="touch"?12:8)*F.k1()/E.Q.O};F.gb=function(E,y,c){this.name=E;this.id=y;
this.bE=null;if(c!=null)this.yQ=c};F.gb.prototype.hE=function(E,y,c,e,p){};F.gb.prototype.enable=function(E,y,c,e,p,H){var Z=new iU(S.E.M,!0);
Z.data={d:S.H.qR,gs:"default"};y.T(Z)};F.gb.prototype.disable=function(E,y,c,e,p){};F.gb.prototype.aig=function(E,y,c,e,p){return!1};
F.gb.prototype.yl=function(E,y,c,e,p){};F.gb.prototype.n$=function(E,y,c,e,p){};F.gb.prototype.Lv=function(E,y,c,e,p){};
F.gb.prototype.JA=function(E,y,c,e,p,H){};F.gb.prototype.vP=function(E,y,c,e,p){};F.gb.prototype.Gu=function(E,y,c,e){};
F.gb.prototype.Hl=function(E,y,c,e){};F.gb.prototype.Rn=function(E,y){};F.gb.prototype.GW=function(E,y){};
F.gb.prototype.bt=function(E){return 0};F.gb.prototype.vm=function(E,y,c,e,p){};F.gb.prototype.mh=function(E,y){};
F.gb.prototype.OX=function(E,y){return!1};F.gb.prototype.Zw=function(E,y){return!1};F.gb.prototype.j_=function(){return!1};
F.gb.prototype.aq=function(E,y){return!0};F.gb.prototype.Zr=function(){return null};F.gb.prototype.$q=function(E,y,c){};
F.gb.prototype.a5M=function(){return!1};F.gb.prototype.ri=function(E,y,c,e){};F.gb.prototype.track=function(E){var y=new iU(S.E.on,!0);
y.data=E;E.ja=!0;this.bE.T(y)};F.gb.M0=function(E,y,c,e){var p=10*F.k1()*(E.aAq=="touch"?2:1),H=E.x+p,Z=E.y-p,X=d._5.rB(y.m,c.$c,e,c.m,!0),b=d._5.rB(y.e,c.$c,e,c.e,!0);
while(X.length<b.length)X=" "+X;while(X.length>b.length)b=" "+b;F.gb.Fe(H,Z,[i4.get([12,41]).charAt(0)+": "+X,i4.get([12,42]).charAt(0)+": "+b],c)};
F.gb.Fe=function(E,y,c,e){function p(k,w,B,$,o,T){k.beginPath();k.moveTo(w,B+T);k.arcTo(w,B+o,w+T,B+o,T);
k.arcTo(w+$,B+o,w+$,B+o-T,T);k.arcTo(w+$,B,w+$-T,B,T);k.arcTo(w,B,w,B+T,T)}var H=F.k1(),Z=Math.round,X=Z(11*H),b=F.gb.a2S,D=0;
if(b==null)b=F.gb.a2S=document.createElement("canvas");var k=b.getContext("2d");k.font=X+"px monospace";
for(var N=0;N<c.length;N++)D=Math.max(D,k.measureText(c[N]).width);var j=Z(D+12*H),g=Z((c.length*14+5)*H),R=new ir(E,y-g,j,g);
if(b.width!=j||b.height!=g){b.width=j;b.height=g;k.font=X+"px monospace"}k.clearRect(0,0,j,g);k.fillStyle="rgba(0,0,3,0.8)";
p(k,0,0,j,g,Z(4*H));k.fill();k.fillStyle="rgba(255,255,255,1)";for(var N=0;N<c.length;N++)k.fillText(c[N],Z(6*H),Z((N+1)*13*H));
var t=[k.getImageData(0,0,j,g).data,R.clone()];if(e)e.N.Wi=[t];return t};F.gb.a2S=null;F.mq="0";F.mW="1";
F.amQ="2";F.a0d="3";F.w8="5";F.aC6="6";F.aaX="7";F.Pl="8";F.ND="9";F.iC="10";F.dP="11";F.hW="12";F.I9="13";
F.Op="14";F.a7t="15";F.aT="16";F.W6="18";F.aa="19";F.a0i="90";F.vq="20";F.eF="21";F.WC="22";F.WN="23";
F.LY="24";F.Fp="25";F.jl="27";F.co="31";F.y4="32";F.aoa="33";F.FS="34";F.ab_="35";F.xZ="36";F.uW="37";
F.yx="38";F.l8="39";F.xR="40";F.uu="41";F.AD="42";F.LG="43";F.aAR="44";F.atC="45";F.amL="46";F.atO="72";
F.IB="47";F.tI="48";F.Ar="51";F.Ht="52";F.XF="54";F.rb="55";F.hw="56";F.qP="57";F.BU="58";F.G3="59";
F.B1="60";F.fE="61";F.td="70";F.aCL="71";F.Xm="100";F.fK="101";F.PV="102";F.Am="103";F.S0="120";F.rr="230";
F.a9p="231";F.yW="232";F.sh="233";F.Mt="234";F.UA="235";F.ug="236";F.j7={};F.j7[F.WN]="tools/brush";
F.j7[F.LY]="tools/pencil";F.j7[F.co]="tools/eraser";F.Zh={PcTl:F.LY,PbTl:F.WN,moveTool:F.mq,cloneStampTool:F.jl,typeCreateOrEditTool:F.IB,artboardTool:F.td,marqueeRectTool:F.mW,typeVerticalCreateOrEditTool:F.tI,perspectiveCropTool:F.dP,marqueeEllipTool:F.amQ,eyedropperTool:F.Op,eraserTool:F.co,pathComponentSelectTool:F.Ar,lassoTool:F.w8,backgroundEraserTool:F.y4,directSelectTool:F.Ht,polySelTool:F.aC6,rectangleTool:F.XF,magneticLassoTool:F.aaX,gradientTool:F.FS,quickSelectTool:F.Pl,bucketTool:F.ab_,ellipseTool:F.rb,magicWandTool:F.ND,blurTool:F.xZ,polygonTool:F.hw,cropTool:F.iC,sharpenTool:F.uW,lineTool:F.qP,sliceTool:F.hW,smudgeTool:F.yx,customShapeTool:F.BU,sliceSelectTool:F.I9,dodgeTool:F.l8,spotHealingBrushTool:F.W6,burnInTool:F.xR,saturationTool:F.uu,penTool:F.AD,redEyeTool:F.WC,freeformPenTool:F.LG,rulerTool:F.aT,paintbrushTool:F.WN,handTool:F.G3,pencilTool:F.LY,zoomTool:F.fE,objectSelectTool:F.a0d,healingBrushTool:F.aa,patchTool:F.vq,contentAwareMoveTool:F.eF,colorReplacementBrushTool:F.Fp,curvaturePenTool:F.aAR,rotareViewTool:F.B1};
F.XP=function(E,y,c){F.gb.call(this,E,y,c);this.Qh={brush:E?bj.OY():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.P0=null;this.Zk=null;this.uz=null;this.Ok=null;this.IV=null;this.wT=null;this.x3=null;this.oe=null;
this.yX=null;this.ZB=null;this.oQ=null;this.$U=null;this.Mb=null;this.W2=1;this.$z=!1;this.Ze=null;this.caller=null};
F.XP.prototype=new F.gb;F.XP.prototype.Zw=function(E,y){return E.fu&&y.S(ct.zx)};F.XP.prototype.n$=function(E,y,c,e,p){if(e.S(ct.Q3)){this.wT=new eq(p.x,p.y);
var H=this.Qh.brush.Brsh.v,Z=H.Dmtr.v.val,X=H.Hrdn!=null?H.Hrdn.v.val:-1;this.x3=[Z,X,!0,JSON.parse(JSON.stringify(this.Qh.brush)),p];
this.qv(c)}};F.XP.prototype.$w=function(E,y,c){var e=this.x3,p=E.Q.O,H=c.x-e[4].x,Z=c.y-e[4].y,X=e[0],b=e[1],k=Math.abs(H)>Math.abs(Z);
if(k&&e[2]){var D=Math.round(2*H/p);X+=D;c.x-=H-.5*D*p}if(!k&&!e[2]&&b!=-1){var D=Math.round(.25*Z);
b+=D;c.y-=Z-4*D}X=Math.max(1,X);b=e[1]==-1?-1:Math.max(0,Math.min(100,b));var j=e[3];j.Brsh.v.Dmtr.v.val=X;
if(b!=-1)j.Brsh.v.Hrdn.v.val=b;this.x3=[X,b,k,j,c];var g=b1.vK(j,y.cT.b6,p),R=g[1];R.x=Math.round(this.wT.x-R.m/2);
R.y=Math.round(this.wT.y-R.e/2);E.N.yZ=[g];var t=E.Q.GV(this.wT.x,this.wT.y);E.N.dS={WX:[],Br:[t.x-X/2,t.y,t.x+X/2,t.y]};
if(b!=-1)E.N.dS.Br.push(t.x+50/p,t.y-b/2,t.x+50/p,t.y+b/2);E.Ea=!0};F.XP.prototype.vP=function(E,y,c,e,p){if(this.id==F.vq||this.id==F.eF)return;
if(this.wT){this.wT=null;this.oW(JSON.parse(JSON.stringify(this.x3[3])));E.N.yZ=[];E.N.dS=null;E.Ea=!0;
return}var H=new iU(S.E.M,!0);H.data={d:S.H.qq,f:this.id,arI:"showBrushOpts",ih:new eq(p.ti+4,p.nD)};
y.T(H)};F.XP.prototype.oW=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.z2,Wp:iL.xC,CG:E};this.caller.T(y)};
F.XP.Uo=function(E,y,c,e,p,H){if(E==null)E="FrgC";if(y==null)y="norm";if(c==null)c=1;if(p==null)p=!1;
var Z={classID:"Fl",Usng:{t:"enum",v:{FlCn:E}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(c*100)}},PrsT:{t:"bool",v:p},Md:{t:"enum",v:{BlnM:cg.KH(y)}}};
if(E=="Clr")Z.Clr={t:"Objc",v:e};if(E=="contentAware")Z.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(E=="Ptrn")Z.Ptrn={t:"Objc",v:H};return{tT:"fill",hG:Z}};F.XP.prototype.hE=function(E,y,c,e,p){this.bE=y;
var H=c.dL.length;if(H==0&&!c.iR())return;var Z=H!=0?-1-c.dL[0]:c.g[0],X=c.B[Z];if(E.d=="fromAction"){var b=E.Xu,k=b.hG;
if(k&&k.null&&k.null.v[0]&&k.null.v[0].v.classID=="Path"){var D=c.sA(),j=D[0],g=D[1],R=j[g.length==0?0:g[0]].add.vmsk;
if(b.tT=="fill"){var t=R.Nb(),w=p.x4,B=this.Qh,$=w>>16&255,o=w>>8&255,T=w>>0&255;this.B_(c,X,t,$,o,T,Math.round(B.opacity*255),B.bmode,"Fill Path")}else{var i=k&&k.Prs&&k.Prs.v,r=JSON.stringify(this.Qh.brush);
if(i)bj.aiV(this.Qh.brush,[!1,!0]);for(var I=0;I<1e3;I++){var M=d.o.O3(R.X,I,!0);if(M==-1){this.JA(c,y,p,e,null);
break}var J=R.X[M],P=R.X.slice(M,M+1+J.length),n=d.A.Pw(P,2).j,x=n.slice(0,8);for(var L=8;L<n.length;
L+=6)x.push(n[L-2],n[L-1],n[L],n[L+1],n[L+2],n[L+3],n[L+4],n[L+5]);var u={};u.Points=x;u.TextOnPathTRange=R.V8.slice(0);
var u=cU.o5(u,2,J.type==3),C=u[0],h=c.Q.qW(C[0],C[1]);if(i)h.zs=0;if(I==0)this.yl(c,y,p,e,h);else this.Zk.moveTo(C[0],C[1]);
var A=C.length,W=J.type==0?A+2:A;for(var N=2;N<W;N+=2){h=c.Q.qW(C[N%A],C[(N+1)%A]);h.fu=!0;if(i){var Q=N/W;
h.zs=2*Math.min(Q,1-Q)}this.Lv(c,y,p,e,h,this.Qh.flow)}this.Zk.finish();this.Fr(c)}if(i)this.Qh.brush=JSON.parse(r)}}else if(b.tT=="fill"){var l=k.PrsT?k.PrsT.v:!1,O=X?X.add.lspf:0;
if(l&&X){X.add.lspf=O==null?1:O|1}var z=(k.Opct?k.Opct.v.val:100)/100,a=k.Md?cg.RI(k.Md.v.BlnM):"norm";
z=Math.round(255*z);var m=k.Usng.v.FlCn;if(m=="contentAware"||m=="aiHeal"){if(c.i==null){alert("Select an area to heal first.");
return}if(!c.iR())return;var q=c.i;if(m=="aiHeal"&&!j5.Du(c))return;this.Jh(c);this.$T(c,0);if(m=="contentAware"){var K=d.R(q.rect.P()*4);
d.Og(q.channel,K,3);this.CD(c,"sheal",K,q.rect,q.rect);this.W(c,q.rect);this.finish(c,q.rect)}else{this.hQ=c;
j5.a72(!0,null,k.prmt?k.prmt.v:"empty background",c,this.ayA.bind(this),k.Wp);var U=new iU(S.E.M,!0);
U.data={d:S.H.cL,SJ:"Processing ..."};y.T(U);this.caller=y}}else if(m=="Ptrn"){var f=p.gS,Y=c.i?c.i.rect.clone():new ir(0,0,c.m,c.e),G=d.R(Y.P()*4);
hA.lp(k,G,Y,f,new eq(0,0));for(var N=0;N<G.length;N+=4)G[N+3]=z;this.ZQ(c,X,c.i,G,a,[6,48,0,2])}else{var w;
if(m=="FrgC")w=p.x4;else if(m=="BckC")w=p.YO;else if(m=="Blck")w=0;else if(m=="Wht")w=16777215;else if(m=="Gry")w=8421504;
else if(m=="Clr"){var V=d.L.yd(k.Clr.v);w=V.Z<<16|V.D<<8|V.J}var $=w>>16&255,o=w>>8&255,T=w>>0&255;this.B_(c,X,c.i,$,o,T,z,a,[2,3])}if(l&&X){X.add.lspf=O==null?0:O}}else if(b.tT=="delete"){var dF=Z<0?1:X.p6,q=c.i,kO;
if(q==null)return;var s=Z<0?c.cB[-Z-1]:dF<=0?null:dF==1?X.Nb():X.kP(c).F,Y=dF<=0?X.rect:s.rect,aH=dF<=0?q.rect.fr(Y):q.rect.clone();
if(aH.tj())return;var dw=aH.P();if(dF<=0){kO=d.R(dw*4);d.E6(X.buffer,X.rect,kO,aH)}else{kO=d.R(dw);s.extend(aH);
d.kh(s.channel,s.rect,kO,aH)}if(0<=Z&&X.B5(c,q)){if(dF<=0){d.KT(kO,0);d.E6(X.r$.Mj,X.r$.XG,kO,aH)}else{kO.fill(255);
d.kh(X.r$.Mj,X.r$.XG,kO,aH)}}else{if(dF<=0){var hX=d.R(kO.length>>2);d.LI(kO,hX,3);d.l.pN(d.Lt(q.rect.P()),q.rect,hX,aH,q.channel,aH,1);
d.Og(hX,kO,3)}else{var jF=d.R(q.rect.P()),$=p.YO>>>16&255,o=p.YO>>8&255,T=p.YO>>0&255;jF.fill(Math.round(d._f($,o,T)));
d.l.pN(jF,q.rect,kO,aH,q.channel,aH,1)}}this.q8(c,!0,[2,2],Z,dF,aH,kO)}}if(E.d=="stroke"){var gn=E.aBU,q=c.i;
if(q==null){q={rect:X.rect.clone(),channel:d.R(X.rect.P())};d.LI(X.buffer,q.channel,3)}var hM=hA.pF(gn),ie=F.XY.a3L(q,Math.ceil(hM[0]),Math.ceil(hM[1])),w=d.L.yd(gn.Clr.v),$=Math.round(w.Z),o=Math.round(w.D),T=Math.round(w.J);
this.B_(c,X,ie,$,o,T,Math.round(255*gn.Opct.v.val/100),cg.RI(gn.Md.v.BlnM),[14,9])}if(E.d=="fillBMP"){this.ZQ(c,X,c.i,E.Zg,E.yS,E.xs)}if(E.d=="draw"){var bN=E.Ti,kd=bN.rect;
this.Jh(c);var i7=c.B[c.g[0]];if(E.ax$&&i7&&i7.p6<=0&&c.dL.length==0){kd=F.DI.aBV(bN,c);i7.buffer=bN.buffer.slice(0);
i7.rect=kd.clone()}else{var dn=this.Qh.bmode,ew=this.Qh.opacity;this.Qh.bmode="norm";this.Qh.opacity=1;
this.CD(c,"draw",bN.buffer,kd,kd.fr(new ir(0,0,c.m,c.e)));this.Qh.bmode=dn;this.Qh.opacity=ew}this.W(c,kd);
c.ac=!0;this.finish(c,kd,E.xs,E.ax$)}};F.XP.prototype.ayA=function(E){var y=E.target.response,c=new Uint8Array(y);
if(this.ayH){this.ayH=!1;y=iu.ZM(_.Uw(c))}else if(c[0]==123){var e=JSON.parse(_.Uw(c));console.log(e);
var p=new XMLHttpRequest;p.responseType="arraybuffer";p.open("GET",e.output[0],!0);p.onload=this.ayA.bind(this);
this.ayH=!0;p.send();return}var H=UPNG.decode(y),Z=new Uint8Array(UPNG.toRGBA8(H)[0]),X=j5.iX(this.hQ),b=this.hQ;
this.hQ=null;var k=new iU(S.E.M,!0);k.data={d:S.H.B7,SJ:"Processing ..."};this.caller.T(k);this.CD(b,"draw",Z,X,X);
this.W(b,X);this.finish(b,X);j5.nT("remove")};F.XP.prototype.B_=function(E,y,c,e,p,H,Z,X,b){var k=c==null?new ir(0,0,E.m,E.e):c.rect,D=Z<<24|H<<16|p<<8|e<<0,j=d.R(k.P()*4);
d.KT(j,D);this.ZQ(E,y,c,j,X,b)};F.XP.prototype.ZQ=function(E,y,c,e,p,H){var Z=E.dL.length!=0?-1-E.dL[0]:E.g[0],X=Z<0?1:y.p6,b=Z<0?E.cB[-1-Z]:X<=0?null:X==1?y.Nb():y.kP(E).F,k=X<=0?y.rect:b.rect,D=c==null?new ir(0,0,E.m,E.e):c.rect,j=c==null?d.KC(E.m*E.e):c.channel;
if(c!=null)d.pe(j,e);var g=D.P(),R=d.R(g*4);if(X<=0)d.E6(y.buffer,y.rect,R,D);else{b.extend(D);R.fill(255);
d.Q9(b.UX(D),R)}if(0<=Z&&c&&y.B5(E,c)&&X<=0){var t=y.r$.sc,w=y.r$.sc.slice(0);if(X<=0)d.Jt(e,w);else d.Jt(fullc,w);
var B=new fN([2,3],this);B.data={d:"drawtemp",a:E.g[0],AV:X,a1f:t,anF:w};E.QY(B);this.Rn(B.data,E)}else{if(X<=0){var $;
if(y.H7(0)){$=d.R(D.P());d.LI(R,$,3)}d.l.Io(p,e,D,R,D,D,1);if(y.H7(0))d.Og($,R,3)}else{d.l.Io(p,e,D,R,D,D,1);
var o=d.R(g);d.DU(R,o);R=o}this.q8(E,!0,H,Z,X,D,R)}};F.XP.prototype.OX=function(E){if(ct.pr.indexOf(E)!=-1)return!0;
return!1};F.XP.prototype.Gu=function(E,y,c,e){var p=this.Qh.brush,H=e.S(ct.Q3),Z=H!=this.$z,X=F.XP.Vy(p,e);
if(X!=null)this.oW(X);if(!e.S(ct.Nc)&&e.cS()!=-1&&this.id!=F.Fp){var b=ct.Tg(Math.round(this.Qh.opacity*100),e.cS())/100;
this.dY({opacity:b},y)}if(this.id==F.Pl&&Z&&E!=null){var k=this.Qh.qsmode;if(k==2)k=E.i==null?0:1;else k=2;
this.dY({qsmode:k},y)}this.$z=H;if(Z){if(E)this.W2=E.Q.O;this.qv(c,e)}};F.XP.Vy=function(E,y){var c=E.Brsh.v.Dmtr.v.val,e=E.Brsh.v.Hrdn!=null?E.Brsh.v.Hrdn.v.val:-1,p=c,H=e,Z=y.S(ct.zx);
if(y.S(ct.T0)){if(Z)e=25*Math.floor((e-1)/25);else{if(c<=10)c--;else if(c<=50)c=5*Math.floor((c-1)/5);
else if(c<=100)c=10*Math.floor((c-1)/10);else if(c<=200)c=25*Math.floor((c-1)/25);else if(c<=400)c=50*Math.floor((c-1)/50);
else c=100*Math.floor((c-1)/100)}}if(y.S(ct.Xq)){if(Z)e=25*Math.ceil((e+1)/25);else{if(c<10)c++;else if(c<50)c=5*Math.ceil((c+1)/5);
else if(c<100)c=10*Math.ceil((c+1)/10);else if(c<200)c=25*Math.ceil((c+1)/25);else if(c<400)c=50*Math.ceil((c+1)/50);
else c=100*Math.ceil((c+1)/100)}}c=Math.max(1,c);e=Math.max(0,Math.min(100,e));if(H==-1)e=-1;if(c!=p||e!=H){var X=JSON.parse(JSON.stringify(E));
X.Brsh.v.Dmtr.v.val=c;if(H!=-1)X.Brsh.v.Hrdn.v.val=e;return X}return null};F.XP.prototype.qv=function(E,y,c,e){if(E.cT.list.length==0)return;
var p=this.id,H;if((p==F.jl||p==F.aa||p==F.WN||p==F.LY)&&(y!=null&&y.S(ct.Q3)||this.Qh.alt[0]))H="crosshair";
else{var Z=this.W2,X=this.Qh.brush;if((p==F.jl||p==F.aa)&&c&&this.$U&&this.$U.length==this.oQ.P()*4){var b=c.Q.GV(e.x,e.y),k=this.a81(b),D=this.$U,j=this.oQ,g=new ir(j.x+k.x,j.y+k.y,j.m,j.e),R=b1.vK(X,E.cT.b6,Z),t=R[0],w=R[1],B=Math.ceil(w.m/Z),$=new ir(Math.round(b.x-B/2),Math.round(b.y-B/2),B,B),o=d.R($.P()*4),T,i;
d.E6(D,g,o,$);if(Z==1){T=o;i=$}else{var r=new jr(Z,0,0,Z,0,0),I=F.Y.$X([o,$],r,!0);i=w.clone();i.x=I.rect.x;
i.y=I.rect.y;if(i.rT(I.rect))T=I.buffer;else{T=d.R(i.P()*4);d.E6(I.buffer,I.rect,T,i)}}var M=this.Qh.opacity/255;
for(var N=0;N<T.length;N+=4)T[N+3]=M*(t[N+3]*T[N+3]);b1.agF(new Uint32Array(T.buffer),i,4278190080,4294967295);
H={Rh:T,k4:i,gN:new eq(i.m/2,i.e/2)}}else H=b1.sH(X,E.cT.b6,Z,p==F.Fp||p==F.y4)}var J=new iU(S.E.M,!0);
J.data={d:S.H.qR,gs:H};if(this.caller)this.caller.T(J)};F.XP.prototype.enable=function(E,y,c,e){this.P0=c;
this.caller=y;this.oW(JSON.parse(JSON.stringify(this.Qh.brush)));if(E&&E.Q.O!=0)this.W2=E.Q.O;this.qv(c,e)};
F.XP.prototype.mh=function(E,y){if(y==iL.xC){this.Qh.brush=E.cT.LU;this.qv(E)}};F.XP.prototype.vm=function(E,y,c,e,p){for(var H in E)this.Qh[H]=E[H];
if(this.Qh.alt[0])this.qv(p,e,c)};F.XP.prototype.ah8=function(E){var y=E.dL.length!=0?-1-E.dL[0]:E.g[0],c=E.B[y],e=y<0?1:c.p6,p=y<0?E.cB[-y-1]:e<=0?null:e==1?c.Nb():c.kP(E).F,H=p?p.channel:c.buffer,Z=(p?p.rect:c.rect).clone();
return[c,e,p,H,Z]};F.XP.prototype.Jh=function(E,y){this.Mb=E.i==null?null:{rect:E.i.rect.clone(),channel:E.i.channel.slice(0)};
var c=this.ZB,e=this.ah8(E),p=e[0],H=e[1],Z=e[2];this.ZB=e[3];this.yX=e[4];var X=new ir(0,0,E.m,E.e),b=X.uN(this.yX);
if((this.lo()&&H<=0||b.rT(this.yX))&&y!=!0){if(c&&c.length==this.ZB.length){c.set(this.ZB);this.ZB=c}else this.ZB=this.ZB.slice(0)}else{if(Z)Z.extend(b);
else p.extend(b)}};F.XP.prototype.$T=function(E,y){var c=this.ah8(E),e=c[1],p=c[3],H=c[4],Z=[p,H],X=y!=null?y:this.Qh.sfrom;
if(e<=0&&X!=0){Z[1]=new ir(0,0,E.m,E.e);Z[0]=E.eA(X==1&&E.g[0]!=E.B.length-1?E.g[0]:null).slice(0)}this.oQ=Z[1].clone();
this.$U=Z[0].slice(0)};F.XP.prototype.m1=function(E,y,c,e,p,H){if(p.fu&&e.S(ct.Q3)&&this.wT==null){if(H)this.QW=c.x4;
var Z=new iU(S.E.v,!0);Z.f=F.Op;Z.data={d:"pickhere",a8r:p};y.T(Z);var X=F.gw.amD(E,!1,!0,p,null,c.x4,this.QW,1),Z=new iU(S.E.M,!0);
Z.data={d:S.H.qR,gs:X};y.T(Z);return!0}return!1};F.XP.prototype.NA=function(E,y,c,e,p,H){if(this.id!=F.Pl&&!E.iR(this.caller)){this.Zk=null;
return}if(this.id!=F.Pl&&this.Zk)return;this.Jh(E);var Z=new ir(0,0,E.m,E.e),X=null;if(H!=null){var b=E.dL.length!=0?-1-E.dL[0]:E.g[0],k=E.B[b],D=b<0?E.cB[-b-1]:k.p6<=0?null:k.p6==1?k.Nb():k.kP(E).F;
X=d.R(Z.P()*4);if(D)F.XP.Mf(this.ZB,this.yX,D.color,X,Z);else d.E6(this.ZB,this.yX,X,Z)}var j=this.Qh;
if(this.Zk&&this.id==F.Pl&&j.qsmode!=0&&E.i!=null){}else{var g=y.x4,R=y.YO;if(this.Ze=="erase"){var t=g;
g=R;R=t}var w=this.id==F.Pl?this.yX:Z;this.Zk=new b1(j.brush,y.cT.b6,y.cT.XQ,{Mz:p,Xe:H,afl:j.smth*50/E.Q.O,jo:this.id==F.LY||j.emode==1,sG:E.sG},g,R,w,X)}if(this.id==F.Pl){this.Zk.abV(j.brush,j.qsmode==2?0:16777215)}var B=E.Q.GV(e.x,e.y);
if(c.S(ct.zx)&&this.uz){var $=this.uz;this.Zk.moveTo($.x,$.y,e.zs);this.Zk.lineTo(.001*$.x+.999*B.x,.001*$.y+.999*B.y,e.zs);
this.Zk.lineTo(B.x,B.y,e.zs)}else this.Zk.moveTo(B.x,B.y,e.zs);this.uz=B;this.Ok=B.clone();this.IV=new cs(B,E.Q.fb)};
F.XP.prototype.Fv=function(E,y,c){if(E&&E.Q.O!=0&&E.Q.O!=this.W2){this.W2=E.Q.O;this.qv(c)}};F.XP.prototype.OD=function(E,y,c,e){if(this.Zk==null)return;
var p=E.B[E.g[0]],H=E.Q.GV(e.x,e.y),Z=this.IV.xk(H,c);if(Z.rT(this.uz))return 1;this.Zk.lineTo(Z.x,Z.y,e.zs);
this.uz=Z;if(this.id==F.jl||this.id==F.aa){var X=this.DN(),b=11;X=E.Q.qW(H.x-X.x,H.y-X.y);var k=b>>>1,D=new ir(Math.round(X.x)-k,Math.round(X.y)-k,b,b),j=d.R(D.P()*4);
d.KT(16777215);for(var N=0;N<b;N++)j[(N*b+k)*4+3]=j[(b*k+N)*4+3]=255;E.N.Wi=[[j,D]];E.Ea=!0}};F.XP.prototype.Hl=function(E,y,c,e){if(c.sJ!=this.id)return;
if(this.id!=F.Pl||E==null)return;if(E.i==null||E.g[0]!=this.a6G){this.a6G=E.g[0];this.dY({qsmode:0},y)}};
F.XP.prototype.W=function(E,y){if(E.dL.length!=0){E.Ea=!0;return}var c=E.B[E.g[0]];if(y==null){y=this.Zk.Px();
if(this.lo()&&c.p6<=0)y=y.fr(this.yX)}var e=c.p6;if(e==1||e==3){var p=Math.round((e==1?c.Nb():c.kP(E).F).oV*2.4);
y=y.clone();y.r4(p,p)}if(y.tj())return;if(e<=0){c.W(y)}if(e==1){c.Nb().tq=!0;c.fP(E,y)}if(e==3){c.W(y)}E.W(E.root._G(y,E,E.g[0],!0))};
F.XP.prototype.JA=function(E,y,c,e,p){if(this.Zk==null)return;this.Zk.finish();if(this.id!=F.W6&&this.id!=F.aa&&this.id!=F.Pl)this.Fr(E);
if(this.id==F.jl||this.id==F.aa){E.N.Wi=[];E.Ea=!0}if(this.id==F.Pl){var H=E.i;E.i=this.Mb;var Z=new iU(S.E.v,!0);
Z.data={d:"setsel",xs:this.name,i:H};Z.f=F.mW;y.T(Z);if(this.Qh.qsmode==0)this.dY({qsmode:1},y)}else{this.finish(E,this.Zk.JU());
this.Zk=null;this.oe=null}this.dir=0};F.XP.prototype.dY=function(E,y){for(var c in E)this.Qh[c]=E[c];
var e=new iU(S.E.M,!0);e.data={d:S.H.qq,f:this.id,uv:E};y.T(e)};F.XP.prototype.lo=function(){var E=this.id;
return E==F.Pl||E==F.co||E==F.l8||E==F.xR||E==F.uu||E==F.WC};F.XP.prototype.finish=function(E,y,c,e,p){var H=E.dL.length!=0?-1-E.dL[0]:E.g[0],Z=E.B[H],X=H<0?1:Z.p6,b=H<0?E.cB[-H-1]:X<=0?null:X==1?Z.Nb():Z.kP(E).F,k=b?b.rect:Z.rect,g;
if(this.lo()||!k.rT(this.yX)){if(b==null){if(this.lo())Z.Q8();else{var D=y.uN(this.yX),j=d.R(D.P()*4);
d.E6(Z.buffer,Z.rect,j,D);Z.buffer=j;Z.rect=D}}else b.Q8();this.W(E,k)}if(X<=0){g=d.R(y.P()*4);d.E6(this.ZB,this.yX,g,y)}else{g=d.R(y.P());
g.fill(b.color);d.kh(this.ZB,this.yX,g,y)}this.q8(E,!1,c?c:this.name,H,X,y,g,e,p)};F.XP.prototype.q8=function(E,y,c,e,p,H,Z,X,b){var k=Z;
if(p>0){k=d.R(H.P()*4);F.XP.Mf(Z,H,0,k,H)}var D=new fN(c,this);D.data=[{a:e,AV:p,k4:H,Ng:k}];if(X)D.data.j$=[E.i,null];
if(b)D.data.j$=[this.Mb,E.i];E.QY(D);if(y)this.Rn(D.data,E);else if(X)E.i=null;F.iq.axe(E,D.data)};F.XP.prototype.GW=function(E,y){this.aCp(E,y,!1)};
F.XP.prototype.Rn=function(E,y){this.aCp(E,y,!0)};F.XP.prototype.bt=function(E){return F.iq.bt(E)};F.XP.prototype.aCp=function(E,y,c){if(E.d=="drawtemp"){var e=c?E.anF:E.a1f,p=y.B[E.a];
p.r$.sc=e;p.uB(y,0,0,y.i);p.W();y.ac=!0}else{F.iq.eK(y,E);if(E.j$){y.i=E.j$[c?1:0];y.zr=!0}}y.W()};F.XP.prototype.Fr=function(E){this.CD(E,this.Ze,this.Zk.mn(),this.Zk.EK(),this.Zk.Px());
this.W(E)};F.XP.prototype.CD=function(E,y,c,e,p){var H=this.Qh,Z=E.B[E.g[0]],X=E.dL.length!=0?E.cB[E.dL[0]]:Z.p6<=0?null:Z.p6==1?Z.Nb():Z.kP(E).F,b=d.R(p.P()*4),k,D=Z.H7(0);
if(X==null){if(this.id==F.eF&&y=="heal")d.E6(Z.buffer,Z.rect,b,p);else d.E6(this.ZB,this.yX,b,p);if(D){k=d.R(p.P());
d.LI(b,k,3)}}else{F.XP.Mf(this.ZB,this.yX,X.color,b,p)}if(E.i&&y!="qselect"){var j=p.fr(E.i.rect),g=d.R(j.P()*4);
if(y=="copy"){var R=d.R(j.P());d.kh(E.i.channel,E.i.rect,R,j);d.E6(b,p,g,j);d.l.vj(c,e,g,j,R,j,0,j,1,!1)}else{d.E6(c,e,g,j);
d.ys(E.i.channel,E.i.rect,g,j)}c=g;e=j}function t($,bN){var i7=Math.max(bN.x,Math.min(bN.x+bN.m-1,$.x)),dn=Math.max(bN.y,Math.min(bN.y+bN.e-1,$.y));
return new eq(i7,dn)}if(y=="idraw"||y=="ierase"){if(this.oe==null)this.oe=d.R(this.yX.P());var w=this.Qh.samp,B=this.P0.YO,$=t(this.uz,p),o=w==0?$:this.Ok,T=o.x,i=o.y,r=F.aU.ej(this.ZB,this.yX,[o,new eq(T-2,i),new eq(T+2,i),new eq(T,i-2),new eq(T,i+2)]);
if(w==2)r=[[B>>>16&255,B>>>8&255,B>>>0&255,255]];var I=F.aU.uL(b,p,$,r,this.Qh.wconf),M=d.R(p.P());d.kh(this.oe,this.yX,M,p);
d.c7.uN(I,M,M);d.kh(M,p,this.oe,this.yX);d.ys(M,p,c,e);y=y.slice(1)}if(y=="erase"&&(F.iq.aei(E)!=16777215||X))y="draw";
if(y=="draw")d.l.Io(H.bmode,c,e,b,p,p,H.opacity);else if(y=="erase"){var J=H.opacity;if(this.id==F.y4)J=1;
var P=d.R(p.P()*4);d.E6(c,e,P,p);if(X==null){var n=d.R(p.P());d.LI(P,n,3);d.Bl(n,J);d.Ub(n);d.ys(n,p,b,p)}else{d.KT(P,0,4278190080);
d.l.Io("norm",P,p,b,p,p,J)}}else if(y=="clone"||y=="heal"){var x=this.DN(),L=this.oQ.clone();L.offset(x.x,x.y);
var u=p.clone();u.r4(1,1);var C=d.R(u.P()*4),h=d.R(u.P());d.E6(c,e,C,u);d.LI(C,h,3);d.KT(C,0);if(X==null){d.E6(this.$U,L,C,u);
var A=d.R(u.P());d.LI(C,A,3);d.Dk(A,h)}else F.XP.Mf(this.$U,L,X.color,C,u);if(y=="clone"){d.Og(h,C,3);
d.l.Io(H.bmode,C,u,b,p,p,H.opacity)}if(y=="heal"){var W=h.slice(0);d.round(W,20);var Q=d.R(u.P()*4);
if(X==null)d.E6(this.ZB,this.yX,Q,u);else F.XP.Mf(this.ZB,this.yX,X.color,Q,u);d.l.vj(C,u,Q,u,W,u,0,u,1,!1);
d.HJ.sy(Q,W,u);d.l.vj(Q,u,b,p,h,u,0,p,1,!1)}}else if(y=="dodge"||y=="burn"){var C=d.R(p.P()*4),z=1,a=0,m=0,q=0;
d.E6(c,e,C,p);var l=p.P()*4,O=F.XP.Rm;if(this.$z){if(y=="dodge")y="burn";else y="dodge"}var K=H.rng;
if(y=="dodge"){a=[1-z/2,1,1+z][K];m=[1,1/(1+z),1][K];q=[z/2,0,0][K]}if(y=="burn"){a=[1/(1-z/2),1,1-z/2][K];
m=[1,1+z,1][K];q=[-(z/2)/(1-z/2),0,0][K]}for(var N=0;N<l;N+=4){var U=C[N+3];b[N+0]=O(b[N+0],a,m,q,U);
b[N+1]=O(b[N+1],a,m,q,U);b[N+2]=O(b[N+2],a,m,q,U)}}else if(y=="sponge"||y=="redeye"){var C=d.R(p.P()*4),h=d.R(p.P());
d.E6(c,e,C,p);d.LI(C,h,3);d.Jt(b,C);var f=H.smode;if(this.$z)f=1-f;var Y=cN.TL("hue2");if(y=="sponge")b0.UL(Y,0,[0,[-50,46][f],[6,5][f]]);
else b0.UL(Y,1,{rX:[265,305,25,55],ot:[0,-90,-70]});var G=et.z8("hue2",Y);et.bJ(G,C,C,p);d.l.vj(C,p,b,p,h,p,0,p,1,!1)}else if(y=="copy")d.E6(c,e,b,p);
else if(y=="sheal"){var C=d.R(p.P()*4),h=d.R(p.P());d.E6(c,e,C,p);d.LI(C,h,3);C.fill(0);var V=this.$U,dF=this.oQ;
if(X){V=d.R(dF.P()*4);F.XP.Mf(this.$U,dF,0,V,dF)}else if(Z.Nb()&&Z.Nb().isEnabled){var s=Z.Nb(),aH=d.R(s.rect.P()*4);
d.E6(V,dF,aH,s.rect);d.Og(s.channel,aH,3);V=aH;dF=s.rect}var dw=d.Js.sy(V,dF,h,C,p);if(dw!=0)d.E6(V,dF,C,p);
if(this.Qh.sfrom==0)d.E6(C,p,b,p);else{d.E6(this.ZB,this.yX,b,p);d.Og(h,C,3);d.l.Io("norm",C,p,b,p,p,1)}}else if(y=="qselect"){var kO=this.yX,hX=kO.m,jF=kO.e,gn=hX*jF,hM=this.Zk.mn(),r=this.ZB,ie=F.XY.u0,h=ie.K_;
h.fill(128);for(var N=0;N<gn;N++){var bN=hM[N<<2],kd=hM[(N<<2)+3];if(kd==255&&(bN==0||bN==255))h[N]=bN}h[0]=h[hX-1]=0;
h[(jF>>>1)*hX]=h[(jF>>>1)*hX+hX-1]=0;F.ow.u4(ie,!0,E);E.i={rect:kO,channel:ie.i.slice(0)};E.zr=!0}if(X==null){if(D)d.Og(k,b,3);
d.E6(b,p,Z.buffer,Z.rect)}else F.XP.li(b,p,X)};F.XP.DN=function(){return null};F.XP.Rm=function(E,y,c,e,p){var H=E*(1/255),Z=e+y*Math.pow(H,c),X=Math.round(Z*p+H*(255-p));
return Math.max(0,Math.min(255,X))};F.XP.Mf=function(E,y,c,e,p){var H=d.R(p.P());H.fill(c);d.kh(E,y,H,p);
e.fill(255);d.Q9(H,e)};F.XP.li=function(E,y,c){var e=d.R(y.P());d.DU(E,e);d.kh(e,y,c.channel,c.rect)};
F.XY=function(E,y,c){F.gb.call(this,E,y,c);this.Qh={binop:0,feat:0,cstr:{V4:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.Lh=new eq(-1,-1);this.vy=new eq(-1,-1);this.fZ="default";this.bE=null;this.in=!1;this.cF=new dV;
this.CC=!1;this.nC=null;this.dc=null;this.uE=!1;this.n6=!1};F.XY.prototype=new F.gb;F.XY.prototype.Zr=function(){var E=this.Qh,y=[E.binop,E.feat],c=E.wconf,e=c.join(",")=="16,true,true";
if(y[0]==0&&y[1]==0&&e)return null;if(!e)y.push(c);return y};F.XY.prototype.$q=function(E,y,c){var e=this.Qh;
if(E[0])e.binop=E[0];if(E[1])e.feat=E[1];if(E[2])e.wconf=E[2];this.Wj(c)};F.XY.prototype.Wj=function(E){var y=new iU(S.E.M,!0);
y.data={d:S.H.qq,f:this.id,Qh:this.Qh};E.T(y)};F.XY.u0={key:""};F.XY.WY=function(E,y,c){var e={tT:E,hG:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(y)e.hG.T=y;if(c!=null)e.hG.AntA={t:"bool",v:c};return e};F.XY.hR=function(E,y,c){return F.XY.WY("set",{t:"Objc",v:{classID:E,Top:{t:"UntF",v:{type:"#Pxl",val:y.y}},Left:{t:"UntF",v:{type:"#Pxl",val:y.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:y.y+y.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:y.x+y.m}}}},c)};
F.XY.bG=function(E,y,c){var e=[],p=[],Z="set";for(var N=0;N<E.length;N+=2){e.push(E[N]);p.push(E[N+1])}var H={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:e},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:p}]}}}};
if(y)Z=["set","addTo","subtractFrom","interfaceWhite"][y];return F.XY.WY(Z,H,c)};F.XY.a40=function(E,y,c){var e={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:E.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:E.y}}}},p=F.XY.WY("set",e);
p.hG.Tlrn={t:"long",v:y[0]};p.hG.AntA={t:"bool",v:y[1]};p.hG.Cntg={t:"bool",v:y[2]};if(c==!0)p.hG.Mrgd={t:"bool",v:c};
return p};F.XY.cg=function(E){return F.XY.WY("set",{t:"enum",v:{Ordn:E?"Al":"None"}})};F.XY.hS=function(E,y,c){var e={classID:"null"};
if(E!="border")e.selectionModifyEffectAtCanvasBounds={t:"bool",v:c};var p={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[E[0]];
e[p]={t:"UntF",v:{type:"#Pxl",val:y}};return{tT:E,hG:e}};F.XY.jK=function(E,y,c){var e={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},p={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:y}}]};
if(c)p.v.push({t:"name",v:{classID:"Lyr",val:c}});var H=[{classID:"null",null:e,T:p},{classID:"null",null:p,T:e},{classID:"null",null:p,From:e},{classID:"null",null:p,With:e}],Z=["set","add","subtract","interfaceIconFrameDimmed"];
return{tT:Z[E],hG:H[E]}};F.XY.acz=function(E,y){var c=new iU(S.E.M,!0);c.data={d:S.H.z2,Wp:iL.sr};if(!y.sL)E.T(c);
c.data={d:S.H.z2,Wp:iL.IW};if(!y.km.iY)E.T(c)};F.XY.prototype.hE=function(E,y,c,e,p){F.XY.acz(y,p);this.bE=y;
var H=E.d,Z,X,b=new ir(0,0,c.m,c.e),bw=!1,fb,iG,dy,kp;if(H=="fromAction"){var k=E.Xu,D=k.tT,j=k.hG,g=j?j.selectionModifyEffectAtCanvasBounds:null,R=g&&g.v;
if(D=="colorRange"){if(j.Clrs){var t=j.Clrs.v.Clrs,w=0,B=255,$=["Shdw","Mdtn","Hghl"].indexOf(t),r=.4;
if($==0)B=60;else if($==1){w=100;B=150}else w=190;var o=["shadows","midtones","highlights"][$],T=j[o+"LowerLimit"],i=j[o+"UpperLimit"];
if(T)w=T.v;if(i)B=i.v;var I=j[o+"Fuzziness"];if(I)r=I.v/100;Z=F.XY.EV(c,w,B,r,!0)}else{var w=j.Mnm.v,B=j.Mxm.v,r;
w={s3:w.Lmnc.v,U:w.A.v,J:w.B.v};B={s3:B.Lmnc.v,U:B.A.v,J:B.B.v};r=j.Fzns.v/200;Z=F.XY.EV(c,w,B,r)}X=[7,8]}else if(D=="inverse"){if(c.i==null){alert("No selection!");
return}Z={channel:d.R(b.P()),rect:b};d.kh(c.i.channel,c.i.rect,Z.channel,Z.rect);d.Ub(Z.channel);X=[7,2]}else if(D=="expand"){var M=j.By.v.val,J=c.i.rect.clone();
J.r4(M,M);var P=d.R(J.P()),n=d.R(J.P());d.kh(c.i.channel,c.i.rect,n,J);d.style.stroke(n,P,J,M);Z={channel:P,rect:J};
X=[7,4]}else if(D=="contract"){var M=j.By.v.val,x=c.i.rect.clone();x.r4(1,1);if(!R)x=x.fr(b);var n=d.R(x.P()),L=d.R(n.length);
d.kh(c.i.channel,c.i.rect,n,x);d.Ub(n);d.style.stroke(n,L,x,M);d.Ub(L);Z={channel:L,rect:x};d.Q8(Z);
X=[7,5]}else if(D=="border"){var M=j.Wdth.v.val;Z=F.XY.a3L(c.i,M/2,M/2);X=[7,9]}else if(D=="feather"||D=="smoothness"){var M=j.Rds.v.val;
Z=F.XY.awx(c.i,M,D=="smoothness",b,R);X=D=="feather"?[7,6]:[19,3,0]}else if(D=="move"){var u=j.T.v,J=c.i.rect.clone();
J.x+=u.Hrzn.v.val;J.y+=u.Vrtc.v.val;Z={channel:c.i.channel,rect:J};X=[7,7]}else if(D=="grow"||D=="similar"){var C=this.Qh.wconf.slice(0);
if(j.Tlrn)C[0]=j.Tlrn.v;C[2]=D=="grow";var h=c.eA(),A=new ir(0,0,c.m,c.e),W=c.i.rect,Q=Math.round(Math.sqrt(W.P())/10),l=d.R(A.P());
d.kh(c.i.channel,W,l,A);var O=[];for(var z=0;z<W.e;z+=Q)for(var a=(W.P()+z)%Q;a<W.m;a+=Q)if(c.i.channel[z*W.m+a]==255){var m=new eq(W.x+a,W.y+z);
O.push(m);if(C[2])d.c7.uN(F.aU.uL(h,A,m,null,C),l,l)}if(!C[2])d.c7.uN(F.aU.uL(h,A,m,F.aU.ej(h,A,O),C),l,l);
Z={channel:l,rect:A};X=D=="grow"?"Grow Selection":"Similar Selection";console.log(j)}else{var q=j.null.v,K=j.AntA!=null&&j.AntA.v;
function U(k8){var hc=k8.Top.v.val,fT=k8.Left.v.val;return new ir(fT,hc,k8.Rght.v.val-fT,k8.Btom.v.val-hc)}function f(k8){var hc=k8[0].arr,bg=k8[1].arr,k5={j:[],G:[]};
for(var N=0;N<hc.length;N++){k5.G.push(N==0?"M":"L");k5.j.push(hc[N],bg[N])}k5.G.push("Z");return k5}var Y=["set","addTo","subtractFrom","interfaceWhite"].indexOf(D),G=j.T?j.T.v:null;
if(G&&G.classID=="Elps"){Z=this.az0(F.M8.axB(U(G)));X=[10,4]}else if(G&&G.classID=="Rctn"){var V=U(G);
Z={channel:d.R(V.P()),rect:V.clone()};Z.channel.fill(255);X=[10,15]}else if(G&&G.classID=="ObSl"){var V=U(G),dF=F.XY.u0,s=dF.rect,aH=dF.K_,dw=s.m,kO=s.e,hX=V.x-s.x,jF=hX+V.m-1,gn=Math.max(hX,Math.min(jF,hX+jF>>>1)),hM=V.y-s.y,ie=hM+V.e-1,bN=Math.max(hM,Math.min(ie,hM+ie>>>1)),kd=Math.max(hX,0),i7=Math.min(jF,dw),dn=Math.max(hM,0),ew=Math.min(ie,kO);
aH.fill(128);if(0<=hM)for(var a=kd;a<i7;a++)aH[hM*dw+a]=0;if(ie<kO)for(var a=kd;a<i7;a++)aH[ie*dw+a]=0;
if(0<=hX)for(var z=dn;z<ew;z++)aH[z*dw+hX]=0;if(jF<dw)for(var z=dn;z<ew;z++)aH[z*dw+jF]=0;var e4=F.Jy.a8Y,eE=Math.round(V.m*e4),jc=Math.round(V.e*e4);
for(var a=Math.max(0,gn-eE);a<Math.min(dw,gn+eE);a++)aH[bN*dw+a]=255;for(var z=Math.max(0,bN-jc);z<Math.min(kO,bN+jc);
z++)aH[z*dw+gn]=255;F.ow.u4(dF,!0);Z={channel:dF.i.slice(0),rect:s.clone()};X=[10,44]}else if(G&&G.classID=="Plgn"){Z=this.az0(f(G.Pts.v.arr));
X=[10,9]}else if(G&&G.classID=="Pnt"){Z=F.aU.asc(c,new eq(G.Hrzn.v.val,G.Vrtc.v.val),[j.Tlrn.v,K,j.Cntg==null||j.Cntg.v],j.Mrgd?j.Mrgd.v:!1);
X=[10,12]}else if(G&&G.Ordn=="None"){Z=null;X=[7,1]}else if(G&&G.Ordn=="Al"){var ft=b;if(c.g.length!=0){var bd=c.root.f$(c.g[0]);
while(bd.parent&&bd.parent.parent)bd=bd.parent;if(bd.a.add.artb)ft=bd.a.fQ()}Z={channel:d.R(ft.P()),rect:ft};
Z.channel.fill(255);X=[7,0]}else if(G&&G[0]&&G[0].v.keyID=="WrPt"){var iB={d:"frompath",Gm:[-1,0,0]};
this.hE(iB,y,c,e,p);return}else{var cG=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(D),g$=D=="set"?G:q,hU=g$[0].v.enum,iB;
if(hU=="Trsp"||hU=="Msk"||hU=="vectorMask"||hU=="Trgt"){var ah=c.g[0];if(g$.length==2)ah=aW.LW(c,g$[1]);
var co=["Trsp","Msk","vectorMask"].indexOf(hU);if(hU=="Trgt"&&c.B[ah].p6==1)co=1;iB={d:"fromlayer",Gm:[ah,co,cG]}}else{if(g$[0].t=="name"){var ah=0;
for(var N=0;N<c.cB.length;N++)if(c.cB[N].name==g$[0].v.val)ah=N;iB={d:"fromchannel",Gm:[-5-ah,0,cG]}}else{var im=["RGB","Rd","Grn","Bl"].indexOf(hU);
iB={d:"fromchannel",Gm:[-1-im,0,cG]}}}this.hE(iB,y,c,e,p);return}if(Z){if(!K)d.round(Z.channel);if(j.Fthr)Z=F.XY.awx(Z,j.Fthr.v.val,!1);
if(D!="set"&&c.i!=null)Z=d.c7.H0(Z,c.i,Y)}}if(D=="expand"||D=="contract")if(!R&&!b.contains(Z.rect)){var hb=Z.rect.fr(b),dI=d.R(hb.P());
d.kh(Z.channel,Z.rect,dI,hb);Z.channel=dI;Z.rect=hb}}if(H=="qmask"){bw=!0;var gw=c.xn(),A=new ir(0,0,c.m,c.e);
if(gw){Z=gw.rect.rT(A)&&d.lN(gw.channel,255)?null:{rect:gw.rect.clone(),channel:gw.channel.slice(0)};
fb=gw}else{Z=null;iG=new jN.W$;iG.color=0;iG.name="Quick Mask";iG.bY=!0;if(c.i){iG.rect=c.i.rect.clone();
iG.channel=c.i.channel.slice(0)}else{iG.rect=A;iG.channel=d.R(iG.rect.P());iG.channel.fill(255)}}X=[6,6,1];
c.ac=!0}if(H=="setsel"){Z=E.i;X=E.xs}if(H=="crange"){var w=E.rz,B=E.OC;Z=F.XY.EV(c,w,B,E.gJ);X=[7,8]}if(H=="fromlayer"||H=="fromchannel"||H=="frompath"){var dR=E.Gm[0],co=E.Gm[1],Y=E.Gm[2];
if(H=="fromlayer"){if(dR==null)dR=c.g[0];var fT=c.B[dR];if(co==0){var gA=fT.rect,by=fT.buffer;if(gA.tj())return;
var fv=d.R(by.length>>>2);d.LI(by,fv,3);Z={channel:fv,rect:gA.clone()}}else{if(fT.F==null)fT.fP(c);var d4=co==1?fT.Nb():fT.F;
Z=F.XY.a3K(d4,b)}this.track(F.XY.jK(Y,["Trsp","Msk"][co],fT.getName()))}else if(H=="frompath"){var fg=c.sA(),aC=fg[1],fg=fg[0],jg=!0;
if(dR==null)if(fg.length==0||aC.length==0)return;var bu=fg[aC[0]];if(dR!=null)for(var N=0;N<fg.length;
N++)if(fg[N].h2==dR)bu=fg[N];var d4=bu.add.vmsk.Nb(),hj=d4.EK();if(hj.P()==0)return;var fv=d4.Lr();if(E.Gm[3]!=null)jg=E.Gm[3];
if(!jg){fv=fv.slice(0);d.round(fv)}dy=[JSON.stringify(c.zG),JSON.stringify(c.RT)];kp=["[]","[]"];c.zG=[];
c.RT=[];Z={channel:fv,rect:hj}}else{if(dR==null)dR=F.XY.arP(c);Z=F.XY.az8(c,dR)}if(Y!=0&&c.i)Z=d.c7.H0(Z,c.i,Y);
X=[14,11]}if(H=="bgrm"){var cm=window.locStor.getItem("bgrmt"),bz=120;if(cm==null)cm=0;var db=F.XY.abn.bind([c,y,E]),eM=Math.floor((Date.now()-cm)/1e3);
if(!b4.qc()&&eM<bz){var de="Non-Premium users can use it once in "+bz+" seconds ("+(bz-eM)+" sec remain). Watch a short ad and skip waiting?";
gW.U6(db,de,"rmbg")}else db();return}if(Z!=null&&d.lN(Z.channel,0)){Z=null;X=[7,1]}if(Z)d.Q8(Z);var eb=new fN(X,this);
eb.data={d:"changesel",i:Z,xn:bw,ak$:fb,a18:iG,Zv:dy,acS:kp};c.QY(eb);this.Rn(eb.data,c)};F.XY.abn=function(){var E=this[0],y=this[1],c=this[2],e=E.B[E.g[0]],p=e.rect,H=e.buffer,Z=1,j="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)666`+'$T}MSVH?o:ja2.`Z%$PyHt =o<g8bdjbSTL}Jqtk;hj3NUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
while(Math.max(p.m,p.e)>4096){var X=d.Ws(H,p);p=X.rect;H=X.bb;Z*=2}var b=iu.sF("png"),k=iu.sF("jpg"),D=k.Jv([[H.buffer]],p.m,p.e);
j=JSON.parse(fp.L_(j));var p=new XMLHttpRequest;p.open("POST",j[0]);p.setRequestHeader(j[1],j[2]);p.setRequestHeader(j[3],j[4]);
var g=new FormData;g.append("image",new Blob([D],{type:"ima"+"ge/j"+"pg"}));p.send(g);alert(i4.get([23,5])+" ...",2800);
p.onload=function(R){var t=JSON.parse(R.target.response),w=t.results[0].entities[0].image,B=iu.ZM(w),w=b.cU(B)[0],$=w.Yu,o=d.R($.P());
d.DU(new Uint8Array(w.data),o);for(var N=0;N<o.length;N++){if(o[N]>250)o[N]=255}if(Z!=1){var X=F.Y.OL([o,$],new jr(Z,0,0,Z,0,0));
$=X.rect;o=X.channel}$.x=e.rect.x;$.y=e.rect.y;var T=new iU(S.E.v,!0);if(c.b==1){T.f=F.sh;T.data={d:jN.gP,RK:j[5],ar_:!0};
y.T(T);var i=e.Nb();i.color=0;i.rect=$;i.channel=o;i.Q8();e.fP()}else if(c.b==2){T.f=F.mW;T.data={d:"setsel",i:{channel:o,rect:$},xs:"Select Subject"};
y.T(T)}else throw"e";b4.event("rembg_Rem"+"ove B"+"G:  "+(b4.qc()?"Pre"+"mium":"Free"));window.locStor.setItem("bgrmt",Date.now())}};
F.XY.arP=function(E){var y=0;if(E.dL.length!=0)y=-5-E.dL[0];else if(JSON.stringify(E.Q.V)=="[1,1,1]")y=-1;
else y=-2-E.Q.V.indexOf(1);return y};F.XY.az8=function(E,y){var c,e=new ir(0,0,E.m,E.e);if(-5<y&y<0){var p=-y-1,H=E.eA(),Z=d.R(e.P());
if(p==0)d.DU(H,Z);else d.LI(H,Z,p-1);c={channel:Z,rect:e.clone()}}if(y<-4){c=F.XY.a3K(E.cB[-y-5],e)}return c};
F.XY.a3K=function(E,y){var c,e;if(E.yd()==0){e=E.EK().clone();if(e.P()==0)return;c=E.Lr()}else{e=y;c=d.R(e.P());
E.tv(e,c)}return{channel:c,rect:e}};F.XY.prototype.Zw=function(E){return this.CC||E.fu&&this.id!=F.w8};
F.XY.prototype.YY=function(E,y,c){var e=new iU(y,!0);e.data=c;E.T(e)};F.XY.prototype.aDJ=function(E,y){var c=new iU(S.E.M,!0);
c.data={d:S.H.qR,gs:y};E.T(c)};F.XY.prototype.EK=function(E,y,c){y=E.i==null||this.cF.Va(1)||this.cF.kL(1)?y:null;
var e=this.Lh,p=this.vy;if(c){e.x=Math.max(0,Math.min(E.m,e.x));e.y=Math.max(0,Math.min(E.e,e.y));p.x=Math.max(0,Math.min(E.m,p.x));
p.y=Math.max(0,Math.min(E.e,p.y))}var H=F.Hv.yR(e,p,y,!0,this.Qh.cstr),Z=H[0].x,X=H[0].y,b=new ir(Z,X,H[1].x-Z,H[1].y-X);
if(c){b.x=Math.max(b.x,0);b.y=Math.max(b.y,0)}return b};F.XY.prototype.yl=function(E,y,c,e,p){this.n6=!0;
if(this.Q6())return;this.bE=y;this.in=!1;this.cF.yl(e);this.Lh=E.Q.GV(p.x,p.y);this.Lh=F.pB.pQ(E,this.Lh,c);
if(this.avp(E,this.Lh,e)){this.CC=!0;this.nC=E.i.rect.clone();return}this.Lz(E,c,e,p);E.Q.ZC=new ir};
F.XY.prototype.avp=function(E,y,c){var e=c.S(ct.zx),p=c.S(ct.Q3);if(E.i&&!e&&!p&&this.Qh.binop==0)return d.U1(y,E.i.channel,E.i.rect);
return!1};F.XY.prototype.Lv=function(E,y,c,e,p){this.bE=y;if(this.uE)return;var H=E.Q.GV(p.x,p.y);if(eq.oG(this.Lh,H)*E.Q.O>5){this.in=!0;
this.cF.Lv()}if(e.S(ct.TV)){if(this.dc==null)this.dc=new eq(H.x-this.Lh.x,H.y-this.Lh.y);this.Lh.x=H.x-this.dc.x;
this.Lh.y=H.y-this.dc.y}else this.dc=null;this.vy=H;if(!this.CC&&this.id!=F.w8)this.vy=F.pB.pQ(E,this.vy,c);
if(this.avp(E,this.vy,e))this.aDJ(y,"move");else this.aDJ(y,this.fZ);if(this.CC){var Z=this.nC.clone();
Z.x+=this.vy.x-this.Lh.x;Z.y+=this.vy.y-this.Lh.y;var X=F.pB.Ih(E,Z,c);E.i.rect.x=Math.round(this.vy.x-this.Lh.x+this.nC.x+X[0]);
E.i.rect.y=Math.round(this.vy.y-this.Lh.y+this.nC.y+X[1]);E.zr=!0;F.pB.lx(E,Z,X);return}this.Xo(E,c,e,p,y);
if(E.Q.ZC)E.Q.ZC=this.EK(E,e)};F.XY.prototype.Q6=function(){return!1};F.XY.prototype.JA=function(E,y,c,e,p,H){var Z=this.n6;
this.n6=!1;if(H||!Z)return;E.Q.ZC=null;this.vy=E.Q.GV(p.x,p.y);this.vy=F.pB.pQ(E,this.vy,c);if(this.CC){this.CC=!1;
if(E!=null&&E.N.d2){E.N.d2=null;E.Ea=!0}if(this.vy.rT(this.Lh)&&this.Tl()==0){this.YY(y,S.E.on,F.XY.cg());
return}this.au6(E,this.nC,E.i.rect.clone());return}this.P6(E,c,e,p,y);F.XY.acz(y,c);this.cF.JA();this.w9(y)};
F.XY.prototype.au6=function(E,y,c){var e=E.f6();if(e!=null&&e.f==this&&e.data.d=="movesel"){}else{e=new fN([7,7],this);
e.data={d:"movesel",w5:y};E.QY(e)}e.data.M6=c;this.Rn(e.data,E)};F.XY.prototype.n$=function(E,y,c,e,p){this.uE=!0};
F.XY.prototype.vP=function(E,y,c,e,p){var H=new iU(S.E.M,!0);H.data={d:S.H.qq,f:this.id,iJ:p,XH:E,vE:c};
y.T(H);this.uE=!1};F.XY.prototype.Gu=function(E,y,c,e){this.cF.Gu(e);if(E!=null&&E.i!=null){var p=e.K$();
if(p.x!=0||p.y!=0){var H=E.i.rect.clone();H.x+=p.x;H.y+=p.y;this.au6(E,E.i.rect.clone(),H)}}this.w9(y)};
F.XY.prototype.w9=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.qq,f:this.id,QR:this.Tl()};E.T(y)};
F.XY.prototype.Tl=function(){var E=this.cF.Va(0),y=this.cF.kL(0);return F.XY.fY(this.Qh.binop,E,y)};
F.XY.fY=function(E,y,c){if(y)E=1;if(c)E=2;if(y&&c)E=3;return E};F.XY.prototype.finish=function(E,y,c,e){var p=E.i,H=this.getSelection(E,y,c,e);
if(H==null)H=F.XY.cg();else{var Z=this.Qh.feat,X=this.Tl();if(Z!=0)H.hG.Fthr={t:"UntF",v:{type:"#Pxl",val:Z}};
if(X!=0&&X!=4)H.tT=["","addTo","subtractFrom","interfaceWhite",""][X]}this.YY(this.bE,S.E.on,H);this.Lh.tW(-1,-1);
this.vy.tW(-1,-1)};F.XY.prototype.getSelection=function(E,y,c,e){return null};F.XY.prototype.Lz=function(E,y,c,e){};
F.XY.prototype.Xo=function(E,y,c,e){};F.XY.prototype.P6=function(E,y,c,e){};F.XY.prototype.GW=function(E,y){var c=E.d;
if(c=="changesel"){var e=y.i;y.i=E.i;E.i=e}if(c=="movesel")y.i.rect=E.w5;if(E.xn){if(E.ak$){y.dL=[y.cB.length];
y.cB.push(E.ak$)}else{y.cB.pop();y.dL=[]}}if(E.Zv){y.zG=JSON.parse(E.Zv[0]);y.RT=JSON.parse(E.Zv[1])}y.zr=!0};
F.XY.prototype.Rn=function(E,y){var c=E.d;if(c=="changesel"){var e=y.i;y.i=E.i;E.i=e}if(c=="movesel")y.i.rect=E.M6;
if(E.xn){if(E.a18){y.dL=[y.cB.length];y.cB.push(E.a18)}else{y.cB.pop();y.dL=[]}}if(E.Zv){y.zG=JSON.parse(E.acS[0]);
y.RT=JSON.parse(E.acS[1])}y.zr=!0};F.XY.prototype.bt=function(E){return E.d=="changesel"&&E.i?E.i.channel.length:0};
F.XY.prototype.vm=function(E){for(var y in E.Qh)this.Qh[y]=E.Qh[y]};F.XY.prototype.az0=function(E){var y=d.A.xv(E.j);
if(y.tj())return null;var c=d.FB(y.m,y.e);c.save();c.beginPath();c.translate(-y.x,-y.y);Typr.U.pathToContext({cmds:E.G,crds:E.j},c);
c.closePath();c.fill();c.restore();var e=d.R(y.P()),p=c.getImageData(0,0,y.m,y.e);d.LI(p.data,e,3);return{rect:y,channel:e}};
F.XY.awx=function(E,y,c,e,p){if(c)y=Math.round(y*.7);var H=Math.ceil(2.6*y),Z=E.rect.clone();Z.r4(H,H);
if(e&&!p)Z=Z.fr(e);var X=d.R(Z.P()),b=d.R(X.length);d.kh(E.channel,E.rect,b,Z);d.gC.VI(b,X,Z,y);if(c){var k=X.length;
for(var N=0;N<k;N++){var D=(X[N]-128)*y*2.5;X[N]=Math.max(0,Math.min(255,Math.round(128+D)))}}return{channel:X,rect:Z}};
F.XY.a3L=function(E,y,c){var e=Math.max(1,Math.ceil(c)),p=E.rect.clone();p.r4(e,e);var H=p.P(),Z={channel:d.R(H),rect:p},X=d.R(H);
d.kh(E.channel,E.rect,X,Z.rect);if(c!=0)d.style.stroke(X,Z.channel,Z.rect,c);else d.Jt(X,Z.channel);
var b=d.R(H);d.Ub(X);if(y!=0)d.style.stroke(X,b,Z.rect,y);else d.Jt(X,b);d.c7.fr(Z.channel,b,Z.channel);
return Z};F.XY.EV=function(E,y,c,e,p){var H=new ir(0,0,E.m,E.e),Z=E.eA();if(E.i){var X=E.i.rect.fr(H),b=d.R(X.P()*4);
d.E6(Z,H,b,X);H=X;Z=b}var k=H.P(),D=d.R(k),j=1/e;if(p){if(y>=c)y=c-1;var g=y*(1-e),R=y,t=c,w=c+(255-c)*e,B=g==R?0:1/(R-g),$=t==w?0:1/(w-t);
for(var N=0;N<k;N++){var o=N<<2,T=d._f(Z[o],Z[o+1],Z[o+2]),i=0;if(T<g)i=0;else if(T<R)i=(T-g)*B;else if(T<=t)i=1;
else if(T<=w)i=1-(T-t)*$;else i=0;D[N]=Z[o+3]*i*i}}else for(var N=0;N<k;N++){var o=N<<2,r=d.Nw(Z[o],Z[o+1],Z[o+2]),i=d.a8B(r,y,c,e,j);
D[N]=Z[o+3]*i}return{rect:H,channel:D}};F.QC=function(){F.XP.call(this,[10,18],F.xZ,"tools/blur");this.Ze="copy"};
F.QC.prototype=new F.XP;F.QC.prototype.yl=function(E,y,c,e,p){var H=e.S(ct.Q3)?b1.qE:b1.xZ;this.NA(E,c,e,p,this.Qh.strn,H);
if(this.Zk==null)return;this.Fr(E)};F.QC.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);
if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};F.fj=function(){F.XP.call(this,[10,0],F.WN,"tools/brush");
this.Ze="draw"};F.fj.prototype=new F.XP;F.fj.prototype.yl=function(E,y,c,e,p){if(this.m1(E,y,c,e,p,!0))return;
this.NA(E,c,e,p,this.Qh.flow);if(this.Zk==null)return;this.Fr(E)};F.fj.prototype.Lv=function(E,y,c,e,p){if(this.m1(E,y,c,e,p))return;
this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};
F.Kl=function(){F.XP.call(this,[10,42],F.Fp,"tools/crepl");this.Ze="idraw";this.Qh.bmode="hue "};F.Kl.prototype=new F.XP;
F.Kl.prototype.yl=function(E,y,c,e,p){if(this.m1(E,y,c,e,p,!0))return;this.NA(E,c,e,p,this.Qh.flow);
if(this.Zk==null)return;this.Fr(E)};F.Kl.prototype.Lv=function(E,y,c,e,p){if(this.m1(E,y,c,e,p))return;
this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};
F.C9=function(){F.XP.call(this,[10,43],F.WC,"tools/redeye");this.Qh.smode=0;this.Ze="redeye"};F.C9.prototype=new F.XP;
F.C9.prototype.yl=function(E,y,c,e,p){this.NA(E,c,e,p,this.Qh.flow);if(this.Zk==null)return;this.Fr(E)};
F.C9.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);if(this.Zk==null)return;
if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};F.cv=function(){F.XP.call(this,[10,38],F.LY,"tools/pencil");
this.Ze="draw"};F.cv.prototype=new F.XP;F.cv.prototype.yl=function(E,y,c,e,p){if(this.m1(E,y,c,e,p,!0))return;
this.NA(E,c,e,p,this.Qh.flow);if(this.Zk==null)return;this.Fr(E)};F.cv.prototype.Lv=function(E,y,c,e,p){if(this.m1(E,y,c,e,p))return;
this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};
F.os=function(){F.XP.call(this,[10,22],F.xR,"tools/burn");this.Ze="burn"};F.os.prototype=new F.XP;F.os.prototype.yl=function(E,y,c,e,p){this.NA(E,c,e,p,this.Qh.expo/Math.E);
if(this.Zk==null)return;this.Fr(E)};F.os.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);
if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};F._a=function(E,y,c){F.XP.call(this,E==""?null:E?E:[10,1],y?y:F.jl,c?c:"tools/clone");
this.Ze="clone";this.t1=null;this.z=null};F._a.prototype=new F.XP;F._a.prototype.yl=function(E,y,c,e,p){var H=this.Qh,Z=H.alt[0];
if(e.S(ct.Q3)||e.S(ct.yf)||Z){this.t1=E.Q.GV(p.x,p.y);this.z=null;if(Z)this.dY({alt:[!1]},y);this.$T(E);
this.qv(c,e,E,p);return}if(this.t1==null){alert(i4.get([15,7,0]));return}this.qv(c,e);this.NA(E,c,e,p,this.Qh.flow);
if(this.Zk==null)return;this.z=this.a81(E.Q.GV(p.x,p.y));this.Fr(E)};F._a.prototype.a81=function(E){var y=this.z;
if(y==null||!this.Qh.algnd)y=new eq(Math.round(E.x-this.t1.x),Math.round(E.y-this.t1.y));return y};F._a.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);
if(this.wT)this.$w(E,c,p);if(this.Zk==null){if(this.t1!=null)this.qv(c,e,E,p);return}if(!p.fu||this.t1==null)return;
this.OD(E,c,e,p);this.Fr(E)};F._a.prototype.DN=function(){return this.z};F.za=function(){F.gb.call(this,[10,53],F.a7t,"tools/csamp");
this.aW=-1;this.asy=null};F.za.prototype=new F.gb;F.za.prototype.yl=function(E,y,c,e,p){this.asy=JSON.stringify(E.v0);
var H=E.Q.GV(p.x,p.y),Z=E.v0,X=1e9,b=-1;for(var N=0;N<Z.length;N++){var k=Z[N],D=H.x-k.x,j=H.y-k.y,g=D*D+j*j;
if(g<X){X=g;b=N}}var R=15/E.Q.O;b=X<R*R?b:-1;if(b==-1){b=Z.length;Z.push({x:H.x,y:H.y})}else if(e.S(ct.Q3)){Z.splice(b,1);
b=-1}this.aW=b;E.Ea=!0};F.za.prototype.Lv=function(E,y,c,e,p){var H=this.aW;if(H!=-1){var Z=E.Q.GV(p.x,p.y);
E.v0[H].x=Z.x;E.v0[H].y=Z.y;E.Ea=!0}};F.za.prototype.JA=function(E,y,c,e,p,H){var Z=new fN(this.name,this);
Z.data={v5:this.asy,Hx:JSON.stringify(E.v0)};E.QY(Z);this.aW=-1};F.za.prototype.GW=function(E,y){y.v0=JSON.parse(E.v5)};
F.za.prototype.Rn=function(E,y){y.v0=JSON.parse(E.Hx)};F.Et=function(E,y,c){F.gb.call(this,E,y,c);this.wC={sY:{V4:0,x:0,y:0},cw:!1,rc:!1};
this.Bd=!1;this.Hr=null;this.cursor=null;this.aeC=0;this.r1=null;this.Lh=null;this.X6=null;this.K5=!1};
F.Et.prototype=new F.gb;F.Et.prototype.j_=function(){return this.Hr!=null};F.Et.prototype.Zw=function(E){return this.Lh!=null||this.Hr&&this.Hr.a16()};
F.Et.prototype.yl=function(E,y,c,e,p){this.r1=p;var H=E.Q.GV(p.x,p.y),Z=this.wC.sY,X=Z.V4!=0?Z.x/Z.y:null,b=this.K5;
this.K5=!1;if(this.Hr){var k=this.Hr.YN(H,E.Q.O);if(b&&k==null){this.Hr.clear(E);this.Hr=null}else{this.Hr.yl(E,c,e,H,X,!1,p);
return}}this.Lh=F.pB.pQ(E,H,c)};F.Et.prototype.jn=function(E,y,c){if(c==null)c=[E.x,E.y,E.x+E.m,E.y,E.x+E.m,E.y+E.e,E.x,E.y+E.e];
return new hl(c,!0,!1,this.id==F.dP,!0,y,this.id==F.dP?2:0,this.id==F.dP?4:3)};F.Et.prototype.qv=function(E){var y=new iU(S.E.M,!0);
y.data={d:S.H.qR,gs:this.cursor};E.T(y)};F.Et.prototype.enable=function(E,y,c,e){this.bE=y;this.cursor="crosshair";
this.qv(y);if(E!=null&&this.Hr==null){var p=E.i?{Yy:"cropby",ae0:3}:{Yy:"config",wC:this.wC,avM:!0};
this.vm(p,y,E,e,c);if(E.i==null&&this.wC.sY.V4==0)this.K5=!0}};F.Et.prototype.Lv=function(E,y,c,e,p){this.r1=p;
var H=E.Q.GV(p.x,p.y);if(!p.fu){var Z="crosshair";if(this.Hr){var X=this.Hr.YN(H,E.Q.O,null,p);if(X)Z=X;
else Z="default"}if(Z!=this.cursor){this.cursor=Z;this.qv(y)}}if(this.Hr)this.Hr.Lv(E,c,e,H);else if(this.Lh){if(this.Bd){E.N.Aq={G:["M","L"],j:[this.Lh.x,this.Lh.y,H.x,H.y]}}else{var b=F.Hv.yR(this.Lh,F.pB.pQ(E,H,c),e,!0,this.wC.sY),k=b[0].x,D=b[0].y,j=this.X6=new ir(k,D,b[1].x-k,b[1].y-D);
E.N.Aq=d.A.S6(j);F.gb.M0(p,j,E,c)}E.Ea=!0}};F.Et.aul=function(E,y,c){var e,p,X,b;if(y<=c){e=y;p=c}else{e=c;
p=y}var H=E-Math.floor((E+Math.PI)/(2*Math.PI))*2*Math.PI;H=Math.abs(H);if(H>Math.PI/2)H=Math.PI-H;var Z=e/(p*Math.sin(H)+e*Math.cos(H));
if(y<=c){X=e*Z;b=p*Z}else{X=p*Z;b=e*Z}return{Pf:X,T4:b}};F.Et.prototype.JA=function(E,y,c,e,p){this.r1=p;
var H=E.Q.GV(p.x,p.y);if(this.Hr==null){var Z=this.X6;if(this.Lh&&(Z||this.Bd)){if(this.Bd){var X=this.Lh,b=H,k=b.x-X.x,D=b.y-X.y;
if(Math.abs(k)<Math.abs(D))b=new eq(X.x-D,X.y+k);if(X.x>b.x){var j=X;X=b;b=j}var X=Math.atan2(-(b.y-X.y),b.x-X.x),g=F.Et.aul(X,E.m,E.e);
if(this.wC.rc){var R=d.A.S6(new ir(0,0,E.m,E.e)),t=new jr;t.rotate(X);d.A.u(R.j,t,R.j);g=d.A.xv(R.j);
g={Pf:g.m,T4:g.e}}var w=[0,0,g.Pf,0,g.Pf,g.T4,0,g.T4],B=new jr;B.translate(-g.Pf/2,-g.T4/2);B.rotate(X);
B.translate(E.m/2,E.e/2);d.A.u(w,B,w);this.Hr=this.jn(Z,!1,w);this.Bd=!1}else{var $=this.wC.sY;this.Hr=this.jn(Z,$.V4!=0)}this.Hr._F(E,c);
this.X6=null;this.YY(y,S.E.M,{d:S.H.qq,f:this.id,pu:!0});this.Lh=null;E.N.Wi=[];E.N.Aq=null;E.Ea=!0}return}this.Hr.JA(E,c,e,H);
this.YY(y,S.E.M,{d:S.H.qq,f:this.id,pu:!0});var w=this.Hr.si();if(Math.abs(w[0]-w[4])<2&&Math.abs(w[1]-w[5])<2){this.c9(E,y,null,e);
return}if(Date.now()-this.aeC<200&&this.Hr.FA(H)){this.eD(E,c);this.c9(E,y,c,e);return}this.aeC=Date.now()};
F.Et.prototype.Gu=function(E,y,c,e){var p=this.Hr;if(p==null||this.r1&&this.r1.fu)return;if(e.S(ct.qy)){this.eD(E,c);
this.c9(E,y,c,e)}else if(e.S(ct.SB)){this.c9(E,y,c,e)}else p.Gu(E,c,e)};F.Et.afY=function(E,y,c){var e={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:E[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:E[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:E[1]+E[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:E[0]+E[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:y!=null?y:0}},Dlt:{t:"bool",v:c!=null?c:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{tT:"crop",hG:e}};F.Et.r0=function(E,y){if(y==null)y=[!0,!0,!0,!0];var c={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][E]}}},e=["Top","Left","Btom","Rght"];
for(var N=0;N<4;N++)c[e[N]]={t:"bool",v:y[N]};return{tT:"trim",hG:c}};F.Et.ahX=function(E,y,c,e){var p={classID:"null"};
if(e!=null){p.Wdth={t:"UntF",v:{type:"#Pxl",val:E}};p.Hght={t:"UntF",v:{type:"#Pxl",val:y}};p.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][e]}}}if(c!=null)p.Rslt={t:"UntF",v:{type:"#Rsl",val:c}};
return{tT:"imageSize",hG:p}};F.Et.agx=function(E,y,c,e){if(c==null)c=4;if(e==null)e=!1;var p=Math.floor(c/3),H=c%3;
return{tT:"canvasSize",hG:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:E}},Hght:{t:"UntF",v:{type:"#Pxl",val:y}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][H]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][p]}},Rltv:{t:"bool",v:e}}}};
F.Et.prototype.hE=function(E,y,c,e,p){var H=new ir(0,0,c.m,c.e),Z=[11,3],X=c.$c,b=c.m/2,k=c.e/2,D=1,q,K,U;
if(E.d=="fromAction"){var j=E.Xu,g=j.tT,R=j.hG,t=c.m/c.e,w=R.Wdth?R.Wdth.v.val:-1,B=R.Hght?R.Hght.v.val:-1,X=R.Rslt?R.Rslt.v.val:null,$=R.Wdth?R.Wdth.v.type:R.Hght?R.Hght.v.type:-1,o=1,T;
if($=="#Prc"){if(w!=-1)w=Math.round(c.m*w/100);if(B!=-1)B=Math.round(c.e*B/100)}if(g=="imageSize"){if(R.Intr){if(R.Intr.v.Intp=="Nrst")o=0;
if(R.Intr.v.Intp=="bicubicSharper")o=2;if(w==-1&&B==-1){var i=X/c.$c;w=Math.round(c.m*i);B=Math.round(c.e*i)}if(R.CnsP&&R.CnsP.v){if(w==-1)w=Math.round(B*t);
if(B==-1)B=Math.round(w/t)}}else{if($=="#Prc")X=Math.round(c.$c*(c.m/w));else if($==-1)X=Math.round(X);
else throw"e";w=c.m;B=c.e}T={d:"imgsize",hO:w,n9:B,fW:X,e5:o}}else if(g=="canvasSize"){if(w==-1)w=c.m;
if(B==-1)B=c.e;if(R.Rltv&&R.Rltv.v==!0){if(R.Wdth)w+=c.m;if(R.Hght)B+=c.e}var r=R.Vrtc?R.Vrtc.v.VrtL:"Cntr",I=R.Hrzn?R.Hrzn.v.HrzL:"Cntr";
T={d:"canvsize",hO:w,n9:B,RG:3*["Top","Cntr","Btom"].indexOf(r)+["Left","Cntr","Rght"].indexOf(I)}}else if(g=="revealAll"){T={d:"revealAll"}}else if(g=="trim"){var M={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[R.trimBasedOn.v.trimBasedOn];
if(M==null)throw"e";var J=["Top","Left","Btom","Rght"],P=[!0,!0,!0,!0];for(var N=0;N<4;N++)if(R[J[N]])P[N]=R[J[N]].v;
T={d:"trim",ayb:M,ZZ:P}}else if(g=="crop"){var n,x,L,u;if(R.T){var C=R.T.v,n=Math.round(C.Left.v.val),x=Math.round(C.Top.v.val),L=Math.round(C.Rght.v.val)-n,u=Math.round(C.Btom.v.val)-x}else{var h=c.i.rect;
n=h.x;x=h.y;L=h.m;u=h.e}T={d:"canvsize",hO:L,n9:u,z:new eq(n,x),a4f:R.Dlt!=null&&R.Dlt.v}}else console.log(j);
if(T)this.hE(T,y,c,e,p);return}else if(E.d=="imgsize"){H=new ir(0,0,E.hO,E.n9);if(E.fW)X=E.fW;D=E.e5}else if(E.d=="canvsize"){var A=E.RG!=null?E.RG:0;
H=new ir(0,0,E.hO,E.n9);var W=c.m-E.hO,Q=c.e-E.n9,l=Math.round(W/2),O=Math.round(Q/2);if(A==1||A==4||A==7)H.x=l;
if(A==2||A==5||A==8)H.x=W;if(A==3||A==4||A==5)H.y=O;if(A==6||A==7||A==8)H.y=Q;if(E.z){H.x=E.z.x;H.y=E.z.y}}else if(E.d=="rot"&&(E.b+2*Math.PI)%(Math.PI/2)!=0){var z=d.A.S6(H).j,a=new jr;
a.translate(-b,-k);a.rotate(E.b);a.translate(b,k);d.A.u(z,a,z);H=d.A.xv(z)}else if(E.d=="rot"&&E.b!=Math.PI&&E.b!=-Math.PI){H=new ir(b-c.e/2,k-c.m/2,c.e,c.m);
if((c.m+c.e&1)==1){b=Math.floor(b);k=Math.floor(k);H=new ir(b-Math.floor(c.e/2),k-Math.floor(c.m/2),c.e,c.m);
if((c.m&1)==1&&E.b!=-Math.PI/2)H.y--;if((c.e&1)==1&&E.b==-Math.PI/2)H.x--}}else if(E.d=="trim"){Z=[11,12,0];
var m=c.eA(),h=new ir(0,0,c.m,c.e);H=d.aD(m,h,E.ayb,E.ZZ);if(H.tj())H=h}else if(E.d=="revealAll"){Z=[11,12,2];
H=c.root.EK(c,!0)}var f=E.d=="canvsize"&&E.a4f;if(E.d=="imgsize"||E.d=="rot"||E.d=="scl"||f){var Y=new jr;
if(E.d=="imgsize"){Z=[11,10];Y.scale(E.hO/c.m,E.n9/c.e);U=c.Tp();for(var N=0;N<U[0].length;N++)U[0][N][1]*=U[0][N][0]==0?Y.U:Y.sN}else if(f){}else{Y.translate(-b,-k);
if(E.d=="rot")Y.rotate(E.b);if(E.d=="scl")Y.scale(E.b.x,E.b.y);Y.translate(b,k);Z=E.xs}K=d.r.$m(Y);q=this.zH(c,p,!0,K,D,f?H:null)}else if(E.d=="auto-align"){if(c.g.length<2){alert("Select two or more layers.");
return}var G=[];for(var N=0;N<c.g.length;N++){var V=c.B[c.g[N]];if(!V.Gq()&&V.add.SoLd==null){alert("Unsupported layer selected.");
return}if(V.rect.tj()){alert("Empty layer selected.");return}G.push([V.buffer,V.rect])}var dF=d.pq.ob(G);
if(dF==null){alert("No similarity found.");return}K=dF[1];q=this.zH(c,p,!1,dF,D);H=c.root.EK(c,!0);Z=[2,10,1]}var s=new ir(0,0,c.m,c.e);
if(!H.tj()&&(!H.rT(s)||q!=null)){var aH=new fN(Z,this);aH.data={amv:c.$c,fW:X,tn:q,W7:K,fm:F.Et.aDw(c,H,s,q!=null)};
if(U){aH.data.atr=c.Tp();aH.data.au$=U}F.Et.agN(c,aH.data,H);c.QY(aH);this.Rn(aH.data,c)}};F.Et.aDw=function(E,y,c,e){if(E.Cv.length==0)return null;
var p=JSON.stringify(E.Cv),H=JSON.parse(p);F.Uj.aBo(H,y,c,e);H=JSON.stringify(H);return[p,H]};F.Et.prototype.zH=function(E,y,c,e,p,H,Z){var X={B:[],zU:null,uk:null};
if(c){for(var N=0;N<E.B.length;N++)X.B.push(N);for(var N=0;N<E.gA.length;N++)X.B.push(-1-N);for(var N=0;
N<E.cB.length;N++)X.B.push(-1e3-N)}else X.B=E.g.slice(0);X.zU=F.Y.h8(E,X.B,!0);var b=Math.abs(e[3]*e[1])>1e-9;
F.Y.NX(E,y,X.B,X.zU,p,e,null,!0,b?null:H);if(c&&Z&&E.iR()){var k=E.B[E.g[0]],D=k.buffer,j=k.rect,g=b?j.clone():H.clone(),R=d.R(g.P()*4),t=d.R(j.P());
d.LI(D,t,3);var w=d.R(g.P());d.kh(t,j,w,g);d.round(w,255);d.Ub(w);var B=d.Js.sy(D,j,w,R,g);if(B==0){k.rect=g;
k.buffer=R}}X.uk=F.Y.h8(E,X.B,!0);return X};F.Et.prototype.Rn=function(E,y){if(E.fW)y.$c=E.fW;if(E.fm)y.Cv=JSON.parse(E.fm[1]);
if(E.tn){F.Et.gf(y,d.r.IF(E.W7));F.Y.b2(y,E.tn.B,E.tn.uk);if(E.au$)y.Z5(E.au$)}F.Et.h$(y,E)};F.Et.prototype.GW=function(E,y){if(E.amv)y.$c=E.amv;
if(E.fm)y.Cv=JSON.parse(E.fm[0]);F.Et.mT(y,E);if(E.lk)y.Q.z.xJ(E.lk);y.aeL();if(E.tn){var c=d.r.IF(E.W7).clone();
c.Ub();F.Et.gf(y,c);F.Y.b2(y,E.tn.B,E.tn.zU);if(E.atr)y.Z5(E.atr)}};F.Et.gf=function(E,y){for(var N=0;
N<E.B.length;N++){var c=E.B[N];if(c.add.artb==null)continue;var e=d.A.S6(c.fQ()).j;d.A.u(e,y,e);var p=d.A.xv(e);
c.ix(p)}};F.Et.Mo=function(E){var y=new ir,c=0,e=E.root.children.length;for(var N=0;N<e;N++){var p=E.root.children[N].a;
if(p.add.artb==null)continue;y=y.uN(p.fQ());c++}var H=new ir(0,0,E.m,E.e);if(!y.tj()&&!H.rT(y))return y;
return null};F.Et.jX=function(E){var y=F.Et.Mo(E);if(y)F.Et.cw(E,y,!0);return y};F.Et.cw=function(E,y,c){var e=E.m,p=E.e,H=y.m,Z=y.e,X=y.x==0&&y.y==0;
if(X&&e==H&&p==Z)return;E.m=H;E.e=Z;var b=[];for(var N=0;N<E.B.length;N++)b.push(N);if(!X)F.pB.Ae(E,b,null,-y.x,-y.y);
for(var N=0;N<E.B.length;N++){E.B[N].fP(E)}E.aeL();if(c){var k=E.Q.z,D=E.Q.O;k.x+=Math.round((y.x+(H-e)/2)*D);
k.y+=Math.round((y.y+(Z-p)/2)*D)}else E.Q.z.tW(0,0);if(E.i)E.i.rect.offset(-y.x,-y.y);var j=E.Tp();for(var g=0;
g<j[0].length;g++)if(j[1][g]==-1){var R=E.oc[g];R[1]-=R[0]==0?y.x:y.y}for(var N=0;N<E.cB.length;N++)E.cB[N].rect.offset(-y.x,-y.y)};
F.Et.prototype.vm=function(E,y,c,e,p){if(E.Yy=="commit"){this.eD(c,p);this.c9(c,y,null,e)}else if(E.Yy=="cancel"){this.c9(c,y,null,e)}var H=null,Z=new ir(0,0,c.m,c.e),X=this.wC.sY;
if(E.Yy=="config"){this.wC=E.wC;X=this.wC.sY;if(c==null||!E.avM)return;H=Z;if(X.V4==1){var b=X.x/X.y;
if(H.m/b<H.e)H.e=Math.round(H.m/b);else H.m=Math.round(H.e*b)}if(X.V4==2){H.m=X.x;H.e=X.y}H.x=Math.round((c.m-H.m)/2);
H.y=Math.round((c.e-H.e)/2)}if(E.Yy=="straighten"){alert("Draw a line in the image.");this.Bd=!0}if(E.Yy=="cropby"){if(c==null)return;
var k=E.ae0,H;if(k==0)H=c.root.EK(c,!0);if(k==1){if(c.g.length==0)alert("No layer is selected.");else{var D=c.root.f$(c.g[0]);
H=D.EK(c,!0)}}if(k==2){if(c.g.length==0)alert("No layer is selected.");else{H=d.aD(c.eA(),Z,0);if(H.tj())H=Z.clone()}}if(k==3){if(c.i!=null)H=c.i.rect;
else alert("There is no selection.")}if(k==4){H=new ir(0,0,c.m,c.e)}}if(H&&H.tj())H=null;if(H!=null){this.Hr=this.jn(H,X.V4!=0);
this.Hr._F(c,p);this.YY(y,S.E.M,{d:S.H.qq,f:this.id,pu:!0})}};F.Et.prototype.Hl=function(E,y,c,e){this.YY(y,S.E.M,{d:S.H.qq,f:this.id,J6:[E.m,E.e]})};
F.Et.prototype.eD=function(E,y){var c=this.Hr.si(),e=d.A.xv(c),p=this.a4i(E,c),H=!1,Z=this.wC,X=Z.sY,b=Z.cw,k=X.x,D=X.y,R;
if(this.id==F.iC&&X.V4==2&&p.P()!=k*D){p=new ir(p.x,p.y,k,D);H=!0}var j=d.r.C0(c,p);j=d.r.Ub(j);var g=d.r.A6(j),t=Math.atan2(j[3],j[0]),w=new ir(0,0,E.m,E.e);
if(Math.abs(t)>1e-9||!g||H||b||Z.rc)R=this.zH(E,y,!0,j,1,e,Z.rc);else if(p.rT(w))return;var B=new fN(this.name,this);
B.data={tn:R,W7:j,lk:E.Q.z.clone(),fm:F.Et.aDw(E,p,w,!1)};F.Et.agN(E,B.data,p);E.QY(B);this.Rn(B.data,E);
this.track(F.Et.afY([e.x,e.y,e.m,e.e],null,b))};F.Et.agN=function(E,y,c){if(c==null)return;y.w5=new ir(0,0,E.m,E.e);
y.M6=c};F.Et.h$=function(E,y){if(y.M6==null)return;F.Et.cw(E,y.M6)};F.Et.mT=function(E,y){if(y.M6==null)return;
var c=y.w5.clone();c.offset(-y.M6.x,-y.M6.y);F.Et.cw(E,c)};F.Et.prototype.a4i=function(E,y){var c=d.r.C0(y),e=d.r.A6(c),p=d.r.IF(c),H=p.Kc,Z=p.Dm,X=Math.atan2(p.J,p.U);
p.rotate(X);var b=new ir(H,Z,p.U,p.sN);if(!e){function k(T,N,i){var r=T[N]-T[i],I=T[N+1]-T[i+1];return Math.sqrt(r*r+I*I)}var D=k(y,0,2),j=k(y,4,6),g=Math.max(D,j),R=k(y,2,4),t=k(y,6,0),w=Math.max(R,t),B=F.Et.dm(y,E.m/2,E.e/2),$,o;
if(isNaN(B)||B==Infinity||B==-Infinity||Math.min(B,1/B)<.1)B=(D+j)/(R+t);if(g/w>B){$=g*1;o=$/B}else{o=w*1;
$=o*B}b.m=$;b.e=o}b.x=Math.round(b.x);b.y=Math.round(b.y);b.m=Math.round(b.m);b.e=Math.round(b.e);return b};
F.Et.dm=function(E,y,c){var e=E[0]-y,p=E[1]-c,H=E[2]-y,Z=E[3]-c,X=E[6]-y,b=E[7]-c,k=E[4]-y,D=E[5]-c,j=((p-D)*X-(e-k)*b+e*D-p*k)/((Z-D)*X-(H-k)*b+H*D-Z*k),g=((p-D)*H-(e-k)*Z+e*D-p*k)/((b-D)*H-(X-k)*Z+X*D-b*k),R=-((g*b-p)*(j*Z-p)+(g*X-e)*(j*H-e))/((g-1)*(j-1));
function t(B){return B*B}var w=Math.sqrt((t(j-1)+t(j*Z-p)/R+t(j*H-e)/R)/(t(g-1)+t(g*b-p)/R+t(g*X-e)/R));
if(j==1&&g==1)w=Math.sqrt((t(Z-p)+t(H-e))/(t(b-p)+t(X-e)));return w};F.Et.prototype.c9=function(E,y,c,e){if(E==null)return;
if(this.Hr)this.Hr.clear(E);this.Hr=null;this.YY(y,S.E.M,{d:S.H.qq,f:this.id,pu:!1})};F.Et.prototype.disable=function(E,y,c,e){if(this.Hr)this.eD(E,c);
this.c9(E,y,c,e)};F.Et.prototype.YY=function(E,y,c,e){var p=new iU(y,!0);p.data=c;if(e)p.f=e;E.T(p)};
F.aCA=function(){F.Et.call(this,[10,2],F.iC,"tools/rcrop")};F.aCA.prototype=new F.Et;F.ajg=function(){F.Et.call(this,[10,39],F.dP,"tools/pcrop")};
F.ajg.prototype=new F.Et;F.ws=function(){F.XP.call(this,[10,21],F.l8,"tools/dodge");this.Ze="dodge"};
F.ws.prototype=new F.XP;F.ws.prototype.yl=function(E,y,c,e,p){this.NA(E,c,e,p,this.Qh.expo/Math.PI);
if(this.Zk==null)return;this.Fr(E)};F.ws.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);
if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};F.hH=function(){F.XP.call(this,[10,3],F.co,"tools/eraser");
this.Ze="erase"};F.hH.prototype=new F.XP;F.hH.prototype.yl=function(E,y,c,e,p){this.NA(E,c,e,p,this.Qh.flow);
if(this.Zk==null)return;this.Fr(E)};F.hH.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);
if(this.Zk==null)return;if(!p.fu)return;var H=this.OD(E,c,e,p);this.Fr(E)};F.lV=function(){F.XP.call(this,[10,45],F.y4,"tools/beraser");
this.Ze="ierase"};F.lV.prototype=new F.XP;F.lV.prototype.yl=function(E,y,c,e,p){if(this.m1(E,y,c,e,p,!0))return;
this.NA(E,c,e,p,this.Qh.flow);if(this.Zk==null)return;this.Fr(E)};F.lV.prototype.Lv=function(E,y,c,e,p){if(this.m1(E,y,c,e,p))return;
this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};
F.hd=function(){F.XY.call(this,[10,15],F.mW,"tools/rselect");this.fZ="crosshair"};F.hd.prototype=new F.XY;
F.hd.prototype.Xo=function(E,y,c,e){if(!e.fu||!this.in)return;var p=this.EK(E,c,!0);E.N.Aq=d.A.S6(p);
E.Ea=!0;F.gb.M0(e,p,E,y)};F.hd.prototype.P6=function(E,y,c,e){E.N.Aq=null;E.N.Wi=[];E.Ea=!0;this.finish(E,y,c,e)};
F.hd.prototype.getSelection=function(E,y,c,e){if(this.Lh.rT(this.vy)||!this.in)return null;var p=this.EK(E,c,!0);
if(p.tj())return null;return F.XY.hR("Rctn",p,this.Qh.anta)};F.M8=function(){F.XY.call(this,[10,4],F.amQ,"tools/eselect");
this.fZ="crosshair"};F.M8.prototype=new F.XY;F.M8.prototype.Xo=function(E,y,c,e){if(!e.fu||!this.in)return;
var p=this.EK(E,c);E.N.Aq=F.M8.axB(p);E.Ea=!0;F.gb.M0(e,p,E,y)};F.M8.prototype.P6=function(E,y,c,e){E.N.Aq=null;
E.N.Wi=[];E.Ea=!0;this.finish(E,y,c,e)};F.M8.prototype.getSelection=function(E,y,c,e){if(this.Lh.rT(this.vy)||!this.in)return null;
var p=this.EK(E,c);if(!p.TF(new ir(0,0,E.m,E.e)))return null;return F.XY.hR("Elps",p,this.Qh.anta)};
F.M8.axB=function(E){var y=E.x,c=E.y,e=E.x+E.m,p=E.y+E.e,H=(y+e)/2,Z=(c+p)/2,X=(y-e)/2,b=(c-p)/2,k=.5522848,D={j:[H,Z-b],G:["M","C","C","C","C"]};
D.j.push(H+k*X,Z-b,H+X,Z-k*b,H+X,Z);D.j.push(H+X,Z+k*b,H+k*X,Z+b,H,Z+b);D.j.push(H-k*X,Z+b,H-X,Z+k*b,H-X,Z);
D.j.push(H-X,Z-k*b,H-k*X,Z-b,H,Z-b);return D};F.gw=function(E){F.gb.call(this,[10,5],E?F.Am:F.Op,"tools/eyedropper");
this.ZR=null;this.akM=!1;this.QW=0;this.tV=null;this.ZS=1;this.t2=2;this.azj=!0;this.Zz=!1};F.gw.prototype=new F.gb;
F.gw.prototype.Zw=function(E){return E.fu};F.gw.prototype.enable=function(E,y,c,e,p){F.gb.prototype.enable.call(this,E,y,c,e,p);
this.akM=p};F.gw.prototype.hE=function(E,y,c,e,p){if(E.d=="pickhere")this.W1(c,y,p,null,E.a8r);if(E.d=="supertool")this.ZR=E.f};
F.gw.prototype.yl=function(E,y,c,e,p){var H=this.ZR;if(H){H.yl(E,y,c,e,p);return}this.QW=c.x4;this.tV=p;
var Z=this.W1(E,null,c,e,p);this.qv(E,y,Z,p)};F.gw.prototype.Lv=function(E,y,c,e,p){var H=this.ZR;if(H){H.Lv(E,y,c,e,p);
return}var Z=this.tV;if(Z){var X=p.x-Z.x,b=p.y-Z.y,k=1,D=new eq(Z.x+X*k,Z.y+b*k),j=this.W1(E,null,c,e,D);
this.qv(E,y,j,D,new eq(X*(1-k),b*(1-k)))}};F.gw.prototype.qv=function(E,y,c,e,p){var H=this.azj,Z=this.Zz;
if(E.Q.O>4)Z=!1;if(!Z&&!H)return;var X=F.gw.amD(E,Z,H,e,p,c,this.QW,this.ZS),b=new iU(S.E.M,!0);b.data={d:S.H.qR,gs:X};
y.T(b)};F.gw.prototype.JA=function(E,y,c,e,p,H){var Z=this.ZR;if(Z){Z.JA(E,y,c,e,p);return}this.W1(E,y,c,e,p);
if(this.tV){this.tV=null;if(H)this.W1(E,y,c,e,p,this.QW);var X=new iU(S.E.M,!0);X.data={d:S.H.qR,gs:"default"};
y.T(X)}};F.gw.prototype.W1=function(E,y,c,e,p,H){if(H==null)H=F.gw.vH(E,p,this.ZS,this.t2);var Z=new iU(S.E.M);
Z.data={d:S.H.z2,Wp:iL.g6,s6:!this.akM&&e&&e.S(ct.Q3)?1:0,b:H};if(y)y.T(Z);return H};F.gw.amD=function(E,y,c,e,p,H,Z,X){if(p==null)p=new eq(0,0);
var b=new ir(0,0,E.m,E.e),k=E.eA(),D=12,j=11,g=(D*2+1)*j,R=new eq(g/2,g/2),t=new ir(0,0,g,g),w=d.R(t.P()*4),B=E.Q.GV(e.x,e.y),$=Math.floor(B.x),o=Math.floor(B.y),T=new jr;
T.scale(1/j,1/j);T.translate($-D,o-D);if(y)d.scale.ana(k,b,T,w,t);var i=(D-3.4)*j,r=(D-1.7)*j,I=D*j;
for(var M=0;M<g;M++)for(var J=0;J<g;J++){var P=eq.oG(new eq(J,M),R);if(P>i){if(c){var n=Math.max(0,i-P+1),x=(M*g+J)*4,L=w[x+3]<<24|w[x]<<16|w[x+1]<<8|w[x+2],u=255<<24|(M<I+j*.5?H:Z);
if(P>r){n=Math.max(0,r-P+1);L=u;u=4286611584}else if(!y){L=u&16777215}w[x+0]=(1-n)*(u>>>16&255)+n*(L>>>16&255);
w[x+1]=(1-n)*(u>>>8&255)+n*(L>>>8&255);w[x+2]=(1-n)*(u>>>0&255)+n*(L>>>0&255);w[x+3]=(1-n)*(u>>>24&255)+n*(L>>>24&255)}if(P>I){w[(M*g+J)*4+3]=Math.max(0,255*(I-P+1))}}}function C(N){var V=N<<2;
w[V]=0;w[V+1]=0;w[V+2]=0;w[V+3]=255}function h(N){var V=N<<2;w[V]=255;w[V+1]=255;w[V+2]=255;w[V+3]=255}var A=X*j+2,W=g-A>>>1,Q=W+A-1;
if(y&&A<g)for(var N=0;N<A;N++){var l=W*g+W+N,O=Q*g+W+N,z=(W+N)*g+W,a=(W+N)*g+Q;C(l);C(O);C(z);C(a);if(N!=0&&N!=A-1){h(l+g);
h(O-g);h(z+1);h(a-1)}}if(!y)for(var N=-9;N<=9;N++){if(-3<N&&N<3)continue;var m=g>>>1,J=m*g+m+N,M=(m+N)*g+m;
h(J-g);C(J);h(J+g);h(M-1);C(M);h(M+1)}var q=H>>>16&255,K=H>>>8&255,U=H>>>0&255,f="RGB "+q+","+K+","+U,Y=d.jS([q/255,K/255,U/255]);
if(E.add.fcmy)f="CMYK "+Y.map(function(V){return Math.round(V*100)}).join(",");var G=F.gb.Fe(0,0,["#"+d.ly(H),f]),b=G[1];
b.y=0;b.x=g-b.m>>>1;d.E6(G[0],b,w,t);return{Rh:w,k4:t,gN:new eq(R.x+p.x,R.y+p.y)}};F.gw.vH=function(E,y,c,e,p){if(e==null)e=2;
var H=E.Q.GV(y.x,y.y),Z,X,b=E.g.length==1&&E.B[E.g[0]].p6>0&&p!=!0,k=E.dL.length!=0,r=0,I=0,M=0;if(b||k){var D;
if(k)D=E.cB[E.dL[0]];else{var j=E.B[E.g[0]];D=j.p6==1?j.Nb():j.a9V()}X=D.EK();if(!X.u6(H))return D.color==0?0:16777215;
Z=d.R(X.P()*4);Z.fill(255);var g=D.Lr();d.Q9(g,Z)}else if(e==0&&E.g.length!=0){var j=E.B[E.g[0]];Z=j.buffer;
X=j.rect}else{Z=e==2?E.eA():E.eA(E.g[0]);X=new ir(0,0,E.m,E.e)}var R=Math.floor(H.x)-X.x,t=Math.floor(H.y)-X.y,w=(c-1)/2,B=Math.max(0,R-w),$=Math.max(0,t-w),o=Math.min(X.m,R+w+1),T=Math.min(X.e,t+w+1),i=(o-B)*(T-$);
for(var R=B;R<o;R++)for(var t=$;t<T;t++){var N=4*(t*X.m+R);r+=Z[N];I+=Z[N+1];M+=Z[N+2]}r=Math.round(r/i);
I=Math.round(I/i);M=Math.round(M/i);return r<<16|I<<8|M};F.gw.prototype.vm=function(E){var y=E.Qh;this.ZS=[1,3,5,11,31][y[0]];
this.t2=y[1];this.azj=y[2];this.Zz=y[3]};F.bu=function(){F.gb.call(this,[10,6],F.FS,"tools/gradient");
this.Qh={L:JSON.parse(cb.Wy.aq9).v,mp:"Lnr",WJ:!1,m4:!1,a3v:"norm",Mz:1};this.W5=!1;this.Pd=null};F.bu.prototype=new F.gb;
F.bu.prototype.enable=function(E,y,c,e){var p=new iU(S.E.M,!0);p.data={d:S.H.qR,gs:"default"};y.T(p)};
F.bu.prototype.vm=function(E){this.Qh=E.Wp};F.bu.prototype.yl=function(E,y,c,e,p){if(!E.iR())return;
this.Pd=E.Q.GV(p.x,p.y);this.Pd=F.pB.pQ(E,this.Pd,c);this.W5=!0};F.bu.prototype.Lv=function(E,y,c,e,p){if(!this.W5)return;
var H=E.Q.GV(p.x,p.y);H=F.pB.pQ(E,H,c);if(e.S(ct.zx))H=F.bu._K(this.Pd,H);E.N.Aq={j:[this.Pd.x,this.Pd.y,H.x,H.y],G:["M","L"]};
E.N.AX=[this.Pd.x,this.Pd.y,H.x,H.y];E.Ea=!0};F.bu.prototype.JA=function(E,y,c,e,p){if(!this.W5)return;
var H=E.B[E.g[0]],Z=E.Q.GV(p.x,p.y);Z=F.pB.pQ(E,Z,c);if(e.S(ct.zx))Z=F.bu._K(this.Pd,Z);var X=Z.DZ(this.Pd),b=eq.UC(this.Pd,Z,.5),k=Math.atan2(X.y,X.x),D=eq.oG(this.Pd,Z),j=Math.sin(k),g=Math.cos(k);
if(D>2){var R;if(E.i)R=E.i.rect;else R=new ir(0,0,E.m,E.e);var t=d.R(R.P()*4),w=this.Qh,B=w.mp;if(B!="Lnr"){D*=2;
b=this.Pd}d.L.Z$(w.L,t,R,[g*1/D,j*1/D,-j*1/D,g*1/D],b.x,b.y,w.WJ,cb.L.types.indexOf(B),c.x4,c.YO,null,w.m4);
var $=Math.round(w.Mz*256),o=t.length;if($!=256)for(var N=0;N<o;N+=4)t[N+3]=t[N+3]*$>>>8;var T=new iU(S.E.v);
T.f=F.co;T.data={d:"fillBMP",Zg:t,yS:w.a3v,xs:this.name};y.T(T)}E.N.Aq=null;E.N.AX=[];E.Ea=!0;this.W5=!1};
F.bu.prototype.hE=function(E,y,c,e,p){function H(g){g=g.v;var R=g.Hrzn.v.val,t=g.Vrtc.v.val;return c.Q.qW(R,t)}if(E.d=="fromAction"){var Z=this.Qh,X=this.Qh={};
for(var b in Z)X[b]=Z[b];var k=E.Xu.hG;if(k.Opct)X.Mz=k.Opct.v.val/100;if(k.Dthr)X.m4=k.Dthr.v;if(k.Grad)X.L=k.Grad.v;
if(k.Type)X.mp=k.Type.v.GrdT;var D=H(k.From),j=H(k.T);this.yl(c,y,p,e,D);this.JA(c,y,p,e,j);this.Qh=Z}};
F.bu._K=function(E,y){if(E.rT(y))return E;var c=y.x-E.x,e=y.y-E.y,p=Math.abs(c),H=Math.abs(e);if(p>H)H=p/2>H?0:p;
if(H>p)p=H/2>p?0:H;p=c>0?p:-p;H=e>0?H:-H;var Z=Math.sqrt(c*c+e*e)/Math.sqrt(p*p+H*H);return new eq(E.x+p*Z,E.y+H*Z)};
F.bu.y_=function(E,y,c,e,p,H,Z){var X=new ir(0,0,y,c),b=d.R(y*c*4);d.o2(b,y,c,4);var k=Math.sin(e),D=Math.cos(e),j=d.R(y*c*4);
d.L.Z$(E,j,X,[D*1/y,k*1/y,-k*1/c,D*1/c],y/2,c/2,!1,0,p,H);d.l.Io("norm",j,X,b,X,X,1);if(Z)return new ImageData(new Uint8ClampedArray(b.buffer),y,c);
else return iu.Se(b.buffer,y,c,null,null,!0)};F.bu.ant=function(E,y,c){var e=JSON.parse(JSON.stringify(E));
if(e.Clrs)for(var N=0;N<e.Clrs.v.length;N++){var p=e.Clrs.v[N].v,H=p.Type.v.Clry;if(H=="UsrS")continue;
var Z=H=="FrgC"?y:c;p.Type.v.Clry="UsrS";p.Clr={t:"Objc",v:d.L.hp({Z:Z>>16&255,D:Z>>8&255,J:Z&255})}}return e};
F.nY=function(){F.gb.call(this,[10,7],F.G3,"tools/hand");this._j=!1;this.tV=new eq(0,0);this.OZ=null;
this.KU=0};F.nY.prototype=new F.gb;F.nY.prototype.vm=function(E,y,c,e){this._j=E._j};F.nY.prototype.hE=function(E,y,c,e,p){var H=E.d;
if(H=="setcls"){c.Q.V=E.V;c.Ea=!0;c.hb=!0}if(H=="scroll"&&!e.S(ct.Q3)){if(e.S(ct.Nc))F.nY.Fm(c,c.Q.z.x-E.Ik.y,c.Q.z.y-E.Ik.x);
else F.nY.Fm(c,c.Q.z.x-E.Ik.x,c.Q.z.y-E.Ik.y)}};F.nY.prototype.enable=function(E,y,c,e){this.OZ=null;
var p=new iU(S.E.M,!0);p.data={d:S.H.qR,gs:"grab"};y.T(p);if(E&&Date.now()-this.KU<300){p.type=S.E.v;
p.f=F.fE;p.data={d:"adapt",b:"fitscr"};y.T(p)}this.KU=Date.now()};F.nY.prototype.yl=function(E,y,c,e,p){this.OZ=E.Q.z.clone();
this.tV.tW(p.x,p.y)};F.nY.prototype.Lv=function(E,y,c,e,p){if(!p.fu)return;if(this.OZ==null)this.yl(E,y,c,e,p);
var H=this._j?y.l9:[E];for(var N=0;N<H.length;N++)F.nY.Fm(H[N],this.OZ.x+(p.x-this.tV.x),this.OZ.y+(p.y-this.tV.y))};
F.nY.prototype.JA=function(E,y,c,e,p){this.OZ=null};F.nY.Fm=function(E,y,c){var e=E.Q.O,p=E.Q.tP,H=p.m,Z=p.e,X=E.m*e,b=E.e*e,k=X<H&&b<Z,D=H/2+X/2-64,j=Z/2+b/2-64;
E.Q.z.tW(Math.max(-D,Math.min(D,y)),Math.max(-j,Math.min(j,c)));E.hb=!0};F.kW=function(){F.gb.call(this,[10,47],F.B1,"tools/rview");
this.tV=new eq(0,0);this.uz=null;this.IC=null;this.KU=0};F.kW.prototype=new F.gb;F.kW.prototype.enable=function(E,y,c,e){this.OZ=null;
var p=new iU(S.E.M,!0);p.data={d:S.H.qR,gs:"grab"};y.T(p);if(E&&Date.now()-this.KU<300&&E.Q.fb!=0){E.Q.fb=0;
E.Ea=!0}this.KU=Date.now();if(E)this.Ie(E,y)};F.kW.prototype.disable=function(E,y,c,e,p){if(E)this.Ie(E,y)};
F.kW.prototype.ri=function(E,y,c,e){if(E)this.Ie(E,y)};F.kW.prototype.yl=function(E,y,c,e,p){this.tV.tW(p.x,p.y);
var H=E.Q;this.uz=H.GV(H.tP.m/2,H.tP.e/2);this.IC=H.GM();var Z=H.GV(H.tP.m/2,H.tP.e/2),X=Math.min(H.tP.m,H.tP.e)*.35/H.O,b=X*.2,k=Z.x,D=Z.y;
E.N.Aq={G:"M L L L L L".split(" "),j:[k,D,k,D-X,k+b,D,k,D+X,k-b,D,k,D-X]};E.Ea=!0};F.kW.prototype.anU=function(E){var y=E.Q,c=y.GV(y.tP.m/2,y.tP.e/2);
E.N.Aq={G:["M","L"],j:[c.x,c.y,c.x,c.y-200]}};F.kW.prototype.Lv=function(E,y,c,e,p){if(!p.fu)return;
var H=E.Q,Z=this.uz,X=this.tV,b=new eq(H.tP.m/2,H.tP.e/2),k=Math.atan2(p.y-b.y,p.x-b.x),D=Math.atan2(X.y-b.y,X.x-b.x),j=Math.atan2(this.IC.J,this.IC.U),g=k-D,R=Math.PI/4;
if(e.S(ct.zx)){g=j+R*Math.round((g-j)/R)}this.a7W(E,y,this.IC.clone(),Z,g)};F.kW.prototype.JA=function(E,y,c,e,p){E.N.Aq=null;
E.Ea=!0};F.kW.prototype.vm=function(E,y,c,e){this.a7W(c,y,null,null,E.tO-c.Q.fb);c.Q.fb=E.tO};F.kW.prototype.a7W=function(E,y,c,e,p){var H=E.Q;
if(c==null)c=H.GM();if(e==null)e=H.GV(H.tP.m/2,H.tP.e/2);c.translate(-e.x,-e.y);c.rotate(p);c.translate(e.x,e.y);
H.axn(c);if(E.m*H.O<H.tP.m&&E.e*H.O<H.tP.e)H.z.tW(0,0);E.Ea=!0;this.Ie(E,y)};F.kW.prototype.Ie=function(E,y){var c=new iU(S.E.M,!0);
c.data={d:S.H.qq,f:this.id,tO:E.Q.fb};y.T(c)};F.Az=function(){F._a.call(this,[10,25],F.aa,"tools/hbrush")};
F.Az.prototype=new F._a("");F.Az.prototype.JA=function(E,y,c,e,p){if(this.Zk==null)return;this.CD(E,"heal",this.Zk.mn(),this.Zk.EK(),this.Zk.JU());
this.W(E,this.Zk.JU());F.XP.prototype.JA.call(this,E,y,c,e,p);if(!this.Qh.algnd)this.z=null};F.fa=function(E){F.gb.call(this,E?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],E?F.tI:F.IB,E?"tools/vtype":"tools/htype");
this.lM=[];this.vE=null;this.caller=null;this.a9=1;this.Yl=0;this._J=null;this.asH=0;this.Q1=0;this.avx=null;
this.Sn=null;this.G_=null;this.pn=null;this.nX=null;this.I8=null;this.a9Z=null;this.mM=null;this.Hr=null;
this.ms=null;this.ans=null;this.mY=!1;this.X3=!1;this.Hq=!1;this.JT=null;this.AO=null;this.avV=null;
this.AC=!1;this.HZ=!1;this.le=-1;this.ee=-1;this.a1=document.createElement("textarea");this.a1.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.a1.addEventListener("input",this.N9.bind(this),!1);this.a1.addEventListener("keydown",this.acA.bind(this),!1);
this.a1.addEventListener("keyup",this.acq.bind(this),!1)};F.fa.prototype=new F.gb;F.fa.prototype.Zw=function(E){return E.fu};
F.fa.prototype.Hl=function(E,y,c,e){if(this.G_!=null||this.id==F.tI)return;this.caller=y;var p=this.au8(E);
if(p.length!=0){var H=null,Z=[],X=[];for(var N=0;N<p.length;N++){var b=E.B[p[N]],k=b.add.TySh,D=0,j=gV.qO(k.Ax).length-2,g=gV.c$(k.Ax,D,j);
gV.HU(g,k.u.ul());if(g.na.Font!=null)g.na.Font=g.GF[g.na.Font].Name;H=g.GF;Z.push(g.na);X.push(g.dV)}var g={GF:H,na:gV.wl(Z),dV:gV.wl(X)};
if(g.na.Font!=null)gV.Wn(g,g.na.Font);this.a8T(y,g,k)}};F.fa.prototype.au8=function(E){var y=[];for(var N=0;
N<E.g.length;N++)if(E.B[E.g[N]]&&E.B[E.g[N]].add.TySh)y.push(E.g[N]);return y};F.fa.prototype.hE=function(E,y,c,e,p){var H=E.d=="insertGlyph",Z=E.d=="copyText",X=E.d=="selectAll";
if((H||Z||E.d=="insertText"||X)&&this.G_){var b=H?String.fromCharCode(65533):E.b,k=this.a1,D=k.value,j=k.selectionStart,g=k.selectionEnd;
if(Z){fz.y5(new Blob([D.slice(j,g)],{type:"text/plain"}))}else if(X){this.le=k.selectionStart=0;this.ee=k.selectionEnd=D.length;
this.gh(c);k.focus()}else{k.value=D.slice(0,j)+b+D.slice(g);k.selectionStart=k.selectionEnd=j+b.length;
this.N9(null,H?E.b:null);k.focus()}}if(E.d=="updateStyles"){if(this.G_==null){var R=this.au8(c),t=!1;
if(R.length!=0){this.FI(c,y,p,R);for(var N=0;N<R.length;N++){var w=c.B[R[N]],B=w.add.TySh;gV.Ec(B,this.a9);
B.EG.VAlign.v=this.Yl;this.G_=w;var $=gV.qO(B.Ax);this.le=0;this.ee=$.length-1;gV.gR(B.Ax,this.le,this.ee,this.J7(p,B));
var o=this.K1(c,p);if(o==!1)t=!0}if(t){this.AC=!0;return}this.AE(c,y,!0)}return}this.Nn(p)}if(E.d.startsWith("warp")){var T=this.HZ;
if(E.d=="warp"||E.d=="warpCancel"){if(this.G_==null)return;if(E.d=="warp")this.G_.add.TySh.RO=E.Bh;else this.G_.add.TySh.RO=this.a9Z;
this.K1(c,p);if(!T)this.gh(c)}if(E.d!="warp")this.a1.focus();if((E.d=="warpConfirm"||E.d=="warpCancel")&&T){this.HZ=!1;
if(E.d=="warpConfirm")this.AE(c,y);else this.Ds(c,y)}}if(E.d=="editCurr"){if(p.sJ!=F.IB){this._J=p.sJ;
var i=new iU(S.E.M,!0);i.data={d:S.H.lg,f:F.IB};y.T(i)}if(this.G_!=null)this.disable(c,y,p,e);this.vE=p;
this.caller=y;this.FI(c,y,p,[E.HV]);var $=gV.qO(this.G_.add.TySh.Ax);this.le=0;this.ee=$.length-1;this.gh(c);
this.Is();this.a1.focus()}if(E.d=="switchPntPrgr"){if(this.G_)return;var w=c.B[c.g[0]],B=w.add.TySh,r=B.u.ul(),I=w.WT(),M=JSON.parse(JSON.stringify(B.Ax)),J=gV.VY(M),P=J==1?gV.kq(M):[0,0,Math.round(I.m*1.05/r),Math.round(I.e*1.25/r)],n=gV.c$(M,0,0),x=n.GF[n.na.Font].Name,L=p.UG.Mu(x),u=[0,P[2],P[2]/2][n.dV.Justification%3],C=(L?cU.LQ(L):.8)*n.na.FontSize;
gV.qz(M,1-J);if(J==0){console.log(cU.LQ(L,x,n.na));u=-u;C=-C;gV.fF(M,[0,0,P[2],P[3]])}var h=new jr(1,0,0,1,u,C);
h.concat(B.u);this.hE({XV:c.g[0],d:"newED",Sk:M,u:h,ajX:[16,3,J==1?0:1]},y,c,e,p)}if(E.d=="newED"){var w=c.B[E.XV],B=w.add.TySh,A=this.Hp(c,[E.XV]);
B.Ax=E.Sk;if(E.u)B.u=E.u;if(kz.tx(B,p.UG,y)){kz.K1(w,p.UG,c);c.W()}else c.kc=!0;var W=new fN(E.ajX?E.ajX:this.name,this);
W.data={ak:A,$i:this.Hp(c,[E.XV])};c.QY(W)}if(E.d=="fromAction"){var Q=E.Xu.hG.Usng.v,l=Q.TxtC.v,O=[];
for(var N=0;N<2;N++){var z=l[N==0?"Hrzn":"Vrtc"].v,b=z.val;if(z.type=="#Prc")b=(N==0?c.m:c.e)*(b/100);
O[N]=b}this.e2(c,y,p,e,c.Q.qW(O[0],O[1]),!0);var w=c.B[c.g[0]],B=w.add.TySh,a=B.Ax,D=gV.qO(a);gV.qb(a,0,D.length-1);
gV.Y8(a,0,Q.Txt.v.replace(/\r/g,"\n"));D=gV.qO(a);for(var J=0;J<2;J++){var m=Q[J==0?"Txtt":"paragraphStyleRange"].v;
for(var N=0;N<m.length;N++){var q=m[N].v,j=q.From.v,g=Math.min(q.T.v-1,D.length-1);q=q[J==0?"TxtS":"paragraphStyle"].v;
var K=gV.c$(a,j,g),U=J==0?K.na:K.dV;for(var f in q){var Y=q[f].v;if(f=="Sz")U.FontSize=Math.round(Y.val*(Y.type=="#Pnt"?c.$c/72:1));
else if(f=="fontPostScriptName")gV.Wn(K,Y);else if(f=="Algn")U.Justification={Left:1,Cntr:2}[Y.Alg];
else if(f=="leading")U.Leading=q[f].v.val;else if(f=="baselineShift")U.BaselineShift=q[f].v.val;else if(f=="autoLeading")U.AutoLeading=q[f].v;
else if(f=="syntheticBold")U.FauxBold=q[f].v;else if(f=="syntheticItalic")U.FauxItalic=q[f].v;else if(f=="Trck")U.Tracking=q[f].v;
else if(f=="verticalScale")U.VerticalScale=q[f].v/100;else if(f=="horizontalScale")U.HorizontalScale=q[f].v/100;
else if(f=="Clr")U.FillColor={Type:1,Values:[1,Y.Rd.v/255,Y.Grn.v/255,Y.Bl.v/255]}}gV.gR(a,j,g,K)}}if(kz.AP(c,p.UG,y))kz.K1(w,p.UG,c);
else c.kc=!0;c.W();this.AE(c,y)}};F.fa.prototype.Nn=function(E){var y=Math.min(this.le,this.ee),c=Math.max(this.le,this.ee),e=this.G_.add.TySh;
gV.Ec(e,this.a9);e.EG.VAlign.v=this.Yl;var p=this.J7(E,e);gV.gR(e.Ax,y,c-1,p);var H=this.caller.NY(),Z=this.K1(H,E);
if(Z)this.gh(H);if(document.activeElement.tagName.toLowerCase()!="input")this.a1.focus()};F.fa.prototype.OX=function(E){return this.lM.indexOf(E)!=-1};
F.fa.prototype.enable=function(E,y,c,e){var p=this.a1;y.n.appendChild(p);this.mM="default";this.qv(y)};
F.fa.prototype.j_=function(){return this.G_!=null};F.fa.fi=function(E,y){var c=new eq(y.x,y.y);for(var N=E.B.length-1;
N>=0;N--){var e=E.B[N],p=e.add.TySh;if(p&&E.a2z(N)){var H=c,Z=e.rect;if(aw==1){var X=p.u.clone();X.Ub();
H=X.dl(c);Z=e.b_.vJ}if(!Z.u6(H))continue;var b=e.H7(31);return b?-2:N}}return-1};F.fa.prototype.yl=function(E,y,c,e,p){this.vE=c;
this.caller=y;var H=E.Q.GV(p.x,p.y),Z=this.G_==null;if(Z){var X=F.fa.fi(E,H);if(X==-2){alert(i4.get([6,57,0]));
return}if(X>=0&&!e.S(ct.zx)){if(!kz.tx(E.B[X].add.TySh,c.UG,y)){alert("Fonts not loaded yet");return}this.FI(E,y,c,[X])}else{this.Hq=!0;
this.JT=p;return}}var b=Z?-1:gV.VY(this.G_.add.TySh.Ax),k=this.ms?this.ms:this.Hr,D=k&&k.yl(E,c,e,H,null,null,p)&&d.Bh.Mi(this.G_.add.TySh.RO),j=!Z&&d.A.am0(H,this.G_.WT())>20/E.Q.O&&(b==0||b==1);
if(D||j){this.mY=!0;this.AO=H;this.avV=this.G_.add.TySh.u.clone();if(this.le==-1&&this.ee==-1)this.le=this.ee=this.m9(H)}else{if(this.nX==null){alert("Fonts not loaded yet");
return}this.X3=!0;this.le=this.ee=this.m9(H);var g=Date.now();if(g-this.asH>300)this.Q1=0;this.Q1++;
this.asH=g;if(this.Q1==2)this.acY();if(this.Q1==3)this.a0Q();if(this.Q1>1){this.X3=!1}}this.Is();this.gh(E)};
F.fa.prototype.FI=function(E,y,c,e){var p=E.B[e[0]];this.G_=p;this.YY(y,S.E.M,{d:S.H.qq,f:this.id,Yy:"showactive"});
this.pn=e;E.g=e.slice(0);E.BJ();E.__=!0;this.I8=this.Hp(E,e);this.o_(p.add.TySh);this.K1(E,c)};F.fa.prototype.o_=function(E){if(gV.VY(E.Ax)!=1)return;
var y=gV.kq(E.Ax);y=new ir(0,0,y[2]-y[0],y[3]-y[1]);var c=[y.x,y.y,y.x+y.m,y.y,y.x+y.m,y.y+y.e,y.x,y.y+y.e];
d.A.u(c,E.u,c);this.Hr=new hl(c,!1,!1,!1,!0);this.Hr.Gd(0)};F.fa.prototype.acY=function(){var E=gV.qO(this.G_.add.TySh.Ax);
this.le=this.a7L(E,this.le);this.ee=this.aAk(E,this.le)};F.fa.prototype.a7L=function(E,y){var c=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",e=[];
for(var N=0;N<c.length;N++)e.push(c.charAt(N));var p=e.indexOf(E[y])==-1?!0:!1;for(var N=y-1;N>=0;N--)if(e.indexOf(E.charAt(N))!=-1==p)return N+1;
return 0};F.fa.prototype.aAk=function(E,y){var c=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",e=[];for(var N=0;
N<c.length;N++)e.push(c.charAt(N));var p=e.indexOf(E[y])==-1?!0:!1;for(var N=y+1;N<E.length;N++)if(e.indexOf(E.charAt(N))!=-1==p)return N;
return E.length-1};F.fa.prototype.a0Q=function(){var E=this.nX.aAr(this.le);this.le=E[0];this.ee=E[1]};
F.fa.prototype.qv=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.qR,gs:this.mM};E.T(y)};F.fa.prototype.Lv=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y),Z=this.G_;
if(!p.fu){var X="default",b=this.Hr,k=this.ms?this.ms:b;if(k&&d.Bh.Mi(Z.add.TySh.RO)){var D=k.YN(H,E.Q.O,null,p);
if(D)X=D;else if(k==b&&b.FA(H))X="text"}else if(Z&&d.A.am0(H,Z.WT())>20/E.Q.O)X="move";else if(F.fa.fi(E,H)>=0)X="text";
if(X!=this.mM){this.mM=X;this.qv(y)}}var j=this.JT;if(this.Hq&&Math.min(p.x-j.x,p.y-j.y)>4/E.Q.O){this.Hq=!1;
this.e2(E,y,c,e,p);Z=this.G_;this.mY=!0;this.Hr=new hl(null,!1,!1,!1,!0);this.Hr.Gd(0);var g=E.Q.GV(this.JT.x,this.JT.y);
g.x=Math.round(g.x);g.y=Math.round(g.y);this.Hr.yl(E,c,e,g,null,null,p,E.Q.fb)}if(this.mY){var R=Z.add.TySh;
if(this.ms){this.ms.Lv(E,c,e,H);var t=d.r.IF(d.r.C0(this.ms.si(),this.ans));R.u=t;this.K1(E,c);gV.Ou(R)}else if(this.Hr){this.Hr.Lv(E,c,e,H);
var w=R.u.clone(),B=Math.atan2(w.J,w.U);w.rotate(B);var t=d.r.IF(d.r.C0(this.Hr.si())),$=Math.atan2(t.J,t.U);
t.rotate($);if(!isNaN(t.U)&&t.U*t.sN-t.J*t.E7!=0){var o=new ir(0,0,t.U/w.U,t.sN/w.sN),T=Math.round(o.m),i=Math.round(o.e),r=R.Ax.Curve;
if(r){var I=gV.kq(R.Ax),M=new jr(T/I[2],0,0,i/I[3],0,0);d.A.u(r.Points,M,r.Points);gV.Ou(R)}gV.fF(R.Ax,[0,0,T,i]);
R.u=d.r.IF(d.r.C0(this.Hr.si(),o));this.K1(E,c);gV.Ou(R)}}else{var J=H.x-this.AO.x,P=H.y-this.AO.y;R.u=this.avV.clone();
var n=new eq(R.u.Kc+J,R.u.Dm+P);n=F.pB.pQ(E,n,c);R.u.Kc=n.x;R.u.Dm=n.y;this.K1(E,c)}}if(this.X3)this.ee=this.m9(H);
if(this.mY||this.X3)this.gh(E)};F.fa.prototype.e2=function(E,y,c,e,p,H){var Z=E.sA(),X=Z[0],b=Z[1],k=E.N8();
k.add.lnsr="rend";var D=E.B.slice(0);k.v4("Text layer "+D.length);this.G_=k;var j=E.g.length==0?E.B.length-1:E.g[E.g.length-1],g=j+1;
if(D[j].add.lsct==kl.Sh)g--;this.I8={wO:D.slice(0),Mb:E.g.slice(0)};D.splice(g,0,k);E.g=[g];this.le=this.ee=0;
E.vr(D);this.I8.gr=D.slice(0);this.I8.Yi=E.g.slice(0);this.YY(y,S.E.M,{d:S.H.qq,f:this.id,Yy:"showactive"});
var R=E.Q.GV(p.x,p.y),t=c.c2;console.log(t);if(this.id==F.tI){t=JSON.parse(JSON.stringify(t));t.na.BaselineDirection=1}k.add.TySh=gV.V1(R.x,R.y,t,E.Q.fb);
var w=k.add.TySh,B=w.Ax;if(this.id==F.tI)B._LineOrientation=2;gV.Ec(w,this.a9);w.EG.VAlign.v=this.Yl;
if(p.fu)gV.qz(B,1);else{gV.qz(B,0);var $=X[b.pop()],o=$?$.add.vmsk:null;if(H)o=null;if(o&&!e.S(ct.zx)){o=o.clone();
var T=o.X,r,I;for(var N=0;N<T.length;N++)if(T[N].O0!=null)T[N].O0=0;var i=5/E.Q.O;r=d.o.U1(o.X,R,!0,i);
if(r.h2==-1)r=d.o.U1(o.X,R);if(r.h2!=-1){gV.qz(B,1);var M=d.o.O3(T,r.h2),J=d.o.$l(T,r.h2)-1;T=o.X=T.slice(0,2).concat(T.slice(M,M+J+1));
o.g=[];w.add={vmsk:o,vogk:jN.m5(T)};B.Curve={};gV.Pv(w);if(r.O$!=null){var P=cU.o5(B.Curve);d.A.u(P[0],w.u,P[0]);
var n=d.A.Mr(P[0],R.x,R.y),x=c.c2.dV.Justification;if(x==2||x==5){var L=(P[2][n]+P[3]*.5)%P[3];n=cU.XA(L,P[2])}var u=P[1][n];
u=u%J;o.V8=[u,u];gV.Pv(w)}else this.o_(w)}}}return k};F.fa.prototype.JA=function(E,y,c,e,p,H){if(H){this.Hq=!1;
return}if(this.G_==null&&!this.Hq)return;var Z=E.Q.GV(p.x,p.y),X=this.Hq;if(this.Hq){this.Hq=!1;this.e2(E,y,c,e,p);
this.X3=!0}if(this.mY||this.X3){this.gh(E);this.Is();if(X)this.Nn(c)}if(this.mY&&this.Hr)this.Hr.JA(E,c,e,Z);
this.mY=this.X3=!1;this.a1.focus()};F.fa.prototype.Is=function(){var E=this.G_.add.TySh,y=Math.min(this.le,this.ee),c=Math.max(this.le,this.ee),e,p;
if(y==c){var H=gV.qO(E.Ax);if(y==0||H.charAt(y-1)=="\n")e=p=y;else e=p=y-1}else{e=y;p=c-1}var Z=gV.c$(E.Ax,e,p);
gV.HU(Z,E.u.ul());this.a8T(this.caller,Z,E)};F.fa.prototype.a8T=function(E,y,c){this.YY(E,S.E.M,{d:S.H.z2,Wp:iL.R3,c2:y});
var e=this.a9=gV.Fh(c),p=this.Yl=c.EG.VAlign.v;this.YY(this.caller,S.E.M,{d:S.H.qq,f:this.id,Yy:"changeOther",QE:e,L6:p})};
F.fa.prototype.vP=function(E,y,c,e,p){if(E==null)return;var H=E.Q.GV(p.x,p.y),Z=F.fa.fi(E,H);if(Z==-1)return;
var X=new iU(S.E.M,!0);X.data={d:S.H.qq,f:this.id,Yy:"showpan",ax7:this.G_!=null,HV:Z,iJ:p,XH:E,vE:c};
y.T(X)};F.fa.prototype.azV=function(){var E=this.G_;if(E&&!this.mY&&this.ms!=null){var y=this.caller.NY();
this.ms.JA(y,this.vE,null,null);this.ms=null;this.o_(E.add.TySh);this.gh(y)}};F.fa.prototype.disable=function(E,y,c,e){var p=this.G_;
this.AE(E,y)};F.fa.prototype.vm=function(E,y,c,e,p){if(this.HZ)return;if(E.Yy=="commit")this.AE(c,y);
if(E.Yy=="cancel")this.Ds(c,y);if(E.Yy=="changeOther"){this.a9=E.QE;this.Yl=E.L6;if(c!=null)this.hE({d:"updateStyles"},y,c,e,p)}if(E.Yy=="showwarp"){if(c==null)return;
if(this.G_==null){var H=c.B[c.g[0]],Z=H.add.TySh;if(Z==null)return;this.FI(c,y,p,[c.g[0]]);this.a1.focus();
this.HZ=!0}this.a9Z=this.G_.add.TySh.RO;var X=new iU(S.E.M,!0);X.data={d:S.H.Q5,ym:"textwarp"};y.T(X)}};
F.fa.prototype.mh=function(E,y){if(y!=iL.uV)return;if(this.AC){this.AC=!1;var c=this.caller.NY(),e=this.pn;
for(var N=0;N<e.length;N++){this.G_=c.B[e[N]];this.K1(c,E)}this.AE(c,this.caller);return}if(this.G_)this.Nn(E)};
F.fa.prototype.J7=function(E,y){var c=JSON.parse(JSON.stringify(E.c2));gV.HU(c,1/y.u.ul());return c};
F.fa.prototype.Rn=function(E,y){if(E.ak!=null)this.yz(y,E.$i);else this.aug(y,E.gr,E.Yi)};F.fa.prototype.GW=function(E,y){if(E.ak!=null)this.yz(y,E.ak);
else this.aug(y,E.wO,E.Mb)};F.fa.prototype.yz=function(E,y){for(var N=0;N<y.length;N++){var c=y[N],e=c.XV,p=E.B[e];
p.buffer=c.Ng;p.rect=c.k4.clone();p.W();p.b_.Gi=null;p.b_.path=null;var H=p.add.TySh;H.RO=c.Bh;H.dz=c.dz.clone();
H.u=c.u.clone();H.Ax=JSON.parse(JSON.stringify(c.Ax));p.sp()}E.W()};F.fa.prototype.Hp=function(E,y){var c=[];
for(var N=0;N<y.length;N++){var e=y[N],p=E.B[e],H=p.add.TySh;c.push({XV:e,u:H.u.clone(),Bh:JSON.parse(JSON.stringify(H.RO)),dz:H.dz.clone(),Ax:JSON.parse(JSON.stringify(H.Ax)),Ng:p.buffer.slice(0),k4:p.rect.clone()})}return c};
F.fa.prototype.aug=function(E,y,c){E.g=c;E.vr(y);E.W();E.ac=!0};F.fa.prototype.K1=function(E,y,c){if(c==null)c=!1;
var e=this.G_.add.TySh;if(!kz.tx(e,y.UG,this.caller))return!1;if(!c){var p=gV.qO(e.Ax);this.a1.value=p.slice(0,p.length-1)}var H=this.G_.rect,Z=kz.K1(this.G_,y.UG,E);
this.nX=Z[1];var X=this.nX.oA();if(d.Bh.Mi(e.RO))e.dz=new ir;else{if(gV.VY(e.Ax)==1){var b=gV.kq(e.Ax),j1=X.y;
e.dz=new ir(0,j1,b[2]-b[0],b[3]-b[1]-j1)}else e.dz=X}E.RH();if(Z[2])E.W(E.root._G(Z[2].k4.uN(H),E,E.B.indexOf(this.G_)));
return!0};F.fa.prototype.N9=function(E,y){if(this.G_==null||this.HZ)return;var c=this.a1.selectionStart,e=this.G_.add.TySh,p=gV.qO(e.Ax),H=this.a1.value+"\n",Z=Math.min(this.le,this.ee),X=Math.max(this.le,this.ee),g=!1;
this.le=Math.min(c,Z);if(H.length-c<p.length-this.ee)this.ee=p.length-H.length+c;if(p!=H){while(this.le>0&&p.charAt(this.le-1)!=H.charAt(this.le-1))this.le--}var b=p.substring(0,this.le),k=p.substring(this.ee,p.length),D=H.substring(this.le,H.length-k.length);
gV.qb(e.Ax,this.le,this.ee);gV.Y8(e.Ax,this.le,D);if(y!=null)gV.ayl(e.Ax,this.le,y);var j=this.J7(this.vE,e),R=-1,t=Array.from(D);
for(var N=0;N<t.length;N++)R=Math.max(R,t[N].codePointAt(0));if(R!=-1&&R>128&&R!=65533&&j.na.Font!=null){var w=j.GF[j.na.Font].Name,B=this.vE.UG.qY(R,w,j.GF);
if(w!=B){gV.Wn(j,B);g=!0}}if(this.Sn!=null&&D==this.Sn){var $=JSON.parse(this.avx);gV.HU($,1/e.u.ul());
j.na=$.na;j.GF=$.GF;g=!0}gV.gR(e.Ax,this.le,this.le+D.length-1,j);this.le=this.ee=b.length+D.length;
var o=this.caller.NY(),T=this.K1(o,this.vE,!0);if(T)this.gh(o,!0);if(g)this.Is()};F.fa.prototype.acq=function(E){var y=ct;
if(!E.ctrlKey)this.azV();E.stopPropagation()};F.fa.prototype.acA=function(E){E.stopPropagation();var y=E.ctrlKey||E.metaKey,c=ct,b=0,k=0,T=0,C=!1;
if(this.G_==null||this.HZ)return;if(this.G_==null)return;if(this.caller._Y.Dt())return;var e=this.caller.NY();
if(this.ms==null&&y){var p=this.G_.add.TySh,H=gV.VY(p.Ax),Z;if(H==1){Z=gV.kq(p.Ax);Z=new ir(0,0,Z[2]-Z[0],Z[3]-Z[1])}else Z=this.nX.oA();
var X=[Z.x,Z.y,Z.x+Z.m,Z.y,Z.x+Z.m,Z.y+Z.e,Z.x,Z.y+Z.e];d.A.u(X,p.u,X);this.ms=new hl(X,!0,!0,!1,!1);
this.ms.Gd(0);this.ans=Z;this.gh(e)}if(c.ku(E.code,c.Fj))b=1;if(c.ku(E.code,c.Wb))b=-1;if(c.ku(E.code,c.Iq))k=-1;
if(c.ku(E.code,c.em))k=1;var D=c.ku(E.code,ct.mI),j=c.ku(E.code,ct.aAf);if(c.ku(E.code,ct.qy)&&y){this.AE(e,this.caller);
return}if(c.ku(E.code,ct.SB)){this.Ds(e,this.caller);return}if(c.ku(E.code,ct.qL)){E.preventDefault();
var g=this.a1,R=g.value,t=g.selectionStart,w=g.selectionEnd;g.value=R.substring(0,t)+"\t"+R.substring(w);
g.selectionStart=g.selectionEnd=t+1;this.N9(null);return}var B=c.ku(E.code,c.yH),$=c.ku(E.code,c.Kj);
if(y&&(B||$)){E.preventDefault();var o=new iU(S.E.v,!0);o.f=F.fE;o.data={d:"zoom",l5:B};this.caller.T(o)}if(c.ku(E.code,c.OF))T=1;
if(c.ku(E.code,c.QF))T=-1;var i=this.le==this.ee,r=y&&E.shiftKey&&T!=0&&!i;if(r||E.altKey&&b!=0){var I=JSON.parse(JSON.stringify(this.vE.c2));
if(r){var M=I.na.FontSize;if(M==null)M=16;I.na.FontSize=Math.max(1,M+T*(E.altKey?5:1))}else{if(i){I.na.Kerning+=20*b;
I.na.AutoKerning=!1}else I.na.Tracking+=20*b}E.preventDefault();var J=new iU(S.E.M,!0);J.data={d:S.H.z2,Wp:iL.R3,c2:I};
this.caller.T(J);var o=new iU(S.E.v,!0);o.f=F.IB;o.data={d:"updateStyles"};this.caller.T(o);return}if((c.ku(E.code,c.qd)||c.ku(E.code,c.NM))&&y){var P=this.le,n=this.ee;
if(P>n){var x=P;P=n;n=x}var p=this.G_.add.TySh,L=gV.qO(p.Ax);if(P!=n){this.Sn=L.slice(P,n);this.avx=JSON.stringify(this.vE.c2)}}var u=gV.qO(this.G_.add.TySh.Ax);
if(b!=0||k!=0||D||j){E.preventDefault();var h=this.le;if(b!=0){if(y&&b==-1)h=this.a7L(u,this.le-1);else if(y&&b==1)h=this.aAk(u,this.le);
else{var g=this.a1,R=g.value;h=this.le+b;if(h!=0&&R.codePointAt(h-1)>65535)h+=b}}else if(k!=0){var A=this.nX.Tf(this.le);
if(k==-1&&A.bi==0)h=0;else if(k==1&&A.bi==this.nX.aAS()-1)h=99999999999;else h=this.nX.ayq(new eq(A.k4.x+A.k4.m/2,0),A.bi+k)}else if(D){var W=this.le-1;
while(W>0&&u.charCodeAt(W)!=10)W--;h=W==0?0:W+1}else if(j){var W=this.le;while(W<u.length-1&&u.charCodeAt(W)!=10)W++;
h=W}h=Math.max(0,Math.min(u.length-1,h));if(E.shiftKey)this.le=h;else this.le=this.ee=h;C=!0}if(c.ku(E.code,ct.H)&&y){this.le=0;
this.ee=u.length-1;C=!0}if(C){this.Is();this.gh(e)}};F.fa.a0x=function(E,y){var c=E.length;if(c!=y.length)return!1;
for(var N=0;N<c;N++)if(E[N].XV!=y[N].XV)return!1;return!0};F.fa.prototype.AE=function(E,y,c){if(this.G_==null)return;
this.G_.sp();var e=this.I8;if(e instanceof Array){var p=this.Hp(E,this.pn),H=E.f6();if(H!=null&&H.f==this&&H.data.ak&&F.fa.a0x(H.data.ak,e)&&c)H.data.$i=p;
else{var Z=new fN(this.name,this);Z.data={ak:e,$i:p};E.QY(Z)}}else{var Z=new fN(this.name,this);Z.data={wO:e.wO,gr:e.gr,Mb:e.Mb,Yi:e.Yi};
E.QY(Z)}this.escape(E,y)};F.fa.prototype.Ds=function(E,y){if(this.G_==null)return;if(this.I8 instanceof Array){this.yz(E,this.I8);
if(this.G_)gV.Ou(this.G_.add.TySh)}else{E.g=this.I8.Mb;E.vr(this.I8.wO);E.ac=!0}E.W();this.escape(E,y)};
F.fa.prototype.escape=function(E,y){this.azV();this.G_=null;this.pn=null;this.nX=null;this.Hr=null;this.a1.blur();
E.N.Aq=null;E.N.zm=null;E.N.AX=[];E.Ea=!0;this.mY=!1;this.X3=!1;this.le=this.ee=-1;this.YY(y,S.E.M,{d:S.H.qq,f:this.id,Yy:"hideactive"});
if(this._J){var c=new iU(S.E.M,!0);c.data={d:S.H.lg,f:this._J};y.T(c);this._J=null}};F.fa.prototype.YY=function(E,y,c,e){var p=new iU(y,!0);
p.data=c;if(e)p.f=e;E.T(p)};F.fa.prototype.m9=function(E){var y=this.G_.add.TySh,c=this.nX,e=y.u.clone();
e.Ub();var p=e.dl(E),H=gV.EK(y,c),Z=d.Bh.lq(y.RO,H),X=d.My.Dr(Z,p);if(X==null)X=new Float64Array(2);
p=new eq(H.x+X[0]*H.m,H.y+X[1]*H.e);if(c.vB){var b=c.vB.clone();b.Ub();p=b.dl(p)}var k=c.ayq(p);return k};
F.fa.prototype.gh=function(E,y){if(y==null)y=!1;var c=this.G_.add.TySh,e=gV.VY(c.Ax),p=this.nX,H=p?gV.EK(c,p):null;
E.N.AX=[];E.N.Aq=null;E.N.zm=null;var Z=this.ms?this.ms:this.Hr;if(Z){Z._F(E,this.vE,!d.Bh.Mi(c.RO));
var X=c.u.clone();X.Ub();if(p&&p.vB&&p.KO==1){var b=p.vB.clone();b.Ub();X.concat(b)}d.A.u(E.N.AX,X,E.N.AX);
d.A.u(E.N.Aq.j,X,E.N.Aq.j);if(p&&p.vB==null&&p.ak9()){var k=H.m-20,D=H.e+8;E.N.Aq.j.push(k,D,k+10,D,k+5,D-5,k+5,D+5);
E.N.Aq.G.push("M","L","M","L")}}else if(e==0)this.aj9(E,c,p);else E.N.Aq={j:[],G:[]};var j=Math.min(this.le,this.ee),g=Math.max(this.le,this.ee);
if(!y){this.a1.selectionStart=j;this.a1.selectionEnd=g}if(p!=null){var R=function(Z,i){var r=Z.x,I=Z.y+Z.e,M=new jr;
M.translate(-r,-I);M.rotate(-i);M.translate(r,I);Z.y+=Z.e*.27;var T=d.A.S6(Z);d.A.u(T.j,M,T.j);return T};
if(j==g){j=Math.max(j,0);var t=p.Tf(j);if(t){var w=t.k4,B=this.vE.c2.na.FontSize;if(B!=null&&B!=0){B/=c.u.ul();
w.y+=w.e-B;w.e=B}var $=p.aaw(j);if($!=null&&$.jz==1)w.x+=w.m;var o=R(w,t.fb).j;E.N.Aq.G.push("M","L");
E.N.Aq.j.push(o[0],o[1]-1,o[6],o[7]-1)}}else{E.N.zm={j:[],G:[]};for(var N=j;N<g;N++){var t=p.Tf(N),T=R(t.k4,t.fb);
d.A.concat(E.N.zm,T)}}}E.N.Aq=kz.HX(E.N.Aq,c,p,!0);E.N.zm=kz.HX(E.N.zm,c,p,!0);E.N.AX=kz.HX({j:E.N.AX},c,p,!0).j;
E.Ea=!0};F.fa.prototype.aj9=function(E,y,c){if(c==null)return;E.N.AX.push(0,0);if(E.N.Aq==null)E.N.Aq={G:[],j:[]};
for(var N=0;N<c.dV.length;N++){var e=c.dV[N];for(var p=0;p<e.M2.length;p++){var H=e.M2[p],Z=e.Vw.x+H.Vw.x+H.k4.x,X=e.Vw.y+H.Vw.y+H.k4.y+H.k4.e;
E.N.Aq.G.push("M","L");E.N.Aq.j.push(Z,X,Z+H.k4.m,X)}}E.Ea=!0};F.dR=function(){F.fa.call(this,!0)};F.dR.prototype=new F.fa;
F.tL=function(E){F.XY.call(this,E?"Magic Replace":[10,9],E?F.a0i:F.w8,E?"tools/mremove":"tools/lasso");
this.fZ="crosshair";this.qT=null;this.bh=null;this.AO=null};F.tL.prototype=new F.XY;F.tL.prototype.Lz=function(E,y,c,e){this.qT=this.Lh;
this.bh={j:[this.qT.x,this.qT.y],G:["M"]}};F.tL.prototype.Xo=function(E,y,c,e){this.AO=e;var p=this.bh;
if(p==null)return;if(!e.fu){if(this.bh!=null&&this.cF.kL(1)&&c.S(ct.Q3)){p.j.pop();p.j.pop();p.j.push(this.vy.x,this.vy.y);
E.N.Aq=p;E.Ea=!0}return}p.G.push("L");p.j.push(this.vy.x,this.vy.y);this.qT=this.vy;if(this.in){E.N.Aq=p;
E.Ea=!0}};F.tL.prototype.j_=function(){return this.bh!=null};F.tL.prototype.Q6=function(){return this.bh!=null};
F.tL.prototype.Gu=function(E,y,c,e){F.XY.prototype.Gu.call(this,E,y,c,e);if(this.bh&&this.cF.kL(1)&&this.AO&&!this.AO.fu&&!e.S(ct.Q3))this.auo(E,c,e)};
F.tL.prototype.P6=function(E,y,c,e){this.AO=e;var p=this.bh;if(p==null)return;if(this.cF.kL(1)&&c.S(ct.Q3)){p.G.push("L");
p.j.push(this.vy.x,this.vy.y);return}this.auo(E,y,c)};F.tL.prototype.auo=function(E,y,c){this.finish(E,y,c,this.AO);
this.bh=null;E.N.Aq=null;E.Ea=!0};F.tL.prototype.getSelection=function(E,y,c,e){if(this.Lh.rT(this.vy)||!this.in)return null;
return F.XY.bG(this.bh.j,null,this.Qh.anta)};F.pB=function(){F.gb.call(this,[10,11],F.mq,"tools/move");
this.IG=new eq(0,0);this.Yr=new eq(0,0);this.VU=null;this.IV=null;this.Y3=new eq(0,0);this.qX=null;this.P0=null;
this.bE=null;this.KU=0;this.xx=null;this.Bx=[];this.xi=null;this._X=null;this.W5=!1;this.d=0;this.JX=null;
this.Ni=null;this.lI=null;this.yM=!1;this.Qh={Xk:!0,LK:!1,dS:!1,a0v:1};this.adg=!1;this.agR=!1;this.Hr=null;
this.q3=null;this.UF=null;var E=[];for(var N=0;N<d._5.F0.length;N++)E.push({name:d._5.F0[N],w:function(y,c,e){return{b$:c.km.sz==e}}});
this.S$=new el(E);this.S$.k("select",this.oh,this)};F.pB.prototype=new F.gb;F.gb.prototype.Zw=function(E){return this.W5&&this.d!=2};
F.pB.prototype.a5M=function(){return this.W5&&(this.d==0||this.d==1)};F.pB.prototype.ri=function(E,y,c,e){this.dM(E,-this.Y3.x,-this.Y3.y);
this.Y3.tW(0,0);this.hs(E,null,c);this.Po(E)};F.pB.prototype.Zr=function(){var E=this.Qh;return[E.Xk?1:0,E.LK?1:0,E.dS?1:0]};
F.pB.prototype.$q=function(E,y,c){var e=this.Qh;if(E&&E[0]!=null)e.Xk=E[0]==1;if(E&&E[1]!=null)e.LK=E[1]==1;
if(E&&E[2]!=null)e.dS=E[2]==1;var p=new iU(S.E.M,!0);p.data={d:S.H.qq,f:this.id,Ss:e,agy:y};c.T(p)};
F.pB.aBh=function(E,y,c,e,p,H,Z){if(Z==null)Z=[!1,!0];var X=E.G$(null,p,!0),b,k=p==null?E.g[0]:p;if(E.add.artd&&(p!=null||E.g.length==1)&&E.B[k].add.artb){var D=E.B[k].fQ();
b=E.fc(X,D,D)[0]}else{var j=new ir(0,0,E.m,E.e),b=E.fc(X,Z[0]?j:null,Z[1]?null:j)[0];delete b.add.artd;
if(Z[1]){var g=d.aD(b.eA(),new ir(0,0,b.m,b.e),2);F.Et.cw(b,g)}}if(c!=1){var R=new ir(0,0,Math.round(b.m*c),Math.round(b.e*c));
F.Et.cw(b,R);var t=[];for(var N=0;N<b.B.length;N++)t.push(N);var w=F.Y.h8(b,t,!0);F.Et.gf(b,new jr(c,0,0,c,0,0));
F.Y.NX(b,e,t,w,1,d.r.$m(new jr(c,0,0,c,0,0)),null,!0);b._1()}var B=[];for(var N=0;N<y.length;N++)if(b.m*b.e!=0)B.push(iu.gv(b,y[N].toUpperCase(),null,null,H?H[N]:null,e));
return B};F.pB.prototype.ash=function(E,y,c,e,p){if(E==null||E.g.length==0)return;var H=F.pB.aBh(E,[y],c,e,null)[0],Z=new iU(S.E.M,!0);
Z.data={d:S.H.Xa,data:H,name:E.B[E.g[0]].getName()+(c==1?"":"@"+c+"x")+"."+y};p.T(Z)};F.pB.prototype.vm=function(E,y,c,e,p){if(E.s6=="getPNG"){this.ash(c,"png",E.wb,p,y)}else if(E.s6=="getSVG"){this.ash(c,"svg",E.wb,p,y)}if(E.s6=="prms"){this.Qh=E;
this.Po(c)}};F.pB.afP=function(E){var j1=E.length,c=0;E.sort(function(H,Z){return H[0]+H[1]/2-(Z[0]+Z[1]/2)});
var y=E[j1-1][0]+E[j1-1][1]-E[0][0];for(var N=0;N<j1;N++)c+=E[N][1];var e=Math.round((y-c)/(j1-1)),p=E[0][0];
for(var N=0;N<j1;N++){E[N][0]=p;p+=E[N][1]+e}};F.pB.prototype.hE=function(E,y,c,e,p){var H=E.d;if(H=="trsl"){var Z=Math.round(E.Fc),X=Math.round(E.Sq);
this.Y3.tW(Z,X);this.XC(c,y,e,p,!1,E.a);this.dM(c,Z,X);this.hs(c,null,p)}else if(H=="fcmy"||H=="fvec"){var b=["RGB","CMYK"][E.b]+" Color";
if(H=="fvec")b=["Raster","Vector"][E.b]+" Mode";var k=new fN(b,this);k.data={d:E.d,v5:c.add[H]==null?0:c.add[H],Hx:E.b};
c.QY(k);this.Rn(k.data,c)}else if(H=="pview"){var H=new fN([8,14],this);H.data={d:E.d};c.QY(H);this.Rn(H.data,c)}else if(H=="lockguides"){if(c)c.C2=!c.C2}else if(H=="gids"||H=="gidsFromLayer"){var D=E.Ni,j,g;
if(D==null)D=c.Tp();if(H=="gids"){j=E.NF;var R=D[0].length,t=j[0].length;g=R==t?[23,2]:R>t?[23,3]:[23,4];
if(t==0)g=[11,15,0]}else if(H=="gidsFromLayer"){var w=[],B=[],$=c.Z1();for(var N=0;N<c.g.length;N++){var o=c.B[c.g[N]].rect;
if(o.tj())continue;w.push([0,o.x],[1,o.y],[0,o.x+o.m],[1,o.y+o.e]);B.push($,$,$,$)}g=[11,15,1];j=c.Tp();
F.pB.pa(j,[w,B])}if(JSON.stringify(D)==JSON.stringify(j))return;var H=new fN(g,this);H.data={d:2,Ni:D,NF:j};
c.QY(H);this.Rn(H.data,c)}else if(H=="algn"){var T=E.b;if(c==null)return;if(c.g.length<2&&!(c.i!=null&&T!=3&&T!=7)){alert(i4.get([15,7,5]));
return}var i=c.i;c.i=null;var o=i?i.rect:F.Y.EK(c);this.XC(c,y,e,p,!1);if(!this.W5)return;var r=this.xx,I={},M=[],J=[],P=[];
for(var N=0;N<r.length;N++){var n=r[N];while(c.B[n].getName()=="</Layer group>")n++;var x=c.root.f$(n),L=x;
while(x.parent!=null){x=x.parent;if(r.indexOf(x.index)!=-1)L=x}var u=J.indexOf(L.index);if(u==-1){u=J.length;
J.push(L.index)}M[N]=u}var C=[],h=[],A=[];for(var N=0;N<J.length;N++){var W=F.Y.EK(c,c.G$(!0,J[N]));
A.push(W);var Q=T==3?[W.y,W.e]:[W.x,W.m];C[N]=Q;h.push(Q)}F.pB.afP(h);for(var N=0;N<J.length;N++){var W=A[N],l=W.x,O=W.y;
if(T==0)l=o.x;if(T==1)l=o.x+(o.m-W.m)/2;if(T==2)l=o.x+(o.m-W.m);if(T==3)O=C[N][0];if(T==4)O=o.y;if(T==5)O=o.y+(o.e-W.e)/2;
if(T==6)O=o.y+(o.e-W.e);if(T==7)l=C[N][0];P.push(Math.round(l-W.x),Math.round(O-W.y))}var z=[];for(var N=0;
N<r.length;N++){var a=M[N];z[2*N]=P[2*a];z[2*N+1]=P[2*a+1]}this.dM(c,0,0,null,z);var m=T==3||T==7?[20,4,6]:[20,4,T<3?T:T-1];
this.hs(c,null,p,z,m);c.i=i}else if(H=="disabAuto"){this.$q([!1],null,y)}};F.pB.pa=function(E,y){for(var N=0;
N<y[0].length;N++){var c=y[0][N],e=y[1][N],p=!1;for(var H=0;H<E[0].length;H++){var Z=E[0][H],X=E[1][H];
if(c[0]==Z[0]&&c[1]==Z[1]&&e==X)p=!0}if(!p){E[0].push(c.slice(0));E[1].push(e)}}};F.pB.prototype.enable=function(E,y,c,e,p){this.P0=c;
this.bE=y;this.yM=p?!0:!1;this.Po(E);this.qv("default",y);this.Gu(E,y,c,e)};F.pB.prototype.disable=function(E,y,c,e){this.a7M(E)};
F.pB.prototype.a7M=function(E){if(E==null)return;if(this.Hr){this.Hr.clear(E);this.Hr=null}if(E.N.dS){E.N.dS=null;
E.Ea=!0}if(E.N.d2){E.N.d2=null;E.Ea=!0}if(E.N.r9[this.id]){delete E.N.r9[this.id];E.Ea=!0}if(E.N.Wi.length!=0){E.N.Wi=[];
E.Ea=!0}};F.pB.prototype.Hl=function(E,y,c,e){if(c.sJ!=this.id)return;this.Po(E)};F.pB.prototype.Po=function(E,y){if(E==null)return;
var c=this.Qh;this.a7M(E);if(!this.yM){var e;if(c.LK||c.dS)e=d.A.u8(F.Y.EK(E));if(c.LK&&!e.tj()){var p=E.B[E.g[0]],H=d.A.S6(e).j;
if(aw==1&&E.g.length==1){if(p.add.vmsk)H=p.add.vmsk.aAW();if(p.add.SoLd)H=F.Y.Rt(p.add.SoLd.nonAffineTransform);
if(p.add.TySh){H=d.A.S6(p.b_.vJ).j;d.A.u(H,p.add.TySh.u,H)}}this.Hr=new hl(H,!0);this.Hr._F(E,this.P0)}if(c.dS){var Z=null,g=null,R=!1;
if(E.Z1()!=-1)Z=E.B[E.Z1()].fQ();else Z=new ir(0,0,E.m,E.e);E.N.dS={WX:[e],Br:[]};var X=E.N.dS.Br,b=e.x+e.m,k=e.y+e.e,D=e.x+Math.floor(e.m/2),j=e.y+Math.floor(e.e/2);
if(y){var t=E.root.U1(new eq(Math.floor(y.x),Math.floor(y.y)));if(t){g=d.A.u8(t.a.WT(E));if(g.TF(e)){R=(g.Rq(e)||e.Rq(g))&&!e.rT(g);
if(!R)g=null}}}this.a9T(e,X);if(g!=null){E.N.dS.WX.push(g);var w=g.x+g.m,B=g.y+g.e,$=g.x+Math.floor(g.m/2),o=g.y+Math.floor(g.e/2);
if(R){var T=D,i=j;if(e.Rq(g)){T=$;i=o}X.push(e.x,i,g.x,i);X.push(b,i,w,i);X.push(T,e.y,T,g.y);X.push(T,k,T,B)}else{this.a9T(g,X);
var r=k<g.y||B<e.y,I=b<g.x||w<e.x;if(b<g.x)X.push(b,j,g.x,j);if(w<e.x)X.push(w,j,e.x,j);if(k<g.y)X.push(D,k,D,g.y);
if(B<e.y)X.push(D,B,D,e.y);if(r&&!I){if(e.x<g.x)X.push(e.x,o,g.x,o);if(g.x<e.x)X.push(g.x,j,e.x,j)}}}else{if(e.y>Z.y)X.push(D,Z.y,D,e.y);
if(k<Z.y+Z.e)X.push(D,k,D,Z.y+Z.e);if(e.x>Z.x)X.push(Z.x,j,e.x,j);if(b<Z.x+Z.m)X.push(b,j,Z.x+Z.m,j)}E.Ea=!0}}if(this.d==2&&this.W5){var M=new ir(0,0,E.m,E.e),J=E.Z1();
if(J!=-1){var P=E.Tp(),n=P[1][this.xx];if(n==-1)n=J;M=E.B[n].fQ()}var x=E.oc[this.xx],L=x[0],u=(L==0?"X":"Y")+": "+d._5.rB(x[1]-(L==0?M.x:M.y),E.$c,this.P0,L==0?M.m:M.e,!0);
F.gb.Fe(Math.round(this.VU.x)+10,Math.round(this.VU.y)-10,[u],E);E.Ea=!0}if(this.d==3&&this.W5){var C=d.A.S6(this.JX);
E.N.r9[this.id]={Aq:C};E.Ea=!0}};F.pB.prototype.a9T=function(E,y){var c=E.m,e=E.e,p=E.x+Math.floor(c*.2),H=E.y+Math.floor(e*.2);
y.push(p,E.y,p,E.y+e);y.push(E.x,H,E.x+c,H)};F.pB.prototype.qv=function(E,y){var c={d:S.H.qR,gs:E},e=new iU(S.E.M,!0);
e.data=c;y.T(e)};F.pB.prototype.ok=function(E){var y=this.q3.hD()[0];if(y==this.UF.length){var c=new iU(S.E.M,!0);
c.data={d:S.H.Vv,wB:"psd"};this.bE.T(c);return}var e=this.qX,p=this.UF[y];this.ax9(e,p)};F.pB.prototype.oh=function(E){var y=JSON.parse(JSON.stringify(this.P0.km));
y.sz=this.S$.hD()[0];var c=new iU(S.E.M,!0);c.data={d:S.H.z2,Wp:iL.kG,Hx:y};this.bE.T(c)};F.pB.prototype.vP=function(E,y,c,e,p){if(this.W5)this.JA(E,y,c,e,p);
this.qX=E;this.P0=c;this.bE=y;var H=E.Q.GV(p.x,p.y),Z;if(F.pB.wm(c,p,E.Q)){Z=this.S$}else{if(this.q3)this.q3.removeEventListener("select",this.ok);
var X=[];E.root.U1(H,X);if(X.length==0)return;var b=[];this.UF=X;for(var N=0;N<X.length;N++)b.push({name:E.B[X[N]].getName(),mc:N==X.length-1});
b.push({name:[1,18],hi:!0});Z=this.q3=new el(b);Z.k("select",this.ok,this)}Z.parent=y;Z._();Z.update(E,c);
var k=new iU(S.E.M,!0);k.data={d:S.H.rt,T_:Z,x:p.ti+2,y:p.nD+1};y.T(k)};F.pB.prototype.aig=function(E,y,c,e,p){var H=F.pB.tQ(E,p);
return H!=-1||F.pB.wm(c,p,E.Q)};F.pB.tQ=function(E,y){if(E==null||E.add.artd==null)return-1;var c=E.Q.GV(y.x,y.y),e=12*F.k1()/E.Q.O;
for(var N=0;N<E.B.length;N++){var p=E.B[N];if(!p.OQ()||p.add.artb==null)continue;var H=p.fQ(),Z=new ir(H.x,H.y-1.7*e,e*p.getName().length*.5,e);
if(Z.u6(c))return N}return-1};F.pB.prototype.yl=function(E,y,c,e,p){var H=F.pB.tQ(E,p),Z=F.pB.abw(E,E.Q.GV(p.x,p.y));
if(H!=-1){E.g=[H];if(c.sJ==F.mq){var X=new iU(S.E.M);X.data={d:S.H.lg,f:F.td};y.T(X)}return}if(Z!=-1){E.Q.w2=Z;
E.hb=!0;var X=new iU(S.E.M,!0);X.data={d:S.H.ET,ym:aq.ZV.aa_};y.T(X);return}this.VU=p;this.IG.tW(p.x,p.y);
this.Yr=E.Q.GV(p.x,p.y);this.IV=new cs(this.Yr);this.XC(E,y,e,c,!0)};F.pB.wm=function(E,y,c,e){var p=d._5.rs,H=c.tP.e;
return E.B3&&(0<y.x&&y.x<p||0<y.y&&y.y<p||e&&0<y.x&&y.x<4*p&&H-p<y.y&&y.y<H)};F.pB.prototype.XC=function(E,y,c,e,p,H){var Z,X=this.Yr,b=!1;
if(p){var k=e.sL&&e.km.oc;if(F.pB.wm(e,this.IG,E.Q)){Z=E.Tp();var D=E.Tp(),j=null;if(this.IG.x<d._5.rs){j=[0,X.x]}if(this.IG.y<d._5.rs){j=[1,X.y]}D[0].push(j);
D[1].push(E.Z1(!0));E.Z5(D);if(!k){var g=new iU(S.E.M);if(!e.km.oc){g.data={d:S.H.z2,Wp:iL.Vf};y.T(g)}if(!e.sL){g.data={d:S.H.z2,Wp:iL.sr};
y.T(g)}k=!0}}var R=this.ap5(E,X);if(k&&R!=null&&!E.C2){this.d=2;this.Ni=Z?Z:E.Tp();this.xx=R;this.W5=!0;
this._X=F.Y.EK(E);return}if(E.dL.length!=0){this.d=4;this._X=E.cB[E.dL[0]].rect.clone();this.W5=!0;return}if(this.Hr&&this.Hr.YN(X,E.Q.O,!0,this.VU)!=null){var g=new iU(S.E.M);
g.data={d:S.H.lg,f:F.Xm,ae4:!0};y.T(g);return}if(E.i&&E.i.rect.u6(X)){var t=Math.round(X.x),w=Math.round(X.y),B=E.i.rect;
b=E.i.channel[(w-B.y)*B.m+t-B.x]>128}if(!b&&(!this.yM&&this.Qh.Xk||this.yM&&this.Qh.Xk&&(c.S(ct.zx)||E.g.length<2))){var $=this.a3N(E,X,c);
if(!$){E.g=[];E.RT=null;E.ac=E.QZ=!0;this.d=3;this.JX=new ir;this.W5=!0;return}}if(c.S(ct.Q3)&&!b){var o=new iU(S.E.v);
o.f=F.sh;o.data={d:jN.lz,a67:!0};y.T(o)}}if(E.dL.length!=0){this.d=4;this._X=E.cB[E.dL[0]].rect.clone();
this.W5=!0;return}this.xx=E.G$(H==null,H,null,!0);for(var N=0;N<this.xx.length;N++){var T=this.xx[N],i=E.B[T];
if(i.H7(2)||i.H7(31)||E.Qy(T)){alert(i4.get([6,57,0]));return}}if(E.add.artd&&p){var r=this.xx,I=!1;
for(var N=0;N<r.length;N++)if(E.B[r[N]].add.artb)I=!0;if(!I){this.xi=[E,E.B.slice(0),E.g.slice(0),-1];
this.xx.sort(function(C,h){return C-h})}}this.Bx=F.pB.aB2(E,this.xx);this.d=0;if(E.i&&(!p||b)&&E.g.length==1&&E.iR(!1)){if(!E.anC()){this.W5=!1;
return}var M=E.B[E.g[0]],J=c.S(ct.Q3);this.d=1;var P=E.history[E.PT];if(P.f==this&&P.data.d==1&&P.data.a==E.g[0]&&M.p6==M.r$.p6&&!J){this.lI=P}else{var n=M.r$,x=!1,L;
if(!M.B5(E,E.i)||J){x=!0;M.MS(E,E.i,J)}if(M.r$.p6<=0){L=d.R(M.r$.sc.length>>2);d.LI(M.r$.sc,L,3)}else L=E.i.channel.slice(0);
var u={rect:M.r$.AL.clone(),channel:L};this.lI=new fN(J?[12,53]:[12,54],this);this.lI.data={d:1,a:E.g[0],r$:M.r$,iO:n,sD:x,Mb:E.i,Yi:u,sN:new eq(0,0)};
E.QY(this.lI);E.i=u;E.zr=!0}}this.W5=!0;this._X=F.Y.EK(E)};F.pB.prototype.a3N=function(E,y,c){var e=E.root.U1(new eq(Math.floor(y.x),Math.floor(y.y)));
if(e){if(e.a.add.vmsk)E.Ea=!0;var p=E.B.indexOf(e.a);if(this.Qh.a0v==0){var H=E.root.f$(p);while(H.parent&&H.parent.depth!=0&&H.parent.a.add.artb==null)H=H.parent;
p=H.index}if(c.S(ct.zx)){var Z=E.g.indexOf(p);if(Z==-1)E.g.push(p);else if(E.g.length>1)E.g.splice(Z,1)}else if(E.g.indexOf(p)==-1){this.ax9(E,p)}}return e!=null};
F.pB.prototype.ax9=function(E,y){E.B[y].p6=0;E.g=[y];E.RT=null;E.BJ();E.__=!0;E.ac=!0};F.pB.abw=function(E,y){var c=E.add.Anno;
if(c==null||c.length==0)return-1;var e=30/E.Q.O;for(var N=0;N<c.length;N++)if(new ir(c[N][0],c[N][1],e,e).u6(y))return N;
return-1};F.pB.prototype.Lv=function(E,y,c,e,p){this.VU=p;var H=E.Q.GV(p.x,p.y),R,t;if(this.IV&&this.d<2)H=this.IV.xk(H,e);
if(!this.W5){if(c.sL&&c.km.oc&&E&&!E.C2){var Z=this.ap5(E,H),X="default",b=F.pB.tQ(E,p);if(Z!=null)X=["col-resize","row-resize"][E.oc[Z][0]];
else if(this.Hr){var k=this.Hr.YN(H,E.Q.O,null,p);if(k)X=k}else if(b!=-1||F.pB.abw(E,H)!=-1){X="pointer"}this.qv(X,y)}this.Po(E,H);
return}var D=this.Yr,j=Math.round(H.x-D.x)-this.Y3.x,g=Math.round(H.y-D.y)-this.Y3.y;if(this._X){if(this.d==2){var w=[];
if(E.i)w.push(E.i.rect);if(this._X)w.push(this._X);if(E.Q.ZC)w.push(E.Q.ZC);H=F.pB.pQ(E,H,c,[!1,w,!0,!0])}else{t=this._X.clone();
t.offset(this.Y3.x+j,this.Y3.y+g);R=F.pB.Ih(E,t,c);var B=this.IV.abR(e);if(B==1){R[0]=0;R[2]=1e9}if(B==2){R[1]=0;
R[3]=1e9}j+=Math.round(R[0]);g+=Math.round(R[1])}}this.Y3.x+=j;this.Y3.y+=g;var $=this.xi;if($&&E==$[0]){E.vr($[1]);
E.g=$[2].slice(0);$[3]=-1}this.dM(E,j,g,H,null,e.S(ct.zx));if($&&E==$[0]){var o=this._X.clone();o.offset(this.Y3.x,this.Y3.y);
var T=H,b=E.Z1(),i=-1;for(var N=0;N<E.B.length;N++){var r=E.B[N];if(!r.OQ()||r.add.artb==null)continue;
var I=r.fQ();if(I.u6(T))i=N}if(i!=-1&&i!=b){var M=F.DI.R6(E,this.xx,i,!0,null,!1);E.vr(M[0]);E.g=M[1];
$[3]=i}}this.Po(E,H);if(R)F.pB.lx(E,t,R)};F.pB.prototype.ap5=function(E,y){var c=F.Wo(E,this.VU);y=[y.x,y.y];
var e=E.Tp(),p=E.Z1();for(var N=0;N<e[0].length;N++){var H=e[0][N],Z=e[1][N];if(Z!=-1&&Z!=p)continue;
if(Math.abs(H[1]-y[H[0]])<c)return N}return null};F.pB.prototype.dM=function(E,y,c,e,p,H){if(this.d==0){if(p)F.pB.DF(E,this.xx,this.Bx,p);
else F.pB.Ae(E,this.xx,this.Bx,y,c)}else if(this.d==1){var Z=this.lI.data;Z.sN.offset(y,c);F.pB.YH(E,Z.a,y,c)}else if(this.d==2){var X=1e-5;
if(H)X=E.Q.O<=1?10:1;var b=X*Math.round(e.x/X),k=X*Math.round(e.y/X),D=[b,k],j=E.oc[this.xx];j[1]=D[j[0]]}else if(this.d==3){var g=this.Yr,R=d.A.xv([g.x,g.y,e.x,e.y]);
this.JX=R;var t=[];E.root.amu(R,t);if(JSON.stringify(E.g)!=JSON.stringify(t)){E.g=t;E.ac=E.QZ=!0}}else if(this.d==4){for(var N=0;
N<E.dL.length;N++)E.cB[E.dL[N]].rect.offset(y,c);E.Ea=!0}};F.pB.YH=function(E,y,c,e){var p=E.B[y];E.i.rect.offset(c,e);
p.uB(E,c,e,E.i);E.zr=!0;E.W()};F.pB.prototype.JA=function(E,y,c,e,p,H){this.hs(E,p,c);this.Po(E);if(Date.now()-this.KU<300&&!H){var Z=F.fa.fi(E,E.Q.GV(p.x,p.y));
if(F.pB.wm(c,p,E.Q,!0)){var X=new iU(S.E.M);if(p.y>E.Q.tP.e-20){X.data={d:S.H.Q5,ym:"doczoom",v5:E.Q.O*100,nO:{K:S.E.v,f:F.fE,C:{d:"pzoom"}}}}else{X.data={d:S.H.Q5,ym:"preferences"}}y.T(X)}else if(Z>=0){var b=new iU(S.E.v,!0);
b.f=F.IB;b.data={d:"editCurr",HV:Z};y.T(b)}}this.KU=Date.now();F.Et.jX(E)};F.pB.prototype.hs=function(E,y,c,e,p){if(!this.W5)return;
this.W5=!1;if(this.d==0){if(e){this.a2X(E,null,e,p)}else{if(this.Y3.x==0&&this.Y3.y==0)return;this.a2X(E,this.Y3.clone())}E.hb=!0}else if(this.d==2){var H=0;
y=[y.x,y.y];var Z=this.xx,X=E.oc[Z],h$=this.Ni[0].length,b=E.oc.length;if(c.B3&&y[X[0]]<d._5.rs){var k=E.Tp();
k[0].splice(Z,1);k[1].splice(Z,1);E.Z5(k);H=1;if(h$==b-1)return}if(h$<b)H=2;var D=new fN([[23,2],[23,3],[23,4]][H],this);
D.data={d:2,Ni:this.Ni,NF:E.Tp()};E.QY(D)}else if(this.d==4){var D=new fN([12,54],this);D.data={d:4,g:E.dL.slice(0),z:this.Y3.clone()};
E.QY(D)}this.Y3.tW(0,0)};F.pB.prototype.Gu=function(E,y,c,e){var p=e.K$(E?E.Q.fb:0);if(E!=null&&(p.x!=0||p.y!=0)){if(e.S(ct.Q3)&&E.i==null){var H=new iU(S.E.v);
H.f=F.sh;H.data={d:jN.lz,a67:!0};y.T(H)}this.Y3.tW(p.x,p.y);this.XC(E,y,e,c,!1);if(!this.W5)return;this.dM(E,p.x,p.y);
this.hs(E,null,c);this.Po(E)}var Z=e.S(ct.Nc);if(!this.yM&&this.agR!=Z){if(Z){this.adg=this.Qh.Xk;this.Qh.Xk=!0}else{this.Qh.Xk=this.adg}this.agR=Z;
var X=new iU(S.E.M,!0);X.data={d:S.H.qq,f:this.id,Ss:this.Qh};y.T(X)}};F.pB.prototype.GW=function(E,y){if(E.d==0){var c=E.HA;
if(c){y.vr(c.wO);y.g=c.k7.slice(0);y.W();y.ac=!0}F.pB.DF(y,E.g,E.JF,E.Nr,!0);F.Et.jX(y)}else if(E.d=="fcmy"||E.d=="fvec"){if(E.v5==0)delete y.add[E.d];
else y.add[E.d]=E.v5;y.Ea=!0}else if(E.d=="pview"){y.sG=!y.sG;y.W()}else if(E.d==2){y.Z5(E.Ni);y.Ea=!0}else if(E.d==4){for(var N=0;
N<E.g.length;N++)y.cB[E.g[N]].rect.offset(-E.z.x,-E.z.y);y.Ea=!0}else{var e=y.B[E.a];if(E.sD){e.eJ(y,E.iO);
y.i=E.Mb;y.zr=!0;y.W();e.W()}else{F.pB.YH(y,E.a,-E.sN.x,-E.sN.y)}}};F.pB.prototype.Rn=function(E,y){if(E.d==0){F.pB.DF(y,E.g,E.JF,E.Nr);
var c=E.HA;if(c){y.vr(c.gr);y.g=c.Bs.slice(0);y.W();y.ac=!0}F.Et.jX(y)}else if(E.d=="fcmy"||E.d=="fvec"){if(E.Hx==0)delete y.add[E.d];
else y.add[E.d]=E.Hx;y.Ea=!0}else if(E.d=="pview"){y.sG=!y.sG;y.W()}else if(E.d==2){y.Z5(E.NF);y.Ea=!0}else if(E.d==4){for(var N=0;
N<E.g.length;N++)y.cB[E.g[N]].rect.offset(E.z.x,E.z.y);y.Ea=!0}else{var e=y.B[E.a];if(E.sD){e.r$=E.r$;
y.i=E.Yi;F.pB.YH(y,E.a,0,0);e.W()}else{F.pB.YH(y,E.a,E.sN.x,E.sN.y)}}};F.pB.prototype.a2X=function(E,y,c,e){if(c){var p=!0;
for(var N=0;N<c.length;N++)if(c[N]!=0)p=!1;if(p)return}var H=E.history[E.PT],Z=this.xi,X=Z!=null&&Z[3]!=-1&&Z[0]==E;
if(!X&&c==null&&H.data&&H.f==this&&H.data.d==0&&JSON.stringify(H.data.g)==JSON.stringify(this.xx)&&JSON.stringify(H.data.JF)==JSON.stringify(this.Bx)){var b=H.data.Nr,k=H.data.aoB.hG.T.v;
k.Hrzn.v.val+=y.x;k.Vrtc.v.val+=y.y;for(var N=0;N<b.length;N+=2){b[N]+=y.x;b[N+1]+=y.y}}else{if(y==null)y=new eq(c[0],c[1]);
var D={tT:"move",hG:{classID:"null",null:aW.G6("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:y.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:y.y}}}}}},j=null;
if(X)j={wO:Z[1],k7:Z[2],gr:E.B.slice(0),Bs:E.g.slice(0)};this.xi=null;var g=new fN(e?e:[12,54],this);
if(c)g.data={d:0,g:this.xx,JF:this.Bx,HA:j,Nr:c};else g.data={d:0,g:this.xx,JF:this.Bx,HA:j,Nr:F.pB.a60(this.xx,y.x,y.y)};
g.data.aoB=D;E.QY(g);this.track(D)}};F.pB.a60=function(E,y,c){var e=[];for(var N=0;N<E.length;N++)e.push(y,c);
return e};F.pB.Ae=function(E,y,c,e,p){F.pB.DF(E,y,c,F.pB.a60(y,e,p))};F.pB.DF=function(E,y,c,e,p){if(y.length==0)return;
if(c==null){c=[];for(var N=0;N<y.length;N++){c.push(E.B[y[N]].JO(E,!0))}}var H=new ir,Z=new ir(0,0,E.m,E.e);
for(var N=0;N<y.length;N++){var X=e[2*N],b=e[2*N+1];if(p){X=-X;b=-b}var k=E.B[y[N]],D=c[N];if(k.add.fxrp&&(D.indexOf(0)!=-1||k.iU()))k.add.fxrp.offset(X,b);
for(var j=0;j<D.length;j++){var g=D[j];if(g==0){k.rect.offset(X,b);if(k.p3()&&k.kP(E))k.kP(E).rect.offset(X,b);
if(k.add.artb){var R=k.fQ();R.offset(X,b);k.ix(R);var t=k.add.artb.guideIndeces;t=t?t.v:[];for(var w=0;
w<t.length;w++){var B=E.oc[t[w].v];B[1]+=B[0]==0?X:b}}if(k.add.TySh){k.add.TySh.u.translate(X,b);if(k.add.TySh.add){k.add.TySh.add.vmsk.offset(X,b)}}if(k.add.SoLd){var $=new jr(1,0,0,1,X,b),o=k.add.SoLd,T=F.Y.Rt(o.Trnf),i=F.Y.Rt(o.nonAffineTransform);
d.A.u(T,$,T);d.A.u(i,$,i);o.Trnf=F.Y.Zd(T);o.nonAffineTransform=F.Y.Zd(i);F.Y.atw(o,$)}}if(g==1)k.Nb().rect.offset(X,b);
if(g==2){k.add.vmsk.offset(X,b);if(k.add.vogk)d.gM.u(k.add.vogk,[1,0,X,0,1,b,0,0],[]);if(k.b_.bh){var r=k.b_.bh.E8.j;
d.A.u(r,new jr(1,0,0,1,X,b),r)}}if(g==3){k.kP(E).F.rect.offset(X,b);if(D.length==1)k.W()}}if(D.length>0){var I=k.add.GdFl;
if(I==null)I=k.add.PtFl;if(k.iU()&&!k.rA()&&k.add.vmsk!=null&&d.o.E9(k.add.vmsk.X)&&k.add.vmsk.$a==255&&(I==null||I.Algn&&I.Algn.v)){k.rect.offset(X,b)}else k.fP(E);
var M=E.root._G(k.WT(E),E,y[N]);if(k.add.artb)M=M.uN(k.fQ());H=H.uN(M);M.offset(-X,-b);H=H.uN(M);if(k.ag()&&k.F&&k.F.color==255)H=H.uN(Z);
k.aks()}}E.W(d.A.u8(H))};F.pB.aB2=function(E,y){var c=[];for(var N=0;N<y.length;N++){var e=E.B[y[N]];
c.push(e.JO(E))}return c};F.pB.lx=function(E,y,c){var e={j:[],G:[]},p=y.x+c[0],H=y.y+c[1];if(c[2]!=1e9){e.G.push("M","L");
var Z=H+y.e;if(c[4])e.j.push(c[2],Math.min(H,Z,c[4][1]),c[2],Math.max(H,Z,c[4][1]));else e.j.push(c[2],H,c[2],H+y.e)}if(c[3]!=1e9){e.G.push("M","L");
var X=p+y.m;if(c[5])e.j.push(Math.min(p,X,c[5][0]),c[3],Math.max(p,X,c[5][0]),c[3]);else e.j.push(p,c[3],X,c[3])}if(e.j.length!=0){E.N.d2=e;
E.Ea=!0}};F.pB.pQ=function(E,y,c,e){var p=F.pB.ain(E,[[y.x],[y.y]],c,e);return new eq(y.x+p[0],y.y+p[1])};
F.pB.Ih=function(E,y,c,e,p){var H=p==!0?1:.5,Z=F.pB.ain(E,[[y.x,y.x+Math.round(y.m*H),y.x+y.m],[y.y,y.y+Math.round(y.e*H),y.y+y.e]],c,e);
return Z};F.pB.ain=function(E,y,c,e){if(e==null)e=[!0,null,!0];var p=[0,0,1e9,1e9,null,null];if(!c.Ce)return p;
var H=JSON.parse(JSON.stringify(y));for(var Z=0;Z<2;Z++){var X=1e9,b=y[Z],k=0,D=null;for(var j=0;j<b.length;
j++){var g=F.pB.a3d(E,b[j],H[1-Z][j],Z,c,e),R=g[0];if(R!=1e9)H[Z][j]=R;if(R!=1e9&&Math.abs(R-b[j])<Math.abs(X)){X=R-b[j];
k=R;D=g[1]}}if(X!=1e9){p[Z]=X;p[Z+2]=k;p[Z+4]=D}}return p};F.pB.a3d=function(E,y,c,e,p,H){var Z=1e9,X=null,b=p.BT,k=p.km,D=[E.root];
while(D.length!=0&&b[2]){var j=D.pop(),g=j.a,R=g.rect;if(!g.OQ())continue;if(j.children)for(var N=0;
N<j.children.length;N++)D.push(j.children[N]);if(E.g.indexOf(j.index)!=-1||R.tj())continue;var t=R.m,w=t>>>1,B=R.e,$=B>>>1,o=Z;
if(e==0){if(Math.abs(R.x-y)<Math.abs(Z-y))Z=R.x;if(Math.abs(R.x+w-y)<Math.abs(Z-y))Z=R.x+w;if(Math.abs(R.x+t-y)<Math.abs(Z-y))Z=R.x+t}else{if(Math.abs(R.y-y)<Math.abs(Z-y))Z=R.y;
if(Math.abs(R.y+$-y)<Math.abs(Z-y))Z=R.y+$;if(Math.abs(R.y+B-y)<Math.abs(Z-y))Z=R.y+B}if(o!=Z){X=[R.x+w,R.y+$]}}var T=Z;
Z=1e9;if(H[0]&&b[0]&&k.oc&&p.sL){var i=E.Tp(),r=i[0],I=i[1],M=E.Z1();for(var N=0;N<r.length;N++)if((I[N]==-1||I[N]==M)&&r[N][0]==e&&Math.abs(r[N][1]-y)<Math.abs(Z-y))Z=r[N][1]}if(b[1]&&k.AG&&p.sL){var J=Math.round(d._5.o3(k.VV,E.$c,E.m,k.pz));
if(e==1&&k.zP==1){var P=c*.5*Math.sqrt(4/3),n;J*=Math.sqrt(4/3);n=Math.round((y-P)/J)*J+P;if(Math.abs(n-y)<Math.abs(Z-y))Z=n;
n=Math.round((y+P)/J)*J-P;if(Math.abs(n-y)<Math.abs(Z-y))Z=n}else{var n=Math.round(y/J)*J;if(Math.abs(n-y)<Math.abs(Z-y))Z=n}}var x=E.Cv;
if(b[3]&&k.Cv&&p.sL&&x.length!=0){for(var N=0;N<x.length;N++){if(!H[2]&&E.eg.indexOf(N)!=-1)continue;
var L=F.Uj.T5(x,N);for(var u=0;u<3;u+=2)if(L[u+e]!=y&&Math.abs(L[u+e]-y)<Math.abs(Z-y))Z=L[u+e]}}if(H[1])for(var C=0;
C<H[1].length;C++){var R=H[1][C],t=R.m,B=R.e,w=t>>>1,$=B>>>1;if(H[3]){w=t/2;$=B/2}var h=[R.x,R.y,R.x+w,R.y+$,R.x+t,R.y+B];
for(var N=0;N<6;N+=2)if(Math.abs(h[N+e]-y)<Math.abs(Z-y))Z=h[N+e]}if(b[4]){var R=new ir(0,0,E.m,E.e),M=E.Z1();
if(M!=-1)R=E.B[M].fQ();var t=R.m,B=R.e,w=t>>>1,$=B>>>1;if(H[3]){w=t/2;$=B/2}var h=[R.x,R.y,R.x+w,R.y+$,R.x+t,R.y+B];
for(var N=0;N<6;N+=2)if(Math.abs(h[N+e]-y)<Math.abs(Z-y))Z=h[N+e]}if(Math.abs(Z-y)<=Math.abs(T-y))X=null;
else Z=T;var A=Math.abs(Z-y)<=4*F.k1()/E.Q.O?Z:1e9;return[A,X]};F.aU=function(){F.XY.call(this,[10,12],F.ND,"tools/mwand");
this._y=null};F.aU.prototype=new F.XY;F.aU.prototype.Lz=function(E,y,c,e){this._y=e;this.a4g=this.Qh.wconf[0];
this.finish(E,y,c,e)};F.aU.prototype.Xo=function(E,y,c,e,p){if(!e.fu)return;var H=new iU(S.E.v);H.f=F.yW;
H.data={d:"h_stepbck"};p.T(H);var Z=e.x-this._y.x,X=Math.max(0,Math.min(255,Math.round(this.a4g+Z/4)));
this.Qh.wconf[0]=X;this.Wj(p);this.finish(E,y,c,this._y)};F.aU.prototype.P6=function(E,y,c,e,p){this.Qh.wconf[0]=this.a4g;
this.Wj(p)};F.aU.prototype.getSelection=function(E,y,c,e){var p=this.vy;p=E.Q.GV(e.x,e.y);var H=F.XY.a40(new eq(Math.floor(p.x),Math.floor(p.y)),this.Qh.wconf,this.Qh.sall);
return H};F.aU.asc=function(E,y,c,e,p){if(y.x<0||y.x>E.m||y.y<0||y.y>E.e)return null;var H,Z=new ir(0,0,E.m,E.e);
if(e)H=E.eA();else{var X=E.g.length,k=null;if(X!=1){alert(X==0?"No layer selected.":"More than one layer selected.");
return null}var b=E.B[E.g[0]],D=b.p6<=0?null:b.p6==1?b.Nb():b.kP(E).F;if(p||D&&D.bY)k=D;if(k==null&&b.add.lsct!=null&&b.add.lsct!=kl.Ha){alert("No layer selected.");
return null}if(k==null&&Z.rT(b.rect))H=b.buffer;else{H=d.R(Z.P()*4);if(k==null)d.E6(b.buffer,b.rect,H,Z);
else F.XP.Mf(k.channel,k.rect,k.color,H,Z)}}var j=F.aU.uL(H,Z,y,null,c),g=d.pL(j,Z),R=d.R(g.P());d.kh(j,Z,R,g);
return{rect:g,channel:R}};F.aU.ej=function(E,y,c){var e=y.m,p=y.e,Z=0,X=0,b=0,k=0;E=new Uint32Array(E.buffer);
var H=[],D=c.length;for(var N=0;N<D;N++){var j=c[N],g=Math.round(j.x-.5-y.x),R=Math.round(j.y-.5-y.y);
g=Math.max(0,Math.min(e-1,g));R=Math.max(0,Math.min(p-1,R));var t=R*e+g,w=E[t];H.push([w&255,w>>8&255,w>>16&255,w>>>24])}return H};
F.aU.uL=function(E,y,c,e,p){E=new Uint32Array(E.buffer);var H=y.m,Z=y.e,X=H*Z;if(e==null)e=F.aU.ej(E,y,[c]);
var b=Math.round(c.x-.5-y.x),k=Math.round(c.y-.5-y.y),D=k*H+b,j=Date.now(),g=d.R(H*Z),R=p[0],t=1/R,w=p[1]&&R>0?255:0;
if(p[2]){var B=d.R(g.length),$=new Uint32Array(X),o=1;$[0]=b<<16|k;B[D]=1;while(o>0){var T=$[o-1];o--;
var i=T>>>16,r=T&65535,N=r*H+i,I=F.aU.D$(E[N],e);if(I>R){var M=w*(1-Math.max(0,Math.min(1,(I-R)*t)));
g[N]=~~M}else{g[N]=255;if(r!=Z-1&&B[N+H]==0){$[o++]=i<<16|r+1;B[N+H]=1}if(r!=0&&B[N-H]==0){$[o++]=i<<16|r-1;
B[N-H]=1}if(i!=H-1&&B[N+1]==0){$[o++]=i+1<<16|r;B[N+1]=1}if(i!=0&&B[N-1]==0){$[o++]=i-1<<16|r;B[N-1]=1}}}}else{for(var N=0;
N<X;N++){var I=F.aU.D$(E[N],e);if(I<=R)g[N]=255}for(var r=0;r<Z;r++)for(var i=0;i<H;i++){var N=r*H+i;
if(g[N]==0&&(i>0&&(g[N-1]==255||r>0&&g[N-H-1]==255||r<Z-1&&g[N+H-1]==255)||i<H-1&&(g[N+1]==255||r>0&&g[N-H+1]==255||r<Z-1&&g[N+H+1]==255)||r>0&&g[N-H]==255||r<Z-1&&g[N+H]==255)){var I=F.aU.D$(E[N],e),M=w*(1-Math.max(0,Math.min(1,(I-R)*t)));
g[N]=~~M}}}return g};F.aU.D$=function(E,y){var c=y.length,e=F.aU.axZ(E,y[0]),N=1;while(N!=c){e=Math.min(e,F.aU.axZ(E,y[N]));
N++}return e};F.aU.axZ=function(E,y){var c=E&255,e=E>>>8&255,p=E>>>16&255,H=E>>>24&255;if(y[3]==0)return H<5?0:255;
var Z=Math.max(Math.abs(c-y[0]),Math.max(Math.abs(e-y[1]),Math.abs(p-y[2])));return H==0?255:Z};F.Nl=function(E,y){if(y)F.XP.call(this);
else if(E)F.XP.call(this,[10,49],F.eF,"tools/camove");else F.XP.call(this,[10,26],F.vq,"tools/patch");
this.qT=null;this.bh=null;this.z=null;this.Vw=null;this.F$=new eq;this.E$=null;this.HF=null};F.Nl.prototype=new F.XP;
F.Nl.prototype.yl=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y);if(E.i&&d.U1(H,E.i.channel,E.i.rect)){var Z=new ir(0,0,E.m,E.e),X=Z.fr(E.i.rect);
if(!E.iR()||X.tj())return;if(!0){var b=d.R(X.P());d.kh(E.i.channel,E.i.rect,b,X);E.i={channel:b,rect:X}}this.Jh(E);
this.$T(E);this.Vw=H;this.F$=new eq(H.x-E.i.rect.x,H.y-E.i.rect.y);this.HF=d.R(E.i.rect.P()*4);this.HF.fill(255);
if(this.Qh.patch==1){var k=E.B[E.g[0]];k.MS(E,E.i,!0);if(k.r$==null)this.Vw=null}this.E$=E.i.rect.clone()}else{this.bh={j:[H.x,H.y],G:["M"]};
this.qT=H}};F.Nl.prototype.Lv=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y);if(this.Vw){if(this.Qh.patch==1){if(E.dL.length==0){var Z=E.B[E.g[0]].r$,X=H.x-this.F$.x,b=H.y-this.F$.y;
F.pB.YH(E,E.g[0],Math.round(X-Z.AL.x),Math.round(b-Z.AL.y))}}else this.aln(E,H,"clone")}if(this.qT){this.bh.G.push("L");
this.bh.j.push(H.x,H.y);this.qT=H;E.N.Aq=this.bh;E.Ea=!0}};F.Nl.prototype.JA=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y);
if(this.Vw){var Z=E.i.rect.clone();if(this.id==F.eF){var X=E.B[E.g[0]];X.eJ(E,X.r$);E.i.rect=this.E$.clone();
var b=d.R(E.i.rect.P()*4);d.Og(E.i.channel,b,3);this.CD(E,"sheal",b,E.i.rect,E.i.rect);E.i.rect=Z;Z=Z.uN(this.E$)}this.aln(E,H,"heal");
this.finish(E,Z,null,null,!0);E.W(Z);this.Vw=null}if(this.qT){var k=F.XY.fY(this.Qh.setop,e.S(ct.zx),e.S(ct.Q3)),D=new iU(S.E.on,!0);
if(this.bh.j.length<=4)D.data=F.XY.cg();else D.data=F.XY.bG(this.bh.j,k);y.T(D);this.qT=null;E.N.Aq=null;
E.Ea=!0}};F.Nl.prototype.DN=function(){return this.z};F.Nl.prototype.vm=function(E,y,c,e,p){F.XP.prototype.vm.call(this,E,y,c,e,p);
this.qv(p,e)};F.Nl.prototype.qv=function(E,y){var c="auto;";if(y!=null&&y.S(ct.zx)&&!y.S(ct.Q3)||this.Qh.setop=="union")c="copy";
var e=new iU(S.E.M,!0);e.data={d:S.H.qR,gs:c};if(this.caller)this.caller.T(e)};F.Nl.prototype.aln=function(E,y,c){var e=new eq(Math.round(this.Vw.x-y.x),Math.round(this.Vw.y-y.y));
if(this.Qh.patch==1)e.tW(-e.x,-e.y);this.z=e;this.CD(E,c,this.HF,E.i.rect,E.i.rect);this.W(E,E.i.rect)};
F.aiA=function(){F.Nl.call(this,!0);this.Qh.patch=1};F.aiA.prototype=new F.Nl(!0,!0);F.aC=function(E){if(E)F.XP.call(this,[10,52],F.aoa,"tools/meraser");
else F.XP.call(this,[10,13],F.ab_,"tools/pbucket");this.i9=!1;this.abz=E};F.aC.prototype=new F.XP;F.aC.prototype.enable=function(E,y,c,e){var p=new iU(S.E.M,!0);
p.data={d:S.H.qR,gs:"default"};y.T(p)};F.aC.prototype.mh=function(E,y){};F.aC.prototype.yl=function(E,y,c,e,p){if(this.m1(E,y,c,e,p,!0))return;
this.i9=!0};F.aC.prototype.Lv=function(E,y,c,e,p){if(this.m1(E,y,c,e,p))return};F.aC.prototype.JA=function(E,y,c,e,p,H){this.enable(E,y,c,e);
var Z=this.i9;this.i9=!1;if(!Z||H)return;if(!E.iR())return;var X=E.Q.GV(p.x,p.y),b=F.aU.asc(E,X,this.Qh.wconf,this.Qh.sall,!0);
if(b==null)return;var k=d.R(b.rect.P()*4);d.KT(k,(c.x4&255)<<16|(c.x4>>8&255)<<8|(c.x4>>16&255)<<0);
d.Og(b.channel,k,3);this.Jh(E);this.CD(E,this.abz?"erase":"draw",k,b.rect,b.rect);this.W(E,b.rect);this.finish(E,b.rect)};
F.vM=function(){F.XY.call(this,[10,14],F.aC6,"tools/plasso");this.fZ="crosshair";this.lM=[];this.KV=null;
this.bh=null;this.aod=0};F.vM.prototype=new F.XY;F.vM.prototype.disable=function(E,y,c,e){this.At(E)};
F.vM.prototype.Lz=function(E,y,c,e){this.lM=[ct.OA,ct.hy]};F.vM.prototype.OX=function(E){return this.lM.indexOf(E)!=-1};
F.vM.prototype.Zw=function(E){return this.bh!=null};F.vM.prototype.Q6=function(){return this.bh!=null};
F.vM.prototype.j_=function(){return this.bh!=null};F.vM.prototype.Xo=function(E,y,c,e){if(this.bh==null)return;
var p=this.bh,H=p.j,Z=H.length-2,X=this.vy;if(this.cF.kL(1)&&c.S(ct.Q3)&&e.fu){H.push(0,0);p.G.push("L");
Z+=2}else if(c.S(ct.zx))X=F.bu._K(new eq(H[Z-2],H[Z-1]),X);H[Z]=X.x;H[Z+1]=X.y;E.N.Aq=p;E.Ea=!0};F.vM.prototype.P6=function(E,y,c,e){var p=Date.now();
if(this.bh==null)this.bh={j:[this.vy.x,this.vy.y,this.vy.x,this.vy.y],G:["M","L"]};else{this.Xo(E,y,c,e);
if(p-this.aod<250||eq.oG(this.vy,new eq(this.bh.j[0],this.bh.j[1]))<F.Wo(E,e)){this.KV=this.bh;this.finish(E,y,c,e);
this.At(E);return}this.bh.G.push("L");this.bh.j.push(this.vy.x,this.vy.y)}this.aod=p;E.N.Aq=this.bh};
F.vM.prototype.At=function(E){this.bh=null;this.lM=[];if(E!=null){E.N.Aq=null;E.Ea=!0}};F.vM.prototype.Gu=function(E,y,c,e){F.XY.prototype.Gu.call(this,E,y,c,e);
if(e.S(ct.SB)&&this.bh==null&&this.KV&&E.i!=null){var p=new iU(S.E.v);p.f=F.yW;p.data={d:"h_stepbck"};
y.T(p);this.Lz(E,c,e,null);this.bh=this.KV;return}if(this.bh==null)return;if(e.S(ct.OA)||e.S(ct.hy)){this.bh.j.pop();
this.bh.j.pop();this.bh.G.pop();this.Xo(E,c,e)}if(e.S(ct.qy)){if(this.bh.j.length>4){this.KV=this.bh;
this.finish(E,c,e)}this.bh=null}if(e.S(ct.SB)){this.bh=null}E.N.Aq=this.bh;E.Ea=!0};F.vM.prototype.getSelection=function(E,y,c,e){return F.XY.bG(this.bh.j,null,this.Qh.anta)};
F.DS=function(){F.XY.call(this,[10,10],F.aaX,"tools/mlasso");this.fZ="crosshair";this.lM=[];this.X=[];
this.cy=[];this.M2=[];this.Bk=null;this.i6=null;this.P3=null;this.KU=0;this.KE=0};F.DS.prototype=new F.XY;
F.DS.prototype.disable=function(E,y,c,e){this.clear(E)};F.DS.prototype.Zw=function(E){return this.X.length!=0};
F.DS.prototype.j_=function(){return this.X.length!=0};F.DS.prototype.OX=function(E){return this.lM.indexOf(E)!=-1};
F.DS.prototype.Lz=function(E,y,c,e){this.lM=[ct.OA,ct.hy];var p=this.ry(this.Lh,E);if(this.X.length!=0&&(eq.oG(p,this.X[0])<F.Wo(E,e)||Date.now()-this.KU<300)){this.ZT(E,this.X[0]);
this.finish(E,y,c);this.clear(E);return}this.KU=Date.now();if(this.X.length!=0)p=this.pD(p,E);else{var H=E.m,Z=E.e,X=d.R(H*Z),b=E.eA(),k=H*Z*4;
for(var N=0;N<k;N+=4)X[N>>>2]=~~(.5+d._f(b[N],b[N+1],b[N+2])*(b[N+3]*(1/255)));this.Bk=d.VO.a4d(X,H,Z);
this.P3=new Uint16Array(X.length)}this.ZT(E,p);this.KE=c.S(ct.Q3)?1:0;this.Ur(E)};F.DS.prototype.ZT=function(E,y){var c=this.X;
this.cy[c.length]=this.M2.length;if(c.length!=0){d.VO.SA(this.i6,y.y*E.m+y.x);var e=this.sm(E,y);e.reverse();
var p=F.DS.alX(E,e);this.M2=this.M2.concat(p)}c.push(y);this.awX(E)};F.DS.prototype.awX=function(E){var y=this.X[this.X.length-1],c=y.y*E.m+y.x;
this.i6=d.VO.aA2(this.Bk.Wf,this.Bk.qC,c);this.P3.fill(0)};F.DS.prototype.ry=function(E,y){return new eq(Math.floor(Math.max(0,Math.min(y.m-1,E.x))),Math.floor(Math.max(0,Math.min(y.e-1,E.y))))};
F.DS.prototype.clear=function(E){this.M2=[];this.X=[];this.cy=[];this.Bk=null;this.i6=null;this.P3=null;
if(E!=null){E.N.Aq=null;E.N.AX=[];E.Ea=!0}this.lM=[]};F.DS.prototype.Xo=function(E,y,c,e){var p=this.X,H=p.length;
if(H==0)return;var Z=this.pD(this.ry(this.vy,E),E),X=this.sm(E,Z);for(var N=0;N<X.length;N++){var b=X[N],k=new eq(b%E.m,Math.floor(b/E.m));
if(this.P3[b]>30&&eq.oG(k,p[H-1])>20){this.ZT(E,k);return}this.P3[b]++}if(this.KE==1&&e.fu)this.ZT(E,Z);
this.Ur(E)};F.DS.prototype.Ur=function(E){var y=this.X;if(y.length!=0){var c=this.pD(this.ry(this.vy,E),E),e=this.sm(E,c);
e.reverse();var p=F.DS.alX(E,e),H=this.M2.concat(p),Z=E.N.Aq={j:H,G:["M"]};for(var N=2;N<H.length;N+=2)Z.G.push("L")}E.N.AX=[];
for(var N=0;N<y.length;N++)E.N.AX.push(y[N].x+.5,y[N].y+.5);E.Ea=!0};F.DS.prototype.P6=function(E,y,c,e){};
F.DS.prototype.Gu=function(E,y,c,e){if(this.X.length==0)return;if(e.S(ct.OA)||e.S(ct.hy)){this.X.pop();
this.M2=this.M2.slice(0,this.cy[this.X.length]);this.cy.pop();if(this.X.length==0)this.clear(E);else this.awX(E);
this.Ur(E)}if(e.S(ct.qy)){var p=this.ry(this.vy,E);this.ZT(E,p);this.finish(E,c,e);this.clear(E)}if(e.S(ct.SB)){this.clear(E)}};
F.DS.prototype.getSelection=function(E,y,c,e){return F.XY.bG(this.M2,null,this.Qh.anta)};F.DS.prototype.sm=function(E,y){var c=this.X[this.X.length-1],e=c.y*E.m+c.x,p=y.y*E.m+y.x;
if(this.KE==1)return[p,e];var H=[p];while(p!=e){p=this.i6.bp[p];H.push(p);if(H.length>5e3){console.log(H);
throw"e"}}return H};F.DS.alX=function(E,y){var c=[],e=E.m;for(var N=0;N<y.length;N++){var p=y[N];c.push(p%e+.5,Math.floor(p/e)+.5)}return c};
F.DS.prototype.pD=function(E,y){var c=y.m,e=y.e,p=E.clone(),Z=3;d.VO.SA(this.i6,E.y*c+E.x);var H=this.i6.vO[E.y*c+E.x];
for(var X=-Z+1;X<Z;X++)for(var b=-Z+1;b<Z;b++){var k=E.x+b,D=E.y+X;if(k<0||k>=c||D<0||D>=e)continue;
d.VO.SA(this.i6,D*c+k);if(this.i6.vO[D*c+k]<H)p.tW(k,D)}return p};F.s2=function(){F.gb.call(this,[10,36],F.aT,"tools/ruler");
this.V8=null;this.BY=null;this.o6=null;this.P8=null;this.gX=null};F.s2.prototype=new F.gb;F.s2.prototype.Zw=function(E){return E.fu};
F.s2.prototype.enable=function(E,y,c,e){F.gb.prototype.enable.call(this,E,y,e,c);if(E)this.Po(E)};F.s2.prototype.disable=function(E,y,c,e){if(E)this.At(E)};
F.s2.prototype.hE=function(E,y,c,e,p){this.V8=this.o6=null;this.Po(c)};F.s2.prototype.yl=function(E,y,c,e,p){var H=F.Wo(E,p),Z=E.Q.GV(p.x,p.y);
Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);var X=this.V8;this.BY=X?X.slice(0):null;var b=X&&eq.oG(Z,X[0])<H,k=X&&eq.oG(Z,X[1])<H,D=X&&X[2]&&eq.oG(Z,X[2])<H;
if(b||k||D){if(e.S(ct.Q3)&&X.length==2){if(k){var j=X[0];X[0]=X[1];X[1]=j}X[2]=X[0].clone();this.o6=[2]}else this.o6=[b?0:k?1:2]}else if(X&&F.s2.aa0(X[0],X[1],Z)<H&&Math.min(X[0].x,X[1].x)-5<=Z.x&&Z.x<=Math.max(X[0].x,X[1].x)+5&&Math.min(X[0].y,X[1].y)-5<=Z.y&&Z.y<=Math.max(X[0].y,X[1].y)+5){this.o6=[];
this.gX=[];for(var N=0;N<X.length;N++){this.o6.push(N);this.gX.push(X[N].clone())}this.P8=Z}else{this.V8=[Z.clone(),Z.clone()];
this.o6=[1]}};F.s2.prototype.Lv=function(E,y,c,e,p){if(this.o6==null)return;var H=this.V8,Z=this.o6,X=E.Q.GV(p.x,p.y);
X.x=Math.round(X.x);X.y=Math.round(X.y);if(Z.length>1){var b=X.x-this.P8.x,k=X.y-this.P8.y;for(var N=0;
N<H.length;N++){H[N]=this.gX[N].clone();H[N].offset(b,k)}}else{H[Z[0]].tW(X.x,X.y);if(e.S(ct.zx)){H[Z[0]]=F.bu._K(H[1-Z[0]],H[Z[0]])}}this.Po(E);
this.YY(y,S.E.M,{d:S.H.qq,f:this.id,awE:H[0],B6:H[1],Rw:H[2],$c:E.$c,ad1:E.m});E.Q.ZC=d.A.xv([H[0].x,H[0].y,H[1].x,H[1].y]);
console.log(E.Q.ZC)};F.s2.prototype.JA=function(E,y,c,e,p,H){this.o6=null;if(H){this.V8=this.BY.slice(0);
this.Po(E)}};F.s2.prototype.YY=function(E,y,c){var e=new iU(y,!0);e.data=c;E.T(e)};F.s2.prototype.Po=function(E){var y=this.V8;
if(y==null)this.At(E);else{var c=[y[1].x,y[1].y,y[0].x,y[0].y],e=["M","L"];if(y.length>2){c.push(y[2].x,y[2].y);
e.push("L")}E.N.Aq={G:e,j:c};E.N.AX=c}E.Ea=!0};F.s2.prototype.At=function(E){E.N.Aq=null;E.N.AX=[]};
F.s2.aa0=function(E,y,c){var e=y.x-E.x,p=y.y-E.y,H=Math.abs(p*c.x-e*c.y+y.x*E.y-y.y*E.x),Z=Math.sqrt(e*e+p*p);
return Z==0?0:H/Z};F.Zs=function(){F.XP.call(this,[10,19],F.uW,"tools/sharpen");this.Ze="copy"};F.Zs.prototype=new F.XP;
F.Zs.prototype.yl=function(E,y,c,e,p){var H=this.Qh.pdetail?b1.qE:b1.uW;if(e.S(ct.Q3))H=b1.xZ;this.NA(E,c,e,p,this.Qh.strn,H);
if(this.Zk==null)return;this.Fr(E)};F.Zs.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);
if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};F.Yj=function(){F.XP.call(this,[10,24],F.W6,"tools/shbrush");
this.Ze="draw";this.Qh.opacity=.5};F.Yj.prototype=new F.XP;F.Yj.prototype.yl=function(E,y,c,e,p){this.NA(E,c,e,p,1);
if(this.Zk==null)return;this.$T(E);this.Fr(E)};F.Yj.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);
if(this.wT)this.$w(E,c,p);if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};F.Yj.prototype.JA=function(E,y,c,e,p){if(this.Zk==null)return;
this.CD(E,"sheal",this.Zk.mn(),this.Zk.EK(),this.Zk.JU(),null);this.W(E,this.Zk.JU());F.XP.prototype.JA.call(this,E,y,c,e,p)};
F.R2=function(){F.XP.call(this,[10,20],F.yx,"tools/smudge");this.Ze="copy"};F.R2.prototype=new F.XP;
F.R2.prototype.yl=function(E,y,c,e,p){var H=this.Qh.brush.toolOptions;this.NA(E,c,e,p,this.Qh.strn,b1.yx);
if(this.Zk==null)return;this.Fr(E)};F.R2.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);
if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};F.a6=function(){F.XP.call(this,[10,23],F.uu,"tools/sponge");
this.Ze="sponge"};F.a6.prototype=new F.XP;F.a6.prototype.yl=function(E,y,c,e,p){this.NA(E,c,e,p,this.Qh.flow);
if(this.Zk==null)return;this.Fr(E)};F.a6.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);if(this.wT)this.$w(E,c,p);
if(this.Zk==null)return;if(!p.fu)return;this.OD(E,c,e,p);this.Fr(E)};F.tg=function(){F.gb.call(this,[10,17],F.fE,"tools/zoom");
this.Ub=!1;this.l5=!0;this._j=!1;this.gx=0;this.Da=null;this.Pd=null;this.Jq=0;this.lk=null;this.a6v=0;
this.S$=new el([{name:[8,0],xu:"Ctrl + +"},{name:[8,1],xu:"Ctrl + -",mc:!0},{name:[20,3],xu:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],xu:"Ctrl + 1"}],[{K:S.E.v,f:F.fE,C:{d:"zoom",l5:!0}},{K:S.E.v,f:F.fE,C:{d:"zoom",l5:!1}},{K:S.E.v,f:F.fE,C:{d:"adapt",b:"fitscr"}},{K:S.E.v,f:F.fE,C:{d:"adapt",b:"pixel"}}])};
F.tg.prototype=new F.gb;F.tg.prototype.vP=function(E,y,c,e,p){var H=this.S$;H._();H.parent=y;H.update(E,c);
var Z=new iU(S.E.M,!0);Z.data={d:S.H.rt,T_:H,x:p.ti+2,y:p.nD+1};y.T(Z)};F.tg.prototype.enable=function(E,y,c,e){this.Ii(y,e);
if(E&&Date.now()-this.gx<300)this.hE({d:"adapt",b:"pixel"},y,E,e,c);this.gx=Date.now()};F.tg.prototype.yl=function(E,y,c,e,p){this.Pd=new eq(p.x,p.y);
this.Jq=E.Q.O;this.lk=E.Q.z.clone()};F.tg.prototype.Lv=function(E,y,c,e,p){if(this.Pd==null)return;var H=Math.exp(Math.log(this.Jq)+(p.x-this.Pd.x)/64);
H=Math.max(.02,Math.min(F.tg.CH[0],H));E.Q.O=this.Jq;E.Q.z=this.lk.clone();this.hE({d:"zoom",O:H,VU:this.Pd,_j:this._j},y,E,e,c)};
F.tg.prototype.JA=function(E,y,c,e,p){if(eq.oG(this.Pd,p)<4){var H=this.a3E(e);this.hE({d:"zoom",l5:H,VU:p,_j:this._j},y,E,e,c)}this.Pd=null};
F.tg.CH=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
F.tg.HK=function(E,y,c,e){var p=1;while(E*p*1/2>c||y*p*1/2>e)p*=1/2;if(E*p*2/3>c||y*p*2/3>e)p*=1/2;else if(E*p>c||y*p>e)p*=2/3;
return p};F.tg.a5N=function(E,y){var c=F.tg.a6l(E);if(y&&c==0)return E;if(!y&&c==F.tg.CH.length-1)return E;
return F.tg.CH[y?c-1:c+1]};F.tg.a6l=function(E){var y=0;while(F.tg.CH[y]>E)y++;return y};F.tg.di=function(E,y,c,e){var p=E.cX;
if(e==0||e==null){e=F.tg.a5N(E.O,c);if(e==E.O)return}var H=E.GV(y.x,y.y);H.x=Math.max(0,Math.min(p.m,H.x));
H.y=Math.max(0,Math.min(p.e,H.y));if(!1){}else{var Z=E.GM(),X=E.O/e;Z.translate(-H.x,-H.y);Z.scale(X,X);
Z.translate(H.x,H.y);E.axn(Z)}};F.tg.prototype.hE=function(E,y,c,e,p){if(E.d=="pzoom"){if(typeof E.b=="string")return;
E={d:"zoom",O:E.b/100}}var H=0,Z=!1,X=null;if(E.d=="adapt"){var b=0;if(E.b=="pixel")b=1;if(E.b=="fitscr"){var b=0,k=c.Q.tP.m,D=c.Q.tP.e,j=new ir(0,0,c.m,c.e),g=d.A.S6(j).j,R=new jr;
R.rotate(c.Q.fb);d.A.u(g,R,g);var t=d.A.n7(g),w=p.B3?d._5.rs+4:8;b=Math.min((k-w*2)/t.m,(D-w*2)/t.e);
c.Q.z.tW(0,0)}X=new eq(Math.round(c.Q.tP.m/2),Math.round(c.Q.tP.e/2));H=b;F.tg.di(c.Q,X,Z,H);c.hb=!0}if(E.d.startsWith("multi")){function B(u){var Q=u[0].x-u[1].x,l=u[0].y-u[1].y;
return Math.sqrt(Q*Q+l*l)}function $(u){return new eq((u[0].x+u[1].x)/2,(u[0].y+u[1].y)/2)}function o(u){var Q=u[0].x-u[1].x,l=u[0].y-u[1].y;
return Math.atan2(l,Q)}var T=E.$r,i=$(T);if(E.d=="multidown"){this.Da=[T,c.Q.O,c.Q.GV(i.x,i.y),c.Q.fb]}else{var r=F.tg.CH,n=.15;
H=this.Da[1]*B(T)/B(this.Da[0]);H=Math.max(r[r.length-1],Math.min(r[0],H));if(H!=c.Q.O)F.tg.di(c.Q,i,Z,H);
var I=this.Da[2],M=c.Q.qW(I.x,I.y),J=c.Q.z;J.x=Math.round(J.x+i.x-M.x);J.y=Math.round(J.y+i.y-M.y);var P=this.Da[3]+(o(T)-o(this.Da[0]));
P=P%(2*Math.PI);while(P<0)P+=2*Math.PI;if(P<n||P>2*Math.PI-n)P=0;c.Q.fb=P;c.hb=!0}}if(E.d=="scroll"){X=E.VU;
var r=F.tg.CH,x=E.Ik.y,L=1+Math.abs(x)*8e-4*(E.ata?10:1);if(x>0)L=1/L;H=c.Q.O*L;F.tg.di(c.Q,X,Z,Math.min(r[0],Math.max(r[r.length-1],H)));
c.hb=!0}if(E.d=="zoom"){var u=E._j?y.l9:[c];for(var N=0;N<u.length;N++){var C=u[N],h=C.Q;X=E.VU?E.VU:new eq(Math.round(h.tP.m/2),Math.round(h.tP.e/2));
if(E.O!=null)H=E.O;else Z=E.l5;F.tg.di(h,X,Z,H);C.hb=!0}}if(E.d=="mskView"){var A=c.B[c.g[0]];if(A.p6<=0){A.p6=1;
c.ac=!0}var W=A.p6==3?A.kP(c).F:A.Nb();if(E.b==0){c.Q.V=[1,1,1];W.bY=!1}if(E.b==1){c.Q.V=[1,1,1];W.bY=!0}if(E.b==2){c.Q.V=[0,0,0];
W.bY=!0}for(var N=0;N<c.cB.length;N++)c.cB[N].bY=!1;c.dL=[];c.Ea=!0}};F.tg.prototype.Gu=function(E,y,c,e){if(this.Ub!=e.S(ct.Q3)){this.Ub=e.S(ct.Q3);
var p={d:S.H.qq,f:this.id,Ub:this.Ub},H=new iU(S.E.M,!0);H.data=p;y.T(H);this.Ii(y,e)}};F.tg.prototype.Ii=function(E,y){var c=new iU(S.E.M,!0),e=this.a3E(y);
c.data={d:S.H.qR,gs:e?"zoom-in":"zoom-out"};E.T(c)};F.tg.prototype.vm=function(E,y,c,e){this.l5=E.l5;
this._j=E._j;this.Ii(y,e)};F.tg.prototype.a3E=function(E){var y=this.l5;if(E.S(ct.TV)&&E.S(ct.Nc))y=!0;
if(this.Ub)y=!y;return y};F.tg.ak3=function(E,y){if(E.S(ct.yH)||E.S(ct.ayi)){y.f=F.fE;y.data={d:"zoom",l5:!0}}if(E.S(ct.Kj)){y.f=F.fE;
y.data={d:"zoom",l5:!1}}if(E.S(ct.lO)){y.f=F.fE;y.data={d:"adapt",b:"fitscr"}}if(E.S(ct.N4)){y.f=F.fE;
y.data={d:"adapt",b:"pixel"}}};F.ZN=function(E,y,c){F.gb.call(this,E,y,c);this.WP=null;this.P0=null;
this.bE=null;this.akI=0};F.ZN.prototype=new F.gb;F.ZN.OU=function(E,y){var c={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},e=E==null?{classID:"null",null:c,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:c,Usng:{t:"type",v:{classID:E}},__name:"Stroke"};
if(y)e.Prs={t:"bool",v:!0};return{tT:E==null?"fill":"stroke",hG:e}};F.ZN.prototype.enable=function(E,y,c,e,p){this.P0=c;
var H=new iU(S.E.M,!0);H.data={d:S.H.qR,gs:"default"};y.T(H)};F.ZN.prototype.vP=function(E,y,c,e,p){var H=E.sA(),Z=H[0],X=H[1];
if(X.length==0)return;var b=Z[X[0]],k=b.add.vmsk,D=E.Q.GV(p.x,p.y),j=4*F.k1()/E.Q.O,g=new ir(D.x-j,D.y-j,j*2,j*2),R=d.o.Dw(k.X,g)[0];
if(R.length!=0){k.bH=R;E.Ea=!0}var t=d.o.U1(k.X,D).h2;if(t!=-1){k.g=[t];E.Ea=!0}var w=new iU(S.E.M,!0);
w.data={d:S.H.qq,f:this.id,iJ:p,XH:E,vE:c};y.T(w)};F.ZN.prototype.aiX=function(E,y){var c=new iU(S.E.M,!0);
c.data={d:S.H.z2,Wp:iL.sr};if(!y.sL)E.T(c);c.data={d:S.H.z2,Wp:iL.t3};if(!y.km.gA)E.T(c)};F.ZN.prototype.Hl=function(E,y,c,e,p){if(c.sJ!=this.id&&p==null)return;
if(E.g.length==0)return;var H=E.B[E.g[0]],Z=H.add.vmsk,X=H.add.vstk,b=H.add.vstl;if(aw==0){var k=cb.uX(H.add);
this.WP=E;this.bE=y;if(H.iU()&&Z!=null&&(JSON.stringify(X)!=JSON.stringify(c.MY)||JSON.stringify(k)!=JSON.stringify(c.Jo))){this.akI=Date.now();
var D=new iU(S.E.M,!0);D.data={d:S.H.z2,Wp:iL.d9,b:k};y.T(D);D.data={d:S.H.z2,Wp:iL.St,b:X};y.T(D)}}else if(b){var j=JSON.stringify(b);
if(j!=JSON.stringify(c.WF)){var D=new iU(S.E.M,!0);D.data={d:S.H.z2,Wp:iL.GP,b:JSON.parse(j)};y.T(D)}}};
F.ZN.prototype.mh=function(E,y){if(this.WP==null)return;if(y==iL.Dg||y==iL.d9||y==iL.St){if(Date.now()-this.akI<50)return;
var c=y==iL.d9,e=this.WP,p=c?E.Jo:E.MY,H=[],Z=e.g;for(var N=0;N<Z.length;N++){var X=Z[N],b=e.B[X];if(!b.iU()||b.add.vmsk==null)continue;
H.push(X)}var k=new iU(S.E.v,!0);k.f=F.sh;k.data={d:jN.Od,CT:H,Xr:c,b:p};if(H.length!=0)this.bE.T(k)}};
F.ZN.prototype.aE0=function(E){if(typeof E=="number"){var y=new iU(S.E.on,!0);y.data=F.Hv.Uo(0);y.data.hG.Usng.v.Type.v.Clr.v=d.L.hp({Z:E>>>16&255,D:E>>>8&255,J:E>>>0&255});
this.bE.T(y)}};F.ZN.prototype.hE=function(E,y,c,e,p){this.bE=y;if(E.d=="newfill"){if(E.KO==0){var H=new iU(S.E.M,!0);
H.data={d:S.H.Q5,ym:"colorpicker",KR:p.x4,yr:this.aE0.bind(this)};y.T(H)}}else if(E.d=="smplp"){if(c==null)return;
var Z=c.sA(),X=Z[0],b=Z[1];if(b.length==0){alert("No paths selected");return}var D=X[b[0]];if(D.add.vmsk.g.length<=0){alert("No paths selected");
return}if(this.gL==null){this.gL=D.add.vmsk.clone();this.oS=JSON.stringify(D.add.vogk);this.bh=D;this.WP=c}var H=new iU(S.E.M,!0);
H.data={d:S.H.Q5,ym:"simplifypath",v5:100,UT:this.avF.bind(this)};y.T(H)}else if(E.d=="pathedit"){var j=E.s6,g="",R=c.gA.slice(0),t=c.zG.slice(0),w=c.gA.slice(0),B=c.zG.slice(0);
if(j=="rnm"){var $=-1-E.h2,o=R[$],T=cc.u7(E.name,o.add);if($!=0)w[$]=T;else{B=[w.length];w.push(T);w[0]=cc.u7("Work Path")}g="Rename"}else if(j=="new"){var T=cc.u7("Path "+R.length);
if(E.acI){var Z=c.sA(),X=Z[0],b=Z[1],i=X[b[0]];T.add.vmsk=i.add.vmsk.clone();T.add.vogk=JSON.parse(JSON.stringify(i.add.vogk));
if(i.h2==-1){var r=w[B[0]]=cc.u7("Path "+R.length);r.name=i.name;r.h2=i.h2}}w.push(T);B=[w.length-1];
g="New"}else if(j=="del"){if(B.length==0)return;B.sort(function(C,U){return C-U});if(B[0]==0){w[0]=cc.u7(R[0].name);
B=B.slice(1)}var I=0;while(B.length!=0){w.splice(B[0]-I,1);B=B.slice(1);I++}g="Delete"}else if(j=="fromsel"){var D=w[0]=cc.u7("Work Path");
B=[0];if(c.i==null)return;var M=c.i.channel.slice(0);for(var N=0;N<M.length;N++)M[N]=M[N]>128?2:1;var J=c.i.rect.clone();
J.r4(1,1);var P=d.R(J.P());d.kh(M,c.i.rect,P,J);var n=ap.tl(P,J.m,J.e,Math.round(J.P()*5e-4)),X=ap.sA(n),x=new jr(1,0,0,1,-1+c.i.rect.x,-1+c.i.rect.y);
for(var N=0;N<X.length;N++)d.A.u(X[N].path.j,x,X[N].path.j);for(var N=0;N<X.length;N++){var L=X[N];if(L.color==1&&L.parent==-1)continue;
var u=d.A.V2(X[N].path,!1);u[2].O0=0;D.add.vmsk.X=D.add.vmsk.X.concat(u.slice(2))}D.add.vogk=jN.m5(D.add.vmsk.X);
g="Selection to"}var C=new fN(g+" Path",this);C.data={BY:R,rw:t,a4B:w,px:B};if(j=="fromsel"){C.data.Mb=c.i;
C.data.Yi=null}c.QY(C);this.Rn(C.data,c)}else{var h=E.xs,Z=c.sA(E.d=="append"||E.d=="fromAction"),X=Z[0],b=Z[1],D=X[b[0]],A=D.add.vmsk,W=D.add.vogk,Q=A.clone(),l=A.clone(),O=JSON.stringify(W);
if(E.d=="fromAction"){var z=E.Xu,a=z.tT,m=z.hG,q=m.T;if(a=="set"){if(q){W.push(d.gM.cp(q));l.X.push({type:0,O0:1,length:0});
d.gM.ZW(W,l);h=[12,76,0]}else throw m}else if(a=="draw"){W=[d.gM.cp(m.Shp)];l.X.push({type:0,O0:1,length:0});
d.gM.ZW(W,l);F.ZN.a8p(l.X,m.AntA.v,p.x4,y);return}else throw a}else if(E.d=="remove"){if(E.Ru&&l.bH.length!=0){l.X=d.o.a1X(l.X,l.bH,W,E.a3t);
var K=d.o.a0(l.X);for(var N=0;N<l.g.length;N++)if(l.g[N]>=K){l.g.splice(N,1);N--}l.bH=[];h="Delete Anchors"}else{if(l.g.length==0)return;
var I=0;for(var N=0;N<l.g.length;N++){W.splice(l.g[N]+I,1);I--}l.X=d.o.akD(l.X,l.g);l.g=[];l.bH=[];if(h==null)h="Delete Paths"}}if(E.d=="append"){F.ZN.hu(E.a06,l,W)}this.GJ(c,D.h2,l,W);
this.Gs(c,h,D.h2,Q,l.clone(),null,O,JSON.stringify(W))}};F.ZN.a8p=function(E,y,c,e){var p=new jN.pU;
p.X=p.X.concat(E.slice(2));var H=p.Nb();if(!y)d.round(H.channel);var Z=d.R(H.rect.P()*4);d.KT(Z,(c&255)<<16|(c>>8&255)<<8|(c>>16&255)<<0);
d.Og(H.channel,Z,3);var X=new iU(S.E.v,!0);X.f=F.WN;X.data={d:"draw",Ti:{buffer:Z,rect:H.rect.clone()},xs:this.name};
e.T(X)};F.ZN.Gk=function(E,y){var c=d.o.ayy(E.X,E.g),e=[];for(var N=0;N<E.g.length;N++)e.push(JSON.parse(JSON.stringify(y[E.g[N]])));
return[c,e]};F.ZN.hu=function(E,y,c){var e=d.o.a0(y.X),p=d.o.a0(E[0]);y.X=y.X.concat(E[0].slice(2));
y.g=[];for(var N=0;N<p;N++)y.g.push(e+N);for(var N=0;N<p;N++)c.push(JSON.parse(JSON.stringify(E[1][N])))};
F.ZN.prototype.OX=function(E,y){if(y==null)return!1;var c=y.sA(),e=c[0],p=c[1];if(p.length==0)return!1;
var H=e[p[0]],Z=H.add.vmsk;if(Z&&Z.g.length+Z.bH.length!=0)return[ct.OA,ct.hy].indexOf(E)!=-1};F.ZN.prototype.Gu=function(E,y,c,e){if(E==null)return;
var p=E.sA(),H=p[0],Z=p[1];if(Z.length==0)return;var X=H[Z[0]],b=X.add.vmsk;if(e.S(ct.SB)||e.S(ct.qy)||this.id==F.AD&&e.S(ct.Yn)&&b.bH.length==1){b.bH=[];
E.Ea=!0}if(b.g.length!=0){var k=e.K$(E?E.Q.fb:0);if(k.x!=0||k.y!=0){var D=b.clone(),j=b.clone(),g=new jr(1,0,0,1,k.x,k.y),R=X.add.vogk,t=JSON.stringify(R);
if(e.S(ct.Q3)){var w=F.ZN.Gk(j,R);F.ZN.hu(w,j,R)}d.o.dg(j.X,g,j.g);d.gM.u(R,d.r.$m(g),j.g);this.GJ(E,X.h2,j,R);
this.Gs(E,"Move Paths",X.h2,D,j.clone(),!0,t,JSON.stringify(R))}if(e.S(ct.OA)||e.S(ct.hy))this.hE({d:"remove",Ru:this.id==F.AD},y,E,e,c)}};
F.ZN.prototype.Gs=function(E,y,c,e,p,H,Z,X){var b=new fN(y,this);b.data={Z3:c,N3:e,jg:p,a1K:H,asX:Z,ar:X};
E.QY(b)};F.ZN.prototype.Rn=function(E,y){if(E.Z3!=null)this.GJ(y,E.Z3,E.jg.clone(),JSON.parse(E.ar));
else{y.gA=E.a4B.slice(0);y.zG=E.px.slice(0);y.Ea=y.ac=!0}if(E.Mb||E.Yi){y.i=E.Yi;y.zr=!0}};F.ZN.prototype.GW=function(E,y){if(E.Z3!=null)this.GJ(y,E.Z3,E.N3.clone(),JSON.parse(E.asX));
else{y.gA=E.BY.slice(0);y.zG=E.rw.slice(0);y.Ea=y.ac=!0}if(E.Mb||E.Yi){y.i=E.Mb;y.zr=!0}};F.ZN.prototype.GJ=function(E,y,c,e){var p=y<0?E.gA[-1-y]:y<1e6?E.B[y]:E.B[y-1e6].add.TySh,H=p.add.vmsk;
H.channel=null;H.tq=!0;if(H.W_){H.W_.channel=null;H.W_.tq=!0}p.add.vmsk=c;p.add.vogk=e;if(1e6<=y){gV.Pv(p);
var Z=E.B[y-1e6],X=p,b=this.P0;kz.K1(Z,b.UG);E.W()}else if(0<=y){c.tq=!0;p.fP(E);E.W()}E.Ea=E.ac=!0};
F.Hv=function(E,y,c,e){F.ZN.call(this,E,y,c);this.Qh={shape:dD.TL(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{V4:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ar8=e;this.lf=null;this.Cn=null;this.RW=null;this.cF=new dV};F.Hv.prototype=new F.ZN;F.Hv.prototype.Zw=function(E){return E.fu&&this.id!=F.LG};
F.Hv.prototype.enable=function(E,y,c,e,p){this.P0=c;var H=new iU(S.E.M,!0);H.data={d:S.H.qR,gs:"crosshair"};
y.T(H)};F.Hv.prototype.Gu=function(E,y,c,e){F.ZN.prototype.Gu.call(this,E,y,c,e);this.cF.Gu(e);this.w9(y,c)};
F.Hv.prototype.w9=function(E,y){var c=new iU(S.E.M,!0);c.data={d:S.H.qq,f:this.id,QR:this.Tl(y)};E.T(c)};
F.Hv.prototype.Tl=function(E){var y=this.cF.Va(0),c=this.cF.kL(0),e=F.XY.fY(this.Qh.binop,y,c);if(E.i8==1&&e==0)e=1;
return e};F.Hv.prototype.gW=function(E,y,c,e){};F.Hv.prototype.yl=function(E,y,c,e,p){var H=c.i8;if(H!=2)this.aiX(y,c);
if(H==2&&!E.iR())return;var Z=E.Q.GV(p.x,p.y);Z=F.pB.pQ(E,Z,c);this.RW=[Z.x,Z.y];this.lf=Z;this.Cn=new eq(0,0);
this.cF.yl(e)};F.Hv.prototype.ayE=function(E,y,c,e){var p=[this.lf.clone(),y.clone()];c=this.cF.Va(1)||c.S(ct.zx)||this.cF.kL(1)?c:null;
if(this.ar8)p=F.Hv.yR(p[0],p[1],c,!0,this.Qh.cstr);if(E)E.Q.ZC=new ir(p[0].x,p[0].y,p[1].x-p[0].x,p[1].y-p[0].y);
return this.gW(p[0],p[1],this.cF.Va(1)&&c.S(ct.zx),this.RW,E.Q,e)};F.Hv.prototype.axw=function(E,y,c){var e=E.Q.GV(y.x,y.y);
if(this.id==F.LG)return e;var p=this.Qh.cstr;if(p.V4==2){var H=new ir(e.x-p.x,e.y-p.y,p.x,p.y),Z=F.pB.Ih(E,H,c);
e.x+=Z[0];e.y+=Z[1];F.pB.lx(E,H,Z)}else e=F.pB.pQ(E,e,c);return e};F.Hv.prototype.Lv=function(E,y,c,e,p){if(this.lf==null)return;
var H=this.RW,Z=H.length,X=p?this.axw(E,p,c):new eq(H[Z-2],H[Z-1]);if(e.S(ct.TV))this.lf=X.DZ(this.Cn);
else this.Cn=X.DZ(this.lf);H.push(X.x,X.y);if(this.Qh.shape==null)this.Qh.shape=c.Gp[0];var b=this.ayE(E,X,e,!0)[0],k=d.A.Pw(b);
E.N.Aq=k;if(this.id!=F.LG&&this.id!=F.hw&&this.id!=F.qP)F.gb.M0(p,E.Q.ZC,E,c);E.Ea=!0;this.cF.Lv()};
F.Hv.prototype.an7=function(E,y,c,e){var p=E[4].clone();if(e){p.x-=y/2;p.y-=c/2}if(this.id==F.hw){y/=2;
c/=2;p.x+=y;p.y+=c;c=-c;y=0}var H=this.gW(p,new eq(p.x+y,p.y+c),!1,this.RW);this.anE(E[0],E[1],E[2],H)};
F.Hv.prototype.anE=function(E,y,c,e){var p=c.i8,H=new iU(S.E.on,!0);if(p==0)H.data=F.Hv.acP(e[1],c);
else if(p==1){var Z={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:e[1]};
H.data={tT:"set",hG:Z}}else{var Z={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:e[1]};H.data={tT:"draw",hG:Z}}y.T(H);
if(e[1].v.classID=="customShape"&&e[1].v.Nm.v.startsWith("--")){var X=E.sA(),b=X[0],D=X[1],j=b[D.pop()],g=j.add.vmsk,R=j.add.vogk;
d.gM.awu(R);var t=g.clone();t.X=e[0];this.GJ(E,j.h2,t,R)}};F.Hv.prototype.JA=function(E,y,c,e,p,H){if(this.lf==null)return;
var Z=this.axw(E,p,c),X=this.Tl(c),b=c.i8,k=this.RW,D=k.length;if(this.id==F.LG&&D<=4){}else if(D<=4){Z.x=Math.round(Z.x);
Z.y=Math.round(Z.y);var j=new iU(S.E.M);j.data={d:S.H.Q5,ym:"createshape",a4v:this.an7.bind(this),am3:this.name,ag6:[E,y,c,e,Z]};
if(!H)y.T(j)}else if(D!=2){var g=this.ayE(E,Z,e),R=g[0],t=E.sA(!0),w=t[0],B=t[1],$=B.length-1;if(b==1&&R.length>2||b==0&&X!=0&&$!=-1&&w[B[$]].h2>=0){R[2].O0=[1,2,3,0][X-1];
var o=w[B.pop()],T=o.add.vmsk,i=o.add.vogk,r=T.clone(),I=T.clone(),M=JSON.stringify(i);I.X=I.X.concat(R.slice(2));
I.g=[d.o.a0(I.X)-1];var J=d.gM.cp(g[1]);i.push(J?J:d.gM.Lt());this.GJ(E,o.h2,I,i);this.Gs(E,this.name,o.h2,r,I,null,M,JSON.stringify(i))}else if(b==0){this.anE(E,y,c,g)}else if(b==2){F.ZN.a8p(R,this.Qh.anta,c.x4,y)}}this.lf=null;
E.N.Aq=null;E.N.d2=null;E.N.Wi=[];E.Q.ZC=null;E.Ea=!0;this.cF.JA();this.w9(y,c)};F.Hv.prototype.vm=function(E,y,c,e,p){for(var c in E)this.Qh[c]=E[c]};
F.Hv.yR=function(E,y,c,e,p){var H=E.x,Z=E.y,X=y.x,b=y.y;if(p&&p.V4==2){if(e){X=Math.round(X);b=Math.round(b)}H=X-p.x;
Z=b-p.y}else{var k=0;if(p&&p.V4==1)k=p.y/p.x;else if(c&&c.S(ct.zx))k=1;if(k!=0){if(e){if(H<X)H=Math.floor(H);
else H=Math.ceil(H);if(Z<b)Z=Math.floor(Z);else Z=Math.ceil(Z)}var D=Math.abs(X-H),j=Math.abs(b-Z),g=D;
if(j/D<k)g*=j/D/k;X=X>H?H+g:H-g;b=b>Z?Z+g*k:Z-g*k}if(c&&c.S(ct.Q3)){H-=X-H;Z-=b-Z}}var E=new eq(H,Z),y=new eq(X,b);
if(e)F.Hv.aDG(E,y);return[E,y]};F.Hv.aDG=function(E,y){if(E.x>y.x){var c=E.x;E.x=y.x;y.x=c}if(E.y>y.y){var c=E.y;
E.y=y.y;y.y=c}E.x=Math.floor(E.x);E.y=Math.floor(E.y);y.x=Math.ceil(y.x);y.y=Math.ceil(y.y)};F.Hv.aeu=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
F.Hv.Uo=function(E,y){var c=F.Hv.aeu(),e=c.Usng.v.Type;if(y==null){e.v=JSON.parse(JSON.stringify(cb.Xz[E]));
e.v.classID=["solidColorLayer","gradientLayer","patternLayer"][E]}else F.DI.u9(y,e.v,E);return{tT:"make",hG:c}};
F.Hv.acP=function(E,y){var c=y.Jo,e=JSON.parse(JSON.stringify(y.MY));e.fillEnabled.v=c.uC!=0;var p=F.Hv.Uo(Math.max(0,c.uC-1),c.f3);
p.hG.Usng.v.Shp=E;p.hG.Usng.v.strokeStyle={t:"Objc",v:e};return p};F.JG=function(E){F.ZN.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][E],[F.AD,F.aAR,F.atC,F.amL,F.atO][E],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][E]);
this.KE=E;this.zB=null;this.AO=null;this.gL=null;this.oS=null;this.wp=0;this.An=null;this.zu=!1;this.jQ=!1;
this.KM=!1;this.LR=!1;this.KJ=!1;this.TU=!1;this.gx=0};F.JG.prototype=new F.ZN;F.JG.prototype.Zw=function(E){return this.gL!=null};
F.JG.prototype.Gu=function(E,y,c,e){if(!e.S(ct.Q3))this.KJ=!1;if(this.KE==1&&(e.S(ct.OA)||e.S(ct.hy))&&this.OX(ct.OA,E)){this.hE({d:"remove",Ru:!0},y,E,e,c);
return}if(this.AO)this.qv(E,y,c,e,this.AO);F.ZN.prototype.Gu.call(this,E,y,c,e)};F.JG.prototype.AW=function(E,y,c,e){var p=E.Q.GV(e.x,e.y,!0),H=F.pB.pQ(E,p,y),Z=this.KE,X=y.i8,b=this.wp;
if(X==2)X=0;var k=E.sA(X==1),D=k[0],j=k[1],g=D[j.pop()],R=g?g.add.vmsk:null;if(X==0&&b!=0&&g&&g.h2>=0)X=1;
var t=F.Wo(E,e);if(Z<2&&X==0&&(R==null||R.bH.length==0&&d.o.U1(R.X,p,!0,t).h2==-1))return["new",!0];
if(R==null)return[null];var w=R.X,B=d.o.Dw(w,new ir(p.x-t,p.y-t,t*2,t*2),R.bH,!0),$=d.o.U1(w,p,!0,t);
if(Z<3&&$.h2!=-1&&B[0].length==0)return["add"];if((B[3]!=0||$.h2!=-1)&&(c.S(ct.Q3)||Z==4))return["cnv"];
var o=B[0].length==1&&w[B[0][0]-1]&&(w[B[0][0]-1].I!=null||w[B[0][0]-1].type==0||w[B[0][0]-1].length==1);
if(o)return[Z==0||Z==3?"del":Z==2?"mva":"mov"];if(Z<2){var T=d.o.O3(w,d.o.CV(w,R.bH[0]));if(T!=-1&&eq.oG(p,w[T+1].I)<t)return["fin"];
if(R.bH.length!=1)return["new"];return["nrm"]}return[null]};F.JG.prototype.yl=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y,!0),Z=F.pB.pQ(E,H,c),X=this.KE,b=c.i8,k=this.wp;
if(b==2)b=0;var D=E.sA(b==1),j=D[0],g=D[1],R=j[g.pop()],t=R?R.add.vmsk:null;if(b==0&&k!=0&&R&&R.h2>=0)b=1;
var w=F.Wo(E,p),B=this.AW(E,c,e,p);if(B[0]==null)return;if(B[1]){var $=new iU(S.E.on,!0),o=d.gM.wD("customShape",[0,0,1,1],null,null,null,"--");
$.data=F.Hv.acP(o,c);y.T($);this.TU=!0;D=E.sA(!0);j=D[0];g=D[1];R=j[g.pop()];t=R.add.vmsk;t.X=t.X.slice(0,2)}var T=R.add.vogk,i=t.X;
this.gL=t.clone();this.oS=JSON.stringify(T);this.zB=p;this.aiX(y,c);var r=d.o.Dw(i,new ir(H.x-w,H.y-w,w*2,w*2),t.bH,!0),I=d.o.U1(i,H,!0,w);
if(B[0]=="add"){var M=d.o.O3(i,I.h2),J=i[M].length;while(J<=I.O$){I.O$-=J;M+=J+1}var P={type:4,$0:Z.clone(),I:Z.clone(),dW:Z.clone()},n=M+2+I.O$,x=M+1+(1+I.O$)%J,L=i[n-1],u=i[x];
if(!L.I.rT(L.dW)||!u.$0.rT(u.I)){var C=d.A.avs(L.I,L.dW,u.$0,u.I,I.ih);L.dW=C[0];P.$0=C[1];P.I=C[2];
P.dW=C[3];u.$0=C[4]}this.LR=!0;i.splice(n,0,P);i[M].length++;t.bH=[n];if(X==1){P.$0.x+=2;this.uQ(t)}}else if(B[0]=="cnv"){var h=-1;
if(r[0].length!=0){h=r[0][0];var A=i[h],W=A.type>=3?3:0,Q=h==i.length-1;A.type=W+1;if(!(X==4&&e.S(ct.Q3))&&!(X==0&&Q))A.$0=A.I.clone();
A.dW=A.I.clone();this.LR=!0;if(X==0&&!Q)this.KJ=!0}else if(r[1].length+r[2].length!=0){var h=r[2][0];
if(h==null){h=r[1][0];this.jQ=!0}var A=i[h],W=A.type>=3?3:0;A.type=W+2}else h=d.o.O3(i,I.h2)+I.O$+1;
if(h!=-1)t.bH=[h]}else if(B[0]=="mva"){this.KM=!0;t.bH=[r[0][0]]}else if(B[0]=="mov"){var h=r[0][0],l=i[h],O=l.I,z=Math.abs(d.A.Ch(l.$0.x,l.$0.y,O.x,O.y,l.dW.x,l.dW.y));
if(z>.01){l.$0=O.clone();l.dW=O.clone()}if(Date.now()-this.gx<300){var a=l.$0.rT(O)&&l.dW.rT(O);if(a)l.dW.offset(2,2);
else{l.$0=O.clone();l.dW=O.clone()}this.gx=0}else this.gx=Date.now();t.bH=[h];this.uQ(t)}else if(B[0]=="del"){var h=r[0][0],M=d.o.O3(i,d.o.CV(i,h)),o=i[M],m=M+o.length;
if(h!=m||o.type==0){i[M].length--;i.splice(h,1);m--;if(o.length==0){i.splice(M,1);m=-1}}if(m!=-1)t.bH=[m];
else t.bH=[]}else if(B[0]=="fin"){var M=d.o.O3(i,d.o.CV(i,t.bH[0]));i[M].type=0;t.bH=[M+1];this.An=Z;
this.zu=!0;this.LR=!0}else{var q=0;if(B[0]=="new"){t.g=[d.o.a0(i)];i.push({type:3,length:1,O0:[1,2,3,0][Math.max(0,k-1)],X7:0,cr:0,x9:0});
q=i.length;T.push(d.gM.Lt())}if(B[0]=="nrm"){var M=d.o.O3(i,d.o.CV(i,t.bH[0])),l=M+i[M].length;i[M].length++;
q=l+1;if(l==M+1&&i[M].length!=2)q=M+1}if(e.S(ct.zx)&&i[q-1]&&i[q-1].I)Z=F.bu._K(i[q-1].I,Z);var P={type:4,$0:Z.clone(),I:Z.clone(),dW:Z.clone()};
i.splice(q,0,P);t.bH=[q];this.An=Z;if(this.KE==1){P.$0.x+=2;this.uQ(t)}this.LR=!0;this.gx=Date.now()}this.GJ(E,R.h2,t,T);
E.Ea=!0};F.JG.prototype.uQ=function(E){var y=E.X,c=E.bH[0],e=d.o.O3(y,d.o.CV(y,c))+1,p=y[e-1].length;
if(p<3)return;var H=[],Z=[];for(var N=0;N<5;N++){var X=e+(c-e-2+N+5*p)%p;Z.push(X);var b=y[X].I;H.push(b.x,b.y)}var k=d.A.at6(H);
for(var N=1;N<4;N++){var D=N*4,j=y[Z[N]],b=j.I,g=j.$0.rT(b)&&j.dW.rT(b);if(!g){j.$0.tW(k[D],k[D+1]);
j.dW.tW(k[D+2],k[D+3])}else{j.$0=b.clone();j.dW=b.clone()}}};F.JG.prototype.qv=function(E,y,c,e,p){var H=this.AW(E,c,e,p)[0],Z=null;
if(H==null)Z="default";else Z=F.JG.sH(H);var X=new iU(S.E.M,!0);X.data={d:S.H.qR,gs:Z};y.T(X)};F.JG.prototype.Lv=function(E,y,c,e,p){this.AO=p;
if(this.gL==null){this.qv(E,y,c,e,p);return}var H=this.zB;if(H&&eq.oG(H,p)<F.Wo({Q:{O:1}},p))return;
this.zB=null;var Z=E.Q.GV(p.x,p.y),X=F.pB.pQ(E,Z,c),b=E.sA(c.i8==1),k=b[0],D=b[1],j=k[D.pop()],g=j.add.vmsk,R=g.X,t=R[g.bH[0]];
if(this.KE==1){var w=t.I.rT(t.$0)&&t.I.rT(t.dW);t.I=Z.clone();t.$0=Z.clone();t.dW=Z.clone();if(!w)t.$0.x+=2;
this.uQ(g)}else if(e.S(ct.TV)){if(e.S(ct.zx))X=F.bu._K(this.An,X);var B=t.I.DZ(t.dW),$=t.$0.DZ(t.I);
t.dW=X;t.I=X.add(B);t.$0=t.I.add($)}else if(this.KM){var o=t.$0.DZ(t.I),T=t.dW.DZ(t.I);t.I=X;t.$0=t.I.add(o);
t.dW=t.I.add(T)}else{if(e.S(ct.zx))X=F.bu._K(t.I,X);if(this.jQ){var i=t.$0;t.$0=t.dW;t.dW=i}if(this.zu){var r=eq.oG(t.I,X),I=r==0?0:eq.oG(t.I,t.dW)/r;
t.dW.x=t.I.x+I*(X.x-t.I.x);t.dW.y=t.I.y+I*(X.y-t.I.y)}else t.dW=X;var M=t.type>=3?3:0;if(this.LR&&!this.KJ)t.type=M+e.S(ct.Q3)?2:1;
if(t.type-M==1){t.$0=t.I.add(t.I.DZ(X))}this.An=X;if(this.jQ){var i=t.$0;t.$0=t.dW;t.dW=i}}this.GJ(E,j.h2,g,j.add.vogk);
E.Ea=!0};F.JG.prototype.JA=function(E,y,c,e,p){if(this.gL==null)return;var H=E.sA(c.i8==1),Z=H[0],X=H[1],b=Z[X.pop()],k=b.add.vmsk,D=b.add.vogk;
if(this.zu){k.bH=[];this.GJ(E,b.h2,k,b.add.vogk)}var j=this.gL.X.length,g=k.X.length;if(!this.TU)this.Gs(E,this.zu?"Close Path":(j==g?"Move":j<g?"Add":"Delete")+" Anchor Point",b.h2,this.gL,k.clone(),null,this.oS,JSON.stringify(D));
this.TU=!1;this.zu=!1;this.jQ=!1;this.KM=!1;this.LR=!1;this.gL=null};F.JG.prototype.vm=function(E,y,c,e,p){this.wp=E.binop};
F.JG.aq5={};F.JG.sH=function(E){var y=F.JG.aq5[E],c=64,X=2,b=10,k=25,D=5,j=35;if(y)return y;var e=new ir(0,0,c,c),p=-.38,H=d.FB(c,c);
H.clearRect(0,0,c,c);var Z=F.k1();H.save();H.lineWidth=X;H.translate(4-X/2,4-X/2);H.rotate(p);if(Z<1.5){var g=.66;
b*=g;k*=g;D*=g;j*=g}H.lineJoin="miter";H.beginPath();if(E=="cnv"){H.moveTo(-b,k);H.lineTo(0,0);H.lineTo(b,k);
H.stroke()}else{H.moveTo(0,0);H.lineTo(b,k);H.lineTo(D,j);H.lineTo(-D,j);H.lineTo(-b,k);H.lineTo(0,0);
H.moveTo(0,0);H.lineTo(0,k);H.fillStyle="white";H.fill();H.stroke();H.fillStyle="black";H.fillRect(-D-1,j,2*D+2,6);
H.beginPath();H.arc(0,k-2,2.5,0,2*Math.PI,!1);H.fill();H.rotate(-p);H.translate(24,7);H.beginPath();
if(E=="add"||E=="del"||E=="new"){H.moveTo(-5,0);H.lineTo(5,0);if(E=="add"){H.moveTo(0,-5);H.lineTo(0,5)}if(E=="new"){H.moveTo(-2.5,-4.5);
H.lineTo(2.5,4.5);H.moveTo(2.5,-4.5);H.lineTo(-2.5,4.5)}}else if(E=="fin")H.arc(0,0,5,0,2*Math.PI,!1);
else if(E=="mov"||E=="mva"){for(var N=0;N<4;N++){H.moveTo(0,0);H.lineTo(-7,0);var R=1+X;H.moveTo(-7+R,-R);
H.lineTo(-7,0);H.lineTo(-7+R,R);H.rotate(Math.PI/2)}}H.stroke()}H.restore();var t=new Uint8Array(H.getImageData(0,0,c,c).data.buffer),w=d.R(c*c);
d.LI(t,w,3);var B=d.R(c*c),$=[3,5,3,4,8,4,3,5,3];$=d.bg.MB($);d.bg.RP(w,B,c,c,$);for(var N=0;N<B.length;
N++)B[N]=Math.min(255,B[N]*2);d.bg.RP(B,w,c,c,$);for(var N=0;N<w.length;N++)w[N]=Math.min(255,w[N]*2);
var o=t.slice(0);t.fill(255);d.Og(w,t,3);d.l.Io("norm",o,e,t,e,e,1);F.JG.aq5[E]=y={Rh:t,k4:e,gN:new eq(4,4)};
return y};F.pv=function(){F.Hv.call(this,[10,30],F.LG,"tools/fpen",!1)};F.pv.prototype=new F.Hv;F.pv.prototype.gW=function(E,y,c,e,p,H){var Z=e.length-1,X=Math.sqrt((e[Z-1]-e[0])*(e[Z-1]-e[0])+(e[Z]-e[1])*(e[Z]-e[1]))<6/p.O;
return[d.o.NK(e,X,H),d.gM.wD("customShape",[0,0,1,1],null,null,null,"--")]};F.$Y=function(){F.ZN.call(this,[10,27],F.Ar,"tools/pselect");
this.IX=null;this.Di=!1;this.bh=null;this.gL=null;this.UD=null;this.oS=null;this.DK=null;this._X=null;
this.oa=null;this.IV=null};F.$Y.prototype=new F.ZN;F.$Y.prototype.Zw=function(E){return E.fu};F.$Y.prototype.yl=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y),Z=E.sA(),X=Z[0],b=Z[1],k,D;
for(var N=0;N<b.length;N++){var j=X[b[N]],g=j.add.vmsk,R=d.o.U1(g.X,H).h2;if(R!=-1){this.bh=k=j;D=R}for(var t=0;
t<g.V8.length;t++){var w=d.o.aep(g.X,g.V8[t]);if(w==null)continue;var B=eq.oG(w,H);if(B<4*F.k1()/E.Q.O){var $=E.B[j.h2-1e6].add.TySh,o=$.Ax.Curve,T=$.u,i=o.Reversed;
o.Reversed=!1;var o=cU.o5($.Ax.Curve);o.Reversed=i;d.A.u(o[0],T,o[0]);this.oa=[o,t,T.U*T.sN-T.J*T.E7];
this.bh=k=j;D=0}}if(this.oa)break}if(k!=null){var g=k.add.vmsk;g.bH=[];var r=g.g.indexOf(D);if(e.S(ct.zx)){if(r==-1){g.g.push(D);
this.Di=!0}else g.g.splice(r,1)}else{if(r==-1)g.g=[D];this.Di=!0}this._X=d.o.L$(g.X,g.g)}this.IX=H;this.IV=new cs(H);
E.ac=!0;E.Ea=!0};F.$Y.prototype.Lv=function(E,y,c,e,p){if(this.IX==null)return;var H=E.Q.GV(p.x,p.y);
if(this.Di){H=this.IV.xk(H,e);var Z=this.bh;if(this.gL==null){this.gL=this.UD=Z.add.vmsk.clone();this.oS=this.DK=JSON.stringify(Z.add.vogk);
if(e.S(ct.Q3)){var X=this.gL.clone(),b=JSON.parse(this.oS),k=F.ZN.Gk(X,b);F.ZN.hu(k,X,b);this.UD=X;this.DK=JSON.stringify(b)}}var X=this.UD.clone(),b=JSON.parse(this.DK);
if(this.oa){var D=this.oa,j=D[0][0],g=d.A.Mr(j,H.x,H.y);X.V8[D[1]]=D[0][1][g];var R=j[g*2],t=j[g*2+1],w=(j[g*2+2]-R)*(H.y-t)-(j[g*2+3]-t)*(H.x-R);
if(D[2]<0)w=-w;X.WJ=w>0}else{var B=this._X.clone(),$=B.x,o=B.y;B.offset(H.x-this.IX.x,H.y-this.IX.y);
B.x=Math.round(B.x);B.y=Math.round(B.y);var T=F.pB.Ih(E,B,c),i=new jr(1,0,0,1,B.x-$+T[0],B.y-o+T[1]);
d.o.dg(X.X,i,X.g);d.gM.u(b,d.r.$m(i),X.g);F.pB.lx(E,B,T)}this.GJ(E,Z.h2,X,b)}else{var r=this.IX;E.N.Aq=d.A.S6(new ir(r.x,r.y,H.x-r.x,H.y-r.y));
E.Ea=!0}};F.$Y.prototype.JA=function(E,y,c,e,p){if(this.IX==null)return;var H=E.Q.GV(p.x,p.y),Z=this.bh,X=Z?Z.add.vmsk:null;
if(this.Di){var b=JSON.stringify(Z.add.vogk);if(!this.IX.rT(H))this.Gs(E,"Move Paths",Z.h2,this.gL,X,null,this.oS,b);
if(E!=null&&E.N.d2){E.N.d2=null;E.Ea=!0}}else{if(X){var k=this.IX,D=new ir(k.x,k.y,H.x-k.x,H.y-k.y),j=d.o.aqR(X.X,D);
if(e.S(ct.zx)){for(var N=0;N<j.length;N++)if(X.g.indexOf(j[N])==-1)X.g.push(j[N])}else X.g=j}E.N.Aq=null;
E.Ea=!0}this.IX=null;this.gL=null;this.oa=null;this.Di=!1;this.IV=null};F.$Y.prototype.avF=function(E){var y=this.bh,c=this.WP,e=y.add.vmsk,p=y.add.vogk,H=p.length;
if(E=="confirm"){if(e!=this.gL)this.Gs(c,[12,94,2],y.h2,this.gL,e,null,this.oS,JSON.stringify(p));this.At();
return}if(E=="cancel"){this.GJ(this.WP,this.bh.h2,this.gL.clone(),JSON.parse(this.oS));this.At()}else{var e=this.gL.clone(),p=JSON.parse(this.oS);
e.X=d.o.aqI(e.X,e.g,E);this.GJ(this.WP,this.bh.h2,e,p)}};F.$Y.prototype.At=function(){this.bh=null;this.gL=null;
this.IX=null;this.S4=this.af=-1;this.IV=null};F.$Y.prototype.Hl=function(E,y,c,e){F.ZN.prototype.Hl.call(this,E,y,c,e);
if(c.sJ!=this.id)return;if(E.g.length==0)return;var p=E.sA(),H=p[0],Z=p[1];if(Z.length==0)return;var X=H[Z[0]],b=X.add.vmsk,k=X.add.vstk,D=X.add.vogk,j=new iU(S.E.M,!0);
j.data={d:S.H.qq,f:this.id,Yy:"main",q9:b?b:null,gM:D};y.T(j)};F.$Y.prototype.vm=function(E,y,c,e,p){var H=E.Gm;
if(H.q9){var Z=c.sA(),X=Z[0],b=Z[1];if(b.length==0)return;var k=X[b[0]],D=k.add.vmsk.clone(),j=JSON.stringify(k.add.vogk),g=H.q9;
this.GJ(c,k.h2,g,H.gM);var R=[18,5];if(D.X.length==g.X.length)R=D.g[0]==g.g[0]?"Fill Rule":"Path Order";
this.Gs(c,R,k.h2,D,g,null,j,JSON.stringify(H.gM))}};F.va=function(){F.ZN.call(this,[10,28],F.Ht,"tools/dselect");
this.S4=-1;this.af=-1;this.Py=null;this.IX=null;this.bh=null;this.gL=null;this.oS=null;this.WP=null;
this.KU=0;this.pS={psnap:!1};this.IV=null};F.va.prototype=new F.ZN;F.va.prototype.Zw=function(E){return E.fu};
F.va.prototype.vm=function(E){this.pS=E};F.va.prototype.hE=function(E,y,c,e,p){if(E.d=="crnr"){if(c==null)return;
var H=c.sA(),Z=H[0],X=H[1];if(X.length==0){alert("No paths selected");return}var b=Z[X[0]],k=b.add.vmsk;
if(k.bH.length==0){alert("No corners selected");return}for(var N=0;N<k.bH.length;N++){var D=k.X[k.bH[N]];
if(!D.I.rT(D.dW)||!D.I.rT(D.$0)){alert("Only sharp corners can be rounded");return}}if(this.gL==null){this.gL=b.add.vmsk.clone();
this.oS=JSON.stringify(b.add.vogk);this.bh=b;this.WP=c}var j=new iU(S.E.M,!0);j.data={d:S.H.Q5,ym:"cornerradius",v5:5,UT:this.aBe.bind(this)};
y.T(j)}else F.ZN.prototype.hE.call(this,E,y,c,e,p)};F.va.prototype.aBe=function(E){if(E=="confirm"){var y=this.WP,c=this.bh,e=c.add.vmsk,p=c.add.vogk;
this.Gs(y,[12,94,0],c.h2,this.gL,e,null,this.oS,JSON.stringify(p));this.At();return}var e=this.gL.clone(),p=JSON.parse(this.oS),H=e.bH;
if(E=="cancel"){}else{var Z=[];for(var N=0;N<H.length;N++){var X=H[N],b=d.o.CV(e.X,X,!0),j=0;if(Z.indexOf(b)!=-1)continue;
Z.push(b);var k=d.o.O3(e.X,b,!0),D=e.X[k].length,g=[];for(var R=0;R<D;R++){var t=e.bH.indexOf(k+R+1)==-1?0:E;
g.push(t);if(t!=0)j++}d.o.eq(e.X,k,g);for(var R=0;R<H.length;R++)if(H[R]>k+D)H[R]+=j}this.lL(e,p);e.bH=[]}this.GJ(this.WP,this.bh.h2,e,p);
if(E=="cancel")this.At()};F.va.prototype.disable=function(E,y,c,e){this.Pk(E)};F.va.prototype.yl=function(E,y,c,e,p){this.Pk(E);
var H=E.Q.GV(p.x,p.y),j,g,R;this.Py=H.clone();var Z=E.sA(),X=Z[0],b=Z[1];if(b.length==0)return;var k=F.Wo(E,p),D=new ir(H.x-k,H.y-k,k*2,k*2);
for(var t=0;t<b.length;t++){j=this.bh=X[b[t]];g=j.add.vmsk;R=d.o.Dw(g.X,D);if(R[0].length+R[1].length+R[2].length!=0)break}var w=[!1,!1,!1];
for(var N=0;N<3;N++){for(var B=0;B<R[N].length;B++){var $=R[N][B],o=g.X[$];if(g.bH.indexOf($)!=-1||N==1&&g.bH.indexOf($-1)!=-1&&!o.I.rT(o.$0)||N==2&&g.bH.indexOf($+1)!=-1&&!o.I.rT(o.dW)){R[N]=[$];
w[N]=!0;break}}}if(R[0].length!=0&&(w[0]||!w[1]&&!w[2])){var T=R[0][0],i=g.bH.indexOf(T);if(e.S(ct.zx)){if(i==-1)g.bH.push(T);
else{g.bH.splice(i,1);E.Ea=!0;return}}else if(i==-1)g.bH=[T];this.S4=T;this.af=0}else if(R[1].length!=0&&w[1]){this.S4=R[1][0];
this.af=1}else if(R[2].length!=0&&w[2]){this.S4=R[2][0];this.af=2}else{var r=d.o.U1(g.X,H,!0,k);if(r.h2==-1)this.IX=H;
else{g.g=[r.h2];g.bH=[]}}if(this.gL==null){this.gL=j.add.vmsk.clone();this.oS=JSON.stringify(j.add.vogk)}this.IV=new cs(H);
E.Ea=!0};F.va.prototype.Lv=function(E,y,c,e,p){if(E==null)return;var H=E.Q.GV(p.x,p.y),Z=this.bh;if(this.S4!=-1){var X=this.gL.clone(),b=Z.add.vogk,k=X.X[this.S4];
k=[k.I,k.$0,k.dW][this.af];if(e.S(ct.zx)){if(this.af==0){H=this.IV.xk(H,e);H.x+=k.x-this.Py.x;H.y+=k.y-this.Py.y}else H=F.bu._K(X.X[this.S4].I,H)}else{if(this.pS.psnap){H.x=Math.round(H.x);
H.y=Math.round(H.y)}H=F.pB.pQ(E,H,c)}if(this.af==0){var D=new jr(1,0,0,1,H.x-k.x,H.y-k.y);d.o.dg(X.X,D,null,X.bH)}else{var j=X.X[this.S4],g=j.$0,R=j.dW;
if(this.af==2){g=j.dW;R=j.$0}if(e.S(ct.Q3)&&(j.type==1||j.type==4))j.type++;g.tW(H.x,H.y);if(j.type==1||j.type==4){var t=eq.oG(g,j.I),w=eq.oG(R,j.I);
if(w!=0){R.x=j.I.x-(g.x-j.I.x)*(w/t);R.y=j.I.y-(g.y-j.I.y)*(w/t)}}}this.lL(X,b);this.GJ(E,Z.h2,X,b)}else if(this.IX!=null){var B=this.IX;
E.N.Aq=d.A.S6(new ir(B.x,B.y,H.x-B.x,H.y-B.y));E.Ea=!0}else{var $=E.sA(),o=$[0],T=$[1],Z,X,I;if(T.length==0)return;
var i=F.Wo(E,p),r=new ir(H.x-i,H.y-i,i*2,i*2);for(var M=0;M<T.length;M++){Z=o[T[M]];X=Z.add.vmsk;I=d.o.Dw(X.X,r);
if(I[0].length+I[1].length+I[2].length!=0)break}this.Pk(E);for(var N=0;N<3;N++){for(var J=0;J<I[N].length;
J++){var P=I[N][J],n=X.X[P];n=N==0?n.I:N==1?n.$0:n.dW;E.N.cj.push(n.x,n.y);E.Ea=!0}}}};F.va.prototype.Pk=function(E){if(E&&E.N.cj.length!=0){E.N.cj=[];
E.Ea=!0}};F.va.prototype.JA=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y),Z=this.bh,X=Z?Z.add.vmsk:null,b=Z?Z.add.vogk:null;
if(this.S4!=-1){if(Date.now()-this.KU<300){var k=X.X[this.S4],D=this.af,j=null;if(D==0){var g=k.$0.rT(k.I),R=k.dW.rT(k.I);
if(!g&&!R){j="Anchor Type";if(k.type==1||k.type==4)k.type++;else{k.type--;k.dW=k.I.add(k.I.DZ(k.$0))}}else{j="Add Handles";
if(g&&R){k.$0.x-=30;k.dW.x+=30}else if(g)k.$0=k.I.add(k.I.DZ(k.dW));else if(R)k.dW=k.I.add(k.I.DZ(k.$0))}}else{j="Remove Handle";
if(D==1)k.$0.xJ(k.I);else k.dW.xJ(k.I)}this.lL(X,b);this.GJ(E,Z.h2,X,b);this.Gs(E,j,Z.h2,this.gL,X,null,this.oS,JSON.stringify(b))}else if(!this.Py.rT(H)){this.Gs(E,"Drag Anchors",Z.h2,this.gL,X,null,this.oS,JSON.stringify(b))}this.KU=Date.now()}else if(this.IX!=null){var t=this.IX,w=new ir(t.x,t.y,H.x-t.x,H.y-t.y);
if(w.m<0)w.x+=w.m;if(w.e<0)w.y+=w.e;w.m=Math.abs(w.m);w.e=Math.abs(w.e);var B=d.o.Dw(X.X,w);X.bH=B[0].concat(e.S(ct.zx)?X.bH:[]);
E.N.Aq=null}this.At();E.Ea=!0};F.va.prototype.At=function(){this.bh=null;this.gL=null;this.IX=null;this.S4=this.af=-1;
this.IV=null};F.va.prototype.lL=function(E,y){for(var N=0;N<E.bH.length;N++){var c=d.o.CV(E.X,E.bH[N]);
d.gM.z4(y,c)}};F.va.prototype.Gu=function(E,y,c,e){if(E==null)return;var p=E.sA(),H=p[0],Z=p[1];if(Z.length==0)return;
var X=H[Z[0]],b=X.add.vmsk;if(b==null||b.bH.length==0)return;var k=X.add.vogk,D=JSON.stringify(k),j=e.K$(E?E.Q.fb:0);
if(j.x!=0||j.y!=0){var g=b.clone(),R=b.clone(),t=new jr(1,0,0,1,j.x,j.y);d.o.dg(R.X,t,null,R.bH);this.lL(R,k);
this.GJ(E,X.h2,R,k);this.Gs(E,"Move Anchors",E.g[0],g,R.clone(),!0,D,JSON.stringify(k))}if(e.S(ct.OA)||e.S(ct.hy))this.hE({d:"remove",Ru:!0,a3t:!0},y,E,e,c)};
F.va.prototype.Gs=function(E,y,c,e,p,H,Z,X){var b=E.f6();if(H&&b!=null&&b.f==this&&b.data.a1K&&b.data.Z3==c&&JSON.stringify(b.data.N3.bH)==JSON.stringify(e.bH)){b.data.jg=p;
b.data.ar=X}else{var b=new fN(y,this);b.data={Z3:c,N3:e,jg:p,a1K:H,asX:Z,ar:X};E.QY(b)}};F.Rect=function(){F.Hv.call(this,[10,32],F.XF,"tools/rect",!0)};
F.Rect.prototype=new F.Hv;F.Rect.prototype.gW=function(E,y,c){var e=this.Qh.crad,p=y.x-E.x,H=y.y-E.y;
return[d.o.M1.Rect(E.x,E.y,p,H,e),d.gM.wD("Rctn",[E.x,E.y,y.x,y.y],[e,e,e,e])]};F.fM=function(){F.Hv.call(this,[10,33],F.rb,"tools/ellipse",!0)};
F.fM.prototype=new F.Hv;F.fM.prototype.gW=function(E,y,c){var e=y.x-E.x,p=y.y-E.y;return[d.o.M1.fM(E.x,E.y,e,p),d.gM.wD("Elps",[E.x,E.y,y.x,y.y])]};
F.ki=function(){F.Hv.call(this,[10,34],F.hw,"tools/pshape",!1);this.Qh.aopts=[!1,!0,50,100,0]};F.ki.prototype=new F.Hv;
F.ki.prototype.gW=function(E,y,c){var e=this.Qh.pshape,p=this.Qh.crad,H=this.Qh.irad/100,Z=this.Qh.sides,X=this.Qh.width,b=this.Qh.aopts,k=this.Qh.length,B;
y=y.clone();var D=E.x,j=E.y,g=y.x,R=y.y,t=Math.sqrt((g-D)*(g-D)+(R-j)*(R-j)),w=Math.atan2(-R+j,g-D);
if(c)w=Math.round(w*180/Math.PI/15)*15*Math.PI/180;if(e==0)B=d.o.M1.G7(D,j,t,w,Z,p);if(e==1)B=d.o.M1.a3z(D,j,t,w,Z,p,H);
if(e==2)B=d.o.M1.iW(E.x,E.y,y.x,y.y,X,b);if(e==3)B=d.o.M1.aw6(D,j,t,w,k);return[B,d.gM.wD("customShape",[E.x,E.y,y.x,y.y],null,null,null,"--")]};
F.ki.prototype.Gu=function(E,y,c,e){F.Hv.prototype.Gu.call(this,E,y,c,e);var p=e.K$(),H=this.Qh,Z,X;
if(p.y!=0){var b=-p.y,k=H.pshape;if(k<2){Z="sides";X=Math.max(3,Math.min(100,H.sides+b))}else if(k==2){Z="width";
X=Math.max(1,Math.min(100,H.width+b))}else if(k==3){Z="length";X=Math.max(4,Math.min(40,H.length+b))}}if(p.x!=0){Z="pshape";
X=Math.max(0,Math.min(3,H.pshape+p.x))}if(Z){var D=new iU(S.E.M,!0),j={};j[Z]=X;H[Z]=X;D.data={d:S.H.qq,f:this.id,s6:"vals",alf:j};
y.T(D);this.Lv(E,y,c,e)}};F.GA=function(){F.Hv.call(this,[10,35],F.qP,"tools/line",!1)};F.GA.prototype=new F.Hv;
F.GA.prototype.gW=function(E,y,c){var e=this.Qh.width,p=this.Qh.aopts;y=y.clone();if(c){y=F.bu._K(E,y)}return[d.o.M1.iW(E.x,E.y,y.x,y.y,e,p),d.gM.wD("Ln",null,null,[E.x,E.y,y.x,y.y],e,null,p)]};
F.rn=function(){F.Hv.call(this,[10,31],F.BU,"tools/cshape",!0)};F.rn.prototype=new F.Hv;F.rn.prototype.gW=function(E,y,c){var e=this.Qh.shape,p=e.Mj.m/e.Mj.e,H=jN.pU.MD(e.X);
y=y.clone();if(c){y.y=E.y+(y.x-E.x)/p}var Z=y.x-E.x,X=y.y-E.y;d.o.dg(H,new jr(Z,0,0,X,E.x,E.y));return[H,d.gM.wD("customShape",[E.x,E.y,y.x,y.y],null,null,null,e.Iz)]};
F.Y=function(E,y,c){F.gb.call(this,E,y,c);this.mB=0;this.B=null;this.zA=null;this.vE=null;this.e5=1;
this.iN=0;this.By=!0;this.k_=!1;this.cursor=null;this.iO=null;this.Mb=null;this.sD=!1;this.zU=null;this.aeg=0;
this.I7=null;this.KE=0;this.w5=null;this.Hr=null;this.Hg=null;this.w7=null;this.a4J=null;this.Zc=null};
F.Y.prototype=new F.gb;F.Y.FK=function(E,y,c){var e={classID:"null",null:aW.G6(c?"Lyr":"Dcmn",!0)};if(E)e.Angl={t:"UntF",v:{type:"#Ang",val:y}};
else e.Axis={t:"enum",v:{Ornt:y}};return{tT:E?"rotateEventEnum":"flip",hG:e}};F.Y.prototype.vP=function(E,y,c,e,p){var H=new iU(S.E.M,!0);
H.data={d:S.H.qq,f:this.id,iJ:p,XH:E,vE:c};y.T(H);this.uE=!1};F.Y.prototype.Zw=function(E){return this.Hr&&this.Hr.a16()};
F.Y.prototype.hE=function(E,y,c,e,p){this.vE=p;if(E.d=="again"&&this.I7==null)return;if(!this.aq(c,p))return;
if(this.Hr){this.ai4(E,this.Hr.ER(),y,c,e,p);this.TZ(c,p,0,!0);this.Zl(c);return}this.ayL(c,E.a==null,E.a);
this.axd(c);this.ai4(E,E.aue,y,c,e,p);this.AE(c,y,E.xs,!1)};F.Y.prototype.ai4=function(E,y,c,e,p,H){var Z=this.w5;
if(y==null){var X=E.RG!=null?E.RG:4;y=this.Hr.ahP()[X]}var b=y.x,k=y.y;if(E.d=="rot"&&E.b!=Math.PI&&(Z.m+Z.e&1)==1){b=Math.floor(b);
k=Math.floor(k)}var D=new jr;D.translate(-b,-k);if(E.d=="rot")D.rotate(E.b);if(E.d=="scl")D.scale(E.b.x,E.b.y);
if(E.d=="mat")D.concat(E.b);D.translate(b,k);if(E.d=="again")D=this.I7;var j=d.r.$m(D);if(E.d=="dtr"){var g=d.r;
j=g.wl(E.b,g.R(-b,-k));j=g.wl(g.R(b,k),j)}var R=this.Hr.si();d.r.u(j,R);this.Hr.Eg(R);if(E.Oz){var t=E.Oz.v;
this.vm({Yy:"switchWarp"},c,e,p);this.vm({Yy:"wrp",Oz:t},c,e,p)}};F.Y.prototype.j_=function(){return!0};
F.Y.prototype.aq=function(E,y,c){if(E==null)return!1;if(this.id==F.fK)return E.i!=null;var e=E.G$(!0,null,null,!0);
if(this.id==F.PV&&E.B[e[0]].rect.tj()){alert("Layer is empty.");return!1}for(var N=0;N<e.length;N++){var p=E.B[e[N]];
if(p.H7(2)||p.H7(31)){alert(i4.get([6,57,0]));return!1}if(p.add.artb){alert("You can not transform the whole artboard");
return!1}if(p.add.TySh)if(!kz.tx(p.add.TySh,y.UG))return!1;if(p.add.SoLd){if(e.length==1&&(c&&c.de==-1)&&(p.Nb()&&p.Nb().PJ||p.add.vmsk&&p.add.vmsk.PJ)){alert("Unlink masks before transforming Smart Object");
return!1}if(!E.a9N(p.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+E.fB(p.add.SoLd.Idnt.v).gg+")");
return!1}}}if(E.i==null)return!0;if(!E.iR())return!1;return E.anC()};F.Y.prototype.yl=function(E,y,c,e,p){var H=this.V9(p,E),Z=H[0],X=H[1],b=this.KE==0?this.Hr:this.Hg;
E.Q.O*=X;this.k_=b.yl(E,c,e,Z,null,null,p);this.Zl(E,Z);E.Q.O/=X;if(this.k_&&b.FA(Z)){if(Date.now()-this.aeg<250)this.AE(E,y,null,!0);
this.aeg=Date.now()}};F.Y.prototype.qv=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.qR,gs:this.cursor};
E.T(y)};F.Y.prototype.V9=function(E,y){var c=1;E=y.Q.GV(E.x,E.y);if(this.KE==1){var e=d.r.C0(this.Hr.si(),this.w5);
c=d.r.IF(e).ul();var p=d.r.Ub(e);E=d.r.a49(p,E)}return[E,c]};F.Y.prototype.Lv=function(E,y,c,e,p){var H=this.V9(p,E),Z=H[0],X=H[1],b=this.KE==0?this.Hr:this.Hg;
if(!p.fu){var k="default";if(b){var D=b.YN(Z,E.Q.O*X,null,p);if(D)k=D}if(k!=this.cursor){this.cursor=k;
this.qv(y)}if(this.Hg){this.Zl(E,Z)}}if(!this.k_)return;E.Q.O*=X;var j=this.$D=b.Lv(E,c,e,Z,this.By);
E.Q.O/=X;this.TZ(E,c,0,!0);this.Zl(E,Z);this.Fa(y)};F.Y.prototype.JA=function(E,y,c,e,p){var H=this.V9(p,E),Z=H[0],X=H[1];
this.Hr.JA(E,c,e,Z);if(this.Hg){var b=this.Hg.JA(E,c,e,Z);if(b){this.Fa(y,!0);this.Zl(E)}}if(this.$D){var k=this.nR(),D=d.A.S6(this.w5).j;
d.r.u(k,D);this.Hr.Eg(D);this.$D=null}this.k_=!1};F.Y.prototype.Gu=function(E,y,c,e){if(e.S(ct.qy))this.AE(E,y,null,!0);
else if(e.S(ct.SB))this.Ds(E,y);else{var p=this.Hr.Gu(E,c,e);if(p){this.TZ(E,c,0,!0);this.Fa(y)}}};F.Y.prototype.vm=function(E,y,c,e){if(E.Yy=="commit")this.AE(c,y,null,!0);
else if(E.Yy=="cancel")this.Ds(c,y);else if(E.Yy=="switchWarp"){this.KE=1-this.KE;this.a0D();this.Zl(c);
this.Fa(y)}else if(E.Yy=="wrp"){this.Hg.apE(E.Oz);this.Zl(c);this.TZ(c,this.vE,0,!0)}else if(E.Yy=="splt")this.Hg.any(E.b);
else if(E.Yy=="ctyp"){this.Hr.aDt(E.vl);this.Zl(c);this.Fa(y)}else if(E.Yy=="cen"){this.Hr.a4y(E.gN);
this.Zl(c);this.TZ(c,this.vE,0,!0)}else if(E.Yy=="trn"){var p=d.r.$m(E.y1),H=this.w5,Z=d.r.C0(this.Hr.si(),this.w5);
p[6]=Z[6],p[7]=Z[7];var X=[H.x,H.y,H.x+H.m,H.y,H.x+H.m,H.y+H.e,H.x,H.y+H.e];d.r.u(p,X);this.e5=E.e5;
if(E.iN!=this.iN){this.iN=E.iN;this.arO(c)}this.By=E.By;this.Hr.Eg(X);this.Zl(c);this.TZ(c,this.vE,0,!0)}};
F.Y.prototype.Zl=function(E,y){if(this.KE==0)this.Hr._F(E,this.vE);else{this.Hg._F(E,y);var c=this.nR();
d.r.u(c,E.N.Vq.j);d.r.u(c,E.N.s$);d.r.u(c,E.N.J_)}};F.Y.prototype.AE=function(E,y,c,e){this.TZ(E,this.vE,this.e5);
var p=new fN(c?c:this.name,this),r="";if(this.mB==0)p.data={type:this.mB,B:this.B,zU:this.zA,uk:F.Y.h8(E,this.B)};
else if(this.mB==1){var H=E.B[this.B[0]],Z;if(H.r$.p6<=0){Z=d.R(H.r$.AL.P());d.LI(H.r$.sc,Z,3)}else Z=E.i.channel;
var X={rect:H.r$.AL.clone(),channel:Z};p.data={type:this.mB,a:this.B[0],Mb:this.Mb,Yi:X,iO:this.iO,sD:this.sD,r$:H.r$,zU:this.zU,uk:{k4:H.r$.AL,Ng:H.r$.sc}}}else if(this.mB==2){p.data={type:this.mB,Mb:this.Mb,Yi:{rect:E.i.rect.clone(),channel:E.i.channel.slice(0)}}}E.QY(p);
var b=this.w5,k=d.r.C0(this.Hr.si(),b),D=this.zA,j=D?D[0]:null;if(D&&D.length==1&&j[4]){var g=F.Y.Rt(j[4].nonAffineTransform),b=d.A.n7(d.Bh.lq(j[4].quiltWarp.v)[3]),R=d.r.C0(g,b);
k=d.r.wl(k,d.r.Ub(R))}var t=d.r.IF(k),w=this.Hr.ER(),B=new jr;B.translate(w.x,w.y);B.concat(t);B.translate(-w.x,-w.y);
t=B.clone();var $=-Math.atan2(-t.J,t.U),o=new jr;o.rotate($);t.concat(o);function T(n,x){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][x],val:n}}}var i=aW.G6("Lyr",!0);
if(this.id==F.fK)i.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var I=F.Y.awi;for(var M in I)if(I[M]==this.Hr.O8)r=M;
if(r==""){r="Qcsi";B.Kc=B.Dm=0}var J={classID:"null",null:i,FTcs:{t:"enum",v:{QCSt:r}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:T(B.Kc,0),Vrtc:T(B.Dm,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:T(Math.atan(t.E7/t.sN)*180/Math.PI,2),Vrtc:T(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:T(100*0,1),Vrtc:T(100*0,1)}},Wdth:T(t.U*100,1),Hght:T(t.sN*100,1),Angl:T($*180/Math.PI,2)};
if(r=="Qcsi")J.Pstn={t:"Objc",v:{Hrzn:T(w.x,0),Vrtc:T(w.y,0)}};var P=this.Hg?this.Hg.Ib():null;if(P&&!d.Bh.Mi(P)){J.quiltWarp={t:"Objc",v:P}}this.bE=y;
this.track({tT:"transform",hG:J});this.escape(E,y,e)};F.Y.awi={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
F.Y.prototype.Ds=function(E,y){if(this.mB==0)F.Y.b2(E,this.B,this.zA);else if(this.mB==1){var c=E.B[this.B[0]];
E.i=this.Mb;if(!this.sD){c.r$.AL=this.zU.k4;c.r$.sc=this.zU.Ng;c.uB(E,0,0,E.i)}else{c.eJ(E,this.iO)}E.W();
E.zr=!0}else if(this.mB==2){E.i=this.Mb;E.zr=!0}this.escape(E,y,!0)};F.Y.prototype.escape=function(E,y,c){this.Hr.clear(E);
if(this.Hg)this.Hg.clear(E);this.Hr=null;this.Hg=null;this.Zc=null;this.KE=0;if(c)this.YY(y,S.E.M,{d:S.H.xV})};
F.Y.prototype.Rn=function(E,y){if(E.type==0)F.Y.b2(y,E.B,E.uk);else{if(E.type==1){var c=y.B[E.a];if(E.sD){c.r$=E.r$}else{c.r$.AL=E.uk.k4;
c.r$.sc=E.uk.Ng}c.uB(y,0,0,y.i);y.W()}y.i={rect:E.Yi.rect.clone(),channel:E.Yi.channel.slice(0)};y.zr=!0}};
F.Y.prototype.GW=function(E,y){if(E.type==0)F.Y.b2(y,E.B,E.zU);else{if(E.type==1){var c=y.B[E.a];if(E.sD){c.eJ(y,E.iO)}else{c.r$.AL=E.zU.k4;
c.r$.sc=E.zU.Ng;c.uB(y,0,0,y.i)}y.W()}y.i=E.Mb;y.zr=!0}};F.Y.prototype.ayL=function(E,y,c){E.sA();var e=[];
if(c==null)for(var N=0;N<E.zG.length;N++)if(E.gA[E.zG[N]].add.vmsk.X.length>2)e.push(-1-E.zG[N]);var p=[],H=E.Q.V;
if(H[0]+H[1]+H[2]==3)if(c!=null||e.length==0||E.RT!=null&&E.RT.length!=0){if(E.g.length==1){var Z=E.B[E.g[0]];
if(Z.uY()&&Z.EL)p=[E.g[0]]}if(p.length==0)p=E.G$(y,c,null,!0)}p=p.concat(e);for(var N=0;N<E.dL.length;
N++)p.push(-1e3-E.dL[N]);this.B=p};F.Y.prototype.enable=function(E,y,c,e,p,H){if(this.cursor==null)this.cursor="default";
this.qv(y);if(this.Hr)return;this.vE=c;this.ayL(E,!0);this.axd(E,H&&H.de!=null&&H.de!=-1?H.de:null);
this.Fa(y,null,E);this.Zl(E);if(H&&H.de==-1)this.vm({Yy:"switchWarp"},y,E,e)};F.Y.prototype.Zr=function(){return[this.By?1:0]};
F.Y.prototype.$q=function(E,y,c){if(E&&E[0]!=null)this.By=E[0]==1};F.Y.prototype.Fa=function(E,y,c){var e={d:S.H.qq,f:this.id};
if(this.KE==0){var p=d.r.C0(this.Hr.si(),this.w5),H=d.r.IF(p);e.y1={dX:H,vl:this.Hr.a7$(),gN:this.Hr.ER(),k4:this.w5.clone(),By:this.By}}else{e.anS=y;
e.Oz=this.Hg.Ib()}if(c){e.cB=["---"];for(var N=0;N<c.cB.length;N++)e.cB.push(c.cB[N].name)}e.aoP=this.Hg!=null;
this.YY(E,S.E.M,e)};F.Y.prototype.axd=function(E,y){var c=this.id==F.fK,e=!0,p=this.B[0],H=E.B[p],X=null,b=null,k=null,g=null;
if(c){this.mB=2;this.Mb=E.i}else if(E.i&&this.B.length==1&&p>=0&&!H.rect.tj()){this.mB=1;this.Mb=E.i;
this.iO=H.r$;this.sD=!1;if(!H.B5(E,E.i)){this.sD=!0;H.MS(E,E.i,!1)}this.zU={Ng:H.r$.sc,k4:H.r$.AL}}else{this.mB=0;
this.zA=F.Y.h8(E,this.B,null);for(var N=0;N<this.zA.length;N++)if(this.zA[N][3]!=null)e=!1}var Z=this.mB==1;
if(this.zA&&this.zA.length==1){var D=this.zA[0];if(D[2]!=null)b=D[2].q9;if(D[3]==null)Z=!0;if(D[3]!=null)k=D[3];
if(D[4]!=null){X=E.B[this.B[0]].add.SoLd;if(D[1]||D[2])Z=!1}}var j=c?E.i.rect.clone():F.Y.EK(E,this.B);
this.w5=j;if(!c&&b&&aw==1){g=b.aAW();this.w7=d.r.C0(g,this.w5)}else if(!c&&k&&aw==1){var R=E.B[this.B[0]],k=R.add.TySh;
g=d.A.S6(R.b_.vJ).j;d.A.u(g,k.u,g);this.w7=d.r.C0(g,this.w5)}else if(!c&&X){g=F.Y.Rt(X.nonAffineTransform);
this.w5=d.A.n7(d.Bh.lq(X.quiltWarp.v)[3]);if(Z)this.Hg=new dW(X.quiltWarp.v);this.w7=d.r.C0(g,this.w5)}else{if(Z||c)this.Hg=new dW(d.Bh.R(this.w5));
this.w7=[1,0,0,0,1,0,0,0];if(this.id==F.PV)y=3;g=[j.x,j.y,j.x+j.m,j.y,j.x+j.m,j.y+j.e,j.x,j.y+j.e]}this.Hr=new hl(g,!0,!0,e,!1,!1,y);
this.a4J=[1,0,0,0,1,0,0,0];this.arO(E)};F.Y.prototype.arO=function(E){if(this.id==F.PV){var y,c,H=null;
if(this.zA&&E.i==null){var e=this.zA[0][0],p=e.eC;y=p[0];c=p[1]}else if(this.zU){y=this.zU.Ng;c=this.zU.k4}if(this.iN!=0)H=E.cB[this.iN-1].tv(c);
this.Zc=d.xW.aE5(y,c.m,c.e,H)}};F.Y.EK=function(E,y){if(y==null)y=E.G$(!0,null,null,!0);var c=new ir,e=new ir;
if(E.i&&y.length==1&&y[0]>=0)c=E.i.rect.clone();else for(var N=0;N<y.length;N++){var p=y[N],H=0<=p?E.B[p]:-1e3<p?E.gA[-1-p]:E.cB[-1e3-p],Z=H.add?H.add.vmsk:null,X=0<=p?H.WT(E,y.length==1,!1,!0):-1e3<p?d.o.L$(Z.X,y.length==1&&Z.g.length!=0?Z.g:null):H.rect.clone();
c=c.uN(X);if(p>0&&H.add.artb)e=e.uN(H.fQ())}return!e.tj()?e:c};F.Y.prototype.YY=function(E,y,c,e){var p=new iU(y,!0);
p.data=c;if(e)p.f=e;E.T(p)};F.Y.h8=function(E,y,c){var e=[];for(var N=0;N<y.length;N++){var p=y[N],H,Z;
if(p>=0){H=E.B[p];Z=H.JO(E,c,!0)}else if(p>-1e3){H=E.gA[-1-p];Z=[2]}else{e.push([null,null,null,null,null,null,null,E.cB[-1e3-p].clone()]);
continue}var X=[],b=Z.indexOf(0)!=-1;if(b){var k={eC:H.add.SoLd?null:[H.buffer.slice(0),H.rect.clone()]};
X.push(k);if(H.p3()){var D=H.kP(E);k.aDM=D.buffer.slice(0);k.aft=D.rect.clone()}}else X.push(null);if(Z.indexOf(1)!=-1)X.push(H.Nb().clone());
else X.push(null);if(Z.indexOf(2)!=-1)X.push({q9:H.add.vmsk.clone(),CY:H.add.vstk?JSON.parse(JSON.stringify(H.add.vstk)):null,f3:H.add.vstk?cb.uX(E.B[p].add):null,WF:H.add.vstl?JSON.stringify(H.add.vstl):null,gM:H.add.vogk?JSON.parse(JSON.stringify(H.add.vogk)):null});
else X.push(null);if(H.add.TySh&&b){gV.Pv(H.add.TySh);X.push(H.add.TySh.u.clone())}else X.push(null);
if(H.add.SoLd&&b)X.push(JSON.parse(JSON.stringify(H.add.SoLd)));else X.push(null);if(Z.indexOf(3)!=-1)X.push(H.kP(E).F.clone());
else X.push(null);if(H.add.lmfx)X.push(JSON.stringify(H.add.lmfx));else X.push(null);e.push(X)}return e};
F.Y.b2=function(E,y,c){for(var N=0;N<y.length;N++){var e=y[N],p=0<=e?E.B[e]:-1e3<e?E.gA[-1-e]:E.cB[-1e3-e],H=c[N];
if(H[0]){if(H[0].eC){p.rect=H[0].eC[1].clone();p.buffer=H[0].eC[0].slice(0)}if(p.p3()){var Z=p.kP(E);
Z.buffer=H[0].aDM.slice(0);Z.rect=H[0].aft.clone()}}if(H[1]){p.Nb().channel=H[1].channel.slice(0);p.Nb().rect=H[1].rect.clone();
p.Nb().tq=!0}if(H[2]){p.add.vmsk=H[2].q9.clone();if(H[2].f3)cb.z1(p.add,H[2].f3);if(H[2].CY)p.add.vstk=JSON.parse(JSON.stringify(H[2].CY));
if(H[2].gM)p.add.vogk=JSON.parse(JSON.stringify(H[2].gM));if(H[2].WF)p.add.vstl=JSON.parse(H[2].WF)}if(H[3]){p.add.TySh.u=H[3].clone();
gV.Ou(p.add.TySh)}if(H[4]){p.add.SoLd=JSON.parse(JSON.stringify(H[4]))}if(H[5]){var X=p.kP(E).F;X.channel=H[5].channel.slice(0);
X.rect=H[5].rect.clone()}if(H[6]){p.add.lmfx=JSON.parse(H[6])}if(H[7]){p.channel=H[7].channel.slice(0);
p.rect=H[7].rect.clone();p.tq=!0}if(0<=e){p.fP(E);p.W();if(H[4])p.an(E,!1)}}E.W()};F.Y.NX=function(E,y,c,e,p,H,Z,X,b,k){if(typeof H[0]=="number"){var D=[];
for(var N=0;N<c.length;N++)D[N]=H;H=D}for(var N=0;N<c.length;N++){var j=H[N],g=d.r.IF(j),R=g.ul(),t=c[N],w=0<=t?E.B[t]:-1e3<t?E.gA[-1-t]:E.cB[-1e3-t],B=e[N];
if(w.add&&w.add.lmfx&&X)hA.Yv(w.add.lmfx,R);if(B[0]&&!B[3]&&!B[4]&&!B[5]){var $=B[0].eC;if(b){var o=b.clone(),T=d.R(o.P()*4);
d.E6($[0],$[1],T,o);$=[T,o]}var i=F.Y.JV($,p,j,Z,p==0?w.buffer.buffer:null,null,null,k);if(i){w.rect=i.rect;
w.buffer=i.buffer}}if(B[1]){var r=w.Nb();F.Y.hN(E,B[1],r,p,j,Z,r.PJ&&Z&&!d.Bh.Mi(Z)&&B[0]?B[0].eC[1]:null);
if(b){var o=w.rect.fr(b),I=d.R(o.P());d.kh(r.channel,r.rect,I,o);r.channel=I;r.rect=o}}if(B[2]){var M=Z&&!d.Bh.Mi(Z),J=B[2].q9.clone(),P=c.length==1&&J.g.length!=0,n=c.length==1&&J.bH.length>1;
if(n)P=!1;var x=P?J.g:null,L=n?J.bH:null;if(M){var u=d.Bh.lq(Z);d.r.u(j,u[3]);d.o.aa6(J.X,u,x,L)}else d.o.aeP(J.X,j,x,L);
if(w.add.vstk&&X){w.add.vstk.strokeStyleLineWidth.v.val=B[2].CY.strokeStyleLineWidth.v.val*R;var C=B[2].f3;
if(C&&C.uC==3){C=JSON.parse(JSON.stringify(C));var h=C.f3.phase.v;C.f3.Scl.v.val=Math.round(C.f3.Scl.v.val*R);
h.Hrzn.v=Math.round(h.Hrzn.v*R);h.Vrtc.v=Math.round(h.Vrtc.v*R);cb.z1(w.add,C)}}if(w.add.vogk){w.add.vogk=JSON.parse(JSON.stringify(B[2].gM));
if(M||n)d.gM.awu(w.add.vogk);else d.gM.u(w.add.vogk,j,c.length>1?[]:J.g,X)}if(w.add.vstl){var A=w.add.vstl=JSON.parse(B[2].WF);
for(var W=0;W<2;W++){var Q=W==0?A.gl:A.Rl;if(Q==null||Q[3]==null)continue;var l=Q[3],O=new jr(l[0],l[1],l[2],l[3],l[4],l[5]);
O.concat(g);Q[3]=[O.U,O.J,O.E7,O.sN,O.Kc,O.Dm]}}J.oV*=R;var z=new jr;z.rotate(J.p9);z.concat(g);J.p9=Math.atan2(-z.J,z.U);
w.add.vmsk=J;if(w.add.vogk)d.gM.ZW(w.add.vogk,w.add.vmsk)}if(B[3]){var O=B[3].clone();O.concat(g);w.add.TySh.u=O;
gV.Ou(w.add.TySh);kz.K1(w,y.UG)}if(B[4]){var a=w.add.SoLd,m=F.Y.Rt(B[4].nonAffineTransform);d.r.u(j,m);
var q=d.A.xv(m);if(hl.uK(m)){if(Z){var K=d.A.n7(d.Bh.lq(B[4].quiltWarp.v)[3]),I=d.r.C0(m,K),U=d.A.n7(d.Bh.lq(Z)[3]);
m=[U.x,U.y,U.x+U.m,U.y,U.x+U.m,U.y+U.e,U.x,U.y+U.e];d.r.u(I,m);a.quiltWarp.v=Z}var f=d.r.C0(m),Y=m;if(!d.r.A6(f)){f[6]=f[7]=0;
Y=[0,0,1,0,1,1,0,1];d.r.u(f,Y)}a.Trnf=F.Y.Zd(Y);a.nonAffineTransform=F.Y.Zd(m);if(a.filterFX)a.filterFX=JSON.parse(JSON.stringify(B[4].filterFX));
F.Y.atw(a,g);w.an(E,p==0,y.UG)}}if(B[5])F.Y.hN(E,B[5],w.kP(E).F,p,j,Z);if(B[7])F.Y.hN(E,B[7],w,p,j,Z);
if(0<=t){if(!k)w.Q8();w.fP(E);w.W()}}E.W()};F.Y.OL=function(E,y){var c=y.ul(),e=0;d.MI(E);var p=d.arl(E,y,.3,4);
e=p[0];y=p[1];var H=E[e],Z=E[e+1],X=Z.m,b=Z.e,k=d.A.S6(Z).j;d.A.u(k,y,k);var D=d.A.xv(k),j=d.R(D.P()),g=D.x,R=D.y,t=D.m,w=D.e,B=y.clone();
B.Ub();var $=B.dl(new eq(0,0)),o=B.dl(new eq(1,0)),T=o.x-$.x,i=o.y-$.y;for(var r=0;r<w;r++){var I=B.U*(g+.5)+B.E7*(r+R+.5)+B.Kc,M=B.J*(g+.5)+B.sN*(r+R+.5)+B.Dm;
for(var J=0;J<t;J++){j[r*t+J]=Math.floor(.5+d.r.a2P(I,M,H,X,b));I+=T;M+=i}}return{rect:D,channel:j}};
F.Y.$X=function(E,y,c,e,p,H){if(c==null)c=!1;return F.Y.JV(E,c?0:1,d.r.$m(y),null,e,p,H,c)};F.Y.JV=function(E,y,c,e,p,H,Z,X){if(X==null)X=!1;
if(X&&Z)throw"e";var b={},D=0;if(e&&!d.Bh.Mi(e)){var k=d.Bh.lq(e);d.r.u(c,k[3]);b.rect=d.A.xv(k[3]);
b.buffer=d.R(b.rect.P()*4);d.My.drawImage(k,E[0],E[1].m,E[1].e,b.buffer,b.rect,y==0);return b}if(d.r.A6(c)){d.nJ(E);
var j=.3,D=0,g=d.r.IF(c),R=E[1],t=R.P()*g.ul();if(X&&t>4e6)j=t>8e6?2.2:1.2;var w=d.arl(E,g,j,16);D=w[0];
c=d.r.$m(w[1])}var B=E[D],R=E[D+1],$=d.r.wl(c,d.r.$m(new jr(R.m,0,0,R.e,R.x,R.y))),o=[0,0,1,0,1,1,0,1];
d.r.u($,o);b.rect=d.A.xv(o);if(Z)b.rect=b.rect.fr(Z);if(X){while((b.rect.m&3)!=0)b.rect.m++;while((b.rect.e&3)!=0)b.rect.e++}if(!hl.uK(o)||b.rect.m>1e5||b.rect.e>1e5||b.rect.P()>3e4*3e4)return null;
var T=b.rect.P()*4;if(p&&p.byteLength>=T&&T>=p.byteLength>>2){b.buffer=new Uint8Array(p)}else{b.buffer=d.R(T)}d.r.drawImage($,B,R.m,R.e,b.buffer,b.rect,y==0,H,X);
if(y==2&&b.buffer){var i=b.rect.m,r=b.rect.e,I;I=[0,-1,0,-1,16,-1,0,-1,0];I=d.bg.MB(I);var M=b.buffer.slice(0);
d.bg.Nf(M,b.buffer,i,r,I,255,!1,!0)}if(b.buffer)return b};F.Y.hN=function(E,y,c,e,p,H,Z){var X=y.rect,b=y.channel;
if(Z){X=Z;b=y.tv(X)}if(y.color==255)d.Ub(b);var k=d.R(X.P()*4);d.Og(b,k,3);var D=F.Y.JV([k,X],e,p,H);
if(D){c.rect=D.rect;c.channel=d.R(D.rect.P());d.LI(D.buffer,c.channel,3);c.tq=!0}if(y.color==255){d.Ub(b);
if(D)d.Ub(c.channel)}};F.Y.atw=function(E,y){var c=E.filterFX;if(c)c=c.v.filterFXList;if(c)c=c.v;if(c)for(var e=0;
e<c.length;e++){var p=c[e].v.Fltr;if(p==null||p.v.classID!="rigidTransform")continue;p=p.v;console.log(p);
var H=[];for(var Z=0;Z<4;Z++)H.push(p["PuX"+Z].v,p["PuY"+Z].v);d.A.u(H,y,H);for(var Z=0;Z<4;Z++){p["PuX"+Z].v=H[Z*2];
p["PuY"+Z].v=H[Z*2+1]}var X=["PinP","posFinalPins"],b=["originalVertexArray","deformedVertexArray"],k=p.puppetShapeList.v;
for(var D=0;D<k.length;D++){var j=k[D].v;for(var g=0;g<X.length;g++){var R=F.Y.Rt(j[X[g]]);d.A.u(R,y,R);
j[X[g]]=F.Y.Zd(R);var t=new Uint8Array(j[b[g]].v),w=new Float32Array(t.buffer);d.A.u(w,y,w);var B=[];
for(var $=0;$<t.length;$++)B[$]=t[$];j[b[g]].v=B}}}};F.Y.Rt=function(E){var y=[],c=E.v.length;for(var N=0;
N<c;N++)y.push(E.v[N].v);return y};F.Y.Zd=function(E){var y={t:"VlLs",v:[]},c=E.length;for(var N=0;N<c;
N++)y.v.push({t:"doub",v:E[N]});return y};F.Y.prototype.a0D=function(){var E=d.A.n7(d.Bh.lq(this.Hg.Ib())[3]),y=d.r.C0(this.Hr.si(),this.w5),c=[E.x,E.y,E.x+E.m,E.y,E.x+E.m,E.y+E.e,E.x,E.y+E.e];
d.r.u(y,c);this.Hr.Eg(c);this.w5=E};F.Y.prototype.nR=function(){var E=d.r.C0(this.Hr.si(),this.w5);if(this.$D)E=d.r.wl(E,d.r.$m(this.$D));
return E};F.Y.prototype.TZ=function(E,y,c,e){var p=this.nR();p=d.r.wl(p,d.r.Ub(this.w7));var H=this.Hg?this.Hg.Ib():null;
if(this.mB==0){var Z=this.I7=d.r.IF(p);if(this.id==F.PV){var X=this.zA[0][0],b=X.eC,k=b[1],D=~~(k.m*Math.max(0,Z.U)),j=~~(k.e*Math.max(0,Z.sN)),g=new ir(Math.round(Z.U*k.x+Z.Kc),Math.round(Z.sN*k.y+Z.Dm),D,j),R=d.xW.u(this.Zc,g),t=E.B[this.B[0]];
t.buffer=R;t.rect=g;t.W();E.W()}else F.Y.NX(E,y,this.B,this.zA,c,p,H,null,null,e)}else if(this.mB==1){var w=E.B[this.B[0]],k=this.zU.k4;
if(w.p6<=0){var B=this.zU.Ng,$=this.Mb,o=null;if(H&&!d.Bh.Mi(H)&&!$.rect.rT(k)){var R=d.R($.rect.P()*4);
d.E6(B,k,R,$.rect);B=R;k=$.rect}if(this.id==F.PV){var Z=this.I7=d.r.IF(p),D=~~(k.m*Math.max(0,Z.U)),j=~~(k.e*Math.max(0,Z.sN)),g=new ir(Math.round(Z.U*k.x+Z.Kc),Math.round(Z.sN*k.y+Z.Dm),D,j),R=d.xW.u(this.Zc,g);
o={buffer:R,rect:g}}else o=F.Y.JV([B,k],c,p,H);if(o){w.r$.sc=o.buffer;w.r$.AL=o.rect;var T=d.R(o.rect.P());
d.LI(w.r$.sc,T,3);E.i={channel:T,rect:w.r$.AL.clone()}}}else{var i=d.R(k.P()*4);d.Og(this.zU.Ng,i,3);
var o=F.Y.JV([i,k],c,p,H);if(o){w.r$.sc=d.R(o.rect.P());d.LI(o.buffer,w.r$.sc,3);w.r$.AL=o.rect}this.am_(E,c,p,H)}w.uB(E,0,0,E.i);
if(c!=0){w.Q8();d.Q8(E.i)}E.zr=!0;E.W()}else if(this.mB==2)this.am_(E,c,p,H)};F.Y.prototype.am_=function(E,y,c,e){var p=this.Mb.rect,H=d.R(p.P()*4);
d.Og(this.Mb.channel,H,3);var Z=F.Y.JV([H,p],y,c,e),X=d.R(Z.rect.P());d.LI(Z.buffer,X,3);E.i={channel:X,rect:Z.rect};
E.zr=!0};F.Y.prototype.disable=function(E,y,c,e){if(this.Hr)this.AE(E,y,null,!0)};F.a8K=function(){F.Y.call(this,[10,16],F.Xm,"tools/transform")};
F.a8K.prototype=new F.Y;F.aea=function(){F.Y.call(this,[7,10],F.fK,"tools/transform")};F.aea.prototype=new F.Y;
F.aiP=function(){F.Y.call(this,[10,48],F.PV,"tools/transform")};F.aiP.prototype=new F.Y;F.Oc=function(E,y,c){F.gb.call(this,[10,46],F.S0,"tools/transform");
this.Bc=[1,1,2,!0];this.Gl="rigidTransform";this.O2=null;this.aoC=null;this.wv=null;this.dE=null;this.AO=null;
this.nS=null;this.FD=[]};F.Oc.prototype=new F.gb;F.Oc.prototype.j_=function(){return!0};F.Oc.Du=function(E){if(E==null)return!1;
if(E.g.length!=1)return!1;var y=E.B[E.g[0]];return y.add.SoLd||E.iR(!1)};F.Oc.prototype.aq=function(E,y){return F.Oc.Du(E)};
F.Oc.prototype.enable=function(E,y,c,e,p,H,Z){this.aoC=H.Rv;var X=H.Rv,b,w=null;if(X){var k=E.B[X.a];
if(k.add.SoLd.filterFX!=null){var D=k.add.SoLd.filterFX.v.filterFXList.v;if(D[X.index])b=JSON.parse(JSON.stringify(D[X.index].v.Fltr.v))}}var j=b==null,k=E.B[E.g[0]],g=k.buffer,R=k.rect,t=k.add.SoLd;
if(t){var B=t.nonAffineTransform.v;w=[];for(var N=0;N<4;N++)w.push(B[N*2].v,B[N*2+1].v);if(j)this.Lp("edit",y);
var $=k.kP(E);g=$.buffer;R=$.rect}this.O2={buffer:g.slice(0),rect:R.clone(),alN:w};if(j)b=F.Oc.DL(this.O2,this.Bc);
this.wv=b;this.dE=F.Oc._P(this.wv,this.Bc);this.XL();this.Po(E);if(j)this.HB(y);var o=new iU(S.E.M,!0);
o.data={d:S.H.qq,f:this.id,Wp:this.Bc};y.T(o);o.data={d:S.H.qR,gs:"default"};y.T(o)};F.Oc.prototype.disable=function(E,y,c,e){if(this.dE)this.AE(E,y,!0)};
F.Oc.prototype.XL=function(E){var y=this.dE;this.FD=[];for(var N=0;N<y.length;N++){var c=y[N];for(var e=0;
e<c.g.length;e++)this.FD.push([N,c.g[N]]);c.KN=d.bs.aek(c);if(E)d.bs.aaI(c)}};F.Oc.prototype.vm=function(E,y,c,e){if(E.Yy=="commit")this.AE(c,y,!0);
else if(E.Yy=="cancel")this.Ds(c,y,!0);else if(E.Yy=="prm"){var p=!1;for(var N=0;N<3;N++)if(this.Bc[N]!=E.Wp[N])p=!0;
this.Bc=E.Wp;if(p){this.wv=F.Oc.DL(this.O2,this.Bc,this.wv);this.dE=F.Oc._P(this.wv,this.Bc);this.XL(!0);
this.HB(y)}this.Po(c)}else if(E.Yy=="moveDepth"){var H=this.dE;for(var Z=0;Z<H.length;Z++){var X=H[Z];
for(var N=0;N<X.g.length;N++){var b=X.g[N];X.ui[b]+=E.ayB?1:-1}}this.HB(y)}};F.Oc.prototype.OX=function(E,y){return E==ct.OA||E==ct.hy};
F.Oc.prototype.Gu=function(E,y,c,e){var p=e.K$();if(e.S(ct.qy))this.AE(E,y,!0);else if(e.S(ct.SB))this.Ds(E,y,!0);
else if(e.S(ct.OA)||e.S(ct.hy)){var H=this.dE;for(var Z=0;Z<H.length;Z++){var X=H[Z];X.g.sort(function(D,j){return j-D});
for(var N=0;N<X.g.length;N++){var b=X.g[N],k=b*2;X.ui.splice(b,1);X.mZ.splice(b,1);X.x7.splice(b,1);
X.kM.splice(b,1);X.Ba.splice(k,2);X.hV.splice(k,2)}X.g=[];if(X.kM.length==0){X.AY=X.PD.slice(0);X.QL=X.PD.slice(0)}}this.XL(!0);
this.HB(y);this.Po(E)}else if(p.x!=0||p.y!=0){this.aBi(E,p.x,p.y,y);this.z7=null}};F.Oc.prototype.AE=function(E,y,c){this.Lp("confirm",y);
this.escape(E,y,c)};F.Oc.prototype.Ds=function(E,y,c){this.Lp("cancel",y);this.escape(E,y,c)};F.Oc.prototype.escape=function(E,y,c){E.N.Aq=null;
E.N.cj=[];E.N._I=[];E.Ea=!0;this.dE=null;var e=new iU(S.E.M,!0);e.data={d:S.H.xV};if(c)y.T(e)};F.Oc.prototype.yl=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y),Z=H.x,X=H.y,b=this.dE,k=null,D=[0,2,4,1.2,1.2,1.2],j=-1,g=F.Wo(E,p);
for(var N=0;N<b.length;N++){var R=b[N],t=d.A.Mr(R.hV,Z,X,g);if(t!=-1)k=[N,t];if(j==-1&&d.bs.aq7.aCw(R.QL,R.Hh,Z,X))j=N}if(k==null&&j!=-1){var R=b[j];
F.Oc.aff(R,Z,X,Z,X,0);k=[j,R.kM.length-1];R.KN=d.bs.aek(R)}this.AO=H;if(k){var w=b[k[0]].g.indexOf(k[1])!=-1;
if(e.S(ct.zx)&&!w){b[k[0]].g.push(k[1]);this.FD.push(k)}else if(!w){b[k[0]].g=[k[1]];this.FD=[k]}}this.Po(E)};
F.Oc.aff=function(E,y,c,e,p,H){var Z=d.A.Mr(E.QL,y,c);E.kM.push(Z);E.hV.push(e,p);E.Ba.push(E.QL[Z*2]-y,E.QL[Z*2+1]-c);
E.x7.push(0);E.mZ.push(!1);E.ui.push(H)};F.Oc.prototype.Lv=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y),Z=this.AO;
if(Z)this.aBi(E,H.x-Z.x,H.y-Z.y,y)};F.Oc.prototype.aBi=function(E,y,c,e){var p={},H=this.FD,Z=this.dE;
if(this.z7==null){this.z7=[];for(var N=0;N<Z.length;N++)this.z7.push(Z[N].hV.slice(0))}for(var N=0;N<H.length;
N++){var X=this.FD[N],b=X[0],k=Z[X[0]],D=X[1]*2;k.hV[D+0]=this.z7[b][D+0]+y;k.hV[D+1]=this.z7[b][D+1]+c;
p[b]=b}for(var b in p)d.bs.aaI(this.dE[p[b]]);this.Po(E);this.HB(e)};F.Oc.prototype.Lp=function(E,y){var c=new iU(S.E.v,!0);
c.f=F.UA;c.data={d:E,Rv:this.aoC,Gl:this.Gl,XR:this.wv};y.T(c)};F.Oc.prototype.JA=function(E,y,c,e,p){this.AO=null;
this.z7=null};F.Oc.prototype.HB=function(E){F.Oc.aeH(this.dE,this.Bc,this.wv);this.Lp("edit",E)};F.Oc.prototype.Po=function(E){var y=this.dE,c=this.wv;
E.N.Aq={j:[],G:[]};E.N.cj=[];E.N._I=[];for(var N=0;N<y.length;N++){var e=y[N];for(var p=0;p<e.hV.length;
p+=2){var H=E.N._I;if(e.g.indexOf(p>>>1)!=-1)H=E.N.cj;H.push(e.hV[p],e.hV[p+1])}if(this.Bc[3])d.A.concat(E.N.Aq,d.A.av$(e.QL,e.Hh))}E.Ea=!0};
F.Oc.DL=function(E,y,c){var e=E.buffer,p=E.rect,H=E.alN,Z=cN.TL("rigidTransform");if(H)for(var N=0;N<4;
N++){Z["PuX"+N].v=H[N*2];Z["PuY"+N].v=H[N*2+1]}var X=Z.puppetShapeList.v,b=d.bs.alv(e,p.m,p.e,y[1],y[2]),k=[];
for(var D=0;D<b.length;D++){var j={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
j.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var g=b[D];X.push({t:"Objc",v:j});var R=g.PD.slice(0);d.A.u(R,new jr(1,0,0,1,p.x,p.y),R);var t=g.Hh;
for(var N=0;N<t.length;N+=3){var w=t[N+1];t[N+1]=t[N+2];t[N+2]=w}k.push({Hh:t,PD:R,AY:R,QL:R,kM:[],Ba:[],hV:[],KN:null,g:[],x7:[],mZ:[],ui:[]})}if(c){var B=F.Oc._P(c,[]),$=k[0];
for(var N=0;N<B.length;N++){var o=B[N];for(var T=0;T<o.g.length;T++)$.g.push(($.hV.length>>>1)+o.g[T]);
for(var T=0;T<o.kM.length;T++){var i=o.kM[T]*2,r=o.PD[i]-o.Ba[T*2],I=o.PD[i+1]-o.Ba[T*2+1];F.Oc.aff($,r,I,o.hV[T*2],o.hV[T*2+1],o.ui[T])}}}F.Oc.aeH(k,y,Z);
return Z};F.Oc._P=function(E,y){var c=F.Y.Rt,e=E.puppetShapeList.v,p=[];for(var H=0;H<e.length;H++){var Z=e[H].v;
y[0]=Z.meshRigidity.v-1;y[1]=Z.meshQuality.v-1;y[2]=Z.meshExpansion.v;var X=Z.pinVertexIndices.v.length,b=Z.meshBoundaryPath.v.pathComponents.v;
if(b.length!=0){var k=b[0].v.SbpL.v[0].v.Pts;k.v=[]}var D=new Uint32Array(new Uint8Array(Z.indexArray.v).buffer),j=new Float32Array(new Uint8Array(Z.originalVertexArray.v).buffer),g=new Float32Array(new Uint8Array(Z.deformedVertexArray.v).buffer),R=[],t=[],w=[];
for(var N=0;N<D.length;N++)R.push(D[N]);for(var N=0;N<j.length;N++){t.push(j[N]);w.push(g[N])}var B=c(Z.pinVertexIndices),$=c(Z.pinOffsets),o=c(Z.posFinalPins),T=c(Z.PnRt),i=c(Z.PnOv),r=c(Z.PnDp),I=c(Z.selectedPin);
p.push({Hh:R,PD:t,AY:w.slice(0),QL:w,kM:B,Ba:$,hV:o,KN:null,x7:T,mZ:i,ui:r,g:I})}return p};F.Oc.aeH=function(E,y,c){function e(g,R){var t=[];
for(var N=0;N<g.length;N++)t.push({t:R,v:g[N]});return t}function p(g,R,t){var w=new(t?Uint32Array:Float32Array)(g),B=new Uint8Array(w.buffer);
for(var N=0;N<B.length;N++)R[N]=B[N]}var H=c.puppetShapeList.v;for(var Z=0;Z<H.length;Z++){var X=E[Z],b=H[Z].v;
b.meshRigidity.v=y[0]+1;b.meshQuality.v=y[1]+1;b.meshExpansion.v=y[2];p(X.Hh,b.indexArray.v,!0);p(X.PD,b.originalVertexArray.v);
p(X.QL,b.deformedVertexArray.v);var k=[];for(var N=0;N<X.kM.length;N++){var D=X.kM[N]*2,j=N*2;k[j]=X.PD[D]-X.Ba[j];
k[j+1]=X.PD[D+1]-X.Ba[j+1]}b.PinP.v=e(k,"doub");b.pinVertexIndices.v=e(X.kM,"long");b.pinOffsets.v=e(X.Ba,"doub");
b.posFinalPins.v=e(X.hV,"doub");b.PnRt.v=e(X.x7,"long");b.PnOv.v=e(X.mZ,"bool");b.PnDp.v=e(X.ui,"doub");
b.selectedPin.v=e(X.g,"long")}};F.Uj=function(E,y,c){F.gb.call(this,E?E:[10,40],y?y:F.hW,c?c:"tools/slice");
this.hQ=null;this.bE=null;this.E_=null;this.azK=null;this.e1=null;this.S$=null};F.Uj.prototype=new F.gb;
F.Uj.U1=function(E,y){var c=-1;for(var N=0;N<E.length;N++){var e=F.Uj.T5(E,N);if(e[0]<=y.x&&y.x<=e[2]&&e[1]<=y.y&&y.y<=e[3]){c=N;
break}}return c};F.Uj.prototype.hE=function(E,y,c,e,p){if(c==null)return;this.CM(c);if(E.d=="fromAction"){var H=E.Xu,Z=H.tT,X=H.hG,b=c.Tp(),k=c.Z1(),D=k==-1?new ir(0,0,c.m,c.e):c.B[k].fQ();
if(Z=="divide"){if(c.eg.length!=0){var j=c.eg[0],g=F.Uj.T5(c.Cv,j);D=new ir(g[0],g[1],g[2]-g[0],g[3]-g[1]);
c.Cv.splice(j,1);c.eg=[]}b=[[],[]];for(var R=0;R<2;R++){var t=["Across","Down"][R],w=X["pixels"+t]?0:1,B=X[["pixels","slices"][w]+t];
if(B==null)continue;B=B.v;var $=R==0?D.x:D.y,o=R==0?D.m:D.e;if(w==0)for(var N=1;N*B<o;N++){b[0].push([R,$+N*B]);
b[1].push(k)}else{var T=Math.floor(o/B);for(var N=1;N<B;N++){b[0].push([R,$+N*T]);b[1].push(k)}}}}var i=[D.x,D.x+D.m],r=[D.y,D.y+D.e];
for(var N=0;N<b[0].length;N++){var I=b[0][N],M=Math.round(I[1]),J=b[1][N];if(J!=-1&&J!=k)continue;if(I[0]==0&&i.indexOf(M)==-1)i.push(M);
if(I[0]==1&&r.indexOf(M)==-1)r.push(M)}i.sort(function(Q,l){return Q-l});r.sort(function(Q,l){return Q-l});
for(var P=1;P<r.length;P++)for(var n=1;n<i.length;n++){c.Cv.push(F.Uj.O1());F.Uj.DM(c.Cv,c.Cv.length-1,[i[n-1],r[P-1],i[n],r[P]]);
c.Ea=!0}}else if(E.d=="reorder"){if(c.eg.length==0)return;var x=c.Cv,L=c.eg;L.sort(function(Q,l){return Q-l});
console.log(L);var u=x.slice(0),C=[],h=[];for(var N=0;N<L.length;N++){var j=L[N],A=x[j];h.push(A);u.splice(u.indexOf(A),1)}var W=Math.max(0,Math.min(u.length,L[0]-E.dir));
for(var N=0;N<h.length;N++){u.splice(W+N,0,h[N]);C.push(W+N)}c.Cv=u;c.eg=C}else if(E.d=="delete"){var x=c.Cv.slice(0);
for(var N=0;N<c.eg.length;N++)c.Cv.splice(c.Cv.indexOf(x[c.eg[N]]),1);c.eg=[]}else if(E.d=="deleteAll"){c.Cv=[];
c.eg=[]}else{c.Cv[c.eg[0]].v=E;c.Ea=!0}this.RF(c)};F.Uj.prototype.enable=function(E,y,c,e,p,H){F.gb.prototype.enable.call(this,E,y,c,e,p,H);
if(!c.km.Cv){var Z=new iU(S.E.M,!0);Z.data={d:S.H.z2,Wp:iL.u5};y.T(Z)}};F.Uj.prototype.disable=function(){this.hQ=null;
this.bE=null};F.Uj.prototype.vP=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y),Z=F.Uj.U1(E.Cv,H);if(Z==-1)return;
this.hQ=E;this.bE=y;E.eg=[Z];E.Ea=!0;if(this.S$==null){this.S$=new el([{name:[5,4]},{name:[8,11,1],hi:!0}]);
this.S$.k("select",this.oh,this)}var X=this.S$;X.parent=y;X._();X.update(E,c);var b=new iU(S.E.M,!0);
b.data={d:S.H.rt,T_:X,x:p.ti+2,y:p.nD+1};y.T(b)};F.Uj.prototype.oh=function(E){var y=this.S$.hD()[0],c=this.hQ;
if(y==0){this.CM(c);c.Cv.splice(c.eg[0],1);c.eg=[];c.Ea=!0;this.RF(c)}if(y==1){var e=new iU(S.E.M,!0);
e.data={d:S.H.Q5,ym:"soptions",b:c.Cv[c.eg[0]].v};this.bE.T(e)}};F.Uj.prototype.yl=function(E,y,c,e,p){if(E==null)return;
this.CM(E);var H=E.Q.GV(p.x,p.y);H=F.pB.pQ(E,H,c,[!0,null,!1]);H.x=Math.round(H.x);H.y=Math.round(H.y);
this.e1=H;E.Cv.unshift(F.Uj.O1());E.eg=[0];F.Uj.DM(E.Cv,0,[H.x,H.y,H.x+20,H.y+20]);E.Ea=!0};F.Uj.prototype.Lv=function(E,y,c,e,p){if(this.E_==null)return;
var H=E.Q.GV(p.x,p.y),Z=this.e1;H=F.pB.pQ(E,H,c,[!0,null,!1]);H.x=Math.round(H.x);H.y=Math.round(H.y);
var X=[Z.x,Z.y,H.x,H.y];F.Uj.ams(X);F.Uj.DM(E.Cv,0,X);E.Ea=!0};F.Uj.prototype.JA=function(E,y,c,e,p){this.RF(E);
this.e1=null};F.Uj.prototype.CM=function(E){this.E_=JSON.stringify(E.Cv);this.azK=JSON.stringify(E.eg)};
F.Uj.prototype.RF=function(E){var y=JSON.stringify(E.Cv);if(y!=this.E_){var c=new fN(this.name,this);
c.data={zU:this.E_,uk:y,axr:this.azK,aht:JSON.stringify(E.eg)};E.QY(c)}this.E_=null};F.Uj.prototype.GW=function(E,y){y.Cv=JSON.parse(E.zU);
y.eg=JSON.parse(E.axr);y.Ea=!0};F.Uj.prototype.Rn=function(E,y){y.Cv=JSON.parse(E.uk);y.eg=JSON.parse(E.aht);
y.Ea=!0};F.Uj.prototype.OX=function(E,y){return y!=null&&y.eg.length!=0&&(E==ct.OA||E==ct.hy)};F.Uj.prototype.Gu=function(E,y,c,e){if(E==null)return;
if(e.S(ct.OA)||e.S(ct.hy))this.hE({d:"delete"},y,E,e,c);var p=e.K$();if(p.x!=0||p.y!=0){this.CM(E);F.Uj.X3(E,p);
this.RF(E)}};F.Uj.prototype.vm=function(E,y,c,e,p){};F.Uj.aBo=function(E,y,c,e){var p=new eq(-y.x,-y.y),H=y.m/c.m,Z=y.e/c.e,X=[0,0,y.m,y.e];
for(var N=0;N<E.length;N++){var b=F.Uj.T5(E,N);if(e){b[0]=Math.round(b[0]*H);b[1]=Math.round(b[1]*Z);
b[2]=Math.round(b[2]*H);b[3]=Math.round(b[3]*Z)}else{F.Uj.YE(b,p);F.Uj.a1W(b,X)}if(b[0]>=b[2]||b[1]>=b[3]){E.splice(N,1);
N--;continue}F.Uj.DM(E,N,b)}};F.Uj.X3=function(E,y){var c=E.Cv;for(var N=0;N<E.eg.length;N++){var e=F.Uj.T5(c,E.eg[N]);
F.Uj.YE(e,y);F.Uj.DM(c,E.eg[N],e)}};F.Uj.a1W=function(E,y){if(E[0]<y[0])E[0]=y[0];if(E[1]<y[1])E[1]=y[1];
if(y[2]<E[2])E[2]=y[2];if(y[3]<E[3])E[3]=y[3]};F.Uj.YE=function(E,y){E[0]=Math.round(E[0]+y.x);E[2]=Math.round(E[2]+y.x);
E[1]=Math.round(E[1]+y.y);E[3]=Math.round(E[3]+y.y)};F.Uj.DM=function(E,N,y){var c=E[N].v.bounds.v;c.Left.v=y[0];
c.Top.v=y[1];c.Rght.v=y[2];c.Btom.v=y[3]};F.Uj.T5=function(E,N){var y=E[N].v.bounds.v;return[y.Left.v,y.Top.v,y.Rght.v,y.Btom.v,N]};
F.Uj.ams=function(E){if(E[2]<E[0]){var y=E[0];E[0]=E[2];E[2]=y}if(E[2]==E[0])E[2]++;if(E[3]<E[1]){var y=E[1];
E[1]=E[3];E[3]=y}if(E[3]==E[1])E[3]++};F.Uj.n7=function(E,y){var c=1e9,e=-1e9,p=1e9,H=-1e9;for(var N=0;
N<y.length;N++){var Z=F.Uj.T5(E,y[N]);c=Math.min(c,Z[0]);p=Math.min(p,Z[1]);e=Math.max(e,Z[2]);H=Math.max(H,Z[3])}return[c,p,e,H]};
F.Uj.O1=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
F.jM=function(){F.Uj.call(this,[10,41],F.I9,"tools/sselect");this.e1=null;this.mb=null;this.mi=null;
this.nS=null;this.Z7=!1};F.jM.prototype=new F.Uj;F.jM.prototype.yl=function(E,y,c,e,p){if(E==null)return;
var H=E.Q.GV(p.x,p.y),Z=F.jM.arM(H,4/E.Q.O,E.Cv,E.eg);Z.pop();if(Z.length!=0){this.e1=H;this.mi=Z;this.CM(E);
return}var X=E.Cv,b=F.Uj.U1(X,H);if(b==-1)E.eg=[];else{var k=E.eg.indexOf(b);if(e.S(ct.zx)){if(k==-1)E.eg.push(b);
else E.eg.splice(k,1)}else{E.eg.sort(function(w,B){return w-B});if(k==-1)E.eg=[b];this.e1=H;this.CM(E);
this.mb=F.Uj.n7(X,E.eg);this.nS=[];for(var N=0;N<E.eg.length;N++)this.nS.push(F.Uj.T5(X,E.eg[N]));if(e.S(ct.Q3)){var D=X.slice(0),j=E.eg,g=[];
for(var N=0;N<j.length;N++){var b=j[N],R=D[b],t=X.indexOf(R);g.push(t);X.splice(t,0,JSON.parse(JSON.stringify(R)))}E.eg=g}}}E.Ea=!0};
F.jM.prototype.Lv=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y);if(this.e1==null){var Z=F.jM.arM(H,4/E.Q.O,E.Cv,E.eg),X=Z.pop(),b=Z.length==0?"default":["ew","nwse","ns","nesw"][X]+"-resize",k=new iU(S.E.M,!0);
k.data={d:S.H.qR,gs:b};y.T(k);return}if(!this.Z7&&H.rT(this.e1))return;this.Z7=!0;var D=E.Cv,Z=this.mi;
if(Z){H=F.pB.pQ(E,H,c,[!0,null,!1]);var j=Math.round(H.x),g=Math.round(H.y);for(var N=0;N<Z.length;N+=2){var R=F.Uj.T5(D,Z[N]),t=Z[N+1];
R[t]=(t&1)==0?j:g;F.Uj.ams(R);F.Uj.DM(D,Z[N],R)}}else{var w=H.DZ(this.e1),B=this.mb.slice(0);F.Uj.YE(B,w);
var $=new ir(B[0],B[1],B[2]-B[0],B[3]-B[1]),o=F.pB.Ih(E,$,c,[!0,null,!1],!0);F.pB.lx(E,$,o);w.x+=o[0];
w.y+=o[1];for(var N=0;N<E.eg.length;N++)F.Uj.DM(D,E.eg[N],this.nS[N]);F.Uj.X3(E,w)}E.Ea=!0};F.jM.prototype.JA=function(E,y,c,e,p){if(this.e1==null)return;
this.RF(E);E.N.d2=null;E.Ea=!0;this.e1=null;this.mi=null;this.nS=null;this.Z7=!1};F.jM.arM=function(E,y,c,e){var p=E.x,H=E.y,Z=[],X=-1,b=[];
for(var N=0;N<e.length;N++){var k=e[N],D=F.Uj.T5(c,k),j=D[0],g=D[1],R=D[2],t=D[3];if(p<j-y||R+y<p||H<g-y||t+y<H)continue;
var w=[p<j+y,H<g+y,R-y<p,t-y<H],B=-1;for(var $=0;$<4;$++){if(w[$]&&w[$+1&3])B=1+2*($&1);if(w[$])Z.push(k,$)}if(B==-1){if(w[0]||w[2])B=0;
if(w[1]||w[3])B=2}if(B!=-1){X=B;b.push(k)}}var o=Z.length;for(var N=0;N<o;N+=2){var k=Z[N],T=Z[N+1],i=F.Uj.T5(c,k)[T];
for(var $=0;$<e.length;$++){var r=e[$];if(b.indexOf(r)!=-1)continue;var D=F.Uj.T5(c,r);if(D[T&1]==i)Z.push(r,T&1);
if(D[2+(T&1)]==i)Z.push(r,2+(T&1))}}Z.push(X);return Z};F.Jy=function(){F.XY.call(this,[10,44],F.a0d,"tools/oselect");
this.fZ="crosshair";this.aau=0};F.Jy.prototype=new F.XY;F.Jy.prototype.Lz=function(E,y,c,e){if(Math.random()<1/(1+this.aau)){alert("The cross should be fully inside the object.",3500);
this.aau++}};F.Jy.prototype.Xo=function(E,y,c,e){F.ow.as(E,F.XY.u0,this.bE);if(!e.fu||!this.in)return;
var p=this.EK(E,c,!1),H=p.m,Z=p.e,X=p.x,b=p.y,k=p.x+H,D=p.y+Z,j=X+H/2,g=b+Z/2,R=F.Jy.a8Y;E.N.Aq={j:[X,b,k,b,k,D,X,D,j-H*R,g,j+H*R,g,j,g-Z*R,j,g+Z*R],G:"M L L L Z M L M L".split(" ")};
E.Ea=!0};F.Jy.a8Y=.12;F.Jy.prototype.P6=function(E,y,c,e){E.N.Aq=null;E.Ea=!0;this.finish(E,y,c,e)};
F.Jy.prototype.getSelection=function(E,y,c,e){if(this.Lh.rT(this.vy)||!this.in)return null;var p=this.EK(E,c,!1),H=E.B[E.g[0]];
if(p.tj()||!p.TF(H.rect))return null;return F.XY.hR("ObSl",p)};F.ow=function(){F.XP.call(this,[10,37],F.Pl,"tools/qselect");
this.Ze="qselect"};F.ow.prototype=new F.XP;F.ow.prototype.yl=function(E,y,c,e,p){F.ow.as(E,F.XY.u0,y,!0);
this.NA(E,c,e,p,1);if(this.Zk==null)return;this.Fr(E)};F.ow.prototype.Lv=function(E,y,c,e,p){this.Fv(E,y,c);
F.ow.as(E,F.XY.u0,y);if(this.wT)this.$w(E,c,p);if(this.Zk==null)return;if(!p.fu)return;var H=this.OD(E,c,e,p);
if(H!=1)this.Fr(E)};F.ow.as=function(E,y,c,e){if(E&&y.key!=F.ow.Cc(E)){y.key=F.ow.Cc(E);var p=E.B[E.g[0]].rect.P(),Z="Image Analysis ...";
if(p==0)return;var H=p>1e6&&e!=!0,X=new iU(S.E.M,!0);X.data={d:S.H.cL,SJ:Z};if(H)c.T(X);var b=function(){var D=F.ow.acR(E);
for(var j in D)y[j]=D[j];var X=new iU(S.E.M,!0);X.data={d:S.H.B7,SJ:Z};if(H)c.T(X)};if(e)b();else setTimeout(b,30)}};
F.ow.Cc=function(E){var y=E.g[0],c=E.B[y],e=c.rect,p=e.m,H=e.e,Z=p*H,X=c.buffer;return[y,e.x,e.y,p,H,X[0],X[1],X[2],X[3]].join(",")};
F.ow.acR=function(E){var y=E.g[0],c=E.B[y],e=c.rect,p=e.m,H=e.e,Z=p*H,X=c.buffer,b=Date.now(),k=d.R(Z);
k.fill(128);var D=d.uJ.Lc(X,p,H);console.log(Date.now()-b);var j={key:F.ow.Cc(E),jW:X,rect:e.clone(),Pf:p,T4:H,gJ:12,K_:k,rK:D,i:d.R(Z),NQ:null,E4:null,Mm:null};
F.ow.u4(j,null,E);return j};F.ow.u4=function(E,y,c){var e=E.Pf,p=E.T4,H=0,Z=0,X=Date.now(),b=E.NQ!=null&&d.uJ.Hc(E.NQ.Hh,E.NQ.yf,E.K_)==-1;
H=Date.now()-X;X=Date.now();if(!b){var k=d.uJ.Hc(E.rK.Hh,E.rK.yf,E.K_),D=0;while(k!=-1){var j=[],g=[],R=E.rK.Hh;
for(var t=0;t<p;t++)for(var w=0;w<e;w++){var N=t*e+w;if(R[N]==k){var B=E.K_[N];if(B==0)j.push(w,t);if(B==255)g.push(w,t)}}var $=c.B[c.g[0]],o=$.buffer;
d.uJ.Lc.Kn(o,e,p,E.rK,j,g);k=d.uJ.Hc(E.rK.Hh,E.rK.yf,E.K_);D++;if(D>=10){console.log("too many subdivisions");
break}}E.NQ=d.uJ.NK(E.rK,e,p,E.K_,E.gJ);E.E4=d.uJ.avY(E.jW,e,p,E.NQ.Hh,E.NQ.yf);E.Mm=[E.E4[0].slice(0),[]];
Z=Date.now()-X;X=Date.now()}var X=Date.now();if(y){E.Mm[0].set(E.E4[0]);var T=E.E4[1],i=E.Mm[1];for(var r=0;
r<T.length;r++)i[r]=T[r].slice(0);d.uJ.avf(E.NQ.Hh,e,p,E.NQ.yf,E.K_,E.i,E.Mm)}};F.Tm=function(){F.gb.call(this,[10,50],F.td,"tools/artb");
this.U8=null;this.fp=!1;this.Hr=null;this.oF=!1;this.aq2=null;this.Vm=100;this.mt=null;this.KU=0};F.Tm.prototype=new F.gb;
F.Tm.prototype.hE=function(E,y,c,e,p){this.Wh(c,E.a23,y,E.de)};F.Tm.ajI=function(E,y){var c=E[0],e=0,p=0;
if(c==0)p=-1;else if(c==1)e=1;else if(c==2)p=1;else e=-1;return[20/y.$H,E[1]+e*60/y.$H,E[2]+p*60/y.$H]};
F.Tm.prototype.vm=function(E,y,c,e,p){this.U8=E.Wp;this.KU=Date.now()};F.Tm.prototype.Hl=function(E,y,c,e){if(c.sJ!=this.id)return;
if(E==null||E.g.length!=1){this.At(E);return}var p=E.g[0],H=E.B[p],Z=H.add.artb;if(Z==null){this.At(E);
return}if(this.oF)return;if(Date.now()-this.KU>50){this.U8={};var X=["artboardBackgroundType","Clr"];
for(var N=0;N<X.length;N++)if(Z[X[N]])this.U8[X[N]]=JSON.parse(JSON.stringify(Z[X[N]]));var b=new iU(S.E.M,!0);
b.data={d:S.H.qq,f:this.id,Ss:this.U8};y.T(b)}var D=H.fQ(),j=d.A.S6(D).j,g=this.Hr=new hl(j,!0,!1,!1,!0,!1,3,!1);
g._F(E,c,!1);var R={j:[1,0],G:["M"]};for(var N=1;N<30;N++){var t=Math.PI*2*N/30;R.j.push(Math.cos(t),Math.sin(t));
R.G.push("L")}R.G.push("Z","M","L","M","L");R.j.push(-.5,0,.5,0,0,-.5,0,.5);var w=D.x+D.m/2,B=D.y+D.e/2,$=this.Vm*1.1,o=this.aq2=[w,D.y,D.x+D.m,B,w,D.y+D.e,D.x,B],T=[0,-$,$,0,0,$,-$,0],i=E.root.children;
E.N.Os=[];for(var N=0;N<4;N++){var r=new eq(o[N*2]+T[N*2],o[N*2+1]+T[N*2+1]),I=!1;for(var M=0;M<i.length;
M++){var H=i[M].a;if(H.add.artb==null)continue;var D=H.fQ();if(D.u6(r))I=!0}if(I){o[N*2]=1e9;continue}E.N.Os.push([N,o[N*2],o[N*2+1]])}};
F.Tm.prototype.disable=function(E,y,c,e,p){this.At(E)};F.Tm.prototype.At=function(E){if(this.Hr){this.Hr.clear(E);
this.Hr=null;E.N.Os=null}};F.Tm.prototype.yl=function(E,y,c,e,p){this.KU=Date.now();var H=E.Q.GV(p.x,p.y),Z=this.Hr;
if(Z){var X=new iU(S.E.v),b=Z.AW(null,H,E,p);if(b<9){this.oF=Z.yl(E,c,e,H,null,!0,p);return}else if(Z.FA(H)){X.f=F.mq;
X.data={d:"disabAuto"};y.T(X);var D=new iU(S.E.M);D.data={d:S.H.lg,f:F.mq,ae4:!0};y.T(D);return}else{var j=-1,g=E.N.Os;
for(var N=0;N<g.length;N++){var R=F.Tm.ajI(g[N],E.Q);if(eq.oG(H,new eq(R[1],R[2]))<R[0])j=g[N][0]}if(j!=-1){var t=E.B[E.g[0]].fQ(),w=t.clone(),B=(j==0||j==2?t.e:t.m)+this.Vm;
if(j==0||j==3)B=-B;if(j==0||j==2)t.y+=B;else t.x+=B;if(e.S(ct.Q3)){var $=new ir(0,0,E.m,E.e);X.f=F.sh;
X.data={d:jN.lz};y.T(X);F.pB.Ae(E,E.G$(null,E.g[0],null,!0),null,t.x-w.x,t.y-w.y);E.g=E.g.slice(E.g.length-1);
var o=F.Et.jX(E);if(o){var T=E.f6();T.data.w5=$;T.data.M6=o;T.data.Bs=E.g}}else this.Wh(E,t,y);return}}}this.mt=F.pB.pQ(E,H,c)};
F.Tm.prototype.Wh=function(E,y,c,e){if(e==null)e=0;var p=E.B.slice(0),H=[E.B.length+1],Z=E.N8();Z.v4(i4.get([1,16,0])+" "+(E.add.artd==null?1:E.root.children.length+1));
Z.add.lsct=kl.Sh;Z.ix(y);if(this.U8){var X=Z.add.artb,b=this.U8;for(var k in b)X[k]=b[k]}Z.ur="pass";
Z.Gc=24;if(e==0){if(E.add.artd||y.fr(new ir(0,0,E.m,E.e)).tj())p.push(E.eM());else p.unshift(E.eM())}else{var D=E.G$();
D.sort(function(w,B){return w-B});var j=F.DI.R6(E,D,p.length-1,!1,null,!1),g=j.pop(),R=j.pop();p=j.pop();
p.splice(E.B.length-D.length,0,E.eM())}p.push(Z);var t=new iU(S.E.v);t.f=F.sh;t.data={d:jN.l$,gr:p,Yi:H,xs:[1,16,2]};
c.T(t)};F.Tm.prototype.Lv=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y),Z=this.Hr,X=this.mt;if(Z){if(this.oF){Z.Lv(E,c,e,H)}else{var b=Z.YN(H,E.Q.O,null,p);
if(b==null)b="default";var k=new iU(S.E.M,!0);k.data={d:S.H.qR,gs:b};y.T(k)}}if(X){var D=this.T5(E,H,e,c);
E.N.Aq=d.A.S6(D);E.Ea=!0;F.gb.M0(p,D,E,c)}};F.Tm.prototype.JA=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y),Z=this.mt;
if(this.oF){this.Hr.JA(E,c,e,H);this.oF=!1;var X=d.A.xv(this.Hr.si()),b=jN.jB(X),k=E.B[E.g[0]],D=JSON.parse(JSON.stringify(k.add.artb));
D.artboardRect.v=b;var j=new iU(S.E.v,!0);j.f=F.sh;j.data={d:jN.qA,eP:D};y.T(j)}if(Z){var g=this.T5(E,H,e,c);
if(g.P()>20)this.Wh(E,g,y);E.N.Aq=null;E.Ea=!0;this.mt=null;E.N.Wi=[]}};F.Tm.prototype.T5=function(E,y,c,e){var p=this.mt,H=F.pB.pQ(E,y,e),Z=F.Hv.yR(p,H,c,!0);
p=Z[0];H=Z[1];return d.A.xv([p.x,p.y,H.x,H.y])};function hl(E,y,c,e,p,H,Z,X){this.BY=null;this.V8=E?E.slice(0):null;
this.PS=1;this.O8=4;this.vy=null;this.KY=null;this.YP=null;this.aW=-1;this.pp=null;this.auE=!1;this.azw=[];
for(var N=0;N<8;N++)this.azw.push(iu.amO(0,PIMG.rotate,-.5,-.5,-45-N*45));this.a7E=y;this.atJ=c;this.a8i=e;
this.aef=p;this.a0J=H;this.de=Z;this.a36=X==null?1:X}hl.prototype.a16=function(){return this.aW!=-1};
hl.prototype.si=function(){return this.V8.slice(0)};hl.prototype.Eg=function(E){this.V8=E};hl.prototype.ahP=function(){return this.xB(this.V8)};
hl.prototype.a7$=function(){return this.O8};hl.prototype.aDt=function(E){this.O8=E};hl.prototype.ER=function(E){if(E==null)E=this.V8;
if(this.O8==9)return this.vy;else return this.xB(E)[this.O8]};hl.prototype.a4y=function(E){if(this.O8==9)this.vy=E.clone();
else{var y=this.ER(),c=new jr(1,0,0,1,E.x-y.x,E.y-y.y);d.A.u(this.V8,c,this.V8)}};hl.prototype.Gd=function(E){this.PS=E};
hl.prototype.YN=function(E,y,c,e,p){var H=this.PN(null,E,y,e),Z;if(H==9)return"default";if(H==10){if(c)return null;
return!this.a7E?"move":null}if(H==-1||H==4)return null;if(H==11){var X=this.ER().DZ(E);if(p==null)p=Math.atan2(X.y,X.x);
Z=90-p*180/Math.PI;var b=Math.round(8*(Z/360));b=(b+8)%8;return this.azw[b]}else{var k=this.gZ(E,this.V8);
Z=[135,90,45,180,0,0,225,270,315][H]*Math.PI/180;var D=d.r.C0(this.V8);return hl.ah7(D[0],D[3],Z)}};
hl.ah7=function(E,y,c){var e=Math.atan2(-y,E);if(c)e+=c;var p="ew nesw ns nwse ew nesw ns nwse".split(" "),H=Math.round(8*(e/(2*Math.PI)));
H=(H+8)%8;return p[H]+"-resize"};hl.prototype.gZ=function(E,y){var c=d.r.Ub(d.r.C0(y)),e=new Float64Array(2);
d.r.C3(E.x,E.y,c,e);return new eq(e[0],e[1])};hl.prototype.FA=function(E){var y=this.gZ(E,this.V8);return 0<=y.x&&y.x<=1&&0<=y.y&&y.y<=1};
hl.prototype.yl=function(E,y,c,e,p,H,Z,X){this.auE=H;this.pp=e;var b=E.Q.O,k;if(this.V8==null)e=F.pB.pQ(E,e,y);
this.YP=e.clone();if(this.V8==null){if(X==null)X=0;var D=new jr;D.rotate(X);var j=D.dl(new eq(1,1));
this.YP.offset(j.x,j.y);var g=p==null?1:1/p,R=this.V8=[0,0,1,0,1,g,0,g];D.translate(e.x,e.y);d.A.u(this.V8,D,this.V8);
k=8}else{k=this.PN(c,e,b,Z);if(0<=k&&k<=8)this.YP=this.xB(this.V8)[k];if(k==9){this.O8=9;this.vy=e.clone()}}this.BY=this.V8.slice(0);
this.aW=k;this._F(E,y);this.KY=this.ER();return k!=-1};hl.prototype.AW=function(E,y,c,e){return this.PN(E,y,c.Q.O,e)};
hl.prototype.PN=function(E,y,c,e){var p=-1,H=this.xB(),Z=[0,2,6,8,1,3,5,7],X=e?F.Wo({Q:{O:c}},e):8*F.k1()/c,b=eq.oG(H[0],H[2]),k=eq.oG(H[0],H[6]),D=this.gZ(y,this.V8);
D.x*=b;D.y*=k;var j=new ir(0,0,b,k);j.r4(X,X);if(p==-1)if(eq.oG(this.ER(),y)<X)p=9;if(p==-1)for(var N=0;
N<Z.length;N++)if(eq.oG(H[Z[N]],y)<X)p=Z[N];if(p==-1&&j.u6(D)){if(Math.abs(D.y-0)<X)p=1;if(Math.abs(D.x-0)<X)p=3;
if(Math.abs(D.y-k)<X)p=7;if(Math.abs(D.x-b)<X)p=5}if(p==-1&&E&&E.S(ct.Q3))p=9;if(p==-1||this.de==4){if(this.FA(y)){if(this.a7E)p=10}else{var g=[3,.85][aw];
j.r4(g*X,g*X);p=j.u6(D)&&this.de!=3?11:10}}return p};hl.prototype.Lv=function(E,y,c,e,p){if(this.aW==-1)return;
this.pp=e;var H=c&&c.S(ct.zx),Z=c&&c.S(ct.Q3),X=c&&c.S(ct.Nc),b=E.Q.O,k=this.YP,D=this.aW,j=this.xB(),g=F.pB.pQ(E,k,y),R=F.pB.pQ(E,e,y),t,w;
if(D==9){var j=this.xB(),B=-1;for(var N=0;N<j.length;N++)if(eq.oG(j[N],R)*b<10)B=N;this.O8=B==-1?9:B;
this.vy=H?F.bu._K(g,R):R.clone()}else if(D==10){w=d.A.n7(this.BY);var $=w.x,o=w.y;w.offset(e.x-k.x,e.y-k.y);
if(this.ava()){w.x=Math.round(w.x);w.y=Math.round(w.y)}t=F.pB.Ih(E,w,y);var T=new jr(1,0,0,1,w.x-$+t[0],w.y-o+t[1]);
d.A.u(this.BY,T,this.V8)}else if(D==11){var i=this.ER(this.BY),r=i.DZ(e),I=i.DZ(k),M=Math.atan2(r.y,r.x),J=Math.atan2(I.y,I.x),T=new jr(1,0,0,1,-i.x,-i.y),P=Math.PI/12;
if(H)T.rotate(Math.round((J-M)/P)*P);else T.rotate(J-M);T.translate(i.x,i.y);d.A.u(this.BY,T,this.V8)}else{var n=H,x;
if(p&&!X)n=!n;if(this.a0J)n=!0;var L=this.BY,u=D==0||D==2||D==6||D==8;if(this.de==1){if(u)H=Z=X=!0}else if(this.de==2&&u&&this.auE!=!0)X=!0;
if(this.de==3)X=!1;else if(this.de==5){H=X=!0}if(this.a8i&&u&&X){var N=[0,0,2,0,0,0,6,0,4,0][D],C=-1,h=R.x,A=R.y;
if(H){var W=N+6&7,Q=N+10&7,l=hl.a0A(L[N],L[N+1],L[W],L[W+1],R.x,R.y),O=hl.a0A(L[N],L[N+1],L[Q],L[Q+1],R.x,R.y),z=l[2]<O[2]?l:O;
h=z[0];A=z[1];if(Z)C=l[2]<O[2]?W:Q}else if(Z)C=N+4&7;x=L.slice(0);if(C!=-1){var a=L[C],m=L[C+1],q=(L[N]+a)/2,K=(L[N+1]+m)/2;
x[C]=q-(h-q);x[C+1]=K-(A-K)}x[N]=h;x[N+1]=A}else if(u&&Z){var i=this.KY,U=i.x,f=i.y,Y=g.x-U,G=g.y-f,V=1,dF=1;
if(Math.abs(Y)>=1)V=(R.x-U)/Y;if(Math.abs(G)>=1)dF=(R.y-f)/G;if(n)V=dF=(V+dF)/2;var T=new jr;T.translate(-U,-f);
T.scale(V,dF);T.translate(U,f);x=L.slice(0);d.A.u(x,T,x)}else{if(this.ava()){R.x=Math.round(R.x);R.y=Math.round(R.y)}var s=[0,1,2,5,8,7,6,3],aH=s[(s.indexOf(D)+4)%8],dw=[];
for(var N=0;N<3;N++)for(var C=0;C<3;C++)dw.push(new eq(C/2,N/2));var i=this.KY,kO=this.gZ(R,L),hX=this.gZ(k,L),jF=Z&&(this.O8==4||this.O8==9)?this.gZ(i,L):dw[aH],gn=new jr,hM=new jr,V=(kO.x-jF.x)/(hX.x-jF.x);
if(V==0)V=1e-4;var dF=(kO.y-jF.y)/(hX.y-jF.y);if(dF==0)dF=1e-4;if(this.aef){V=Math.max(V,0);dF=Math.max(dF,0)}if(D==0||D==2||D==6||D==8){if(n)gn.scale(V,V);
else gn.scale(V,dF)}if(D==1||D==3||D==5||D==7){var ie=n,bN=X&&H;if(bN)ie=!1;if(D==1||D==7)gn.scale(ie?dF:1,bN?1:dF);
else gn.scale(bN?1:V,ie?V:1);if(this.atJ&&X){if(D==1||D==7)hM.E7=(kO.x-jF.x)/(kO.y-jF.y);else hM.J=(kO.y-jF.y)/(kO.x-jF.x)}}var T=new jr;
T.translate(-jF.x,-jF.y);T.concat(gn);T.concat(hM);T.translate(jF.x,jF.y);x=[0,0,1,0,1,1,0,1];d.A.u(x,T,x);
var z=d.r.C0(L);d.r.u(z,x)}if(hl.uK(x))this.V8=x}this._F(E,y);if(t)F.pB.lx(E,w,t)};hl.a0A=function(E,y,c,e,p,H){var Z=c-E,X=e-y,b=p-E,k=H-y,D=Z*Z+X*X,j=b*Z+k*X,g=j/D,R=E+g*Z,t=y+g*X,w=p-R,B=H-t;
return[R,t,Math.sqrt(w*w+B*B)]};hl.prototype.ava=function(){var E=this.V8;return Math.abs(E[1]-E[3])<1e-6&&Math.abs(E[2]-E[4])<1e-6||Math.abs(E[0]-E[2])<1e-6&&Math.abs(E[3]-E[5])<1e-6};
hl.uK=function(E){return d.A.axI(E)||d.A.axI([E[6],E[7],E[4],E[5],E[2],E[3],E[0],E[1]])};hl.prototype.JA=function(E,y,c,e){this.aW=-1;
this.pp=null;E.N.d2=null;E.N.Wi=[];E.Ea=!0};hl.prototype.Gu=function(E,y,c){var e=c.K$(E?E.Q.fb:0);if(e.x||e.y){var p=new jr(1,0,0,1,e.x,e.y);
d.A.u(this.V8,p,this.V8);this._F(E,y);return!0}return!1};hl.prototype.xB=function(E){if(E==null)E=this.V8;
var y=E[6]-E[0],c=E[7]-E[1],e=E[4]-E[2],p=E[5]-E[3],H=[E[0],E[1],E[2],E[3],E[0]+y/2,E[1]+c/2,E[2]+e/2,E[3]+p/2,E[6],E[7],E[4],E[5]],Z=[];
for(var N=0;N<3;N++){var X=N*4,b=H[X+0],k=H[X+1],D=H[X+2],j=H[X+3];Z.push(new eq(b,k));Z.push(new eq(b+(D-b)/2,k+(j-k)/2));
Z.push(new eq(D,j))}return Z};hl.prototype._F=function(E,y,c){if(E.N==null)return;if(c==null)c=!1;var e=this.PS,p=this.xB(),H=p[0],Z=p[2],X=p[6],b=p[8],k={G:[],j:[]};
if(e==0)E.N.Aq=k;else E.N.Vq=k;k.G.push("M","L","L","L","Z");k.j.push(H.x,H.y,Z.x,Z.y,b.x,b.y,X.x,X.y);
var D=this.a36;if(D>1){E.N.Jb=JSON.parse(JSON.stringify(k));var j=Z.DZ(H),g=X.DZ(H),R=b.DZ(Z),t=b.DZ(X);
for(var N=1;N<D;N++){k.G.push("M","L","M","L");var w=N/D;k.j.push(H.x+j.x*w,H.y+j.y*w,X.x+t.x*w,X.y+t.y*w);
k.j.push(H.x+g.x*w,H.y+g.y*w,Z.x+R.x*w,Z.y+R.y*w)}}E.Q.ZC=new ir(0,0,eq.oG(p[0],p[2]),eq.oG(p[0],p[6]));
if(this.aW!=-1&&this.aW<9&&this.pp){var B=E.Q.qW(this.pp.x,this.pp.y);F.gb.M0(B,E.Q.ZC,E,y)}if(!c){var $=[];
if(e==0)E.N.AX=$;else E.N.s$=$;for(var N=0;N<p.length;N++)if(N!=4)$.push(p[N].x,p[N].y);var o=this.ER();
$.push(o.x,o.y)}E.Ea=!0};hl.prototype.clear=function(E){E.Q.ZC=null;E.N.d2=null;E.N.Aq=null;E.N.Vq=null;
E.N.Jb=null;E.N.AX=[];E.N.s$=[];E.Ea=!0};function dW(E){this.Bh=null;this.aW=-1;this.vs=null;this.a2K=null;
this.Hn=null;this.xS=-1;this.ae2=null;this.apE(E)}dW.prototype.Ib=function(){return JSON.parse(JSON.stringify(this.Bh))};
dW.prototype.apE=function(E){this.Bh=JSON.parse(JSON.stringify(E))};dW.prototype.any=function(E){this.xS=E};
dW.prototype.FA=function(E){return!0};dW.prototype.YN=function(E,y,c,e){var p=this.PN(E,y,e);if(p==-1)return"default";
return"pointer"};dW.prototype.yl=function(E,y,c,e,p,H,Z){if(this.xS!=-1)return!0;this.aW=this.PN(e,E.Q.O,Z);
var X=d.Bh.lq(this.Bh),b=d.My.Dr(X,e),k=0<b[0]&&b[0]<1&&0<b[1]&&b[1]<1;this.vs=k?b:null;this.a2K=JSON.stringify(X);
this.ae2=JSON.stringify(this.Bh);this.Hn=e;return this.aW!=-1||k};dW.prototype.PN=function(E,y,c){var e=c?F.Wo({Q:{O:y}},c)*2:20*F.k1()/y,p=this.Bh,H=dW.a7V(p),Z=-1;
if(H){Z=d.A.Mr(H,E.x,E.y,e);if(Z!=-1)Z+=1e6}else{var X=d.Bh.lq(p);Z=d.A.Mr(X[3],E.x,E.y,e);if(Z!=-1&&this.G8(X,Z)==null)Z=-1}return Z};
dW.prototype.Lv=function(E,y,c,e){if(this.xS!=-1)return;var p=this.Bh,H=this.aW,Z=this.vs,X=JSON.parse(this.a2K),b=X[0],k=X[1],D=X[3];
if(H>=1e6){var j=p.warpStyle.v.warpStyle,g=d.Bh.EK(p);if(j=="warpCylinder"){this.Bh=p=JSON.parse(this.ae2);
var R=F.Y.Rt(p.warpValues),t=(R[2]-R[0])/(R[1]-R[3]),w=R[4]*t*g.e,B=R[5]*t*g.e,$=e.x-this.Hn.x,o=e.y-this.Hn.y;
R[0]=g.x;R[1]=g.y+g.e;R[2]=g.x+g.m;R[3]=g.y;H-=1e6;if(H==0){R[0]+=$;R[1]+=o}if(H==1){R[2]+=$;R[3]+=o}if(H==2){w+=2*o;
B+=2*o}if(H==3){B+=2*o}if(H==4){R[6]=Math.max(0,Math.min(1,R[6]-2*$/g.m))}var T=d.A.n7(R.slice(0,4)),i=T.m/g.m,r=T.e/g.e;
R[4]=w/T.m;R[5]=B/T.m;p.warpValues=F.Y.Zd(R);var I=new jr;I.translate(-g.x,-g.y);I.scale(i,r);I.translate(T.x,T.y);
if(H<4)return I}else{var M=p.warpRotate.v.Ornt,J=M=="Vrtc",P=d.Bh.avl[j],n=J?-e.x/g.m:-e.y/g.e;n+=P[1];
if(P[1]>.5)n=-n;n/=P[2];var i=g.m/g.e;if(J)i=1/i;if(P[3])n/=i;p.warpValue.v=100*Math.max(-1,Math.min(1,n))}}else if(H!=-1){var x=[H],$=e.x-D[H*2],o=e.y-D[H*2+1];
if(b*k>16){var L=this.G8(X,H);if(L[0]==0){var u=Math.floor(H/b),C=H-u*b;if(C>0)x.push(H-1);if(C<b-1)x.push(H+1);
if(u>0)x.push(H-b);if(u<k-1)x.push(H+b)}}for(var N=0;N<x.length;N++){D[x[N]*2]+=$;D[x[N]*2+1]+=o}d.Bh.ta(p,X)}else if(Z){d.My.a1L(X,Z[0],Z[1],e.x-this.Hn.x,e.y-this.Hn.y);
d.Bh.ta(p,X)}};dW.prototype.JA=function(E,y,c,e){var p=this.xS;this.vs=null;this.xS=-1;if(p!=-1){var H=d.Bh.lq(this.Bh),Z=d.My.Dr(H,e);
if(p==0||p==1)d.My.split(H,0,Z[0]);if(p==0||p==2)d.My.split(H,1,Z[1]);d.Bh.ta(this.Bh,H)}E.Ea=!0;return p!=-1};
dW.prototype.Gu=function(E,y,c){var e=c.K$();if(e.x||e.y){var p=new jr(1,0,0,1,e.x,e.y);d.A.u(this.V8,p,this.V8);
this._F(E)}};dW.prototype.G8=function(E,N){var y=E[0],c=E[1],e=this.aW,p=Math.floor(e/y),H=e-p*y,Z=e%3,X=e%3,b=Z==0&&X==0,p=Math.floor(N/y),H=N-p*y,Z=H%3,X=p%3;
if(Z!=0&&X!=0)return null;if(Z==0&&X==0)return[0];else{var k=0;if(X==0)k=Z==1?N-1:N+1;if(Z==0)k=X==1?N-y:N+y;
if(y*c>16){var D=e==N||e==N+1||e==N-1||e==N+y||e==N-y;if(b&&(D||e==N+2||e==N-2||e==N+2*y||e==N-2*y)){}else if(!b&&D){}else return null}return[1,k]}};
dW.a7V=function(E,y){var y=E.warpStyle.v.warpStyle,e;if(y=="warpCustom"||y=="warpNone")return null;var c=d.Bh.lq(E);
if(y=="warpCylinder"){var p=E.warpValues.v;e=[0,1,1,0,.5,0,.5,1,.75-.25*p[6].v,.5]}else{var H=E.warpRotate.v.Ornt,Z=d.Bh.avl[y];
e=H=="Hrzn"?[Z[0],Z[1]]:[Z[1],Z[0]]}d.My.u(c,e,new ir(0,0,1,1));return e};dW.prototype._F=function(E,y){var c=this.Bh,e=c.warpStyle.v.warpStyle,p=d.Bh.lq(c),H=p[0],Z=p[1],X=p[3],b=E.N.Vq={G:[],j:[]},k=E.N.s$=[],D=E.N.J_=[],j=this.aW;
if(e=="warpCustom")for(var g=0;g<Z;g++)for(var R=0;R<H;R++){var N=g*H+R,t=this.G8(p,N);if(t==null)continue;
var w=X[2*N],B=X[2*N+1],$=D;if(t[0]==0)$=N==j&&H*Z>16?D:k;else{var o=t[1];b.G.push("M","L");b.j.push(w,B,X[2*o],X[2*o+1])}$.push(w,B)}else{var T=dW.a7V(c);
if(T)for(var N=0;N<T.length;N++)k.push(T[N])}for(var g=0;g+1<Z;g+=3)for(var R=0;R+1<H;R+=3){b.G.push("M","C","C","C","C");
var N=g*H+R,i=N+H+H,r=[N,N+1,N+2,N+3,N+H+3,i+3,i+H+3,i+H+2,i+H+1,i+H,i,N+H,N];for(var N=0;N<r.length;
N++){var w=X[r[N]*2],B=X[r[N]*2+1];b.j.push(w,B)}}var I=[],M=[];function J(P,R,L){for(var r=0;r<=L;r++){M.push(r==0?"M":"L");
if(P==0)I.push(R,r/L);else I.push(r/L,R)}}if(y)y=d.My.Dr(p,y);for(var P=0;P<2;P++){var n=p[2][P],x=P==0?H:Z,L=x*5;
for(var u=1;u<x;u++){var C=Math.floor((u-1)/3),h=u-(1+C*3);if(h==0)continue;var R=n[C]+h/3*(n[C+1]-n[C]);
J(P,R,L)}var A=this.xS;if(y&&A!=-1&&(A==0||A-1==P))J(P,y[P],L)}d.My.u(p,I,new ir(0,0,1,1));d.A.concat(b,{j:I,G:M});
E.Ea=!0};dW.prototype.clear=function(E){E.N.Vq=null;E.N.s$=[];E.N.J_=[];E.Ea=!0};function dV(){this.t7=!1;
this.r2=!1;this.adX=!1;this.a2N=!1;this.ve=!1;this.$z=!1;this.NE=0;this.pw=0}dV.prototype.yl=function(E){this.t7=!0;
this.r2=!1;this.ve=E.S(ct.zx);this.$z=E.S(ct.Q3);this.NE=this.ve?0:1;this.pw=this.$z?0:1};dV.prototype.Gu=function(E){var y=this.a2N=E.S(ct.zx),c=this.adX=E.S(ct.Q3);
if(this.r2){if(this.NE==0&&!y)this.NE++;if(this.NE==1&&y)this.NE++;if(this.pw==0&&!c)this.pw++;if(this.pw==1&&c)this.pw++}};
dV.prototype.Lv=function(){this.r2=!0};dV.prototype.JA=function(){this.t7=!1};dV.prototype.kL=function(N){if(N==0)return this.t7?this.$z:this.adX;
if(N==1)return this.r2?this.pw==2:!1};dV.prototype.Va=function(N){if(N==0)return this.t7?this.ve:this.a2N;
if(N==1)return this.r2?this.NE==2:!1};F.History=function(){F.gb.call(this,"History",F.yW);this.xl=!0;
this.atI=0};F.History.prototype=new F.gb;F.History.prototype.hE=function(E,y,c,e){c.hb=!0;if(E.d=="h_itemchange"){if(E.index<c.PT)for(var N=c.PT;
N>E.index;N--)this.T1(c);if(E.index>c.PT)for(var N=c.PT;N<E.index;N++)this.MA(c)}if(E.d=="h_stepfwd")this.MA(c);
if(E.d=="h_stepbck")this.T1(c);if(E.d=="h_undoredo"){var p=this.xl||this.atI!=c.PT;if(p){this.T1(c);
p=!1}else{this.MA(c);p=!0}this.xl=p;this.atI=c.PT}if(E.d=="h_clear"){if(E.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
c.history=[new fN([1,0],null)];c.PT=0}else this.xl=!0};F.History.prototype.T1=function(E){if(E.PT==0)return;
var y=E.history[E.PT];y.f.GW(y.data,E);E.PT--};F.History.prototype.MA=function(E){if(E.PT==E.history.length-1)return;
var y=E.history[E.PT+1];y.f.Rn(y.data,E);E.PT++};F.DI=function(){F.gb.call(this,"Layers",F.sh);this.bE=null};
F.DI.prototype=new F.gb;F.DI.prototype.hE=function(E,y,c,e,p){this.bE=y;var H=E.d,Z=E.a!=null?E.a:c.g.length!=0?c.g[0]:c.B.length-1,X=c.B[Z];
c.ac=!0;var b=e.S(ct.Q3),k=e.S(ct.zx),D=e.S(ct.Nc);if(H==jN.wn&&c.i==null&&(c.g.length>1||!c.iR(!1)))H=jN.lz;
if(H==jN.nU){var j=new fN([6,33],this),g=X.uY()?["pass"].concat(cg.Fn):cg.Fn,R=g[E.Hx],t=E.a!=null?[E.a]:c.g,w=JSON.stringify(t),B=[];
for(var N=0;N<t.length;N++)B.push(c.B[t[N]].ur);j.data={d:H,CT:w,m7:B,Hx:R};c.QY(j);this.Rn(j.data,c);
this.track(aW.DY("Md",{t:"enum",v:{BlnM:cg.KH(R)}}))}if(H==jN.Bt){var j,$=c.f6(),t=E.a!=null?[E.a]:c.g,w=JSON.stringify(t);
if($&&$.data&&$.data.d==H&&$.data.CT==w)j=$;else{var o=aW.DY("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(o);var B=[];for(var N=0;N<t.length;N++)B.push(c.B[t[N]].opacity);j=new fN([6,32],this);j.data={d:H,CT:w,m7:B,Hx:E.Hx,JM:o.hG};
c.QY(j)}j.data.Hx=E.Hx;j.data.JM.T.v.Opct.v.val=Math.round(E.Hx*100/255);this.Rn(j.data,c)}if(H==jN.zy){if(X.add.iOpa==null)X.add.iOpa=255;
var j,$=c.f6();if($&&$.data&&$.data.d==H&&$.data.a==Z)j=$;else{j=new fN("Fill Opacity Change",this);
j.data={d:H,a:Z,m7:X.add.iOpa,Hx:E.Hx};c.QY(j)}j.data.Hx=E.Hx;this.Rn(j.data,c)}if(H==jN.Bu){var T=E.Hx,i=E.a!=null?[E.a]:c.g.slice(0),r=[],I=[],j;
for(var M=0;M<i.length;M++){var J=c.B[i[M]];if(J.add.lspf==null)J.add.lspf=0;var B=J.add.lspf,R=B;for(var N=0;
N<T[0].length;N++){var P=T[1][N],n=1<<P;if((R&n)==0&&T[0][N])R^=n;else if((R&n)!=0&&!T[0][N])R^=n}r.push(B);
I.push(R)}var $=c.f6(),t=JSON.stringify(i);if($&&$.data&&$.data.d==H&&JSON.stringify($.data.CT)==t){j=$;
j.data.Hx=I}else{var j=new fN([6,57,1],this);j.data={d:H,CT:t,m7:r,Hx:I};c.QY(j)}this.Rn(j.data,c)}if(H==jN.mj){var x="----",L=E.MQ,R=null;
for(var N=0;N<hZ.Yo.UB.length;N++)if(X.add[hZ.Yo.UB[N]])x=hZ.Yo.UB[N];var u=X.add[x];if(L=="TySh")R=gV.V1(50,50,p.c2);
var j=new fN("Layer Type",this);j.data={d:H,a:Z,as3:[x,u],MQ:[L,R]};c.QY(j);this.Rn(j.data,c)}if(H==jN.b0){var i=[];
if(b){var C=c.f6(),h=C?C.data:null;if(C!=null&&C.f==this&&h.d==jN.b0&&h.CT.length!=1){var A=new iU(S.E.v);
A.f=F.yW;A.data={d:"h_stepbck"};y.T(A);if(h.a==Z)return}var W=c.root.f$(Z),Q=W,l=[E.a];while(Q.parent!=c.root){l.push(Q.parent.index);
Q=Q.parent}for(var N=0;N<c.B.length;N++){var O=c.B[N],Q=c.root.f$(N),z=l.indexOf(N)!=-1?!0:O.OQ()&&W.depth<Q.depth;
if(z!=O.OQ())i.push(N)}}else if(E.CT)i=E.CT;else{i.push(Z);var a=c.B[Z].OQ(),o={tT:a?"hide":"show",hG:{classID:a?"Hd":"Shw",null:{t:"VlLs",v:[aW.G6("Lyr",!0)]}}};
this.track(o)}var j=new fN("Layer visibility",this,!0);j.data={d:H,CT:i,a:Z};c.QY(j);this.Rn(j.data,c)}if(H==jN.R5){if(p.sJ==F.td){var m=new iU(S.E.M);
m.data={d:S.H.lg,f:F.mq};y.T(m)}var q=E.aqn,K=E.yu,Y,escape=!1,G=!1;if(E.bd){if(D&&(K==0||K==1||K==2)){var U=0;
if(k)U++;if(b)U+=2;var f=new iU(S.E.v,!0);f.f=F.mW;f.data={d:"fromlayer",Gm:[E.a,K,U]};y.T(f);return}}var o={tT:"select",hG:{classID:"null",MkVs:{t:"bool",v:!1}}};
c.arE();if(e.S(ct.Nc)||E.ID==0){var V=c.g.indexOf(Z);if(V==-1)c.g.push(Z);else if(c.g.length>1){if(E.ID!=0)c.g.splice(V,1)}c.g.sort(function(j,aa){return j-aa});
o.hG.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};Y=Z}else if(k&&!b&&K>0){H=K==1?jN.Dd:K==2?jN.Su:jN.jG;
escape=!0}else if((k||E.ID==1)&&c.g.length>0){var dF=Math.min(Z,c.g[0]),s=Math.max(Z,c.g[c.g.length-1]);
c.g=[];for(var N=dF;N<=s;N++)if(c.B[N].add.lsct!=kl.vp)c.g.push(N);o.hG.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
Y=Z}else{Y=Z;if(Z>=c.B.length)return;var O=c.B[Z];if(O&&O.uY()&&E.an6)O.add.lsct=kl.Sh;else if(c.g.length==1&&c.g[0]==Z&&Math.max(0,K)==O.p6){G=!0;
c.ac=!1}if(!G){c.g=[Z];c.BJ()}}if(!G){if(Y!=null&&Y<c.B.length){o.hG.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:c.B[Y].getName()}}]},this.track(o)}if(!escape){console.log("no escape");
if(c.g.length==1){var aH=c.g[0];for(var N=0;N<c.B.length;N++){if(N==aH)continue;var J=c.B[N];J.p6=0;
J.EL=!1}var X=c.B[aH];if(K==2){X.EL=!X.EL;c.zG=[]}else if(X){X.p6=K<=0?0:K}}else for(var N=0;N<c.B.length;
N++){var J=c.B[N];J.p6=0;J.EL=!1}c.RT=null;c.hb=!0}}if(E.bd&&b){if((K==1||K==3)&&q!=null){var f=new iU(S.E.v,!0);
f.f=F.fE;f.data={d:"mskView",b:q!=0?0:k?1:2};y.T(f)}else{this.hE({d:jN.KW,a:E.a},y,c,e,p)}}}if(H==jN.Dd||H==jN.jG){var dw=H==jN.Dd,kO=dw?X.Nb():X.kP(c).F;
if(kO==null)return;var j=new fN(kO.isEnabled?dw?[6,15]:[6,42]:dw?[6,14]:[6,41],this);j.data={d:H,a:Z};
c.QY(j);this.Rn(j.data,c)}if(H==jN.Su){var kO=X.add.vmsk;if(kO==null)return;var j=new fN(kO.isEnabled?[6,17]:[6,16],this);
j.data={d:H,a:Z};c.QY(j);this.Rn(j.data,c)}if(H==jN.atk){var hX=X.add.lsct==kl.Sh?kl.ze:kl.Sh,Q=c.root.f$(c.B.indexOf(X)),hM=!1;
if(e.S(ct.Nc)){var jF=Q.parent;for(var N=0;N<jF.children.length;N++){var gn=jF.children[N].a;if(gn.uY())gn.add.lsct=hX}}else X.add.lsct=hX;
for(var N=0;N<c.g.length;N++){var ie=c.g[N];if(Q.qM<ie&&ie<Q.index)hM=!0}if(hM)c.g=[Q.index];c.hb=!0}if(H==jN.KW){if(!c.Fd(Z))return;
var j=new fN(X.av?[6,19]:[6,18],this);j.data={d:H,a:Z};c.QY(j);if(E.Hx==null||E.Hx!=X.av)this.Rn(j.data,c)}if(H==jN.a8z){if(X.rD())X.Gc-=32;
else X.Gc+=32;c.hb=!0}if(H==jN.YK||H==jN.AR){var j;if(H==jN.YK)j=new fN(X.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(H==jN.AR)j=new fN(X.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);j.data={d:H,a:Z};c.QY(j);this.Rn(j.data,c)}if(H==jN.Ck||H==jN.y$){var aH=E.index,j;
if(H==jN.Ck)j=new fN(X.add.lmfx[cb.zt[aH[0]]].v[aH[1]].v.enab.v?[6,30,0]:[6,29],this);if(H==jN.y$)j=new fN(X.add.SoLd.filterFX.v.filterFXList.v[aH].v.enab.v?[6,44]:[6,43],this);
j.data={d:H,a:Z,index:E.index};c.QY(j);this.Rn(j.data,c)}if(H==jN._7){if(E.src==E.Tt)return;var bN=c.B[E.src],kd=c.B[E.Tt],i7=bN.add.lmfx?JSON.stringify(bN.add.lmfx):"",dn=kd.add.lmfx?JSON.stringify(kd.add.lmfx):"";
if(kd.add.lmfx==null){kd.add.lmfx=JSON.parse(cb.default);for(var N=0;N<cb.order.length;N++)kd.add.lmfx[cb.zt[N]]={t:"VlLs",v:[]}}if(E.U5==null){kd.add.lmfx=JSON.parse(i7);
if(!b)delete bN.add.lmfx}else{var ew=E.U5[0],e4=cb.zt[ew];if(cb.ad6.indexOf(cb.order[ew])==-1)kd.add.lmfx[e4].v=[];
kd.add.lmfx[e4].v.push(bN.add.lmfx[e4].v[E.U5[1]]);if(!b)bN.add.lmfx[e4].v.splice(E.U5[1],1)}var eE=bN.add.lmfx?JSON.stringify(bN.add.lmfx):"",jc=kd.add.lmfx?JSON.stringify(kd.add.lmfx):"";
if(!kd.rD())kd.Gc+=32;var j=new fN("Move Layer Styles",this);j.data={d:H,Vu:E.src,dJ:E.Tt,ags:i7,aDg:dn,a2H:eE,ae3:jc};
c.QY(j);this.Rn(j.data,c)}if(H==jN.tR){if(E.src!=null)Z=E.src;var J=c.B[Z],ft=JSON.stringify(J.add.SoLd),bd=JSON.parse(ft),iB=bd.filterFX.v.filterFXList.v;
iB.splice(E.U5,1);var j=new fN([6,53],this);j.data={d:jN.R0,JF:[{Z3:Z,Tb:[ft,JSON.stringify(bd)]}]};
c.QY(j);this.Rn(j.data,c)}if(H==jN.arC){var cG=b,bN=c.B[E.src],kd=c.B[E.Tt],bT=[];if(bN!=kd&&kd.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(bN==kd&&!cG&&E.U5==E.ds)return;if(bN==kd&&E.U5==-1)return;var g$=bN.kP(c),ft=JSON.stringify(bN.add.SoLd),bd=JSON.parse(ft),iB=bd.filterFX.v.filterFXList.v;
if(bN==kd){iB.splice(E.ds,0,iB[E.U5]);if(!cG)iB.splice(E.U5+(E.U5<E.ds?0:1),1);bT.push({Z3:E.src,Tb:[ft,JSON.stringify(bd)]})}else if(E.U5==-1){var hU=bd.filterFX;
if(!cG){delete bd.filterFX;bT.push({Z3:E.src,Tb:[ft,JSON.stringify(bd)],Jd:[g$,null]})}var ah=kd.p3()?kd.kP(c):null,co=cc.apz(g$),im=JSON.stringify(kd.add.SoLd),hb=JSON.parse(im);
hb.placed.v=co.id;hb.filterFX=hU;bT.push({Z3:E.Tt,Tb:[im,JSON.stringify(hb)],Jd:[ah,co]})}else{var dI=iB[E.U5];
if(!cG){iB.splice(E.U5,1);bT.push({Z3:E.src,Tb:[ft,JSON.stringify(bd)]})}var im=JSON.stringify(kd.add.SoLd),hb=JSON.parse(im);
if(hb.filterFX==null)hb.filterFX=cN.z3();var bw=hb.filterFX.v.filterFXList.v;bw.splice(E.ds,0,dI);var fb={Z3:E.Tt,Tb:[im,JSON.stringify(hb)]};
if(!kd.p3()){var co=cc.aBa(kd.add.SoLd.placed.v);fb.Jd=[null,co]}bT.push(fb)}var j=new fN([6,52],this);
j.data={d:jN.R0,JF:bT};c.QY(j);this.Rn(j.data,c)}if(H==jN.JP){var kO=X.Nb(),j=new fN(kO.PJ?[6,26]:[6,25],this);
j.data={d:H,a:Z};c.QY(j);this.Rn(j.data,c);this.track({tT:"set",hG:{classID:"setd",null:{t:"obj ",v:[aW.G6("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:kO.PJ}}}}})}if(H==jN.Fs){var kO=X.add.vmsk,j=new fN(kO.PJ?[6,28]:[6,27],this);
j.data={d:H,a:Z};c.QY(j);this.Rn(j.data,c)}if(H==jN._l){var j=new fN("Variables / Datasets",this),iG=JSON.stringify([c.NC,c.PH]);
if(iG==E.b)return;j.data={d:H,alK:iG,a19:E.b};c.QY(j);this.Rn(j.data,c)}if(H==jN.v7){var dy=[],j;for(var N=0;
N<c.g.length;N++){var M=c.g[N],O=c.B[M];if(O.add.vogk)dy.push(M,JSON.stringify(O.add.vogk))}for(var N=0;
N<c.zG.length;N++){var M=c.zG[N],O=c.gA[M];if(O.add.vogk)dy.push(-1-M,JSON.stringify(O.add.vogk))}d.gM.adb(c,E.b,E.a2l);
var kp=[];for(var N=0;N<c.g.length;N++){var M=c.g[N],O=c.B[M];if(O.add.vogk)kp.push(M,JSON.stringify(O.add.vogk))}for(var N=0;
N<c.zG.length;N++){var M=c.zG[N],O=c.gA[M];if(O.add.vogk)kp.push(-1-M,JSON.stringify(O.add.vogk))}var $=c.f6();
if($&&$.data&&$.data.d==H){var gw=!0;for(var N=0;N<dy.length;N+=2)if(dy[N]!=$.data.h0[N])gw=!1;if(gw){j=$;
j.data.uv=kp}}if(j==null){var j=new fN([12,91,1],this);j.data={d:H,h0:dy,uv:kp};c.QY(j)}this.Rn(j.data,c)}if(H==jN.qA){var dR=JSON.stringify(X.add.artb),fT=JSON.stringify(E.eP),j;
c.B[Z].add.artb=JSON.parse(fT);var gA=new ir(0,0,c.m,c.e),by=F.Et.Mo(c),$=c.f6();if($&&$.data&&$.data.d==H&&$.data.a==Z){j=$;
j.data.eP=fT}if(j==null){var j=new fN("Editing Artboard",this);j.data={d:H,a:Z,apT:dR,eP:fT,w5:gA};c.QY(j)}j.data.M6=by;
this.Rn(j.data,c)}if(H==jN.Me){var kp=c.cB.slice(0),fv=c.dL.slice(0),d4=c.i,fg=c.i,z=c.Q.V.slice(0);
if(E.s6=="seltochannel"){var aC=E.Gm[0],bu=kp[aC]=kp[aC].clone(),Q=d.c7.H0(c.i,bu,E.Gm[1]);bu.channel=Q.channel;
bu.rect=Q.rect}if(E.s6=="fromAction"){var hj=E.b.tT,jg=E.b.hG;if(hj=="make"||hj=="duplicate"){var cm=kp.length,db=!1,eM=!1;
if(c.xn())cm--;var bz=new jN.W$;bz.name="Alpha "+(cm+1);if(hj=="make"){var de=jg.Nw.v;bz.color=0;fv=[cm];
bz.bY=!0;bz.Ku=de.Opct.v;if(de.Nm)bz.name=de.Nm.v;if(de.classID=="SCch"){db=!0;fg=null;bz.KO=1}for(var N=0;
N<c.cB.length;N++)c.cB[N].bY=!1;z=[0,0,0]}else{var O=c.B[c.g[0]],eb=O.p6==1?O.Nb():O.p6==3?O.kP(c).F:null,k8=jg.null.v[0].v;
if(jg.Nm)bz.name=jg.Nm.v;if(k8.keyID=="fsel")db=!0;else if(eb){bz.channel=eb.channel.slice(0);bz.rect=eb.rect.clone();
bz.color=eb.color}else{var hc=F.XY.arP(c);fg=F.XY.az8(c,hc);bz.color=0;bz.rect=fg.rect;bz.channel=fg.channel}}if(db){bz.color=0;
if(c.i){bz.rect=c.i.rect.clone();bz.channel=c.i.channel.slice(0)}if(eM){bz.color=255-bz.color;d.Ub(bz.channel)}}kp.splice(cm,0,bz)}else if(hj=="delete"){if(X&&X.Nb()&&X.p6==1){this.hE({d:jN.z0},y,c,e,p);
return}var bg=c.dL;bg.sort(function(j,aa){return aa-j});if(bg.length==0)return;for(var N=0;N<bg.length;
N++)kp.splice(bg[N],1);fv=[];z=[1,1,1]}else if(hj=="show"||hj=="hide"){var k5=jg.null.v,e5=null,j6=!1;
for(var N=0;N<k5.length;N++){var gK=k5[N].v[0].v,aJ=gK.enum;if(aJ=="Trgt"){if(kp[fv[0]]==null)continue;
kp[fv[0]]=kp[fv[0]].clone();kp[fv[0]].bY=hj=="show";j6=!0}else{var aC=["Rd","Grn","Bl"].indexOf(aJ);
if(e5==null)e5=c.Q.V.slice(0);e5[aC]=hj=="show"?1:0}}if(e5){var A=new iU(S.E.v,!0);A.f=F.G3;A.data={d:"setcls",V:e5};
y.T(A);if(!j6)return}}}if(E.s6=="rnm"){kp[E.h2]=kp[E.h2].clone();kp[E.h2].name=E.name}var j=new fN("Channel Edit",this);
j.data={d:H,h0:c.cB.slice(0),rw:c.dL.slice(0),uv:kp,px:fv,Mb:d4,Yi:fg,ahh:c.Q.V.slice(0),ajC:z};this.Rn(j.data,c);
c.QY(j)}if(H==jN.l$){var ic=new ir(0,0,c.m,c.e),j=new fN(E.xs,this);j.data={d:jN.l$,wO:c.B.slice(0),gr:E.gr,k7:c.g.slice(0),Bs:E.Yi};
c.QY(j);this.Rn(j.data,c);var gk=F.Et.jX(c);if(gk){j.data.w5=ic;j.data.M6=gk}}if(H==jN.iI){var hu=c.G$(null,E.a),e7=1e10;
if(hu.length==0)return;if(c.B.length==hu.length){alert("Project must have at least 1 layer");return}var gQ=[];
for(var N=0;N<c.B.length;N++)if(hu.indexOf(N)==-1)gQ.push(c.B[N]);for(var N=0;N<hu.length;N++)e7=Math.min(e7,hu[N]);
e7=Math.max(e7-1,0);while(gQ[e7].name=="</Layer group>")e7++;this.track({tT:"delete",hG:{classID:"Dlt",null:aW.G6("Lyr",!0)}});
var gA=new ir(0,0,c.m,c.e),j=new fN([6,31],this);j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:[e7]};
c.QY(j);this.Rn(j.data,c);var by=F.Et.Mo(c);if(by){j.data.M6=by;j.data.w5=gA;F.Et.jX(c)}}if(H==jN.Kd){if(!e.S(ct.zx))return;
var j=new fN("Switch Layer Link",this);j.data={d:H,a:E.a};c.QY(j);this.Rn(j.data,c)}if(H==jN.fs){var bg=E.al$?E.al$:c.g,a2=0,cO=!1;
if(bg.length==0)return;if(bg.length==1&&c.B[bg[0]].Y5==0){alert(i4.get([15,7,5]));return}var gU=[];for(var N=0;
N<c.B.length;N++){var kv=c.B[N].Y5;gU.push(kv);a2=Math.max(a2,kv)}var hs=-1,ai=-1;for(var N=0;N<bg.length;
N++){var kv=c.B[bg[N]].Y5;if(kv==0)cO=!0;else if(hs==-1||hs==kv)hs=kv;else ai=kv}if(!cO)for(var N=0;
N<bg.length;N++)c.B[bg[N]].Y5=0;else if(hs!=-1&&ai==-1)for(var N=0;N<bg.length;N++)c.B[bg[N]].Y5=hs;
else for(var N=0;N<bg.length;N++)c.B[bg[N]].Y5=a2+1;var ky=[];for(var N=0;N<c.B.length;N++){var kv=c.B[N].Y5;
if(ky[kv]==null)ky[kv]=0;ky[kv]++}for(var N=0;N<c.B.length;N++){var kv=c.B[N].Y5;if(ky[kv]==1)c.B[N].Y5=0}var c0=gU;
gU=[];for(var N=0;N<c.B.length;N++){var kv=c.B[N].Y5;gU.push(kv);a2=Math.max(a2,kv)}var j=new fN(cO?[6,54,0]:[6,54,1],this);
j.data={d:jN.fs,a3n:c0,axk:gU};c.QY(j);this.Rn(j.data,c)}if(H==jN.lz&&(E.a!=null||c.g.length!=0)||H==jN.cs){var aQ=c.DC(H==jN.lz?E.a:Z,null,E.a67),ec;
if(H==jN.cs){var J=aQ[0],hj=J.add.SoLd.Idnt.v,hW=c.fB(hj).clone();J.add.SoLd.Idnt.v=hW.pf=cc.Mw()+hj.slice(8);
c.add.lnk2.push(hW)}if(H==jN.lz){var di={tT:"duplicate",hG:{classID:"null",null:aW.G6("Lyr",!0)}};if(E.RK){aQ[aQ.length-1].v4(E.RK);
di.Nm={t:"TEXT",v:E.RK}}this.track(di);E.a2v=E.a}H=jN.f2;E.B=aQ;E.I4=c;E.UH=c}if(H==jN.f2){var er,fe,eu=E.I4,gc=E.UH,iM=0,dL=0,jS=eu.Z1(),f_=!1,hK,fu=0,gh=0;
if(eu!=gc){console.log("ADDLAYERS different projs");var er=new ir(0,0,eu.m,eu.e),fe=new ir(0,0,gc.m,gc.e),iF=[],g6=[],be=new ir;
for(var N=0;N<E.B.length;N++){var J=E.B[N];be=be.uN(J.rect);if(J.add.SoLd==null)continue;var hj=J.add.SoLd.Idnt.v;
if(iF.indexOf(hj)==-1){iF.push(hj);g6.push(cc.Mw()+hj.slice(8))}J.add.SoLd.Idnt.v=g6[iF.indexOf(hj)];
var g$=J.kP(eu);if(g$){eu.je(g$);gc.sV(g$)}}if(jS==-1&&!E.Pp&&E.at4&&!fe.TF(be)){iM=-be.x;dL=-be.y}if(iF.length>0){if(gc.add.lnk2==null)gc.add.lnk2=[];
for(var N=0;N<iF.length;N++){var bt=eu.fB(iF[N]),hW=bt.clone();hW.pf=g6[N];gc.add.lnk2.push(hW)}}}var d4=gc.g.slice(0);
d4.sort(function(j,aa){return j-aa});var gQ=gc.B.slice(0),fg=[],jP=-1;for(var N=0;N<d4.length;N++)jP=Math.max(jP,d4[N]);
if(E.a2v!=null)jP=E.a2v;if(E.Pp){jP=E.Pp-1;var d8=gc.B[E.Pp].fQ();iM+=d8.x;dL+=d8.y}if(jS!=-1&&(eu!=gc||E.Pp)){var gd=eu.B[jS].fQ();
iM-=gd.x;dL-=gd.y}var ha=gc.Tp();for(var N=0;N<ha[0].length;N++){var d2=ha[1][N];if(d2!=-1)ha[1][N]=gQ[d2]}jP++;
for(var N=0;N<E.B.length;N++){var O=E.B[N],j2=O.add.artb;gQ.splice(jP,0,O);fg.push(jP);jP++;if(j2){hK=!0;
var kx=j2.guideIndeces;if(kx){kx=kx.v;for(var dp=0;dp<kx.length;dp++){ha[0].push(eu.oc[kx[dp].v].slice(0));
ha[1].push(O);f_=!0}}}}for(var N=0;N<ha[0].length;N++){var d2=ha[1][N];if(d2!=-1)ha[1][N]=gQ.indexOf(d2)}for(var N=0;
N<E.B.length;N++){var O=E.B[N];if(O.add.lsct==kl.vp){if(fu==0)gh++;fu++}else if(O.uY())fu--}if(gh==1)fg=[jP-1];
var j=new fN([6,0],this);j.data={d:jN.l$,wO:gc.B.slice(0),gr:gQ,k7:d4,Bs:fg};if(f_){j.data.jq=[gc.Tp(),ha]}gc.QY(j);
this.Rn(j.data,gc);if(iM!=0||dL!=0)F.pB.Ae(gc,gc.G$(),null,iM,dL);if(hK){j.data.w5=new ir(0,0,gc.m,gc.e);
j.data.M6=F.Et.Mo(gc);F.Et.jX(gc)}}if(H==jN.Eu){var kM=E.a!=null?[E.a]:c.G$(),gQ=c.B.slice(0);for(var N=0;
N<kM.length;N++){var O=c.B[kM[N]].clone();O.Wm(c);gQ.splice(kM[N],1,O)}var j=new fN([6,8],this);j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:c.g.slice(0)};
c.QY(j);this.Rn(j.data,c)}if(H==jN.a9A){var gQ=c.B.slice(0),O=gQ[c.g[0]]=gQ[c.g[0]].clone(),dJ=O.add.lmfx,jj,d8;
delete O.add.lmfx;var j4=c.g[0],fx=j4+1;if(O.uY()){var g1=c.B[c.g[0]].b_;d8=g1.apL;jj=g1.LA;var Q=c.root.f$(j4);
j4=Q.qM}else{d8=O.rect;jj=d.R(d8.P());d.LI(O.buffer,jj,3)}var dG=hA.bx(dJ,O.add.fxrp,jj,d8,c,d8).type;
for(var N=0;N<cb.order.length;N++){var dO=cb.order[N],cd=dG[dO];cd.reverse();for(var dp=0;dp<cd.length;
dp++){var kG=cd[dp],t=c.N8(),dM=N>7;if(dO=="ebbl"){if(kG.cD||kG.Qk){var an=kG.cD?kG.cD:kG.Qk;if(kG.cD)delete kG.cD;
else delete kG.Qk;if(kG.Qk||kG.cz)dp--}else if(kG.cz||kG.DO){var an=kG.DO?kG.DO:kG.cz;if(kG.DO){delete kG.DO;
if(kG.cz)dp--}dM=!0}kG=an}t.ur=kG.yS;t.opacity=Math.round(255*kG.QR);t.buffer=kG.bb;t.rect=kG.Z_.clone();
t.rect.offset(d8.x,d8.y);if(dO=="FrFX"){t.buffer=t.buffer.slice(0);d.Og(kG.WG?kG.WG:kG.kB,t.buffer,3);
if(kG.WG){dM=!0;delete kG.WG;if(kG.kB)dp--}}t.av=!dM;t.v4(O.getName()+"'s "+i4.get(cb.names[N]));gQ.splice(dM?j4:fx,0,t);
if(dM)fx++}}var j=new fN("Styles to Layers",this);j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:[fx-1]};
c.QY(j);this.Rn(j.data,c)}if(H==jN.a75){var kM=c.G$(),gQ=c.B.slice(0),du=new ir(0,0,c.m,c.e);for(var N=0;
N<kM.length;N++){var g8=c.B[kM[N]],je=g8.OQ();g8.rP(!0);var gv=c.root.f$(kM[N]);if(g8.uY())continue;
if(gv==null)continue;var O=g8.clone();O.Wm(c);var aM=gv.EK(c,!0),gL=c.B;c.vr([g8]);c.W();c._1();O.buffer=d.R(aM.P()*4);
d.E6(c.eA(),du,O.buffer,aM);O.rect=aM;O.opacity=255;O.add.iOpa=255;O.ur="norm";O.W();O.b_.sg=!0;c.vr(gL);
if(O.add.lmfx)delete O.add.lmfx;O.F=O.W_=null;gQ.splice(kM[N],1,O);O.rP(je);g8.rP(je)}var j=new fN([6,34],this);
j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:c.g.slice(0)};c.QY(j);this.Rn(j.data,c)}if(H==jN.ak2){var kM=c.G$(),gQ=c.B.slice(0);
for(var N=0;N<kM.length;N++){var O=c.B[kM[N]],e2=O.add.TySh;if(e2==null)continue;var J=new cU(e2.Ax,p.UG,e2.EG),iX=d.A.vf(kz.uM(J,e2,!0));
for(var iS in iX){var aG=iX[iS],gn=O.clone();delete gn.add.TySh;gn.Gc=gn.Gc|1<<4;gn.add.SoCo=JSON.parse(JSON.stringify(cb.Xz[0]));
var bO=gn.add.SoCo.Clr.v;bO.Rd.v=parseInt(iS.slice(1,3),16);bO.Grn.v=parseInt(iS.slice(3,5),16);bO.Bl.v=parseInt(iS.slice(5,7),16);
var eK=new jN.pU;eK.X=d.A.V2(aG,!1);if(gn.add.vmsk!=null){gn.add.vmsk.aok();eK.concat(gn.add.vmsk)}gn.add.vmsk=eK;
gn.add.vstk=cb.CY.TL(!0);gn.m5();gn.fP(c);gQ.splice(gQ.indexOf(O),0,gn)}gQ.splice(gQ.indexOf(O),1)}var fg=c.g.slice(0);
for(var N=fg.length-1;N>=0;N--)if(fg[N]>=gQ.length)fg.splice(N,1);var j=new fN([6,40],this);j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:fg};
c.QY(j);this.Rn(j.data,c)}if(H==jN.Gz){var cJ=c.g.length,cK,cy;if(cJ<2){alert("Select two or more layers.");
return}for(var N=0;N<cJ;N++){var gd=c.B[c.g[N]].rect;cK=N==0?gd:cK.fr(gd);cy=N==0?gd:cy.uN(gd)}if(cK.P()*1.2>cy.P()){alert("stacking images");
var cj=[],jT=[];for(var N=0;N<cJ;N++){var O=c.B[c.g[N]];cj.push(O.buffer);jT.push(O.rect)}var io=d.a6o.YR(cj,jT),kq=io[0],bb=io[1],bZ=[];
for(var N=0;N<cJ;N++){var kO=new jN.W$;kO.color=255;kO.rect=bb;kO.channel=kq[N];bZ.push(c.g[N],null,kO)}var j=new fN("Focus-Stack",this);
j.data={d:jN.mG,D2:bZ};c.QY(j);this.Rn(j.data,c);return}if(!c.Pa())return;var gn=c.B[c.g[0]].clone(),gQ=[];
for(var N=0;N<c.B.length;N++)if(c.g.indexOf(N)==-1)gQ.push(c.B[N]);gQ.splice(c.g[0],0,gn);for(var N=1;
N<cJ;N++)if(c.B[c.g[N]].rect.P()>2e6){alert("Blended areas are too large.");return}for(var N=1;N<cJ;
N++){var O=c.B[c.g[N]],bb=O.rect.clone();bb.r4(1,1);var aa=d.R(bb.P()*4);d.E6(O.buffer,O.rect,aa,bb);
gn.extend(bb);var dq=d.R(bb.P()*4);d.E6(gn.buffer,gn.rect,dq,bb);var j=d.R(bb.P());d.LI(aa,j,3);d.round(j,200);
d.Og(j,aa,3);d.l.Io("norm",aa,bb,dq,bb,bb,1);d.HJ.sy(dq,j,bb);d.E6(dq,bb,gn.buffer,gn.rect)}var j=new fN([2,10,0],this);
j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:[c.g[0]]};c.QY(j);this.Rn(j.data,c)}if(H==jN.qo){var gQ=c.B.slice(0),fv=c.g.slice(0);
for(var N=0;N<gQ.length;N++){var O=gQ[N],eC=O.add.vmsk;if(O.iU()&&eC&&O.add.vstk.strokeEnabled.v&&!O.add.vstk.fillEnabled.v){var cW=eC.X,cw=0,eD=-1;
for(var dp=0;dp<cW.length;dp++){if((cW[dp].type==0||cW[dp].type==3)&&cW[dp].O0!=-1){cw++;if(cW[dp].type==3&&eD==-1){cW[dp].X7=cW[dp].O0=1;
eD=dp}}}if(cw>1&&eD!=-1&&cw<10){console.log("separating an open path into a new layer");O=O.clone();
eC=O.add.vmsk;cW=eC.X;var t=cW[eD].length,f7=O.clone();f7.add.lyid=c.Xf();eC.X=cW.slice(0,2).concat(cW.slice(eD,eD+t+1));
eC.g=[];O.fP(c);O.W();var bM=f7.add.vmsk.X;f7.add.vmsk.X=bM.slice(0,eD).concat(bM.slice(eD+t+1,bM.length));
f7.add.vmsk.g=[];f7.fP(c);gQ[N]=O;gQ.splice(N+1,0,f7);for(var dp=0;dp<fv.length;dp++)if(fv[dp]>N)fv[dp]++;
var cV=fv.indexOf(N);if(cV!=-1){fv.splice(cV+1,0,N+1)}}}}if(gQ.length!=c.B.length){var j=new fN("Splitting open paths",this);
j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:fv};c.QY(j);this.Rn(j.data,c)}}if(H==jN.KB){this.hE({d:jN.qo},y,c,e,p);
var d4=c.g.slice(0),gL=c.B.slice(0),kM=c.G$();if(kM.length==0)return;c.ale(kM,!1,E.wB);var j=new fN([6,36,0],this);
j.data={d:jN.l$,wO:gL,gr:c.B.slice(),k7:d4,Bs:c.g.slice(0)};c.QY(j);this.Rn(j.data,c)}if(H==jN.anc){var ft=X.add.SoLd;
if(ft==null)return;var hj=ft.Idnt.v,aI=c.fB(hj);aI.eA(!1);var fR=aI.ed[0],bb=aI.ed[1];if(d.Oi(fR)){alert("The smart object contains transparency.");
return}var ju=iu.sF("jpg").Jv([[fR.buffer]],bb.m,bb.e,[90]);this.hE({d:jN.if,data:new Uint8Array(ju),gg:"image.jpg"},y,c,e,p);
console.log(c.add);return}if(H==jN.if){var du=E.cX,hj=E.id;if(du==null)du=c;if(hj==null)hj=X.add.SoLd.Idnt.v;
var bt=du.fB(hj),hW=bt.clone();hW.raw=E.data;hW.gg=E.gg;var jO=iu.XS(E.data.buffer);if(jO=="psd"){hW.la="8BIM";
hW.uC="8BPB"}else{hW.la="    ";hW.uC="    "}hW.eA(!1);bt.eA(!1);var j=new fN([6,36,1],this);j.data={d:jN.if,id:hj,Y2:bt,_V:hW};
du.QY(j);this.Rn(j.data,du)}if(H==jN.ek){var j=new fN([6,36,4],this);j.data={d:H,a:Z,v5:X.add.SoLd.Impr.v.classID,Hx:E.Hx};
c.QY(j);this.Rn(j.data,c)}if(H==jN.afh){var cF,cI;if(E.uS){cF=E.cX;cI=E.uS}else{E.cX.RH();E.cX.RD();
E.cX.W();E.cX._1();E.cX.eA();cF=iu.sF("PSD").Jv(E.cX,0,0,[!0,!0]);cI=E.cX.name}if(!(cF instanceof ArrayBuffer))throw"e";
cF=new Uint8Array(cF);var V=E.HV;if(V==null){if(c.g.length==0)V=c.g.length;else{var ie=c.g[c.g.length-1],t=c.B[ie];
V=t.uY()?ie:ie+1}}var hB=new ir(0,0,c.m,c.e),jX=c.Z1();if(jX!=-1)hB=c.B[jX].fQ();var bx=c.np(cF,cI,null,null,hB,p.UG,y),gQ=c.B.slice(0);
gQ.splice(V,0,bx);var j=new fN([6,36,2],this);j.data={d:jN.l$,wO:c.B.slice(),gr:gQ,k7:c.g.slice(0),Bs:[gQ.indexOf(bx)]};
c.QY(j);this.Rn(j.data,c)}if(H==jN.YQ&&E.s6=="merge"){var a3=[],eJ=c.root.children,hr=0;for(var N=0;
N<eJ.length;N++){var Q=eJ[N],O=Q.a,f5=Q.children,e$=!0;if(!O.uY()||f5.length==0)continue;for(var dp=0;
dp<f5.length;dp++)if(!f5[dp].a.getName().startsWith("_a_")){e$=!1;break}if(e$)a3.push(c.B.indexOf(O))}var fk=[];
for(var N=0;N<a3.length;N++)if(c.g.indexOf(a3[N])!=-1)fk.push(a3[N]);if(fk.length>=2)a3=fk;if(a3.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var h1=[];for(var N=0;N<a3.length;N++)h1.push(c.B[a3[N]].getName());var cd=[];for(var jz=0;jz<a3.length;
jz++){var Q=c.root.f$(a3[jz]),fb=[[],[],0,jz];cd.push(fb);for(var N=0;N<Q.children.length;N++){var M=Q.children[N].index,O=Q.children[N].a,bz=O.getName(),fV=20,fj=bz.split(",");
if(fj.length>1){var hO=parseInt(fj.pop());if(!isNaN(hO)&&hO!=0)fV=hO}if(fV<17)fV=17;fb[0].push(O);fb[1].push(fV);
fb[2]+=fV}}cd.sort(function(j,aa){return aa[2]-j[2]});if(cd[0][2]>2e3){var eQ=0,eR=0;for(var N=0;N<cd.length;
N++){var gY=cd[N][1].length/cd[N][2];if(gY>eR){eR=gY;eQ=N}}var dQ=(cd[0][2]/1e3).toFixed(1),aA=window.confirm("- \""+h1[cd[0][3]]+"\" is "+dQ+" seconds long\n"+"- \""+h1[cd[eQ][3]]+"\" is playing at "+Math.round(eR*1e3)+" frames per second\n"+"A merged animation must be "+dQ+" sec, up to "+Math.round(cd[0][2]*eR)+" frames. Proceed?");
if(!aA)return}var ii=cd[0],b3=ii[2];for(var d2=1;d2<cd.length;d2++){var fb=cd[d2],aK=1,ce=fb[1].slice(0),fM=0;
while((aK+1)*fb[2]<=ii[2]){aK++;ce=ce.concat(fb[1])}fb[1]=ce;fb[2]*=aK;var ag=ii[2]/fb[2];for(var N=0;
N<fb[1].length;N++){var hQ=Math.floor(fb[1][N]*ag);fb[1][N]=hQ;fM+=hQ}while(fM<b3){fM++;fb[1][fb[1].length-1]++}fb[2]=fM}var bp=[],bq=[],hQ=[];
for(var N=0;N<cd.length;N++){bp.push(0);bq.push(0)}while(hr<b3){var hF=1e9,cm=-1;for(var N=0;N<cd.length;
N++){var eF=cd[N][1],j4=bp[N];if(j4!=eF.length&&bq[N]+eF[j4]<hr+hF){cm=N;hF=bq[N]+eF[j4]-hr}}bq[cm]+=cd[cm][1][bp[cm]];
bp[cm]++;if(hF!=0){hQ.push(hF);hr+=hF}}for(var N=1;N<hQ.length;N++){var fm=hQ[N];if(fm<16&&(hQ[N-1]<16||N<hQ.length-1&&16<=hQ[N+1])){hQ[N-1]+=fm;
hQ.splice(N,1);N--}}var je=[],du=new ir(0,0,c.m,c.e);for(var N=0;N<c.B.length;N++){je[N]=c.B[N].OQ();
c.B[N].rP(!1)}var aV=c.g.slice(0);c.g=a3;var hu=c.G$();hu.sort(function(j,aa){return j-aa});var gQ=[];
for(var N=0;N<c.B.length;N++){if(hu.indexOf(N)==-1)gQ.push(c.B[N])}cd.sort(function(j,aa){return j[3]-aa[3]});
function ij(eF,ef){var N=0,jD=0;while(jD+eF[N]<=ef){jD+=eF[N];N++}return N}hr=0;gQ.splice(hu[0],0,c.eM());
for(var iY=0;iY<hQ.length;iY++){var i=[];for(var N=0;N<cd.length;N++){var j4=ij(cd[N][1],hr)%cd[N][0].length,O=cd[N][0][j4];
i.push(O)}var O=c.N8();for(var N=0;N<cd.length;N++){var eO=i[N],jF=c.B[a3[N]];eO.rP(!0);jF.rP(!0)}c.W();
c._1();var fR=c.eA();O.rect=d.aD(fR,du,2);O.buffer=d.R(O.rect.P()*4);d.E6(fR,du,O.buffer,O.rect);for(var N=0;
N<cd.length;N++){var eO=i[N],jF=c.B[a3[N]];eO.rP(!1);jF.rP(!1)}O.rP(iY==0);O.v4("_a_frm"+iY+","+hQ[iY]);
gQ.splice(hu[0]+1+iY,0,O);hr+=hQ[iY]}var O=c.N8();O.v4(h1.join(" + "));O.ur="pass";O.add.lsct=kl.ze;
O.Gc=24;gQ.splice(hu[0]+1+hQ.length,0,O);for(var N=0;N<c.B.length;N++)c.B[N].rP(je[N]);var j=new fN([6,12,0],this);
j.data={d:jN.l$,wO:c.B,gr:gQ,k7:aV,Bs:[hu[0]+1+hQ.length]};c.QY(j);this.Rn(j.data,c)}if(H==jN.N6||H==jN.j2){var dl=c.g.length==1&&!c.B[c.g[0]].uY(),eU=!0,bx=null,fg;
if(dl&&c.g[0]==0)return;var gL=c.B.slice(0),d4=c.g.slice(0);if(dl)c.g=[Z,Z-1];if(H==jN.j2){c.g=[];for(var N=0;
N<c.B.length;N++)if(c.B[N].OQ())c.g.push(N)}var kM=c.G$();kM.sort(function(j,aa){return j-aa});var ks=new ir,du=new ir(0,0,c.m,c.e);
for(var N=0;N<kM.length;N++){var M=kM[N],O=c.B[M];if(O.uY()||O.getName()=="</Layer group>")continue;
eU=eU&&O.iU()&&O.add.vmsk!=null;ks=ks.uN(c.root.f$(M).EK(c,!0))}if(E.c7!=null&&!eU){alert("Select shape layers only.");
return}if(eU){var eC=null,cS=E.c7;for(var N=0;N<kM.length;N++){var t=c.B[kM[N]];if(t.rect.P()==0)continue;
if(bx==null){bx=t.clone();eC=bx.add.vmsk}else{var t=c.B[kM[N]],bM=jN.pU.MD(t.add.vmsk.X);if(cS!=null)for(var dp=0;
dp<bM.length;dp++)if(bM[dp].O0!=null&&bM[dp].O0!=-1)bM[dp].O0=[1,2,3,0][cS];eC.X=eC.X.concat(bM.slice(2));
bx.add.vogk=bx.add.vogk.concat(JSON.parse(JSON.stringify(t.add.vogk)))}}bx.add.vmsk.tq=!0;bx.fP(c)}else if(du.Rq(ks)){bx=c.N8();
bx.v4(c.B[kM[kM.length-1]].getName());bx.rect=ks;bx.buffer=d.R(ks.P()*4);var cT=c.add.artd;delete c.add.artd;
var fH=c.eA(kM);if(cT)c.add.artd=cT;d.E6(fH,du,bx.buffer,ks);bx.Q8();bx.W()}else{c.ale(kM,!0);bx=c.B[c.g[0]];
c.B.splice(c.g[0],1);var ig=c.fB(bx.add.SoLd.Idnt.v);c.add.lnk2.splice(c.add.lnk2.indexOf(ig),1);delete bx.add.SoLd}var hN=b,gH=-1;
if(E.hG&&E.hG.Dplc&&E.hG.Dplc.v)hN=!0;if(hN&&H==jN.j2&&d4.length!=0&&c.B[d4[0]].Gq()&&c.B[d4[0]].rect.tj()){gH=d4[0]}if(gH!=-1||dl){var ip=c.B[gH!=-1?gH:Z-1];
bx.v4(ip.getName());bx.add.lclr=ip.add.lclr}var gQ=[];for(var N=0;N<c.B.length;N++)if(hN||kM.indexOf(N)==-1)if(N!=gH)gQ.push(c.B[N]);
var ab=kM[kM.length-1],fW=ab==c.B.length-1?null:c.B[ab+1],aR=fW?gQ.indexOf(fW):gQ.length;gQ.splice(aR,0,bx);
fg=[aR];var j=new fN([6,12,0],this);j.data={d:jN.l$,wO:gL,gr:gQ,k7:d4,Bs:fg};c.QY(j);this.Rn(j.data,c)}if(H==jN.azn){var gn=c.N8();
gn.rect=new ir(0,0,c.m,c.e);gn.buffer=d.R(gn.rect.P()*4);d.KT(gn.buffer,4294967295);d.l.Io("norm",c.eA(),gn.rect,gn.buffer,gn.rect,gn.rect,1);
gn.v4("Background");gn.add.lspf=1<<2;var j=new fN([6,12,1],this);j.data={d:jN.l$,wO:c.B.slice(),gr:[gn],k7:c.g.slice(0),Bs:[0]};
c.QY(j);this.Rn(j.data,c)}var av=H==jN.wn||H==jN.vU;if(H==jN.ml||H==jN.F_||H==jN.X9||H==jN.TM||av){var O=av?c.DC()[0]:c.N8(),gl=i4.get([0,3]),j3=E.RK,ez=!1,ad,cv;
if(H==jN.X9)gl=i4.get([12,76,1]);if(av){if(c.i){var g8=c.B[c.g[0]],ds=g8.uT(c,c.i);if(ds==null){alert("Copied area is empty");
return}O.rect=ds.rect;O.buffer=ds.Ng;O.Wm(c);O.rP(!0)}else j3=O.getName();O.add.lspf=0;O.av=!1;if((O.Gc&1)!=0)O.Gc--}if(H==jN.TM){O.rect=F.DI.aBV(E.Ti,c);
O.buffer=E.Ti.buffer.slice(0);if(E.Tk&&c.i){O.F=new jN.W$;O.F.rect=c.i.rect;O.F.color=0;O.F.channel=c.i.channel.slice(0)}}if(H==jN.ml){this.track({tT:"make",hG:{classID:"Mk",null:aW.G6("Lyr")}})}if(H==jN.F_){O.Gc|=16;
var e9=E.hG.Usng.v,hG=e9.Type.v,fS=et.OE[hG.classID];gl=i4.get(et.names[fS]);if(e9.Nm)j3=e9.Nm.v;O.add[fS]=cN.TL(fS);
if(O.add[fS]==null)O.add[fS]={};for(var eW in hG)O.add[fS][eW]=JSON.parse(JSON.stringify(hG[eW]));O.F=F.DI.ait(c);
O.p6=1}if(H==jN.X9){O.Gc|=16;var jg=E.hG,e9=jg.Usng.v,bY=e9.Type.v,fB=e9.Shp;if(e9.Nm)j3=e9.Nm.v;if(fB==null){var gZ=c.sA(),iX=gZ[0],b2=gZ[1];
if(b2.length!=0&&iX[b2[0]].h2<0){var iC=iX[b2[0]].add;O.add.vmsk=iC.vmsk.clone();O.add.vstk=cb.CY.TL(!0);
O.add.vogk=JSON.parse(JSON.stringify(iC.vogk));c.zG=[]}else O.F=F.DI.ait(c)}else{O.add.vmsk=new jN.pU;
O.add.vstk=JSON.parse(JSON.stringify(e9.strokeStyle?e9.strokeStyle.v:cb.CY.TL(!0)));O.add.vogk=[];if(fB){var gT=d.gM.cp(fB);
if(gT){O.add.vogk=[gT];O.add.vmsk.X.push({type:0,O0:1,length:0});d.gM.ZW(O.add.vogk,O.add.vmsk)}else{fB=fB.v;
var aL=fB.classID;if(aL=="Plgn"){var gK=fB.Cntr.v,gd=fB.corner.v;gK=new eq(gK.Hrzn.v.val,gK.Vrtc.v.val);
gd=new eq(gd.Hrzn.v.val,gd.Vrtc.v.val);O.add.vmsk.X=d.o.M1.G7(gK.x,gK.y,Math.sqrt(gd.x*gd.x+gd.y*gd.y),Math.atan2(gd.y,gd.x),fB.sides.v,0)}else if(aL=="customShape"){var aP=d.gM.sq(fB),gr=aP[2]-aP[0],cz=aP[3]-aP[1],jZ=p.Gp,fq,dP;
for(var N=0;N<jZ.length;N++)if(jZ[N].Iz==fB.Nm.v)fq=jZ[N];if(fq){dP=jN.pU.MD(fq.X);d.o.dg(dP,new jr(gr,0,0,cz,aP[0],aP[1]))}else dP=d.o.M1.Rect(aP[0],aP[1],gr,cz,0);
O.add.vmsk.X=dP}O.m5()}}}var d7={solidColorLayer:0,gradientLayer:1,patternLayer:2}[bY.classID],cB=["SoCo","GdFl","PtFl"][d7];
O.add[cB]=JSON.parse(JSON.stringify(cb.Xz[d7]));if(d7==0)O.add[cB].Clr.v=d.L.hp(d.$E(p.x4));F.DI.u9(bY,O.add[cB],d7);
if(fB==null)gl=i4.get([6,48,0,d7]);if(cB=="PtFl"){var i2=O.add[cB].Ptrn.v,fj=hA.GX(i2,p.gS);if(fj==null)fj=hA.GX(i2,c.add.Patt);
i2.Idnt.v=fj.id;c.w4(fj)}O.fP(c)}var cJ=F.DI.lG(c,gl+" ");O.v4(gl+" "+(cJ+1));if(j3)O.v4(j3);var jn=c.g.length==0?c.B.length-1:c.g[c.g.length-1],bm=c.B[jn];
if(H==jN.X9&&bm.Gq()&&bm.rect.tj()){ez=!0;O.v4(bm.getName());ad=jn}else{ad=jn+(H==jN.ml&&D&&!k?0:1);
if(bm&&bm.add.lsct==kl.Sh)ad--}if(E.at5)ad=Math.max(0,ad-1);var gQ=c.B.slice(0);if(H==jN.vU){var fi=gQ[c.g[0]]=gQ[c.g[0]].clone(),e3=c.i.channel.slice(0);
d.Ub(e3);d.ys(e3,c.i.rect,fi.buffer,fi.rect)}gQ.splice(ad,ez?1:0,O);var a4=[5,2];if(H==jN.ml)a4=[6,13];
if(H==jN.F_)a4=[6,1];if(H==jN.X9){a4=[6,48,1];var fB=E.hG.Usng.v.Shp;if(fB){var eG={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[fB.v.classID];
if(eG)a4=eG}}if(av){a4=[6,49,H==jN.wn?0:1]}if(av||H==jN.X9||H==jN.TM||H==jN.F_)if(c.i)cv=[c.i,null];
var j=new fN(a4,this);j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:[ad],w6:cv};c.QY(j);this.Rn(j.data,c);
if(H==jN.X9&&fB==null&&d7!=0||H==jN.F_){var m=new iU(S.E.M);m.data={d:S.H.ET,ym:aq.ZV.Wd};y.T(m)}}if(H==jN.wZ){var O=c.N8(),gl=i4.get([0,4]),cJ=F.DI.lG(c,gl+" ");
O.v4(gl+" "+(cJ+1));O.ur="pass";O.add.lsct=kl.Sh;O.Gc=24;if(E.RK)O.v4(E.RK);if(E.EF!=null)O.add.lclr=E.EF;
var gs=c.eM(),jn=Z,ad=jn+(D?0:1),gQ=c.B.slice(0);gQ.splice(ad,0,gs,O);var j=new fN([6,20],this);j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:[ad+1]};
c.QY(j);this.Rn(j.data,c)}if(H==jN.yG||H==jN.M_){var iA=H==jN.yG?E.source:c.g[0],c6,fI,h2=c.g.indexOf(iA)!=-1,a7=b|E.afv,j$,hF=null;
if(h2)j$=c.G$();else j$=c.Mk(iA);j$.sort(function(j,aa){return j-aa});if(H==jN.yG){c6=E.target;fI=E.T9>.5}else if(E.target!=null){c6=Math.min(E.target,c.B.length-1);
fI=E.target<c.B.length;c.__=!0}else{var kA=E.s6;fI=kA>1;if(kA==0){c6=c.B.length-1}if(kA==1){c6=j$[j$.length-1]+1;
var t=c.Mk(c6);if(t.indexOf(iA)==-1)c6+=t.length-1}if(kA==2){c6=j$[0]-1;var t=c.Mk(c6);if(t.indexOf(iA)==-1)c6-=t.length-1}if(kA==3){c6=0;
if(c.B[0].add.lnsr=="bgnd")c6++}if(c6<0||c6>c.B.length-1)return;c.__=!0}if(j$.indexOf(c6)!=-1&&!a7)return;
var jA=F.DI.R6(c,j$,c6,fI,a7?c.DC(h2?null:iA):null,H==jN.yG&&E.T9>.8),eI=jA.pop(),fv=jA.pop(),gQ=jA.pop(),gP=c.g;
c.g=[iA];var jS=c.Z1();c.g=[c6];var kn=c.Z1();if(kn==c6&&!fI)kn=-1;c.g=gP;if(iA==jS){}else if(jS!=kn){var hF=new eq(0,0);
if(jS!=-1){var bb=c.B[jS].fQ();hF.x-=bb.x;hF.y-=bb.y}if(kn!=-1){var bb=c.B[kn].fQ();hF.x+=bb.x;hF.y+=bb.y}}var j=new fN(a7?[6,0]:[6,35],this);
j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:fv,dO:hF};c.QY(j);this.Rn(j.data,c);var jg={classID:"move",null:aW.G6("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:eI+(fI?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:a7}};
this.track({tT:"move",hG:jg})}if(H==jN.jT){if(E.Ud){if(X==null||!X.uY())return;var Q=c.root.f$(Z),fh=c.B.indexOf(Q.aic),gQ=c.B.slice(0);
gQ.splice(Z,1);gQ.splice(fh,1);var fv=[];for(var N=fh;N<Z-1;N++)fv.push(N);var j=new fN("Ungroup Layers",this);
j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:fv};c.QY(j);this.Rn(j.data,c)}else{var O=c.N8(),eh=i4.get([0,4])+" ";
O.v4(eh+(F.DI.lG(c,eh)+1));O.ur="pass";if(E.RK)O.v4(E.RK);if(E.EF!=null)O.add.lclr=E.EF;O.add.lsct=c.g.length==1?kl.Sh:kl.ze;
O.Gc=24;var gs=c.eM(),j$=c.G$();if(j$.length==0)return;j$.sort(function(j,aa){return j-aa});var gQ=[];
for(var N=0;N<c.B.length;N++)if(j$.indexOf(N)==-1)gQ.push(c.B[N]);var jn=c.g[c.g.length-1]-j$.length;
gQ.splice(jn+1,0,gs);for(var N=0;N<j$.length;N++)gQ.splice(jn+2+N,0,c.B[j$[N]]);gQ.splice(jn+2+j$.length,0,O);
var j=new fN([6,9],this);j.data={d:jN.l$,wO:c.B.slice(0),gr:gQ,k7:c.g.slice(0),Bs:[gQ.indexOf(O)]};c.QY(j);
this.Rn(j.data,c);var o={tT:"make",ja:!0};o.hG={classID:"Mk",null:aW.G6("layerSection"),From:aW.G6("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:O.getName()}}}};
this.track(o)}}if(H==jN.anW){if(c.g.length!=1)return;var V=c.g[0],hR=b;if(c.B[V].Nb()==null&&!e.S(ct.Nc)){H=jN.gP;
E.de=c.i?!hR?"RvlS":"HdSl":!hR?"RvlA":"HdAl"}else{H=jN.Ao;E.aBk=!0}}if(H==jN.gP){if(c.g.length!=1)return;
var V=c.g[0],O=c.B[V];if(O.add.vmsk&&O.F==null)O.fP(c);var id=O.Nb();if(id==null||E.ar_){var j=new fN(E.RK?E.RK:[6,21],this),js=new jN.W$,d$=E.de,gi=d$=="RvlS"||d$=="HdSl";
if(d$=="RvlS"||d$=="HdAl"||d$=="Trns")js.color=0;if(gi){js.channel=c.i.channel.slice(0);js.rect=c.i.rect.clone();
if(d$=="HdSl")d.Ub(js.channel)}if(d$=="Trns"){js.rect=O.rect.clone();js.channel=d.R(O.rect.P());d.LI(O.buffer,js.channel,3)}j.data={d:jN.mG,D2:[V,id,js],w6:gi?[c.i,null]:null,aCW:d$=="Trns"};
c.QY(j);this.Rn(j.data,c);c.B[V].p6=1;this.track({tT:"make",hG:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:d$}}}})}}else if(H==jN.a5g){var bN=c.B[E.src],kd=c.B[E.Tt],j=new fN([6,21],this),iR=bN.Nb(),h7=kd.Nb(),kO=[E.src,iR,null,E.Tt,h7,iR];
if(b||k){var bz=iR.clone();if(b)kO=[E.Tt,h7,bz];else kO[5]=bz;if(k){d.Ub(bz.channel);bz.color=255-bz.color}}j.data={d:jN.mG,D2:kO};
c.QY(j);this.Rn(j.data,c)}if(H==jN.z0){if(c.g.length!=1)return;var V=Z,hL=c.B[V].Nb();if(hL!=null){var j=new fN([6,22],this);
j.data={d:jN.mG,D2:[Z,hL,null]};c.QY(j);this.Rn(j.data,c)}}if(H==jN.zS){var gL=c.B.slice(0),gn=X.clone(),eb=gn.Nb();
d.ys(eb.tv(gn.rect),gn.rect,gn.buffer,gn.rect);F.DI.oz(c,gn);gn.Q8();c.B[c.g[0]]=gn;var j=new fN([5,8],this);
j.data={d:jN.l$,wO:gL,gr:c.B.slice(),k7:c.g.slice(0),Bs:c.g.slice(0)};c.QY(j);this.Rn(j.data,c)}if(H==jN.vX){if(c.g.length!=1)return;
var V=c.g[0];if(c.B[V].kP(c).F==null){var j=new fN([6,45],this);j.data={d:H,a:V,F:new jN.W$};c.QY(j);
this.Rn(j.data,c)}}if(H==jN.No){if(c.g.length!=1)return;var V=c.g[0];if(c.B[V].kP(c).F!=null){var j=new fN([6,46],this);
j.data={d:H,a:V,F:c.B[V].kP(c).F};c.QY(j);this.Rn(j.data,c)}}if(H==jN.EP){if(E.src==null&&c.g.length!=1)return;
if(E.src!=null)Z=E.src;if(c.B[Z].p3()){var j=new fN([6,47],this),ft=JSON.stringify(c.B[Z].add.SoLd),bd=JSON.parse(ft);
delete bd.filterFX;j.data={d:jN.R0,JF:[{Z3:Z,Tb:[ft,JSON.stringify(bd)],Jd:[c.B[Z].kP(c),null]}]};c.QY(j);
this.Rn(j.data,c)}}if(H==jN.Ao){if(c.g.length!=1)return;if(X.add.vmsk==null){var j=new fN([6,23],this),cW=c.sA(),bg=cW[1],cW=cW[0],js,gT;
if(E.aBk&&bg.length!=0){var iC=cW[bg[0]].add;js=iC.vmsk.clone();gT=iC.vogk}else{js=new jN.pU;gT=[];js.X[1].all=E.XX?0:1}j.data={d:H,a:Z,jf:!0,F:js,gM:JSON.stringify(gT),CY:null};
if(X.iU()){j.data.CY=Stroke.CY.TL(!0)}c.QY(j);this.Rn(j.data,c)}}if(H==jN.CR){var bN=c.B[E.src],kd=c.B[E.Tt];
if(kd.add.vmsk)return;var j=new fN([6,23],this),eC=bN.add.vmsk;j.data={a:E.Tt,jf:bN.EL,F:eC.clone(),gM:JSON.stringify(bN.add.vogk),CY:bN.add.vstk?JSON.stringify(bN.add.vstk):null};
if(b){j.data.d=jN.Ao}else{j.data.d=H;j.data.src=E.src;j.data.Tt=E.Tt}c.QY(j);this.Rn(j.data,c)}if(H==jN.uO||H==jN.mP){if(c.g.length!=1)return;
var O=c.B[Z],eC=O.add.vmsk;if(eC!=null){var j_=H==jN.mP,j=new fN(j_?[6,8]:[6,24],this);j.data={d:jN.uO,a:Z,jf:O.EL,F:eC,gM:JSON.stringify(O.add.vogk),CY:O.add.vstk?JSON.stringify(O.add.vstk):null};
if(j_){j.data.W_=eC.Nb(O.add.vstk)}c.QY(j);this.Rn(j.data,c)}}if(H==jN.Yd){var j=new fN("Metadata",this);
j.data={d:H,zU:JSON.stringify(c.Or),uk:JSON.stringify(E.uk)};c.QY(j);this.Rn(j.data,c)}if(H==jN.yF){var hz=E.Tt?E.Tt:c,h9=hz.name,j3=E.b+".psd";
if(h9==j3)return;var j=new fN([6,37],this);j.data={d:H,awm:h9,RK:j3};if(E.axT!=!0)hz.QY(j);this.Rn(j.data,hz)}if(H==jN.YQ&&E.s6.endsWith("makeframes")){var gf=[],k7=E.s6.startsWith("make");
for(var N=0;N<c.g.length;N++){var M=c.g[N],O=c.B[M],a1=O.getName(),a8=a1.startsWith("_a_");if(k7==a8||O.add.lsct==kl.vp)continue;
var jL=k7?"_a_"+a1:a1.slice(3);gf.push([M,a1,jL,O.add.lnsr,null])}var j=new fN([6,37],this);j.data={d:jN.tS,Wp:gf};
c.QY(j);this.Rn(j.data,c)}if(H==jN.tS){var h9=X.getName(),j3=E.name.substring(0,255);if(h9==j3)return;
var j=new fN([6,37],this);j.data={d:H,Wp:[[Z,h9,j3,X.add.lnsr,null]]};c.QY(j);this.Rn(j.data,c);this.track(aW.DY("Nm",{t:"TEXT",v:j3}))}if(H==jN.dv){var cQ=c.G$(),jw=[],dU=[];
for(var N=0;N<cQ.length;N++){jw.push(c.B[cQ[N]].add.lclr);dU.push(E.aE3)}var j=new fN([6,38],this);j.data={d:H,B:cQ,awM:jw,EF:dU};
c.QY(j);this.Rn(j.data,c)}if(H==jN.$P){var j=c.history[c.PT];if(j!=null&&j.f==this&&j.data.d==H&&j.data.a==E.tk&&j.data.Hx.tc==E.s1.tc)j.data.Hx=E.s1;
else{j=new fN("Mask Density / Feather",this);j.data={d:H,a:E.tk,v5:c.B[E.tk].zp(E.s1.tc),Hx:E.s1};c.QY(j)}this.Rn(j.data,c)}if(H==jN.Od){var gq=JSON.stringify(E.b),e_=JSON.parse(gq),j=c.history[c.PT];
if(j!=null&&j.f==this&&j.data.d==H&&j.data.Xr==E.Xr&&j.data.CT.join(",")==E.CT.join(",")){for(var N=0;
N<E.CT.length;N++)j.data.BM[N]=e_;if(j.data.hG&&e_.uC!=0)F.DI.u9(e_.f3,j.data.hG.T.v,e_.uC-1)}else{j=new fN([11,6],this);
j.data={d:H,CT:E.CT,Xr:E.Xr,aeO:[],BM:[]};var hk=!1;for(var N=0;N<E.CT.length;N++){var M=E.CT[N],O=c.B[M],iK=E.Xr?cb.uX(O.add):JSON.parse(JSON.stringify(O.add.vstk));
j.data.aeO.push(iK);j.data.BM.push(e_);if(JSON.stringify(iK)!=gq)hk=!0}if(!hk)return;c.QY(j);if(E.Xr&&e_.uC>0){var jg=j.data.hG={classID:"setd",null:aW.G6("contentLayer",!0),T:{t:"Objc",v:{}}};
F.DI.u9(e_.f3,jg.T.v,e_.uC-1);this.track({tT:"set",hG:jg})}}if(E.Xr&&e_.uC==3)c.w4(hA.GX(e_.f3.Ptrn.v,p.gS));
if(!E.Xr){var hp=e_.strokeStyleContent.v;if(hp.classID==cb.CY.gV[2])c.w4(hA.GX(hp.Ptrn.v,p.gS))}this.Rn(j.data,c)}};
F.DI.R6=function(E,y,c,e,p,H){var Z=E.B[c],X=[];if(p)X=E.B.slice(0);else for(var N=0;N<E.B.length;N++)if(y.indexOf(N)==-1)X.push(E.B[N]);
var b=X.indexOf(Z);if(H&&Z.uY()&&Z.add.lsct==kl.ze)b-=E.Mk(c).length-1;var k=[];for(var N=0;N<y.length;
N++){var D=b+(e?0:1)+N,j=p?p[N]:E.B[y[N]];X.splice(D,0,j);k.push(D)}return[X,k,b]};F.DI.u9=function(E,y,c){var e=[cb.nM,cb.Bm,cb.Z0][c];
if(y.classID==null)y.classID=["solidColorLayer","gradientLayer","patternLayer"][c];for(var N=0;N<e.length;
N++)if(E[e[N]])y[e[N]]=JSON.parse(JSON.stringify(E[e[N]]))};F.DI.ait=function(E){var y=new jN.W$;if(E.i!=null){y.color=0;
y.channel=E.i.channel.slice(0);y.rect=E.i.rect.clone()}return y};F.DI.Q$=function(E,y,c,e,p){var H=e.m/c.m,Z=e.e/c.e,X=e.m/2,b=e.e/2,k=d.A.S6(e).j;
for(var N=0;N<E.B.length;N++){var D=E.B[N],j=D.add.SoLd;if(j==null||j.Idnt.v!=y)continue;var g=H!=1||Z!=1;
if(g){var R=F.Y.Rt(j.nonAffineTransform),t=d.r.C0(R,e),w=new jr;w.translate(-X,-b);w.scale(H,Z);w.translate(X,b);
var B=d.r.wl(t,d.r.$m(w)),$=k.slice(0);d.r.u(B,$);j.Trnf=F.Y.Zd($);j.nonAffineTransform=F.Y.Zd($);if(d.Bh.Mi(j.quiltWarp.v)){var o=j.quiltWarp.v.bounds.v;
o.Rght.v.val=e.m;o.Btom.v.val=e.e}}D.an(E,null,p,!g)}E.W()};F.DI.ane=function(E,y,c){y.color=255-y.color;
d.Ub(y.channel);y.tq=!0;E.fP(c);c.W()};F.DI.prototype.GW=function(E,y){var c=E.d,e=y.B[E.a];y.ac=!0;
if(c==jN.if){y.add.lnk2.splice(y.add.lnk2.indexOf(E._V),1,E.Y2);F.DI.Q$(y,E.id,E._V.ed[1],E.Y2.ed[1])}if(c==jN.ek){e.add.SoLd.Impr.v.classID=E.v5;
e.an(y)}if(c==jN.nU){var p=JSON.parse(E.CT);for(var N=0;N<p.length;N++)y.B[p[N]].ur=E.m7[N];y.W()}if(c==jN.Bt){var p=JSON.parse(E.CT);
for(var N=0;N<p.length;N++)y.B[p[N]].opacity=E.m7[N];y.W()}if(c==jN.Bu){var p=JSON.parse(E.CT);for(var N=0;
N<p.length;N++)if(y.B[p[N]].add.lsct!=kl.vp)y.B[p[N]].add.lspf=E.m7[N]}if(c==jN.mj){var H=E.MQ,Z=E.as3;
delete e.add[H[0]];if(Z[0]!="----")e.add[Z[0]]=Z[1]}if(c==jN.zy){e.add.iOpa=E.m7;y.W()}if(c==jN.b0){for(var N=0;
N<E.CT.length;N++){var X=y.B[E.CT[N]];X.rP(!X.OQ())}y.W()}if(c==jN.Dd){var b=e.Nb();b.isEnabled=!b.isEnabled;
e.fP(y);y.W()}if(c==jN.jG){var b=e.kP(y).F;b.isEnabled=!b.isEnabled;e.W();y.W()}if(c==jN.Su){var b=e.add.vmsk;
b.isEnabled=!b.isEnabled;if(!b.isEnabled){if(e.W_){e.F=e.W_;e.W_=null}else e.F=null}else if(e.F){e.W_=e.F;
e.F=null}e.fP(y);y.W()}if(c==jN.KW){e.av=!e.av;y.W()}if(c==jN.YK){e.add.lmfx.masterFXSwitch.v=!e.add.lmfx.masterFXSwitch.v;
e.b_.sg=!0;y.W()}if(c==jN.AR){e.add.SoLd.filterFX.v.enab.v=!e.add.SoLd.filterFX.v.enab.v;e.Hf(y);y.W()}if(c==jN.Ck){var k=E.index,D=e.add.lmfx[cb.zt[k[0]]].v[k[1]].v;
D.enab.v=!D.enab.v;e.b_.sg=!0;y.W()}if(c==jN._7){var j=y.B[E.Vu],g=y.B[E.dJ],R=E.ags,t=E.aDg;if(R=="")delete j.add.lmfx;
else j.add.lmfx=JSON.parse(R);if(t=="")delete g.add.lmfx;else g.add.lmfx=JSON.parse(t);j.b_.sg=!0;g.b_.sg=!0;
y.W()}if(c==jN.y$){var w=e.add.SoLd.filterFX.v.filterFXList.v[E.index].v;w.enab.v=!w.enab.v;e.Hf(y);
y.W()}if(c==jN.aqk){e.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(E.adV));e.Hf(y);y.W()}if(c==jN.JP){var b=e.Nb();
b.PJ=!b.PJ}if(c==jN.Fs){var b=e.add.vmsk;b.PJ=!b.PJ}if(c==jN._l){var B=JSON.parse(E.alK);y.NC=B[0];y.PH=B[1]}if(c==jN.v7){var B=E.h0;
for(var N=0;N<B.length;N+=2){var $=B[N],X=$>=0?y.B[$]:y.gA[-1-$];X.add.vogk=JSON.parse(B[N+1]);d.gM.ZW(X.add.vogk,X.add.vmsk);
if($>=0)X.fP(y)}y.W()}if(c==jN.qA){e.add.artb=JSON.parse(E.apT);y.W();F.Et.mT(y,E)}if(c==jN.Me){y.i=E.Mb;
if(E.ahh)y.Q.V=E.ahh.slice(0);y.cB=E.h0.slice(0);y.dL=E.rw.slice(0);y.Ea=y.hb=!0}if(c==jN.Kd){e.E0=!e.E0}if(c==jN.fs){var o=E.a3n;
for(var N=0;N<o.length;N++)y.B[N].Y5=o[N]}if(c==jN.l$){if(E.dO)F.pB.Ae(y,y.g,null,-E.dO.x,-E.dO.y);if(E.k7)y.g=E.k7;
if(E.w6)y.i=E.w6[0];y.RT=null;y.W();F.Et.mT(y,E);y.vr(E.wO);if(E.jq)y.Z5(E.jq[0])}if(c==jN.mG){for(var N=0;
N<E.D2.length;N+=3)F.DI.oz(y,y.B[E.D2[N]],E.D2[N+1]);if(E.w6){var T=E.w6[0];if(T==null)delete y.i;else y.i=T}if(E.aCW){var X=y.B[E.D2[0]];
d.Og(E.D2[2].channel,X.buffer,3)}}if(c==jN.vX){e.kP(y).F=null;e.W();y.W()}if(c==jN.No){e.kP(y).F=E.F;
e.W();y.W()}if(c==jN.R0){F.DI.aCq(y,E.JF,0)}if(c==jN.Ao){F.DI.YJ(y,e,!0)}if(c==jN.CR){F.DI.YJ(y,y.B[E.Tt],E.F.isEnabled);
F.DI.RR(y,y.B[E.src],E)}if(c==jN.uO){if(E.W_)F.DI.oz(y,e,null);F.DI.RR(y,e,E)}if(c==jN.Yd){y.Or=JSON.parse(E.zU)}if(c==jN.yF){y.name=E.awm}if(c==jN.tS){for(var N=0;
N<E.Wp.length;N++){var i=E.Wp[N],X=y.B[i[0]];X.v4(i[1]);if(i[3])X.add.lnsr=i[3];else delete X.add.lnsr}}if(c==jN.dv){for(var N=0;
N<E.B.length;N++)y.B[E.B[N]].add.lclr=E.awM[N]}if(c==jN.Od){var r=E.aeO;for(var N=0;N<E.CT.length;N++){var X=y.B[E.CT[N]],I=r[N];
if(!E.Xr)X.add.vstk=JSON.parse(JSON.stringify(I));else cb.z1(X.add,JSON.parse(JSON.stringify(I)));X.yq(y)}y.W()}if(c==jN.$P){e.ajP(E.v5);
e.fP(y);y.W()}y.hb=!0};F.DI.prototype.Rn=function(E,y){var c=E.d,e=y.B[E.a];y.ac=!0;if(c==jN.if){y.add.lnk2.splice(y.add.lnk2.indexOf(E.Y2),1,E._V);
F.DI.Q$(y,E.id,E.Y2.ed[1],E._V.ed[1])}if(c==jN.ek){e.add.SoLd.Impr.v.classID=E.Hx;e.an(y)}if(c==jN.nU){var p=JSON.parse(E.CT);
for(var N=0;N<p.length;N++)y.B[p[N]].ur=E.Hx;y.W()}if(c==jN.Bt){var p=JSON.parse(E.CT);for(var N=0;N<p.length;
N++)y.B[p[N]].opacity=E.Hx;y.W()}if(c==jN.Bu){var p=JSON.parse(E.CT);for(var N=0;N<p.length;N++)if(y.B[p[N]].add.lsct!=kl.vp)y.B[p[N]].add.lspf=E.Hx[N]}if(c==jN.mj){var H=E.as3,Z=E.MQ;
delete e.add[H[0]];if(Z[0]!="----")e.add[Z[0]]=Z[1]}if(c==jN.zy){e.add.iOpa=E.Hx;y.W()}if(c==jN.b0){for(var N=0;
N<E.CT.length;N++){var X=y.B[E.CT[N]];X.rP(!X.OQ())}y.W()}if(c==jN.Dd){var b=e.Nb();b.isEnabled=!b.isEnabled;
e.fP(y);y.W()}if(c==jN.jG){var b=e.kP(y).F;b.isEnabled=!b.isEnabled;e.W();y.W()}if(c==jN.Su){var b=e.add.vmsk;
b.isEnabled=!b.isEnabled;if(!b.isEnabled){if(e.W_){e.F=e.W_;e.W_=null}else e.F=null}else if(e.F){e.W_=e.F;
e.F=null}e.fP(y);y.W()}if(c==jN.KW){e.av=!e.av;y.W()}if(c==jN.YK){e.add.lmfx.masterFXSwitch.v=!e.add.lmfx.masterFXSwitch.v;
e.b_.sg=!0;y.W()}if(c==jN.AR){e.add.SoLd.filterFX.v.enab.v=!e.add.SoLd.filterFX.v.enab.v;e.Hf(y);y.W()}if(c==jN.Ck){var k=E.index,D=e.add.lmfx[cb.zt[k[0]]].v[k[1]].v;
D.enab.v=!D.enab.v;e.b_.sg=!0;y.W()}if(c==jN._7){var j=y.B[E.Vu],g=y.B[E.dJ],R=E.a2H,t=E.ae3;if(R=="")delete j.add.lmfx;
else j.add.lmfx=JSON.parse(R);if(t=="")delete g.add.lmfx;else g.add.lmfx=JSON.parse(t);j.b_.sg=!0;g.b_.sg=!0;
y.W()}if(c==jN.y$){var w=e.add.SoLd.filterFX.v.filterFXList.v[E.index].v;w.enab.v=!w.enab.v;e.Hf(y);
y.W()}if(c==jN.aqk){e.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(E.afo));e.Hf(y);y.W()}if(c==jN.JP){var b=e.Nb();
b.PJ=!b.PJ}if(c==jN.Fs){var b=e.add.vmsk;b.PJ=!b.PJ}if(c==jN._l){var B=JSON.parse(E.a19);y.NC=B[0];y.PH=B[1]}if(c==jN.v7){var B=E.uv;
for(var N=0;N<B.length;N+=2){var $=B[N],X=$>=0?y.B[$]:y.gA[-1-$];X.add.vogk=JSON.parse(B[N+1]);d.gM.ZW(X.add.vogk,X.add.vmsk);
if($>=0)X.fP(y)}y.W()}if(c==jN.qA){e.add.artb=JSON.parse(E.eP);y.W();F.Et.h$(y,E)}if(c==jN.Me){y.i=E.Yi;
if(E.ajC)y.Q.V=E.ajC.slice(0);y.cB=E.uv.slice(0);y.dL=E.px.slice(0);y.Ea=y.hb=!0}if(c==jN.Kd){e.E0=!e.E0}if(c==jN.fs){var o=E.axk;
for(var N=0;N<o.length;N++)y.B[N].Y5=o[N]}if(c==jN.l$){y.arE();var T=E.gr,i=0,r;for(var N=0;N<T.length;
N++){var X=T[N],I=X.add.lsct;if(I==kl.vp)i++;else if(I==kl.Sh||I==kl.ze)i--;if(X.add.artb&&i!=0)r="Artboards can not be inside folders."}if(r){y.history.pop();
y.PT--;alert(r);return}if(E.Bs)y.g=E.Bs;if(E.w6)y.i=E.w6[1];y.RT=null;y.W();y.vr(E.gr);F.Et.h$(y,E);
if(E.dO)F.pB.Ae(y,y.g,null,E.dO.x,E.dO.y);if(E.jq)y.Z5(E.jq[1])}if(c==jN.mG){for(var N=0;N<E.D2.length;
N+=3)F.DI.oz(y,y.B[E.D2[N]],E.D2[N+2]);if(E.w6){var M=E.w6[1];if(M==null)delete y.i;else y.i=M}if(E.aCW){var X=y.B[E.D2[0]],J=X.buffer;
for(var N=0;N<J.length;N+=4)J[N+3]=255}}if(c==jN.vX){e.kP(y).F=E.F;e.p6=0;e.W();y.W()}if(c==jN.No){e.kP(y).F=null;
e.p6=0;e.W();y.W()}if(c==jN.R0){F.DI.aCq(y,E.JF,1)}if(c==jN.Ao){F.DI.RR(y,e,E)}if(c==jN.CR){F.DI.YJ(y,y.B[E.src],E.F.isEnabled);
F.DI.RR(y,y.B[E.Tt],E)}if(c==jN.uO){F.DI.YJ(y,e,E.F.isEnabled);if(E.W_)F.DI.oz(y,e,E.W_)}if(c==jN.Yd){y.Or=JSON.parse(E.uk)}if(c==jN.yF){y.name=E.RK}if(c==jN.tS){for(var N=0;
N<E.Wp.length;N++){var P=E.Wp[N],X=y.B[P[0]];X.v4(P[2]);if(P[4])X.add.lnsr=P[4];else delete X.add.lnsr}}if(c==jN.dv){for(var N=0;
N<E.B.length;N++)y.B[E.B[N]].add.lclr=E.EF[N]}if(c==jN.Od){var n=E.BM;for(var N=0;N<E.CT.length;N++){var X=y.B[E.CT[N]],x=n[N];
if(!E.Xr)X.add.vstk=JSON.parse(JSON.stringify(x));else cb.z1(X.add,JSON.parse(JSON.stringify(x)));X.yq(y)}y.W()}if(c==jN.$P){e.ajP(E.Hx);
e.fP(y);y.W()}y.hb=!0};F.DI.lG=function(E,y){var c=0;for(var N=0;N<E.B.length;N++){var e=E.B[N].getName();
if(e.startsWith(y)){var p=e.slice(y.length).trim(),H=parseInt(p);if(!isNaN(H)&&H+""==p&&H>c)c=H}}return c};
F.DI.aCq=function(E,y,c){for(var N=0;N<y.length;N++){var e=y[N],p=E.B[e.Z3];if(e.Tb){p.add.SoLd=JSON.parse(e.Tb[c])}if(e.Jd){if(e.Jd[1-c]!=null)E.je(e.Jd[1-c]);
if(e.Jd[c]!=null)E.sV(e.Jd[c]);else p.p6=0}p.an(E)}};F.DI.aBV=function(E,y){var c=E.yX,e=E.rect.clone();
if(c!=null&&(c.x!=y.m||c.y!=y.e)){e.x=Math.floor((y.m-e.m)/2);e.y=Math.floor((y.e-e.e)/2)}else if(c==null){var p=new ir(0,0,y.m,y.e),H=y.Z1();
if(H!=-1)p=y.B[H].fQ();e.x+=p.x;e.y+=p.y}return e};F.DI.a91=function(E,y){if(y.W_)y.W_=null;else y.F=null;
y.fP(E);E.W();y.p6=0};F.DI.oz=function(E,y,c){var e=y.Nb();if(e==null&&c==null)return;if(e)F.DI.a91(E,y);
if(c==null)return;if(y.F)y.W_=c;else y.F=c;y.fP(E);E.W()};F.DI.YJ=function(E,y,c){if(y.W_&&c){y.F=y.W_;
y.W_=null}else if(y.F&&c){y.F=null}delete y.add.vogk;delete y.add.vstk;delete y.add.vmsk;y.fP(E);y.EL=!1;
E.RT=[];E.W()};F.DI.RR=function(E,y,c){y.add.vogk=JSON.parse(c.gM);if(c.CY)y.add.vstk=JSON.parse(c.CY);
else delete y.add.vstk;y.add.vmsk=c.F.clone();if(y.F&&y.add.vmsk.isEnabled)y.W_=y.F;y.fP(E);y.EL=c.jf;
E.RT=[E.B.indexOf(y)];E.zG=[];E.W()};F.Ui=function(){F.gb.call(this,"Layer Styles",F.Mt);this.gc=null;
this.dN=null;this.YL=null;this.Dn=[];this.DH=null};F.Ui.prototype=new F.gb;F.Ui.prototype.hE=function(E,y,c,e,p){var H=E.a;
if(H==null)H=c.g[0];var Z=c.B[H],X=E.h2;if(this.gc==null){this.YL=F.Ui.cO(c,Z);this.gc=JSON.stringify(this.YL);
if(Z.add.lmfx)this.dN=JSON.stringify(Z.add.lmfx)}if(Z.add.lmfx==null){Z.add.lmfx=JSON.parse(cb.default);
for(var N=0;N<cb.order.length;N++)Z.add.lmfx[cb.zt[N]]={t:"VlLs",v:[]}}if(E.d=="scaleeffects"){if(E.b=="confirm"||E.b=="cancel"){this.hE({d:E.b},y,c,e,p);
return}Z.add.lmfx=JSON.parse(this.dN);hA.Yv(Z.add.lmfx,E.b/100)}else if(E.d=="changeprop"){var b=null;
if(X!=0){var k=this.Dn[X[0]];if(k==null)k=cb.Dn[X[0]];k=JSON.parse(k);var D=Z.add.lmfx[cb.zt[X[0]]].v;
if(D[X[1]]==null)D[X[1]]={t:"Objc",v:k};b=D[X[1]].v;for(var j in k)if(b[j]==null)b[j]=k[j]}if(E.d=="changeprop"){if(X==0){this.YL[E.jV].v=E.b;
F.Ui.nN(c,Z,this.YL)}else if(E.jV=="lagl"){if(b.uglg&&b.uglg.v){c.nZ(E.b.val);this.YL.gagl.v.val=c.Ac()}else b[E.jV].v=E.b}else if(E.jV=="Lald"){if(b.uglg.v){c.YT(E.b.val);
this.YL.afK=c.FN()}else b[E.jV].v=E.b}else if((X[0]==3||X[0]==8)&&(E.jV=="Clr"||E.jV=="Grad")){if(E.jV=="Clr"){b.Clr={t:"Objc",v:E.b};
delete b.Grad}if(E.jV=="Grad"){b.Grad={t:"Objc",v:E.b};delete b.Clr}}else{b[E.jV].v=E.b}if(X!=0)this.Dn[X[0]]=JSON.stringify(b)}if(X!=0)if(b.Ptrn)c.w4(hA.GX(b.Ptrn.v,p.gS))}else if(E.d=="setstl"){var g=E.b.Lefx;
if(g)hA.aBd(g,c,p.gS);hA.aoD(E.b,Z,null,c);this.YL=F.Ui.cO(c,Z)}else if(E.d=="st_dupsingle"){var R=Z.add.lmfx[cb.zt[E.ir[0]]].v;
if(R[E.ir[1]]==null)return;var t=JSON.parse(JSON.stringify(R[E.ir[1]]));R.splice(E.ir[1],0,t)}else if(E.d=="st_movsingle"){var w=E.ir[1],R=Z.add.lmfx[cb.zt[E.ir[0]]].v;
if(R[E.ir[1]]==null)return;var B=Math.max(0,Math.min(R.length-1,w+E.aaB)),$=R[B];R[B]=R[w];R[w]=$}else if(E.d=="cancel"){if(this.dN==null)delete Z.add.lmfx;
else Z.add.lmfx=JSON.parse(this.dN);F.Ui.nN(c,Z,JSON.parse(this.gc));this.gc=null;this.dN=null}else if(E.d=="confirm"){var o=JSON.stringify(Z.add.lmfx),T=new fN([11,6],this);
T.data={B:[H],uR:[this.dN],hv:[o],f1:[this.gc],eT:[JSON.stringify(this.YL)]};c.QY(T);this.gc=null;this.dN=null;
if(o!=null){var i=JSON.parse(o);dc.sw(i);i.classID="Lefx";delete i.masterFXSwitch;var r=new iU(S.E.on);
r.n5=!0;r.data={tT:"set",ja:!0};var I=aW.G6("Lyr",!0);I.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
r.data.hG={__name:"Set",classID:"setd",null:I,T:{t:"Objc",v:i}};y.T(r)}}else if(E.d=="st_copy"){this.DH=[this.gc,this.dN];
this.gc=null;this.dN=null}else if(E.d=="st_paste"||E.d=="st_clear"){if(E.d=="st_paste"&&this.DH==null)return;
var M=E.a!=null?[E.a]:c.g.slice(0),J=[],P=[],n=[],x=[];for(var N=0;N<M.length;N++){var Z=c.B[M[N]],L=F.Ui.cO(c,Z);
J.push(Z.add.lmfx?JSON.stringify(Z.add.lmfx):null);n.push(JSON.stringify(L));if(E.d=="st_paste"){P.push(this.DH[1]);
x.push(this.DH[0])}else{P.push(null);L.lrMd.v=0;L.Opct.v.val=100;L.iOpa.v.val=100;L.blIf={v:[]};for(var u=0;
u<10;u++)L.blIf.v.push(0,0,255,255);x.push(JSON.stringify(L))}}var T=new fN([11,6],this);T.data={B:M,uR:J,hv:P,f1:n,eT:x};
this.Rn(T.data,c);c.QY(T);this.gc=null;this.dN=null}else{var C=this.YL,i=null;if(E.d=="st_delsingle"){i=JSON.parse(this.dN);
i[cb.zt[E.ir[0]]].v.splice(E.ir[1],1);i=JSON.stringify(i)}if(i==null)delete Z.add.lmfx;else Z.add.lmfx=JSON.parse(i);
if(C!=null)F.Ui.nN(c,Z,C);var T=new fN([11,6],this);T.data={B:[E.a],uR:[this.dN],hv:[i],f1:[this.gc],eT:[JSON.stringify(C)]};
c.QY(T);this.gc=null;this.dN=null}Z.b_.sg=!0;c.ac=!0;c.W()};F.Ui.cO=function(E,y){if(y.add.iOpa==null)y.add.iOpa=255;
if(y.add.brst==null)y.add.brst=[1,1,1];var c=y.uY()?["pass"].concat(cg.Fn):cg.Fn;return{lrMd:{v:c.indexOf(y.ur)},Opct:{v:{type:"#Prc",val:Math.round(y.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(y.add.iOpa*100/255)},t:"UntF"},blIf:{v:y.TO.slice(0)},brst:{v:y.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:E.Ac()}},afK:E.FN(),uY:y.uY()}};
F.Ui.nN=function(E,y,c){var e=y.uY()?["pass"].concat(cg.Fn):cg.Fn;y.ur=e[c.lrMd.v];y.opacity=Math.round(c.Opct.v.val*255/100);
y.add.iOpa=Math.round(c.iOpa.v.val*255/100);y.TO=c.blIf.v.slice(0);y.add.brst=c.brst.v.slice(0);E.nZ(c.gagl.v.val);
E.YT(c.afK)};F.Ui.prototype.GW=function(E,y){for(var N=0;N<E.B.length;N++){var c=y.B[E.B[N]],e=E.uR[N];
if(e==null)delete c.add.lmfx;else c.add.lmfx=JSON.parse(e);F.Ui.nN(y,c,JSON.parse(E.f1[N]));c.b_.sg=!0}y.ac=!0;
y.W()};F.Ui.prototype.Rn=function(E,y){for(var N=0;N<E.B.length;N++){var c=y.B[E.B[N]],e=E.hv[N];if(e==null)delete c.add.lmfx;
else c.add.lmfx=JSON.parse(e);F.Ui.nN(y,c,JSON.parse(E.eT[N]));c.b_.sg=!0}y.ac=!0;y.W()};F.tX=function(){F.gb.call(this,"Layer Comps",F.ug)};
F.tX.prototype=new F.gb;F.tX.prototype.hE=function(E,y,c,e){var p=JSON.parse(JSON.stringify(c.$k)),H=JSON.parse(JSON.stringify(c.$k)),Z=null,X=null,b=null,k=-1,D=!1;
if(E.d=="delLC"){var j=F.tX.sI(c.$k,E.h2),g=c.$k.lastAppliedComp?c.$k.lastAppliedComp.v:0;H.list.v.splice(j,1);
if(g==E.h2)delete H.lastAppliedComp;Z="Delete Layer Comp"}if(E.d=="editLC"){var j=F.tX.sI(c.$k,E.h2),R=H.list.v[j].v;
if(E.RK!=null)R.Nm.v=E.RK;if(E.a08!=null){var t=E.a08,w=R.capturedInfo.v,B=w&(1<<t)-1;w=w>>t;if((w&1)==1)w--;
else w++;R.capturedInfo.v=(w<<t)+B}Z="Layer Comp properties"}if(E.d=="setLC"){F.tX.qt(c);if(E.h2==0)delete H.lastAppliedComp;
else H.lastAppliedComp={t:"long",v:E.h2};Z="Switch Layer Comp";D=!0}if(E.d=="updLC"){F.tX.qt(c);X=F.tX.ayV(c,E.h2);
b=F.tX.Qq(c,E.h2);H.lastAppliedComp={t:"long",v:E.h2};Z="Update Layer Comp";k=E.h2;D=!0}if(E.d=="addLC"){F.tX.qt(c);
var $=1;for(var N=0;N<H.list.v.length;N++)$=Math.max($,H.list.v[N].v.compID.v)+1;$+=Math.floor(Math.random()*1e4);
var o={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(H.list.v.length+1)},compID:{t:"long",v:$},capturedInfo:{t:"long",v:7}}};
H.list.v.push(o);H.lastAppliedComp={t:"long",v:$};Z="New Layer Comp";var T=F.tX.Qq(c,$);F.tX.Mn(c,T,$)}var i=new fN(Z,this);
i.data={az2:p,a5W:H,anp:X,anG:b,h2:k,Ur:D};this.Rn(i.data,c);c.QY(i)};F.tX.prototype.Rn=function(E,y){y.$k=E.a5W;
y.ac=!0;if(E.anG)F.tX.Mn(y,E.anG,E.h2);if(E.Ur){var c=y.$k.lastAppliedComp?y.$k.lastAppliedComp.v:0,e=F.tX.sI(y.$k,c),p=e==-1?null:y.$k.list.v[e].v,H=p?p.capturedInfo.v:7;
F.tX.e6(y,c,H);y.W()}};F.tX.prototype.GW=function(E,y){y.$k=E.az2;y.ac=!0;if(E.anp)F.tX.Mn(y,E.anp,E.h2);
if(E.Ur){var c=y.$k.lastAppliedComp?y.$k.lastAppliedComp.v:0,e=F.tX.sI(y.$k,c),p=e==-1?null:y.$k.list.v[e].v,H=p?p.capturedInfo.v:7;
F.tX.e6(y,c,H);y.W()}};F.tX.qt=function(E){if(E.$k.lastAppliedComp!=null||!E.Y_)return;var y=F.tX.Qq(E,0);
F.tX.Mn(E,y,0);E.Y_=!1};F.tX.Pr=function(E,y,c){E.v.Hrzn.v+=y;E.v.Vrtc.v+=c};F.tX.sI=function(E,y){var c=E.list.v;
for(var N=0;N<c.length;N++)if(c[N].v.compID.v==y)return N;return-1};F.tX.a89=function(E){var y=E.layerSettings.v,p=null;
if(y.length==0)return;var c="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),e=y[0].v;
if(e.enab==null)e.enab={t:"bool",v:!0};if(e.Ofst==null)e.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var N=0;N<y.length;N++){var H=y[N].v;if(p==null)p=JSON.parse(JSON.stringify(H));else for(var Z=0;
Z<c.length;Z++){var X=c[Z];if(H[X])p[X]=JSON.parse(JSON.stringify(H[X]))}y[N].v=JSON.parse(JSON.stringify(p))}};
F.tX.a5P=function(E,y){var c=E.add.shmd.cmls,e=c.layerSettings.v;for(var p=0;p<e.length;p++){var H=e[p].v,Z=H.compList.v[0].v;
if(Z==y)return p}return-1};F.tX.a9i=function(E,y){var c=F.tX.a5P(E,y);return c==-1?null:E.add.shmd.cmls.layerSettings.v[c].v};
F.tX.e6=function(E,y,c){for(var N=0;N<E.B.length;N++){var e=E.B[N],p=e.add.shmd.cmls;if(p==null)continue;
var H=p.layerSettings.v,Z=F.tX.a9i(e,y);if(Z==null){e.rP(!1);continue}if((c&1)!=0){if(Z.enab)e.rP(Z.enab.v);
else e.rP(!0)}if((c&2)!=0){if(Z.Ofst){var X=Z.Ofst.v,b=e.WT(E),k=Math.round(X.Hrzn.v-b.x),D=Math.round(X.Vrtc.v-b.y);
if(k!=0||D!=0)F.pB.Ae(E,[N],null,k,D)}}if((c&4)!=0){if(Z.Lefx){var j=JSON.parse(JSON.stringify(Z.Lefx.v));
dc.FG(j);if(JSON.stringify(j)!=JSON.stringify(e.add.lmfx)){e.add.lmfx=j;e.b_.sg=!0}}else delete e.add.lmfx;
if(Z.blendOptions){var g=Z.blendOptions.v;if(g.Opct)e.opacity=Math.round(255*g.Opct.v.val/100);if(g.fillOpacity)e.add.iOpa=Math.round(255*g.fillOpacity.v.val/100);
if(g.Md)e.ur=e.add.lsct==kl.vp?"norm":cg.RI(g.Md.v.BlnM)}else{e.opacity=255;e.ur=e.uY()?"pass":"norm";
e.add.iOpa=255}}}};F.tX.ayV=function(E,y){var c={};for(var N=0;N<E.B.length;N++){var e=E.B[N];if(e.add.shmd==null||e.add.shmd.cmls==null)continue;
c["l"+e.add.lyid]=JSON.parse(JSON.stringify(F.tX.a9i(e,y)))}return c};F.tX.Qq=function(E,y){var c={};
for(var N=0;N<E.B.length;N++){var e=E.B[N],p=e.add.lyid;c["l"+p]=F.tX.aCk(E,e,y)}return c};F.tX.aCk=function(E,y,c){var e=y.add.shmd?y.add.shmd.cmls:null,p={classID:"null"},H=y.WT(E),Z={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:H.x},Vrtc:{t:"long",v:H.y}}};
p.compList={t:"VlLs",v:[{t:"long",v:c}]};p.enab={t:"bool",v:y.OQ()};p.Ofst=JSON.parse(JSON.stringify(Z));
p.FXRefPoint=JSON.parse(JSON.stringify(e&&e.origFXRefPoint?e.origFXRefPoint:Z));p.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:cg.KH(y.ur)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*y.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:y.add.iOpa!=null?100*y.add.iOpa/255:100}}}};
if(y.add.vmsk){p.vectorMask={t:"Objc",v:{classID:"null"}};p.vectorMask.v.Ofst=JSON.parse(JSON.stringify(Z))}if(y.add.lmfx){p.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(y.add.lmfx))};
dc.sw(p.Lefx.v)}return p};F.tX.aof=function(E,y){var c=y.add.lyid;if(y.add.shmd==null)y.add.shmd={};
if(y.add.shmd.cmls==null){y.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:c},layerSettings:{t:"VlLs",v:[{t:"Objc",v:F.tX.aCk(E,y,0)}]}}}};
F.tX.Mn=function(E,y,c){for(var N=0;N<E.B.length;N++){var e=E.B[N],p=e.add.lyid;F.tX.aof(E,e);var H=e.add.shmd.cmls,Z=H.layerSettings.v,X=y["l"+p];
if(X!=null)X={t:"Objc",v:JSON.parse(JSON.stringify(X))};var b=F.tX.a5P(e,c);if(b==-1){if(X==null)continue;
else Z.push(X)}else{if(X==null)Z.splice(b,1);else Z[b]=X}}};F.tX.HQ=function(E,y){for(var N=0;N<E.B.length;
N++){var c=E.B[N],e=c.add.lyid;if(c.add.shmd==null||c.add.shmd.cmls==null)continue;var p=c.WT(E),H=Math.round(p.x),Z=Math.round(p.y);
if(!y){H=-H;Z=-Z}var X=c.add.shmd.cmls,b=X.layerSettings.v;if(X.origFXRefPoint)F.tX.Pr(X.origFXRefPoint,-H,-Z);
for(var k=0;k<b.length;k++){var D=b[k].v;F.tX.Pr(D.Ofst,H,Z);var j=D.imageMask,g=D.vectorMask;if(j&&j.v.Ofst)F.tX.Pr(j.v.Ofst,H,Z);
if(g&&g.v.Ofst)F.tX.Pr(g.v.Ofst,H,Z)}}};F.iq=function(){F.gb.call(this,"Adjust Edit",F.rr);this.uk=null;
this.rG=null};F.iq.prototype=new F.gb;F.iq.MK=function(E,y,c,e){if(e)y/=4;var p=0,H=0,Z=255,X=0,b=0,k=255;
while(H+E[p]<y){H+=E[p];p++}while(X+E[Z]<y){X+=E[Z];Z--}if(e){p-=Math.round(E[p]/(c/32));Z+=Math.round(E[Z]/(c/32));
if(p<0)b=Math.round(-p*255/(Z-p));if(Z>255)k=255-Math.round((Z-255)*255/(Z-p))}return[Math.max(p,0),Math.min(Z,255),b,k,100]};
F.iq.prototype.hE=function(E,y,c,e,p){var H=E.d;if(H=="auto"){var Z=E.EA,X=F.iq.getData(c);for(var N=0;
N<X.length;N++){var b=X[N],k;if(Z<3){}else{var D=cN.TL("hue2");b0.UL(D,0,[0,-100,0]);k=et.z8("hue2",D)}et.bJ(k,b.Ng,b.Si,b.k4)}F.iq.BX(c,X);
F.iq.Oq(c,X,Z<3?[4,16,Z]:[19,7,0],this);c.W()}if(H=="edit_layer")this.awC(E,y,c,e);if(H=="edit"||H=="confirm"||H=="cancel")this.gB(E,y,c,p,!0);
if(H=="start"){if(c.g.length==0)return;var j=c.B[c.g[0]];if(j.add.SoLd&&j.p6<=0&&c.dL.length==0){var g=new iU(S.E.v,!0);
g.f=F.UA;g.data={d:"start",Gl:E.Bn,XR:E.XR};y.T(g);return}if(!c.Pa(y,null,!0))return;if(bK[E.Bn]&&E.XR==null){if(c.g.length!=1)alert("Will be applied to "+c.g.length+" layers.");
var g=new iU(S.E.M,!0);g.data={d:S.H.Q5,ym:"afw_"+E.Bn};y.T(g)}else{this.gB({d:"edit",XR:E.XR,Gl:E.Bn},y,c,p);
this.gB({d:"confirm",Gl:E.Bn},y,c,p)}}};F.iq.prototype.awC=function(E,y,c,e){var p=E.d,H=c.g[0],Z=c.B[H],X=et.get(Z.add),g;
if(Z.add[X]==null)return;var b=JSON.parse(JSON.stringify(Z.add[X]));for(var k in E.b)b[k]=E.b[k];var D=JSON.parse(JSON.stringify(b));
for(var k in et.OE)if(et.OE[k]==X)D.classID=k;var j=c.history[c.PT];if(j&&j.f==this&&j.data.v5!=null&&j.data.a==H)g=j;
else{var R=new iU(S.E.on,!0),t={classID:"setd",null:aW.G6("AdjL",!0),T:{t:"Objc",v:D}};R.data={ja:!0,tT:"set",hG:t};
y.T(R);var g=new fN([6,39],this);g.data={a:H,v5:Z.add[X],Hx:b,JM:t};c.QY(g)}g.data.Hx=b;g.data.JM.T.v=D;
this.Rn(g.data,c)};F.iq.getData=function(E,y,c){var e=[],p=new ir(0,0,E.m,E.e),H=E.dL.length!=0?[-1-E.dL[0]]:E.g;
for(var N=0;N<H.length;N++){var Z=H[N],X=Z<0?null:E.B[Z],b={a:Z,AV:Z<0?1:X.p6};e.push(b);var k=E.cB[-1-Z];
if(0<=Z)k=X.p6<=0?null:X.p6==1?X.Nb():X.kP(E).F;var D=k?k.rect:X.rect;if(E.i){b.k4=E.i.rect.fr(y||k!=null?p:D)}else b.k4=y||k!=null?D.uN(p):D.clone();
if(c)b.k4=c[N].k4.clone();var j=b.k4.P();b.Ng=d.R(j*4);if(k)F.XP.Mf(k.channel,k.rect,k.color,b.Ng,b.k4);
else d.E6(X.buffer,D,b.Ng,b.k4);b.Si=b.Ng.slice(0);if(E.i){b.D2=d.R(j);d.kh(E.i.channel,E.i.rect,b.D2,b.k4)}}return e};
F.iq.a5x=function(E,y,c){if(y==null)return y;var e=et.gG(E,y),H;if(e==-1)return y;var p=c.length>>>2,Z=d.KQ(c),X=.001*p;
if(e==0||e==2)H=[[0,255,0,255,100],F.iq.MK(Z[1],X,p,e==2),F.iq.MK(Z[2],X,p,e==2),F.iq.MK(Z[3],X,p,e==2)];
if(e==1)H=[F.iq.MK(Z[0],X*.33,p,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var b=cN.TL("levl");
for(var N=0;N<4;N++)fE.UL(b,N,H[N]);return b};F.iq.a4M=function(E,y,c,e){var p,H;if(c.t=="name"){var Z=0;
for(var X=0;X<E.B.length;X++)if(E.B[X].getName()==c.v.val)Z=X;if(E==y&&Z==e.a){p=e.Ng;H=e.k4}else{var b=E.B[Z];
p=b.buffer;H=b.rect}}else{H=new ir(0,0,E.m,E.e);p=E==y?e.Rh:E.eA()}return[p,H]};F.iq.prototype.gB=function(E,y,c,e){if(this.uk==null){if(E.Gl=="aply")c.B[c.g[0]].extend(new ir(0,0,c.m,c.e));
this.uk=F.iq.getData(c,null,E.Gl=="fade"?c.f6().data:null);if(E.Gl=="aply"||E.Gl=="matc")this.uk[0].Rh=c.eA()}if(E.d=="edit"){this.rG=[E.Gl,E.XR];
var p=this.uk[0],H=F.iq.a5x(E.Gl,E.XR,p.Ng),Z=et.z8(E.Gl,H);if(E.Gl=="fade"||E.Gl=="matc"||E.Gl=="aply")Z=E.XR;
if(Z!=null){for(var X=0;X<this.uk.length;X++){var b=this.uk[X];if(E.Rs)d.Jt(b.Ng,b.Si);else if(E.Gl=="fade"){var k=cg.RI(E.XR.Md.v.BlnM),D=E.XR.Opct.v.val/100,j=c.f6().data[X];
d.Jt(j.Ng,b.Si);if(k=="norm")d.l.vj(b.Ng,b.k4,b.Si,b.k4,null,null,null,b.k4,D);else{var g=hA._M();g.ap=!0;
for(var N=0;N<j.Ng.length;N+=4)if(j.Ng[N+3]!=b.Ng[N+3]){g=null;break}d.l.Io(k,b.Ng,b.k4,b.Si,b.k4,b.k4,D,g)}}else if(E.Gl=="matc"){var R;
if(Z.noReference&&Z.noReference.v)R=b.Ng;else{var t=Z.Srce.v,w=t[1].v.val,B=y.l9,$=c;for(var N=0;N<B.length;
N++)if(B[N].name==w)$=B[N];var o=F.iq.a4M($,c,t[0],b);R=o[0]}bB(b.Ng,b.k4.m,b.k4.e,R,b.Si,[Z.Lght.v,Z.ClrR.v,Z.Fade.v,Z.neutralizeColor?Z.neutralizeColor.v:!1])}else if(E.Gl=="aply"){Z=Z.With.v;
var T=Z.T.v,o=F.iq.a4M(c,c,T[1],b),R=o[0],i=o[1],r=Z.Clcl?Z.Clcl.v.Clcn:null,k=r?cg.RI(r):"norm",D=Z.Opct?Z.Opct.v.val/100:1,I=["RGB","Rd","Grn","Bl","Trsp"].indexOf(T[0].v.enum),H=Z.Invr&&Z.Invr.v;
if(H||I!=0){R=R.slice(0);if(H)d.aaY(R);if(I!=0){var M=d.R(i.P());d.LI(R,M,I-1);if(I==4)d.Ub(M);for(var J=0;
J<3;J++)d.Og(M,R,J)}}if(r=="Add"||r=="Sbtr"){var P=1/Z.Scl.v,n=Z.Ofst.v,x=r=="Add"?1:-1,L=new Uint8ClampedArray(b.Si.buffer);
for(var N=0;N<R.length;N+=4){L[N]=(b.Ng[N]+x*R[N])*P+n;L[N+1]=(b.Ng[N+1]+x*R[N+1])*P+n;L[N+2]=(b.Ng[N+2]+x*R[N+2])*P+n}}else{var g=hA._M();
g.ap=Z.PrsT&&Z.PrsT.v;b.Si.fill(0);b.Si.set(b.Ng);d.l.Io(k,R,i,b.Si,b.k4,b.k4,D,g)}}else et.bJ(Z,b.Ng,b.Si,b.k4)}F.iq.BX(c,this.uk)}}if(E.d=="cancel"){F.iq.ajh(c,this.uk);
this.uk=null}if(E.d=="confirm"){var u={fade:[2,11],aply:[2,12],matc:[4,18]},C=u[E.Gl];if(C==null)C=et.names[E.Gl];
var h=et.gG(E.Gl,this.rG[1]);if(h!=-1)C=[4,16,h];F.iq.Oq(c,this.uk,C,this);this.uk=null;if(h==-1)F.iq.nT(y,this.rG)}c.W()};
F.iq.nT=function(E,y){var c=y[0],e=y[1],p,H;if(et.Zh[c]){p=et.Zh[c];if(bK[c])H=e}if(cN.Zh[c]){p=cN.Zh[c];
if(bK[c])H=e}if(c=="fade"){p="fade";H=e}if(c=="matc"){p="matchColor";H=e}if(c=="aply"){p="applyImageEvent";
H=e}if(c=="GEfc"){if(H.GEfs)H=H.GEfs.v[0].v}if(p==null)return;var Z=new iU(S.E.on,!0);Z.data={ja:!0,tT:p};
if(H){H=JSON.parse(JSON.stringify(H));Z.data.hG=H}E.T(Z)};F.iq.ajh=function(E,y){F.iq.eK(E,y)};F.iq.Oq=function(E,y,c,e){for(var N=0;
N<y.length;N++){var p=y[N],H=E.B[p.a],Z=p.a<0?E.cB[-1-p.a]:p.AV<=0?null:p.AV==1?H.Nb():H.kP(E).F;if(Z){Z.Q8();
Z.tq=!0;if(H)H.fP(E)}else{H.Q8();H.W()}delete p.Si;delete p.D2}var X=new fN(c,e);X.data=y;E.QY(X);E.ac=!0};
F.iq.BX=function(E,y,c){for(var N=0;N<y.length;N++){var e=y[N],p=E.B[e.a],H=c?e.Ng:e.Si,Z=e.k4;if(e.AV==0){p.extend(Z);
if(e.D2){d.E6(e.Ng,Z,p.buffer,p.rect);d.l.vj(H,Z,p.buffer,p.rect,e.D2,Z,0,Z,1)}else d.E6(H,Z,p.buffer,p.rect)}else{var X=e.a<0?E.cB[-1-e.a]:e.AV==1?p.Nb():p.kP(E).F;
X.extend(Z);if(e.D2){var b=d.R(Z.P()*4);d.Jt(e.Ng,b);d.l.vj(H,Z,b,Z,e.D2,Z,0,Z,1);F.XP.li(b,Z,X)}else F.XP.li(H,Z,X);
X.tq=!0;if(p)p.fP(E)}if(p)p.W()}if(!c)F.iq.axe(E,y)};F.iq.eK=function(E,y){for(var N=0;N<y.length;N++){var c=y[N],e=E.B[c.a],p=c.k4,H=d.R(p.P()*4);
if(c.AV==0){d.E6(e.buffer,e.rect,H,p);e.extend(p);d.E6(c.Ng,p,e.buffer,e.rect);e.Q8()}else{var Z=c.a<0?E.cB[-1-c.a]:c.AV==1?e.Nb():e.kP(E).F;
F.XP.Mf(Z.channel,Z.rect,Z.color,H,p);Z.extend(p);F.XP.li(c.Ng,p,Z);Z.Q8();Z.tq=!0;if(e)e.fP(E)}c.Ng=H;
if(e)e.W()}E.ac=!0};F.iq.bt=function(E){var y=0;for(var N=0;N<E.length;N++)y+=E[N].Ng.length;return y};
F.iq.axe=function(E,y){var c=F.iq.aei(E),e=~c;if(c==16777215)return;for(var N=0;N<y.length;N++){var p=y[N],H=E.B[p.a],Z=p.k4;
if(p.AV!=0)continue;H.extend(Z);var X=Z.x-H.rect.x,b=Z.y-H.rect.y,k=H.rect.m,D=new Uint32Array(p.Ng.buffer),j=new Uint32Array(H.buffer.buffer);
for(var g=0;g<Z.e;g++)for(var R=0;R<Z.m;R++){var t=g*Z.m+R,w=(g+b)*k+(R+X);j[w]=j[w]&c|D[t]&e}H.Q8();
H.W()}E.W()};F.iq.aei=function(E){var y=E.Q.V;return y[2]*16711680|y[1]*65280|y[0]*255};F.iq.prototype.GW=function(E,y){var c=y.B[E.a];
if(E.v5!=null)c.add[et.get(c.add)]=E.v5;else F.iq.eK(y,E);y.W()};F.iq.prototype.Rn=function(E,y){var c=y.B[E.a];
if(E.v5!=null)c.add[et.get(c.add)]=E.Hx;else F.iq.eK(y,E);y.W()};F.iq.prototype.bt=function(E){return E.v5==null?F.iq.bt(E):0};
F.jr=function(){F.gb.call(this,"Filter Edit",F.UA);this.uk=null;this.Pi=null;this.d=null;this.rG=null};
F.jr.prototype=new F.gb;F.jr.prototype.hE=function(E,y,c,e,p){if(E.d=="start"){if(c.g.length==0)return;
var H=c.B[c.g[0]];if(H.add.SoLd&&H.p6<=0&&c.dL.length==0){}else if(!c.Pa(y,null,!0))return;var Z=E.Gl;
if((bK[Z]||cN.s[Z])&&E.XR==null){if(c.g.length!=1)alert("Will be applied to "+c.g.length+" layers.");
var X=new iU(S.E.M,!0);X.data=F.jr.aj$(Z,this.PP(c,Z));y.T(X)}else{var b={d:"edit",Gl:Z,XR:E.XR,Rv:this.PP(c)};
this.hE(b,y,c,e,p);b.d="confirm";delete b.XR;this.hE(b,y,c,e,p)}}if(E.d=="edit"||E.d=="cancel"||E.d=="confirm"){if(E.d=="edit")this.rG=[E.Gl,E.XR];
if(E.Rv)this.ayg(E,y,c,p);else this.a7v(E,y,c,p)}if(E.d=="applylast"&&this.rG!=null){var b={d:"edit",Gl:this.rG[0],XR:this.rG[1],Rv:this.PP(c)};
this.hE(b,y,c,e,p);b.d="confirm";delete b.XR;this.hE(b,y,c,e,p)}};F.jr.aj$=function(E,y){var c=cN.s[E];
if(c)return{d:S.H.lg,f:c,Ss:{Rv:y}};else return{d:S.H.Q5,ym:"afw_"+E,Rv:y}};F.jr.prototype.PP=function(E,y){var c=E.B[E.g[0]],e;
if(c.add.SoLd&&c.p6<=0&&E.dL.length==0){e={a:E.g[0],index:0};if(c.add.SoLd.filterFX!=null){var p=c.add.SoLd.filterFX.v.filterFXList.v;
e.index=p.length;for(var N=0;N<p.length;N++)if(cN.Ms(p[N].v)==y&&cN.s[y])e.index=N}}return e};F.jr.prototype.ayg=function(E,y,c,e){var p=c.B[E.Rv.a],H=E.Gl;
if(E.d=="edit"){if(this.d==null){var Z=cN.names[H];if(Z==null)Z=et.names[H];if(H=="blendOptions")Z=[14,10];
this.d=new fN(Z,this);this.d.data={Rv:E.Rv,aA8:JSON.parse(JSON.stringify(p.add.SoLd))}}if(!p.p3()){p.add.SoLd.filterFX=cN.z3();
var X=this.d.data.Jd=cc.aBa(p.add.SoLd.placed.v);c.sV(X);if(c.i){X.F.channel=c.i.channel.slice(0);X.F.rect=c.i.rect.clone();
X.F.color=0;this.d.data.Mb=c.i;c.i=null}p.an(c)}var b=p.add.SoLd.filterFX.v.filterFXList.v;if(b[E.Rv.index]==null){b.push(cN.cK(H,e))}if(E.XR){b[E.Rv.index].v.enab.v=E.Rs!=!0;
if(H=="blendOptions")b[E.Rv.index].v.blendOptions.v=E.XR;else b[E.Rv.index].v.Fltr.v=E.XR}this.d.data.aeX=JSON.parse(JSON.stringify(p.add.SoLd));
this.Rn(this.d.data,c)}if(E.d=="cancel"){if(this.d)this.GW(this.d.data,c);this.d=null}if(E.d=="confirm"){if(this.d)c.QY(this.d);
F.iq.nT(y,this.rG);this.d=null}};F.jr.prototype.qd=function(E){return{Z:E>>>16,D:E>>>8&255,J:E&255}};
F.jr.prototype.a7v=function(E,y,c,e){if(this.uk==null){var p=cN.vv(E.Gl,E.XR);this.uk=F.iq.getData(c,p.x!=0||p.y!=0,E.Gl=="VaPo"?[{k4:E.Rh[1]}]:null)}if(E.d=="edit"){var H=JSON.stringify(E.XR);
if((E.XR==null||H!=this.Pi)&&E.Rs!=!0)for(var N=0;N<this.uk.length;N++){var Z=this.uk[N],X={rect:Z.k4,buffer:Z.Ng},b={rect:Z.k4,buffer:Z.Si};
if(E.Gl=="Avrg"&&Z.D2){X.buffer=Z.Ng.slice(0);d.pe(Z.D2,X.buffer)}cN.bJ(E.Gl,X,E.XR,this.qd(e.x4),this.qd(e.YO),b,[c.add.lnk2?c.add.lnk2:[],c.B[c.g[0]].Nb(),c.cB,c.sA()]);
if(E.Gl=="VaPo"){d.E6(E.Rh[0],E.Rh[1],b.buffer,b.rect)}if(E.Gl=="Avrg"&&Z.D2){var k=Z.Ng.length;for(var N=0;
N<k;N+=4)Z.Si[N+3]=Z.Ng[N+3]}this.Pi=H}F.iq.BX(c,this.uk,E.Rs)}if(E.d=="cancel"){F.iq.ajh(c,this.uk);
this.uk=null;this.Pi=null}if(E.d=="confirm"){if(E.Gl=="VaPo"){this.uk.aC1=JSON.stringify(c.BZ);this.uk.TC=JSON.stringify(E.b);
c.BZ=E.b}F.iq.Oq(c,this.uk,cN.names[E.Gl],this);this.uk=null;this.Pi=null;F.iq.nT(y,this.rG)}c.W();c.ac=!0};
F.jr.prototype.GW=function(E,y){if(E.TC)y.BZ=JSON.parse(E.aC1);if(E.Rv){var c=y.B[E.Rv.a];if(E.Jd)y.je(E.Jd);
if(E.Mb)y.i=E.Mb;c.add.SoLd=JSON.parse(JSON.stringify(E.aA8));if(c.p3())c.Hf(y);else{c.an(y);c.p6=0}}else F.iq.eK(y,E);
y.W();y.ac=!0};F.jr.prototype.Rn=function(E,y){if(E.TC)y.BZ=JSON.parse(E.TC);if(E.Rv){var c=y.B[E.Rv.a];
if(E.Jd)y.sV(E.Jd);if(E.Mb)y.i=null;c.add.SoLd=JSON.parse(JSON.stringify(E.aeX));if(c.p3())c.Hf(y);else c.an(y);
if(!c.rD())c.Gc+=32}else F.iq.eK(y,E);y.W();y.ac=!0};F.jr.prototype.bt=function(E){return E.Rv==null?F.iq.bt(E):0};
var iL={Dg:"0",WN:"1",FP:"2",EJ:"3",Ca:"3.5",G5:"4",Iu:"5",ZU:"6",iA:"7",v:"8",rv:"8.5",Ux:"8.8",qj:"9",uV:"10",R3:"11",d9:"12",St:"13",xC:"14",K8:"15",l3:"16",Nz:"17",GP:"18",g6:"21",XJ:"22",sr:"23",kG:"23.0",Vf:"23.1",sB:"23.2",t3:"23.3",jy:"23.4",u5:"23.5",IW:"23.6",ayO:"30",iL:"31",Uy:"40",at:"41",Rf:"42"};
iL.PZ={};iL.PZ[iL.WN]=["abr","brushes",f$,[9,3],3];iL.PZ[iL.FP]=["grd","gradients",eg,[12,37],4];iL.PZ[iL.EJ]=["shc","contours",b5,[12,21],0];
iL.PZ[iL.Ca]=["acv","curves",gG,[4,2],0];iL.PZ[iL.G5]=["asl","styles",c7,[12,22],5];iL.PZ[iL.Iu]=["pat","patterns",ei,[12,62],6];
iL.PZ[iL.ZU]=["csh","shapes",dD,[12,77],7];iL.PZ[iL.iA]=["aco","swatches",ay,[9,8],0];iL.PZ[iL.v]=["atn","actions",ji,[9,9],2];
iL.PZ[iL.rv]=["tpl","tpresets",jV,[9,12],0];iL.PZ[iL.Ux]=["icc","profiles",f9,"LUTs",8];function fN(E,y,c){if(c==null)c=!1;
this.name=E;this.f=y;this.gu=c;this.data=null;this.abf=Date.now()}fN.prototype.bt=function(){return this.f?this.f.bt(this.data):0};
var aW={};aW.G6=function(E,y){var c={t:"Clss",v:{classID:E}};if(y)c={t:"Enmr",v:{classID:E,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[c]}};aW.DY=function(E,y){var c={classID:"Lyr"};c[E]=y;return{tT:"set",hG:{classID:"null",null:aW.G6("Lyr",!0),T:{t:"Objc",v:c}}}};
aW.aCV=function(E,y,c,e,p){var H=new iU(S.E.on,!0),Z=[],N=0,X=aW.wy(y,c,e,Z);while(Z.length!=0){var b=Z.pop();
N++;if(!b.w)continue;console.log(N-1);if(b.tT=="conditional"){var k=E.B[E.g[0]],D=b.hG.null.v.Cndt,j=!1;
if(D=="Bckg")j=!1;else if(D=="Pxel"&&E.iR(!1))j=!0;else if(D=="Adjs"&&et.get(k.add))j=!0;else if(D=="Shp"&&k.add.vogk)j=!0;
else if(D=="Grup"&&k.uY())j=!0;else if(D=="Opn"&&E!=null)j=!0;else if(D=="32Bt")j=!1;else if(D=="RGB")j=!0;
var g=b.hG.then,R=b.hG.else;if(j&&g)aW.wy(y,g.v[0].v.val,g.v[1].v.val,Z);if(!j&&R)aW.wy(y,R.v[0].v.val,R.v[1].v.val,Z)}else if(b.tT=="stop"){if(b.hG.Cntn&&b.hG.Cntn.v==!0)window.confirm(b.hG.Msge.v);
else{alert(b.hG.Msge.v);break}}else if(b.tT=="play"){var t=b.hG.null.v,w=new iU(S.E.M,!0);w.data={d:S.H.ln,Gm:[t[0].v.val,t[1].v.val]};
p.T(w)}else{H.data={tT:b.tT,hG:b.hG};p.T(H)}}};aW.aO=function(E,y,c){var e;for(var N=0;N<E.length;N++){if(E[N].xs!=c)continue;
var p=E[N].tP;for(var H=0;H<p.length;H++){if(p[H].xs!=y)continue;e=p[H]}}return e};aW.wy=function(E,y,c,e){var p=aW.aO(E,y,c).tP,H=p.length;
for(var N=0;N<H;N++)e.push(p[H-1-N])};aW.a6t=function(E){var y=E.tT,c=E.hG,e,Z,X,b,k;if(c&&c.null)e=c.null.v[0];
if(c&&e==null&&c.At)e=c.At.v[0];if(e&&e.t=="obj ")e=e.v[0];var p=e&&e.v?e.v.classID:null,H=["purge"];
if(H.indexOf(y)!=-1)return y[0].toUpperCase()+y.slice(1);if(y=="GEfc"||y=="paintDaubs")return hY.names[c.GEfk.v.GEft][1];
k=et.Zh;for(Z in k)if(k[Z]==y)X=Z;k=cN.Zh;for(Z in k)if(k[Z]==y)b=Z;k=cN.Zh;for(Z in k)if(Z==y)b=Z;if(X){var D=et.gG(X,c);
if(D!=-1)return[4,16,D];return et.names[X]}if(b)return cN.names[b];var j=aW.a0P;if(y=="make"){if(e){if(p=="AdjL")return[6,1];
else if(p=="layerSection")return c.From?[6,9]:[6,20];else if(p=="Lyr")return[6,13];else if(p=="Chnl"&&e.v.enum=="Msk")return[6,2];
else if(p=="contentLayer")return[6,48,1];else if(p=="BckL")return"Make Background Layer";else if(p=="Path")return"Make Path";
else if(p=="TxLr")return"Make Text Layer";else if(p=="slice")return"Make Slices";else if(p=="Dcmn")return[11,7];
else if(p=="Gd")return[23,4]}if(c.Nw){p=c.Nw.v.classID;if(p=="Dcmn")return[11,7];else if(p=="Chnl"||p=="SCch")return"New Channel"}}else if(y=="deselect"){if(p=="Path")return"Deselect current path";
else throw p}else if(y=="draw"){return"Draw"}else if(y=="select"){if(p=="Chnl"){var g={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[e.v.enum];
if(g==null)g="";return"Select "+g+" Channel"}else if(p=="Mn")return"Select Panel \""+e.v.enum+"\"";else if(p=="Lyr"){if(e.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[e.v.enum]+" Layer";
return"Select Layer \""+e.v.val+"\""}else if(p=="Path")return"Select Path";else if(p=="Brsh")return"Select Brush";
else if(p=="Dcmn")return"Select Document"}else if(j[y]&&p=="Chnl"){var R=e.v.keyID=="fsel";return j[y]+" "+(R?"Selection":"Channel")}else if(y=="set"){if(p=="Lyr")return"Set Current Layer";
else if(p=="AdjL")return[6,39];else if(p=="contentLayer")return[6,48,2];else if(p=="Prpr"){var t=e.v.keyID;
if(t=="TxtS")return"Set Text Style";else if(t=="paragraphStyle")return"Set Paragraph Style";else if(t=="Lefx")return[11,6];
else console.log(t)}else if(p=="Clr")return"Set "+(e.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(p=="Brsh")return"Set Brush";else if(p=="Path")return"Set Work Path";else console.log(p)}else if(y=="move"){if(p=="Lyr")return"Move Layer";
else if(p=="Chnl"&&e.v.keyID=="fsel")return[7,7];else console.log(p)}else if(y=="show"||y=="hide"){var w="";
if(p=="Lyr")w="Layer";if(p=="Chnl")w="Channel";if(p=="filterFX")w="Filter Effect";return(y=="show"?"Show":"Hide")+" "+w}else if(y=="reset"){if(p=="Clr")return"Reset Colors"}else if(y=="exchange"){if(p=="Clr")return[22,7,0]}else if(y=="rotateEventEnum")return[2,5];
else if(y=="flip"){var B=c.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,B?2:3]]}if(y=="duplicate"&&p=="Dcmn")return"Duplicate first document";
if(p=="Chnl"){if(y=="duplicate"){if(e.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(y=="delete")return"Delete Channel"}if(y=="transform")return e&&e.v.keyID=="fsel"?[7,10]:[10,16];
var $={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:c?p=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},o=$[y];
if(o==null)o=aW.agE[y];if(o)return o;return y};aW.agE={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
aW.a0P={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
aW.amC=function(E,y,c,e){var p=E.tT,H=E.hG,Z=!1,X=new iU(S.E.v,!0),g,R,t,w;X.f=F.sh;var b=new iU(S.E.M,!0),D=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(D.indexOf(p)!=-1)return;var j=p;while(j.length<4)j+=" ";w=et.Zh;for(g in w)if(w[g]==j)R=g;w=cN.Zh;
for(g in w)if(w[g]==j)t=g;w=cN.Zh;for(g in w)if(g==j)t=g;if(p=="fade")R=p;if(p=="matchColor")R="matc";
if(p=="applyImageEvent")R="aply";if(R){X.f=F.rr;X.data={d:"start",Bn:R,XR:H}}else if(t){X.f=F.UA;X.data={d:"start",Gl:t,XR:H}}else if(p=="GEfc"||p=="paintDaubs"){X.f=F.UA;
X.data={d:"start",Gl:"GEfc",XR:H}}else if(p=="imageSize"||p=="canvasSize"||p=="revealAll"||p=="trim"||p=="crop"){X.f=F.iC;
X.data={d:"fromAction",Xu:E}}else if(p=="fill"||p=="stroke"||p=="delete"&&H==null){var B=null;if(e.g.length!=0)B=e.B[e.g[0]];
var $=d.$E(c.x4);if(B!=null&&p=="fill"&&B.add.TySh){var o="var c = new SolidColor();  c.rgb.red="+$.Z+";  c.rgb.green="+$.D+";  c.rgb.blue="+$.J+";  app.activeDocument.activeLayer.textItem.color = c;";
b.data={d:S.H.HT,uc:o}}else if(B!=null&&p=="delete"&&B.add.TySh){X.f=F.IB;X.data={d:"insertText",b:""}}else if(B!=null&&p=="fill"&&B.iU()){var X=new iU(S.E.on,!0),H={classID:"setd",null:aW.G6("contentLayer",!0),T:{t:"Objc",v:{}}};
F.DI.u9({Clr:{t:"Objc",v:d.L.hp(d.$E(c.x4))}},H.T.v,0);X.data={tT:"set",hG:H};y.T(X);return}else if(p=="stroke"&&H&&H.null==null){X.f=F.co;
X.data={d:"stroke",aBU:H}}else{if(p=="stroke"&&H&&H.Usng)X.f=F.Zh[H.Usng.v.classID];else X.f=c.sJ==F.LY?F.LY:F.WN;
X.data={d:"fromAction",Xu:E}}}else if(p=="colorRange"||p=="grow"||p=="similar"){X.f=F.ND;X.data={d:"fromAction",Xu:E}}else if(p=="set"&&H&&H.T&&H.T.v.Ordn=="Al"&&c.sJ==F.IB&&y.ka().j_()){X.f=F.IB;
X.data={d:"selectAll"}}else if(aW.agE[p]||aW.a0P[p]&&(!1||H.With&&H.With.v[0].v.keyID=="fsel"||H.From&&H.From.v[0].v.keyID=="fsel"||H.null&&H.null.v[0].v.keyID=="fsel"||H.T.v[0]&&H.T.v[0].v.keyID=="fsel")){X.f=F.mW;
X.data={d:"fromAction",Xu:E}}else if(p=="rasterizeLayer"){X.data={d:H.What?jN.a75:jN.Eu}}var T={copyToLayer:jN.wn,cutToLayer:jN.vU,mergeLayersNew:jN.N6,mergeVisible:jN.j2,flattenImage:jN.azn,newPlacedLayer:jN.KB};
if(T[p])X.data={d:T[p],hG:H};if(X.data){y.T(X);return}if(p=="collapseAllGroupsEvent"){for(var N=0;N<e.B.length;
N++){var B=e.B[N];if(B.uY())B.add.lsct=kl.ze}e.hb=!0;return}if(p=="desaturate"||p=="Dstt"){X.f=F.rr;
X.data={d:"auto",EA:3};if(e&&e.B[e.g[0]].add.SoLd==null)y.T(X);return}if(p=="close"){if(H&&H.Svng.v.YsN=="Ys"){b.data={d:S.H.XT};
y.T(b)}b.data={d:S.H.NW,BG:e};y.T(b);return}if(p=="save"){b.data={d:S.H.XT};y.T(b);return}if(p=="copyMerged"){b.data={d:S.H.Lb,xc:!0,bR:!0};
y.T(b);return}if(p=="placedLayerReplaceContents")b.data={d:S.H.uh,tF:!0};var T={placedLayerEditContents:S.H.ao6,placedLayerExportContents:S.H.aev,copyEvent:S.H.Lb,paste:S.H.t8};
if(T[p])b.data={d:T[p],bR:!0};if(b.data){y.T(b);return}var i=H.null?H.null.v:null,r=i?i[0].v.classID:"";
if(p=="make"){if(H.null==null&&H.Nw)r=H.Nw.v.classID;if(r=="AdjL"){X.data={d:jN.F_,hG:H}}else if(r=="layerSection"){X.data=H.From?{d:jN.jT}:{d:jN.wZ};
if(H.Usng){var I=H.Usng.v;if(I.Nm)X.data.RK=I.Nm.v;if(I.Clr)X.data.EF=aW.DQ(I)}}else if(r=="Lyr"){if(H.Usng&&H.Usng.v.length==2)X.data={d:jN.a9A};
else{X.data={d:jN.ml};if(H.Usng)X.data.RK=H.Usng.v.Nm.v;if(H.below&&H.below.v)X.data.at5=!0}}else if(r=="Chnl"&&H.At&&H.At.v[0].v.enum=="Msk"){X.data={d:jN.gP,de:H.Usng.v.UsrM}}else if(r=="Chnl"||r=="SCch"){X.data={d:jN.Me,s6:"fromAction",b:E}}else if(r=="contentLayer"){X.data={d:jN.X9,hG:H}}else if(r=="BckL"){e.B[e.g[0]].a7U();
return}else if(r=="Dcmn"){if(H.Nw==null)return;var M=H.Nw.v;b.data={d:S.H.xg,cX:cc.a6R(M,c)}}else if(r=="Ptrn")b.data={d:S.H.rN,Wp:0};
else if(r=="Path"){var J=H.At;if(J&&J.v&&J.v[0]&&J.v[0].v&&J.v[0].v.enum=="vectorMask"){X.f=F.sh;var P=H&&H.Usng&&H.Usng.v.vectorMaskEnabled=="RvlA";
X.data={d:jN.Ao,XX:!P}}else{X.f=F.Ar;X.data={d:"pathedit",s6:"fromsel"}}}else if(r=="TxLr"){X.f=F.IB;
X.data={d:"fromAction",Xu:E}}else if(r=="slice"){X.f=F.hW;X.data={d:"fromAction",Xu:E}}else if(r=="Gd"){var n=[[],[]],M=H.Nw.v;
n[M.Ornt.v.Ornt=="Vrtc"?0:1].push(M.Pstn.v.val);var x=jQ._c(n);F.pB.pa(x,e.Tp());X.f=F.mq;X.data={d:"gids",NF:x}}else{console.log(p,r,H);
throw"e"}}else if(p=="divide"){X.f=F.hW;X.data={d:"fromAction",Xu:E}}else if(p=="deselect"){if(r=="Path"){e.zG=[];
e.RT=[];e.hb=e.Ea=!0;return}else throw r}else if(p=="selectNoLayers"){e.g=[];e.ac=!0}else if(p=="selectAllLayers"){e.g=[];
for(var N=0;N<e.B.length;N++)e.g.push(N);e.ac=!0;return}else if(p=="select"){var L=F.Zh;if(r=="Lyr"){var u=H.selectionModifier,C=u?u.v.selectionModifierType:null,h=aW.LW(e,i[0]),A=0;
if(h==-1){alert("Layer "+i[0].v.val+" does not exist.");return}var B=e.B[h];if(B.uY()&&B.Nb()&&u==null)A=1;
X.data={d:jN.R5,a:h,ID:C?["addToSelection","addToSelectionContinuous"].indexOf(C):null,yu:A}}else if(r=="Path"){if(i[0].v.keyID=="WrPt"){e.zG=[0];
e.hb=e.Ea=!0;return}else throw i[0]}else if(r=="Chnl"){var W=i?i[0].v.enum:"",Q=["Rd","Grn","Bl"].indexOf(W);
if(Q!=-1){var l=H.Extd&&H.Extd.v?e.Q.V.slice(0):[0,0,0];l[Q]=1;X.f=F.G3;X.data={d:"setcls",V:l}}else X.data={d:jN.R5,a:h,yu:W=="RGB"?0:1}}else if(r=="Dcmn"){if(y.l9.length<2)return;
b.data={d:S.H.ajn,dir:H.null.v[0].v.val}}else if(r=="Brsh"){var O=c.cT.list,z;for(var N=0;N<O.length;
N++){if(O[N].v.Nm.v.split("/").pop()==i[0].v.val)z=O[N].v}if(c.sJ==F.mq){b.data={d:S.H.lg,f:F.WN};y.T(b)}b.data={d:S.H.z2,Wp:iL.xC,CG:z}}else if(r=="Mn"){if(i[0].v.enum=="Scl")b.data={d:S.H.lg,f:F.Xm,Ss:{de:3}};
if(i[0].v.enum=="Plce")b.data={d:S.H.uh,a5V:!0};if(i[0].v.enum=="ZmIn"){X.f=F.fE;X.data={d:"zoom",l5:!0}}if(i[0].v.enum=="ZmOt"){X.f=F.fE;
X.data={d:"zoom",l5:!1}}if(i[0].v.enum=="FtOn"){X.f=F.fE;X.data={d:"adapt",b:"fitscr"}}}else if(L[r]){b.data={d:S.H.lg,f:L[r]}}else throw r}else if(p=="draw"){X.f=F.Ar;
X.data={d:"fromAction",Xu:E}}else if(p=="gradientClassEvent"){X.f=F.FS;X.data={d:"fromAction",Xu:E}}else if((p=="set"||p=="reset"||p=="exchange")&&r=="Clr"){b.data={d:S.H.z2,Wp:iL.g6,s6:p=="reset"?3:2};
if(p=="set"){b.data.s6=i[0].v.keyID=="FrgC"?0:1;var a=d.L.yd(H.T.v);b.data.b=a.Z<<16|a.D<<8|a.J}}else if(p=="set"){if(r=="AdjL"){var m=H.T.v.classID;
m=et.OE[m];X.f=F.rr;if(m)X.data={d:"edit_layer",b:H.T.v}}else if(r=="Lyr"){var q=H.T.v,h=aW.LW(e,i[0]);
for(var K in q){if(K=="classID")continue;X.f=F.sh;if(K=="Nm")X.data={d:jN.tS,name:q.Nm.v};else if(K=="Opct")X.data={d:jN.Bt,Hx:Math.round(q.Opct.v.val*255/100)};
else if(K=="fillOpacity")X.data={d:jN.zy,Hx:Math.round(q.fillOpacity.v.val*255/100)};else if(K=="Md")X.data={d:jN.nU,Hx:cg.Y1.indexOf(q.Md.v.BlnM)+(e.B[h].uY()?1:0)};
else if(K=="Usrs")X.data={d:jN.JP,a:h};else if(K=="Blnd"){X.f=F.Mt;X.data={d:"setstl",a:h,b:{blendOptions:{t:"objc",v:q}}};
y.T(X);X.data={d:"confirm",a:h}}else if(K=="userMaskFeather"||K=="userMaskDensity"){var U=q.userMaskFeather,f=q.userMaskDensity,h=e.g[0],Y=e.B[h].zp(0);
if(U)Y.mm=U.v.val;if(f)Y.WQ=f.v.val;X.data={d:jN.$P,tk:h,s1:Y}}else if(K=="Clr"){var $=aW.DQ(q);X.data={d:jN.dv,aE3:$}}else if(K=="Lefx")aW.anj(y,h,q.Lefx.v,c);
else{console.log(H);throw K}if(X.data){y.T(X);delete X.data}}X.data={};var B=e.B[h];B.a5G()}else if(r=="Prpr"){var q=JSON.parse(JSON.stringify(H.T.v)),h=aW.LW(e,H.null.v[1]),B=e.B[h],G=i[0].v.keyID;
if(G=="TxtS"||G=="paragraphStyle"){var V=B.add.TySh,dF=JSON.parse(JSON.stringify(V.Ax)),s=gV.qO(dF),aH=gV.c$(dF,0,s.length-2);
if(G=="TxtS")gV.aub(q,aH);else gV.ayP(q,aH);gV.gR(dF,0,s.length-1,aH);X.f=F.IB;X.data={d:"newED",XV:h,Sk:dF}}else if(G=="Lefx"){for(var dw in q)if(q[dw].v){if(dw=="Scl")q[dw].v.val=100}aW.anj(y,h,q,c);
X.data={}}else throw G}else if(r=="contentLayer"){var h=aW.LW(e,i[0]),q=H.T.v,kO=!0;if(q.classID=="shapeStyle"){if(q.strokeStyle){q=q.strokeStyle.v;
kO=!1}else q=q.FlCn.v}if(kO){var hX={solidColorLayer:0,gradientLayer:1,patternLayer:2}[q.classID],jF=cb.uX(e.B[h].add),t=jF.uC==hX+1?jF.f3:cb.Xz[hX];
t=JSON.parse(JSON.stringify(t));F.DI.u9(q,t,hX);X.data={d:jN.Od,CT:[h],Xr:!0,b:{uC:hX+1,f3:t}}}else{var gn=JSON.parse(JSON.stringify(e.B[h].add.vstk));
for(var dw in q)gn[dw]=q[dw];X.data={d:jN.Od,CT:[h],Xr:!1,b:gn}}}else if(r=="Brsh"){var z=JSON.parse(JSON.stringify(c.cT.LU)),hM=H.T.v;
if(hM.masterDiameter)z.Brsh.v.Dmtr.v.val=hM.masterDiameter.v.val;else console.log("unknown brush parameters");
b.data={d:S.H.z2,Wp:iL.xC,CG:z}}else if(r=="Path"){X.f=F.Ar;X.data={d:"fromAction",Xu:E}}else{console.log(i[0],H);
throw r}}else if(p=="move"){if(r=="Lyr"){var q=H.T.v;if(q.classID=="Ofst"){X.data={d:"trsl",Fc:q.Hrzn.v.val,Sq:q.Vrtc.v.val};
X.f=F.mq}else{var bN,kd;if(q[0].t=="Enmr"){if(q[0].v.enum=="Frnt")kd=0;else if(q[0].v.enum=="Nxt")kd=1;
else if(q[0].v.enum=="Prvs")kd=2;else if(q[0].v.enum=="Back")kd=3;else throw"e"}else bN=q[0].v.val;X.data={d:jN.M_,target:bN,s6:kd,afv:H.Dplc?H.Dplc.v:!1}}}else if(r=="Chnl"&&i[0].v.keyID=="fsel"){X.f=F.mW;
X.data={d:"fromAction",Xu:E}}}else if(p=="groupEvent"||p=="ungroup")X.data={d:jN.KW};else if(p=="show"||p=="hide"){var i7=H.null.t;
if(i7=="obj "){if(i[0].v.val!=null)X.data={d:jN.y$,index:i[0].v.val-1};else X.data={d:jN.AR}}else if(i7=="VlLs"){var r=i[0].v[0].v.classID;
if(r=="Chnl")X.data={d:jN.Me,s6:"fromAction",b:E};else{var dn=r=="filterFX"?i:i[0].v;for(var N=0;N<dn.length;
N++){if(r=="filterFX")X.data={d:jN.y$,index:dn[N].v[0].v.val-1};else{var h=aW.LW(e,dn[N]),ew=e.B[h].OQ();
if(p=="show"&&ew||p=="hide"&&!ew)continue;X.data={d:jN.b0,CT:[h]}}y.T(X)}return}}else throw i7}else if(p=="rotateEventEnum"){X.f=r=="Lyr"?F.Xm:F.iC;
var e4=H.Angl.v.val;X.data={d:"rot",xs:[2,5],b:-e4*Math.PI/180}}else if(p=="flip"){X.f=r=="Lyr"?F.Xm:F.iC;
var eE=H.Axis.v.Ornt=="Hrzn",jc=eE?new eq(-1,1):new eq(1,-1);X.data={d:"scl",xs:[[2,6],[22,4,eE?2:3]],b:jc}}else if(p=="transform"){var ft=1,bd=1,iB=0,cG=0,bT=0,g$=0,hU=0,dI=null,bw=null;
if(H.Wdth)ft=H.Wdth.v.val/100;if(H.Hght)bd=H.Hght.v.val/100;if(H.Skew){var ah=H.Skew.v;iB=ah.Hrzn.v.val;
cG=ah.Vrtc.v.val}if(H.Ofst){var co=H.Ofst.v;g$=co.Hrzn.v.val;hU=co.Vrtc.v.val}if(H.Angl)bT=H.Angl.v.val;
var im=new jr;im.concat(new jr(ft,ft*Math.tan(cG*Math.PI/180),bd*Math.tan(iB*Math.PI/180),bd,0,0));im.rotate(-bT*Math.PI/180);
im.translate(g$,hU);var hb=d.r.$m(im);if(H.Usng){var co=H.Usng.v;hb[6]=co.Hrzn.v.val/100;hb[7]=co.Vrtc.v.val/100}var fb=H.FTcs.v.QCSt;
if(fb=="Qcsi"){var iG=H.Pstn.v;dI=new eq(iG.Hrzn.v.val,iG.Vrtc.v.val)}else bw=F.Y.awi[fb];var i=H.null;
if(i&&i.v instanceof Array)i=i.v[0];var h=i?aW.LW(e,i):null;if(h==-1)h=null;X.f=i&&i.v.keyID=="fsel"?F.fK:F.Xm;
X.data={d:"dtr",RG:bw,b:hb,Oz:H.warp,aue:dI}}else if(p=="duplicate"){if(r=="Chnl")X.data={d:jN.Me,s6:"fromAction",b:E};
else if(r=="Dcmn"){var dy=iu.sF("PSD").Jv(e);fz.S5({url:e.name},dy,y);return}else if(r=="Actn"){var kp=c.kQ,gw=i[1].v.val,dR=null;
for(var N=0;N<kp.length;N++)if(kp[N].xs==gw)dR=kp[N];var fT=aW.aO(kp,i[0].v.val,gw);fT=JSON.parse(JSON.stringify(fT));
fT.xs+=" copy";dR.tP.push(fT);return}else X.data={d:jN.lz,RK:H.Nm?H.Nm.v:null}}else if(p=="delete"){if(r=="filterFX"){if(i[0].v.val!=null)X.data={d:jN.tR,U5:i[0].v.val-1};
else X.data={d:jN.EP}}else if(r=="Path"){X.f=F.Ar;X.data={d:"pathedit",s6:"del"}}else if(r=="Lyr")X.data={d:jN.iI};
else if(r=="Chnl"&&i[0].v.enum=="Msk")X.data={d:jN.z0};else if(r=="Chnl")X.data={d:jN.Me,s6:"fromAction",b:E};
else if(r=="Cmnd"){var kp=c.kQ,gw=i[2].v.val,fT=aW.aO(kp,i[1].v.val,gw);fT.tP.splice(i[0].v.val-1,1);
return}else if(r=="Actn"){var kp=c.kQ,gw=i[1].v.val,dR=null;for(var N=0;N<kp.length;N++)if(kp[N].xs==gw)dR=kp[N];
var fT=aW.aO(kp,i[0].v.val,gw);dR.tP.splice(dR.tP.indexOf(fT),1);return}else throw r}else if(p=="align"){if(H.Aply&&H.Aply.v.projection=="Auto"){X.f=F.iC;
X.data={d:"auto-align"}}else{X.f=F.mq;var gA=H.Usng.v.ADSt,R={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[gA];
if(R==null)throw gA;X.data={d:"algn",b:R}}}else if(p=="applyLocking"){var by=H.layerLocking.v,fv;if(by.protectTransparency)fv=[[by.protectTransparency.v],[0]];
else if(by.protectNone)fv=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(by);throw"e"}X.data={d:jN.Bu,Hx:fv}}if(X.data)y.T(X);
else if(b.data)y.T(b);else{console.log(E);alert("Unknown action \""+p+"\"");throw"e"}};aW.anj=function(E,y,c,e){c=JSON.parse(JSON.stringify(c));
dc.FG(c);if(c.masterFXSwitch==null)c.masterFXSwitch={t:"bool",v:!0};console.log(c);var p=cb.zt;for(var H=0;
H<p.length;H++)if(c[p[H]]){for(var N=0;N<c[p[H]].v.length;N++){var Z=c[p[H]].v[N].v;for(var X=0;X<2;
X++){var b=Z[X==0?"TrnS":"MpgS"];if(b&&b.v.Crv==null){var k=b.v,D=k.Nm.v.split("=").pop(),j=e.qN;for(var g=0;
g<j.length;g++){var R=j[g].Nm.v.split("=").pop();if(R==D)k.Crv=JSON.parse(JSON.stringify(j[g].Crv))}if(b.v.Crv==null){console.log(b);
throw"e"}}}}}var t=new iU(S.E.v,!0);t.f=F.Mt;t.data={d:"setstl",a:y,b:{Lefx:{t:"objc",v:c}}};E.T(t);
t.data={d:"confirm",a:y};E.T(t)};aW.DQ=function(E){var y={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[E.Clr.v.Clr];
if(y==null)throw E.Clr.v.Clr;return y};aW.LW=function(E,y){var c=1e6,e=0,p=E.B.length;for(var N=0;N<E.g.length;
N++){c=Math.min(c,E.g[N]);e=Math.max(e,E.g[N])}var H=y.t,Z=-1;if(H=="name"){var X=y.v.val,Z=-1;for(var N=0;
N<p;N++)if(E.B[N].getName()==X){Z=N;break}}else if(H=="Enmr"){if(E.g.length!=0)Z=E.g[0];if(y.v.enum=="Frwr")Z=e+1;
if(y.v.enum=="Bckw")Z=c-1;if(y.v.enum=="Back")Z=0;if(y.v.enum=="Frnt")Z=p-1;Z=(Z+p)%p}else if(H=="prop"){if(y.v.keyID=="Bckg")Z=0}else if(H=="indx")Z=y.v.val-1;
return Z};var et={};et.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
et.a2p=["expA","clrL","selc"];et.VZ=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];et.a5y=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
et.gY=[[13,1,1],[13,1,4],[13,1,5]];et.lT={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
et.OE=function(){var E=JSON.parse(JSON.stringify(et.lT));delete E.GrMp;E.GdMp="grdm";return E}();et.Zh={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
et.keys={levl:[ct.Nc,ct.s3],curv:[ct.Nc,ct.qB],hue2:[ct.Nc,ct.oj],nvrt:[ct.Nc,ct.FU],blnc:[ct.Nc,ct.jC]};
et.acs=function(E){var y=cN.TL("mixr");y.Mnch={t:"bool",v:E.bo};function c(e,N){var p={classID:"ChMx"},H={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var Z in H)p[Z]={t:"UntF",v:{type:"#Prc",val:e[N+H[Z]]}};return{t:"Objc",v:p}}if(E.bo)y.Gry=c(E.b,0);
else{y.Rd=c(E.b,0);y.Grn=c(E.b,5);y.Bl=c(E.b,10)}return y};et.ex=function(E){function y(e,p,N){var H={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var Z in H)if(e[Z])p[N+H[Z]]=e[Z].v.val}var c={bo:!1,b:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(E.Mnch&&E.Mnch.v)c.bo=!0;if(c.bo)y(E.Gry.v,c.b,0);else{y(E.Rd.v,c.b,0);y(E.Grn.v,c.b,5);y(E.Bl.v,c.b,10)}return c};
et.get=function(E){for(var y in et.names)if(E[y]!=null)return y;return null};et.z8=function(E,y){var c=et.RS,e;
if(E=="brit"){var p=y.Brgh?y.Brgh.v:0,H=y.Cntr?y.Cntr.v:0,Z=y.useLegacy?y.useLegacy.v:!1;if(Z){var X=p/255,b=1+H/100;
if(b>1)b=1+Math.tan(Math.PI/2*H/101);var k=(1-b)/2,D=d.Av.nP(X,X,X),j=[b,0,0,k,0,b,0,k,0,0,b,k,0,0,0,1],g=d.Av.multiply(j,D),R=new d.Ay(256);
for(var N=0;N<256;N++)R.Z[N]=N;d.Av.transform(R,R,g);e={type:c.wI,vB:R.Z,nA:R.Z,yS:R.Z,$R:!1,SC:!1}}else{var t=1024,w=-30+60*(H+100)/200,B=[];
for(var N=0;N<4;N++)B.push(d.$K.rL(N/3*255,N/3*255,!0));B[1].v.Hrzn.v=64;B[1].v.Vrtc.v=64-w;B[2].v.Hrzn.v=128+64;
B[2].v.Vrtc.v=128+64+w;B.sort(function(fe,eu){return fe.v.Hrzn.v-eu.v.Hrzn.v});var $=d.$K.O_(B,t);function o(fe,t){var B=[],j1=3;
for(var N=0;N<j1+1;N++)B.push(d.$K.rL(N/j1*255,N/j1*255,!0));B[1].v.Hrzn.v=130-fe*26;B[1].v.Vrtc.v=130+fe*51;
B[2].v.Hrzn.v=233-fe*48;B[2].v.Vrtc.v=233+fe*10;return d.$K.O_(B,t)}var T=o(Math.abs(p)/100,t);if(p<0){var i=[],r=1/t;
for(var N=0;N<t;N++){var I=N*r,M=N;while(T[M]>I&&M>1)M--;i[N]=M*r}T=i}var J=new Uint8Array(t);for(var N=0;
N<t;N++){var P=Math.round((t-1)*T[N]);J[N]=Math.round(255*$[P])}e={type:c.wI,vB:J,nA:J,yS:J,$R:!1,SC:!1}}}if(E=="levl"){var n=[],x,L,D,u,C,h;
for(var N=0;N<4;N++)n.push(fE.PM(y,N));x=-n[0][0]/255;L=1/(n[0][1]/255-n[0][0]/255);D=d.Av.multiply(d.Av.X1(L,L,L),d.Av.nP(x,x,x));
u=d.Av.X1(1/(n[1][1]/255-n[1][0]/255),1/(n[2][1]/255-n[2][0]/255),1/(n[3][1]/255-n[3][0]/255));C=d.Av.nP(-n[1][0]/255,-n[2][0]/255,-n[3][0]/255);
h=d.Av.multiply(u,C);var J=new d.Ay(256);for(var N=0;N<256;N++)J.Z[N]=J.D[N]=J.J[N]=N;var A=1/(n[0][4]/100),W=1/(n[1][4]/100),Q=1/(n[2][4]/100),l=1/(n[3][4]/100);
d.Av.transform(J,J,h);for(var N=0;N<256;N++){J.Z[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.Z[N]/255,W))));
J.D[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.D[N]/255,Q))));J.J[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.J[N]/255,l))))}d.Av.transform(J,J,D);
for(var N=0;N<256;N++){J.Z[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.Z[N]/255,A))));J.D[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.D[N]/255,A))));
J.J[N]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.J[N]/255,A))))}x=n[0][2]/255;L=n[0][3]/255-n[0][2]/255;
D=d.Av.multiply(d.Av.nP(x,x,x),d.Av.X1(L,L,L));u=d.Av.X1(n[1][3]/255-n[1][2]/255,n[2][3]/255-n[2][2]/255,n[3][3]/255-n[3][2]/255);
C=d.Av.nP(n[1][2]/255,n[2][2]/255,n[3][2]/255);h=d.Av.multiply(C,u);d.Av.transform(J,J,d.Av.multiply(D,h));
e={type:c.wI,vB:J.Z,nA:J.D,yS:J.J,$R:!1,SC:!1}}if(E=="curv"){var O=gG.PM(y,0).length==256?1:0,z=[];if(O==0){var a=d.$K.So(gG.PM(y,0),256);
for(var N=1;N<4;N++){var m=d.$K.So(gG.PM(y,N),256);z.push(d.$K.akN(m,a))}}else{var q=[];for(var N=0;
N<4;N++){var K=new Uint8Array(256);q.push(K);var U=gG.PM(y,N);for(var M=0;M<256;M++)K[M]=U[M]}for(var N=1;
N<4;N++)z.push(d.$K.akN(q[N],q[0]))}e={type:c.wI,vB:z[0],nA:z[1],yS:z[2],$R:!1,SC:!1}}if(E=="expA"){var f=y.Exps,Y=y.Ofst,G=y.gammaCorrection,V=f?f.v:0,dF=Y?Y.v:0,s=G?G.v:1,J=new Uint8Array(256);
for(var N=0;N<256;N++){var y=N/255,aH=Math.pow(Math.abs(dF),1/(Math.PI/2));if(dF>0){y=Math.max(dF/Math.E,y);
y=y*Math.exp(dF/1.75+V/Math.PI);y=(1-aH)*y+aH*1}else{y=y*Math.exp(-dF*1.75+V/Math.PI);y=y+-aH*1.14}y=Math.pow(y,1/s);
y=Math.max(0,Math.min(1,y));J[N]=Math.round(y*255)}e={type:c.wI,vB:J,nA:J,yS:J,$R:!1,SC:!1}}if(E=="vibA"){var dw=(y.vibrance?y.vibrance.v:0)/100,kO=(y.Strt?y.Strt.v:0)/100,aH=1+dw*(dw>0?.25:.5),hX=.8+.2/aH;
e={type:c.z9,Wp:[dw,kO,hX,aH]}}if(E=="hue2"){var jF=[],gn=[],hM=[],ie=y.Clrz?y.Clrz.v:!1;for(var N=0;
N<256;N++){jF[N]=N/255;gn[N]=0;hM[N]=0}var bN=b0.PM(y,0),kd=et.Mc(bN[1]/100);if(ie){var i7=bN[0]/360;
for(var N=0;N<256;N++){jF[N]=i7;gn[N]=kd}}else{for(var N=0;N<256;N++){var dn=jF[N],ew=gn[N];jF[N]+=bN[0]/360;
for(var M=0;M<6;M++){var e4=b0.PM(y,M+1),eE=e4.ot,jc=e4.rX,aH=0;for(var ft=1;ft<4;ft++)if(jc[ft]<jc[0])jc[ft]+=360;
var bd=jc[0],iB=jc[1],cG=jc[2],bT=jc[3],g$=dn*360;if(g$<jc[0])g$+=360;var hU=(g$-bd)/(iB-bd),ah=(g$-cG)/(bT-cG);
if(hU<0)aH=0;else if(hU<1)aH=hU;else if(ah<0)aH=1;else if(ah<1)aH=1-ah;else aH=0;var b=et.Mc(eE[1]/100);
jF[N]+=aH*eE[0]/360;gn[N]+=aH*b;hM[N]+=aH*eE[2]/100}}for(var N=0;N<256;N++){gn[N]=(1+gn[N])*(1+kd)-1;
hM[N]=Math.max(-1,Math.min(1,hM[N]))}}var co=new Uint8Array(256),im=new Uint8Array(256),hb=new Uint8Array(256);
for(var N=0;N<256;N++){var dI=jF[N],kO=gn[N],bw=hM[N];if(dI>1)dI--;if(dI<0)dI++;kO=et.alF(kO);kO=(1+kO)*.5;
bw=(1+bw)*.5;co[N]=Math.round(255*dI);im[N]=Math.round(255*kO);hb[N]=Math.round(255*bw)}var fb=bN[2]/100,iG=fb<0?-fb:fb,dy=fb<0?0:1;
e={type:c.Vc,ax8:co,vA:im,a2x:hb,ahw:iG*dy,l7:1-iG,adM:bN[2]/100,azT:ie?1:0}}if(E=="nvrt"){var J=new Uint8Array(256);
for(var N=0;N<256;N++)J[N]=255-N;e={type:c.wI,vB:J,nA:J,yS:J,$R:!1,SC:!1}}if(E=="post"){var kp=y.Lvls.v,J=new Uint8Array(256),aH=kp/255.001,gw=255/(kp-1);
for(var N=0;N<256;N++)J[N]=Math.floor(N*aH)*gw;e={type:c.wI,vB:J,nA:J,yS:J,$R:!1,SC:!1}}if(E=="grdm"){var dR=y.Grad.v,fT=y.Rvrs,t=1024,gA;
if(dR.Clrs){var by=d.L.nb(dR,0,0);gA=d.L.a71(dR,by,t,fT?fT.v:!1)}else{gA=d.L.alR(dR,t,fT?fT.v:!1)}var fv=d.R(t),d4=d.R(t),fg=d.R(t);
d.LI(gA,fv,0);d.LI(gA,d4,1);d.LI(gA,fg,2);e={type:c.wI,vB:fv,nA:d4,yS:fg,$R:!0,SC:!1}}if(E=="selc"){var aC=new Float32Array(9*3*2),bu=y.Um,hj=y.Mthd?y.Mthd.v.CrcM=="Absl":!1;
for(var M=0;M<9;M++){var jg=M*6,cm=gp.PM(y,M),bz=cm[0]/100,db=cm[1]/100,eM=cm[2]/100,de=cm[3]/100;if(hj){aC[jg]=aC[jg+1]=aC[jg+2]=1;
aC[jg+3]=bz*(1+de)+de;aC[jg+4]=db*(1+de)+de;aC[jg+5]=eM*(1+de)+de}else{aC[jg+0]=(1+bz)*(1+de);aC[jg+1]=(1+db)*(1+de);
aC[jg+2]=(1+eM)*(1+de)}}e={type:c.S9,ac4:aC}}if(E=="blwh"){var eb="Rd Yllw Grn Cyn Bl Mgnt".split(" "),e=[],e5=0,j6=0;
for(var N=0;N<6;N++)e.push(y[eb[N]].v);e.push(y.useTint.v,y.tintColor.v);var k8=[];for(var N=0;N<6;N++)k8.push((e[N]-50)/50);
var hc=d.L.yd(e[7]);hc.Z/=255;hc.D/=255;hc.J/=255;var bg=d.vb(hc.Z,hc.D,hc.J),bw=d.pM(d.nf(bg.T4,1,.5)),k5=bg.az*bg.XR;
if(bw==.5)e5=j6=.5;else{e5=k5*(.5-bw)/(.5/bw-1);j6=1-k5*(.5-bw)-1/(2*(1-bw));j6/=1-1/(2*(1-bw))}e={type:c.uG,an$:k8,Hy:e[6]?1:0,amS:bg.T4,pM:bw,an5:k5,fH:e5,azk:j6}}if(E=="blnc"){var n=[],gK=["ShdL","MdtL","HghL"];
for(var N=0;N<3;N++){if(y[gK[N]]==null){n[N]=[0,0,0];continue}var kp=y[gK[N]].v,aJ=kp[0].v/100,ic=kp[1].v/100,gk=kp[2].v/100,hu=y.PrsL==null||y.PrsL.v?(Math.min(aJ,ic,gk)+Math.max(aJ,ic,gk))/2:0;
n[N]=[aJ-hu,ic-hu,gk-hu]}var z=[d.R(256),d.R(256),d.R(256)];for(var M=0;M<3;M++)for(var N=0;N<256;N++){var I=N*(1/255),gQ=0,w=0,e7=0;
w=n[2][M];e7=Math.abs(w);if(w<0)gQ=Math.pow(I,Math.SQRT2);else gQ=1.63*(Math.pow(I+.04,.5)-.2);I=e7*gQ+(1-e7)*I;
w=n[1][M];e7=Math.abs(w);if(w<0)gQ=Math.pow(I,2);else gQ=Math.min(2.35*(Math.pow(I+.09,.5)-.3),Math.pow(I,1/2));
I=e7*gQ+(1-e7)*I;w=n[0][M];e7=Math.abs(w);if(w<0)gQ=I<.4?0:Math.pow((I-.4)/.6,Math.SQRT2);else gQ=Math.pow(I,Math.SQRT2/2);
I=e7*gQ+(1-e7)*I;I=Math.max(0,Math.min(1,I));z[M][N]=Math.round(I*255)}e={type:c.wI,vB:z[0],nA:z[1],yS:z[2],$R:!1,SC:!1}}if(E=="phfl"){var a2=d.L.yd(y.Clr.v),gU=[a2.Z/255,a2.D/255,a2.J/255],kv=y.Dnst.v/100,z=[d.R(256),d.R(256),d.R(256)];
for(var M=0;M<3;M++)for(var N=0;N<256;N++){var I=N*(1/255),cO=I*gU[M];cO=Math.max(0,Math.min(1,cO));
I=kv*cO+(1-kv)*I;z[M][N]=Math.round(I*255)}e={type:c.wI,vB:z[0],nA:z[1],yS:z[2],$R:!1,SC:y.PrsL.v}}if(E=="thrs"){var J=d.R(256);
for(var N=y.Lvl.v;N<256;N++)J[N]=255;e={type:c.wI,vB:J,nA:J,yS:J,$R:!0,SC:!1}}if(E=="mixr"){var hs=et.ex(y),g=[];
for(var N=0;N<hs.b.length;N++)if(N%5!=3)g.push(hs.b[N]/100);if(hs.bo){for(var ky=1;ky<3;ky++)for(var I=0;
I<4;I++)g[ky*4+I]=g[I]}e={type:c.ic,dX:g}}if(E=="rplc"){var c0=y.Mnm.v,aQ=y.Mxm.v;e={type:c.cG,rz:[c0.Lmnc.v,c0.A.v,c0.B.v],OC:[aQ.Lmnc.v,aQ.A.v,aQ.B.v],shift:[y.H.v/360,y.Strt.v/100,y.Lght.v/100],gJ:y.Fzns.v/150}}if(E=="clrL"&&y.profile){var ec=new Uint8Array(y.profile.v),hW=ICC.R(ec.buffer),di=[],er=17,di=ICC.U.sampleLUT(hW,er);
e={type:c.Ja,Ng:ICC.U.lutToRGBA8(di,er),apd:di,Wf:er}}return e};et.gG=function(E,y){var c=-1;if(E!="levl"||y==null)c=-1;
else if(y.Auto)c=0;else if(y.AuCo)c=1;else if(y.autoBlackWhite)c=2;return c};et.RS={wI:0,Vc:1,z9:2,S9:3,uG:4,ic:5,cG:6,Ja:7};
et.Mc=function(E){if(E<0)return E;return Math.pow(Math.tan(Math.PI/2*E),1.3)};et.alF=function(E){if(E<0)return E;
E=Math.pow(E,1/1.3);return Math.atan2(E,1)/(Math.PI/2)};et.bJ=function(E,y,c,e){var p=et.RS,H=Date.now();
if(h0.Lq&&e.P()>300*300&&E.type!=p.wI&&E.type!=p.Ja){e=e.clone();e.x=e.y=0;var Z=h0.On(0,e.m,e.e);Z.set(y);
h0.Lm(Z,e);Z.br(e);et.v_(E,Z.UY,e);Z.get(c);return}if(E.type==p.Ja){var X=E.apd,b=E.Wf;ICC.U.applyLUT(X,b,y,c);
var k=y.length;for(var N=0;N<k;N+=4)c[N+3]=y[N+3]}if(E.type==p.ic)d.Av.ajc(y,c,E.dX);if(E.type==p.uG){var D=E.an5,j=E.pM,g=E.fH,R=E.azk,k=y.length;
for(var N=0;N<k;N+=4){var e=y[N]*(1/255),t=y[N+1]*(1/255),w=y[N+2]*(1/255),B=d.z_(e,t,w),$=0;for(var o=0;
o<6;o++)$+=Math.min(1,1.7*(1-B.qC))*B.az*E.an$[o]*et.a53(B.T4,o*(1/6));var T=Math.max(0,Math.min(1,B.qC*(1+$)));
if(E.Hy==1){var i=0;if(T<g)i=T*(.5/j);else if(T<R)i=T+D*(.5-j);else i=1-(1-T)*.5/(1-j);B.T4=E.amS;B.az=Math.min(1,D+3*D*Math.abs(T-.5*(g+R)));
B.qC=i}else{B.T4=0;B.az=0;B.qC=T}var r=d.nf(B.T4,B.az,B.qC);c[N]=Math.round(r.Z*255);c[N+1]=Math.round(r.D*255);
c[N+2]=Math.round(r.J*255)}}if(E.type==p.S9){var I=E.ac4,k=y.length,M=1/255;for(var N=0;N<k;N+=4){var e=y[N]*M,t=y[N+1]*M,w=y[N+2]*M,B=d.z_(e,t,w),J=Math.max(e,Math.max(t,w)),P=Math.min(e,Math.min(t,w)),n=1-e,x=1-t,L=1-w,u=0,C=0,h=0;
for(var o=0;o<9;o++){var A=o*6,O=0;if(I[A]==1&&I[A+1]==1&&I[A+2]==1&&I[A+3]==0&&I[A+4]==0&&I[A+5]==0)continue;
var W=n*I[A]+I[A+3],Q=x*I[A+1]+I[A+4],l=L*I[A+2]+I[A+5];if(o<6)O=et.a53(B.T4,o*(1/6))*B.az*2*Math.min(B.qC,1-B.qC);
else if(o==6)O=Math.max(0,P-.5)*2;else if(o==7)O=1-(Math.abs(J-.5)+Math.abs(P-.5));else O=Math.max(0,.5-J)*2;
u+=(Math.max(0,Math.min(1,W))-n)*O;C+=(Math.max(0,Math.min(1,Q))-x)*O;h+=(Math.max(0,Math.min(1,l))-L)*O}n=Math.max(0,Math.min(1,n+u));
x=Math.max(0,Math.min(1,x+C));L=Math.max(0,Math.min(1,L+h));e=1-n;t=1-x;w=1-L;c[N]=Math.round(e*255);
c[N+1]=Math.round(t*255);c[N+2]=Math.round(w*255)}}if(E.type==p.wI){d.aeq(y,c,E.vB,E.nA,E.yS,E.$R,E.SC)}if(E.type==p.Vc){var z=new Uint32Array(y.buffer),a=new Uint32Array(c.buffer),k=z.length;
if(et.Xd==null){et.Xd=new Float64Array(256);for(var N=0;N<256;N++)et.Xd[N]=et.Mc(-1+2*N/255)}var m=et.Xd;
for(var N=0;N<k;N++){var q=z[N],e=(q&255)*(1/255),t=(q>>>8&255)*(1/255),w=(q>>>16&255)*(1/255),K=q>>>24,U=Math.min(e,t,w),f=Math.max(e,t,w),Y=0,G=0,V=0;
Y=d.z_(e,t,w).T4;var dF=~~(Y*255+.5),s=E.ax8[dF]*(1/255),aH=E.vA[dF]*(1/255)*2-1,dw=E.a2x[dF]*(1/255)*2-1,$=-dw,kO=U;
if(0<dw){$=dw;kO=f}var hX=E.ahw+E.l7*$*kO,jF=E.l7*(1-$);e=hX+jF*e;t=hX+jF*t;w=hX+jF*w;f=Math.max(e,t,w);
U=Math.min(e,t,w);V=(f+U)*.5;if(f!=U){var gn=f-U;G=V>.5?gn/(2-(f+U)):gn/(f+U)}var hM=aH;if(E.azT==0){aH=m[Math.floor((1+aH)*127.5)];
hM=Math.min(G*(1+aH),1)}var r=d.nf(s,hM,V);e=r.Z;t=r.D;w=r.J;a[N]=K<<24|w*255<<16|t*255<<8|e*255}}if(E.type==p.cG){d.Jt(y,c);
var z=new Uint32Array(y.buffer),a=new Uint32Array(c.buffer),k=z.length,ie=E.gJ,bN=1/ie,kd={s3:E.rz[0],U:E.rz[1],J:E.rz[2]},i7={s3:E.OC[0],U:E.OC[1],J:E.OC[2]};
for(var N=0;N<k;N++){var q=z[N],dn=q&255,ew=q>>>8&255,e4=q>>>16&255,e=dn*(1/255),t=ew*(1/255),w=e4*(1/255),K=q>>>24,eE=d.Nw(dn,ew,e4),jc=d.a8B(eE,kd,i7,ie,bN);
if(jc==0)continue;var B=d.z_(e,t,w),s=2+B.T4+E.shift[0];B.T4=s-~~s;B.az=Math.max(0,Math.min(1,B.az+E.shift[1]));
B.qC=Math.max(0,Math.min(1,B.qC+E.shift[2]));var r=d.nf(B.T4,B.az,B.qC);e=(1-jc)*e+jc*r.Z;t=(1-jc)*t+jc*r.D;
w=(1-jc)*w+jc*r.J;a[N]=K<<24|w*255<<16|t*255<<8|e*255}}if(E.type==p.z9){var z=new Uint32Array(y.buffer),a=new Uint32Array(c.buffer),k=z.length,ft=E.Wp[0],bd=E.Wp[1],iB=E.Wp[2],$=E.Wp[3],cG=d.Av.pY([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),bT=d.Av.Ub(cG),g$=2.4;
function b(hb){return Math.max(0,Math.min(1,hb))}function hU(hb){return Math.pow(hb,g$)}function ah(hb){return Math.pow(hb,1/g$)}function co(e,t,w,hb){e=hU(e);
t=hU(t);w=hU(w);var dI=d.Av.WV(cG,[e,t,w,1]);dI[0]*=iB;dI[1]*=$;dI[2]*=$;var r=d.Av.WV(bT,dI);r[0]=ah(b(r[0]));
r[1]=ah(b(r[1]));r[2]=ah(b(r[2]));return r}for(var N=0;N<k;N++){var q=z[N],e=(q&255)*(1/255),t=(q>>>8&255)*(1/255),w=(q>>>16&255)*(1/255),K=q>>>24,r=co(e,t,w,ft);
e=r[0];t=r[1];w=r[2];var im=d.z_(e,t,w);im.az=Math.max(0,Math.min(1,im.az*(1+bd)));r=d.nf(im.T4,im.az,im.qC);
e=r.Z;t=r.D;w=r.J;a[N]=K<<24|w*255<<16|t*255<<8|e*255}}};et.v_=function(E,y,c){h0.Bn.v_(E,y)};et.a53=function(E,y){var c=d.NH(y,E)*6;
return Math.max(0,Math.min(1,c<0?1+c:1-c))};var cN={};cN.Ms=function(E){var y=E.filterID.v;return y>16777215?_.aCn(y):E.Fltr.v.classID};
cN.R1=[{f3:"GEfc"},{f3:"LnCr"},{f3:"Adobe Camera Raw Filter"},{f3:"LqFy"},{f3:"VaPo",mc:!0},{y6:"3D",S_:["lightFilterGradient","Dila"]},{y6:[24,2],S_:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{y6:[24,4],S_:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{y6:[24,6],S_:["AdNs","Dspc","DstS","Mdn ","denoise"]},{y6:[24,8],S_:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{y6:[24,10],S_:["Flam","Clds","DfrC","Fbrs","LnsF"]},{y6:[24,12],S_:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{y6:[24,14],S_:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{y6:[24,16],S_:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{y6:"Fourier",S_:["dDFT","iDFT"]}];
cN.Zh={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
cN.DW={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
cN.s={rigidTransform:F.S0};cN.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
cN.TL=function(E){var y=null;if(E=="GEfc")y={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:hY.TL("GlwE")}]}};
if(E=="LqFy"){var c={Pf:5,T4:5,map:new Float32Array(5*5*2)},e=new Uint8Array(h6.sa(c)),p=[];for(var N=0;
N<e.length;N++)p.push(e[N]);y={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:p}}}if(E=="rigidTransform"){y={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(E=="LnCr")y={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(E=="adaptCorrect")y={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(E=="Dfs ")y={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(E=="Fbrs")y={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(E=="Embs")y={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(E=="oilPaint")y={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(E=="TrcC")y={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(E=="Wnd ")y={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(E=="lightFilterGradient")y={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(E=="boxblur")y={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(E=="GsnB")y={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(E=="Bokh")y={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(E=="MtnB")y={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(E=="RdlB")y={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(E=="surfaceBlur")y={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(E=="denoise")y={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(E=="Dspl")y={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(E=="Pnch")y={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(E=="Plr ")y={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(E=="Rple")y={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(E=="Shr ")y={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(E=="Sphr")y={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(E=="Twrl")y={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(E=="Wave")y={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(E=="ZgZg")y={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(E=="AdNs")y={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(E=="DstS")y={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(E=="Mdn ")y={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(E=="ClrH")y={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(E=="Crst")y={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(E=="Mztn")y={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(E=="Msc ")y={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(E=="Pntl")y={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(E=="LnsF")y={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(E=="Dthr")y={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(E=="Part")y={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(E=="Adobe Camera Raw Filter")y={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(E=="smartSharpen")y={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(E=="UnsM")y={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(E=="HghP")y={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(E=="HsbP")y={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(E=="Mxm ")y={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(E=="Mnm ")y={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(E=="Ofst")y={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(E=="Kale")y={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(E=="Rept")y={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(E=="Flam")y={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(E=="Ctoa")y={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(E=="brit")y={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(E=="levl")y={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(E=="curv")y={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(E=="expA")y={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(E=="vibA")y={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(E=="hue2")y={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(E=="blnc")y={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(E=="blwh")y={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(E=="phfl")y={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(E=="grdm")y={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(cb.Dn[6]).Grad};
if(E=="selc")y={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(E=="thrs")y={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(E=="mixr")y={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(E=="clrL")y={__name:"Color Lookup",classID:"colorLookup"};if(E=="post")y={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(E=="rplc")y={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(E=="fade")y={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(E=="aply")y={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(E=="matc"){y={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(E=="Dila")y={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(E=="blendOptions")y={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return y};cN.Ix={sFlam:function(E,y){y[0]=E.Type.v;y[1]=E.Leng.v;y[2]=E.RndL.v;y[3]=E.Widt.v;y[4]=E.Angl.v;
y[5]=E.Intr.v;y[6]=E.Adpt.v;y[7]=E.Clr.v;y[8]=E.Qual.v;y[9]=E.Turb.v;y[10]=E.Jag.v;y[11]=E.Opct.v.val;
y[12]=E.Lins.v;y[13]=E.Botm.v;y[14]=E.Styl.v;y[15]=E.Shap.v;y[16]=E.RnSh.v;y[17]=E.Arng.v},gFlam:function(E,y){E.Type.v=y[0];
E.Leng.v=y[1];E.RndL.v=y[2];E.Widt.v=y[3];E.Angl.v=y[4];E.Intr.v=y[5];E.Adpt.v=y[6];E.Clr.v=y[7];E.Qual.v=y[8];
E.Turb.v=y[9];E.Jag.v=y[10];E.Opct.v.val=y[11];E.Lins.v=y[12];E.Botm.v=y[13];E.Styl.v=y[14];E.Shap.v=y[15];
E.RnSh.v=y[16];E.Arng.v=y[17]},sAdNs:function(E,y){y[0]=E.Nose.v.val;y[1]=["Gsn","Unfr"].indexOf(E.Dstr.v.Dstr);
y[2]=E.Mnch.v},gAdNs:function(E,y){E.Nose.v.val=y[0];E.Dstr.v.Dstr=["Gsn","Unfr"][y[1]];E.Mnch.v=y[2]},sDstS:function(E,y){y[0]=E.Rds.v;
y[1]=E.Thsh.v},gDstS:function(E,y){E.Rds.v=y[0];E.Thsh.v=y[1]},sGsnB:function(E,y){y[0]=E.Rds.v.val},gGsnB:function(E,y){E.Rds.v.val=y[0]},sDila:function(E,y){y[0]=E.Crop.v.val;
y[1]=E.Rds.v.val},gDila:function(E,y){E.Crop.v.val=y[0];E.Rds.v.val=y[1]},sHghP:function(E,y){y[0]=E.Rds.v.val},gHghP:function(E,y){E.Rds.v.val=y[0]},sHsbP:function(E,y){var c=["RGBC","HSBl","HSLC"];
y[0]=c.indexOf(E.Inpt.v.ClrS);y[1]=c.indexOf(E.Otpt.v.ClrS)},gHsbP:function(E,y){var c=["RGBC","HSBl","HSLC"];
E.Inpt.v.ClrS=c[y[0]];E.Otpt.v.ClrS=c[y[1]]},"sMxm ":function(E,y){var c="preserveShape";y[0]=E.Rds.v.val;
y[1]=E[c]?["squareness","Rndn"].indexOf(E[c].v[c]):0},"gMxm ":function(E,y){var c="preserveShape";E.Rds.v.val=y[0];
E[c]={t:"enum",v:{preserveShape:["squareness","Rndn"][y[1]]}}},"sMnm ":function(E,y){var c="preserveShape";
y[0]=E.Rds.v.val;y[1]=E[c]?["squareness","Rndn"].indexOf(E[c].v[c]):0},"gMnm ":function(E,y){var c="preserveShape";
E.Rds.v.val=y[0];E[c]={t:"enum",v:{preserveShape:["squareness","Rndn"][y[1]]}}},sMtnB:function(E,y){y[0]=[E.Angl.v];
y[1]=E.Dstn.v.val;console.log(y)},gMtnB:function(E,y){E.Angl.v=typeof y[0]=="number"?y[0]:y[0][0];E.Dstn.v.val=y[1]},sOfst:function(E,y){y[0]=E.Hrzn.v;
y[1]=E.Vrtc.v;y[2]=["Rpt","Bckg","Wrp"].indexOf(E.Fl.v.FlMd)},gOfst:function(E,y){E.Hrzn.v=y[0];E.Vrtc.v=y[1];
E.Fl.v.FlMd=["Rpt","Bckg","Wrp"][y[2]]},sPnch:function(E,y){y[0]=E.Amnt.v},gPnch:function(E,y){E.Amnt.v=y[0]},"sPlr ":function(E,y){y[0]=["RctP","PlrR"].indexOf(E.Cnvr.v.Cnvr)},"gPlr ":function(E,y){E.Cnvr.v.Cnvr=["RctP","PlrR"][y[0]]},sRple:function(E,y){y[0]=E.Amnt.v;
y[1]=["Sml","Mdm","Lrg"].indexOf(E.RplS.v.RplS)},gRple:function(E,y){E.Amnt.v=y[0];E.RplS.v.RplS=["Sml","Mdm","Lrg"][y[1]]},sTwrl:function(E,y){y[0]=E.Angl.v},gTwrl:function(E,y){E.Angl.v=y[0]},sZgZg:function(E,y){y[0]=E.Amnt.v;
y[1]=E.NmbR.v;y[2]=["ArnC","OtFr","PndR"].indexOf(E.ZZTy.v.ZZTy)},gZgZg:function(E,y){E.Amnt.v=y[0];
E.NmbR.v=y[1];E.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][y[2]]},sUnsM:function(E,y){y[0]=E.Amnt.v.val;y[1]=E.Rds.v.val;
y[2]=E.Thsh.v},gUnsM:function(E,y){E.Amnt.v.val=y[0];E.Rds.v.val=y[1];E.Thsh.v=y[2]},sWave:function(E,y){y[0]=E.NmbG.v;
y[1]=E.WLMn.v;y[2]=E.WLMx.v;y[3]=E.AmMn.v;y[4]=E.AmMx.v;y[5]=E.SclH.v;y[6]=E.SclV.v;y[7]=["WvSn","WvTr","WvSq"].indexOf(E.Wvtp.v.Wvtp);
y[8]=["WrpA","RptE"].indexOf(E.UndA.v.UndA);y[9]=E.RndS.v},gWave:function(E,y){E.NmbG.v=y[0];E.WLMn.v=y[1];
E.WLMx.v=y[2];E.AmMn.v=y[3];E.AmMx.v=y[4];E.SclH.v=y[5];E.SclV.v=y[6];E.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][y[7]];
E.UndA.v.UndA=["WrpA","RptE"][y[8]];if(y[9]!=null){var c=parseInt(y[9]);if(isNaN(c))c=248325464;c=Math.max(0,Math.min(268435455,c));
E.RndS.v=c}},sDspl:function(E,y){y[0]=E.HrzS.v;y[1]=E.VrtS.v;y[2]=0;y[3]=["WrpA","RptE"].indexOf(E.UndA.v.UndA)},gDspl:function(E,y){E.HrzS.v=y[0];
E.VrtS.v=y[1];E.UndA.v.UndA=["WrpA","RptE"][y[3]];E.DspF.v.pth=y[4]},sbrit:function(E,y){y[0]=E.Brgh?E.Brgh.v:0;
y[1]=E.Cntr?E.Cntr.v:0;y[2]=E.useLegacy?E.useLegacy.v:!1},gbrit:function(E,y){E.Brgh.v=y[0];E.Cntr.v=y[1];
if(y[2]!=null)E.useLegacy.v=y[2]}};cN.ahN=function(E){var y=new eq(0,0);if(E.enab.v==!1)return y;var c=E.filterFXList.v;
for(var N=0;N<c.length;N++){var e=c[N].v;if(e.enab.v==!1)continue;var p=cN.Ms(e),H=cN.vv(p,e.Fltr?e.Fltr.v:null);
if(H.x>y.x)y.x=H.x;if(H.y>y.y)y.y=H.y}return y};cN.vv=function(E,y){var c=0,e=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(E)!=-1){var p=y.Rds?y.Rds.v.val:1;
c=e=p*2.57}if(E=="MtnB")c=e=y.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(E)!=-1){c=e=1e4}if(E=="GEfc")return hY.vv(y);
return new eq(Math.ceil(c),Math.ceil(e))};cN.z3=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
cN.cK=function(E,y){var c={Z:y.x4>>16,D:y.x4>>8&255,J:y.x4&255},e={Z:y.YO>>16,D:y.YO>>8&255,J:y.YO&255},p=cN.names[E];
if(p==null)p=et.names[E];var H=E;for(var Z in et.lT)if(et.lT[Z]==E)H=Z;var X={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:i4.get(p)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:d.L.hp(c)},BckC:{t:"Objc",v:d.L.hp(e)},filterID:{t:"long",v:H.length==4?_.aBc(H):777}}},b=cN.TL(E);
if(b)X.v.Fltr={t:"Objc",v:b};return X};cN.J4=function(E,y,c,e){var p=Date.now(),H=h0.Lq&&Math.max(e.m,e.e)<=h0.kA.getParameter(h0.kA.MAX_TEXTURE_SIZE);
if(E<1){var Z=Math.round(E*5),X=[1,2,1,2,[40,26,13,6,4,2][Z],2,1,2,1];X=d.bg.MB(X);if(!H){d.xU(c);var b=c.slice(0);
d.bg.Nf(b,c,e.m,e.e,X,255);d.sR(c)}else{var k=e.m,D=e.e,j=h0.On(0,k,D);j.set(c);var g=h0.On(1,k,D),R=new Float32Array([1/k,1/D]);
h0.Lm(g);h0.filter.v_({type:h0.filter.a6r,T3:R,aiF:new Float32Array(X)},j.Ln);g.get(c)}}else{var t=y==d.gC.t0?0:y==d.gC.aif?1:2,w=[];
while(t!=2&&E*[1,2.4][t]>20&&w.length<4){var B=d.Ws(c,e);w.push(c,e);c=B.bb;e=B.rect;E/=2}var k=e.m,D=e.e;
if(!H||t==2&&E>15){d.xU(c);y(c,e,E);d.sR(c)}else{var j=h0.On(0,k,D);j.set(c);var g=h0.On(1,k,D),R=new Float32Array([1/k,1/D]);
if(t==0){var $=1;while($<E)$<<=1;h0.Lm(g);h0.filter.v_({type:h0.filter.xZ,T3:R,PE:E,Ss:[0,0,$]},j.Ln);
h0.Lm(j);h0.filter.v_({type:h0.filter.xZ,T3:R,PE:E,Ss:[0,1,$]},g.Ln);j.get(c)}else if(t==1){var o=3,T=d.gC.hA(E,o);
for(var N=0;N<o;N++){var i=T[N]>>>1,r=1;while(r<i)r<<=1;if(i==0)continue;h0.Lm(g);h0.filter.v_({type:h0.filter.xZ,T3:R,PE:i,Ss:[0,0,r]},j.Ln);
h0.Lm(j);h0.filter.v_({type:h0.filter.xZ,T3:R,PE:i,Ss:[0,1,r]},g.Ln)}j.get(c)}else{var $=1;while($<E)$<<=1;
h0.Lm(g);h0.filter.v_({type:h0.filter.xZ,T3:R,PE:E,Ss:[0,0,$]},j.Ln);g.get(c)}}var I=Date.now();while(w.length!=0){var M=w.pop(),J=w.pop();
d.scale.aeI(c,e.m,e.e,J,M.m,M.e);c=J;e=M}}};cN.anN=function(E,y,c,e){for(var N=0;N<E.length;N++){c[N]=E[N]*(1/255);
e[N]=0}FFT.fft2d(c,e);var p=y>>>1,H=16384,Z=128,b=100;while(Z<y){Z<<=1;H<<=2}var X=255/Math.log(H),k=-100;
for(var D=0;D<y;D++)for(var j=0;j<p;j++){var g=y+p+D&y-1,R=c[g*y+j],t=e[g*y+j],w=Math.sqrt(R*R+t*t),B=Math.atan2(t,R);
E[D*y+j]=Math.round(X*Math.log(w+1));E[D*y+p+j]=Math.round((Math.PI+B)*(255*.5/Math.PI))}};cN.awA=function(E,y,c,e){c.fill(0);
e.fill(0);var p=y>>>1,H=16384,Z=128;while(Z<y){Z<<=1;H<<=2}var X=255/Math.log(H),b=[],k=[],D=[];for(var N=0;
N<256;N++){b[N]=Math.exp(N/X)-1;var j=N*(2*Math.PI/255)-Math.PI;k[N]=Math.sin(j);D[N]=Math.cos(j)}for(var g=0;
g<y;g++)for(var R=0;R<p;R++){var t=y+p+g&y-1,w=b[E[g*y+R]],j=E[g*y+p+R],B=w*D[j],$=w*k[j];c[t*y+R]=B;
e[t*y+R]=$;if(R!=0){var o=t==0?t*y+y-R:(y-t)*y+(y-R);c[o]=B;e[o]=-$}}FFT.ifft2d(c,e);for(var N=0;N<E.length;
N++){E[N]=Math.max(0,Math.min(255,~~(.5+255*c[N])))}};cN.aoW=new ArrayBuffer(512);cN.alr=function(E){var y=cN.aoW,c=E.length;
if(y.byteLength<c)cN.aoW=y=new ArrayBuffer(c);var e=new Uint8Array(y);for(var N=0;N<c;N+=4){e[N]=E[N];
e[N+1]=E[N+1];e[N+2]=E[N+2];e[N+3]=E[N+3]}return y};cN.bJ=function(E,y,c,e,p,H,Z){if(H==null)H={buffer:d.R(y.buffer.length),rect:y.rect.clone()};
H.buffer.set(y.buffer);var X=c&&c.RndS?c.RndS.v>>>1:0;if(E=="GEfc"){var b=[];if(c.GEfs){var k=c.GEfs.v;
for(var N=0;N<k.length;N++){var D=k[N].v;if(D.GELv&&D.GELv.v==!1)continue;b.push(D)}}else b=[c];for(var N=0;
N<b.length;N++){var j;if(N==0)hY.bJ(E,y,b[N],e,p,H,Z);else{if(j==null)j={buffer:d.R(y.buffer.length),rect:y.rect.clone()};
d.Jt(H.buffer,j.buffer);hY.bJ(E,j,b[N],e,p,H,Z)}}}if(E=="Dila"){var g=c.Crop.v.val,R=c.Rds.v.val+g;R=R*R;
if(R==0)return;var t=y.rect,w=t.m,B=t.e,$=w*B,o=y.buffer,j=H.buffer,T=d.R($);d.LI(o,T,3);if(g!=0){var i=t.clone();
i.r4(1,1);var r=d.R(i.P());d.kh(T,t,r,i);d.Ub(r);d.style.stroke(r,r,i,g);d.Ub(r);d.kh(r,i,T,t)}var I=d.style.ge(T,w,B);
j.fill(0);for(var M=0;M<B;M++)for(var J=0;J<w;J++){var N=M*w+J,P=N<<1,n=N<<2,x=I[P],L=I[P+1];if(x*x+L*L<R){var u=(M+L)*w+(J+x)<<2;
j[n]=o[u];j[n+1]=o[u+1];j[n+2]=o[u+2];j[n+3]=255}}}if(E=="Adobe Camera Raw Filter"){var t=y.rect,w=t.m,B=t.e,$=w*B,C=$*4,h=$*3,A=new Float32Array(w*B*3),W=y.buffer;
for(var N=0;N<$;N++){var Q=N*3,n=N*4;A[Q]=W[n]*(1/255);A[Q+1]=W[n+1]*(1/255);A[Q+2]=W[n+2]*(1/255)}var l=JSON.parse(JSON.stringify(c));
delete l.Upri;delete l.GuUr;var O=A.slice(0);fa(A,w,B,O,l);A=O;W=H.buffer;for(var N=0;N<$;N++){var Q=N*3,n=N*4;
W[n]=255*Math.max(0,Math.min(1,A[Q]));W[n+1]=255*Math.max(0,Math.min(1,A[Q+1]));W[n+2]=255*Math.max(0,Math.min(1,A[Q+2]))}}if(E=="Fct "){var t=y.rect,w=t.m,B=t.e,$=w*B,C=$*4;
function z(dP){var bT=dP.slice(0);for(var M=0;M<3;M++)for(var J=0;J<3;J++)bT[M*3+J]=dP[(2-J)*3+M];return bT}function a(cS,iN,c6,fI){var cj=0;
for(var M=0;M<3;M++)for(var J=0;J<3;J++)cj+=iN[M*3+J]*cS[(fI-1+M)*w+c6-1+J];return cj}var m=[8,5,2,5,2,-1,2,-1,-4],q=[5,5,5,2,2,2,-1,-1,-1],K=[2,2,2,2,2,2,2,2,2],U=[];
U.push(m);for(var N=0;N<3;N++)U.push(z(U[U.length-1]));U.push(q);for(var N=0;N<3;N++)U.push(z(U[U.length-1]));
U.push(K);for(var N=0;N<9;N++)U[N]=d.bg.MB(U[N]);var f=[-w-1,-w,-w+1,-1,0,1,w-1,w,w+1],Y=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],G=d.R($),V=new Float32Array($),O=d.R($);
for(var dF=0;dF<3;dF++){d.LI(y.buffer,G,dF);for(var s=0;s<1;s++){for(var M=1;M<B-1;M++)for(var J=1;J<w-1;
J++){var aH=M*w+J,dw=G[aH];V[aH]=1e9;for(var N=0;N<9;N++){var kO=a(G,U[N],J,M),hX=(kO-dw)*(kO-dw);if(hX<V[aH])V[aH]=hX}}for(var M=1;
M<B-1;M++)for(var J=1;J<w-1;J++){var jF=0,hM=1e9;for(var N=0;N<9;N++){var ie=M*w+J+f[N],hX=V[ie];if(hX<hM){hM=hX;
jF=G[ie]}}O[M*w+J]=jF}G.set(O)}d.Og(O,H.buffer,dF)}}if(E=="adaptCorrect"){var t=y.rect,w=t.m,B=t.e,$=w*B,C=$*4,bN=c.sdwM.v,kd=bN.Amnt.v.val/100,i7=bN.Wdth.v.val/100,dn=bN.Rds.v,ew=c.hglM.v,e4=ew.Amnt.v.val/100,eE=ew.Wdth.v.val/100,jc=ew.Rds.v;
d.apb.YR(y.buffer,H.buffer,w,B,kd,i7,dn,e4,eE,jc,c.ClrC.v/100,c.Cntr.v/100)}if(E=="denoise"){var t=y.rect,w=t.m,B=t.e,ft=c.channelDenoise.v[0].v;
d.ad4.a3W(y.buffer,w,B,H.buffer,ft.Amnt.v/10,ft.EdgF.v/100)}if(E=="HsbP"){var bd=c.Inpt.v.ClrS,iB=c.Otpt.v.ClrS,t=y.rect,w=t.m,B=t.e,$=w*B;
for(var N=0;N<$;N++){var n=N*4,s=y.buffer[n]*(1/255),cG=y.buffer[n+1]*(1/255),bT=y.buffer[n+2]*(1/255);
if(bd=="RGBC"){}else if(bd=="HSLC"){var O=d.nf(s,cG,bT);s=O.Z;cG=O.D;bT=O.J}else if(bd=="HSBl"){var O=d.aov(s,cG,bT);
s=O.Z;cG=O.D;bT=O.J}var g$=s,hU=cG,ah=bT;if(iB=="RGBC"){}else if(iB=="HSLC"){var O=d.z_(s,cG,bT);g$=O.T4;
hU=O.az;ah=O.qC}else if(iB=="HSBl"){var O=d.am1(s,cG,bT);g$=O.T4;hU=O.az;ah=O.J}H.buffer[n]=~~(255*g$);
H.buffer[n+1]=~~(255*hU);H.buffer[n+2]=~~(255*ah)}}if(E=="Fbrs"){var t=y.rect,w=t.m,B=t.e;d.$.auk(y.buffer,w,B,H.buffer,[c.Vrnc.v,c.Strg.v,X]);
var co=d.R(w*B);d.LI(H.buffer,co,0);d.Ub(co);hY.zd(co,H.buffer,e,p)}if(E=="Frgm"){var t=y.rect,w=t.m,B=t.e,im=y.buffer.slice(0);
d.xU(im);d.$.ao$(im,w,B,H.buffer);d.sR(H.buffer)}if(E=="Flam"){var t=y.rect,w=t.m,B=t.e,hb=c.Clr.v,dI={type:c.Type.v+1,length:c.Leng.v,aDW:c.RndL.v,EN:c.Widt.v,aCX:c.Angl.v,aDb:c.Intr.v,a2J:c.Adpt.v,color:{Z:hb.Rd.v,D:hb.Grn.v,J:hb.Bl.v},Dq:c.Qual.v+1,dy:c.Turb.v,VQ:c.Jag.v,opacity:c.Opct.v.val,j5:c.Lins.v,aty:c.Botm.v,style:c.Styl.v+1,shape:c.Shap.v+1,a9e:c.RnSh.v,aCh:c.Arng.v,aE1:!1},bw=Z[3],fb=bw[0],iG=bw[1],dy=fb[iG.length!=0?iG[0]:0];
if(dy==null){alert("Make a path first");return}var kp=dy.add.vmsk.X,gw=d.o.a0(kp),dR=[];for(var u=0;
u<gw;u++){var fT=d.o.O3(kp,u),gA=kp[fT];if(gA.length<2)continue;var by=[];dR.push(by);var fv=gA.length-(gA.type==3?1:0);
for(var aH=0;aH<fv;aH++){var d4=kp[fT+1+aH],fg=aH==gA.length-1?kp[fT+1]:kp[fT+1+aH+1],aC=d4.I,bu=d4.dW,m=fg.$0,hj=fg.I,jg=Math.round(eq.oG(aC,hj)/5);
for(var cm=0;cm<jg;cm++){var bz=cm/jg,db=1-bz,J=db*db*db*aC.x+3*db*db*bz*bu.x+3*db*bz*bz*m.x+bz*bz*bz*hj.x,M=db*db*db*aC.y+3*db*db*bz*bu.y+3*db*bz*bz*m.y+bz*bz*bz*hj.y;
by.push(J,M)}}}var eM=[dR,dI],de=Date.now(),eb=dY(eM);ax(y.buffer,w,B,H.buffer,eb,eM)}if(E=="Dfs "){var t=y.rect,w=t.m,B=t.e,k8=["Nrml","DrkO","LghO","anisotropic"].indexOf(c.Md.v.DfsM);
if(k8<3)d.$.alU(y.buffer,w,B,H.buffer,[k8]);else{var eM=[1.4,1.6,1,4,!1,2,[0,0,.001]],t=y.rect.clone();
t.x=t.y=0;d.ah.filter(y.buffer,t,H.buffer,eM)}}if(E=="TrcC"){var t=y.rect,w=t.m,hc=w<<2,B=t.e,bg=c.Lvl.v,k5=c.Edg.v.CntE=="Lwr",e5=y.buffer,j6=H.buffer;
d.KT(j6,16777215,4278190080);function gK(e9,hG){ic(e9,hG);ic(e9+1,hG+1);ic(e9+2,hG+2)}function aJ(e9,hG){gk(e9,hG);
gk(e9+1,hG+1);gk(e9+2,hG+2)}function ic(e9,hG){var g$=e5[e9],hU=e5[hG];if(g$>=bg&&hU<bg)j6[e9]=0;if(g$<bg&&hU>=bg)j6[hG]=0}function gk(e9,hG){var g$=e5[e9],hU=e5[hG];
if(g$>bg&&hU<=bg)j6[hG]=0;if(g$<=bg&&hU>bg)j6[e9]=0}if(k5)for(var M=1;M<B;M++)for(var J=1;J<w;J++){var n=M*w+J<<2;
gK(n,n-4);gK(n,n-hc)}else for(var M=1;M<B;M++)for(var J=1;J<w;J++){var n=M*w+J<<2;aJ(n,n-4);aJ(n,n-hc)}}if(E=="Embs"){var t=y.rect,w=t.m,B=t.e,hu=-c.Angl.v*Math.PI/180,gQ=c.Hght.v,e7=c.Amnt.v/100;
gQ/=2;var x=Math.cos(hu)*gQ,L=Math.sin(hu)*gQ,e5=y.buffer,j6=H.buffer;j6.fill(0);var a2=new Uint32Array(e5.buffer),O=new Uint8Array(4),gU=new Uint32Array(O.buffer);
for(var M=0;M<B;M++)for(var J=0;J<w;J++){var kv=0,cO=0,hs=0;if(0<=J+x&&J+x<w&&0<=M+L&&M+L<B){d.r.xO(J+x+.5,M+L+.5,a2,w,B,gU,0,0);
kv+=O[0]-128;cO+=O[1]-128;hs+=O[2]-128}if(0<=J-x&&J-x<w&&0<=M-L&&M-L<B){d.r.xO(J-x+.5,M-L+.5,a2,w,B,gU,0,0);
kv-=O[0]-128;cO-=O[1]-128;hs-=O[2]-128}var n=M*w+J<<2;j6[n]=Math.max(0,Math.min(255,kv*e7+128));j6[n+1]=Math.max(0,Math.min(255,cO*e7+128));
j6[n+2]=Math.max(0,Math.min(255,hs*e7+128));j6[n+3]=e5[n+3]}}if(E=="ShrE"){var t=y.rect,w=t.m,B=t.e;
d.$.a1q(y.buffer,w,B,H.buffer)}if(E=="Dspc"){var t=y.rect,w=t.m,B=t.e;d.$.avH(y.buffer,w,B,H.buffer)}if(E=="Slrz"){var ai=H.buffer,ky=128;
for(var N=0;N<ai.length;N+=4){if(ai[N]>ky)ai[N]=255-ai[N];if(ai[N+1]>ky)ai[N+1]=255-ai[N+1];if(ai[N+2]>ky)ai[N+2]=255-ai[N+2]}}if(E=="Wnd "){var t=y.rect,w=t.m,B=t.e,c0=["Wnd","Blst","Stgr"],aQ=c.WndM.v.WndM;
d.$.ym(y.buffer,w,B,H.buffer,[c0.indexOf(aQ),c.Drct.v.Drct!="Left"])}if(E=="Bokh"){var t=y.rect,w=t.m,B=t.e,$=w*B,C=$*4,ec=y.buffer.slice(0),hW=c.BkDi.v.BtDi,di=c.BkDc,er=c.BkDs.v,fe=c.BkDp.v/255;
if(hW=="BeIn")fe=0;var eu=57*(.3+.7*((w+B)/2)/1750)*(c.BkIb.v/100)*(1+.2*Math.pow(fe,.1)),j1=parseInt(c.BkIs.v.BtIs.slice(3)),gc=-c.BkIr.v*Math.PI/180,iM=[];
for(var N=0;N<8;N++){var dL=gc+N*(Math.PI*2/j1),jS=gc+(N+1)*(Math.PI*2/j1),iF=Math.cos(dL),cr=Math.sin(dL),g6=Math.cos(jS),be=Math.sin(jS),bt=[0,0,0];
d.dX.Kx([[iF,cr,1,0],[g6,be,1,0],[1,1,1,1]],bt);if(bt[2]>0){bt[0]*=-1;bt[1]*=-1;bt[2]*=-1}iM.push(bt[0],bt[1],bt[2],0)}if(hW=="BeIn"){d.KT(ec,0,16777215);
fe=1}else if(hW=="BeIt"&&di.v.BtDc=="BeCt"){}else{var jP;if(hW=="BeIt"&&di.v.BtDc=="BeCm")jP=Z[1];else if(hW=="BeIa")jP=Z[2][di.v];
if(jP==null){d.KT(ec,0,16777215)}else{var G;if(jP.rect.rT(t))G=jP.channel;else G=jP.tv(t);d.Og(G,ec,3)}}if(er)for(var N=0;
N<C;N+=4)ec[N+3]=255-ec[N+3];if(h0.Lq){var d8=ec,gd=w,ha=B,f_=1,hK=(c.BkSb.v==0||c.BkSt.v==255)&&hW=="BeIn";
if(!hK){var d2=0;for(var N=0;N<C;N+=4)d2+=Math.abs(fe-ec[N+3]*(1/255));d2=d2/$*eu;var j2=3.14*d2*d2*w*B/3e6;
if(j2>2e3){alert("too large radius");return}}while(hK&&3*(eu/f_)*(eu/f_)*w*B>500*2e3*2e3){var kx=d.auD(ec,new ir(0,0,gd,ha));
ec=kx.bb;gd=kx.rect.m;ha=kx.rect.e;f_*=2}var de=Date.now(),o=h0.On(0,gd,ha);o.set(ec);var dp=h0.On(1,w,B);
h0.Lm(dp);h0.filter.v_({type:h0.filter.azG,T3:new Float32Array([1/gd,1/ha]),a5B:fe,ty:eu/f_,arh:new Float32Array([c.BkSb.v/100,c.BkSt.v/255]),agM:new Float32Array([c.BkNa.v/100,c.BkNt.v.BtNt=="BeNu"?0:1,c.BkNm.v?1:0]),aCG:new Float32Array(iM.slice(0,16)),atR:new Float32Array(iM.slice(16))},o.Ln);
dp.get(H.buffer);var fu=H.buffer;for(var N=0;N<C;N+=4)fu[N+3]=y.buffer[N+3]}}if(E=="rigidTransform"){var de=Date.now(),gh=cN.alr,o=y.buffer.slice(0),g1=0,dG=0;
d.xU(o);d.KT(H.buffer,0);var w=y.rect.m,B=y.rect.e,kM=c.puppetShapeList.v,dJ=[],jj=[],j4=[],fx=[];for(var aH=0;
aH<kM.length;aH++){var dO=kM[aH].v,P=g1*2,Q=dG*3,cd=dO.originalVertexArray.v.length>>>2,kG=dO.indexArray.v.length>>>2,dM=new Float32Array(gh(dO.originalVertexArray.v));
for(var N=0;N<cd;N++)dJ[P+N]=dM[N];var an=new Float32Array(gh(dO.deformedVertexArray.v));for(var N=0;
N<cd;N++)jj[P+N]=an[N];var du=new Uint32Array(gh(dO.indexArray.v));for(var N=0;N<kG;N++)j4[Q+N]=g1+du[N];
var g8=[],je=[],gv=dO.PnDp.v;for(var N=0;N<gv.length;N++){g8.push(dO.pinVertexIndices.v[N].v);je.push(gv[N].v)}var aM=d.bs.amq(dM,du,g8,je);
for(var N=0;N<aM.length;N++)fx[g1+N]=aM[N];g1+=cd>>>1;dG+=~~(kG/3)}var s=y.rect,w=s.m,B=s.e;d.bs.bD(o,w,B,H.buffer,w,B,dJ,jj,fx,j4);
d.sR(H.buffer)}if(E=="lightFilterGradient"){function gL(aC){var iN=1/Math.sqrt(aC[0]*aC[0]+aC[1]*aC[1]+aC[2]*aC[2]);
aC[0]*=iN;aC[1]*=iN;aC[2]*=iN}var w=y.rect.m,B=y.rect.e,$=w*B,de=Date.now(),e2=d.R($),hU=.3,ah=.7;d.DU(H.buffer,e2);
var iX=d.R($);d.gC.VI(e2,iX,H.rect,16);var iS=d.R($);d.gC.VI(e2,iS,H.rect,8);var aG=e2,bO=new Float32Array($),eK=c.Dtl.v,cJ=eK[2].v,cK=eK[1].v,cy=eK[0].v,cj=c.Scl.v*40*c.textureScale.v/(cJ+cK+cy);
cJ*=cj;cK*=cj;cy*=cj;for(var N=0;N<$;N++){var jT=iX[N]*(1/255),io=iS[N]*(1/255),kq=aG[N]*(1/255);kq=kq*kq;
bO[N]=cJ*jT+cK*io+cy*kq}var bb=c.blur.v;if(bb!=0){d.gC.RC(bO,H.rect,bb)}var bZ=w-1,aa=B-1;for(var M=0;
M<B;M++)for(var J=0;J<w;J++){var N=M*w+J,n=N*4,dq=bO[N],x=hU*(bO[N+(J==bZ?0:1)]-dq)+ah*(dq-bO[N-(J==0?0:1)]),L=hU*(bO[N+(M==aa?0:w)]-dq)+ah*(dq-bO[N-(M==0?0:w)]),aC=[1,0,x],bu=[0,1,L];
gL(aC);gL(bu);var jS=aC[0],eC=aC[2],cW=bu[1],cw=bu[2],f7=-eC*cW,bM=-jS*cw,cV=jS*cW;H.buffer[n]=~~(127.5+f7*127.5);
H.buffer[n+1]=~~(127.5+bM*127.5);H.buffer[n+2]=~~(127.5+cV*127.5)}}if(E=="defr"){var w=y.rect.m,B=y.rect.e;
c2(y.buffer,w,B,H.buffer)}if(E=="dDFT"||E=="iDFT"){function aI(j1){if(j1==0)return 1;j1--;j1|=j1>>1;
j1|=j1>>2;j1|=j1>>4;j1|=j1>>8;j1|=j1>>16;return j1+1}var w=y.rect.m,B=y.rect.e,fR=aI(Math.max(w,B)),ju=fR>>>1,jO=new ir(0,0,fR,fR),cF=new ir(0,0,w,B);
cF.y=fR-B>>>1;var cI=w>>>1,hB=new ir(0,cF.y,cI,B),bx=new d.Ay(w*B);d.Rk(y.buffer,bx);var a3=new Float64Array(fR*fR),eJ=new Float64Array(fR*fR),G=d.R(fR*fR);
FFT.init(fR);var f5=[bx.Z,bx.D,bx.J];for(var N=0;N<3;N++){var e$=f5[N];G.fill(0);if(E=="dDFT"){d.kh(e$,cF,G,jO);
cN.anN(G,fR,a3,eJ);d.kh(G,jO,e$,cF,hB);hB.x+=cI;jO.x-=ju-cI;d.kh(G,jO,e$,cF,hB);hB.x-=cI;jO.x+=ju-cI}else{d.kh(e$,cF,G,jO,hB);
hB.x+=ju;cF.x+=ju-cI;d.kh(e$,cF,G,jO,hB);hB.x-=ju;cF.x-=ju-cI;cN.awA(G,fR,a3,eJ);d.kh(G,jO,e$,cF)}}d.Dc(bx,H.buffer)}if(E=="Avrg"){var fk=0,h1=0,jz=0,fV=0,fj=1;
for(var N=0;N<y.buffer.length;N+=4){var T=y.buffer[N+3];jz+=y.buffer[N]*T;h1+=y.buffer[N+1]*T;fk+=y.buffer[N+2]*T;
fV+=T}var hO=1/fV;fk=Math.round(fj*(fk*hO)+(1-fj)*255);h1=Math.round(fj*(h1*hO)+(1-fj)*255);jz=Math.round(fj*(jz*hO)+(1-fj)*255);
d.KT(H.buffer,fk<<16|h1<<8|jz,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(E)!=-1){var eQ=c.Rds?c.Rds.v.val:1,eR=E=="boxblur"?d.gC.t0:d.gC.aif;
cN.J4(eQ,eR,H.buffer,H.rect);if(E=="UnsM"||E=="smartSharpen"){var e7=(c.Amnt?c.Amnt.v.val:200)/100,gY=0;
if(E=="UnsM")gY=c.Thsh.v;else e7*=.75;for(var N=0;N<y.buffer.length;N++){if((N&3)==3){H.buffer[N]=y.buffer[N];
continue}var dw=y.buffer[N],kO=H.buffer[N],dQ=e7*(dw-kO);if(dQ>0)dQ=Math.max(0,dQ-gY);else dQ=Math.min(0,dQ+gY);
H.buffer[N]=Math.max(0,Math.min(255,dw+dQ))}}if(E=="HghP")for(var N=0;N<y.buffer.length;N++){if((N&3)==3){H.buffer[N]=y.buffer[N];
continue}var dw=y.buffer[N],kO=H.buffer[N];H.buffer[N]=Math.max(0,Math.min(255,128+dw-kO))}}if(E=="AdNs"){var aA=new Uint8ClampedArray(H.buffer.buffer),ii=255*c.Nose.v.val/100,b3;
if(c.Dstr.v.Dstr=="Gsn")b3=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else b3=function(){return Math.random()*2-1};for(var N=0;N<aA.length;N+=4){var s=aA[N],cG=aA[N+1],bT=aA[N+2],aK,ce,ag;
if(c.Mnch.v){aK=ce=ag=b3()}else{aK=b3();ce=b3();ag=b3()}s+=ii*aK;cG+=ii*ce;bT+=ii*ag;aA[N]=s;aA[N+1]=cG;
aA[N+2]=bT}}var de=Date.now();if(E=="Mdn "||E=="DstS"||E=="Mxm "||E=="Mnm "||E=="surfaceBlur"){var s=0,fM=c.Thsh,dO=0;
if(fM)fM=fM.v;else fM=0;if(E=="Mdn "||E=="Mxm "||E=="Mnm "||E=="surfaceBlur")s=c.Rds.v.val;else s=c.Rds.v;
var hQ=10*Math.ceil(s/10),w=y.rect.m,B=y.rect.e,hr=["Mnm ","Mxm ","surfaceBlur"].indexOf(E),bq=(dO==0?1:.75)*[.73,.73,1.2][hr]*(w*B*Math.pow(hQ*hQ,1.05))/6022387,eF=.6*(w*B*Math.pow(s,1/2.6))/6500;
if(E=="Mxm "||E=="Mnm ")eF=w*B/13e3;var fm=c.preserveShape;if(fm&&fm.v.preserveShape=="Rndn")dO=1;if(h0.Lq&&hr!=-1&&(bq<eF||dO==1)&&bq<500){var o=h0.On(0,w,B);
o.set(y.buffer);var j=h0.On(1,w,B);h0.Lm(j);h0.filter.v_({type:h0.filter.auK,T3:new Float32Array([1/w,1/B]),ty:s,a7T:fM/255,Ss:[dO,hr,hQ]},o.Ln);
j.get(H.buffer)}else if(E=="Mxm "||E=="Mnm "){var w=y.rect.m,B=y.rect.e;d.ZX.aCF(y.buffer,H.buffer,w,B,1+Math.floor(c.Rds.v.val)*2,E=="Mxm ")}else{s=Math.round(s);
d.lX.QP=.5;d.lX.AJ=fM;var eR=E=="surfaceBlur"?1:0;d.lX.oO(y.buffer,H.buffer,w,B,s,eR);if(E=="DstS")for(var N=0;
N<w*B*4;N++){var aV=Math.abs(y.buffer[N]-H.buffer[N]);if(aV<=fM)H.buffer[N]=y.buffer[N]}}}if(E=="ClrH"){var hB=y.rect.clone(),iE=0;
hB.x=hB.y=0;var s=c.Rds.v;s=s*Math.sqrt(2);var w=hB.m,B=hB.e,ij=d.FB(w,B),iY=new Float32Array(256);for(var N=0;
N<256;N++){var hb=N/255,eQ=Math.sqrt(hb*(1/Math.PI));if(eQ>.5)eQ=.5+Math.pow((eQ-.5)/(.564-.5),1.35)*.2;
iY[N]=s*eQ}var eO=Math.floor(2*w/s),dl=Math.floor(2*B/s),eU=10-(s-54*Math.sqrt(2))*1.5,ja=[y.buffer,hB];
d.nJ(ja);while(ja[iE*2+1].m>1.5*w/s)iE++;var kv=ja[iE*2+1],hs=ja[iE*2],ks=d.R(kv.P()),f_=1/(1<<iE),gd=kv.m,ha=kv.e,G=d.R(w*B);
for(var cS=0;cS<3;cS++){d.LI(hs,ks,cS);d.Ub(ks);var hu=Math.PI*c["Ang"+(cS+1)].v/180,cT=new jr;cT.translate(-w/2,-B/2);
cT.rotate(-hu);cT.translate(w/2,B/2);ij.clearRect(0,0,w,B);for(var M=-(dl>>>2);M<dl;M++)for(var J=-(eO>>>2);
J<eO;J++){var fH=cT.dl(new eq((J+.5)*s-eU,(M+.5)*s-eU)),ig=Math.max(0,Math.min(fH.x*f_,gd-.51)),hN=Math.max(0,Math.min(fH.y*f_,ha-.51)),$=~~d.r.VW(ig,hN,ks,gd,ha);
ij.beginPath();ij.arc(fH.x,fH.y,iY[$],0,2*Math.PI);ij.fill()}var gH=ij.getImageData(0,0,w,B);d.LI(gH.data,G,3);
d.Ub(G);d.Og(G,H.buffer,cS)}}if(E=="Crst"||E=="Pntl"){var w=y.rect.m,B=y.rect.e,eR=E=="Crst"?d.H3.aEb:d.H3.aAp;
eR(y.buffer,w,B,H.buffer,c.ClSz.v,[Math.round(p.Z),Math.round(p.D),Math.round(p.J)])}if(E=="Mztn"){var w=y.rect.m,B=y.rect.e,$=w*B,bx=new d.Ay($),ip=[bx.Z,bx.D,bx.J];
d.Rk(y.buffer,bx);var aQ=c.MztT.v.MztT,aR={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[aQ],de=Date.now(),jG=[];
for(var N=0;N<$;N++){jG[N]=Math.random()}var $=w*B,av=Math.round($*aR[0]),gl=$-w-1;for(var N=0;N<av;
N++){var j3=Math.random(),ds=1;if(j3<.5){ds=w;j3*=2}else j3=2*(j3-.5);var e9=Math.floor(j3*gl),hG=e9+ds;
jG[e9]=jG[hG]}var fS=Math.round(w*aR[1]);for(var M=0;M<B;M++)for(var N=0;N<fS;N++){var j3=d.l.NB(M*$+N),e9=M*w+Math.floor(j3*(w-1));
jG[e9]=jG[e9+1]}var bY=new Float64Array(256);for(var N=0;N<256;N++){var fB=N/255,gZ=2*(fB<.5?fB:1-fB);
gZ=aR[2]+Math.pow(gZ,aR[3])*(1-aR[2]);fB=fB<.5?gZ*.5:1-gZ*.5;bY[N]=fB}for(var dF=0;dF<3;dF++){var G=ip[dF];
for(var M=0;M<B;M++){for(var J=0;J<w;J++){var N=M*w+J,fF=G[N],fB=bY[fF],j3=jG[N];G[N]=j3>fB?0:255}}}d.Dc(bx,H.buffer)}if(E=="Msc "){var gw=c.ClSz.v.val,w=y.rect.m,B=y.rect.e,b2=Math.ceil(w/gw),gT=Math.ceil(B/gw),aP=d.R(b2*gT*4);
d.scale.JQ(y.buffer,w,B,aP,b2,gT,1/gw);d.scale.JQ(aP,b2,gT,H.buffer,w,B,gw)}if(E=="Clds"||E=="DfrC"){var w=H.rect.m,B=H.rect.e,$=w*B,jZ=d.R($);
if(E=="Clds")d.KT(H.buffer,4278190080);var fq=d.R(256*4);for(var N=0;N<256;N++){var n=N<<2,dP=N/255,du=1-dP;
fq[n]=Math.round(dP*e.Z+du*p.Z);fq[n+1]=Math.round(dP*e.D+du*p.D);fq[n+2]=Math.round(dP*e.J+du*p.J)}d.$.aeZ(y.buffer,w,B,jZ);
var d7=H.buffer;for(var N=0;N<$;N++){var n=N<<2,dF=jZ[N]<<2,s=fq[dF],cG=fq[dF+1],bT=fq[dF+2];if(E=="Clds"){d7[n]=s;
d7[n+1]=cG;d7[n+2]=bT}else{d7[n]=Math.abs(d7[4*N]-s);d7[n+1]=Math.abs(d7[4*N+1]-cG);d7[n+2]=Math.abs(d7[4*N+2]-bT)}}}if(E=="LnsF"){var w=y.rect.m,B=y.rect.e,aQ=["Zm","Nkn","Nkn1","PnVs"].indexOf(c.Lns.v.Lns),cB=c.FlrC.v,i2=[Math.min(aQ,2),c.Brgh.v/100,cB.Hrzn.v,cB.Vrtc.v],de=Date.now();
d.ahQ(y.buffer,w,B,H.buffer,i2)}var jn=["Blr ","BlrM","Shrp","ShrM"].indexOf(E);if(jn!=-1){var bm=jn>1,w=y.rect.m,B=y.rect.e,ez=d.bg.JZ[jn],ad=y.buffer.slice(0);
if(!bm)d.xU(ad);d.bg.Nf(ad,H.buffer,w,B,ez,255,!1,bm);if(!bm)d.sR(H.buffer)}if(E=="MtnB"){var fi=-c.Angl.v*Math.PI/180,e3=c.Dstn.v.val/2,de=Date.now(),w=y.rect.m,B=y.rect.e,t=y.rect.clone();
t.x=t.y=0;if(h0.Lq){var de=Date.now(),a4=H.buffer;a4.set(y.buffer);d.xU(a4);var cv=h0.On(0,w,B);cv.set(a4);
var e5=d.R(4);e5[0]=Math.round(128+127*Math.cos(fi));e5[1]=Math.round(128+127*Math.sin(fi));new Uint32Array(a4.buffer).fill(new Uint32Array(e5.buffer)[0]);
var eG=h0.On(1,w,B);eG.set(a4);h0.Lm(cv,t);cv.br(t);h0.filter.v_({type:h0.filter.lH,nE:eG.Ln,T3:new Float32Array([1/w,1/B]),as_:e3/2,a0u:1},cv.UY);
cv.get(a4);d.sR(a4)}else{var gs=new jr;gs.rotate(fi);var O=F.Y.$X([y.buffer,y.rect],gs,!1,null,!0);cN.J4(e3,d.gC.aeo,O.buffer,O.rect);
gs.Ub();O=F.Y.$X([O.buffer,O.rect],gs,!1,H.buffer.buffer,!0,H.rect)}console.log(Date.now()-de)}if(E=="RdlB"){var w=y.rect.m,B=y.rect.e,e7=c.Amnt.v,iA=c.BlrM.v.BlrM=="Zm",cS=c.Cntr.v,c6=cS.Hrzn.v,fI=cS.Vrtc.v,x=Math.max(c6,1-c6)*w,L=Math.max(fI,1-fI)*B,eQ=Math.sqrt(x*x+L*L),h2=2*Math.PI*eQ*1.5,a7=Math.round(h2),j$=Math.round(eQ),hB=new ir(0,0,a7,j$),kA=d.R(a7*j$*4),jA=iA?4:1,eI=iA?.6:8*((w+B)/2)/1400,gP=.1,f_=1,eO=1;
d.r.arN(y.buffer,w,B,kA,a7,j$,c6,fI,jA,gP,f_,eO);var kn=iA?d.R(a7*j$*4):null;if(iA){d.r.El(kA,kn,a7,j$);
var bz=kn;kn=kA;kA=bz;hB.m=j$;hB.e=a7}cN.J4(eI*e7,d.gC.aeo,kA,hB);if(iA){d.r.El(kA,kn,j$,a7);var bz=kn;
kn=kA;kA=bz;hB.m=a7;hB.e=j$}d.r.aCa(kA,a7,j$,H.buffer,w,B,c6,fI,jA,gP,f_,eO)}if(E=="Plr "){var w=y.rect.m,B=y.rect.e;
if(c.Cnvr.v.Cnvr=="RctP")d.r.aCa(y.buffer,w,B,H.buffer,w,B,.5,.5,1,0,2,w/B);else d.r.arN(y.buffer,w,B,H.buffer,w,B,.5,.5,1,0,2,w/B)}if(E=="FndE"){var w=y.rect.m,B=y.rect.e;
d.bg.aDi(y.buffer,H.buffer,w,B)}if(E=="oilPaint"){var hu=c.LghD.v*Math.PI/180,fh=[Math.cos(hu),Math.sin(hu),.001],eM=[c.stylization.v,c.cleanliness.v,c.brushScale.v,c.microBrush.v,c.lightingOn.v,c.specularity.v,fh],t=y.rect.clone();
t.x=t.y=0;d.ah.filter(y.buffer,t,H.buffer,eM)}if(E=="Ofst"){var w=y.rect.m,B=y.rect.e,eh=new Uint32Array(y.buffer.buffer),hR=new Uint32Array(H.buffer.buffer),id=c.Hrzn.v,js=c.Vrtc.v,d$=c.Fl.v.FlMd;
d.KT(hR,0);if(d$=="Bckg"||d$=="Rpt"){var hB=y.rect.clone();hB.offset(id,js);d.E6(eh,hB,hR,H.rect)}if(d$=="Rpt"){var iF,cr,g6,be,gi;
id=Math.max(-w,Math.min(w,id));js=Math.max(-B,Math.min(B,js));iF=id>0?id:0;g6=id>0?w:w+id;cr=js>0?0:js+B;
be=js>0?js:B;gi=js>0?0:w*(B-1);for(var M=cr;M<be;M++)for(var J=iF;J<g6;J++)hR[M*w+J]=eh[gi+J-id];iF=id>0?0:w+id;
g6=id>0?id:w;cr=js>0?js:0;be=js>0?B:B+js;gi=id>0?0:w-1;for(var M=cr;M<be;M++)for(var J=iF;J<g6;J++)hR[M*w+J]=eh[gi+w*(M-js)];
if(id>=0&&js>=0){iF=0;g6=id;cr=0;be=js;gi=0}if(id>=0&&js<0){iF=0;g6=id;cr=B+js;be=B;gi=w*(B-1)}if(id<0&&js>=0){iF=w+id;
g6=w;cr=0;be=js;gi=w-1}if(id<0&&js<0){iF=w+id;g6=w;cr=B+js;be=B;gi=w*B-1}for(var M=cr;M<be;M++)for(var J=iF;
J<g6;J++)hR[M*w+J]=eh[gi]}if(d$=="Wrp"){id=(id+100*w)%w;js=(js+100*B)%B;var hB=new ir(id-w,js-B,w,B);
d.E6(eh,hB,hR,H.rect);hB.offset(w,0);d.E6(eh,hB,hR,H.rect);hB.offset(0,B);d.E6(eh,hB,hR,H.rect);hB.offset(-w,0);
d.E6(eh,hB,hR,H.rect)}}if(E=="Rept"){var iR=c.Rsft.v.val/100,h7=c.SpcX.v.val/100;h7=Math.max(h7,-.99);
var hL=c.SpcY.v.val/100;hL=Math.max(hL,-.99);var f_=c.Scl.v.val/100,gs=new jr;gs.rotate(c.Angl.v*Math.PI/180);
gs.scale(f_,f_);var j_={buffer:y.buffer,rect:y.rect};d.ig(j_);if(j_.rect.tj()){j_.buffer=y.buffer;j_.rect=y.rect}var d7=j_.buffer,hB=j_.rect,hz=d.aD(d7,hB,0),h9=new Uint32Array(d7.buffer)[0];
if(!hz.tj()&&!hz.rT(hB)){var gf=d.R(hz.P()*4);d.E6(d7,hB,gf,hz);d7=gf;hB=hz}hB.x=hB.y=0;h9=h7==0&&hL==0||c.SpcC.v?h9:0;
function k7(J){return J<0?Math.ceil(J):Math.floor(J)}var a1=gs.dl(new eq(hB.m,0));a1.x=k7(a1.x);a1.y=k7(a1.y);
var a8=gs.dl(new eq(0,hB.e));a8.x=k7(a8.x);a8.y=k7(a8.y);var O=F.Y.$X([d7,hB],gs,!1),cF=O.rect,j6=O.buffer,jL=Math.round(cF.x),cQ=Math.round(cF.y),jw=Math.max(H.rect.m,H.rect.e)/Math.min(hB.m*f_*(1+h7),hB.e*f_*(1+hL));
jw=Math.ceil(jw*1.7);d.KT(H.buffer,h9);for(var M=-jw;M<jw;M++){for(var J=-jw;J<jw;J++){var dU=(J+M*iR)*(1+h7),gq=M*(1+hL);
cF.x=jL+Math.round(dU*a1.x+gq*a8.x);cF.y=cQ+Math.round(dU*a1.y+gq*a8.y);if(cF.TF(H.rect))d.l.Io("norm",j6,cF,H.buffer,H.rect,cF,1)}}}if(E=="Ctoa"){var p=d.L.yd(c.Clr.v),fM=c.Trsp.v.val/100,e_=c.Opct.v.val/100;
fM=e_==0?0:fM/e_;var w=y.rect.m,B=y.rect.e,hk=~~p.Z,iK=~~p.D,hp=~~p.J,gi=y.buffer,ie=H.buffer;for(var M=0;
M<B;M++)for(var J=0;J<w;J++){var N=M*w+J,n=N<<2,hB=gi[n],ef=gi[n+1],d7=gi[n+2],jD=Math.abs(hk-hB),ga=Math.abs(iK-ef),j7=Math.abs(hp-d7),gS=Math.max(jD,ga,j7)*(1/255);
gS=Math.max(0,Math.min(1,gS/e_));var f0=gS==0?0:1/gS,dN=fM==1?1:Math.max(0,Math.min(1,(gS-fM)/(1-fM)));
ie[n]=Math.max(0,Math.min(255,(hB-hk*(1-gS))*f0));ie[n+1]=Math.max(0,Math.min(255,(ef-iK*(1-gS))*f0));
ie[n+2]=Math.max(0,Math.min(255,(d7-hp*(1-gS))*f0));ie[n+3]=Math.min(ie[n+3],~~(.5+dN*255))}}if(E=="Dthr"){function jt(J){return~~(.5+255*d.xz(J/255))}var aH=c.Plte.v,kb;
if(aH==0)kb=[4278190080,4294967295];else{var jx=[[1,1,1],[2,2,2],[3,3,2]][aH-1],fK=[1<<jx[0],1<<jx[1],1<<jx[2]],jh=[~~(255/(fK[0]-1)),~~(255/(fK[1]-1)),~~(255/(fK[2]-1))];
kb=[];for(var s=0;s<fK[0];s++)for(var cG=0;cG<fK[1];cG++)for(var bT=0;bT<fK[2];bT++)kb.push(255<<24|jt(bT*jh[2])<<16|jt(cG*jh[1])<<8|jt(s*jh[0]))}var w=y.rect.m,B=y.rect.e,$=w*B,kf=$*4,hs=y.buffer.slice(0),hd=H.buffer;
for(var N=0;N<kf;N++)hs[N]=~~(.5+255*d.xz(hs[N]/255));var kh=d.R(w*B);UPNG.encode.dither(hs,w,B,kb,hd,kh,c.Mthd?c.Mthd.v:1);
for(var N=0;N<kf;N++)hd[N]=~~(.5+255*d.nW(hd[N]/255))}if(E=="Part"){var gI=[c.RndS.v,c.Cont.v/100,c.Size.v,c.Dpth.v/100,c.Brgh.v/100,d.L.yd(c.Clr.v),c.Time.v,c.Blnk.v,c.Fall.v,c.Turb.v/100];
d.zv.Sw(H.buffer,y.rect.m,y.rect.e,gI)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(E)!=-1){var dm=Z[0],w=y.rect.m,B=y.rect.e,bY,fA=0;
if(E=="LqFy")bY=h6.ux(new Uint8Array(c.LqMe.v).buffer);else{var dt=3;if(E=="Wave")dt=Math.min(3,c.WLMn.v);
bY={Pf:Math.floor(w/dt),T4:Math.floor(B/dt)};bY.map=new Float32Array(bY.Pf*bY.T4*2);if(E=="LnCr"){var c6=.5*(bY.Pf-1),fI=.5*(bY.T4-1),bC=Math.max(Math.abs(0-c6),Math.abs(1-c6)),jo=Math.max(Math.abs(0-fI),Math.abs(1-fI)),cT=Math.sqrt(bC*bC+jo*jo),b6=0,is=0,fL=-1,a6=2,f_=c.LnSi.v/100,iA=1/f_,kN=c.LnIa.v/100,bJ=kN==0?1e-6:kN*4.6,fc=iA/cT;
for(var M=0;M<bY.T4;M++){for(var J=0;J<bY.Pf;J++){var x=(J-c6)*fc,L=(M-fI)*fc,s=Math.sqrt(x*x+L*L)*bJ,c$=Math.atan(s),gx=kN>0?c$/s:s/c$,eO=c6+cT*gx*x,dl=fI+cT*gx*L,N=M*bY.Pf+J<<1;
bY.map[N]=eO-J;bY.map[N+1]=dl-M}}}else if(E=="Kale"){var b2=bY.Pf,gT=bY.T4,iq=(b2-1)*.5,aa=(gT-1)*.5,g0=c.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,ej=c.Mirr.v,dh=Math.PI*2/ej,bv=.5*dh;
for(var M=0;M<gT;M++)for(var J=0;J<b2;J++){var x=J-iq,L=M-aa,bG=Math.sqrt(x*x+L*L),hu=Math.atan2(L,x)+g0;
hu=hu%dh;if(hu>bv)hu=dh-hu;var eO=iq+Math.cos(hu-g0)*bG,dl=aa+Math.sin(hu-g0)*bG,N=(M*b2+J)*2;bY.map[N]=eO-J;
bY.map[N+1]=dl-M}}else if(E=="Dspl"&&dm.length!=0){fA=c.UndA.v.UndA=="WrpA"?2:1;var eA=c.DspF.v.pth,hE,ix=c.DspD,it,bI,gO;
if(ix){var fk=ix.v;it=fk[1]*256+fk[0];bI=fk[5]*256+fk[4];gO=new Uint8Array(fk.slice(10,10+it*bI))}else{for(var N=0;
N<dm.length;N++)if(dm[N].pf==eA)hE=dm[N];if(hE==null)hE=dm[0];hE.eA();var jD=hE.ed[1],gO=d.R(jD.P());
d.DU(hE.ed[0],gO);it=jD.m;bI=jD.e}bY={Pf:it,T4:bI};bY.map=new Float32Array(bY.Pf*bY.T4*2);var jI=2.54*c.HrzS.v*it/w,il=2.54*c.VrtS.v*bI/B;
for(var M=0;M<bY.T4;M++){for(var J=0;J<bY.Pf;J++){var aV=-.5+gO[M*it+J]*(1/255),N=M*bY.Pf+J<<1;bY.map[N]=aV*jI;
bY.map[N+1]=aV*il}}}else if(E=="Pnch"||E=="Twrl"||E=="Sphr"||E=="ZgZg"){var e7=1,fi=Math.PI,dS=0,at=1,go=0,cS=3,gw=1.53,gx=1;
if(E=="Pnch"||E=="Sphr"||E=="ZgZg")e7=c.Amnt.v/100;if(E=="ZgZg"){at=c.NmbR.v;go=["ArnC","OtFr","PndR"].indexOf(c.ZZTy.v.ZZTy)}if(E=="Twrl")fi=c.Angl.v*Math.PI/180;
if(E=="Sphr")dS=["Nrml","HrzO","VrtO"].indexOf(c.SphM.v.SphM);function eR(J){J=Math.pow(J,1-J*.3-J*J*(J*J)*.5);
return-.225*Math.sin(J*Math.PI)}function b_(B,iN,s,iF,cr,g6,be,gx){var x=g6-iF,L=be-cr,cL=iF-B,hm=cr-iN,dP=x*x+L*L,bT=2*(x*cL+L*hm),cS=cL*cL+hm*hm-s*s,jM=Math.sqrt(bT*bT-4*dP*cS),ae=gx/(2*dP),ea=(-bT+jM)*ae,ku=(-bT-jM)*ae;
return gx*Math.min(ea,ku)}var b2=bY.Pf,gT=bY.T4,iq=bY.Pf/2,aa=bY.T4/2,jv=1/iq,s=Math.sqrt(cS*cS+1)/cS,e$=cS+Math.sqrt(1/(cS*cS));
if(e7<0){cS=1.72;s=1;e$=cS;gw=-1;gx=-1}for(var M=0;M<gT;M++){var L=(M-aa)/aa;for(var J=0;J<b2;J++){var x=(J-iq)*jv;
if(dS==1)L=0;else if(dS==2)x=0;var ev=Math.sqrt(x*x+L*L);if(ev<1&&ev!=0){var N=M*bY.Pf+J<<1;if(E=="Pnch"){var ck=-e7*eR(ev)/ev;
bY.map[N]=x*ck*iq;bY.map[N+1]=L*ck*aa}else if(E=="Sphr"){var bz=b_(0,e$,s,0,0,ev,cS,gx),eU=gw*e7*(bz-1);
bY.map[N]=x*eU*iq;bY.map[N+1]=L*eU*aa}else if(E=="Twrl"){var hu=Math.atan2(L,x)-fi*(1-ev)*(1-ev),kE=Math.cos(hu),dK=Math.sin(hu);
bY.map[N]=(ev*kE-x)*iq;bY.map[N+1]=(ev*dK-L)*aa}else if(E=="ZgZg"){var kE=0,dK=0,dg=e7*(.5-.5*Math.cos(ev*at*2*Math.PI))*(1-ev);
if(go==0){var hu=Math.atan2(L,x)-3.5*dg;kE=ev*Math.cos(hu);dK=ev*Math.sin(hu)}if(go==1){dg=100/w*dg/ev;
kE=(1-dg)*x;dK=(1-dg)*L}if(go==2){var K=512/w*dg*Math.PI/4;kE=K+x;dK=K+L}bY.map[N]=(kE-x)*iq;bY.map[N+1]=(dK-L)*aa}}}}}else if(E=="Shr "){var kp=JSON.parse(JSON.stringify(c.ShrP.v));
d.$K.u(kp,new jr(0,255/127,255/127,0,-2,0));var hf=d.$K.O_(kp,bY.T4,!0);fA=c.UndA.v.UndA=="WrpA"?2:1;
for(var M=0;M<bY.T4;M++){var x=-hf[M]*bY.Pf;for(var J=0;J<bY.Pf;J++){var N=M*bY.Pf+J<<1;bY.map[N]=x}}}else if(E=="Wave"){var hJ=c.NmbG.v,kK=c.WLMn.v,fo=c.WLMx.v,fY=c.AmMn.v*(Math.PI/4),i5=c.AmMx.v*(Math.PI/4),hv=c.SclH.v/100,ep=c.SclV.v/100,aQ=c.Wvtp.v.Wvtp,dg=Math.sin;
if(aQ=="WvTr")dg=function(J){J*=2/Math.PI;return-.5+Math.abs(J%2-1)};if(aQ=="WvSq")dg=function(J){J*=2/Math.PI;
return 1+2*Math.floor(J%2-1)};var dA=[],h4=new d.l.J3(c.RndS.v);for(var N=0;N<hJ;N++){dA.push(h4.get()*10);
dA.push(Math.PI*dt/(kK+h4.get()*(fo-kK)));dA.push(hv*(fY+h4.get()*(i5-fY))/dt);dA.push(h4.get()*10);
dA.push(Math.PI*dt/(kK+h4.get()*(fo-kK)));dA.push(ep*(fY+h4.get()*(i5-fY))/dt)}var cD=[],kL=[],ka=Math.max(bY.Pf,bY.T4);
for(var N=0;N<ka;N++){var x=0,L=0;for(var cm=0;cm<hJ;cm++){var j0=cm*6;x+=dA[j0+2]*dg(dA[j0]+N*dA[j0+1]);
L+=dA[j0+5]*dg(dA[j0+3]+N*dA[j0+4])}cD[N]=L;kL[N]=x}for(var M=0;M<bY.T4;M++){for(var J=0;J<bY.Pf;J++){var N=M*bY.Pf+J<<1;
bY.map[N]=kL[M];bY.map[N+1]=cD[J]}}fA=c.UndA.v.UndA=="WrpA"?2:1}else if(E=="Rple"){fA=1;var e7=c.Amnt.v/100,gz=4,gD=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],f1=1,dx=1,cL=0,cH=["Sml","Mdm","Lrg"].indexOf(c.RplS.v.RplS);
if(cH==0){f1=1;dx=.2;cL=3}if(cH==2){f1=1;dx=2;cL=-1;gD=gD.reverse()}var g_=function(J,M){var cS=Math.cos,cj=0;
for(var N=0;N<gz;N++)for(var cm=0;cm<gz;cm++)cj+=gD[N*gz+cm]*cS(J*(N+cL)-M*(cm+cL));return cj},g5=Math.floor(50/dt),i6=new Float32Array(g5*g5*2),c4=dx*e7*.5/dt;
for(var M=0;M<g5;M++)for(var J=0;J<g5;J++){var c6=f1*J*2*Math.PI/g5,fI=f1*M*2*Math.PI/g5,dv=g_(c6,fI),x=(g_(c6+.01,fI)-dv)*100,L=(g_(c6,fI+.01)-dv)*100,N=(M*g5+J)*2;
i6[N]=x*c4;i6[N+1]=L*c4}for(var M=0;M<bY.T4;M++)for(var J=0;J<bY.Pf;J++){var dK=M%g5,kE=J%g5,N=M*bY.Pf+J<<1,gR=dK*g5+kE<<1;
bY.map[N]=i6[gR];bY.map[N+1]=i6[gR+1]}}}d.yg.cR(y.buffer,H.buffer,w,B,null,bY.map,bY.Pf,bY.T4,fA)}return H};
var hY={};hY.a8t="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");hY.lR="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
hY.$v=["ScrC","ScrD","ScrL"];hY.WI=["SDRD","SDHz","SDLD","SDVt"];hY.qs="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
hY.uZ="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");hY.uH="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
hY.R1=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];hY.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
hY.TL=function(E){var y;if(E=="ClrP")y={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(E=="Ct")y={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(E=="DryB")y={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(E=="FlmG")y={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(E=="Frsc")y={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(E=="NGlw")y={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(E=="PntD")y={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(E=="PltK")y={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(E=="PlsW")y={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(E=="PstE")y={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(E=="RghP")y={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(E=="SmdS")y={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(E=="Spng")y={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(E=="Undr")y={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(E=="Wtrc")y={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(E=="AccE")y={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(E=="AngS")y={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(E=="Crsh")y={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(E=="DrkS")y={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(E=="InkO")y={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(E=="Smie")y={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(E=="Spt")y={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(E=="SprS")y={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(E=="DfsG")y={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(E=="Gls")y={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(E=="OcnR")y={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(E=="BsRl")y={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(E=="ChlC")y={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(E=="Chrc")y={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(E=="Chrm")y={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(E=="CntC")y={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(E=="GraP")y={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(E=="HlfS")y={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(E=="NtPr")y={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(E=="Phtc")y={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(E=="Plst")y={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(E=="Rtcl")y={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(E=="Stmp")y={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(E=="TrnE")y={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(E=="WtrP")y={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(E=="GlwE")y={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(E=="Crql")y={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(E=="Grn")y={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(E=="MscT")y={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(E=="Ptch")y={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(E=="StnG")y={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(E=="Txtz")y={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
y.__name="Filter Gallery";y.classID="GEfc";y.GEfk={t:"enum",v:{GEft:E}};y.GELv={t:"bool",v:!0};return y};
hY.$R=function(E,y){for(var N=0;N<y.length;N++)~~(y[N]=(E[4*N]+E[4*N+1]+E[4*N+2])*(1/3))};hY.as1=function(E,y,c,e,p,H){var Z=UPNG.quantize(E,y);
Z={Hh:Z.inds,NQ:Z.plte};if(H){var X=new Uint32Array(Z.NQ.length);for(var N=0;N<X.length;N++)X[N]=Z.NQ[N].est.rgba;
Z.Hh=d.a7H(new Uint8Array(E),c,e,new Uint8Array(X.buffer))}var b=Math.floor((c+e)*.015);if(b!=0&&p)d.uJ.aiK(Z.Hh,c,e,b);
return Z};hY.bJ=function(E,y,c,e,p,H,Z){E=c.GEfk.v.GEft;var X=y.rect,b=X.m,k=X.e,D=b*k,j=c.FlRs?c.FlRs.v>>>1:0;
function g(r){return r.Z<<24|r.D<<16|r.J<<8|255}if(E=="ClrP")d.$.ahj(y.buffer,b,k,H.buffer,[c.Pncl.v,c.StrP.v,c.PprB.v]);
if(E=="Ct"){var R=c.NmbL.v,t=c.EdgS.v,w=hY.as1(y.buffer.buffer,R*2,b,k,!0);for(var N=0;N<w.Hh.length;
N++)w.Hh[N]++;var B=new Uint8Array((b+2)*(k+2));d.kh(w.Hh,new ir(1,1,b,k),B,new ir(0,0,b+2,k+2));var $=d.A.azW(B,b+2,k+2,t,!1),o=new jr(1,0,0,1,-1,-1);
for(var N=0;N<$.length;N++)d.A.u($[N].path.j,o,$[N].path.j);var T=[],i=w.NQ;for(var N=0;N<i.length;N++){var r=i[N].est.q;
T.push({Z:Math.round(255*r[0]),D:Math.round(255*r[1]),J:Math.round(255*r[2]),U:Math.round(255*r[3])})}var I=d.FB(b,k);
for(var N=0;N<$.length;N++){var M=$[N],r=T[M.color-1];if(r.U==0)continue;I.fillStyle="rgba("+r.Z+","+r.D+","+r.J+","+r.U/255+")";
I.beginPath();Typr.U.pathToContext({crds:M.path.j,cmds:M.path.G},I);I.fill()}if(!X.tj()){var J=I.getImageData(0,0,b,k);
d.Jt(J.data,H.buffer)}}if(E=="DryB")d.$.aCJ(y.buffer,b,k,H.buffer,[c.BrsS.v,c.BrsD.v,c.Txtr.v]);if(E=="FlmG")d.$.arA(y.buffer,b,k,H.buffer,[c.Grn.v,c.HghA.v,c.Intn.v,j]);
if(E=="Frsc")d.$.adF(y.buffer,b,k,H.buffer,[c.BrsS.v,c.BrsD.v,c.Txtr.v]);if(E=="NGlw")d.$.a0r(y.buffer,b,k,H.buffer,[c.Sz.v,c.Brgh.v,g(d.L.yd(c.Clr.v)),g(e),g(p)]);
if(E=="PltK")d.$.a4t(y.buffer,b,k,H.buffer,[c.StrS.v,c.StDt.v,c.Sftn.v]);if(E=="PstE")d.$.avZ(y.buffer,b,k,H.buffer,[c.EdgT.v,c.EdgI.v,c.Pstr.v]);
if(E=="RghP")d.$.a2b(y.buffer,b,k,H.buffer,[c.StrL.v,c.StDt.v,hY.qs.indexOf(c.TxtT.v.TxtT),c.Scln.v,c.Rlf.v,hY.lR.indexOf(c.LghD.v.LghD),c.InvT.v]);
if(E=="SmdS")d.$.a1$(y.buffer,b,k,H.buffer,[c.StrL.v,c.HghA.v,c.Intn.v,c.FlRs?c.FlRs.v:0,j]);if(E=="Spng")d.$.a0l(y.buffer,b,k,H.buffer,[c.BrsS.v,c.Dfnt.v,c.Smth.v,c.FlRs?c.FlRs.v:0,j]);
if(E=="Undr")d.$.a5U(y.buffer,b,k,H.buffer,[c.BrsS.v,c.TxtC.v,hY.qs.indexOf(c.TxtT.v.TxtT),c.Scln.v,c.Rlf.v,hY.lR.indexOf(c.LghD.v.LghD),c.InvT.v]);
if(E=="Wtrc")d.$.azF(y.buffer,b,k,H.buffer,[c.BrsD.v,c.ShdI.v,c.Txtr.v]);if(E=="AccE")d.$.apy(y.buffer,b,k,H.buffer,[c.EdgW.v,c.EdgB.v,c.Smth.v]);
if(E=="AngS")d.$.ajZ(y.buffer,b,k,H.buffer,[c.DrcB.v,c.StrL.v,c.Shrp.v]);if(E=="Crsh")d.$.aa8(y.buffer,b,k,H.buffer,[c.StrL.v,c.Shrp.v,c.Strg.v]);
if(E=="DrkS")d.$.an1(y.buffer,b,k,H.buffer,[c.Blnc.v,c.BlcI.v,c.WhtI.v]);if(E=="InkO")d.$.aai(y.buffer,b,k,H.buffer,[c.StrL.v,c.DrkI.v,c.LghI.v]);
if(E=="Smie")d.$.aBb(y.buffer,b,k,H.buffer,[c.StrW.v,c.StrP.v,c.Cntr.v]);if(E=="DfsG")d.$.a3e(y.buffer,b,k,H.buffer,[c.Grns.v,c.GlwA.v,c.ClrA.v,g(p),j]);
if(E=="CntC")d.$.aAE(y.buffer,b,k,H.buffer,[c.FrgL.v,c.BckL.v,hY.qs.indexOf(c.TxtT.v.TxtT),c.Scln.v,c.Rlf.v,hY.lR.indexOf(c.LghD.v.LghD),c.InvT.v,g(p),g(e)]);
if(E=="ChlC")d.$.apv(y.buffer,b,k,H.buffer,[c.ChrA.v,c.ChlA.v,c.StrP.v,j,g(p),g(e)]);var P=E=="GraP"||E=="Chrc"||E=="Plst"||E=="Rtcl"||E=="Stmp"||E=="TrnE";
if(P){var n=d.R(b*k);if(E=="GraP")d.$.acZ(y.buffer,b,k,H.buffer,[c.StrL.v,c.LgDr.v,hY.WI.indexOf(c.SDir.v.StrD),j]);
if(E=="Chrc")d.$.atZ(y.buffer,b,k,H.buffer,[c.ChAm.v,c.Dtl.v,c.LgDr.v]);if(E=="Plst")d.$.aAj(y.buffer,b,k,H.buffer,[c.ImgB.v,hY.uZ.indexOf(c.LghP.v.LghP),c.Smth.v]);
if(E=="Rtcl")d.$.aiM(y.buffer,b,k,H.buffer,[c.Dnst.v,c.BlcL.v,c.WhtL.v,j]);if(E=="Stmp")d.$.ahS(y.buffer,b,k,H.buffer,[c.LgDr.v,c.Smth.v]);
if(E=="TrnE")d.$.axy(y.buffer,b,k,H.buffer,[c.ImgB.v,c.Smth.v,c.Cntr.v,j]);d.LI(H.buffer,n,0);hY.zd(n,H.buffer,e,p)}if(E=="NtPr")d.$.ao1(y.buffer,b,k,H.buffer,[c.ImgB.v,c.Grns.v,c.Rlf.v,g(e),g(p),j]);
if(E=="WtrP")d.$.a0I(y.buffer,b,k,H.buffer,[c.FbrL.v,c.Brgh.v,c.Cntr.v,j>>>1]);if(E=="Crql")d.$.a5Y(y.buffer,b,k,H.buffer,[c.CrcS.v,c.CrcD.v,c.CrcB.v,j]);
if(E=="Grn")d.$.apR(y.buffer,b,k,H.buffer,[c.Intn.v,hY.uH.indexOf(c.Grnt.v.Grnt),c.Cntr.v,g(e),g(p),j]);
if(E=="MscT")d.$.ajO(y.buffer,b,k,H.buffer,[c.TlSz.v,c.GrtW.v,c.LghG.v,j]);if(E=="Ptch")d.$.aol(y.buffer,b,k,H.buffer,[c.SqrS.v,c.Rlf.v,j]);
if(E=="Phtc"){function x(kp,gw,X,hu){d.gC.cN(kp,gw,X,hu);for(var N=0;N<D;N++)gw[N]=Math.max(0,Math.min(255,128+kp[N]-gw[N]))}var L=c.Dtl.v,u=c.Drkn.v,C=d.R(D);
d.DU(y.buffer,C);var h=d.R(D);x(C,h,X,1);if(L==1){L=2;u=Math.round(u/4)}var A=d.R(D);x(C,A,X,L);for(var N=0;
N<D;N++)C[N]=Math.max(0,Math.min(255,255-(h[N]-A[N])*u));hY.zd(C,H.buffer,e,p)}if(E=="Spt"||E=="SprS"){var W,Q=1,l=1;
W={Pf:Math.floor(b/l),T4:Math.floor(k/l)};W.map=new Float32Array(W.Pf*W.T4*2);var O=new d.l.J3(j),z=new Float32Array(8192),a=c.SprR.v,m=a<20?.018*a:.36+(a-20)*.128;
if(E=="SprS"){m=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][a]}for(var N=0;
N<8192;N++)z[N]=(-1+2*O.get())*m*70;for(var q=0;q<k;q++)for(var K=0;K<b;K++){var U=q*b+K<<1;W.map[U]=z[U%7919];
W.map[U+1]=z[(U+1)%7919]}var f=W.map.slice(0),Y=E=="Spt"?c.Smth.v-1:1;if(E=="Spt"&&Y!=0){hY.apZ(W.map,f,b,k,Y);
hY.aDu(f,W.map,b,k,Y)}if(E=="SprS"){var G=c.StrL.v>>>1,V=G==0?2:1;hY.apZ(W.map,f,b,k,V);hY.aDu(f,W.map,b,k,V);
if(G!=0){var dF=hY.WI.indexOf(c.SDir.v.StrD),s=[1,1,1,0][dF],aH=[-1,0,1,1][dF],dw=2*G+1,kO=1/dw;for(var q=0;
q<k;q++)for(var K=0;K<b;K++){var U=q*b+K<<1,hX=0,jF=0;for(var N=0;N<dw;N++){var hM=Math.max(0,Math.min(b-1,K-(G+N)*s)),ie=Math.max(0,Math.min(k-1,q-(G+N)*aH)),bN=ie*b+hM<<1;
hX+=W.map[bN];jF+=W.map[bN+1]}f[U]=hX*kO;f[U+1]=jF*kO}W.map=f}}d.yg.cR(y.buffer,H.buffer,b,k,null,W.map,W.Pf,W.T4,Q)}if(E=="BsRl"||E=="PlsW"||E=="Chrm"){var kd=Date.now(),i7=d.R(D),dn=i7.slice(0);
d.DU(y.buffer,i7);var L=c.Dtl.v,ew=c.Smth.v;if(L!=15){d.gC.VI(i7,dn,X,Math.round((15-L)*.5));d.Jt(dn,i7)}var e4=1.4/b,eE=1.4/k,jc=new Float32Array(D),ft=new Float32Array(D),bd=new Float32Array(H.buffer.buffer);
for(var q=0;q<k;q++)for(var K=0;K<b;K++){var N=q*b+K,s=K==b-1?i7[N]-i7[N-1]:i7[N+1]-i7[N],aH=q==k-1?i7[N]-i7[N-b]:i7[N+b]-i7[N],iB=K*e4-.7,cG=q*eE-.7;
jc[N]=s==0?iB:s*.4;ft[N]=aH==0?cG:aH*.4}if(E=="BsRl"){var bT=(2+hY.lR.indexOf(c.LghD.v.LghD))*Math.PI*.25,hX=Math.cos(bT);
if(Math.abs(hX)<.1)hX=0;hX=Math.sign(hX);var jF=Math.sin(bT);if(Math.abs(jF)<.1)jF=0;jF=Math.sign(jF);
var g$=1/(hX*hX+jF*jF);for(var q=0;q<k;q++)for(var K=0;K<b;K++){var N=q*b+K,hU=Math.max(-1,Math.min(1,hX*jc[N])),ah=Math.max(-1,Math.min(1,jF*ft[N]));
dn[N]=128+127*(hU+ah)*g$}if(ew!=1){d.gC.VI(dn,i7,X,Math.round((ew-1)*.5));d.Jt(i7,dn)}hY.zd(dn,H.buffer,e,p)}else{if(E=="Chrm")ew=5+ew;
if(ew>1)hY.J4(jc,ft,bd,X,ew-1);if(E=="PlsW"){var co=new Uint8Array(jc.buffer);for(var N=0;N<D;N++){var im=N<<2,s=jc[N],aH=ft[N],hb=1/(Math.sqrt(1+s*s)*Math.sqrt(1+aH*aH)),dI=hb*hb,bw=dI*dI,r=~~(255*(bw*bw*dI));
co[im+0]=r;co[im+1]=r;co[im+2]=r;co[im+3]=r}H.buffer.set(y.buffer);d.l.Io("norm",co,X,H.buffer,X,X,c.HghS.v/20)}else if(E=="Chrm"){var fb=H.buffer,iG=b>>>1,dy=k>>>1;
for(var N=0;N<D;N++){var im=N<<2,s=jc[N],aH=ft[N],kp={x:1,y:0,mV:s};hA.o$(kp);var gw={x:0,y:1,mV:aH};
hA.o$(gw);var dR=hA.ar1(kp,gw),fT=1/dR.mV,gA=~~Math.max(0,Math.min(b-1,iG-dR.x*fT*iG)),by=~~Math.max(0,Math.min(k-1,dy-dR.y*fT*dy)),r=i7[by*b+gA];
fb[im+0]=r;fb[im+1]=r;fb[im+2]=r}}}}if(E=="Gls"||E=="OcnR"||E=="Txtz"){var fv=E=="OcnR"?2:hY.qs.indexOf(c.TxtT.v.TxtT),d4=hY._s(fv),fg=d4[0],i7=d4[1],aC=fg.m,bu=fg.e,dw=24,k8=0,hc,bg;
function hj(jP,d8,gd){return~~(jg*(jP+d8)+8192)&127}var jc=new Float32Array(D),ft=new Float32Array(D),bd=new Float32Array(H.buffer.buffer),jg=E=="OcnR"?1/(1+(c.RplS.v-1)*.1):100/c.Scln.v;
if(fv==3)jg*=32/22.2;var kd=Date.now(),cm=jg,e4=1.4/b,eE=1.4/k;if(E=="Txtz"){cm*=1/255;dw=256}for(var q=0;
q<k;q++){var bz=hj(q,X.y,bu),ie=bz+1&127;for(var K=0;K<b;K++){var N=q*b+K,db=hj(K,X.x,aC),hM=db+1&127,eM=0,de=0,eb=0;
if(E=="Txtz"){eM=d.r.VW(jg*K,jg*q,i7,128,128);de=d.r.VW(jg*K,jg*q+1,i7,128,128);eb=d.r.VW(jg*K+1,jg*q,i7,128,128)}else{eM=i7[bz*aC+db];
de=i7[ie*aC+db];eb=i7[bz*aC+hM]}jc[N]=Math.max(-dw,Math.min((eb-eM)*cm,dw));ft[N]=Math.max(-dw,Math.min((de-eM)*cm,dw))}}if(E=="Txtz")hY.amd(jc,ft,bd,X,6);
else hY.J4(jc,ft,bd,X,E=="Txtz"?1:E=="OcnR"?3.5/jg:c.Smth.v);if(E=="Txtz")k8=c.InvT.v?-1:1;else if(E=="Gls"){k8=[1,.4,.5,.5,.5,.5,.5][fv]*(Math.exp(c.Dstr.v*.155)-1);
if(c.InvT.v)k8=-k8}else{k8=.5*(Math.exp(c.RplM.v*.155)-1)}var fb=H.buffer;if(E=="Txtz"){var bT=(2+hY.lR.indexOf(c.LghD.v.LghD))*Math.PI*.25,hX=Math.cos(bT),jF=Math.sin(bT);
hc={x:hX,y:jF,mV:0};hA.o$(hc);bg=c.Rlf.v;bg=bg/4+Math.max(0,(bg-35)*2)}function k5(kp,gw,j6){var cO=d.l.overF(gw,kp,1),jP=(1-j6)*kp+j6*(j6*gw+(1-j6)*cO);
return jP*255}for(var q=0;q<k;q++)for(var K=0;K<b;K++){var N=q*b+K,im=N<<2,s=jc[N],aH=ft[N],kp={x:1,y:0,mV:s};
hA.o$(kp);var gw={x:0,y:1,mV:aH};hA.o$(gw);var dR=hA.ar1(kp,gw);if(E=="Txtz"){var e5=hA.ayj(dR,hc)*k8,j6=1,r=1;
if(e5<0){r=0;e5=-e5}j6=Math.min(1,e5*bg);fb[im+0]=~~k5(y.buffer[im]*(1/255),r,j6);fb[im+1]=~~k5(y.buffer[im+1]*(1/255),r,j6);
fb[im+2]=~~k5(y.buffer[im+2]*(1/255),r,j6)}else{var fT=k8/dR.mV,gA=~~Math.max(0,Math.min(b-1,K-dR.x*fT)),by=~~Math.max(0,Math.min(k-1,q-dR.y*fT)),gK=by*b+gA<<2;
fb[im+0]=y.buffer[gK];fb[im+1]=y.buffer[gK+1];fb[im+2]=y.buffer[gK+2]}}}if(E=="PntD"){var aJ=c.Shrp.v*.4,ic=c.BrsT.v.BrsT,gk={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[ic],hu=Math.round(c.Sz.v*.5);
d.lX.QP=gk[0];d.lX.oO(y.buffer,H.buffer,b,k,hu,0,[]);var gQ=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];gQ=d.bg.MB(gQ);
var e7=H.buffer.slice(0);d.bg.Nf(e7,H.buffer,b,k,gQ,0);for(var N=0;N<y.buffer.length;N++){var a2=H.buffer[N]-e7[N];
H.buffer[N]=Math.max(0,Math.min(255,e7[N]+aJ*a2))}}if(E=="GlwE"){var gU=H.buffer.slice(0);d.lX.QP=.5;
d.lX.oO(y.buffer,gU,b,k,c.Smth.v>>>1,0,[]);d.bg.aDi(gU,H.buffer,b,k);d.Jt(H.buffer,gU);d.Ub(gU);d.KT(gU,4278190080,16777215);
d.ZX.aCF(gU,H.buffer,b,k,(c.EdgW.v>>>1)*2+1,!0);var kv=c.EdgB.v/10;for(var N=0;N<gU.length;N++){if((N&3)==3)continue;
var cO=H.buffer[N];H.buffer[N]=Math.max(0,Math.min(255,cO*kv))}}if(E=="StnG"){d.H3.aww(y.buffer,b,k,H.buffer,c.ClSz.v,[Math.round(e.Z),Math.round(e.D),Math.round(e.J)],c.BrdT.v)}if(E=="HlfS"){var hs=c.HlSz.v,ai=hs*2+1,ky=c.Cntr.v,c0=hY.$v.indexOf(c.ScrT.v.ScrT),D=b*k,aQ=D*4,ec=d.R(D),hW=y.buffer,gc=0,iM=0;
hY.$R(hW,ec);var di=ec.slice(0);d.gC.a48(di,ec,X,hs);var er=Math.PI/ai,fe=new Float64Array(b),hX=new Float64Array(b),eu=new Float64Array(2*b);
for(var K=0;K<b;K++){var db=(K-(b>>>1))*er;fe[K]=db*db;hX[K]=Math.cos(db);var s=K<<1;eu[s]=Math.sin(s*(1/4.5));
eu[s+1]=Math.sin((s+1)*(1/4.5))}for(var q=0;q<k;q++){var bz=(q-(k>>>1))*er,jF=Math.cos(bz),dL=bz*bz;
for(var K=0;K<b;K++){var r=jF;if(c0==0){var jS=.5+Math.sqrt(fe[K]+dL)*4.5;r=eu[~~jS]}else if(c0==1){r=hX[K]*jF}var N=q*b+K,iF=ec[N]*(.75+.25*r),j6=hW[(N<<2)+3]*(1/255),g6=Math.max(0,Math.min(255,~~iF));
gc+=g6*j6,iM+=j6;ec[N]=g6}}gc/=iM;var be=128+1.26*(gc-128),kv=.08+.25*Math.abs((128-gc)/128),bt=1+kv*ky;
for(var N=0;N<D;N++){var iF=be+(ec[N]-be)*bt;ec[N]=Math.max(0,Math.min(255,~~iF))}if(ky>46)d.round(ec);
hY.zd(ec,H.buffer,e,p)}for(var N=0;N<y.buffer.length;N+=4)H.buffer[N+3]=y.buffer[N+3]};hY.zd=function(E,y,c,e){var p=E.length,H=c.Z,Z=c.D,X=c.J,b=e.Z,k=e.D,D=e.J;
for(var N=0;N<p;N++){var j=E[N]*(1/255),g=1-j,R=N<<2;y[R]=~~(H*g+b*j);y[R+1]=~~(Z*g+k*j);y[R+2]=~~(X*g+D*j)}};
hY._s=function(E){if(E==6)E=2;var y="blocks canvas frosted tinylens brick burlap".split(" ")[E];if(hY.dH==null)hY.dH=[];
if(hY.dH[E]==null){var c,e;if(E==2){e=new ir(0,0,128,128);var p=cN.TL("AdNs");p.Mnch.v=!0;p.Dstr.v.Dstr="Gsn";
p.Nose.v.val=50;var c=d.R(e.P()*4),H=c.slice(0);new Uint32Array(H.buffer).fill(4286611584);cN.bJ("AdNs",{buffer:H,rect:e},p,0,0,{buffer:c,rect:e})}else{var Z=iu.UO.get("tex/"+y,!0)[0];
e=Z.Yu;c=new Uint8Array(Z.data)}var X=d.R(e.P());d.LI(c,X,0);hY.dH[E]=[e,X]}return hY.dH[E]};hY.J4=function(E,y,c,e,p){if(p<=1){p=Math.round(p);
hY.amd(E,y,c,e,[1,16,4][p]);return}var H=p*.42;if(E){d.gC.RC(E,e,H,3)}if(y){d.gC.RC(y,e,H,3)}};hY.amd=function(E,y,c,e,p){var H=d.bg.MB([1,2,1,2,p,2,1,2,1]);
if(E){c.set(E);d.bg.ag5(E,c,e.m,e.e,H);E.set(c)}if(y){c.set(y);d.bg.ag5(y,c,e.m,e.e,H);y.set(c)}};hY.vv=function(E){if(E==null)return new eq(0,0);
var y=0,c=E.GEfs?E.GEfs.v:[{v:E}];for(var N=0;N<c.length;N++){var e=c[N].v,H=1e4;if(e.GELv&&!e.GELv.v)continue;
var p=e.GEfk.v.GEft;if(p=="GlwE"||p=="Phtc"||p=="BsRl"||p=="PlsW"||p=="Chrm"||p=="Gls"||p=="OcnR"||p=="InkO")H=0;
y=Math.max(y,H)}return new eq(y,y)};hY.aqs=function(E){var y=[0,0,0,0,0,0,0,0,0,0,0,0,0],c=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][E];
for(var N=0;N<13;N++){var e=N-6;y[N]=1/(c*Math.sqrt(2*Math.PI))*Math.exp(-.5*(e/c)*(e/c))}return y};
hY.apZ=function(E,y,c,e,p){var H=hY.aqs(p),Z=6,X=13;for(var b=0;b<e;b++)for(var k=0;k<c;k++){var D=b*c+k<<1,j=0,g=0;
for(var N=0;N<X;N++){var R=k+N-Z,t=R<0?0:R>=c?c-1:R,w=(b*c+t)*2,B=H[N];j+=B*E[w];g+=B*E[w+1]}y[D]=j;
y[D+1]=g}};hY.aDu=function(E,y,c,e,p){var H=hY.aqs(p),Z=6,X=13;for(var b=0;b<e;b++)for(var k=0;k<c;k++){var D=b*c+k<<1,j=0,g=0;
for(var N=0;N<X;N++){var R=b+N-Z,t=R<0?0:R>=e?e-1:R,w=(t*c+k)*2,B=H[N];j+=B*E[w];g+=B*E[w+1]}y[D]=j;
y[D+1]=g}};function cg(){}cg.Xs=[2,5,5,7,4,4];cg.Fn="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
cg.Y1="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
cg.BR=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
cg.bI=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
cg.RI=function(E){if(E=="passThrough")return"pass";return cg.Fn[cg.Y1.indexOf(E)]};cg.KH=function(E){if(E=="pass")return"passThrough";
return cg.Y1[cg.Fn.indexOf(E)]};cg.getName=function(E){return cg.BR[cg.Fn.indexOf(E)]};function jN(){this.rect=null;
this.buffer=null;this.ur="norm";this.opacity=255;this.av=!1;this.ew=!1;this.Gc=0;this.Y5=0;this.E0=!0;
this.TO=[];for(var N=0;N<10;N++)this.TO.push(0,0,255,255);this.name=null;this.add={};this.n3=null;this.JH=null;
this.F=null;this.W_=null;this.aCC=30;this.LE=null;this.b3=null;this.SG=null;this._A=null;this.p6=0;this.EL=!1;
this.r$=null;this.b_=new jN.TP}jN.TP=function(){this.eQ=!0;this.sg=!0;this.LA=d.R(0);this.acj=d.R(0);
this.Nd=null;this.EX={};this.agS=null;this.pI=null;this.n4=null;this.HE=null;this.Ny=null;this.x$=null;
this.nQ=null;this.Jp=null;this.qm=null;this.QJ=null;this.c8=null;this.iT=null;this._o=!1};jN.TP.prototype.aud=function(){this.eQ=null;
this.sg=!1;this.Nd=null;this._o=h0.Lq};jN.TP.prototype.aqG=function(){hA.aDX(this.EX);this.LA=d.R(0);
this.acj=d.R(0);if(this.HE)this.HE.delete();if(this.Ny)this.Ny.delete();this.HE=null;this.Ny=null;var E=[this.x$,this.nQ,this.Jp,this.qm,this.QJ,this.c8];
for(var N=0;N<6;N++)if(E[N]!=null&&E[N]instanceof h0.Ay)E[N].delete();this.x$=null;this.nQ=null;this.Jp=null;
this.qm=null;this.QJ=null;this.c8=null};jN.prototype.W=function(E){if(E==null)E=this.rect.clone();if(this.b_.Nd==null)this.b_.Nd=E;
else this.b_.Nd=this.b_.Nd.uN(E)};jN.prototype.uY=function(){return this.add.lsct==kl.Sh||this.add.lsct==kl.ze};
jN.prototype.iU=function(){var E=this.add;return E.SoCo!=null||E.GdFl!=null||E.PtFl!=null||E.vstl!=null};
jN.prototype.aks=function(){var E=this.add.lmfx;if(E==null)return;var y=["GrFl","patternFill"];for(var N=0;
N<y.length;N++){var c=cb.zt[cb.order.indexOf(y[N])],e=E[c].v;if(e.length==0)continue;for(var p=0;p<e.length;
p++){var H=e[p].v;if(H.enab.v&&(H.Algn==null||!H.Algn.v))this.b_.sg=!0}}};jN.prototype.aw_=function(){var E=this.F,y=this.b_.eQ;
if(this.iU())E=this.Nb();if(!h0.Lq)return E.Lr();if(this.b_.Ny==null||y||h0.Lq!=this.b_._o){var c=E.EK(),e=this.b_.Ny,p=null;
if(y!=!0&&y!=null){p=y.clone();p.offset(-c.x,-c.y)}if(e==null||e.m!=c.m||e.e!=c.e){e=this.b_.Ny=new h0.N7(c.m,c.e);
p=null}e.set(E.Lr(),p)}return this.b_.Ny};jN.prototype.aoi=function(E){var y=this.rect,c=this.buffer;
if(!h0.Lq){var e=this.iy(E,c,y);if(e){c=e.bb;y=e.rect}return c}if(this.b_.Nd!=null||h0.Lq!=this.b_._o){var e=this.iy(E,c,y);
if(e){c=e.bb;y=e.rect}var p=y;if(h0.Lq!=this.b_._o||this.b_.HE==null||this.b_.HE.m!=p.m||this.b_.HE.e!=p.e){if(this.b_.HE)this.b_.HE.delete();
this.b_.HE=new h0.Ay(p.m,p.e);this.b_.HE.set(c)}else{var H=this.b_.Nd.clone();H.offset(-y.x,-y.y);this.b_.HE.set(c,H)}}return this.b_.HE};
jN.prototype.rA=function(){var E=this.F;if(this.iU())E=this.Nb();return E!=null&&E.isEnabled&&(!E.rect.tj()||E.yd()!=255)};
jN.prototype.iy=function(E,y,c){if(this.p3()){var e=this.kP(E);if(e.F&&e.F.isEnabled&&(!e.F.rect.tj()||e.F.color==0)){var p=this.add.SoLd.filterFX.v;
e.F.$a=p.filterMaskDensity?p.filterMaskDensity.v:255;e.F.oV=p.filterMaskFeather?p.filterMaskFeather.v:0;
var H=e.buffer,Z=e.rect;if(Z.P()<c.P()){Z=c;H=d.R(Z.P()*4);d.E6(e.buffer,e.rect,H,Z)}var X=e.F.tv(c);
d.Ub(X);y=y.slice(0);d.l.vj(H,Z,y,c,X,c,0,c,1);return{bb:y,rect:c}}}};jN.prototype.a86=function(){var E={OW:!1,NZ:!1,Df:0,rQ:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)E.NZ=!0;if(this.Nb()&&this.Nb().isEnabled)E.OW=!0;if(E.OW&&E.NZ){E.Df=this.Nb().rect.x-this.add.vmsk.Nb().rect.x;
E.rQ=this.Nb().rect.y-this.add.vmsk.Nb().rect.y}return E};jN.prototype.fP=function(E,y){if(aw!=0)return;
if(y&&this.Nb().oV!=0){y=y.clone();var c=Math.round(this.Nb().oV*2.4);y.r4(c,c)}var e=!1;if(this.add.lsct==kl.vp)return;
var p=this,H=this.Nb()!=null&&this.Nb().tq,Z=this.add.vmsk!=null&&this.add.vmsk.tq,X=this.a86(),b=JSON.stringify(X)!=this.b_.agS||X.OW&&H||X.NZ&&Z;
if(b){if(X.NZ){var k=this.add.vmsk.Nb();if(X.OW){this.F=this.Nb().wl(k);this.b_.pI=new eq(this.F.rect.x-this.Nb().rect.x,this.F.rect.y-this.Nb().rect.y)}else this.F=k}if(this.F)e=!0;
if(this.F)this.b_.n4=new eq(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);if(X.OW)this.Nb().tq=!1;
if(X.NZ)this.add.vmsk.tq=!1;this.W(y)}else{if(X.OW&&X.NZ){this.F.rect.x=this.Nb().rect.x+this.b_.pI.x;
this.F.rect.y=this.Nb().rect.y+this.b_.pI.y}}if(p.iU()){this.yq(E)}if(p.Gq()){var D;if(this.F)D=new eq(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);
if(this.F&&this.F.isEnabled&&(this.b_.n4==null||!D.rT(this.b_.n4))){this.b_.n4=D;this.W(y);e=!0}}if(et.get(p.add)!=null)e=!0;
if(e){var j=this.b_.eQ;if(y&&j&&j!=!0)j=j.uN(y);else j=y?y:!0;this.b_.eQ=j}this.b_.agS=JSON.stringify(X)};
jN.prototype.yq=function(E){if(aw!=0)return;var y=this,c=y.add.vstk,e=new ir(0,0,E.m,E.e),p,H=y.add.vmsk?this.add.vmsk.Nb():null,b=!0,j;
if(H&&H.isEnabled&&H.yd()==0)p=H.EK().clone();else p=e;var Z=y.Nb();if(Z&&Z.isEnabled&&Z.yd()==0)p=p.fr(y.F.EK());
var X=H&&c;if(c&&(!c.strokeEnabled.v||c.strokeStyleLineWidth.v.val==0))X=!1;if(c&&!c.fillEnabled.v&&X)b=!1;
var k=d.R(p.P()*4);if(b){if(y.add.SoCo)hA.TW(k,y.add.SoCo.Clr.v);if(y.add.GdFl){var D=H&&H.color==0?d.o.L$(y.add.vmsk.X,null,!0):null;
hA.f_(y.add.GdFl,k,p,E,null,D)}if(y.add.PtFl)hA.lp(y.add.PtFl,k,p,E.add.Patt,y.add.fxrp)}if(X)j=cb.CY.FC.indexOf(c.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(H){var g=H.$a;if(X)H.$a=255;var R=d.R(p.P());if(H.yd()!=0)R.fill(Math.round(H.yd()));if(H&&H.isEnabled){var t=H.EK(),w=H.Lr();
if(t.rT(p))d.Jt(w,R);else d.kh(w,t,R,p)}if(X&&j==2){}else{if(y.add.SoCo&&b){d.Og(R,k,3)}else d.ys(R,p,k,p)}if(X)H.$a=g}y.buffer=k;
y.rect=p;if(X){var B=c.strokeStyleContent.v,$=cb.CY.gV.indexOf(B.classID),o=this.add.vmsk.Nb(c);if(j!=0&&!y.rect.rT(e))y.extend(y.rect.uN(o.EK()));
var g=o.$a;o.$a=255;var T=o.tv(y.rect);o.$a=g;if(o.color==255)d.Ub(T);var i=d.R(y.rect.P()*4);if($==0)hA.TW(i,B.Clr.v);
if($==1)hA.f_(B,i,y.rect,E,null,H.color==0?H.rect:null);if($==2)hA.lp(B,i,y.rect,E.add.Patt,y.add.fxrp);
var r=c.strokeStyleOpacity.v.val/100;if(r!=1)d.Bl(T,r);if(o.color==255)j=2-j;if(j<2){d.l.vj(i,y.rect,y.buffer,y.rect,T,y.rect,255,y.rect,1,!1);
if(j==0)d.pe(R,y.buffer)}if(j==2){d.pe(T,i);d.Ub(R);d.l.vj(i,y.rect,y.buffer,y.rect,R,p,255,y.rect,1,!1);
d.Ub(R)}if(o.$a!=255){var I=i.slice(0);d.KT(I,4278190080,16777215);d.l.Io("norm",I,y.rect,y.buffer,y.rect,y.rect,1-o.$a/255)}g=H.$a;
H.$a=255;this.acj=H.tv(y.rect);H.$a=g}this.W()};jN.prototype.an=function(E,y,c,e){var p=this,H=p.add.SoLd.Idnt.v,Z=p.add.SoLd,X=F.Y.Rt(Z.nonAffineTransform),b=d.A.n7(X),k=E.oY(H,Z.Crop?Z.Crop.v:null,[b.m,b.e],Z.Impr.v.classID,c),o=null;
if(k==null)return;var D=k.ed;Z.Sz.v.Wdth.v=D[1].m;Z.Sz.v.Hght.v=D[1].e;if(aw!=0)return;var j=k.$c==null?Z.Rslt.v.val:k.$c,g=Z.quiltWarp.v;
if(d.Bh.Mi(g))g=null;var R=d.r.C0(X,D[1]);if(g){var b=d.A.n7(d.Bh.lq(g)[3]),t=b.x,w=b.y,B=1/b.m,$=1/b.e;
R=d.r.C0(X);R=d.r.wl(R,[B,0,-t*B,0,$,-w*$,0,0])}if(!y&&!p.p3()&&g==null){var T=E.B.indexOf(p),i=jN.iS(p);
for(var N=0;N<T;N++){var r=E.B[N];if(r.add.SoLd&&!r.p3()&&jN.iS(r)[0]==i[0]){var I=jN.iS(r);o={buffer:r.buffer.slice(0),rect:r.rect.clone()};
o.rect.offset(Math.round(i[1]-I[1]),Math.round(i[2]-I[2]));break}}}if(o==null)o=F.Y.JV(D,y?0:1,R,g,null,null,null,y);
if(o==null){p.buffer=d.R();p.rect=new ir}else if(p.p3()){var M=p.kP(E);if(e){M.buffer.fill(0);d.E6(o.buffer,o.rect,M.buffer,M.rect)}else{M.buffer=o.buffer;
M.rect=o.rect.clone()}this.Hf(E,y)}else{p.buffer=o.buffer;p.rect=o.rect}p.fP(E);p.W();E.W()};jN.iS=function(E){var y=E.add.SoLd,c=y.Idnt.v,e=F.Y.Rt(y.nonAffineTransform),p=d.r.C0(e,new ir(0,0,1e3,1e3)),H=y.quiltWarp.v;
if(d.Bh.Mi(H))H=null;return[[c,p[0],p[1],p[3],p[4],p[6],p[7],H==null].join(":"),p[2],p[5]]};jN.prototype.Hf=function(E,y){if(y==null)y=!1;
var c=this.kP(E),e=this.add.SoLd.filterFX.v,p=cN.ahN(e),H=new ir(0,0,E.m,E.e),Z=c.rect.uN(H),X=c.rect.clone();
X.r4(p.x,p.y);var b={buffer:null,rect:Z.fr(X)};b.buffer=d.R(b.rect.P()*4);d.E6(c.buffer,c.rect,b.buffer,b.rect);
if(e.enab.v&&y==!1){var k=e.filterFXList.v;for(var N=0;N<k.length;N++){var D=k[N].v;if(D.enab.v==!1)continue;
var j=D.blendOptions.v,g=cg.RI(j.Md.v.BlnM),R=j.Opct.v.val/100,t=d.L.yd(D.FrgC.v),w=d.L.yd(D.BckC.v),B=cN.Ms(D),$={buffer:d.R(b.buffer.length),rect:b.rect.clone()},o=D.Fltr?D.Fltr.v:null;
if(et.lT[B]!=null){var T=et.lT[B],i=et.z8(T,o);if(i)et.bJ(i,b.buffer,$.buffer,b.rect)}else cN.bJ(B,b,o,t,w,$,[E.add.lnk2?E.add.lnk2:[],this.Nb(),E.cB]);
if(g=="norm"&&R==1)b=$;else if(g=="norm"){d.l.vj($.buffer,$.rect,b.buffer,b.rect,null,null,null,b.rect,R)}else{d.l.Io(g,$.buffer,$.rect,b.buffer,b.rect,b.rect,R)}}}this.rect=b.rect;
this.buffer=b.buffer;this.Q8();this.W();E.W()};jN.prototype.MS=function(E,y,c){this.r$=this.ag2(E,y,c)};
jN.prototype.uT=function(E,y){var c=this.ag2(E,y,!0);if(c==null)return null;var e={yu:c.p6,Ng:c.sc,rect:c.AL};
if(e.yu==1||e.yu==3){var p=e.rect,H=d.R(p.m*p.e*4);d.Og(e.Ng,H,0);d.Og(e.Ng,H,1);d.Og(e.Ng,H,2);d.aaC(E.i.channel,E.i.rect,H,p);
e.Ng=H}return e};jN.prototype.ag2=function(E,y,c){var e,p,H,Z,X,b,k;if(this.p6<=0){var D=d.R(this.rect.P());
d.LI(this.buffer,D,3);e=d.c7.H0(y,{channel:D,rect:this.rect},3);if(e==null)return null;var j=d.pL(e.channel,e.rect);
Z=e.rect.clone();X=this.rect.clone();p=d.R(Z.P()*4);d.E6(this.buffer,X,p,Z);d.Og(e.channel,p,3);H=this.buffer.slice(0);
if(!c){var g=y.channel.slice(0);d.Ub(g);d.ys(g,y.rect,H,X)}b=this.buffer.slice(0);k=this.rect.clone()}if(this.p6==1||this.p6==3){var R=this.p6==1?this.Nb():this.kP(E).F;
Z=y.rect.clone();X=R.rect.clone();p=R.UX(Z);var H=R.channel.slice(0);if(!c)d.l.pN(R.color==255?d.KC(Z.P()):d.Lt(Z.P()),Z,H,X,y.channel,Z,1);
b=R.channel.slice(0);k=R.rect.clone()}return{p6:this.p6,sc:p,AL:Z,Mj:H,XG:X,zT:b,Tu:k}};jN.prototype.eJ=function(E,y){var c=this.r$;
if(c.p6==0){this.rect=c.Tu;this.buffer=c.zT;this.W()}if(c.p6==1||c.p6==3){var e=c.p6==1?this.Nb():this.kP(E).F;
e.channel=c.zT;e.rect=c.Tu;if(this.p6==1){e.tq=!0;this.fP(E)}if(this.p6==3)this.W()}this.r$=y};jN.prototype.B5=function(E,y){if(this.p6<=0&&y.rect.rT(this.rect)){var c=d.R(this.rect.P());
d.LI(this.buffer,c,3);if(d.rT(E.i.channel,c)){var e=this.rect,p=this.buffer;this.r$={p6:this.p6,sc:p.slice(0),AL:e.clone(),Mj:d.R(0),XG:new ir,zT:d.R(0),Tu:new ir};
return!0}}var H=this.r$;if(H==null)return!1;if(H.p6!=this.p6)return!1;if(!y.rect.rT(H.AL))return!1;var Z=H.XG.uN(H.AL);
if(H.p6<=0){if(!Z.rT(this.rect))return!1;var X=d.R(H.sc.length>>2);d.LI(H.sc,X,3);if(!d.rT(y.channel,X))return!1;
var b=d.R(Z.m*Z.e*4);d.E6(H.Mj,H.XG,b,Z);d.l.Io("norm",H.sc,H.AL,b,Z,Z,1);return d.rT(b,this.buffer)}if(H.p6==1||H.p6==3){var k=H.p6==1?this.Nb():this.kP(E).F;
if(!Z.rT(k.rect))return!1;var D=d.R(Z.P());D.fill(k.color);d.kh(H.Mj,H.XG,D,Z);d.l.pN(H.sc,H.AL,D,Z,y.channel,Z,1);
return d.rT(D,k.channel)}};jN.prototype.uB=function(E,y,c,e){var p=this.r$;p.AL.offset(y,c);var H=p.XG.uN(p.AL);
if(p.p6<=0){var Z=d.R(H.P()*4);d.E6(p.Mj,p.XG,Z,H);d.l.Io("norm",p.sc,p.AL,Z,H,H,1);this.buffer=Z;this.rect=H;
this.W()}else{var X=this.p6==1?this.Nb():this.kP(E).F,b=d.R(H.P());b.fill(X.color);d.kh(p.Mj,p.XG,b,H);
d.l.pN(p.sc,p.AL,b,H,e.channel,H,1);X.channel=b;X.rect=H.clone();if(this.p6==1){X.tq=!0;this.fP(E)}if(this.p6==3)this.W()}};
jN.prototype.abq=function(E){var y=[-1,0,1,2];if(E)y.push(3);if(this.F)y.push(-2);if(this.W_)y.push(-3);
return y};jN.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};jN.prototype.v4=function(j1){this.add.luni=this.name=j1};
jN.prototype.sp=function(E){var y=this.add.lnsr,c=this.add.TySh;if(y=="rend"&&c){var e=gV.qO(c.Ax);this.v4(e.slice(0,e.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
jN.prototype.OQ=function(){return(this.Gc&1<<1)==0};jN.prototype.Gq=function(){return(this.Gc&1<<4)==0};
jN.prototype.rD=function(){return(this.Gc&1<<5)!=0};jN.prototype.a7U=function(){var E=this;if(E.add.lnsr!="bgnd"){E.add.lnsr="bgnd";
E.v4("Background");E.add.lspf=1<<2}};jN.prototype.a5G=function(){var E=this;if(E.add.lnsr=="bgnd"){delete E.add.lnsr;
E.v4("Layer 0");E.add.lspf=0}};jN.prototype.H7=function(E){var y=this.add.lspf;return y==null?!1:(y>>E&1)!=0};
jN.prototype.rP=function(E){if(E&&!this.OQ())this.Gc-=2;if(!E&&this.OQ())this.Gc+=2};jN.prototype.sZ=function(){var E=this.add.lmfx;
if(E==null)return!1;for(var y in E){if(y=="masterFXSwitch")continue;if(y=="Scl")continue;if(y=="classID")continue;
if(E[y].v.length>0)return!0}return!1};jN.prototype.p3=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
jN.prototype.ag=function(){var E=this.add.lmfx;if(E==null)return!1;if(!E.masterFXSwitch.v)return!1;for(var y in E){if(y=="masterFXSwitch")continue;
if(y=="Scl")continue;if(y=="classID")continue;var c=E[y].v;for(var N=0;N<c.length;N++)if(c[N].v.enab.v)return!0}return!1};
jN.prototype.no=function(){var E=this,y=E.add.SoLd,c=E.add.TySh,e=E.add.vmsk,p=[];if(y)p=F.Y.Rt(y.nonAffineTransform);
if(c&&this.b_.vJ){p=d.A.S6(E.b_.vJ).j;d.A.u(p,c.u,p)}if(e)p=d.A.S6(e.a50()).j;return p};jN.prototype.WT=function(E,y,c,e){if(aw==1)return d.A.n7(this.no());
var p=new ir,H=this.JO(E,c,e);if(H.indexOf(0)!=-1)p=p.uN(this.rect);if(H.indexOf(1)!=-1){var Z=this.Nb(),X=Z.EK();
p=c&&Z.yd()==0?p.tj()?X:p.fr(X):p.uN(X)}if(H.indexOf(2)!=-1){var b=this.add.vmsk,k=this.add.vstk,D;if(y){if(b.bH.length>1){var j=d.o.rC(b.X,null,b.bH);
D=d.A.n7(j);if(D.tj())D=null}if(D==null)D=d.o.L$(b.X,b.g.length!=0?b.g:null)}else D=d.o.L$(b.X);if(!e&&k&&k.strokeEnabled.v){var g=k.strokeStyleLineAlignment.v.strokeStyleLineAlignment,R=k.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(g!="strokeStyleAlignInside"){var t=k.strokeStyleLineWidth.v.val;if(R=="strokeStyleMiterJoin")D=new ir(0,0,E.m,E.e);
else D.r4(t,t)}}p=p.uN(D)}if(H.indexOf(3)!=-1)p=p.uN(this.kP(E).F.EK());if(H.length==0&&this.iU())p=e?new ir(0,0,0,0):new ir(0,0,E.m,E.e);
return p};jN.prototype.$g=function(){var E=this.add.artb,y=E.artboardBackgroundType.v,c=0;if(y==1)c=4294967295;
else if(y==2)c=4278190080;else if(y==3)c=0;else if(y==4){c=E.Clr.v;c=255<<24|c.Bl.v<<16|c.Grn.v<<8|c.Rd.v}else throw y;
return c};jN.prototype.fQ=function(){var E=this.add.artb.artboardRect.v,y=E.Btom.v,c=E.Left.v,e=E.Rght.v,top=E.Top.v;
return new ir(c,top,e-c,y-top)};jN.prototype.ix=function(E){var y=jN.jB(E);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=y};jN.jB=function(E){var y={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
y.Btom.v=E.y+E.e;y.Left.v=E.x;y.Rght.v=E.x+E.m;y.Top.v=E.y;return y};jN.prototype.JO=function(E,y,c){var e=[],p=this;
if(!y&&p.EL&&c){e.push(2)}else if(p.p6<=0||y){if(p.Gq()){if(aw==1&&p.add.TySh)e.push(0);if(aw==1&&p.add.SoLd)e.push(0);
else if(!this.rect.tj()||p.add.SoLd)e.push(0)}if(p.Nb()&&!p.Nb().rect.tj())if(p.Nb().PJ||y)e.push(1);
if(p.add.vmsk)if(p.add.vmsk.PJ||y)e.push(2);if(p.p3()&&p.kP(E).F&&!p.kP(E).F.rect.tj())e.push(3)}else if(p.p6==1){e.push(1);
if(p.Nb().PJ&&!p.Nb().rect.tj()){if(p.Gq())if(!this.rect.tj())e.push(0);if(p.add.vmsk)if(p.add.vmsk.PJ)e.push(2)}}else if(p.p6==3&&!p.kP(E).F.rect.tj())e.push(3);
if(p.add.artb&&e.indexOf(0)==-1)e.push(0);e.sort();return e};jN.prototype.Nb=function(){var E=this;return E.W_?E.W_:E.add.vmsk&&E.add.vmsk.isEnabled?null:E.F};
jN.prototype.kP=function(E){var y=this.add.SoLd.placed.v,c=E.add.FEid;if(c==null)return null;for(var N=0;
N<c.length;N++)if(c[N].id==y)return c[N];return null};jN.prototype.extend=function(E){d.ahT(this,E)};
jN.prototype.a0_=function(E,y,c){var e=E.clone();if(this.ag()){var p=this.add.lmfx,H=y.root.f$(y.B.indexOf(this)),Z=p.gradientFillMulti.v,X=!1;
for(var N=0;N<Z.length;N++)if(Z[N].v.enab.v&&Z[N].v.Algn.v)X=!0;if(X)e=e.uN(H.EK(y,!1));var b=hA.ac1(this.add.lmfx,y,c);
e.offset(b.x,b.y);e.m+=b.m;e.e+=b.e}return e};jN.prototype.Q8=function(){if(this.Gq())d.ig(this);var E=this.Nb();
if(E)E.Q8()};jN.prototype.clone=function(){var E=new jN;E.rect=this.rect.clone();E.buffer=this.buffer.slice(0);
E.ur=this.ur;E.opacity=this.opacity;E.av=this.av;E.Gc=this.Gc;E.name=this.name;E.TO=this.TO.slice(0);
if(this.F)E.F=this.F.clone();if(this.W_)E.W_=this.W_.clone();for(var y in this.add)E.add[y]=dc.clone(y,this.add[y]);
return E};jN.prototype.Wm=function(E){var y=this;if(y.add.TySh)delete y.add.TySh;if(y.add.SoLd){var c=this.iy(E,this.buffer,this.rect);
if(c){this.buffer=c.bb;this.rect=c.rect;this.W()}delete y.add.SoLd}if(y.add.SoCo||y.add.GdFl||y.add.PtFl){if(y.add.vogk)delete y.add.vogk;
if(y.add.SoCo)delete y.add.SoCo;if(y.add.GdFl)delete y.add.GdFl;if(y.add.PtFl)delete y.add.PtFl;if(y.add.vmsk){console.log(y.W_,y.F);
delete y.add.vmsk;if(y.W_==null&&y.F)delete y.F;else if(y.W_!=null&&y.F!=null){y.F=y.W_;delete y.W_}}}if(!y.uY()&&et.get(y.add)==null&&!this.Gq())this.Gc-=16};
jN.prototype.zp=function(E){var y=255,c=0;if(E==2){var e=this.add.SoLd.filterFX.v;if(e.filterMaskDensity)y=e.filterMaskDensity.v;
if(e.filterMaskFeather)c=e.filterMaskFeather.v}else{var p=E==0?this.Nb():this.add.vmsk;y=p.$a;c=p.oV}return{tc:E,WQ:y,mm:c}};
jN.prototype.ajP=function(E){if(E.tc==2){var y=this.add.SoLd.filterFX.v;if(E.WQ==255)delete y.filterMaskDensity;
else y.filterMaskDensity={t:"long",v:E.WQ};if(E.mm==0)delete y.filterMaskFeather;else y.filterMaskFeather={t:"doub",v:E.mm};
this.W()}else{var c=E.tc==0?this.Nb():this.add.vmsk;c.$a=E.WQ;c.oV=E.mm;c.tq=!0}};jN.prototype.m5=function(){var E=this,y=E.add.vmsk;
if(y==null)return;E.add.vogk=d.gM.akU(y.X)};jN.m5=function(E){var y=[],c=d.o.a0(E);for(var e=0;e<c;e++)y.push(d.gM.Lt());
return y};var kl={Ha:0,Sh:1,ze:2,vp:3};jN.W$=function(){this.name="Mask";this.bY=!1;this.KR={Z:255,D:0,J:0};
this.Ku=50;this.KO=0;this.color=255;this.PJ=!0;this.isEnabled=!0;this.iu=!1;this.$a=255;this.oV=0;this.rect=new ir;
this.channel=d.R(0);this.ms=null;this.a5n=null;this.tq=!0};jN.W$.prototype.wl=function(E){if(!this.isEnabled)return E;
var y=new jN.W$;y.color=Math.round(this.yd()*E.yd()/255);if(this.yd()==0&&E.yd()==0)y.rect=this.EK().fr(E.EK());
else if(E.yd()==0)y.rect=E.EK().clone();else if(this.yd()==0)y.rect=this.EK().clone();else y.rect=this.EK().uN(E.EK());
y.channel=this.tv(y.rect);y.$a=255;y.oV=0;var c=E.tv(y.rect);d.azL(c,y.rect,y.channel,y.rect);return y};
jN.W$.prototype.EK=function(){if(this.oV==0)return this.rect;var E=Math.ceil(this.oV*2.2),y=this.rect.clone();
if(y.y==0){if(y.x==0)y.m+=E;else y.r4(E,0);y.e+=E}else y.r4(E,E);return y};jN.W$.prototype.Lr=function(){if(this.oV==0&&this.$a==255)return this.channel;
if(this.oV==0){var E=this.channel.slice(0);d.Ub(E);d.Bl(E,this.$a/255);d.Ub(E);return E}var y=this.EK(),c=this.UX(y),E=d.R(y.P());
d.gC.VI(c,E,y,this.oV);if(this.$a!=255){d.Ub(E);d.Bl(E,this.$a/255);d.Ub(E)}return E};jN.W$.prototype.yd=function(){return Math.round(255-(255-this.color)*(this.$a/255))};
jN.W$.prototype.extend=function(E){d.extend(this,E,this.color)};jN.W$.prototype.Q8=function(){if(this.color==255)d.Ub(this.channel);
d.Q8(this);if(this.color==255)d.Ub(this.channel)};jN.W$.prototype.clone=function(){var E=new jN.W$;E.name=this.name;
E.bY=this.bY;E.KR=this.KR;E.Ku=this.Ku;E.KO=this.KO;E.color=this.color;E.PJ=this.PJ;E.isEnabled=this.isEnabled;
E.iu=this.iu;E.$a=this.$a;E.oV=this.oV;E.rect=this.rect.clone();E.channel=this.channel.slice(0);return E};
jN.W$.prototype.UX=function(E,y){if(y==null)y=d.R(E.P());y.fill(this.color);d.kh(this.channel,this.rect,y,E);
return y};jN.W$.prototype.tv=function(E,y){var c=this.EK(),e=this.Lr();if(y==null)y=d.R(E.P());y.fill(this.yd());
d.kh(e,c,y,E);return y};jN.pU=function(){this.PJ=!0;this.isEnabled=!0;this.$a=255;this.oV=0;this.p9=0;
this.O0=0;this.X=[{type:6},{type:8,all:0}];this.V8=[-3,-3];this.WJ=!1;this.W_=null;this.tq=!0;this.g=[];
this.bH=[]};jN.pU.prototype.a50=function(E){var y=jN.pU.MD(this.X),c=new jr;if(E)c.rotate(-this.p9);
d.o.dg(y,c);return d.o.L$(y)};jN.pU.prototype.aAW=function(){var E=this.a50(!0),y=d.A.S6(E).j,c=new jr;
c.rotate(this.p9);d.A.u(y,c,y);return y};jN.pU.prototype.offset=function(E,y){this.W_=this.Nb();d.o.dg(this.X,new jr(1,0,0,1,E,y));
this.W_.rect.offset(E,y)};jN.pU.prototype.Nb=function(E){if(!this.tq&&this.W_&&E==null){this.W_.isEnabled=this.isEnabled;
return this.W_}var y=d.o.L$(this.X),c="strokeStyleLineAlignment",e="strokeStyleLineJoinType";if(y.P()>2e4*2e4)y=new ir(0,0,100,100);
if(E&&E[c].v[c]!="strokeStyleAlignInside"){var p=1;if(E[e].v[e]=="strokeStyleMiterJoin"){var H=d.o.aA6(this.X),Z=H/2,X=Math.sin(Z),b=Math.cos(Z);
b/=X;X=1;var p=Math.sqrt(b*b+X*X);if(isNaN(p)||p<1)p=1}p*=E[c].v[c]=="strokeStyleAlignOutside"?1:.5;
var k=Math.ceil(E.strokeStyleLineWidth.v.val*p);k=Math.min(k,600);y.r4(k,k)}y=d.A.u8(y);var D=new jN.W$;
D.color=d.o.E9(this.X)?0:255;D.PJ=this.PJ;D.isEnabled=this.isEnabled;D.iu=!0;D.rect=y;D.$a=this.$a;D.oV=this.oV;
D.channel=d.R(D.rect.P());if(!y.tj())d.o.avB(this.X,D.channel,D.rect,E);if(E==null){this.W_=D;this.tq=!1}return D};
jN.pU.prototype.clone=function(){var E=new jN.pU;E.PJ=this.PJ;E.isEnabled=this.isEnabled;E.$a=this.$a;
E.oV=this.oV;E.p9=this.p9;E.X=jN.pU.MD(this.X);E.V8=this.V8.slice(0);E.WJ=this.WJ;E.g=this.g.slice(0);
E.bH=this.bH.slice(0);return E};jN.pU.prototype.concat=function(E){var y=E.X.slice(2);if(y.length==0)return;
y[0].O0=3;this.X=this.X.concat(y)};jN.pU.MD=function(E){var y=[];for(var N=0;N<E.length;N++){var c=E[N];
if(c.type>5||c.type==0||c.type==3)y.push(JSON.parse(JSON.stringify(c)));else y.push({type:c.type,$0:c.$0.clone(),I:c.I.clone(),dW:c.dW.clone()})}return y};
jN.pU.awj=function(E,y,c){if(E.length!=y.length)return!1;for(var N=2;N<E.length;N++){var e=E[N],p=y[N];
if(e.type!=p.type)return!1;if(e.type==0||e.type==3){if(e.length!=p.length||!c&&e.O0!=p.O0)return!1}else if(!e.$0.rT(p.$0)||!e.I.rT(p.I)||!e.dW.rT(p.dW))return!1}return!0};
jN.pU.prototype.aok=function(){var E=this.X;for(var N=3;N<E.length;N++)if(E[N].type==0||E[N].type==3)E[N].O0=-1};
jN.DE=function(){this.type=null;this.D_=2;this.pf=null;this.gg="";this.uC="";this.la="";this.open=0;
this.raw=null;this.ed=null;this.app="";this.kc=!1};jN.DE.prototype.clone=function(){var E=new jN.DE;
E.type=this.type;E.D_=this.D_;E.pf=this.pf;E.gg=this.gg;E.uC=this.uC;E.la=this.la;E.open=this.open;E.raw=new Uint8Array(this.raw.buffer.slice(0));
return E};jN.DE.prototype.eA=function(E,y,c,e,p){if(c==null)c="none";var H=this,Z=iu.XS(H.raw.buffer),X=Z=="svg"||Z=="pdf"||Z=="ai";
if(H.ed){var b=y&&X&&Math.max(H.ed[1].m,H.ed[1].e)<Math.max(y[0],y[1]);if(!b&&c==this.app&&!H.kc)return}this.app=c;
if(!X)E=0;if(Z==null){alert("Unsupported format: "+_.xY(H.raw,0,4));return null}var k=iu.sF(Z);if(k.qg){var D=new cc(name+(Z=="psd"?"":"-"+Z)+".psd"),j;
k.cU(H.raw.buffer,D,y);var g=new ir(0,0,D.m,D.e);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(c)!=-1){var R=[];
for(var N=0;N<D.B.length;N++){var t=D.B[N],w=t.buffer;if(!t.rect.rT(g)){w=d.R(g.P()*4);d.E6(t.buffer,t.rect,w,g);
console.log("resizing")}R.push(w)}j=d.R(g.P()*4);d.stack.stack(R,j,c)}else{for(var N=0;N<D.B.length;
N++)if(D.B[N].iU())D.B[N].fP(D);if(e&&D.kc){var B=kz.AP(D,e,p);H.kc=!B;if(B)kz.v2(D,e,p)}D.RH();D.W();
D._1();j=D.eA()}H.ed=[j,g];H.$c=D.$c!=null&&D.$c!=0?D.$c:72}else if(k){var $=k.cU(H.raw.buffer)[0];H.ed=[new Uint8Array($.data),$.Yu];
H.$c=$.$c!=null&&$.$c!=0?$.$c:72}if(H.ed){if(E==1){var w=H.ed[0],o=H.ed[1],T=d.R(o.P());d.LI(w,T,3);
var i=d.pL(T,o),r=d.R(i.P()*4);d.E6(w,o,r,i);i.x=i.y=0;H.ed=[r,i]}d.nJ(H.ed)}};jN.lz="0";jN.iI="2";jN.fs="2.5";
jN.Kd="2.6";jN.KB="3";jN.if="4";jN.ek="4.5";jN.anc="4.6";jN.afh="5";jN.cs="5.5";jN.Eu="6";jN.a75="7";
jN.a9A="8";jN.N6="9";jN.j2="9.3";jN.azn="9.5";jN.YQ="9.6";jN.Dd="10";jN.Su="11";jN.jG="12";jN.gP="13";
jN.z0="13.1";jN.a5g="13.2";jN.zS="13.3";jN.mG="13.4";jN.Ao="14";jN.uO="14.1";jN.CR="14.2";jN.mP="14.3";
jN.JP="17";jN.Fs="18";jN.anW="19";jN.v7="19.5";jN.Me="19.6";jN.qA="19.7";jN._l="19.8";jN.nU="20";jN.Bt="21";
jN.Bu="21.5";jN.zy="22";jN.mj="22.5";jN.b0="23";jN.aAt="24";jN.R5="25";jN.atk="26";jN.a8z="27";jN.YK="28";
jN.Ck="29";jN.f2="30";jN.KW="31";jN.ml="32";jN.wZ="33";jN.F_="34";jN.TM="35";jN.yG="36";jN._7="36.5";
jN.jT="37";jN.M_="37.5";jN.arn="37.6";jN.tS="38";jN.yF="38.5";jN.Yd="38.6";jN.l$="39";jN.dv="40";jN.ak2="41";
jN.Gz="42";jN.AR="50";jN.y$="51";jN.vX="52";jN.No="53";jN.EP="54";jN.arC="54.5";jN.tR="54.6";jN.aqk="54.7";
jN.R0="54.8";jN.Od="55";jN.X9="56";jN.wn="57";jN.vU="58";jN.$P="59";jN.qo="60";function bV(){this.depth=0;
this.index=-1;this.a=null;this.aic=null;this.qM=-1;this.children=null;this.parent=null;this.$u=null}bV.prototype.adt=function(E,y){if(this.depth!=0)E.push(this.a.getName());
if(this.children)for(var N=0;N<this.children.length;N++)this.children[N].adt(E,y);if(E.length>y.XR.length)y.XR=E.slice(0);
if(this.depth!=0)E.pop()};bV.prototype.a9G=function(){var E=0;if(this.a.uY()){for(var N=0;N<this.children.length;
N++)E+=this.children[N].a9G()}else if(this.a.buffer)E+=this.a.buffer.length;return E};bV.prototype.f$=function(E){var y=this.$u[E];
return this.$u[E]};bV.prototype.amu=function(E,y){var c=this.a;if(!c.OQ()||c.H7(2)||c.H7(31))return null;
if(c.rA()){var e=c.F.rect.TF(E);if(!e&&c.F.color==0)return}if(c.uY()){for(var N=0;N<this.children.length;
N++){var j1=this.children[N];j1.amu(E,y)}}else if(aw==1){var p=c.no();if(E.TF(d.A.n7(p))&&y.indexOf(this.index)==-1)y.push(this.index)}else if(c.rect.TF(E))y.push(this.index)};
bV.prototype.U1=function(E,y){var c=this.a;if(!c.OQ()||c.H7(2)||c.H7(31))return null;if(c.rA()){if(c.F.rect.u6(E)){if(!d.U1(E,c.F.channel,c.F.rect))return null}else if(c.F.color==0)return null}if(c.uY()){if(c.add.artb&&!c.fQ().u6(E))return null;
for(var N=this.children.length-1;N>=0;N--){var j1=this.children[N],e=j1.U1(E,y);if(e&&y==null)return e}return null}else if(aw==1){if(c.add.vmsk){var p=c.add.vstk,H=!p.fillEnabled.v&&!c.ew,Z=p.strokeStyleLineWidth.v.val*.5,X=d.o.U1(c.add.vmsk.X,E,H,Z);
return X.h2==-1?null:this}var b=c.no();if(ap.te(b,E.x,E.y))return this}else if(c.add.TySh&&c.rect.u6(E)||d.aAh(E,c.buffer,c.rect)){if(y==null)return this;
else y.push(this.index)}return null};bV.prototype.a0c=function(E){var y=this.a;if(!y.OQ()||y.H7(2)||y.H7(31))return null;
var c=y.add.vmsk;if(c&&c.isEnabled){var e=d.o.U1(c.X,E).h2;if(e!=-1)return{adi:this,aAg:e}}if(y.uY()){if(y.add.artb&&!y.fQ().u6(E))return null;
for(var N=this.children.length-1;N>=0;N--){var j1=this.children[N],p=j1.a0c(E);if(p)return p}return null}return null};
bV.prototype.YA=function(E,y){E.push(this.index);if(this.a.uY()){E.push(this.qM);if(y)if(this.a.p6==1&&this.a.Nb().PJ==!1)return;
for(var N=0;N<this.children.length;N++)this.children[N].YA(E)}};bV.LX=function(){var E=document.createElement("canvas");
return E.getContext("2d")};bV.ay_=function(E,y){var c,e;if(E.m>E.e){c=y;e=Math.floor(y*(E.e/E.m))}else{c=Math.floor(y*(E.m/E.e));
e=y}return new eq(c,e)};bV.AH=32;bV.Fb=1;bV.prototype.y_=function(E,y,c){var e=bV.Fb,p=this.a;if(p.uY()&&p.add.artb!=null)y=p.fQ();
var H=e==0?p.rect:y;if(H.tj()||p.add.TySh)H=y;var Z=bV.AH*F.k1(),X=bV.ay_(H,Z),b=X.x,k=X.y,D=bV.ay_(y,Z);
if(p.iU()&&p.add.vmsk==null||p.add.TySh)b=k=Math.max(k,16);else if(p.uY()){b=k=Math.round(18*F.k1())}else{b=Math.max(b,6);
k=Math.max(k,6)}if(c&&p.LE==null){p.LE=bV.LX();p.b3=bV.LX();p.SG=bV.LX();p._A=bV.LX()}var j=p.iU()&&p.add.vmsk;
if(j){if(c&&p.add.vstk)d.fS.a8(p.LE,b,k,H,p.buffer,p.rect,!1,null,!p.add.vstk.fillEnabled.v&&!p.add.vstk.strokeEnabled.v);
if(c)d.fS.az6(p.LE,b,k)}else if(p.add.TySh){if(c)d.fS.awW(p.LE,k,k,p.add.TySh)}else if(p.add.SoCo){if(c)d.fS.awT(p.LE,k,k,p.add.SoCo)}else if(p.add.GdFl){if(c)d.fS.agB(p.LE,k,k,p.add.GdFl)}else if(p.add.PtFl){if(c)d.fS.alk(p.LE,k,k,p.add.PtFl,E)}else if(et.get(p.add)!=null){if(c)d.fS.amW(p.LE,k,k,p.add)}else if(p.add.SoLd){if(c)d.fS.a8(p.LE,b,k,H,p.buffer,p.rect,!1);
if(c)d.fS.aoZ(p.LE,b,k,p.add.SoLd)}else if(p.uY()){}else{if(c){if(p.Gq())d.fS.a8(p.LE,b,k,H,p.buffer,p.rect,!1);
else{d.fS.afj(p.LE,k,k)}}}var g=p.Nb();if(c){if(g)d.fS.xp(p.b3,D.x,D.y,y,g);if(p.p3()&&p.kP(E)&&p.kP(E).F){var R=p.kP(E).F;
d.fS.xp(p._A,D.x,D.y,y,R)}if(!j&&p.add.vmsk){d.fS.xp(p.SG,D.x,D.y,y,p.add.vmsk.Nb(),!0)}}if(g||p.add.vmsk)k=Math.max(k,D.y);
p.aCC=Math.max(k,16);if(c!=!0&&p.uY()&&(p.add.lsct==kl.Sh||E.B.length<4e3))for(var N=0;N<this.children.length;
N++)this.children[N].y_(E,y)};bV.prototype.a9L=function(E,y,c,e){this.depth=c;var p=E[y];if(e==null)e=[];
this.$u=e;if(p.add.lsct==kl.vp){this.aic=p;this.qM=y-1;this.children=[];var N=y+1;while(!0){var H=E[N];
if(H==null)console.log(N,E.length);if(H.add.lsct==kl.Sh||H.add.lsct==kl.ze){if(p.add.lyid==H.add.lyid)p.add.lyid+=16777215;
this.a=H;this.index=N-1;e[this.index]=this;e[y-1]=this;break}var Z=new bV;Z.parent=this;N=Z.a9L(E,N,c+1,e);
this.children.push(Z)}return N+1}else{this.a=p;this.index=y-1;e[this.index]=this;return y+1}};bV.prototype._G=function(E,y,c,e){var p=this.f$(c),H=E;
while(p.parent!=null){H=p.a.a0_(H,y,e);p=p.parent}return H};bV.prototype.EK=function(E,y){var c=this.a,e=new ir;
if(!c.OQ())return e;var p=c.Nb();if(c.uY())for(var N=0;N<this.children.length;N++){var H=this.children[N].EK(E,!0);
e=e.uN(H)}else if(et.get(c.add)!=null)e=c.rA()&&c.F.color==0?c.F.EK().clone():new ir(0,0,E.m,E.e);else if(c.iU()&&c.add.vmsk&&c.add.vmsk.isEnabled&&c.add.vstk){e=c.rect.clone()}else if(c.iU()&&p&&p.isEnabled&&p.yd()!=0)e=new ir(0,0,E.m,E.e);
else{e=c.WT(E,!1,!0);if(c.add.vmsk)e=d.A.u8(e)}return y?c.a0_(e,E):e};bV.oj={delete:function(E){if(E&&E.m)E.delete()},R:function(E,y){return h0.Lq?new h0.Ay(E,y):d.R(E*y*4)},Uv:function(E,y,c){if(h0.Lq){if(E==null||E.m!=y||E.e!=c){bV.oj.delete(E);
return new h0.Ay(y,c)}}else{if(E==null||!(E instanceof Uint8Array)||E.length!=y*c*4){bV.oj.delete(E);
return d.R(y*c*4)}}return E},kh:function(E,y,c,e,p){(h0.Lq?h0.IO:d.E6)(E,y,c,e,p)},vj:function(E,y,c,e,p,H,Z,X,N,b,k){(h0.Lq?h0.l.yy:d.l.vj)(E,y,c,e,p,H,Z,X,N,b,k)},aAu:function(E,y,c,e,p,H,Z,X){var b=c.clone(),k=p.m,D=p.e,j=b.x,g=b.y,R=b.x+b.m>k?-1:0,t=b.x<0?2:1,w=b.y+b.e>D?-1:0,B=b.y<0?2:1;
for(var $=w;$<B;$++)for(var o=R;o<t;o++){b.x=j+o*k;b.y=g+$*D;bV.oj.Io(E,y,b,e,p,H,Z,X)}},Io:function(E,y,c,e,p,H,Z,X){if(h0.Lq)h0.l.aaf(E,y,c,e,p,H,Z,X);
else d.l.Io(E,y,c,e,p,H,Z,X)},KT:function(E,y,c){if(h0.Lq){h0.Lm(E);h0.QI(y,c)}else d.KT(E,y,c)},asR:function(E,y,c,e,p){if(h0.Lq){h0.l.yy(null,null,e,p,E,y,c,p,1,!1)}else{if(c==255)d.ys(E,y,e,p);
else{var H=d.R(y.P());d.xN(e,p,H,y);d.Dk(E,H);d.KT(e,0,16777215);d.aaC(H,y,e,p)}}},xf:function(E,y,c,e){if(h0.Lq)h0.l.yy(null,null,c,e,E,y,0,e,1,!1);
else d.xf(E,y,c,e)}};bV.prototype.u_=function(E,y,c,e,p,H){var Z=typeof H=="number";if(!this.a.uY()&&(Z&&this.index>H||!Z&&H.indexOf(this.index)==-1)){return}var X=this.a,b=hA.cO(X),k=bV.oj,D=X.iU()?X.Nb():X.F;
if(!X.OQ())return;if(X.rA()&&D.rect.tj()&&D.yd()==0){return}if(X.add.vstk==null&&this.EK(e,!1).tj()){return}if(X.iU()&&X.rect.tj())return;
var j=this.EK(e,!0).fr(c);if(!y.rT(c)&&!c.TF(j))return;if(X.uY()&&X.add.artb){var g=X.fQ();c=c.fr(g)}var R=bV.a1B(X,p,b);
if(!R){this.aju(E,y,c,e,p,H);return}X.b_.x$=k.Uv(X.b_.x$,j.m,j.e);k.kh(E,y,X.b_.x$,j,c);this.aju(X.b_.x$,j,c,e,p,H);
k.vj(X.b_.x$,j,E,y,null,null,0,c,X.opacity/255,X.ur=="diss",b.yv)};bV.a1B=function(E,y,c){if(c.yv[0]*c.yv[1]*c.yv[2]==0)return!0;
return E.opacity!=255&&(y.length!=0||E.uY()||E.ag())};bV.aBp={b_:{}};bV.prototype.aju=function(E,y,c,e,p,H){var Z=this.a,X=hA.cO(Z),b=et.get(Z.add)!=null,k=bV.oj,D=bV.a1B(Z,p,X),j=D?1:Z.opacity/255,g=Z.iU()?Z.Nb():Z.F,R=Z.uY()&&X.Zy==null&&(Z.ur=="pass"||Z.add.artb)&&!(p.length>0||X.fill!=1||Z.ag()),t=!Z.uY()&&!b&&!Z.ag()&&p.length==0,w=b&&!Z.ag()&&p.length==0,r=null,I=null,M=null,L;
if(R||t||w){var B=E,$=y;if(Z.rA()){$=this.EK(e,!1);B=Z.b_.qm=k.Uv(Z.b_.qm,$.m,$.e);k.kh(E,y,Z.b_.qm,$)}if(R)this.dq(B,$,c,e,H);
if(t)k.Io(Z.ur,Z.aoi(e),Z.rect,B,$,c,j,X);if(w){var o=Z.rA()&&g.yd()==0?g.EK().clone():$.clone(),T=Z.b_;
if(o.rT(new ir(0,0,e.m,e.e)))T=bV.aBp;T.Jp=this.a5C(B,$,T.Jp,o,Z.add);X.ap=!0;k.Io(Z.ur,T.Jp,o,B,$,c,j,X)}if(Z.rA())k.vj(B,$,E,y,Z.aw_(),g.EK(),g.yd(),c,1,Z.ur=="diss");
Z.b_.aud();return}var i=Z.uY()&&Z.ur=="pass"&&(p.length>0||X.fill!=1||Z.ag()),o=Z.rect;if(Z.uY()){o=this.EK(e,!1);
M=Z.b_.Jp=k.Uv(Z.b_.Jp,o.m,o.e);k.KT(M,0);this.dq(M,o,o,e,H);I=k.Uv(Z.b_.nQ,o.m,o.e);k.kh(M,o,I,o)}else if(b){o=Z.rA()&&g.yd()==0?g.EK().clone():y.clone();
I=k.Uv(Z.b_.nQ,o.m,o.e);k.KT(I,4294967295)}else{o=Z.rect;r=Z.aoi(e);I=k.Uv(Z.b_.nQ,o.m,o.e);k.kh(r,o,I,o)}Z.b_.nQ=I;
if(Z.rA())k.asR(Z.aw_(),g.EK(),g.yd(),I,o);if(Z.ag())if(Z.b_.Nd||Z.b_.sg||Z.b_._o!=h0.Lq||Z.b_.eQ||Z.uY()){var J=Z.add.vmsk,P=d.R(o.P());
if(hA.a01(Z.add.lmfx)){if(h0.Lq){if(!Z.uY()&&Z.Nb()==null&&Z.rect.rT(o)&&J==null)d.LI(Z.buffer,P,3);
else{var n=d.R(o.P()*4);I.get(n);d.LI(n,P,3)}}else d.LI(I,P,3)}if(Z.b_.sg||Z.b_._o!=h0.Lq||!d.rT(P,Z.b_.LA)){var x=null;
if(Z.iU()&&J&&J.isEnabled&&J.Nb().color==0)x=J.Nb().rect;hA.aDX(Z.b_.EX);Z.b_.EX=hA.ajH(P,o,Z.add.lmfx,Z.add.fxrp,e,x);
Z.b_.LA=P;Z.b_.apL=o}}if(Z.ag())hA.a9a(Z.add.lmfx,Z.b_.EX,o,E,y,c);if(Z.uY()){r=k.Uv(Z.b_.qm,o.m,o.e);
k.KT(r,0);if(Z.ur=="pass")k.kh(E,y,r,o);if(i)k.xf(M,o,r,o);this.dq(r,o,c,e,H);Z.b_.qm=r}if(b){r=Z.b_.qm=this.a5C(E,y,Z.b_.qm,o,Z.add)}if(Z.uY()||b)L=r;
else{L=k.Uv(Z.b_.qm,o.m,o.e);k.kh(r,o,L,o,c);Z.b_.qm=L}k.KT(L,4278190080,16777215);for(var N=0;N<p.length;
N++)p[N].u_(L,o,c,e,[],H);var u=Z.b_.QJ=k.Uv(Z.b_.QJ,o.m,o.e);k.kh(E,y,u,o,c);if(b)X.ap=!0;k.Io(Z.ur=="pass"?"norm":Z.ur,L,o,u,o,c,1,X);
if(Z.ag()){var C=Z.b_.EX.type.FrFX,h=null;if(C.length!=0){h=C[0];for(var N=0;N<C.length;N++)if(C[N].R8.m>h.R8.m)h=C[N];
Z.b_.c8=k.Uv(Z.b_.c8,h.R8.m,h.R8.e);k.kh(E,y,Z.b_.c8,h.R8,c);Z.b_.iT=k.Uv(Z.b_.iT,h.R8.m,h.R8.e)}hA.a4z(Z.add.lmfx,Z.b_.EX,o,E,y,c,u,Z.b_.c8,Z.b_.iT,h?h.R8:null)}if(!h0.Lq){var A=d.R(o.P());
d.LI(I,A,3);I=A}k.vj(u,o,E,y,I,o,0,c,1,Z.ur=="diss");Z.b_.aud()};bV.prototype.a5C=function(E,y,c,e,p){var H=et.get(p),Z;
if(H)Z=et.z8(H,p[H]);var X=bV.oj;c=X.Uv(c,e.m,e.e);if(!(h0.Lq&&y.rT(e)))X.kh(E,y,c,e);if(Z){if(h0.Lq){var b=e.clone();
b.x=b.y=0;if(y.rT(e)){h0.Lm(c,b);et.v_(Z,E.Ln,b)}else{h0.Lm(c,e);c.br(e);et.v_(Z,c.UY,b)}}else et.bJ(Z,c,c,e)}return c};
bV.prototype.dq=function(E,y,c,e,p){var H=y.m,Z=y.e,X=y.x,b=y.y,j1=c,k=j1.x,D=j1.y,j=-1,g=-1,R=2,t=2;
if(!e.sG){j=g=0;R=t=1}var w=this.children;for(var N=0;N<w.length;N++){var B=et.get(w[N].a.add)!=null,$=[];
for(var o=N+1;o<w.length;o++)if(w[o].a.av)$.push(w[o]);else break;for(var T=g;T<t;T++)for(var i=j;i<R;
i++){y.x=X+i*H;y.y=b+T*Z;j1.x=k+i*H;j1.y=D+T*Z;if((i!=0||T!=0)&&B)continue;w[N].u_(E,y,j1,e,$,p)}N+=$.length}y.x=X;
y.y=b;j1.x=k;j1.y=D};(function(){bV.prototype.II=function(H,Z,X,b){var k=this.a,D=k.add.lmfx,j=k.add.TySh,g=k.add.SoLd,t=null;
if(!k.OQ())return;Z.save();var R=k.opacity/255*(k.add.iOpa?k.add.iOpa/255:1);Z.globalAlpha*=R;Z.globalCompositeOperation=cg.bI[cg.Fn.indexOf(k.ur)];
var w=hA.aiC(k,!1);if(w){t=Z;var B=document.createElement("canvas");B.width=Z.canvas.width;B.height=Z.canvas.height;
var $=Z.getTransform();Z=B.getContext("2d");Z.setTransform($.a,$.b,$.c,$.d,$.e,$.f)}if(k.uY()){var o=this.children,T=null;
for(var N=0;N<o.length;N++)if(o[N].a.ew)T=o[N].a;if(T){Z.beginPath();y(T,Z);Z.clip()}for(var N=0;N<o.length;
N++)o[N].II(H,Z,X,b)}else if(j){var i=!0;if(k.b_.path==null){i=kz.tx(j,X.UG);if(i)kz.K1(k,X.UG,!1)}if(i){{var r=j.u;
Z.save();E(Z,r);kz.ayd(k.b_.path,Z);Z.restore()}}}else if(k.iU()&&k.add.vmsk&&!k.ew){var I=k.add.vmsk;
if(I.oV!=0)Z.filter="blur("+I.oV*H.Q.O+"px)";Z.beginPath();y(k,Z);var M=k.add.vstl;if(M.gl){var J=e(M.gl,I.X,H,Z);
if(J[1]){Z.save();E(Z,J[1])}Z.fillStyle=J[0];Z.fill(["nonzero","evenodd"][I.O0]);if(J[1]){Z.restore()}}if(M.Rl){d.o.IN(M,Z);
Z.strokeStyle=e(M.Rl,I.X,H,Z,!0)[0];Z.stroke()}}else if(g){var P=g.filterFX;if(P){var J=P.v.filterFXList.v;
for(var N=0;N<J.length;N++){var n=J[N].v;if(!n.enab.v)continue;var x=cN.Ms(n);if(x=="GsnB"){Z.filter="blur("+n.Fltr.v.Rds.v.val*H.Q.O+"px)"}}}var L=g.Idnt.v,u=H.oY(L,g.Crop?g.Crop.v:null),r=d.r.ij(g),C=u.ed;
p(H,k,Z,r,C)}if(w){t.save();t.setTransform(1,0,0,1,0,0);t.drawImage(Z.canvas,0,0);t.restore();Z=t}Z.globalAlpha/=R;
Z.globalCompositeOperation="source-over";Z.restore()};function E(H,Z){H.transform(Z.U,Z.J,Z.E7,Z.sN,Z.Kc,Z.Dm)}function y(H,Z){var X=H.add.vmsk.X;
for(var N=0;N<X.length;N++){if(X[N].type>5)continue;var b=X[N].length;if(b==0)continue;var k=X[N].type==3;
d.o.a68(Z,X,N+1,b,0,0,k);if(!k)Z.closePath();N+=b}}function c(H,Z){return CSS.Z9({Z:H[0]*255,D:H[1]*255,J:H[2]*255},Z)}function e(H,Z,X,b,k){if(H.length==3)return[c(H),null];
else if(H.length==2){var D=X.tM[H[0]],j=1,g=D.a05;if(g==null){var R=document.createElement("canvas"),t=R.getContext("2d");
R.width=Math.round(D.m*j);R.height=Math.round(D.e*j);t.scale(j,j);D.root.II(D,t,{},null);g=D.a05=b.createPattern(R,"repeat")}var w=new jr(1/j,0,0,1/j,0,0),B=X.$c/72,$=new jr;
$.concat(w);var o=H[1][1];$.concat(new jr(o[0],o[1],o[2],o[3],B*o[4],B*o[5]));$.scale(1,-1);return[g,$]}else{var T=H[0],i=H[1],r=H[2],I=-r[5]*Math.PI/180,M=dd.lW(H,Z),J,w;
if(T==0){var P=[0,0,1,0];d.A.u(P,M,P);J=b.createLinearGradient(P[0],P[1],P[2],P[3])}else{var P=[Math.cos(I)*r[6],Math.sin(I)*r[6],0,0,1,0],n=Math.abs(M.U*M.J+M.E7*M.sN)<1e-9,x=Math.abs(M.U*M.U+M.J*M.J-M.E7*M.E7-M.sN*M.sN)<1e-9,L=n&&x;
if(L||k){if(!L)console.log("non-orthonormal matrix for a radial gradient stroke");d.A.u(P,M,P);var u=P[4]-P[2],C=P[5]-P[3];
J=b.createRadialGradient(P[0],P[1],0,P[2],P[3],Math.sqrt(u*u+C*C))}else{J=b.createRadialGradient(P[0],P[1],0,0,0,1);
w=M}}for(var N=0;N<i.length;N++)J.addColorStop(i[N][0],c(i[N][1],i[N][2]));return[J,w]}}function p(H,Z,X,b,k){if(b==null)b=new jr;
var D=Z.buffer,j=Z.rect;if(k){var g=b.ul()*H.Q.O,R=0;while(1<<R/2<.5/g&&R+2<k.length)R+=2;D=k[R];j=k[R+1];
j=j.clone();j.x=j.y=0;var g=1<<R/2,t=new jr;t.scale(g,g);t.concat(b);b=t}if(j.tj())return;var w=document.createElement("canvas");
w.width=j.m;w.height=j.e;var B=w.getContext("2d");B.putImageData(new ImageData(new Uint8ClampedArray(D.buffer),j.m,j.e),0,0);
X.transform(b.U,b.J,b.E7,b.sN,b.Kc,b.Dm);X.drawImage(w,j.x,j.y);b.Ub();X.transform(b.U,b.J,b.E7,b.sN,b.Kc,b.Dm)}}());
function cc(E){this.Nj="psd";this.H6=!1;this.name=E;this.dw=-1;this.sG=!1;this.a5=null;this.OS=null;
this.YW=null;this.$O=null;this.m=0;this.e=0;this.buffer=null;this.B=[];this.fO={};this.add={};this.v0=[];
this.tM={};this.rW=4;this.Hj=null;this.$c=72;this.Or={};this.g=[];this.oc=[];this.C2=!1;this.Cv=[];this.eg=[];
this.gA=[cc.u7("Work Path")];this.zG=[];this.RT=null;this.$k={classID:"CompList",list:{t:"VlLs",v:[]}};
this.BZ=[];this.NC=[];this.PH=[];this.root=null;this.to=null;this.kc=!1;this.ah3=!1;this.a42=!1;this.Y_=!1;
this.zr=!1;this.Ea=!1;this.hb=!1;this.ac=!1;this.QZ=!1;this.__=!1;this.Nd=null;this.io=null;this.i=null;
this.cB=[];this.dL=[];this.N={r9:{},AX:[],s$:[],J_:[],cj:[],_I:[],Aq:null,Vq:null,zm:null,d2:null,Jb:null,dS:null,yZ:[],Wi:[],Os:null};
this.history=[new fN([1,0],null)];this.PT=0;this.xM=0;this.a4=0;this.xE=0;this.Q=new ba(this);this.qa=null;
this.We=null}cc.prototype.Cr=function(E){if(E){if(E.length==30240){this.Cr(null);return}this.fO.r1039=E;
var y=ICC.R(E.buffer),p=null,H=17,b,k;if(y==null){this.Cr(null);return}var c=y.header.spaceIn.toLowerCase(),e=JSON.stringify(y.tags.desc).toLowerCase();
try{p=ICC.U.profileName(y)}catch(b4){}if(c!="rgb "||p==null||e.indexOf("srgb")!=-1||c=="rgb "&&this.add.fcmy==1){this.Cr(null);
return}console.log("We got an ICC profile!",y,p);try{var Z=ICC.U.sampleLUT(y,H)}catch(b4){this.Cr(null);
return}var X=Z.slice(0),D=d.R(4),j=d.EI("rgbToRgbC"),g=j[2],R=j[3];for(var N=0;N<Z.length;N+=3){D[0]=Z[N]*255;
D[1]=Z[N+1]*255;D[2]=Z[N+2]*255;ICC.U.applyLUT(R,g,D,D);X[N]=D[0]/255;X[N+1]=D[1]/255;X[N+2]=D[2]/255}if(h0.Lq){b=new h0.Ay(H,H*H);
b.set(ICC.U.lutToRGBA8(Z,H));k=new h0.Ay(H,H*H);k.set(ICC.U.lutToRGBA8(X,H))}this.qa=[E,y,H,Z,b,X,k]}else{delete this.fO.r1039;
this.qa=null}};cc.prototype.cZ=function(){return this.qa};cc.prototype.Xj=function(){if(this.qa)return this.qa;
if(this.add.fcmy==1){if(this.We==null){var E=d.EI("rgbToRgbC"),y=E[2],c=E[3],e;if(h0.Lq){e=new h0.Ay(y,y*y);
e.set(ICC.U.lutToRGBA8(c,y))}this.We=[null,null,y,null,null,c,e]}return this.We}};cc.prototype.arE=function(){var E=this;
if(E.Q.V.join("")!="111"){E.Q.V=[1,1,1];E.Ea=!0}for(var N=0;N<E.B.length;N++){var y=E.B[N],c=y.add.vmsk;
if(y.p3()){var e=y.kP(E);if(e&&e.F&&e.F.bY){e.F.bY=!1;E.Ea=!0}}var p=y.Nb();if(p&&p.bY){p.bY=!1;E.Ea=!0}if(c){if(c.g.length!=0)c.g=[];
if(c.bH.length!=0)c.bH=[]}}};cc.prototype.vn=function(){var E=this;return E.i!=null||E.sA()[1].length!=0||E.g.length>1};
cc.prototype.Tp=function(){var E=this.oc,y=[];for(var N=0;N<E.length;N++)y[N]=-1;var c=this.root.children;
for(var N=0;N<c.length;N++){var e=c[N],p=e.a.add.artb;if(p==null)continue;var H=p.guideIndeces;H=H?H.v:[];
for(var Z=0;Z<H.length;Z++)y[H[Z].v]=e.index}return[JSON.parse(JSON.stringify(E)),y]};cc.prototype.Z5=function(E){this.oc=JSON.parse(JSON.stringify(E[0]));
var y=E[1],c=this.root.children;for(var N=0;N<c.length;N++){var e=c[N],p=e.a.add.artb;if(p==null)continue;
p.guideIndeces={t:"VlLs",v:[]}}for(var N=0;N<y.length;N++)if(y[N]!=-1)this.B[y[N]].add.artb.guideIndeces.v.push({t:"long",v:N})};
cc.prototype.atH=function(E){var y=this;if(E[0])y.add.lnk2=E[0];else delete y.add.lnk2;if(E[1])y.add.FEid=E[1];
else delete y.add.FEid;if(E[2])y.add.Patt=E[2];else delete y.add.Patt};cc.prototype.aqC=function(E){var y=this,c=[],e=[],p=[],t=null,w=null,B=null;
for(var N=0;N<E.length;N++){var H=E[N];if(H.add.SoLd){c.push(H.add.SoLd.Idnt.v);e.push(H.add.SoLd.placed.v)}if(H.add.PtFl)p.push(H.add.PtFl.Ptrn.v.Idnt.v);
if(H.add.lmfx){for(var Z=0;Z<cb.zt.length;Z++){var X=H.add.lmfx[cb.zt[Z]].v;for(var b=0;b<X.length;b++)if(X[b].v.Ptrn){var k=X[b].v;
if(k.classID=="FrFX"&&k.PntT.v.FrFl!="Ptrn")continue;p.push(k.Ptrn.v.Idnt.v)}}}var D=H.add.vstk;if(D&&D.strokeStyleContent.v.classID=="patternLayer"){p.push(D.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var j=y.add.lnk2,g=y.add.FEid,R=y.add.Patt;
if(j){t=[];for(var N=0;N<j.length;N++)if(c.indexOf(j[N].pf)!=-1)t.push(j[N]);if(t.length==0)t=null}if(g){w=[];
for(var N=0;N<g.length;N++)if(e.indexOf(g[N].id)!=-1)w.push(g[N]);if(w.length==0)w=null}if(R){B=[];for(var N=0;
N<R.length;N++)if(p.indexOf(R[N].id)!=-1)B.push(R[N]);if(B.length==0)B=null}return[t,w,B]};cc.prototype.Qy=function(E){var y=this,c=y.root.f$(E==null?y.g[0]:E),e=!1;
while(c.parent!=null){e=e||c.a.H7(31);c=c.parent}return e};cc.prototype.xn=function(){var E=this.cB,y=this.cB.length;
if(y!=0&&E[y-1].name=="Quick Mask")return E[y-1]};cc.prototype.Ai=function(){return this.Nj==fp.m2("% |/!)")||this.Nj==fp.L_("gP")};
cc.prototype.Fy=function(E){var y=this.add.artd;if(E!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:E},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};cc.prototype.sV=function(E){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(E)==-1)this.add.FEid.push(E)};
cc.prototype.je=function(E){var y=this.add.FEid.indexOf(E);this.add.FEid.splice(y,1);if(this.add.FEid.length==0)delete this.add.FEid};
cc.prototype.W=function(E){if(E==null)E=new ir(0,0,this.m,this.e);if(this.Nd==null)this.Nd=E;else this.Nd=this.Nd.uN(E)};
cc.prototype.aD1=function(E){return this.Nd!=null};cc.prototype.Fd=function(E){var y=this.B[E],c=this.root.f$(E);
if(c==null)return!1;if(y.uY()||c.parent.children.indexOf(c)==0)return!1;return!0};cc.ap$=function(E){if(E.add.lnk2)for(var N=0;
N<E.add.lnk2.length;N++){var y=E.add.lnk2[N].pf;E.add.lnk2[N].pf=cc.Mw()+y.slice(8);for(var c=0;c<E.B.length;
c++){var e=E.B[c].add.SoLd;if(e&&e.Idnt.v==y)e.Idnt.v=E.add.lnk2[N].pf}}};cc.prototype.fc=function(E,y,c){E.sort(function(j,g){return j-g});
var top=E[E.length-1],e=this.B.slice(0),p=this.g.slice(0),H=[],Z=[];for(var N=0;N<this.B.length;N++){if(E.indexOf(N)!=-1)Z.push(this.B[N]);
else H.push(this.B[N])}this.vr(Z);this.g=[];var X=this.root.EK(this,!0);if(y)X=X.fr(y);if(c)X=X.uN(c);
if(X.tj())X=new ir(0,0,100,100);var b=new ir(-X.x,-X.y,this.m,this.e),k=new Uint8Array(iu.sF("PSD").Jv(this,0,0,[!0,!1]));
this.vr(e);this.g=p;var D=new cc(this.B[top].getName());iu.sF("PSD").cU(k.buffer,D);delete D.add.artd;
D.Cv=[];D.vr(D.B);D.Z5([[],[]]);cc.ap$(D);F.Et.cw(D,X);D.W();D._1();D.eA();return[D,X,H,top]};cc.prototype.ale=function(E,y,c){var e=this.fc(E),p=e[0],H=e[1],Z=e[2],top=e[3],X;
if(c=="jpg")X=new Uint8Array(iu.sF("JPG").Jv([[p.eA().buffer]],p.m,p.e,[80]));else X=new Uint8Array(iu.sF("PSD").Jv(p,null,null,[!0,!1]));
if(y)Z=this.B.slice(0);var b=this.np(X,p.name,H.x,H.y);if(top==this.B.length-1)Z.push(b);else Z.splice(y?top+1:top-E.length+1,0,b);
this.vr(Z);this.g=[Z.indexOf(b)]};cc.Mw=function(E){if(E==null)E="";var y="";while(y==""||y==E){y="";
for(var N=0;N<8;N++)y+=Math.floor(Math.random()*16).toString(16)}return y};cc.prototype.w4=function(E){if(E==null)return;
if(this.add.Patt==null)this.add.Patt=[];var y=this.add.Patt;for(var N=0;N<y.length;N++)if(y[N].id==E.id)return;
y.push(E)};cc.prototype.np=function(E,y,c,e,p,H,Z){if(this.add.lnk2==null)this.add.lnk2=[];var X=null;
for(var N=0;N<this.add.lnk2.length;N++)if(d.rT(E,this.add.lnk2[N].raw)){X=this.add.lnk2[N].pf;break}if(X==null){var b=iu.XS(E.buffer);
X=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f";var k=new jN.DE;k.pf=X;k.la=b=="psd"?"8BIM":"    ";k.gg=y+"."+b;
k.uC=b=="psd"?"8BPB":"    ";k.open=0;k.raw=E;k.type="liFD";k.D_=2;this.add.lnk2.push(k)}var D=this.oY(X,null,null,null,H,Z),j=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f",g=this.N8(),R=D?D.ed[1]:new ir;
g.v4(y);g.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:X},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:j},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:d.Bh.R(R)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:R.m},Hght:{t:"doub",v:R.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:D?D.$c:72}}};
var t=R.clone();if(c!=null)t.offset(c,e);if(D!=null&&p){var b=iu.XS(E.buffer),w=p.x,B=p.y,$=p.m,o=p.e;
t=D.ed[1].clone();t.offset(w+c,B+e);var T=T=this.$c/(b=="pdf"?144:D.$c?D.$c:this.$c);t.m=t.m*T;t.e=t.e*T;
var i=Math.max(t.m/$,t.e/o);if(i>1.0001){t.m=t.m/i;t.e=t.e/i}t.x=Math.round(w+($-t.m)/2);t.y=Math.round(B+(o-t.e)/2)}var r=d.A.S6(t).j;
g.add.SoLd.Trnf=F.Y.Zd(r);g.add.SoLd.nonAffineTransform=F.Y.Zd(r);if(D){if(p)g.an(this,!1);else if(aw==0){g.rect=t;
g.buffer=D.ed[0].slice(0)}}return g};cc.prototype.aBR=function(E,y,c){var e=d.FB(E,y);e.save();e.scale(E/this.m,y/this.e);
this.root.II(this,e,c,new ir(0,0,E,y));e.restore();return e.getImageData(0,0,E,y).data.buffer};cc.prototype.eA=function(E){if(E!=null){this.W();
this._1(E);var y=this.buffer;if(h0.Lq)this.to.get(y);else y=y.slice(0);this.W();this._1();return y}if(this.Nd){this._1();
this.Nd=null}if(h0.Lq&&this.io){this.to.get(this.buffer);this.io=null;this.hb=!0}return this.buffer};
cc.prototype.aeL=function(){for(var N=0;N<this.B.length;N++)this.B[N].aks();this.W()};cc.prototype.agD=function(){for(var N=0;
N<this.B.length;N++)if(this.B[N].add.lmfx)this.B[N].b_.sg=!0};cc.prototype.Xf=function(){var E=this.fO.r1044;
if(E==null){E=this.fO.r1044=new Uint8Array(4);var y=0;for(var N=0;N<this.B.length;N++)y=Math.max(y,this.B[N].add.lyid);
_.A$(E,0,y)}var c=_.q(E,0);_.A$(E,0,c+1);return c+1};cc.prototype.iR=function(E,y,c){if(E==null)E=!0;
var e=this;if(e.dL.length!=0)return!0;if(e.g.length!=1){if(E)alert(e.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Pa(E,y,c)};cc.prototype.Pa=function(E,y,c){if(E==null)E=!0;if(y==null)y=!1;var e=this;
if(e.dL.length!=0)return!0;for(var N=0;N<e.g.length;N++){var p=e.B[e.g[N]],H=y||p.p6<=0;if(p.add.lsct!=null&&p.add.lsct!=kl.Ha&&p.p6!=1){if(E)alert(i4.get([15,7,2]));
return!1}if(H&&!p.Gq()){if(E)alert(i4.get([15,7,2]));return!1}if(H&&p.add.TySh){return this.aqb(E,[15,7,3],c)}if(H&&p.add.SoLd){return this.aqb(E,[15,7,4],c)}if(p.H7(1)||e.Qy(e.g[N])){if(E)alert(i4.get([6,57,0]));
return!1}}return!0};cc.prototype.aqb=function(E,y,c){if(E&&typeof E=="object"){var e=new iU(S.E.M);e.data={d:S.H.Q5,ym:"confirm"};
e.data.b=i4.get(y)+". "+i4.get([6,8])+"?";var p=E;e.data.UT=function(){var H=new iU(S.E.on,!0);H.data={tT:"rasterizeLayer",hG:{classID:"rasterizeLayer",null:aW.G6("Lyr",!0)}};
p.T(H)};E.T(e);return!1}if(E)alert(i4.get(y));return!1};cc.prototype.a2z=function(E){var y=this.root.f$(E);
if(y.parent)return y.a.OQ()&&this.a2z(y.parent.index);else return y.a.OQ()};cc.prototype.Z1=function(E){var y=this;
if(E){var c=0;for(var N=0;N<y.g.length;N++)if(y.B[y.g[N]].add.artb)c++;if(c>1)return-1}if(y.add.artd&&y.g.length!=0){var e=y.root.f$(y.g[0]);
while(e.parent.parent)e=e.parent;if(e.a.add.artb)return e.index}return-1};cc.prototype.vI=function(){var E=this.Z1();
if(E!=-1){var y=this.B[E].fQ();return new eq(y.x,y.y)}return new eq(0,0)};cc.prototype.anC=function(){var E=this.B[this.g[0]];
if(E.p6<=0&&!E.rect.TF(this.i.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.i){var y=d.R(this.i.channel.length);
d.xN(E.buffer,E.rect,y,this.i.rect);d.Dk(this.i.channel,y);if(d.lN(y,0)){alert("Selected area is empty.");
return!1}}return!0};cc.prototype.Ac=function(){if(this.fO["r"+1037]==null)this.nZ(30);return _.$G(this.fO["r"+1037],0)};
cc.prototype.nZ=function(E){if(this.fO["r"+1037]==null)this.fO["r"+1037]=new Uint8Array(4);if(_.$G(this.fO["r"+1037],0)==E)return;
_.FV(this.fO["r"+1037],0,E);this.agD()};cc.prototype.FN=function(){if(this.fO["r"+1049]==null)this.YT(30);
return _.$G(this.fO["r"+1049],0)};cc.prototype.YT=function(E){if(this.fO["r"+1049]==null)this.fO["r"+1049]=new Uint8Array(4);
if(_.$G(this.fO["r"+1049],0)==E)return;_.FV(this.fO["r"+1049],0,E);this.agD()};cc.prototype.fB=function(E){if(this.add.lnk2==null)return null;
for(var N=0;N<this.add.lnk2.length;N++)if(this.add.lnk2[N].pf==E)return this.add.lnk2[N];return null};
cc.prototype.a9N=function(E){var y=this.fB(E);if(y==null)return!1;var c=iu.XS(y.raw.buffer);if(c==null)return!1;
if(iu.sF(c)!=null||c=="psd")return!0;return!1};cc.prototype.oY=function(E,y,c,e,p,H){var Z=this.fB(E);
if(Z==null)return null;Z.eA(y,c,e,p,H);if(Z.ed)return Z};cc.prototype.a8y=function(){var E=this.m,y=this.e;
if(h0.Lq&&this.to==null)this.to=new h0.Ay(E,y,!0);if(this.buffer==null||this.buffer.length!=E*y*4||h0.Lq&&(this.to.m!=E||this.to.e!=y)){this.buffer=d.R(E*y*4);
if(this.to)this.to.delete();if(h0.Lq)this.to=new h0.Ay(E,y,!0)}};cc.prototype.aeV=function(){this.a8y();
if(h0.Lq){this.to.set(this.buffer)}};cc.prototype._1=function(E){if(aw!=0)throw"redrawing in vector mode";
var y=this.m,c=this.e,e=new ir(0,0,y,c),p=this.sG?e:e.fr(this.Nd);this.a8y();if(p.tj())return;if(!p.rT(e)){if(!h0.Lq){var H=d.Lt(p.P()*4);
d.E6(H,p,this.buffer,e)}if(h0.Lq){h0.Lm(this.to,p);h0.QI(0)}}else{if(h0.Lq){this.to.set(null)}else{this.buffer.fill(0)}}var Z=Date.now(),X=h0.Lq?this.to:this.buffer;
if(E==null)E=1e9;var b=this.root.children;for(var N=0;N<b.length;N++){var k=b[N].a;if(k.OQ()&&k.add.artb&&this.add.artd){var D=k.fQ(),j=p.fr(D),g=k.$g();
if(g!=0){if(h0.Lq){h0.Lm(X,j);h0.QI(g);h0.QI(g)}else d.ark(X,e,j,g)}}}this.root.u_(X,e,p,this,[],E);
this.io=this.Nd.clone()};cc.prototype.N8=function(E){var y=new jN;y.rect=new ir(0,0,0,0);y.buffer=d.R(1);
y.add.luni=new eq(0,0);if(E!=!0)y.add.lyid=this.Xf();y.add.lsct=kl.Ha;y.add.lclr=0;y.add.fxrp=new eq(0,0);
return y};cc.prototype.eM=function(E){var y=this.N8(E);y.v4("</Layer group>");y.add.lsct=kl.vp;y.Gc=24;
return y};cc.prototype.LP=function(){return this.PT!=this.xM};cc.prototype.QY=function(E){while(this.history.length>this.PT+1)this.history.pop();
if(this.xM>this.PT)this.xM=-1;if(E.f.id!=F.ug){this.Y_=!0;if(this.$k.lastAppliedComp){delete this.$k.lastAppliedComp;
this.hb=!0}}this.history.push(E);this.PT++;this.hb=!0;var y=b4.qc()?60:30,c=0;for(var N=this.history.length-1;
N>=0;N--){var e=this.history[N];if(e.gu)continue;c++;if(c==y){this.PT-=N;this.history=this.history.slice(N);
break}}};cc.prototype.f6=function(){if(this.PT!=this.history.length-1)return null;return this.history[this.history.length-1]};
cc.prototype.G$=function(E,y,c,e){if(E==null)E=!1;var p=y!=null?[y]:this.g.slice(0);if(e){var H=[];for(var N=0;
N<p.length;N++){var Z=this.B[p[N]],X=Z.Y5;if(Z.E0&&X!=0&&H.indexOf(X)==-1)H.push(X)}if(H.length!=0)for(var N=0;
N<this.B.length;N++){var Z=this.B[N],X=Z.Y5;if(Z.E0&&X!=0&&H.indexOf(X)!=-1&&p.indexOf(N)==-1)p.push(N)}}var b=[];
for(var N=0;N<p.length;N++){var k=this.Mk(p[N],E);for(var D=0;D<k.length;D++)if(b.indexOf(k[D])==-1)b.push(k[D]);
if(c){var j1=this.root.f$(p[N]);while(j1.parent!=null&&j1.parent.parent!=null){j1=j1.parent;if(b.indexOf(j1.index)==-1){b.push(j1.index,j1.qM)}}}}return b};
cc.prototype.DC=function(E,y,c){var e=this,p=e.G$(!1,E,null,c);p.sort(function(T,i){return T-i});var H={};
for(var Z=0;Z<e.B.length;Z++){var X=e.B[Z].getName();H[X]=!0}var b=[];for(var N=0;N<p.length;N++){var k=e.B[p[N]].clone(),B,$;
k.add.lyid=e.Xf();k.add.lspf=0;if(k.p3()){var D=k.kP(e),j=cc.apz(D);e.sV(j);k.add.SoLd.placed.v=j.id}else if(k.add.SoLd){var g=k.add.SoLd.placed.v;
k.add.SoLd.placed.v=cc.Mw(g.slice(0,8))+g.slice(8)}k.fP(e);var R=k.getName(),t=R.length;while(48<=R.charCodeAt(t-1)&&R.charCodeAt(t-1)<=57)t--;
var w=parseInt(R.slice(t));if(isNaN(w)){if(R.endsWith(" copy")){w=1;B=R.slice(0,R.length-5)}else{w=0;
B=R}}else if(R.slice(0,t).endsWith(" copy ")){w=w;B=R.slice(0,t-6)}else{w=0;B=R}w++;while(!0){$=B+" copy"+(w==1?"":" "+w);
if(H[$]==null)break;w++}var o=p.indexOf(this.root.f$(p[N]).parent.index)!=-1;if(R=="Background"&&e.B.length==1)$="Layer 1";
if(y!=!0&&!o)k.v4($);H[$]=!0;b.push(k)}return b};cc.apz=function(E){return{id:cc.Mw(E.id.slice(0,8))+E.id.slice(8),buffer:E.buffer.slice(0),rect:E.rect.clone(),F:E.F?E.F.clone():null}};
cc.aBa=function(E){return{id:E,rect:new ir,buffer:d.R(1),F:new jN.W$}};cc.u7=function(E,y){if(y==null)y={vmsk:new jN.pU};
if(y.vogk==null){y.vogk=[];var c=d.o.a0(y.vmsk.X);for(var e=0;e<c;e++)y.vogk.push(d.gM.Lt())}return{name:E,h2:0,add:y}};
cc.prototype.sA=function(E){var y=[],c=[],e=this;for(var N=1;N<e.gA.length;N++){var p=e.gA[N];p.h2=-1-N;
y.push(p);if(e.zG.indexOf(N)!=-1)c.push(y.length-1)}if(e.gA[0].add.vmsk.X.length>2){var p=e.gA[0];p.h2=-1;
y.push(p);if(e.zG.indexOf(0)!=-1)c.push(y.length-1)}var H=e.RT==null;if(H)e.RT=[];for(var N=e.g.length-1;
N>=0;N--){var Z=e.g[N],X=e.B[Z],b=X.add.TySh;if(X.add.vmsk!=null){var p=cc.u7("\""+X.getName()+"\" Shape Path",X.add);
p.h2=Z;y.push(p);if(H&&(X.EL||X.iU()))e.RT.push(Z);if(e.RT.indexOf(Z)!=-1)c.push(y.length-1)}if(E!=!0&&b&&b.add&&d.Bh.Mi(b.RO)){var p=cc.u7("\""+X.getName().slice(0,10)+"..\" Text Path",b.add);
p.h2=1e6+e.g[N];y.push(p);c.push(y.length-1)}}if(c.length==0&&E){e.gA[0].h2=-1;e.zG=[0];c.push(y.length);
y.push(e.gA[0])}return[y,c]};cc.prototype.Mk=function(N,E){var y=[],j1=this.root.f$(N);if(j1)j1.YA(y,E);
return y};cc.prototype.RD=function(){this.root.y_(this,new ir(0,0,this.m,this.e))};cc.prototype.vr=function(E){for(var N=0;
N<this.B.length;N++){var y=this.B[N];if(E.indexOf(y)==-1){y.b_.aqG();y.W()}}var c=0;for(var N=0;N<E.length;
N++)if(E[N].add.artb)c++;this.Fy(c);this.B=E.slice(0);this.RH()};cc.prototype.RH=function(){var E=this.B,y=E.length;
this.root=new bV;var c=this.N8(!0);c.ur="pass";c.add.lsct=kl.Sh;c.v4("");var e=this.eM(!0),p=[e];for(var N=0;
N<y;N++)p.push(E[N]);p.push(c);this.root.a9L(p,0,0);if(this.g.length==0)this.g=[y-1]};cc.prototype.BJ=function(){if(this.g.length!=1)return;
var E=this.root.f$(this.g[0]);while(E.parent!=null){var y=E.parent.a;y.add.lsct=kl.Sh;E=E.parent}this.Ea=this.a70=!0};
cc.prototype.atA=function(){this.RH();var E=[this.root],h$=0;while(E.length!=0){var top=E.pop();h$++;
if(top.a.add.lsct==kl.Sh)for(var N=0;N<top.children.length;N++)E.push(top.children[N])}if(h$>1e3){var y=this.root.children;
for(var N=0;N<y.length;N++)if(y[N].a.add.lsct==kl.Sh)y[N].a.add.lsct=kl.ze}};cc.jP=function(E,y,c,e,p,H,Z,X){if(X==null)X="sRGB IEC61966-2.1";
var b={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:e},artboard:{t:"bool",v:H},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:E*72/c}},Hght:{t:"UntF",v:{type:"#Rlt",val:y*72/c}},Rslt:{t:"UntF",v:{type:"#Rsl",val:c}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:p}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:X}}}};
if(p=="Clr")b.Nw.v.FlCl={t:"Objc",v:Z};return{tT:"make",hG:b}};cc.a6R=function(E,y){var c=0,e=0,p=72,H=y.a30,Z=E.preset&&E.preset.v=="Clipboard";
if(Z){c=H.m;e=H.e}else{c=E.Wdth.v.val;e=E.Hght.v.val;p=E.Rslt.v.val;c=Math.round(c*p/72);e=Math.round(e*p/72)}var X=new cc((E.Nm?E.Nm.v:i4.get([11,7]))+".psd");
X.m=c;X.e=e;X.$c=p;var b=E.Fl?E.Fl.v.Fl:"Wht";if(E.artboard&&E.artboard.v){var k=X.N8();k.v4(i4.get([1,16,0])+" 1");
k.add.lsct=kl.Sh;k.ix(new ir(0,0,c,e));k.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[b]};
if(b=="Clr")k.add.artb.Clr={t:"Objc",v:d.L.hp(d.L.yd(E.FlCl.v))};k.ur="pass";k.Gc=24;var D=X.N8();D.v4("Layer 1");
X.vr([X.eM(),D,k]);X.Fy(1);X.g=[1]}else{var j=X.N8(),g=0;j.v4("Background");X.vr([j]);j.add.lspf=1<<2;
if(b=="Clr"){g=d.L.yd(E.FlCl.v);g=255<<24|Math.round(g.J)<<16|Math.round(g.D)<<8|Math.round(g.Z)}else{var R=y.YO;
R=(R&255)<<16|(R>>>8&255)<<8|R>>>16;g={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|R}[b]}j.rect=new ir(0,0,c,e);
j.buffer=d.R(c*e*4);d.KT(j.buffer,g)}X.buffer=d.R(c*e*4);var t=E.profile;if(t){var w={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[t.v];
if(w)X.Cr(iu.UO.get(w))}return X};cc.prototype.a3c=function(){var E=this,y=E.add.arts=[];if(E.add.artd){delete E.add.artd;
for(var N=0;N<E.B.length;N++){var c=E.B[N],e=c.add.artb;if(e==null)continue;var p=c.fQ();delete c.add.artb;
y.push({p2:c.getName(),Mj:[p.x,p.y,p.x+p.m,p.y+p.e],g:!1})}}else y.push({p2:"Artboard",Mj:[0,0,E.m,E.e],g:!1});
if(E.buffer)E.buffer=null;for(var N=0;N<E.B.length;N++){var c=E.B[N],p=c.rect;if(c.uY()&&c.add.vmsk){var H=E.N8();
E.B.splice(N,0,H);H.v4("<Clipping Path>");H.ew=!0;H.add.vogk=c.add.vogk;delete c.add.vogk;H.add.vmsk=c.add.vmsk;
delete c.add.vmsk;H.add.vstk=cb.CY.TL();H.add.SoCo=JSON.parse(cb.Dn[cb.order.indexOf("SoFi")]);H.add.vstl={};
console.log("mask here!")}else if(c.iU()&&c.add.vstl==null){var Z=c.add.vstl=cc.ab8(c.add)}if(c.add.SoLd||c.add.TySh||c.add.vmsk||p.tj())continue;
var X=p.m,b=p.e,k=d.$S(c.buffer,X,b)?"JPG":"PNG";if(X*b<700*700)k="PNG";var D=iu.sF(k).Jv([[c.buffer.buffer]],X,b);
E.B[N]=E.np(new Uint8Array(D),"<Image>",0,0)}};cc.ab8=function(E){var y=cb.CY.pl(E.vstk),c=cb.uX(E),e=cb.g4(E.vstk);
for(var p=0;p<2;p++){var H=p==0?c:e,Z=null;if(H.uC==1)Z=fs.Ct(H.f3.Clr.v);if(H.uC==2){Z=dd.q5(H.f3,d.o.L$(E.vmsk.X));
if(E._fstl)Z=E._fstl}if(p==0)y.gl=Z;else y.Rl=Z}return y};function ba(E){this.cX=E;this.O=0;this.$H=1;
this.z=new eq(0,0);this.Qn=new eq(0,0);this.fb=0;this.V=[1,1,1];this.w2=0;this.tP=new ir(0,0,1,1);this.a4R=new ir(0,0,E.m,E.e);
this.ZC=null;this.ay=null;this.Vb=new Uint32Array(0);this.um=null;this._E=null;this.mO=d.R(0);this.qJ=null;
this.M4=null}ba.prototype.GM=function(E){var y=new jr,c=this.tP,e=this.cX,p=E?this.$H:this.O,H=E?this.Qn:this.z,Z=Math.round((c.m-e.m*p)/2+H.x),X=Math.round((c.e-e.e*p)/2+H.y);
y.translate(-Z,-X);y.scale(1/p,1/p);var b=e.m/2,k=e.e/2;y.translate(-b,-k);y.rotate(this.fb);y.translate(b,k);
return y};ba.prototype.axn=function(E){var y=this.tP,c=this.cX,e=Math.atan2(-E.J,E.U),p=c.m/2,H=c.e/2;
E.translate(-p,-H);E.rotate(-e);E.translate(p,H);var Z=1/E.ul();E.scale(Z,Z);var X=-E.Kc,b=-E.Dm,k=Math.round(X-(y.m-c.m*Z)/2),D=Math.round(b-(y.e-c.e*Z)/2);
if(Math.abs(Z-Math.round(Z))<1e-6)Z=Math.round(Z);this.fb=e;this.O=Z;this.z=new eq(k,D)};ba.prototype.GV=function(E,y,c){var e=this.GM(),p=e.dl(new eq(E,y));
if(c){p.x=Math.round(p.x);p.y=Math.round(p.y)}return p};ba.prototype.qW=function(E,y){var c=this.GM();
c.Ub();return c.dl(new eq(E,y))};function cb(){}cb.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
cb.zt="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
cb.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];cb.ad6=["DrSh","IrSh","SoFi","GrFl","FrFX"];
cb.nM=["Clr"];cb.Bm="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");cb.Z0=["Ptrn","Angl","Scl","Algn","phase"];
cb.Wy={BS:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",alQ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aq9:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aBj:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",gn:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
cb.Wy.BS="\"Clr\": "+cb.Wy.BS;cb.Wy.L="\"Grad\":"+cb.Wy.alQ+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
cb.Wy.gn="\"Ptrn\":"+cb.Wy.gn+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
cb.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
cb.Dn=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+cb.Wy.BS+","+cb.Wy.L+","+cb.Wy.gn+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cb.Wy.BS+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cb.Wy.L+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cb.Wy.gn+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
cb.L={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
cb.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],eo:["SClr","GrFl","Ptrn"],ak7:[[13,0],[12,37],[12,62]]};
cb._u={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],a17:["SrcC","SrcE"],a3j:[[19,5,1],[12,69]]};cb.J9={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a82:["SfBL","PrBL","Slmt"],aan:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
cb.CY={sj:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],FC:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],gV:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+cb.Wy.BS+"}")},strokeStyleResolution:{t:"doub",v:72}},TL:function(E,y){var c=JSON.parse(cb.CY.a5J);
if(E)c.fillEnabled.v=!0;if(y)c.strokeEnabled.v=!0;return c},pl:function(E,y,c){if(y==null)y={};if(c==null)c=1;
var e=E.strokeStyleLineDashSet.v,p=y.IE=E.strokeStyleLineWidth.v.val*c;y.Xb=E.strokeStyleMiterLimit.v;
y.Yt=E.strokeStyleLineDashOffset.v.val;y.nh=cb.CY.join.indexOf(E.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
y.vh=cb.CY.sj.indexOf(E.strokeStyleLineCapType.v.strokeStyleLineCapType);y.xF=cb.CY.FC.indexOf(E.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
y.hC=[];for(var N=0;N<e.length;N++)y.hC.push(e[N].v.val*p);if(y.hC.length==1&&y.hC[0]==0)y.hC=[];return y},write:function(E,y,c){if(c==null)c=1;
var e=y.IE,p=y.Xb,H=y.hC,Z=y.Yt,X=y.nh,b=y.vh;if(e!=null)e=E.strokeStyleLineWidth.v.val=Math.max(.4,e*c);
else e=E.strokeStyleLineWidth.v.val;if(p!=null)E.strokeStyleMiterLimit.v=p;if(H!=null)E.strokeStyleLineDashSet.v=hA.RV(H,c/e);
if(Z!=null)E.strokeStyleLineDashOffset.v.val=Z;if(X!=null)E.strokeStyleLineJoinType.v.strokeStyleLineJoinType=cb.CY.join[X];
if(b!=null)E.strokeStyleLineCapType.v.strokeStyleLineCapType=cb.CY.sj[b]}};cb.CY.a5J=JSON.stringify(cb.CY.default);
cb.WF={TL:function(){return{gl:[1,1,1],Rl:[0,0,0],IE:1,Xb:0,hC:[],Yt:0,nh:0,vh:0,xF:1}}};cb.g4=function(E){var y=E.strokeEnabled.v,c=E.strokeStyleContent.v;
return y?{uC:1+cb.CY.gV.indexOf(c.classID),f3:c}:{uC:0}};cb.IN=function(E,y){var c=y.uC;E.strokeEnabled.v=c!=0;
if(c!=0){E.strokeStyleContent.v=y.f3;y.f3.classID=cb.CY.gV[c-1]}};cb.uX=function(E){var y=E.vstk,c=null;
if(y&&!y.fillEnabled.v)c={uC:0};else if(E.SoCo)c={uC:1,f3:E.SoCo};else if(E.GdFl)c={uC:2,f3:E.GdFl};
else if(E.PtFl)c={uC:3,f3:E.PtFl};return c};cb.z1=function(E,y){var c=E.vmsk,e=E.vstk,p=y.uC;if(e)e.fillEnabled.v=p!=0;
if(p>0){var H=["SoCo","GdFl","PtFl"][p-1];for(var N=0;N<3;N++)delete E[["SoCo","GdFl","PtFl"][N]];E[H]=y.f3}};
cb.Xz=[{classID:"null",Clr:JSON.parse(cb.Dn[5]).Clr},{classID:"null",Grad:JSON.parse(cb.Dn[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(cb.Dn[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var hA={};hA.hc=function(E,y){function c(E,g){if(E==null||!E.masterFXSwitch.v)return null;var R=E[g].v,t;
if(R.length!=0){t=R[0].v;if(!t.enab.v)t=null}return t}var e=y.SoCo,p=y.GdFl,H=c(E,"solidFillMulti"),Z=c(E,"gradientFillMulti");
if(H==null&&Z==null)return[e,p];var X=hA.axa;if(e&&H&&Z==null){var b=JSON.parse(JSON.stringify(e));b.Clr.v=X(H.Clr.v,e.Clr.v,H);
return[b,null]}if(p&&H&&Z==null){var k=JSON.parse(JSON.stringify(p)),D=k.Grad.v.Clrs.v;for(var N=0;N<D.length;
N++){var j=D[N].v.Clr;j.v=X(H.Clr.v,j.v,H)}return[null,k]}if(e&&Z){var k=JSON.parse(JSON.stringify(Z)),D=k.Grad.v.Clrs.v;
for(var N=0;N<D.length;N++){var j=D[N].v.Clr;j.v=X(j.v,e.Clr.v,Z)}return[null,k]}return[H,Z]};hA.by={cx:d.R(4),Kw:d.R(4),Z:new ir(0,0,1,1)};
hA.axa=function(E,y,c){var e=cg.RI(c.Md.v.BlnM),p=c.Opct.v.val/100,H=hA.by;E=d.L.yd(E);y=d.L.yd(y);H.cx[0]=E.Z;
H.cx[1]=E.D;H.cx[2]=E.J;H.cx[3]=255;H.Kw[0]=y.Z;H.Kw[1]=y.D;H.Kw[2]=y.J;H.Kw[3]=255;d.l.Io(e,H.cx,H.Z,H.Kw,H.Z,H.Z,p);
return{classID:"RGBC",Rd:{t:"doub",v:H.Kw[0]},Grn:{t:"doub",v:H.Kw[1]},Bl:{t:"doub",v:H.Kw[2]}}};hA.akX=function(E,y,c){var e=E;
E=E.slice(0);var p=cg.Fn[cg.Y1.indexOf(y.Md.v.BlnM)],H=d.L.yd(y.Clr.v),Z=4278190080|Math.round(H.J)<<16|Math.round(H.D)<<8|Math.round(H.Z),X=d.R(c.P()*4);
d.KT(X,Z);d.l.Io(p,X,c,E,c,c,y.Opct.v.val/100);for(var N=0;N<E.length;N+=4)E[N+3]=e[N+3];return E};hA.Yv=function(E,y){var c=["Sz","blur","Sftn","Dstn"];
for(var N=0;N<cb.order.length;N++){var e=cb.order[N],p=E[cb.zt[N]].v;for(var H=0;H<p.length;H++){var Z=p[H].v;
for(var X=0;X<c.length;X++){var b=Z[c[X]];if(b){var k=b.v.val,D=k;D=Math.max(k==0?0:1,D*y);if(e=="ChFX")D=Math.min(D,250);
if(e=="ebbl"){if(c[X]=="blur")D=Math.min(D,250);if(c[X]=="Sftn")D=Math.min(D,16)}b.v.val=Math.round(D)}}if(e=="ebbl"||e=="patternFill"||e=="FrFX")if(Z.Ptrn&&Z.Scl)Z.Scl.v.val=Math.max(1,Math.min(1e3,Z.Scl.v.val*y))}}};
hA.ac1=function(E,y,c){var e=new ir(-.5,-.5,1,1);for(var N=0;N<cb.order.length;N++){var p=cb.order[N],H=E[cb.zt[N]].v;
for(var Z=0;Z<H.length;Z++){var X=H[Z].v,j;if(!X.enab.v)continue;var b=X.blur?X.blur.v.val+1:0,k=X.Ckmt?X.Ckmt.v.val/100:0,D=Math.round(b*k);
if(p=="DrSh"||p=="IrSh"&&c){j=new ir(-.5,-.5,1,1);j.r4(b,b);hA.ck(j,X,y,0)}if(p=="St3D"){j=new ir(-.5,-.5,1,1);
hA.ck(j,X,y,Math.PI,"Angl")}if(p=="OrGl"||p=="IrGl"&&c){j=new ir(-.5,-.5,1,1);j.r4(b,b)}if(p=="FrFX"){var g=hA.pF(X),R=g[1];
if(c)R=Math.max(g[0],R);j=new ir(-.5,-.5,1,1);j.r4(Math.ceil(R),Math.ceil(R))}if(p=="ebbl"){var b=X.blur.v.val,t=X.bvlS.v.BESl;
if(t=="Embs"||t=="PlEb")b/=2;var w=["OtrB","InrB","Embs","PlEb","strokeEmboss"],B=["SfBL","PrBL","Slmt"],$=["In","Out"],o=X.bvlT.v.bvlT!="SfBL"?b:b*.43,T=Math.round(b);
j=new ir(-T-1,-T-1,2*T+2,2*T+2)}if(c&&p=="ChFX"){j=new ir(-.5,-.5,1,1);j.r4(b,b);var i=j.clone();hA.ck(j,X,y,0);
hA.ck(i,X,y,Math.PI);j=j.uN(i)}if(j)e=e.uN(j)}}if(e.x!=Math.ceil(e.x)){e.x=Math.ceil(e.x);e.m-=1}if(e.y!=Math.ceil(e.y)){e.y=Math.ceil(e.y);
e.e-=1}e.m=Math.floor(e.m);e.e=Math.floor(e.e);return e};hA.pF=function(E){var y,c,e=0,p=0;if(E.Sz){y=E.Sz.v.val;
c=cb.stroke.types.indexOf(E.Styl.v.FStl)}else{y=E.Wdth.v;c=["Insd","Cntr","Otsd"].indexOf(E.Lctn.v.StrL)}if(c==0)e=y;
if(c==1)e=p=y/2;if(c==2)p=y;return[e,p]};hA.ajb=function(E){if(h0.Lq&&E.wg==null){E.wg=new h0.Ay(E.Z_.m,E.Z_.e);
E.wg.set(E.bb);delete E.bb;if(E.kB){E.Yb=new h0.N7(E.Z_.m,E.Z_.e);E.Yb.set(E.kB);delete E.kB}if(E.WG){E.qF=new h0.N7(E.Z_.m,E.Z_.e);
E.qF.set(E.WG);delete E.WG}}};hA.aDV=function(E){if(E.wg)E.wg.delete();if(E.Yb)E.Yb.delete();if(E.qF)E.qF.delete()};
hA.aDX=function(E){if(E.all==null)return;for(var N=0;N<E.all.length;N++){hA.aDV(E.all[N])}};hA.ajH=function(E,y,c,e,p,H){var Z=hA.bx(c,e,E,y,p,H);
for(var N=0;N<Z.all.length;N++)hA.ajb(Z.all[N]);return Z};hA.a01=function(E){for(var N=0;N<cb.order.length;
N++){var y=cb.order[N],c=cb.zt[N],e=E[c].v;for(var p=0;p<e.length;p++){var H=e[p].v;if(H.enab.v&&["patternFill","GrFl","SoFi"].indexOf(y)==-1)return!0}}return!1};
hA.bx=function(E,y,c,e,p,H){if(H==null)H=e;var Z=0,X=0;for(var N=0;N<cb.order.length;N++){var b=cb.order[N],k=cb.zt[N],D=E[k].v;
for(var j=0;j<D.length;j++){var g=D[j].v;if(b=="DrSh"&&g.enab.v&&g.Ckmt.v.val>0&&g.blur.v.val>0)Z=Math.max(Z,Math.ceil(g.Ckmt.v.val*g.blur.v.val/100));
if(b=="OrGl"&&g.enab.v&&g.Ckmt.v.val>0&&g.blur.v.val>0&&g.GlwT.v.BETE=="SfBL")Z=Math.max(Z,Math.ceil(g.Ckmt.v.val*g.blur.v.val/100));
if(b=="OrGl"&&g.enab.v&&g.blur.v.val>0&&g.GlwT.v.BETE=="PrBL")Z=Math.max(Z,g.blur.v.val);if(b=="FrFX"&&g.enab.v&&g.Sz.v.val>0){if(g.Styl.v.FStl=="OutF")Z=Math.max(Z,g.Sz.v.val);
if(g.Styl.v.FStl=="CtrF")Z=Math.max(Z,Math.ceil(g.Sz.v.val/2));X=Math.max(X,hA.pF(g)[1])}}}var R=new hA.el(c,e,Z,hA.a01(E)),t=-e.x,w=-e.y,B={type:{},all:[]};
for(var $=0;$<cb.order.length;$++){var b=cb.order[$],k=cb.zt[$];B.type[b]=[];for(var o=E[k].v.length-1;
o>=0;o--){var T=E[k].v[o].v,M;if(!T.enab.v)continue;var i=T.blur?T.blur.v.val:0,r=T.Ckmt?T.Ckmt.v.val/100:0,I=i*r;
if(b=="St3D"){var J=Math.max(1e-4,1-T.Srnk.v.val/100),C=2,jF=0;function P(n,kd,T){var ai=T.Angl.v.val;
ai*=Math.PI/180;var a=T.Dstn.v.val,cV=Math.cos(ai)*a,aI=-Math.sin(ai)*a,fR=J+kd*(1-J),dn=new jr;dn.translate(-n.m/2,-n.e/2);
dn.scale(fR,fR);dn.translate(n.m/2,n.e/2);dn.translate((1-kd)*cV,(1-kd)*aI);return dn}var n=e.clone(),x=c;
n.x=n.y=0;var L=Date.now(),u=n.clone();u.r4(C,C);var h=d.R(u.P());d.kh(x,n,h,u);u.x=u.y=0;d.gC.VI(h,h,u,2);
var A=d.R(u.P()*4);A.fill(255);d.Q9(h,A);var W=d.R(n.P()),Q=n.m,l=n.e,O=u.m,z=hA.aij(T,p),a=Math.cos(z[1]),m=-Math.cos(z[0])*a,q=Math.sin(z[0])*a;
if(Math.abs(m)<.001&&Math.abs(q)<.001)m=q=0;for(var K=0;K<l;K++)for(var U=0;U<Q;U++){var N=(K+C)*O+U+C,f=h[N+1]-h[N-1],Y=h[N+O]-h[N-O],G=f*f+Y*Y;
if(G>10){var V=1/Math.sqrt(G);W[K*Q+U]=Math.max(0,Math.min(255,128+127*(m*V*f+q*V*Y)))}}var dF=[x,n],s=P(n,0,T),aH=d.A.S6(n).j,dw=aH.slice(0);
d.A.u(aH,s,dw);var kO=n.uN(d.A.xv(dw)),hX=d.R(kO.P()*4);for(var N=0;N<8;N+=2){var f=aH[N]-dw[N],Y=aH[N+1]-dw[N+1];
jF=Math.max(jF,Math.sqrt(f*f+Y*Y))}var gn=Math.round(jF/2),hM=d.L.yd(T.Clr.v);hM.Z/=255;hM.D/=255;hM.J/=255;
var ie=T.Drkn.v.val/100;for(var bN=0;bN<gn;bN++){var kd=bN/gn,i7=1-ie+kd*ie,dn=P(n,kd,T),ew=n.clone(),e4=x;
if(J!=1){var eE=F.Y.OL(dF,dn);ew=eE.rect;e4=eE.channel}else{var jc=dn.dl(new eq(0,0));ew.x+=Math.round(jc.x);
ew.y+=Math.round(jc.y)}var ft=d.R(ew.P()*4);if(m!=0||q!=0){var bd=ew.m,iB=ew.e,cG=hM.Z,bT=hM.D,g$=hM.J,hU=dn.clone();
hU.Ub();var ah=hU.dl(new eq(.5,.5)),co=hU.dl(new eq(1.5,1.5)),f=co.x-ah.x,Y=co.y-ah.y;for(var K=0;K<iB;
K++){for(var U=0;U<bd;U++){var N=K*bd+U,im=N*4,hb=Math.max(0,Math.min(Q-1,~~(.5+f*U))),dI=Math.max(0,Math.min(l-1,~~(.5+Y*K))),bw=W[dI*Q+hb],fb=-1+2*bw*(1/255),iG=-fb,dy=0;
if(fb>0){iG=0;dy=fb}ft[im]=255*(1-iG)*(dy+(1-dy)*cG)*i7;ft[im+1]=255*(1-iG)*(dy+(1-dy)*bT)*i7;ft[im+2]=255*(1-iG)*(dy+(1-dy)*g$)*i7}}}else hA.TW(ft,T.Clr.v,null,i7);
d.Og(e4,ft,3);d.l.Io("norm",ft,ew,hX,kO,ew,1)}M={bb:hX,Z_:kO}}else if(b=="DrSh"){var kp=R.op(I,i-I,!0),gw=kp.A_,dR=kp.k4.clone();
hA.V6(gw,T,!1);if(T.Cntn&&T.Cntn.v){var fT=new ir;hA.ck(fT,T,p,0);var gA=dR.clone();gA.offset(-fT.x,-fT.y);
gA=gA.uN(dR);var by=d.R(gA.P());d.kh(gw,dR,by,gA);var fv=Math.sqrt(fT.x*fT.x+fT.y*fT.y),d4=gw.slice(0);
for(var N=0;N<fv-1;N++){var f=Math.round(-fT.x*N/fv),Y=Math.round(-fT.y*N/fv),fg=kp.k4.clone();fg.offset(f,Y);
d.a7w(d4,fg,by,gA)}gw=by;dR=gA}dR.offset(t,w);hA.ck(dR,T,p,0);var hX=d.R(dR.P()*4);hA.TW(hX,T.Clr.v);
d.Og(gw,hX,3);M={bb:hX,Z_:dR,abr:T.layerConceals.v}}else if(b=="IrSh"){var kp=R.op(I,i-I,!1);hA.ck(kp.k4,T,p,0);
var dR=R.rect().clone(),gw=d.R(dR.P());gw.fill(255);d.kh(kp.A_,kp.k4,gw,dR);hA.V6(gw,T,!0,!0);var hX=d.R(dR.P()*4);
hA.TW(hX,T.Clr.v);d.Og(gw,hX,3);dR.offset(t,w);M={bb:hX,Z_:dR}}else if(b=="GrFl"){var hX=d.R(R.rect().P()*4);
hA.f_(T,hX,R.rect(),p,null,H);var dR=R.rect().clone();dR.offset(t,w);M={bb:hX,Z_:dR}}else if(b=="SoFi"){var hX=d.R(R.A_().length*4);
hA.TW(hX,T.Clr.v);var dR=R.rect().clone();dR.offset(t,w);M={bb:hX,Z_:dR}}else if(b=="ebbl"){var aC=!1;
if(aC)console.log(T);var L=Date.now(),bu=L,hj=T.bvlS.v.BESl;if(hj=="strokeEmboss"){var jg=E.frameFXMulti.v;
if(jg.length==0)continue;jg=jg[0].v;if(!jg.enab.v)continue;var cm=jg.Styl.v.FStl;if(cm=="OutF")hj="OtrB";
if(cm=="CtrF")hj="Embs";if(cm=="InsF")hj="InrB"}var i=T.blur.v.val;if(i==0)i=.7;if(hj=="Embs"||hj=="PlEb")i/=2;
var bz=["OtrB","InrB","Embs","PlEb","strokeEmboss"],db=["SfBL","PrBL","Slmt"],eM=["In","Out"],de=T.bvlT.v.bvlT!="SfBL"?i:i*.45,eb=Math.round(i),k8=R.rect().clone(),hc=k8.clone();
hc.r4(eb,eb);var Q=hc.m,l=hc.e,bg=Q*l,k5=d.R(bg);d.kh(R.A_(),k8,k5,hc);var e5=d.style.d1(k5,Q,l);d.Ub(k5);
var j6=d.style.d1(k5,Q,l);if(aC)console.log("distTransform computed",Date.now()-L);L=Date.now();for(var N=0;
N<bg;N++){var gK=j6[N]-e5[N];if(gK<-de)gK=-de;else if(gK>de)gK=de;j6[N]=gK}if(aC)console.log("summing + cropping",Date.now()-L);
L=Date.now();if(T.bvlT.v.bvlT=="SfBL"){var aJ=Math.pow(i*.21,1.22);if(!0)aJ=Math.max(aJ,2);d.gC.RC(j6,hc,aJ,2)}if(aC)console.log("blurring",Date.now()-L);
L=Date.now();var ic=j6,gk=e5;gk.set(ic);if(T.useShape.v){var hu=Math.min(100,T.Inpr.v.val+1)/100;if(hj!="OtrB"&&hj!="InrB")hu=1;
var gQ=d.$K.O_(T.MpgS.v.Crv.v,2e3),e7=Math.round(2e3/hu);gQ=d.$K.akf(gQ,e7,hj=="InrB");var a2=.5/de;
for(var N=0;N<bg;N++){var gU=ic[N],kv=.99999*(gU+de)*a2;ic[N]=-de+2*de*gQ[~~(kv*(e7-1))]}if(aC)console.log("applying shape",Date.now()-L);
L=Date.now()}if(T.useTexture.v){var ft=d.R(Q*l*4);hA.lp(T,ft,hc,p.add.Patt,y);var cO=d.R(Q*l);d.DU(ft,cO);
d.gC.a48(cO,cO,hc,1);var hs=i*T.textureDepth.v.val*(1/100)*(1/255);if(T.InvT.v)hs=-hs;for(var N=0;N<bg;
N++)ic[N]+=-hs*cO[N];if(aC)console.log("applying texture",Date.now()-L);L=Date.now()}var z=hA.aij(T,p),ai=z[0],ky=z[1],m=Math.cos(ai)*Math.cos(ky),q=-Math.sin(ai)*Math.cos(ky),c0=Math.sin(ky),aQ=hj=="PlEb",ec=new Float32Array(bg),hW=ec;
ec.fill(c0);if(aQ){hW=new Float32Array(bg);hW.fill(c0)}var di=(T.bvlT.v.bvlT=="SfBL"?1:.5)*(T.bvlD.v.BESs=="In"?1:-1)*T.srgR.v.val/100,er=-.125*di;
for(var K=0;K<l;K++){var fe=K==0?0:-Q,eu=K==l-1?0:Q,N=K*Q;for(var U=0;U<Q;U++,N++){var gc=U==0?N:N-1,iM=U==Q-1?N:N+1,f=ic[iM]-ic[gc],Y=ic[N+eu]-ic[N+fe],bt=1;
if(f==0&&Y==0)continue;var dL=ic[gc+fe],jS=ic[iM+fe],iF=ic[gc+eu],cr=ic[iM+eu],g6=er*(jS+2*f+cr-dL-iF),be=er*(iF+2*Y+cr-dL-jS),jP=1/Math.sqrt(g6*g6+be*be+1);
g6*=jP;be*=jP;bt*=jP;var d8=g6*m+be*q+bt*c0;ec[N]=Math.max(0,d8);if(!aQ)continue;var gd=-g6*m-be*q+bt*c0;
hW[N]=Math.max(0,gd)}}if(aC)console.log("raycasting",Date.now()-L);L=Date.now();if(T.Sftn.v.val!=0){d.gC.RC(ec,hc,T.Sftn.v.val*.43,2);
if(aQ)d.gC.RC(hW,hc,T.Sftn.v.val*.43,2)}if(aC)console.log("softening",Date.now()-L);L=Date.now();var ha=hA.Ef(T.hglC.v,0),f_=hA.Ef(T.sdwC.v,0),hK=new Uint8Array(ec.buffer),d2=new Uint32Array(hK.buffer),j2=new Uint8Array(ic.buffer),kx=new Uint32Array(j2.buffer),dp=hK,fu=j2,gh=d2,kM=kx;
if(aQ){dp=new Uint8Array(hW.buffer);gh=new Uint32Array(dp.buffer);fu=new Uint8Array(gk.buffer);kM=new Uint32Array(fu.buffer)}var dJ=1/c0,jj=1/(1-c0),a2=1/de,gQ=d.$K.O_(T.TrnS.v.Crv.v,1024),j4=new Float32Array(2500);
for(var N=0;N<2500;N++){var U=Math.max(0,Math.min(1,(N-500)*.001));j4[N]=Math.pow(U,.2)}for(var K=0;
K<l;K++)for(var U=0;U<Q;U++){var N=K*Q+U,fx=4*N+3,g1=~~(ec[N]*1023),dG=gQ[g1],dO=(gk[N]+de*.993)*a2,cd=j4[~~(500+dO*1e3)],kG=cd*(1-Math.min(1,dG*dJ)),dM=cd*(1-Math.min(1,(1-dG)*jj));
kx[N]=~~(.5+255*kG)<<24|f_;d2[N]=~~(.5+255*dM)<<24|ha;if(!aQ)continue;var an=gQ[~~(hW[N]*1023)],du=cd*(1-Math.min(1,an*dJ)),iB=cd*(1-Math.min(1,(1-an)*jj));
kM[N]=~~(.5+255*du)<<24|f_;gh[N]=~~(.5+255*iB)<<24|ha}if(aC)console.log("baking textures",Date.now()-L);
L=Date.now();hc=R.rect().clone();hc.r4(eb,eb);hc.offset(t,w);M={ar0:T.bvlS.v.BESl=="strokeEmboss"};var g8=cg.RI(T.hglM.v.BlnM),je=T.hglO.v.val/100,gv=cg.RI(T.sdwM.v.BlnM),aM=T.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(hj)!=-1){M.Qk={bb:hK,Z_:hc,yS:g8,QR:je};M.cD={bb:j2,Z_:hc,yS:gv,QR:aM}}if(["OtrB","Embs","PlEb"].indexOf(hj)!=-1){M.cz={bb:dp,Z_:hc,yS:g8,QR:je};
M.DO={bb:fu,Z_:hc,yS:gv,QR:aM}}if(aC)console.log(Date.now()-bu)}else if(b=="patternFill"){var gL=R.rect(),hX=d.R(gL.P()*4);
hA.lp(T,hX,gL,p.add.Patt,y);var dR=gL.clone();dR.offset(t,w);M={bb:hX,Z_:dR}}else if(b=="ChFX"){var hX=d.R(R.A_().length*4);
hA.TW(hX,T.Clr.v);var i=T.blur.v.val,e2=R.rect().clone();e2.r4(i,i);var iX=d.R(e2.P()),iS=d.R(e2.P());
d.kh(R.A_(),R.rect(),iS,e2);d.gC.VI(iS,iX,e2,i*.43);var aG=d.$K.So(T.MpgS.v.Crv.v,256,!0);d.aqO(iX,aG);
var bO=d.R(R.A_().length),eK=d.R(R.A_().length),cJ=R.rect().clone();hA.ck(cJ,T,p,0);d.kh(iX,e2,bO,cJ);
cJ=R.rect().clone();hA.ck(cJ,T,p,Math.PI);d.kh(iX,e2,eK,cJ);var cK=bO.length;for(var N=0;N<cK;N++)hX[4*N+3]=Math.abs(bO[N]-eK[N]);
if(T.Invr.v)for(var N=0;N<cK;N++)hX[4*N+3]=255-hX[4*N+3];var dR=R.rect().clone();dR.offset(t,w);M={bb:hX,Z_:dR}}else if(b=="OrGl"){var kp;
if(T.GlwT.v.BETE=="SfBL")kp=R.op(I,i-I,!0);else kp=R.a1_(i,r,!0);var gw=kp.A_,dR=kp.k4,cy=gw.slice(0);
hA.ae7(gw,T);var hX=d.R(dR.P()*4);if(T.Grad==null){hA.TW(hX,T.Clr.v);hA.V6(gw,T,!1)}else{hA.V6(gw,T,null);
var cj={Vm:gw,f5:255,hk:0,kU:dR};hA.f_(T,hX,dR,p,cj);var jT=T.Nose.v.val/100,io=dR.m;for(var N=0;N<cy.length;
N++){var kq=255,bb=cy[N];if(bb<32){var dO=(bb+cy[N-1]+cy[N+1]+cy[N-io]+cy[N+io])*.2-1;kq=Math.min(255,Math.round(Math.max(0,dO)*8))}gw[N]=kq}hA.a9j(gw,T)}d.Og(gw,hX,3);
dR.offset(t,w);M={bb:hX,Z_:dR}}else if(b=="IrGl"){var kp;if(T.GlwT.v.BETE=="SfBL")kp=R.op(I,i-I,!1);
else kp=R.a1_(i,r,!1);var gw=kp.A_,dR=kp.k4;hA.ae7(gw,T);if(T.glwS.v.IGSr=="SrcC")d.Ub(gw);var hX=d.R(dR.P()*4);
if(T.Grad==null){hA.TW(hX,T.Clr.v);hA.V6(gw,T,!0)}else{hA.V6(gw,T,null);var cj={Vm:gw,f5:255,hk:0,kU:dR};
hA.f_(T,hX,dR,p,cj);gw.fill(255);hA.a9j(gw,T)}d.Og(gw,hX,3);dR.offset(t,w);M={bb:hX,Z_:dR}}else if(b=="FrFX"){var bZ=hA.pF(T),aa=bZ[0],dq=bZ[1],dR=R.rect().clone(),eC=null,cW=null;
dR.r4(Math.ceil(X),Math.ceil(X));if(dq>0){var kp=R.op(dq,0,!0);cW=kp.A_;if(cW.length<dR.P()){cW=d.R(dR.P());
d.kh(kp.A_,kp.k4,cW,dR)}}if(aa>0){var kp=R.op(aa,0,!1);eC=d.R(dR.P());eC.fill(255);d.kh(kp.A_,kp.k4,eC,dR)}dR.offset(t,w);
var hX=d.R(dR.P()*4),cw=T.PntT.v.FrFl;if(cw=="SClr")hA.TW(hX,T.Clr.v);if(cw=="GrFl")hA.f_(T,hX,dR,p,R.aBD(aa,dq));
if(cw=="Ptrn")hA.lp(T,hX,dR,p.add.Patt,y);var eD=T.overprint,f7=eD?eD.v:!1;if(f7){var bM=eC?eC:cW;if(eC&&cW)d.c7.fr(eC,cW,bM);
d.Og(bM,hX,3)}M={bb:hX,Z_:dR,WG:cW,kB:eC,arZ:f7}}B.type[b].push(M);if(b=="ebbl"){if(M.Qk)B.all.push(M.Qk,M.cD);
if(M.cz)B.all.push(M.cz,M.DO)}else{M.yS=cg.RI(T.Md.v.BlnM);M.QR=T.Opct.v.val/100,B.all.push(M)}}}return B};
hA.o$=function(E){var y=1/Math.sqrt(E.x*E.x+E.y*E.y+E.mV*E.mV);E.x*=y;E.y*=y;E.mV*=y};hA.ar1=function(E,y){return{x:E.y*y.mV-E.mV*y.y,y:E.mV*y.x-E.x*y.mV,mV:E.x*y.y-E.y*y.x}};
hA.ayj=function(E,y){return E.x*y.x+E.y*y.y+E.mV*y.mV};hA.a9j=function(E,y){var c=y.Nose.v.val/100;if(c>0)for(var N=0;
N<E.length;N++){var e=E[N];e=Math.min(510-(1+c)*d.style.NB(N),e);E[N]=e}};hA.cO=function(E){var y=hA._M(),c=E.TO,e=!1;
for(var N=0;N<32;N+=8)if(c[N]+c[N+1]+c[N+4]+c[N+5]!=0||c[N+2]+c[N+3]+c[N+6]+c[N+7]!=1020)e=!0;if(e){c=c.slice(0);
for(var N=0;N<40;N+=4){var p=c[N]/255,H=c[N+1]/255,Z=c[N+2]/255,X=c[N+3]/255;c[N]=p-.001;c[N+1]=p==H?1e6:1/(H-p);
c[N+2]=Z==X?-1e6:1/(Z-X);c[N+3]=X+.001}}var b=E.add.iOpa!=null?E.add.iOpa/255:y.fill,k=E.add.vstk;if(k&&!k.fillEnabled.v&&(!k.strokeEnabled.v||k.strokeStyleLineWidth.v.val==0))b=0;
return{fill:b,Zy:e?c:null,yv:E.add.brst!=null?E.add.brst:y.yv,aj7:E.add.knko!=null?E.add.knko:y.aj7,style:!1,ap:!1}};
hA._M=function(){return{fill:1,Zy:null,yv:[1,1,1],aj7:0,style:!1,ap:!1}};hA.a55=function(E,y,c,e,p,H,Z,X){if(X==null)X=1;
if(Z==null)Z=new jr;var b=E.Gi[1].m,k=E.Gi[1].e,D=new jr,j=p<2;if(j)D.translate(-b/2,-k/2);if(p==0){X*=Math.max(c/b,e/k)}else if(p==1){X*=Math.min(c/b,e/k)}else if(p==2){D.scale(1/b,1/k);
D.concat(Z);D.scale(c,e)}else if(p==3){X=X}D.scale(X,X);if(j)D.translate(c/2,e/2);D.concat(H);y.Ptrn.v.Idnt.v=E.id;
y.Scl.v.val=Math.round(100*D.ul());y.Angl.v.val=Math.round(180*Math.atan2(-D.J,D.U)/Math.PI);y.Algn.v=!0;
var g=y.phase.v;g.Hrzn.v=Math.round(D.Kc);g.Vrtc.v=Math.round(D.Dm)};hA.GX=function(E,y){if(y==null)return null;
var c=E.Idnt.v,e=E.Nm.v;for(var N=0;N<y.length;N++)if(y[N].id==c)return y[N];for(var N=0;N<y.length;
N++)if(y[N].name==e)return y[N];return null};hA.aBd=function(E,y,c){var e=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var N=0;N<e.length;N++){var p=E.v[e[N]].v;for(var H=0;H<p.length;H++)if(p[H].v.Ptrn)y.w4(hA.GX(p[H].v.Ptrn.v,c))}};
hA.awY=function(E,y,c){var e=["patternFillMulti","ebblMulti","frameFXMulti"];for(var N=0;N<e.length;
N++){var p=E.v[e[N]].v;for(var H=0;H<p.length;H++)if(p[H].v.Ptrn){var Z=p[H].v.Ptrn.v,X=hA.GX(Z,c),b=hA.GX(Z,y.add.Patt);
if(X==null&&b)c.push(b)}}};hA.lp=function(E,y,c,e,p){var H=hA.GX(E.Ptrn.v,e);if(H!=null&&!c.tj()){var Z=H.Gi,X=Z[0],b=Z[1],k=0;
d.nJ(Z);var D=(E.Scl?E.Scl.v.val:100)/100;while((D<.3||D==.5)&&Z[k+2]){D*=b.m/Z[k+3].m;k+=2;X=Z[k];b=Z[k+1]}var j=d.scale.lp(X,b.m,b.e),g=E.phase?E.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},R=E.Angl?E.Angl.v.val:0,t=-c.x+g.Hrzn.v-1,w=-c.y+g.Vrtc.v-1;
if(E.Algn!=null&&!E.Algn.v){}else{t+=p.x;w+=p.y}if(y)d.scale.aC9(j,y,c.m,c.e,D,D,t+1,w+1,R*Math.PI/180);
else return[j,D,t+1,w+1,R*Math.PI/180]}};hA.f_=function(E,y,c,e,p,H){if(H==null)H=c;var Z=E.Type?E.Type.v.GrdT:"shapeburst",X=E.Algn&&E.Algn.v?H:new ir(0,0,e.m,e.e),b=E.Angl?d.L.u3(E,X):[new eq(0,0),new eq(100,0)],k=b[0].x,D=b[0].y,j=b[1].x-k,g=b[1].y-D,R=Math.sqrt(j*j+g*g);
R=1/(2*R*R);var t=[j*R,g*R,-g*R,j*R],w=E.Rvrs?E.Rvrs.v:!1,B=E.Dthr?E.Dthr.v:!1;d.L.Z$(E.Grad.v,y,c,t,k,D,w,cb.L.types.indexOf(Z),0,0,p,B)};
hA.atQ=function(E,y,c){for(var N=0;N<E.all.length;N++){var e=E.all[N];e.R8=e.Z_.clone();e.R8.offset(y,c)}};
hA.a9a=function(E,y,c,e,p,H){var Z=h0.Lq?hA.alw:hA.a1S;hA.atQ(y,c.x,c.y);var X=y.type.DrSh;for(var N=0;
N<X.length;N++)if(!X[N].abr)Z(X[N],e,p,H)};hA.a4z=function(E,y,c,e,p,H,Z,X,b,k){var D=c,j=h0.Lq?hA.alw:hA.a1S,g=h0.Lq?h0.l.yy:d.l.vj,R;
R=y.type.DrSh;for(var N=0;N<R.length;N++)if(R[N].abr)j(R[N],e,p,H);R=y.type.St3D;for(var N=0;N<R.length;
N++)j(R[N],e,p,H);R=y.type.OrGl;for(var N=0;N<R.length;N++)j(R[N],e,p,H);var t="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var w=0;w<t.length;w++){var R=y.type[t[w]];for(var N=0;N<R.length;N++)j(R[N],Z,D,H)}var B=y.type.ebbl[0],$=B!=null&&B.ar0;
R=y.type.FrFX;for(var N=0;N<R.length;N++){var o=R[N];bV.oj.kh(X,k,b,k,H);j(o,b,k,H);if($&&N==R.length-1){if(B.DO)j(B.DO,b,k,H);
if(B.cz)j(B.cz,b,k,H);if(B.cD)j(B.cD,b,k,H);if(B.Qk)j(B.Qk,b,k,H)}if(o.arZ){if(o.kB||o.Yb){j(o,Z,D,H)}if(o.WG||o.qF){j(o,e,p,H)}}else{if(o.kB||o.Yb)g(b,k,Z,D,h0.Lq?o.Yb:o.kB,o.R8,0,H,1);
if(o.WG||o.qF)g(b,k,e,p,h0.Lq?o.qF:o.WG,o.R8,0,H,1)}}if(!$&&B!=null){if(B.DO)j(B.DO,e,p,H);if(B.cz)j(B.cz,e,p,H);
if(B.cD)j(B.cD,Z,D,H);if(B.Qk)j(B.Qk,Z,D,H)}};hA.a1S=function(E,y,c,e){var p=hA._M();p.fill=E.QR;p.style=!0;
d.l.Io(E.yS,E.bb,E.R8,y,c,e,1,p)};hA.alw=function(E,y,c,e){var p=hA._M();p.fill=E.QR;p.style=!0;h0.l.aaf(E.yS,E.wg,E.R8,y,c,e,1,p)};
hA.ae7=function(E,y){var c=1-y.Inpr.v.val/100,e=1+Math.tan(c*(Math.PI/2)),p=E.length;for(var N=0;N<p;
N++)E[N]=Math.min(255,Math.round(E[N]*e))};hA.V6=function(E,y,c,e){var p=y.blur.v.val,H=Math.round(p*(y.Ckmt.v.val/100));
if(p>H){var Z=d.$K.So(y.TrnS.v.Crv.v,256,e!=!0);d.aqO(E,Z)}if(c!=null&&y.Nose.v.val>0)d.style.XZ(E,y.Nose.v.val/100,c)};
hA.Ef=function(E,y,c){if(y==null)y=255;var e=d.L.yd(E);if(c!=null){e.Z=Math.round(e.Z*c);e.D=Math.round(e.D*c);
e.J=Math.round(e.J*c)}return y<<24|e.J<<16|e.D<<8|e.Z};hA.TW=function(E,y,c,e){var p=new Uint32Array(E.buffer);
p.fill(hA.Ef(y,c,e))};hA.ck=function(E,y,c,e,p){var H=y.uglg&&y.uglg.v?c.Ac():y[p?p:"lagl"].v.val;H=H*Math.PI/180+e;
var Z=Math.cos(H)*y.Dstn.v.val,X=Math.sin(H)*y.Dstn.v.val;E.x-=Math.round(Z);E.y+=Math.round(X)};hA.aij=function(E,y){var c=E.uglg&&E.uglg.v?y.Ac():E.lagl.v.val;
c=c*(Math.PI/180);var e=E.uglg&&E.uglg.v?y.FN():E.Lald.v.val;e=e*(Math.PI/180);return[c,e]};hA.Id=function(E){if(E==null)return null;
var y=E.frameFXMulti.v;if(y.length==0)return null;y=y[0].v;var c=cb.CY.TL();hA.ac_(y,c);return c};hA.ac_=function(E,y){var c=cb.stroke.eo.indexOf(E.PntT.v.FrFl),e=[cb.nM,cb.Bm,cb.Z0][c],p=y.strokeStyleContent.v={classID:cb.CY.gV[c]};
for(var N=0;N<e.length;N++)p[e[N]]=E[e[N]];y.strokeEnabled=E.enab;y.strokeStyleLineWidth=E.Sz;y.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cb.CY.FC[cb.stroke.types.indexOf(E.Styl.v.FStl)];
y.strokeStyleOpacity=E.Opct;y.strokeStyleBlendMode=E.Md;y.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
hA.RV=function(E,y){var c=[];for(var N=0;N<E.length;N++)c.push({t:"UntF",v:{type:"#Nne",val:E[N]*y}});
return c};hA.aiC=function(E,y){var c=E.opacity/255*(E.add.iOpa?E.add.iOpa/255:1),e=E.add.TySh,p=E.uY()||E.iU()&&E.add.vmsk&&E.add.vstk.fillEnabled.v&&E.add.vstk.strokeEnabled.v;
if(e){var H=e.Ax.EngineDict.StyleRun.RunArray,Z=H[0].StyleSheet.StyleSheetData,X=0;if(Z.FillFlag)X++;
if(Z.StrokeFlag)X++;if(Z._FillBackgroundFlag)X++;if(X>1)p=!0}return p&&(y||c!=1||E.ur!="pass"&&E.ur!="norm")};
hA.el=function(E,y,c,e){this.Jx=y.clone();this.axP=y.clone();this.axP.r4(c,c);if(e){this.Jx.r4(1,1);
this.$M=d.R(this.Jx.P());d.kh(E,y,this.$M,this.Jx)}else this.$M=E;this.tu=null;this.kH=null;this.pi=null};
hA.el.prototype.A_=function(){return this.$M};hA.el.prototype.rect=function(){return this.Jx};hA.el.prototype.rp=function(){return this.axP};
hA.el.prototype.Ud=function(){if(this.tu)return this.tu;this.tu=this.A_().slice(0);d.Ub(this.tu);return this.tu};
hA.el.prototype.vg=function(){if(this.kH)return this.kH;this.kH=d.style.d1(this.Ud(),this.rect().m,this.rect().e);
return this.kH};hA.el.prototype.C5=function(){if(this.pi)return this.pi;var E=this.rp(),y=d.R(E.P());
d.kh(this.A_(),this.rect(),y,E);var c=Date.now();this.pi=d.style.d1(y,E.m,E.e);return this.pi};hA.el.prototype.aBD=function(E,y){var c={f5:-y,hk:E,kU:null,Vm:null};
if(y==0){c.kU=this.rect();c.Vm=this.vg();return c}var e=this.C5().slice(0),p=this.rp();c.kU=p;c.Vm=e;
for(var N=0;N<e.length;N++)e[N]=-e[N];if(E==0)return c;var H=this.vg(),Z=this.rect();for(var X=0;X<Z.e;
X++)for(var b=0;b<Z.m;b++){var k=X*Z.m+b,D=(X+Z.y-p.y)*p.m+b+Z.x-p.x;e[D]+=H[k]}return c};hA.el.prototype.op=function(E,y,c){var e=Math.ceil(E+y),p={k4:this.rect().clone(),A_:null};
p.k4.r4(e,e);p.A_=d.R(p.k4.P());if(E==0&&y==0)d.Jt(c?this.A_():this.Ud(),p.A_);else{var H=d.R(p.k4.P());
d.kh(this.A_(),this.rect(),H,p.k4);if(!c)d.Ub(H);if(E!=0){if(c)d.style.O9(H,p.k4,this.C5(),this.rp(),E);
else d.style.O9(H,p.k4,this.vg(),this.rect(),E)}if(y!=0)d.gC.VI(H,p.A_,p.k4,Math.max(1,y*.43));else p.A_=H}return p};
hA.el.prototype.a1_=function(E,y,c){var e=E*(y-.5),p={k4:this.rect().clone(),A_:null};if(c)p.k4.r4(E,E);
p.A_=d.R(p.k4.P());var H=p.k4.m,Z=p.k4.e,X=c?this.C5():this.vg(),b=c?this.rp():this.rect(),k=p.k4,D=k.fr(b),H=D.m,Z=D.e,j=D.x-k.x,g=D.y-k.y,R=D.x-b.x,t=D.y-b.y,w=1-y*2;
for(var B=0;B<Z;B++)for(var $=0;$<H;$++){var o=X[(B+t)*b.m+$+R],T=o/E;p.A_[(B+g)*k.m+$+j]=Math.max(0,Math.min(255,255-255*((T+w)/(1+w))))}return p};
hA.aoD=function(E,y,c,e){var p=E.Lefx,H=E.blendOptions;if(p){var Z=y.add.lmfx;if(c==null)c=Z?Z.Scl.v.val:100;
y.add.lmfx=JSON.parse(JSON.stringify(p.v));if(y.add.lmfx.Scl==null)y.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
hA.Yv(y.add.lmfx,c/y.add.lmfx.Scl.v.val);if(Z)y.add.lmfx.Scl.v.val=Z.Scl.v.val;var X=p.v.gagl;if(X&&e)e.nZ(X.v.val)}else delete y.add.lmfx;
if(H){H=H.v;if(H.Md)y.ur=cg.RI(H.Md.v.BlnM);if(H.Opct)y.opacity=Math.round(H.Opct.v.val*255/100);if(H.fillOpacity)y.add.iOpa=Math.round(H.fillOpacity.v.val*255/100);
if(H.Blnd){var b=[];for(var N=0;N<10;N++)b.push(0,0,255,255);var k=H.Blnd.v,D="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var N=0;N<k.length;N++){var j=k[N].v,g=8*["Gry","Rd","Grn","Bl"].indexOf(j.Chnl.v[0].v.enum);for(var R=0;
R<8;R++){b[g+R]=j[D[R]].v}}y.TO=b}}};hA.amE=function(E){var y="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),c=[],e=E.TO;
for(var N=0;N<4;N++){var p=N*8;if(e[p]+e[p+1]+e[p+4]+e[p+5]==0&&e[p+2]+e[p+3]+e[p+6]+e[p+7]==4*255)continue;
var H={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][N]}}]}}};
c.push(H);for(var Z=0;Z<8;Z++)H.v[y[Z]]={t:"long",v:e[N*8+Z]}}var X={classID:"blendOptions"};if(E.ur!="norm")X.Md={t:"enum",v:{BlnM:cg.KH(E.ur)}};
if(E.opacity!=255)X.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(E.opacity*100/255)}};if(E.add.iOpa!=null)X.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(E.add.iOpa*100/255)}};
if(c.length!=0)X.Blnd={t:"VlLs",v:c};var b={Al:{classID:"null",Idnt:{t:"TEXT",v:cc.Mw()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},mp:{classID:"Styl",blendOptions:{t:"Objc",v:X}}},k=E.add.lmfx;
if(k)b.mp.Lefx={t:"Objc",v:k};return b};function bj(){}bj.L2=function(E){return JSON.parse(JSON.stringify(E))};
bj.OY=function(E){var y=bj.L2(bj.a7D),c=y.Brsh.v;if(E!=null){delete c.Hrdn;c.classID="sampledBrush";
c.sampledData={t:"TEXT",v:E}}return y};bj.a7D={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bj.aiV=function(E,y){var c=["opVr","szVr"],e=["usePaintDynamics","useTipDynamics"];for(var N=0;N<2;N++){var p=c[N];
if(E[p]==null)E[p]=JSON.parse(bj.o$.im[p]);E[p].v.bVTy.v=y[N]?2:0;if(y[N])E[e[N]].v=!0}bj.o$.auS(E)};
bj.o$={};bj.o$.check=function(E){var y=bj.o$.JS;for(var N=0;N<y.length;N++)if(E[y[N]]==null)E[y[N]]=JSON.parse(bj.o$.im[y[N]]);
var c=[];for(var N=0;N<y.length;N++)c.push(y[N]);var e=bj.o$.a22;for(var N=0;N<e.length;N++){var p=e[N][0],H=e[N][1],Z=!0;
for(var X=0;X<p.length;X++)Z=Z&&E[p[X]].v==!0;if(Z)for(var X=0;X<H.length;X++){if(E[H[X]]==null)console.log("Missing conditional parameter "+H[X]);
else c.push(H[X])}}for(var b in E)if(c.indexOf(b)==-1&&b!="toolOptions")console.log("Extra parameter "+b);
E=E.Brsh.v;y=bj.o$.CG.JS;for(var N=0;N<y.length;N++)if(E[y[N]]==null)E[y[N]]=JSON.parse(bj.o$.CG.im[y[N]]);
c=[];for(var N=0;N<y.length;N++)if(E[y[N]])c.push(y[N]);else console.log("Missing default parameter "+y[N]);
e=bj.o$.CG.ai5[E.classID];for(var N=0;N<e.length;N++)if(E[e[N]]==null&&e[N]!="dtipsGridSize"&&e[N]!="dtipsErodibleTipHeightMap"&&E.aCf!=1)console.log("Missing conditional parameter "+e[N]);
else c.push(e[N]);for(var b in E)if(c.indexOf(b)==-1)console.log("Extra parameter "+b)};bj.o$.auS=function(E){var y=bj.o$.a22;
for(var N=0;N<y.length;N++){var c=y[N][0],e=y[N][1],p=!0;for(var H=0;H<c.length;H++)p=p&&E[c[H]]&&E[c[H]].v==!0;
if(p){for(var H=0;H<e.length;H++)if(E[e[H]]==null){E[e[H]]=JSON.parse(bj.o$.im[e[H]])}}else for(var H=0;
H<e.length;H++)if(E[e[H]]!=null){delete E[e[H]]}}};bj.o$.CG={};bj.o$.CG.JS="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bj.o$.CG.im={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bj.o$.CG.ai5={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bj.o$.a22=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bj.o$.JS="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bj.o$.im={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function cs(E,y){this.anM=E;this.fb=y==null?0:y;this.dir=0}cs.prototype.xk=function(E,y){var c=this.anM,e=new eq(E.x-c.x,E.y-c.y),p=new jr;
p.rotate(-this.fb);e=p.dl(e);if(this.dir==0&&!c.rT(E))this.dir=Math.abs(e.x)<Math.abs(e.y)?1:2;if(y.S(ct.zx)){if(this.dir==1)e.x=0;
if(this.dir==2)e.y=0}p.Ub();e=p.dl(e);var H=new eq(c.x+e.x,c.y+e.y);return H};cs.prototype.abR=function(E){if(E.S(ct.zx))return this.dir;
return 0};var ho=function(){function E(){this.adq={}}E.aaR=function(y,c){var e=y.clone();e.Kc-=Math.floor(e.Kc);
e.Dm-=Math.floor(e.Dm);var p=new eq(c,0),H=new eq(0,c),Z=e.dl(p),X=e.dl(H),b=new eq(e.Kc,e.Dm);return[Z,X,b]};
E.amb=function(y,c){var e=eq.oG;return e(y[0],c[0])+e(y[1],c[1])+e(y[2],c[2]);return dsum};E.prototype.a6$=function(y){var c=this.adq,e=c[y];
if(e==null)e=c[y]={Jc:[],cQ:0,P:0,aCZ:0,atf:0};e.cQ=Date.now();while(Object.keys(c).length>3){var p="",H=Date.now();
for(var Z in c){var X=c[Z].cQ;if(X<H){H=X;p=Z}}delete c[p]}return e};E.prototype.acE=function(y,c){var e=y.Jc,p,H=1e6;
for(var N=0;N<e.length;N++){var Z=e[N],X=E.amb(Z.oV,c);if(X<H){p=Z;H=X}}return p};E.prototype.ao4=function(y,c){var e=y.Jc;
e.push(c);y.P+=c.rect.P();if(e.length>1e3||y.P>100*100*1600){console.log("pruning",y.P,e.length);e.sort(function(H,Z){return Z.cQ-H.cQ});
while(e.length>500||y.P>100*100*800){var p=e.pop();y.P-=p.rect.P()}}};return E}();function b1(E,y,c,e,p,H,Z,X,b){this.b6=y;
this.XQ=c;this.YO=H;this.Gm=e;this.Ok=null;this.uz=null;this.GK=0;this.a8L=0;this.alb=0;this.YS=0;this.AQ=0;
this.e9=b==null?Math.floor(Math.random()*16777215):b;this.Ff=b==null?Math.floor(Math.random()*16777215):b;
this.Yu=new ir;this.k9=new ir;if(X!=null){this.bb=X}else{var k=b1.asi;if(k.length!=Z.P()*4)k=d.R(Z.P()*4);
else k.fill(0);this.bb=b1.asi=k}this.rect=Z.clone();this.A8=[];this.Cs=[];this.vy=null;this.x4=0;this.J=null;
this.afu="";this.JD=null;this.abV(E,p)}b1.asi=d.R(16);b1.prototype.abV=function(E,y){this.x4=y;this.J=E;
this.afu=JSON.stringify(E)+JSON.stringify(this.Gm.jo);this.JD=b1.aik(this.J,this.b6,this.XQ)};b1.prototype.moveTo=function(E,y,c){c=this.aBW(c);
this.GK=c;var e=new eq(E,y),p=this.J.Brsh.v.Dmtr.v.val;this.Ok=e.clone();this.uz=e.clone();this.vy=e.clone();
this.A8=[E,y];this.Cs=[c];if(this.Gm.Xe!=b1.yx){var H=this.J.angleDynamics,Z=H?H.v.bVTy.v==6:!1;this.rH(Z?new ir:this.azv(e,this.aBK(c),c,new eq(0,0)))}this.YS=e.clone()};
b1.prototype.lineTo=function(E,y,c){c=this.aBW(c);var e=this.A8,p=e.length,H=e[p-2],Z=e[p-1];if(E==H&&y==Z)return;
var X=this.J.Brsh.v.Dmtr.v.val,b=Math.ceil(X)+1,k=new ir(Math.round(H),Math.round(Z),0,0);k.r4(b,b);
var D=new ir(Math.round(E),Math.round(y),0,0);D.r4(b,b);this.A8.push(E,y);this.Cs.push(c);p+=2;if(p>=6)this.rH(this.a4H(p))};
b1.prototype.aBW=function(E){if(E==null)E=1;E=Math.max(.05,Math.min(5,E));if(isNaN(E)){alert("Pressure is not a number");
throw"e"}return E};b1.prototype.rH=function(E){this.Yu=E;this.k9=this.k9.uN(E)};b1.prototype.finish=function(){var E=this.A8,y=E.length,c;
if(y==4)c=this.J2(E[y-2],E[y-1],this.Cs[(y>>1)-1],!0);if(y>4)c=this.a4H(y+2);if(c)this.rH(c)};b1.prototype.EK=function(){return this.rect.clone()};
b1.prototype.Px=function(){return this.Yu.fr(this.rect)};b1.prototype.JU=function(){return this.k9.fr(this.rect)};
b1.prototype.mn=function(){return this.bb};b1.prototype.a4H=function(E){var y=this.A8,c=this.Cs,e=y[E-6],p=y[E-5],H=y[E-4],Z=y[E-3],X=c[(E>>1)-3],b=c[(E>>1)-2],k=new eq(0,0),D=new eq(0,0);
if(8<=E)k=b1.aw8(y[E-8],y[E-7],e,p,H,Z);if(E<=y.length)D=b1.aw8(y[E-2],y[E-1],H,Z,e,p);var j=e+k.x,g=p+k.y,R=H+D.x,t=Z+D.y,w=new ir,B=this.a8U()?1:10;
for(var N=0;N<B;N++){var $=(N+1)/B,o=1-$,T=o*o*o*e+3*$*o*o*j+3*$*$*o*R+$*$*$*H,i=o*o*o*p+3*$*o*o*g+3*$*$*o*t+$*$*$*Z,r=this.J2(T,i,X+$*(b-X));
w=w.uN(r)}return w};b1.aw8=function(E,y,c,e,p,H){var Z=E-c,X=y-e,b=p-c,k=H-e,D=Math.sqrt(Z*Z+X*X),j=Math.sqrt(b*b+k*k),g=Math.acos((Z*b+X*k)/(D*j))/Math.PI,R=.35,t=.1;
g=t+g*(R-t);var w=p-E,B=H-y,$=Math.sqrt(w*w+B*B),o=g*j/$;return new eq(w*o,B*o)};b1.prototype.J2=function(E,y,c,e){var p=new ir,H=this.Gm.afl;
if(H==null)H=0;if(H==0||e){p=this.ag4(E,y,c);return p}var Z=this.vy,X=E-Z.x,b=y-Z.y,k=Math.sqrt(X*X+b*b);
X/=k;b/=k;if(k>H){var D=Z.x+X*(k-H),j=Z.y+b*(k-H);p=this.ag4(D,j,c);this.vy.tW(D,j)}return p};b1.prototype.a8U=function(){var E=this.J,y=E.Brsh.v.Dmtr.v.val;
return this.Gm.jo&&y==1};b1.prototype.ag4=function(E,y,c){var e=new ir,p=new eq(E,y),H=this.Gm.Xe,Z=p.DZ(this.uz);
Z.normalize(1);var X=eq.oG(this.uz,p),b=-this.a8L,k=this.uz.clone();if(this.a8U()){if(X>.99){var D=this.uz;
b1.a6T(D,p,this.bb,this.rect,this.DQ(this.J));e=d.A.xv([D.x,D.y,p.x,p.y]);b=X}else p=this.uz}else while(!0){var j=this.GK+(c-this.GK)*(Math.max(0,b)/X),g=this.aBK(j),R=this.aA0()*(g+this.alb)/2*this.JD.ano;
if(H==b1.yx)R=1;R=Math.max(R,.5);if(b+R<X){b+=R;this.AQ+=R;var t=new eq(this.uz.x+Z.x*b,this.uz.y+Z.y*b),$=1;
if(H==b1.yx){var w=k.clone();w.x+=Z.x>0?1:-1;var B=k.clone();B.y+=Z.y>0?1:-1;if(eq.oG(w,t)<eq.oG(B,t))t=w;
else t=B;b=eq.oG(t,this.uz)}if(this.J.useScatter.v==!0){$=this.J.Cnt.v;var o=this.J.countDynamics.v.jitter.v.val/100,T=o*(-1+2*this.A0());
$+=Math.round($*T)}for(var N=0;N<$;N++){var i=this.azv(t,g,c,Z);e=e.uN(i)}k=t}else break}this.a8L=X-b;
this.uz=p;this.GK=c;return e};b1.prototype.aA0=function(){var E=this.J.Brsh.v,y=E.Spcn.v.val,c=Math.max(5,E.Rndn.v.val);
return c/100*(y/100)};b1.prototype.aBK=function(E){var y=this.J,c=y.Brsh.v.Dmtr.v.val;if(y.useTipDynamics.v){var e=c*(y.minimumDiameter.v.val/100);
c=e+(c-e)*(1-this.A0(this.Ff)*(y.szVr.v.jitter.v.val/100));c*=b1.MN(y,"szVr",E,this.AQ)}return c};b1.MN=function(E,y,c,e){var p=1,H=E[y].v,Z=H.bVTy.v,X=H.fStp.v;
if(Z==1)p*=Math.max(0,(X-e)/X);if(Z==2)p*=c;return p};b1.prototype.azv=function(E,y,c,e){var p=this.Gm.Mz,w=0;
p=Math.min(1,p);var H=this.J,Z=this.J.Brsh.v,X=Z.Dmtr.v.val,b=this.Gm,k=b.Xe,D=b.a9X,j=this.JD.Gi[1],g=new jr;
g.translate(-j.m/2,-j.e/2);g.scale(1/this.JD.a8X,1/this.JD.a8X);g.scale(y/X,y/X);g.scale(1,Math.max(5,Z.Rndn.v.val)/100);
if(H.usePaintDynamics&&H.usePaintDynamics.v){var R=H.opVr.v.jitter.v.val/100,t=H.prVr.v.jitter.v.val/100;
p*=1-this.A0()*R;p*=1-this.A0()*t;p*=b1.MN(H,"opVr",c,this.AQ)*b1.MN(H,"prVr",c,this.AQ)}if(H.useTipDynamics.v){var B=H.angleDynamics.v,$=H.minimumRoundness.v.val/100;
g.scale(1,$+(1-$)*Math.round(100-this.A0()*H.roundnessDynamics.v.jitter.v.val)/100);w+=(-.5+this.A0())*4*Math.PI*(B.jitter.v.val/100);
w+=b1.MN(H,"angleDynamics",c,this.AQ)*2*Math.PI;if(B.bVTy.v==6)w+=Math.atan2(-e.y,e.x)}w+=Z.Angl.v.val*(Math.PI/180);
g.rotate(w);if(H.useScatter.v){var o=(-1+2*this.A0())*H.scatterDynamics.v.jitter.v.val/100;g.translate(-o*y*e.y,o*y*e.x)}g.translate(E.x,E.y);
var T=this.a8e(g,E,y),i=T.rect.clone();if(k==null){var r=this.DQ(H);d.KT(T.Ji,Math.round(r.J*255)<<16|Math.round(r.D*255)<<8|Math.round(r.Z*255)<<0,4278190080);
if(this.k9.tj()&&this.rect.rT(T.rect)&&p==1)this.bb=T.Ji.slice(0);else{var I=-1,M=2,J=-1,P=2;if(!b.sG){I=J=0;
M=P=1}for(var n=J;n<P;n++)for(var x=I;x<M;x++){var L=T.rect.clone();L.x+=x*this.rect.m;L.y+=n*this.rect.e;
if(L.TF(this.rect)){i=i.uN(L);d.l.ao7(T.Ji,L,this.bb,this.rect,L,p)}}}}if(k==b1.yx){var u=new eq(T.rect.x+T.rect.m/2,T.rect.y+T.rect.e/2),C=Math.round(u.x-this.YS.x),h=Math.round(u.y-this.YS.y),A=T.rect.clone();
A.offset(-C,-h);var W=A.fr(this.rect);W.offset(C,h);d.E6(this.bb,this.rect,T.Ji,A);d.l.az_(T.Ji,T.rect,this.bb,this.rect,T.K_,T.rect,p)}if(k==b1.xZ||k==b1.uW||k==b1.qE){var Q=T.rect.fr(this.rect),l;
if(Q.rT(T.rect))l=T.K_;else{l=d.R(Q.P());d.kh(T.K_,T.rect,l,Q)}var O=d.R(Q.P()*4);d.E6(this.bb,this.rect,O,Q);
if(k==b1.uW){var z=O.slice(0),a=d.bg.MB([-1,-1,-1,-1,25,-1,-1,-1,-1]);d.bg.Nf(O,z,Q.m,Q.e,a,0);d.Jt(z,O)}else if(k==b1.qE){var m=cN.TL("UnsM");
m.Amnt.v.val=15;m.Thsh.v=0;m.Rds.v.val=5;var z=d.R(O.length);cN.bJ("UnsM",{buffer:O,rect:Q},m,0,0,{buffer:z,rect:Q});
d.Jt(z,O)}else{cN.J4(1,d.gC.t0,O,Q)}d.l.az_(O,Q,this.bb,this.rect,l,Q,p)}this.alb=y;this.YS=u;this.Ff++;
return i};b1.prototype.DQ=function(E){var y=b1.asN(this.x4);if(E.useColorDynamics&&E.useColorDynamics.v){var c=1-this.A0()*E.clVr.v.jitter.v.val/100,e=b1.asN(this.YO);
y.Z=c*y.Z+(1-c)*e.Z;y.D=c*y.D+(1-c)*e.D;y.J=c*y.J+(1-c)*e.J;var p=(-.5+this.A0())*E.H.v.val/100,H=(-1+2*this.A0())*E.Strt.v.val/100,Z=(-1+2*this.A0())*E.Brgh.v.val/100,X=d.vb(y.Z,y.D,y.J);
X.T4=(X.T4+p+1)%1;X.az=X.az+H;if(X.az<0)X.az=-X.az;if(X.az>1)X.az=1-(X.az-1);X.XR=X.XR+Z;if(X.XR<0)X.XR=-X.XR;
if(X.XR>1)X.XR=1-(X.XR-1);y=d.mf(X.T4,X.az,X.XR)}return y};b1.prototype.o$=function(E){return Math.max(0,Math.min(1,E))};
b1.prototype.A0=function(E){if(E==null){E=this.e9++}return b1.hash(E)};b1.asN=function(E){return{Z:(E>>16&255)/255,D:(E>>8&255)/255,J:(E>>0&255)/255}};
b1.hash=function(E){E=E^61^E>>16;E=E+(E<<3);E=E^E>>4;E=E*668265261;E=E^E>>15;return(E&16777215)/16777215};
b1.aB1=new ho;b1.prototype.a8e=function(E,y,c){var e=Math.sqrt(this.JD.Gi[1].P()),p=e*E.ul(),H=p<10?1:p<50?1.5:p<200?3:8;
if(p<30)H=0;var Z=b1.aB1,X=Z.a6$(this.afu),b=this.Gm.jo,k=ho.aaR(E,e),D=Z.acE(X,k);if(D&&ho.amb(D.oV,k)>H)D=null;
if(D){D.rect.x=Math.round(D.aCo.x+E.Kc);D.rect.y=Math.round(D.aCo.y+E.Dm);D.cQ=Date.now()}else{var j=Math.round(this.J.Brsh.v.Dmtr.v.val),g;
if(b&&j<=3){g={channel:d.R(j*j),rect:new ir(Math.round(y.x-j/2),Math.round(y.y-j/2),j,j)};g.channel.fill(255)}else if(E.U==1&&E.J==0&&E.E7==0&&E.sN==1){g={channel:this.JD.Gi[0],rect:this.JD.Gi[1].clone()};
g.rect.x=Math.round(E.Kc);g.rect.y=Math.round(E.Dm)}else{if(E.ul()>1e-4)g=F.Y.OL(this.JD.Gi,E)}if(b){for(var N=0;
N<g.channel.length;N++)g.channel[N]=g.channel[N]>127?255:0}if(g==null)g={channel:d.R(0),rect:new ir};
D={Ji:d.R(g.rect.P()*4),K_:g.channel,rect:g.rect,aCo:new eq(g.rect.x-E.Kc,g.rect.y-E.Dm),oV:k,cQ:Date.now()};
d.Og(D.K_,D.Ji,3);if(X)Z.ao4(X,D)}return D};b1.aik=function(E,y,c){var e,p,H,Z=E.Brsh.v.Dmtr.v.val,X=E.Brsh.v.classID;
if(X=="computedBrush"){var b=E.Brsh.v.Hrdn.v.val/100;p=Z<100?1.4:1;H=1;e=d.atF.ak5(Z,b,p)}if(X=="sampledBrush"){var k;
for(var N=0;N<y.length;N++)if(y[N].id==E.Brsh.v.sampledData.v)k=y[N];e=k.Gi;var D=e[1];p=Math.max(D.m,D.e)/Z;
H=Math.min(D.m,D.e)/Math.max(D.m,D.e)}return{a8X:p,ano:H,Gi:e}};b1.V$=null;b1.kA=null;b1.y_=function(E,y,c,e,p,H){var Z=b1.V$,X=b1.kA;
if(Z==null){b1.V$=Z=document.createElement("canvas");b1.kA=X=Z.getContext("2d")}if(H==null)H=e;if(Z.width!=H||Z.height!=p){Z.width=H;
Z.height=p}else X.clearRect(0,0,H,p);X.fillStyle="#000000";X.font=Math.floor(10*F.k1())+"px sans-serif";
var b=E.Brsh.v.Dmtr.v.val,k=""+b,j=E.useBrushSize;if(j&&j.v)k="---";var g=X.measureText(k);X.fillText(k,(e-g.width)/2,p-2);
var R=e,t=p-10*F.k1(),w=Math.min(R,t),B=E.Brsh.v.classID;if(B=="computedBrush"){X.translate(R/2,t/2);
X.rotate(-E.Brsh.v.Angl.v.val*Math.PI/180);X.scale(1,.1+.9*E.Brsh.v.Rndn.v.val/100);var $=Math.min(.95*w/2,b/2)+.5,o=.9*E.Brsh.v.Hrdn.v.val/100,T=X.createRadialGradient(0,0,0,0,0,$);
T.addColorStop(o,"rgba(0,0,0,1)");T.addColorStop((.5+o)/1.5,"rgba(0,0,0,.5)");T.addColorStop(1,"rgba(0,0,0,0)");
X.fillStyle=T;X.fillRect(-$,-$,2*$,2*$);X.setTransform(1,0,0,1,0,0)}else if(B=="sampledBrush"){var i,P=0;
for(var N=0;N<y.length;N++)if(y[N].id==E.Brsh.v.sampledData.v)i=y[N];var r=i.Gi;d.MI(r);var I=r[0],M=r[1].m,J=r[1].e;
while((M>R||J>t)&&r[P+2]){P+=2;I=r[P];M=r[P+1].m;J=r[P+1].e}if(M*J!=0){var n=d.R(M*J*4);d.Og(I,n,3);
var x=new ImageData(new Uint8ClampedArray(n.buffer),M,J);X.putImageData(x,Math.round((R-M)/2),Math.round((t-J)/2))}}else{}return Z.toDataURL()};
b1.vK=function(E,y,c,e){if(c==0)c=1;var p=E.Brsh.v,H=p.Dmtr.v.val,Z=p.Dmtr.v.val=Math.min(e!=null?Math.round(e*2.6):3e3,H*c),X=p.Hrdn?p.Hrdn.v.val/100:1,b=e!=null?e:Math.round(Z*(1+.55*(1-X)))+4,j;
b=Math.max(15,Math.min(b,3e3));var k=new ir(0,0,b,b),D=new b1(E,y,null,{Mz:1},16711712,0,k);p.Dmtr.v.val=H;
D.moveTo(k.m/2,k.e/2);var g=D.mn(),R=D.EK();if(k.rT(R))j=g;else{j=d.R(k.P()*4);d.E6(g,R,j,k)}return[j,k,Z]};
b1.agF=function(E,y,c,e){var p=y.m,H=p>>>1;for(var N=0;N<4;N++){var Z=6-N;E[p*(H-Z)+H-1]=e;E[p*(H-Z)+H]=c;
E[p*(H-Z)+H+1]=e;E[p*(H+Z)+H-1]=e;E[p*(H+Z)+H]=c;E[p*(H+Z)+H+1]=e;E[p*(H-1)+H-Z]=e;E[p*H+H-Z]=c;E[p*(H+1)+H-Z]=e;
E[p*(H-1)+H+Z]=e;E[p*H+H+Z]=c;E[p*(H+1)+H+Z]=e}};b1.sH=function(E,y,c,e){var p=b1.vK(E,y,c),H=p[0].slice(0),Z=p[1],X=p[2],b=Z.P(),k=d.R(b);
d.LI(H,k,3);var D=d.R(b);d.i.a1m(k,D,Z,F.k1()>1.9);if(X<3||d.lN(D,0)||e&&X>12){b1.agF(D,Z,255,0)}var j=[3,5,3,4,8,4,3,5,3];
j=d.bg.MB(j);d.bg.RP(D,k,Z.m,Z.e,j);d.KT(H,4294967295);d.Og(k,H,3);for(var N=0;N<b;N++)if(D[N]==255){H[N<<2]=H[(N<<2)+1]=H[(N<<2)+2]=0;
H[(N<<2)+3]=255}return{Rh:H,k4:Z,gN:new eq(Z.m/2,Z.e/2)}};b1.a6T=function(E,y,c,e,p){var H=4278190080|Math.round(p.J*255)<<16|Math.round(p.D*255)<<8|Math.round(p.Z*255)<<0;
c=new Uint32Array(c.buffer);var Z=Math.floor(E.x),X=Math.floor(E.y),b=Math.floor(y.x),k=Math.floor(y.y),D=Math.abs(b-Z),j=Math.abs(k-X),g=Z<b?1:-1,R=X<k?1:-1,t=D-j;
while(!0){c[X*e.m+Z]=H;if(Z==b&&X==k)break;var w=2*t;if(w>-j){t-=j;Z+=g}if(w<D){t+=D;X+=R}}};b1.yx="0";
b1.xZ="1";b1.uW="2";b1.qE="3";var kz={};kz.K1=function(E,y,c){if(c==null)c=!0;var e=E.add.TySh,p=e.Ax,H=new cU(p,y,e.EG);
E.b_.vJ=H.oA();var Z=E.b_.path=kz.uM(H,e);if(aw!=0)return[Z,H,null];var X=kz.bD(Z,e.u,gV.Fh(e));if(c){E.rect=X.k4;
E.buffer=X.bb;E.W()}return[Z,H,X]};kz.bD=function(E,y,c){E={G:E.G,j:E.j.slice(0)};d.A.u(E.j,y,E.j);var e=d.A.xv(E.j),p=0;
for(var N=0;N<E.G.length;N++){var H=E.G[N];if(H[0]=="O"&&H[1]=="-")p=Math.max(p,parseFloat(H.split("-").pop()))}p=Math.ceil(p*y.ul()/2);
e.r4(p,p);if(e.tj())return{bb:d.R(0),k4:new ir};var Z=d.FB(e.m,e.e);Z.translate(-e.x,-e.y);kz.ayd(E,Z);
var X=Z.getImageData(0,0,e.m,e.e),b=new Uint8Array(X.data.buffer);if(c==0)for(var N=0;N<b.length;N+=4)b[N+3]=b[N+3]>80?255:0;
if(c==3)for(var N=0;N<b.length;N+=4)b[N+3]=Math.min(255,b[N+3]*1.5);Z.resetTransform();Z.beginPath();
return{bb:b,k4:e}};kz.uM=function(E,y,c){var e=y.u,p=y.Ax;kz.pV=e.ul();var H=gV.Fh(y),Z=Math.max(e.J*e.J,e.E7*e.E7)<1e-9?e:null;
if(H==3||H==4)Z=null;var X={G:[],j:[]};kz.a3w(E,X,Z,!0);kz.a3w(E,X,Z,!1);X=kz.HX(X,y,E,c);return X};
kz.pV=1;kz.HX=function(E,y,c,e){if(E==null)return E;if(c&&c.vB)d.A.u(E.j,c.vB,E.j);if(c&&!d.Bh.Mi(y.RO)){var p=gV.EK(y,c);
if(!p.tj()){if(E.G){E=d.A.Ow(E);var H=Math.min(p.m,p.e)/8;if(H<1)H=1;E=d.A.Kn(E,H)}var Z=d.Bh.lq(y.RO,p);
d.My.u(Z,E.j,p)}}var X=y.u;if(e)d.A.u(E.j,X,E.j);return E};kz.ayd=function(E,y){y.save();y.miterLimit=2;
Typr.U.pathToContext({crds:E.j,cmds:E.G},y);y.restore()};kz.tx=function(E,y,c){var e=cU.a1o(c),p=E.Ax,H=p.ResourceDict.FontSet,Z=p.ResourceDict.StyleSheetSet[0].StyleSheetData,X=p.EngineDict.StyleRun.RunLengthArray,b=p.EngineDict.StyleRun.RunArray,k=gV.qO(p),D=!0,j={},g=0;
for(var N=0;N<b.length;N++){var R=b[N].StyleSheet.StyleSheetData.Font;if(R==null)R=Z.Font;for(var t=0;
t<X[N];t++){var w=k.charCodeAt(g+t),B=R+","+(w>128?w:-1);if(j[B]==null){j[B]=1;if(y.Mu(H[R].Name,w)==null)D=!1}}g+=X[N]}return D&&e};
kz.AP=function(E,y,c){var e=!0;for(var p=0;p<E.B.length;p++){var H=E.B[p],Z=H.add.TySh;if(Z!=null&&!kz.tx(Z,y,c))e=!1}return e};
kz.v2=function(E,y,c){for(var e=0;e<E.B.length;e++){var p=E.B[e],H=p.add.TySh;if(H!=null&&kz.tx(H,y,c)){kz.K1(p,y);
E.W()}}};kz.a3w=function(E,y,c,e){var p=new jr;for(var N=0;N<E.dV.length;N++)kz.a0n(E.na,E.dV[N],y,p,c,e)};
kz.a0n=function(E,y,c,e,p,H){e.translate(y.Vw.x,y.Vw.y);for(var N=0;N<y.M2.length;N++){var Z={},X=y.M2[N];
if(!X.Z6)break;var b=e.clone();b.translate(X.Vw.x,X.Vw.y);if(p){var k=p.Dm+b.Dm*p.sN;b.Dm=(Math.round(k)-p.Dm)/p.sN}for(var D=X.start;
D<X.end;D++)kz.ask(E,y.ma[D],y,Z,c,b,H)}e.translate(-y.Vw.x,-y.Vw.y)};kz.ask=function(E,y,c,e,p,H,Z){H.translate(y.Vw.x,y.Vw.y);
for(var X=y.zM;X<=y.yO;X++){var b=c.rk[X],k=b.k4.m,D=E[c.afm+b.er],j=D.Cq._FillBackgroundFlag;if(D.qn=="\n"||Z&&!j)continue;
var g=D.Cq.FontSize/D.b8.head.unitsPerEm,R=H.clone();R.translate(b.Vw.x+b.Df*g,b.Vw.y-b.rQ*g);var t=new jr;
t.scale(g,-g);if(D.Cq.FauxItalic)t.concat(new jr(1,0,-Math.tan(.18),1,0,0));t.translate(0,D.U$);t.scale(D.scale.x,D.scale.y);
if(D.Cq.BaselineShift!=null)t.translate(0,-D.Cq.BaselineShift);if(b.fb!=0){t.rotate(-b.fb)}t.concat(R);
var w=(D.Cq._LineWidth?D.Cq._LineWidth:1)*kz.pV;if(Z){p.G.push(kz.DQ(D.Cq._FillBackgroundColor));var B=1.005*b.k4.e/g,$=new ir(-b.Df,-B*.27,1.03*b.k4.m/(g*D.scale.x),B);
if(D.Cq.StrokeFlag)$.r4(w/g,w/g);d.A.concat(p,d.A.S6($),t);p.G.push("X");continue}if(D.Cq.FillFlag)p.G.push(kz.DQ(D.Cq.FillColor));
if(D.Cq.StrokeFlag)p.G.push("O-"+kz.DQ(D.Cq.StrokeColor)+"-"+w);if(b.path.G.length!=0&&D.qn!="\t"){if(D.Cq.FauxBold){var o=D.Cq.FontSize/2048*27*D.scale.x,T=Math.cos(b.fb)*o,i=Math.sin(b.fb)*o;
t.Kc+=T;t.Dm+=i;d.A.concat(p,b.path,t);t.Kc-=T+T;t.Dm-=i+i;d.A.concat(p,b.path,t)}else d.A.concat(p,b.path,t)}if(D.qn!="\n"){var r=b.k4.m/g;
if(D.Cq.Underline){if(e.Qv==null)e.Qv=D.b8.post.underlineThickness;if(e.aw9==null)e.aw9=D.b8.post.underlinePosition;
var I=0,M=e.aw9-e.Qv/2,J=-e.Qv;d.A.concat(p,{G:["M","L","L","L","Z"],j:[I,M,I+r,M,I+r,M+J,I,M+J]},t)}if(D.Cq.Strikethrough){var P=D.b8["OS/2"].yStrikeoutSize,n=D.b8["OS/2"].yStrikeoutPosition,I=0,M=n+P/2,J=-P;
d.A.concat(p,{G:["M","L","L","L","Z"],j:[I,M,I+r,M,I+r,M+J,I,M+J]},t)}}if(D.Cq.FillFlag)p.G.push("X");
if(D.Cq.StrokeFlag)p.G.push("OX")}H.translate(-y.Vw.x,-y.Vw.y)};kz.DQ=function(E){var y=gV.yd(E),c=(Math.round(y.Z)<<16)+(Math.round(y.D)<<8)+Math.round(y.J);
return"#"+d.ly(c)};function cU(E,y,c){var e=gV.VY(E),p,H,Z=gV.kq(E),X=E._LineOrientation==2?new jr:null,j,R;
if(E.Curve)H=cU.o5(E.Curve);if(e!=0){p=new ir(Z[0],Z[1],Z[2],Z[3]);if(X){var b=p.m;p.m=p.e;p.e=b;X.translate(0,-Z[2])}if(e==2){p.m=H[5]-H[4];
p.e=9999}}this.dV=[];this.na=[];this.KO=e;this.vB=X;var k=this.ahB=gV.qO(E),D=-1,g=-1;for(var N=0;N<k.length;
N++){var t=j,w=gV.anv(E,N);if(w!=D){D=w;t=j=gV.a3Q(E,w)}var B=R,w=gV.a6D(E,N);if(w!=g){g=w;B=R=gV.a7I(E,w)}var $={qn:k.charAt(N),Cq:t,b8:null,dA:-1,D6:gV.ar2(E,N),U$:0,scale:new eq(0,0),LQ:0,lineHeight:0,jz:0},o=E.ResourceDict.FontSet[t.Font].Name,T=$.b8=y.Mu(o,k.charCodeAt(N));
$.scale.x=t.HorizontalScale==null?1:t.HorizontalScale;$.scale.y=t.VerticalScale==null?1:t.VerticalScale;
var i=T["OS/2"],r=T.hhea;if(t.FontCaps==1&&$.qn!=$.qn.toUpperCase()){var I=i.sxHeight?i.sxHeight/i.sTypoAscender:.76;
$.scale.x*=I;$.scale.y*=I}var M=1/T.head.unitsPerEm*t.FontSize;if(t.FontBaseline==1){var I=E.ResourceDict.SuperscriptSize;
$.scale.x*=I;$.scale.y*=I;$.U$-=E.ResourceDict.SuperscriptPosition*t.FontSize}if(t.FontBaseline==2){var I=E.ResourceDict.SubscriptSize;
$.scale.x*=I;$.scale.y*=I;$.U$+=E.ResourceDict.SubscriptPosition*t.FontSize}$.LQ=cU.LQ(T)*t.FontSize;
var J=B.AutoLeading;$.lineHeight=t.FontSize*(J==null?1.2:J);if(t.AutoLeading==!1)$.lineHeight=t.Leading;
if($.lineHeight==0)$.lineHeight=.01;this.na.push($)}var P=this.dV,n=[0];for(var N=0;N<E.EngineDict.ParagraphRun.RunLengthArray.length;
N++){var x=new cU.C$(E,y,this.na,N,p,n,e==1?H:null);P.push(x)}if(X){if(e==0)X.translate(0,P[0].ma[0].LQ/2);
X.rotate(-Math.PI/2)}if(e==2){var L=E.Curve.Points,u=H[0],C=H[1],h=H[2],A=H[3],W=H[4],Q=H[5];for(var N=0;
N<P.length;N++)for(var l=0;l<P[N].M2.length;l++)if(!(N==0&&l==0))P[N].M2[l].Z6=!1;var x=P[0],O=x.M2[0];
x.Vw.tW(0,0);O.Vw.tW(0,0);for(var l=O.start;l<O.end;l++){var z=x.ma[l],a=z.Vw.x;z.Vw.x=0;for(var m=z.zM;
m<=z.yO;m++){var q=x.rk[m],K=q.k4.m/2;q.Vw.x+=a;var U=cU.a6O(u,(W+q.Vw.x+K)%A);q.Vw.x=U[0]-K*U[2];q.Vw.y=U[1]-K*U[3];
q.fb=Math.atan2(U[3],U[2])}}}if(c){var f=c.VAlign.v;if(f!=0&&gV.VY(E)==1){var Y=gV.kq(E)[3],G=this.oA().e,V=0;
if(f==1)V=Y-G;if(f==2)V=(Y-G)/2;for(var N=0;N<this.dV.length;N++)this.dV[N].Vw.y+=V}}}cU.LQ=function(E){var y=E._hhhh;
if(y==null){var c=Typr.U,e=c.codeToGlyph(E,104),p=d.A.n7(Typr.U.glyphToPath(E,e).crds).e;y=E._hhhh=p*(1/E.head.unitsPerEm)}return y};
cU.prototype.ak9=function(){return!this.axG(0)};cU.prototype.aAS=function(){return this.axG(1)};cU.prototype.axG=function(E){var y=this.dV,c=!0,e=0;
for(var N=0;N<y.length;N++){var p=y[N].M2,H=p.length;e+=H;for(var Z=0;Z<H;Z++)c&=p[Z].Z6}return[c,e][E]};
cU.o5=function(E,y,c){if(y==null)y=.25;var e=E.Points,p=e.length,H=p>>>3,Z=E.TextOnPathTRange,X=E.Reversed,g=0,R=0;
if(X){var b=e.slice(0);for(var N=0;N<p;N+=2){b[N]=e[p-2-N];b[N+1]=e[p-1-N]}e=b;Z=[H-Z[1]%H,H-Z[0]%H]}var k=[],D=[0],j=[0];
for(var N=0;N<p;N+=8){var t=e[N+6]-e[N+0],w=e[N+7]-e[N+1],B=Math.round(Math.sqrt(t*t+w*w)/y),$=c&&N==p-8?B+1:B;
for(var o=0;o<$;o++){var T=o/B,i=1-T,r=i*i*i*e[N+0]+3*i*i*T*e[N+2]+3*i*T*T*e[N+4]+T*T*T*e[N+6],I=i*i*i*e[N+1]+3*i*i*T*e[N+3]+3*i*T*T*e[N+5]+T*T*T*e[N+7];
k.push(r,I);if(N+o!=0){var t=r-g,w=I-R;j.push(j[j.length-1]+Math.sqrt(t*t+w*w));D.push((N>>>3)+T)}g=r;
R=I}}var y=j.length,M=j[y-1],J=cU.XA(Z[0]%H,D),P=cU.XA(Z[1]%H,D),n=j[J%y],x=j[P%y];if(n>=x)x+=M;return[k,D,j,M,n,x]};
cU.XA=function(E,y){var N=0;while(y[N]<E)N++;return N};cU.a6O=function(E,y){var c=0,N=0,e,p,H;while(c<y){e=E[N+2]-E[N];
p=E[N+3]-E[N+1];H=Math.sqrt(e*e+p*p);c+=H;N+=2}return[E[N],E[N+1],e/H,p/H]};cU.prototype.aaw=function(E){return this.na[E]};
cU.prototype.aAr=function(E){for(var y=0;y<this.dV.length;y++){var c=this.dV[y];for(var e=0;e<c.M2.length;
e++){var p=c.M2[e],H=c.ma[p.start].start,Z=c.ma[p.end-1].end;if(H<E&&E<Z)return[H,Z-1]}}return[0,1]};
cU.prototype.ayq=function(E,y){var c=-1,e=this.dV;if(this.KO==2){var p=1e9,H=0,Z=e[0],X=Z.M2[0];for(var b=X.start;
b<X.end;b++){var k=Z.ma[b];for(var D=k.zM;D<=k.yO;D++){var j=Z.rk[D],g=j.k4.m,R=E.x-j.Vw.x,t=E.y-j.Vw.y,w=R*R+t*t;
if(w<p){p=w;H=j.er}}}if(H!=0&&this.ahB.codePointAt(H-1)>65535)H--;return H}for(var B=0;B<e.length;B++){var Z=e[B];
for(var $=0;$<Z.M2.length;$++){c++;var X=Z.M2[$],o=Z.M2[$+1];if(o==null&&B<e.length-1)o=e[B+1].M2[0];
if(y!=null){if(c!=y)continue}else{if(o!=null&&Z.Vw.y+X.Vw.y<E.y)continue}for(var b=X.start;b<X.end;b++){var k=Z.ma[b];
for(var D=k.zM;D<=k.yO;D++){var j=Z.rk[D],g=j.k4.m,T=Z.Vw.x+X.Vw.x+k.Vw.x,i=T+j.Vw.x,r=T+(D<k.yO?Z.rk[D+1].Vw.x:j.Vw.x+g);
if(E.x<=r||b+1==X.end&&D==k.yO){var I=Z.afm+j.er,M=this.na[I],J=M.jz&1;if(M.qn!="\n"&&(J==0&&E.x>i+g/2||J==1&&E.x<i+g/2))I+=this.ahB.codePointAt(I)>65535?2:1;
return I}}}}}};cU.prototype.Tf=function(E){var y={k4:new ir,bi:0},c=0;for(var e=0;e<this.dV.length;e++){var p=this.dV[e];
for(var H=0;H<p.M2.length;H++){var Z=p.M2[H];y.bi=c;c++;for(var X=Z.start;X<Z.end;X++){var b=p.ma[X];
for(var k=b.start;k<b.end;k++){if(k==E){var D=this.na[k],j=D.dA,g=p.rk[j].er,R=1;while(p.rk[j]!=null&&p.rk[j].er==g){var t=p.rk[j],w=p.Vw.x+Z.Vw.x+b.Vw.x+t.Vw.x,B=p.Vw.y+Z.Vw.y+b.Vw.y+t.Vw.y;
y.k4=y.k4.uN(new ir(w,B-D.lineHeight,t.k4.m,D.lineHeight));y.fb=t.fb;j+=R}return y}}}}}};cU.prototype.oA=function(){var E=Infinity,y=Infinity,c=-Infinity,e=-Infinity;
for(var N=0;N<this.dV.length;N++){var p=this.dV[N];for(var H=0;H<p.M2.length;H++){var Z=p.M2[H];if(!Z.Z6)break;
for(var X=Z.start;X<Z.end;X++){var b=p.ma[X];for(var k=b.zM;k<=b.yO;k++){var D=p.rk[k],j=D.k4,g=p.Vw.x+Z.Vw.x+b.Vw.x+D.Vw.x,R=p.Vw.y+Z.Vw.y+b.Vw.y+D.Vw.y;
E=Math.min(E,g+j.x);y=Math.min(y,R+j.y);c=Math.max(c,g+j.x+j.m);e=Math.max(e,R+j.y+j.e)}}}}return new ir(E,y,c-E,e-y)};
cU.sO=function(E){return 19968<=E&&E<=40959||12288<=E&&E<=12543};cU.xS=function(E,y,c,e,p,H,Z){var X=[H],b=0;
for(var N=H;N<Z;N++){if(c[N]==null)console.log(N,H,Z,c);var k=c[N].qn,D=k.charCodeAt(0);if(D==32||D==9){X.push(b,N,1,N+1);
b=0}else if(D==3851){X.push(b+1,N+1);b=0}else if(cU.sO(D)){X.push(b,N);b=1}else if(N!=H&&c[N].jz!=c[N-1].jz){X.push(b,N);
b=1}else b++}X.push(b);var j=[];for(var N=0;N<X.length;N+=2){var g=X[N],R=X[N+1];if(R==0)continue;j.push(new cU.a4F(E,y,c,e,p,g,R))}return j};
cU.asV=function(E,y,c,e,p,H,Z){var X=[0,y?y.m:1e9],b=[];if(e){var k=E[H].LQ,D=p+(p==0?k:E[H].lineHeight),j=D-k*.9,g=d.A.aCM(e[0],j),R=g.length,t=d.A.aCM(e[0],D),w=t.length;
if(R!=0&&w!=0){var B=0,$=0,o=[];while(B<R&&$<w){var T=Math.max(g[B],t[$]),i=g[B+1],r=t[$+1],I=Math.min(i,r);
if(T<I)o.push(T,I);if(i<r)B+=2;else $+=2}if(o.length!=0)X=o}}for(var M=0;M<X.length;M+=2){var J=0,P=H,n=y?X[M+1]-X[M]-c.StartIndent-c.EndIndent-(H==0?c.FirstLineIndent:0):Infinity;
while(H!=E.length){var x=E[H],L=J==0||(x.Hm||x.l2)||J+x.k4.m<n;if(!L)break;J+=x.k4.m;H++}b.push(H-P)}Z[0]=b;
Z[1]=X;Z[2]=H};cU.aaW=function(E,y){var c=E.length,e=new Uint32Array(c),p=new Uint8Array(c),H=0;for(var N=0;
N<c;N++){p[N]=0;var Z=E.charCodeAt(N);e[N]=Z;if(Z>H)H=Z}if(H>1424)p=cU.agl(e,y);return p};cU.agv=function(E){return E=="ß"?E:E.toUpperCase()};
cU.C$=function(E,y,c,e,p,H,Z){this.ma=[];this.M2=[];this.Vw=new eq(0,0);this.rk=null;this.ma=null;this.Cq=gV.a7I(E,e);
var X=this.Cq,j=0,t="",T=0,i=1,m=0;if(e!=0){var b=X.SpaceBefore;if(b!=null)H[0]+=b}var k=E.EngineDict.ParagraphRun.RunLengthArray,D=k[e];
for(var N=0;N<e;N++)j+=k[N];var g=X._Direction?X._Direction:0;this.afm=j;var R=gV.qO(E).slice(j,j+D);
for(var w=0;w<R.length;w++){var B=R.charAt(w);t+=c[j+w].Cq.FontCaps==0?B:cU.agv(B)}R=t;var $=cU.aaW(R,g),o=[],r=$[N]&1,I=c[j].b8;
c[j].jz=$[0];for(var N=1;N<R.length;N++){var B=c[j+N],M=$[N];B.jz=M;if(M!=r||B.b8!=I){o.push(T,i);T=N;
i=1;r=M;I=B.b8}else i++}o.push(T,i);var J=this.rk=[];for(var N=0;N<o.length;N+=2){var P=o[N],n=o[N+1],x=(c[j+P].jz&1)==0,L=R.slice(P,P+n),u=Typr.U.shapeHB(c[j+P].b8,L,x),C=[],W=0;
for(var w=0;w<u.length;w++){var h=u[w];C.push({D:h.g,er:h.cl,ti:h.ax,nD:h.ay,Df:h.dx,rQ:h.dy})}u=C;var A=u.slice(0);
if(!x)A.reverse();for(var w=0;w<L.length;w++){while(W+1<A.length&&A[W+1].er<=w){W++}while(W>0&&A[W-1].er==w)W--;
c[j+P+w].dA=J.length+(x?W:A.length-W-1)}for(var w=0;w<u.length;w++){J.push(u[w]);u[w].er+=P;var B=c[j+u[w].er];
if(B.D6!=-1&&B.D6<B.b8.maxp.numGlyphs){u[w].D=B.D6;var Q=B.b8.hmtx;if(Q){var l=Object.keys(Q)[0];u[w].ti=Q[l][B.D6]}}if(B.qn=="\n")u[w].ti=0;
if(B.qn=="\t")u[w].ti=B.b8.head.unitsPerEm*36/B.Cq.FontSize}}var O=gV.Ex(X),z=this.ma=cU.xS(E,y,c,j,J,j,j+D),a=this.M2,q=-1,t=[null,null,0];
while(m<z.length){cU.asV(z,p,X,Z,H[0],m,t);q++;var K={start:m,end:0,k4:new ir,Vw:new eq(0,0),Z6:!0},bN=0,kd=0;
a.push(K);K.end=t[2];if(K.start==K.end)throw"e";var U=K.end==z.length;function f(A,P,ew){var e4=ew-P>>>1;
for(var N=0;N<e4;N++){var eE=A[P+N];A[P+N]=A[ew-1-N];A[ew-1-N]=eE}}for(var Y=1;Y<5;Y++){var G=-1;for(var N=K.start;
N<K.end;N++){var M=c[z[N].start].jz;if(G==-1&&M>=Y)G=N;else if(G!=-1&&M<Y){f(z,G,N);G=-1}}var V=K.end;
if(g==0&&z[V-1].Hm)V--;if(G!=-1)f(z,G,V)}var dF=t[0],s=t[1],G=m,aH=m;for(var dw=0;dw<s.length;dw+=2){var kO=p?s[dw+1]-s[dw]-X.StartIndent-X.EndIndent-(m==0?X.FirstLineIndent:0):Infinity,hX=0;
G=aH;aH+=dF[dw>>>1];var jF=this.avC(G,aH,z,g,p!=null);if(p){if(O==1||U&&O==4)hX=jF[1]+(kO-jF[0]);if(O==2||U&&O==5)hX=jF[1]+(kO-jF[0])/2;
if(aH-G==1&&z[G].k4.m>kO)hX=0;if(q==0)hX+=X.FirstLineIndent;hX+=X.StartIndent}else{if(O==0)hX=X.StartIndent+X.FirstLineIndent;
if(O==1)hX=-jF[0]-X.EndIndent;if(O==2)hX=-jF[0]/2}hX+=s[dw];if(p&&O>2&&(O==6||!U))this.aqH(G,aH,z,kO,g,hX);
else{var gn=hX;for(var N=G;N<aH;N++){var hM=z[N],ie=hM.k4.m;hM.Vw.x=gn;if(hM.$f=="\t")ie=Math.ceil((gn+4)/36)*36-gn;
gn+=ie}}}m=K.end;for(var N=K.start;N<K.end;N++){var i7=z[N].k4.clone();i7.m8(z[N].Vw);K.k4=K.k4.uN(i7);
bN=Math.max(bN,z[N].LQ);kd=Math.max(kd,z[N].lineHeight)}K.Vw.y=q==0?0:a[q-1].Vw.y+kd;if(q==0){if(e==0&&p)H[0]+=bN;
if(e!=0)H[0]+=kd;this.Vw.y=H[0]}else H[0]+=kd;if(p)K.Z6=this.Vw.y+K.Vw.y<p.y+p.e||e==0&&q==0}var dn=X.SpaceAfter;
if(dn!=null)H[0]+=dn};cU.C$.prototype.avC=function(E,y,c,e,p){var H=0,Z=0;for(var N=E;N<y;N++)H+=c[N].k4.m;
if(p){if(e==0)for(var N=y-1;N>=E;N--)if(c[N].Hm||c[N].l2)H-=c[N].k4.m;else break;if(e==1)for(var N=E;
N<y;N++)if(c[N].Hm||c[N].l2){var X=c[N].k4.m;H-=X;Z-=X}else break}return[H,Z]};cU.C$.prototype.aqH=function(E,y,c,e,p,H){var Z=0,X=0,b=0,k=0;
for(var N=E;N<y;N++)if(c[N].Hm)b++;else{Z+=c[N].k4.m;X++}if(p==0)for(var N=y-1;N>=E;N--)if(c[N].Hm||c[N].l2){if(c[N].Hm){b--}}else break;
if(p==1)for(var N=E;N<y;N++)if(c[N].Hm||c[N].l2){if(c[N].Hm){b--;k++}}else break;if(X<=1||b==0){if(X==1)c[E].Vw.x=H;
return}var D=(e-Z)/b,j=-k*D;for(var N=E;N<y;N++){if(c[N].Hm)this.rk[c[N].zM].k4.m=c[N].k4.m=D;c[N].Vw.x=H+j;
j+=c[N].k4.m}};cU.a4F=function(E,y,c,e,p,H,Z){this.$f="";for(var N=0;N<Z;N++)this.$f+=c[H+N].qn;this.Hm=Z==1&&(c[H].qn==" "||c[H].qn=="\t");
this.l2=Z==1&&c[H].qn=="\n";this.start=H;this.end=H+Z;this.k4=new ir;this.Vw=new eq(0,0);this.LQ=0;this.lineHeight=0;
var X=0,b=0;if(Z==0){this.lineHeight=c[H].lineHeight;this.LQ=c[H].LQ;this.k4=new ir(0,-c[H].lineHeight,0,c[H].lineHeight)}var k=c[H].dA,D=c[H+Z-1].dA;
if(D<k){var j=k;k=D;D=j}while(D+1<p.length&&p[D].er==p[D+1].er){D++}this.zM=k;this.yO=D;for(var g=k;
g<=D;g++){var R=p[g],t=c[e+R.er],w=E._LineOrientation==2&&(t.Cq.BaselineDirection!=2||cU.sO(t.qn.charCodeAt(0))),B=Typr.U.glyphToPath(t.b8,R.D),r=0;
R.path={G:B.cmds,j:B.crds};var $=t.Cq.FontSize,o=1/t.b8.head.unitsPerEm*$;if(!t.Cq.AutoKerning)X+=t.Cq.Kerning*2*o*t.scale.x;
R.Vw=new eq(X,0);R.fb=0;if(w&&R.path.j.length>0){R.fb=-Math.PI/2;R.Vw.x+=$*.83;R.Vw.y=-$*.3+R.ti*o/2;
R.ti=$/o}var T=R.ti*o*t.scale.x;R.k4=new ir(0,-t.lineHeight,T,t.lineHeight);var i=R.k4.clone();i.m8(R.Vw);
if(t.Cq.Tracking!=null)r=t.Cq.Tracking*.001*$;if(t.Cq.FauxBold==!0)r+=.027*$;X+=T+r;if(g<p.length-2)R.k4.m+=r;
if(Z==1&&t.qn==" "){i.m+=2*r;R.Vw.x+=r}else if(Z==1&&t.qn!=null&&cU.sO(t.qn.charCodeAt(0)))i.m+=r;this.k4=this.k4.uN(i);
this.LQ=Math.max(this.LQ,t.LQ);this.lineHeight=Math.max(this.lineHeight,t.lineHeight)}};cU.IL=0;cU.a1o=function(E){if(cU.IL==2)return!0;
if(cU.IL==1)return!1;cU.IL=1;function y(){fetch("code/ext/fribidi.wasm").then(function(c){return c.arrayBuffer()}).then(function(c){return WebAssembly.instantiate(c)}).then(function(c){var e=c.instance.exports,p=e.memory,H=16,Z=256,X=1,b=H|Z,k=H|Z|X;
cU.agl=function(j,g){var R=j.length,t=R*4+4+R*4+R*4+R;iu.hI(e,t+R+1e7);var w=new Uint8Array(p.buffer),B=new Uint32Array(p.buffer),$=e.calloc(t,1),o=$+R*4,T=o+4,i=T+R*4,r=i+R*4;
B.set(j,$>>>2);B[o>>>2]=g==0?b:k;e.fribidi_get_bidi_types($,R,T);e.fribidi_get_bracket_types($,R,T,i);
e.fribidi_get_par_embedding_levels_ex(T,i,R,o,r);var I=w.slice(r,r+R);e.free($);return I};cU.IL=2;var D=new iU(S.E.M,!0);
D.data={d:S.H.z2,a5:"add",Wp:iL.uV,e_:null};E.T(D)})}Typr.U.initHB("code/ext/hb.wasm",y);return!1};function gV(){}gV.L2=function(E){return JSON.parse(JSON.stringify(E))};
gV.gm=function(E,y){for(var c in y)E[c]=y[c]};gV.V1=function(E,y,c,e){var p=gV.a93();if(c)gV.gR(p,0,0,c);
var H=new jr;if(e!=null)H.rotate(e);H.translate(Math.round(E),Math.round(y));var Z={u:H,Ax:p};Z.EG=gV.aa7();
Z.RO=d.Bh.R();Z.dz=new ir;return Z};gV.an2=function(E){var y=["CharacterDirection",0];for(var N=0;N<y.length;
N+=2){if(E[y[N]]!=null&&E[y[N]]!=y[N+1]){throw"e";console.log(y[N],E[y[N]])}}if(E instanceof Array)for(var N=0;
N<E.length;N++)gV.an2(E[N]);else if(E instanceof Object)for(var c in E)gV.an2(E[c])};gV.Ex=function(E,y){if(y==null)y=E.Justification;
var c=E._Direction?E._Direction:0;if(c==1){if(y==0||y==3)y++;else if(y==1||y==4)y--}return y};gV.Pv=function(E){if(E.add==null)return;
var y=E.Ax,c=y.Curve,e=E.add.vmsk,p=e.X,H=d.A.Pw(p,2).j,Z=E.u.clone();Z.Ub();d.A.u(H,Z,H);var X=H.slice(0,8);
for(var b=8;b<H.length;b+=6)X.push(H[b-2],H[b-1],H[b],H[b+1],H[b+2],H[b+3],H[b+4],H[b+5]);c.Points=X;
c.TextOnPathTRange=e.V8.slice(0);c.Reversed=e.WJ;if(gV.VY(y)==1){var c=cU.o5(y.Curve),k=d.A.n7(c[0]);
gV.fF(y,[0,0,k.m,k.e].map(Math.round));for(var N=0;N<X.length;N+=2){X[N]-=k.x;X[N+1]-=k.y}var D=new jr(1,0,0,1,k.x,k.y);
D.concat(E.u);E.u=D}};gV.Ou=function(E){if(E.add==null)return;var y=E.add.vmsk,c=E.Ax.Curve,e=c.Points,p={G:["M"],j:[e[0],e[1]]};
for(var N=0;N<e.length;N+=8){p.G.push("C");p.j.push(e[N+2],e[N+3],e[N+4],e[N+5],e[N+6],e[N+7])}d.A.u(p.j,E.u,p.j);
var H=d.A.V2(p,!0);y.X=H;y.WJ=c.Reversed;y.V8=c.TextOnPathTRange.slice(0);E.add.vogk=jN.m5(H)};gV.yd=function(E){var y={Z:0,D:0,J:0};
if(E){var c=E.Values;if(E.Type==1)y={Z:c[1]*255,D:c[2]*255,J:c[3]*255};else if(E.Type==2){var e={classID:"CMYC",Cyn:{t:"doub",v:c[1]*100},Mgnt:{t:"doub",v:c[2]*100},Ylw:{t:"doub",v:c[3]*100},Blck:{t:"doub",v:c[4]*100}};
y=d.L.yd(e)}else console.log("Unknown color type")}return y};gV.amV=function(E){for(var N=0;N<E.length;
N++){var y=E[N].StyleSheet.StyleSheetData,c=y.FillColor;if(c&&c.Type==2){var e=gV.yd(c);c.Type=1;c.Values=[1,e.Z/255,e.D/255,e.J/255]}}};
gV.EK=function(E,y){var c;if(gV.VY(E.Ax)==1){var e=gV.kq(E.Ax);c=new ir(0,0,e[2]-e[0],e[3]-e[1])}else{c=y.oA();
if(y.vB){var p=y.vB.clone(),H=d.A.S6(c);d.A.u(H.j,p,H.j);c=d.A.n7(H.j)}}return c};gV.wl=function(E){var y=E[0];
for(var N=0;N<E.length;N++)y=gV.anA(y,E[N]);return y};gV.anA=function(E,y){var c={};for(var e in E)if(JSON.stringify(E[e])==JSON.stringify(y[e]))c[e]=E[e];
return c};gV.Wn=function(E,y){var c=E.GF,e=-1;for(var N=0;N<c.length;N++)if(c[N].Name==y)e=N;if(e==-1){e=c.length;
c.push({FontType:1,Name:y,Script:0,Synthetic:0})}E.na.Font=e};gV.qO=function(E){return E.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
gV.OT=function(E,y){E.EngineDict.Editor.Text=y.replace(/\n/g,"\r")};gV.VY=function(E){return E.Curve&&E.Curve.TextOnPathTRange[0]>=0?2:E.EngineDict.Rendered.Shapes.Children[0].ShapeType};
gV.qz=function(E,y){var c=E.EngineDict.Rendered.Shapes.Children[0];c.ShapeType=y;var e=c.Cookie.Photoshop;
e.ShapeType=y;e.Base.ShapeType=y;if(y==0){delete e.BoxBounds;e.PointBase=[0,0]}if(y==1){delete e.PointBase;
e.BoxBounds=[0,0,1,1]}};gV.kq=function(E){return E.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
gV.fF=function(E,y){E.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=y};gV.ar2=function(E,y){var c=E.EngineDict.AlternateGlyphRun;
if(c==null)return-1;var e=gV.jJ(c.RunLengthArray,y).t_;if(c.RunArray[e]==null)return-1;var p=c.RunArray[e].Glyph;
return p==null?-1:p};gV.ayl=function(E,y,c){var e=E.EngineDict.AlternateGlyphRun;if(e==null){e=E.EngineDict.AlternateGlyphRun=gV.a20();
e.RunArray.push({});e.RunLengthArray.push(gV.qO(E).length)}var p=gV.jJ(e.RunLengthArray,y),H=p.t_,Z=y-p.H2,X=e.RunArray[H],b=JSON.stringify(X),k=e.RunLengthArray[H];
if(Z!=0){e.RunArray.splice(H,0,JSON.parse(b));e.RunLengthArray.splice(H,0,Z);e.RunLengthArray[H+1]-=Z;
H++;k-=Z;Z=0}if(k!=1){e.RunArray.splice(H+1,0,JSON.parse(b));e.RunLengthArray.splice(H+1,0,k-1);e.RunLengthArray[H]=1;
k=1}X.Glyph=c};gV.anv=function(E,y){var c=E.EngineDict.StyleRun.RunLengthArray;return gV.jJ(c,y).t_};
gV.a3Q=function(E,y){var c=E.ResourceDict.StyleSheetSet[0].StyleSheetData,e={};for(var p in c)e[p]=c[p];
var H=E.EngineDict.StyleRun.RunArray[y].StyleSheet.StyleSheetData;gV.gm(e,H);return e};gV.a6D=function(E,y){var c=E.EngineDict.ParagraphRun.RunLengthArray;
return gV.jJ(c,y).t_};gV.a7I=function(E,y){var c=E.ResourceDict.ParagraphSheetSet[0].Properties,e={};
for(var p in c)e[p]=c[p];var H=E.EngineDict.ParagraphRun.RunArray[y].ParagraphSheet.Properties;gV.gm(e,H);
var Z=["StartIndent","EndIndent","FirstLineIndent"];for(var N=0;N<3;N++)if(e[Z[N]]==null)e[Z[N]]=0;return e};
gV.Y8=function(E,y,c){if(c=="")return;var e=gV.qO(E);gV.OT(E,e.substring(0,y)+c+e.substring(y,e.length));
var p=E.EngineDict.StyleRun,H=p.RunLengthArray,Z=gV.jJ(H,y-1);H[Z.t_]+=c.length;var X=E.EngineDict.AlternateGlyphRun;
if(X){var H=X.RunLengthArray,Z=gV.jJ(H,y-1);H[Z.t_]+=c.length}var b=E.EngineDict.ParagraphRun,H=b.RunLengthArray,k=gV.jJ(H,y),D=c.split("\n");
if(D.length==1){H[k.t_]+=c.length;return}H.splice(k.t_+1,0,H[k.t_]-(y-k.H2));b.RunArray.splice(k.t_+1,0,gV.L2(b.RunArray[k.t_]));
H[k.t_]-=H[k.t_+1];H[k.t_]+=D[0].length+1;for(var N=1;N<D.length-1;N++){b.RunArray.splice(k.t_+N,0,gV.L2(b.RunArray[k.t_+N-1]));
b.RunLengthArray.splice(k.t_+N,0,D[N].length+1)}H[k.t_+D.length-1]+=D[D.length-1].length};gV.qb=function(E,y,c){var e=gV.qO(E);
gV.OT(E,e.substring(0,y)+e.substring(c,e.length));gV.j3(E.EngineDict.ParagraphRun,y,c,!0);gV.j3(E.EngineDict.StyleRun,y,c,!1);
var p=E.EngineDict.AlternateGlyphRun;if(p)gV.j3(p,y,c,!1)};gV.j3=function(E,y,c,e){var p=E.RunLengthArray,H=gV.jJ(p,y),Z=gV.jJ(p,c),X=[];
for(var N=0;N<p.length;N++)for(var b=0;b<p[N];b++)X.push(N);X.splice(y,c-y);var k=[];for(var N=0;N<p.length;
N++)k.push(0);for(var N=0;N<X.length;N++)k[X[N]]++;for(var N=0;N<p.length;N++){if(k[N]==0){k.splice(N,1);
p.splice(N,1);E.RunArray.splice(N,1);N--}else if(k[N]<p[N])p[N]=k[N]}if(e&&H.t_!=Z.t_&&H.H2!=y){p[H.t_]+=p[H.t_+1];
p.splice(H.t_+1,1);E.RunArray.splice(H.t_+1,1)}};gV.gR=function(E,y,c,e){var p=E.EngineDict.Editor.Text.length;
if(c==p-2)c++;if(e.na.Font!=null)E.ResourceDict.FontSet=e.GF.slice(0);if(y<=c)gV.ajB(E.EngineDict.StyleRun,e.na,y,c,!0);
gV.ajB(E.EngineDict.ParagraphRun,e.dV,y,c,!1)};gV.c$=function(E,y,c){var e={GF:E.ResourceDict.FontSet.slice(0),na:[],dV:[]},p=E.EngineDict.StyleRun.RunLengthArray,H=gV.jJ(p,y).t_,Z=gV.jJ(p,c).t_;
for(var N=H;N<=Z;N++){var X=gV.L2(E.ResourceDict.StyleSheetSet[0].StyleSheetData),b=E.EngineDict.StyleRun.RunArray;
if(b.length==0)continue;var k=b[N].StyleSheet.StyleSheetData;gV.gm(X,k);e.na.push(X)}var D=E.EngineDict.ParagraphRun.RunLengthArray,j=gV.jJ(D,y).t_,g=gV.jJ(D,c).t_;
for(var N=j;N<=g;N++){var R=E.EngineDict.ParagraphRun.RunArray;if(R.length==0)continue;e.dV.push(gV.L2(R[N].ParagraphSheet.Properties))}e.na=e.na.length==0?{}:gV.wl(e.na);
e.dV=e.dV.length==0?{}:gV.wl(e.dV);return e};gV.ajB=function(E,y,c,e,p){var H=E.RunLengthArray;if(p){var Z=gV.jJ(H,c);
if(Z.H2!=c){var X=H[Z.t_];H.splice(Z.t_,0,c-Z.H2);H[Z.t_+1]=X-H[Z.t_];E.RunArray.splice(Z.t_+1,0,gV.L2(E.RunArray[Z.t_]))}var b=gV.jJ(H,e);
if(b.H2+H[b.t_]-1!=e){var X=H[b.t_];H.splice(b.t_,0,e-b.H2+1);H[b.t_+1]=X-H[b.t_];E.RunArray.splice(b.t_+1,0,gV.L2(E.RunArray[b.t_]))}}var Z=gV.jJ(H,c),b=gV.jJ(H,e);
if(p)for(var N=Z.t_;N<=b.t_;N++)gV.gm(E.RunArray[N].StyleSheet.StyleSheetData,y);else for(var N=Z.t_;
N<=b.t_;N++)gV.gm(E.RunArray[N].ParagraphSheet.Properties,y)};gV.ajf=function(E,y,c){var e=E.EngineDict.StyleRun.RunLengthArray,p=[],H=0;
for(var N=0;N<e.length;N++){var Z=e[N];for(var X=0;X<Z;X++)if(y<=H+X&&H+X<c)p.push(N);H+=Z}var b=p[0],k=[];
for(var N=0;N<p.length;N++){var D=p[N]-b;if(D==k.length)k.push(0);k[D]++}return k};gV.ao5=function(E){var y=E.EngineDict.StyleRun,c=y.RunArray,e=y.RunLengthArray;
for(var N=0;N<e.length-1;N++){var p=c[N].StyleSheet.StyleSheetData,H=c[N+1].StyleSheet.StyleSheetData;
if(JSON.stringify(p)==JSON.stringify(H)){c.splice(N+1,1);e[N]+=e[N+1];e.splice(N+1,1);N--}}};gV.Fh=function(E){var y=E.EG.AntA.v.Annt;
y=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(y);if(y==-1)y=1;return y};gV.Ec=function(E,y){E.EG.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][y]};
gV.HU=function(E,y){var c,e;c=["FontSize","Leading","BaselineShift","_LineWidth"];e=E.na;for(var N=0;
N<c.length;N++)if(e[c[N]]!=null)e[c[N]]*=y;c=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
e=E.dV;for(var N=0;N<c.length;N++)if(e[c[N]]!=null)e[c[N]]*=y};gV.av7=function(){return gV.c$(gV.L2(gV.ak4),0,0)};
gV.aa7=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
gV.jJ=function(E,y){var c=0,N=0;while(c+E[N]<=y){c+=E[N];N++}return{t_:N,H2:c}};gV.a93=function(){var E=gV.L2(this.ak4);
return E};gV.ayP=function(E,y){var c=y.dV};gV.aub=function(E,y){var c=y.na,e;e=E.Undl;if(e&&e.v.Undl=="underlineOnLeftInVertical")c.Underline=!0;
e=E.syntheticItalic;if(e)c.FauxItalic=e.v};gV.aeY={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
gV.am2={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
gV.a20=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};gV.ak4={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(gV.aeY))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(gV.aeY))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(gV.am2))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var ak={};ak.adE=function(E){var y=ak.ahO(E._0,E._1);ak.as9(y,E._0);return y};ak.ado=function(E,y,c){var e={};
e._98={_0:"i7"};e._0=ak.aiJ(E,y,c?c._0:null);e._1=ak.ate(E,y,e._0,c?c._1:null);return e};ak.aiJ=function(E,y,c){var e={};
e._1=ak.ach(E,c?c._1:null);e._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};e._3=JSON.parse(JSON.stringify(ak.aqv));
e._4=JSON.parse(JSON.stringify(ak.au4));e._5=ak.aDh(E,e._1._0,c?c._5:null);e._6=ak.at7(E,c?c._6:null);
e._8=ak.arw(E,y,c?c._8:null);e._9=ak.auU;return e};ak.as9=function(E,y){ak.apl(E,y._5,y._1._0)};ak.ach=function(E,y){var c=[],e=[];
for(var N=0;N<E.length;N++){var p=E[N].ResourceDict.FontSet;for(var H=0;H<p.length;H++){var Z=p[H];if(e.indexOf(Z.Name)!=-1)continue;
c.push(Z);e.push(Z.Name)}}var X={_0:[]};for(var N=0;N<c.length;N++){var b=c[N],k={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+b.Name,_1:"i"+b.Script,_2:"i"+b.FontType}}};
if(b.Script==0)delete k._0._0._1;X._0.push(k)}return X};ak.aDh=function(E,y,c){var e={_0:[],_1:[]},p={_0:JSON.parse(JSON.stringify(ak.auV))};
ak.a1b(p._0,E[0].ResourceDict.StyleSheetSet[0],y,E[0].ResourceDict.FontSet);e._0.push(p);e._1.push({_0:"i0"});
e._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});e._1.push({_0:"i1"});return e};ak.apl=function(E,y,c){var e=y._0[0];
for(var N=0;N<E.length;N++)ak.a45(e._0,E[N].ResourceDict.StyleSheetSet[0],c,E[N].ResourceDict.FontSet)};
ak.at7=function(E,y){var c={_0:[],_1:[]},e={_0:JSON.parse(JSON.stringify(ak.SF))};ak.xt(e._0,E[0].ResourceDict.ParagraphSheetSet[0]);
c._0.push(e);c._1.push({_0:"i0"});e={_0:JSON.parse(JSON.stringify(ak.SF))};ak.xt(e._0,E[0].ResourceDict.ParagraphSheetSet[0]);
e._0._0="sBasic Paragraph";e._0._6="i0";c._0.push(e);c._1.push({_0:"i1"});return c};ak.arw=function(E,y,c){var e={_0:[]};
for(var N=0;N<E.length;N++){var p=E[N].Curve,H={};e._0.push({_0:H});var Z=gV.VY(E[N]);H._1={};H._2={};
H._2._0="i"+Z;if(E[N]._LineOrientation==2)H._2._1="i2";if(Z==0){delete H._1;H._2._6=["f-1","f-1"];H._2._11={_4:"i-1",_7:!1}}else if(Z==1&&p==null){var X=gV.kq(E[N]),b=X[2],k=X[3];
H._1._0=ak.TA("f",[0,0,0,0,b,0,b,0,b,0,b,0,b,k,b,k,b,k,b,k,0,k,0,k,0,k,0,k,0,0,0,0]);H._2._6=["f-2","f-2"];
H._2._11={_4:"i-2",_7:!1}}else if(Z==1){var X=gV.kq(E[N]),b=X[2],k=X[3];H._1._0=ak.TA("f",p.Points);
H._2._6=["f-3","f-3"];H._2._11={_4:"i-3",_7:!1}}else if(Z==2){H._1._0=ak.TA("f",p.Points);H._2._6=ak.TA("f",p.TextOnPathTRange);
H._2._11={_0:p.Reversed,_3:"i0",_5:"f0",_7:!1}}}return e};ak.ate=function(E,y,c,e){var p={};p._0=JSON.parse(JSON.stringify(ak.a9n));
p._1=ak.afE(E,y,c,e?e._1:null);p._2=JSON.parse(JSON.stringify(ak.auV._6));p._3=JSON.parse(JSON.stringify(ak.SF._5));
return p};ak.ahO=function(E,y){return ak.ar7(E,y._1)};ak.afE=function(E,y,c,e){var p=[],H=c._1._0;for(var N=0;
N<E.length;N++){var Z=E[N],X={_0:{}};p.push(X);X._0._0="s"+Z.EngineDict.Editor.Text;X._0._0=X._0._0;
var b=X._0._5={_0:[]},k=Z.EngineDict.ParagraphRun;for(var D=0;D<k.RunArray.length;D++){var j={_0:{}};
b._0.push(j);j._0._0={_0:"s",_5:{},_6:"i1"};ak.xt(j._0._0,k.RunArray[D].ParagraphSheet);j._1="i"+k.RunLengthArray[D]}var g=X._0._6={_0:[]};
k=Z.EngineDict.StyleRun;for(var D=0;D<k.RunArray.length;D++){var R={_0:{}};g._0.push(R);R._0._0={_0:"s",_5:"i1",_6:{}};
ak.a1b(R._0._0,k.RunArray[D].StyleSheet,H,Z.ResourceDict.FontSet);R._1="i"+k.RunLengthArray[D]}k=Z.EngineDict.AlternateGlyphRun;
if(k){var t=X._0._9={_0:[]};for(var D=0;D<k.RunArray.length;D++){var w={_0:{}};t._0.push(w);var B=k.RunArray[D];
if(B.Glyph!=null){w._0._0={_0:"i"+B.Glyph,_1:"e"}}w._1="i"+k.RunLengthArray[D]}}X._0._10={_0:"i4",_2:!0};
X._1=ak.view.al1(Z,null,N,null)}return p};ak.ar7=function(E,y){var c=[],e=E._1._0;if(y)for(var N=0;N<y.length;
N++){var p=gV.a93();c.push(p);var H=y[N];p.EngineDict.Editor.Text=H._0._0.slice(1);var Z=p.EngineDict.ParagraphRun.RunArray[0],X=p.EngineDict.ParagraphRun,b=H._0._5;
if(b)for(var k=0;k<b._0.length;k++){var D=b._0[k];X.RunLengthArray[k]=parseInt(D._1.slice(1));X.RunArray[k]=JSON.parse(JSON.stringify(Z));
ak.aqe(D._0._0,X.RunArray[k].ParagraphSheet)}else{X.RunLengthArray[0]=gV.qO(p).length}var j=H._0._6;
X=p.EngineDict.StyleRun;if(j)for(var k=0;k<j._0.length;k++){var g=j._0[k];X.RunLengthArray[k]=parseInt(g._1.slice(1));
X.RunArray[k]={StyleSheet:{StyleSheetData:{}}};ak.a45(g._0._0,X.RunArray[k].StyleSheet,e,p.ResourceDict.FontSet)}else{X.RunLengthArray[0]=gV.qO(p).length;
X.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return c};ak.a1b=function(E,y,c,e,p){E._0="s"+(y.Name?y.Name:"");
var H=E._6,Z=p?p._6:null,X=y.StyleSheetData;if(X.Font!=null){var b=e[X.Font].Name,k=-1;for(var N=0;N<c.length;
N++)if("s"+b==c[N]._0._0._0){k=N;break}H._0="i"+k}if(X.FontSize!=null)H._1="f"+X.FontSize;if(X.FauxBold!=null)H._2=X.FauxBold;
if(X.FauxItalic!=null)H._3=X.FauxItalic;if(X.AutoLeading!=null)H._4=X.AutoLeading;if(X.Leading!=null)H._5="f"+X.Leading;
if(X.HorizontalScale!=null)H._6="f"+X.HorizontalScale;if(X.VerticalScale!=null)H._7="f"+X.VerticalScale;
if(X.Tracking!=null)H._8="i"+X.Tracking;if(X.BaselineShift!=null)H._9="f"+X.BaselineShift;if(X.AutoKerning!=null)H._11="i"+(X.AutoKerning?1:0);
if(X.FontCaps!=null)H._12="i"+X.FontCaps;if(X.FontBaseline!=null)H._13="i"+X.FontBaseline;if(X.Strikethrough!=null)H._15="i"+(X.Strikethrough?1:0);
if(X.Underline!=null)H._16="i"+(X.Underline?2:0);if(X.Ligatures!=null)H._18=X.Ligatures;if(X.DLigatures!=null)H._19=X.DLigatures;
if(X.BaselineDirection!=null)H._35="i"+X.BaselineDirection;if(X.Language!=null)H._38="i"+X.Language;
if(X.FillColor!=null)H._53=ak.DQ(X.FillColor);if(X.StrokeColor!=null)H._54=ak.DQ(X.StrokeColor);if(X.FillFlag!=null)H._56=X.FillFlag;
if(X.StrokeFlag!=null)H._57=X.StrokeFlag;if(X._LineWidth!=null)H._63="f"+X._LineWidth;if(X._FillBackgroundColor!=null)H._79=ak.DQ(X._FillBackgroundColor);
if(X._FillBackgroundFlag!=null)H._80=X._FillBackgroundFlag};ak.DQ=function(E){return{_99:"/SimplePaint",_0:{_0:"i1",_1:ak.TA("f",E.Values)}}};
ak.a45=function(E,y,c,e){var p=E._6;if(p==null)return;var H=y.StyleSheetData;if(p._0){var Z=parseInt(p._0.slice(1)),X=c[Z]._0._0._0.slice(1);
gV.Wn({na:H,GF:e},X)}if(p._1!=null)H.FontSize=parseFloat(p._1.slice(1));if(p._2!=null)H.FauxBold=p._2;
if(p._3!=null)H.FauxItalic=p._3;if(p._4!=null)H.AutoLeading=p._4;if(p._5!=null)H.Leading=parseFloat(p._5.slice(1));
if(p._6!=null)H.HorizontalScale=parseFloat(p._6.slice(1));if(p._7!=null)H.VerticalScale=parseFloat(p._7.slice(1));
if(p._8!=null)H.Tracking=parseFloat(p._8.slice(1));if(p._9!=null)H.BaselineShift=parseFloat(p._9.slice(1));
if(p._11!=null)H.AutoKerning=parseFloat(p._11.slice(1))==1;if(p._12!=null)H.FontCaps=parseFloat(p._12.slice(1));
if(p._13!=null)H.FontBaseline=parseFloat(p._13.slice(1));if(p._15!=null)H.Strikethrough=parseFloat(p._15.slice(1))==1;
if(p._16!=null)H.Underline=parseFloat(p._16.slice(1))==1;if(p._18!=null)H.Ligatures=p._18;if(p._19!=null)H.DLigatures=p._19;
if(p._35!=null)H.BaselineDirection=parseFloat(p._35.slice(1));if(p._38!=null)H.Language=parseFloat(p._38.slice(1));
if(p._53!=null)H.FillColor=ak.ns(p._53);if(p._54!=null)H.StrokeColor=ak.ns(p._54);if(p._56!=null)H.FillFlag=p._56;
if(p._57!=null)H.StrokeFlag=p._57;if(p._63!=null)H._LineWidth=parseFloat(p._63.slice(1));if(p._79!=null)H._FillBackgroundColor=ak.ns(p._79);
if(p._80!=null)H._FillBackgroundFlag=p._80};ak.ns=function(E){var y=E._0._0,c=E._0._1,e=[1,0,0,0],p=[];
for(var N=0;N<c.length;N++)p[N]=parseFloat(c[N].slice(1));if(y=="i0")e[1]=e[2]=e[3]=p[1];else if(y=="i1")e=p;
else if(y=="i2")e=[1].concat(UDOC.C.cmykToRgb(p.slice(1)));else console.log("unknown color type",y,p);
return{Type:1,Values:e}};ak.xt=function(E,y){E._0="s"+(y.Name?y.Name:"");var c=E._5,e=y.Properties;if(e.Justification!=null)c._0="i"+e.Justification;
if(e.FirstLineIndent!=null)c._1="f"+e.FirstLineIndent;if(e.StartIndent!=null)c._2="f"+e.StartIndent;
if(e.EndIndent!=null)c._3="f"+e.EndIndent;if(e.SpaceBefore!=null)c._4="f"+e.SpaceBefore;if(e.SpaceAfter!=null)c._5="f"+e.SpaceAfter;
if(e.AutoLeading!=null)c._7="f"+e.AutoLeading;if(e.AutoHyphenate!=null)c._9=e.AutoHyphenate;if(e._Direction!=null)c._33="i"+e._Direction;
if(e._ComposerEngine!=null)c._35="i"+e._ComposerEngine};ak.aqe=function(E,y){var c=E._5;if(c==null)return;
var e=y.Properties;if(c._0)e.Justification=parseInt(c._0.slice(1))};ak.TA=function(E,y){var c=[];for(var N=0;
N<y.length;N++)c.push(E+y[N]);return c};ak.aqv={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
ak.au4={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
ak.auV={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
ak.SF={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
ak.auU={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
ak.a9n={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var iW={};iW.aCy=function(E){return iW.nl(E,iW._Q,0)};iW.afV=function(E){return iW.kJ(E,iW._Q)};iW.nl=function(E,y,c){var e;
if(typeof E=="string")return E;if(E instanceof Array){e=[];for(var N=0;N<E.length;N++)e[N]=iW.nl(E[N],y,c+1)}else{e={};
var p={};for(var H in y){var Z=y[H],X="_"+Z[0];if(E[X]!=null){e[H]=Z[1]?iW.nl(E[X],Z[1],c+1):E[X];p[X]=!0}}for(var H in E){if(p[H]==null){if(H.length>3)continue;
console.log(y,p);console.log(H,E);throw"e"}}}return e};iW.kJ=function(E,y){var c;if(typeof E=="string")return E;
else if(E instanceof Array){c=[];for(var N=0;N<E.length;N++)c[N]=iW.kJ(E[N],y)}else{c={};var e={};for(var p in y){var H=y[p],Z="_"+H[0];
if(E[p]!=null){c[Z]=H[1]?iW.kJ(E[p],H[1]):E[p];e[p]=!0}}for(var p in E){if(e[p]==null){console.log(y,e);
console.log(p,E);throw"e"}}}return c};iW.PS={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
iW.Y1={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,iW.PS],_StrokeColor:[54,iW.PS],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,iW.PS],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
iW.aqQ={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,iW.Y1],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
iW.a3p={_Name:[0],_Features:[5,iW.aqQ],_Parent:[6],_UUID:[97]};iW.ag7={_Name:[0],_Parent:[5],_Features:[6,iW.Y1],_UUID:[97]};
iW._Q={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,iW.ag7]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,iW.a3p]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,iW.a3p]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,iW.ag7]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,iW.Y1],_OriginalNormalParagraphFeatures:[3,iW.aqQ],_4:[4]}]};
ak.view={};ak.view.al1=function(E,y,c,e){var p={},H=gV.VY(E);p._0=[{_0:"i"+c}];return p};function CSS(){}CSS.apg=function(E,y){var c=E.add,e=c.vmsk,p=c.vstk,H=c.lmfx,Z=c.TySh,X=[],b=CSS.uX(H,c),k=E.opacity/255*(E.add.iOpa!=null?E.add.iOpa/255:1);
if(k!=1)X.push("opacity: "+k.toFixed(3));if(E.iU()&&e){var D=d.o.L$(e.X);if(!D.tj()){X.push("width: "+Math.round(D.m)+"px");
X.push("height: "+Math.round(D.e)+"px")}var j=d.o.a1R(e.X);if(j>0)X.push("border-radius: "+Math.round(j)+"px")}else if(Z){var g=Z.Ax;
if(gV.VY(g)==1){var D=gV.kq(g);X.push("width: "+Math.round(D[2])+"px");X.push("height: "+Math.round(D[3])+"px")}CSS.agf(X,gV.c$(g,0,0),Z.u,!1,!1,b[0])}CSS.ap4(y,H,X);
if(Z==null)CSS.a1h(b,X);if(p==null||!p.strokeEnabled.v)p=hA.Id(H);if(p&&p.strokeEnabled.v){var R=p.strokeStyleContent.v,t=R.classID,w=p.strokeStyleOpacity.v.val/100,B=p.strokeStyleLineWidth.v.val,$="";
if(t=="solidColorLayer")$=CSS.iB(R.Clr.v,w);X.push("border: "+B+"px solid "+$)}return X};CSS.ap4=function(E,y,c){if(y==null||!y.masterFXSwitch.v)return;
var e=y.dropShadowMulti.v.concat(y.innerShadowMulti.v);for(var N=0;N<e.length;N++){var p=e[N].v;if(p.enab.v){var H=p.classID=="IrSh",Z=p.Dstn.v.val,X=p.lagl.v.val*Math.PI/180;
if(p.uglg&&p.uglg.v)X=E.Ac()*Math.PI/180;var b=Z*Math.cos(X),k=Z*Math.sin(X),D=(b==0?"0 ":CSS.aip(-b)+"px ")+(k==0?"0 ":CSS.aip(k)+"px ")+p.blur.v.val/2+"px "+CSS.iB(p.Clr.v,p.Opct.v.val/100);
if(H)c.push("box-shadow: inset "+D);else c.push("filter: drop-shadow("+D+")")}}};CSS.uX=function(E,y){var c=hA.hc(E,y),e=c[0],p=c[1],H,Z;
if(e){H=CSS.iB(e.Clr.v,y.iOpa!=null?y.iOpa/255:1)}else if(p){Z=CSS.q5(p)}return[H,Z]};CSS.a1h=function(E,y){if(E[0])y.push("background-color: "+E[0]);
if(E[1])y.push("background-image: "+E[1])};CSS.L0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aip=function(j1){return""+parseFloat(j1.toFixed(3))};CSS.LF=function(E){if(E==null)return{Z:0,D:0,J:0};
var y=E.indexOf("(");if(y!=-1){var c=E.slice(y+1,E.length-1).split(",");for(var N=0;N<c.length;N++){var e=c[N].trim();
c[N]=parseFloat(e)*(e.endsWith("%")?255/100:1)}return{Z:c[0],D:c[1],J:c[2]}}if(E.charAt(0)!="#"){var p=CSS.L0;
if(p[E])E=p[E];else console.log("unknown color "+E)}E=E.slice(1);if(E.length==4)E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]+E[3]+E[3];
if(E.length==3)E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2];var H=-1;if(E.length==8){H=parseInt(E.slice(6),16);E=E.slice(0,6)}E=parseInt(E,16);
var Z={Z:E>>16&255,D:E>>8&255,J:E&255};if(H!=-1)Z.U=H;return Z};CSS.iB=function(E,y){return CSS.Z9(d.L.yd(E),y)};
CSS.Z9=function(E,y){if(y==null)y=1;var c=Math.round(E.Z),e=Math.round(E.D),p=Math.round(E.J),H=c<<16|e<<8|p;
return y==1?"#"+d.ly(H):"rgba("+c+","+e+","+p+","+y+")"};CSS.q5=function(E){var y=E.Grad.v;if(y.Clrs==null)return"";
var c=y.Clrs.v.slice(0),e=y.Trns.v.slice(0),p=E.Ofst.v,H=E.Type.v.GrdT=="Rdl"?1:0,Z=(H==1?"radial":"linear")+"-gradient",X=H==0?Math.round(-E.Angl.v.val+90)+"deg":"circle at center",b=E.Rvrs.v,k=d.L.u2(y,b);
for(var N=0;N<k.length;N++){var D=k[N],j=D[1];X+=", "+CSS.Z9({Z:j[0]*255,D:j[1]*255,J:j[2]*255},D[2])+" "+Math.round(D[0]*100)+"%"}return Z+"("+X+")"};
CSS.agf=function(E,y,c,e,p,H){var Z=y.na,X=e?1:c.ul(),b=Math.round(Z.FontSize*X);E.push("font-size: "+b+"px");
var k=Z.Tracking;if(!e&&k!=null&&k!=0)E.push("letter-spacing: "+Math.round(k*b/1e3)+"px");if(!Z.AutoLeading)E.push("line-height: "+Math.round(Z.Leading*X)+"px");
if(Z.Strikethrough)E.push("text-decoration: line-through");if(Z.Underline)E.push("text-decoration: underline");
if(Z.FontCaps==2)E.push("text-transform: uppercase");var D=gV.yd(Z.FillColor);D=[D.Z,D.D,D.J].map(Math.round);
E.push((e?"fill: ":"color: ")+(H?H:"#"+d.ly(D[0]<<16|D[1]<<8|D[2])));var j=y.GF[Z.Font].Name;if(j){var g=ik.Zb.Mu(j),R="",t=null,w=null;
if(g!=null&&j!=ik.he(g))g=null;if(p&&g)R+="\""+j+"\", ";var B=j.toLowerCase();if(g){t=ik.Ir(g)[0];if(g["OS/2"])w=g["OS/2"].usWeightClass}else{t=CSS.aAB(j);
if(B.indexOf("light")!=-1)w=300;else if(B.indexOf("medium")!=-1)w=500;else if(B.indexOf("black")!=-1||B.indexOf("extrabold")!=-1)w=800;
else if(B.indexOf("bold")!=-1)w="bold"}if(t!=null)R+="\""+t+"\"";if(w!=null)E.push("font-weight: "+w);
if(B.indexOf("italic")!=-1||B.indexOf("oblique")!=-1)E.push("font-style: italic");if(R)E.push("font-family: "+R)}var $=y.dV.Justification;
if($!=null&&$!=0)if(e){}else E.push("text-align: "+["left","right","center"][$%3])};CSS.aAB=function(E){E=E.split("-")[0];
while(E.endsWith("MT")||E.endsWith("PS"))E=E.slice(0,E.length-2);var y=!0;for(var N=0;N<E.length;N++){var c=E.charAt(N);
if(!y&&c.toLowerCase()!=c){E=E.slice(0,N)+" "+E.slice(N);N++;y=!0}else y=!1}return E};function hZ(){}hZ.wY={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
hZ.Bi=function(E,y){var c=Date.now(),e=E.split("\n"),p;if(e.length==1)e=E.split("\r");for(var N=0;N<e.length;
N++)if(e[N].trim()[0]=="#"){e[N]=""}E=e.join("\n");try{p=acorn.parse(E)}catch(b4){console.log(b4);return}var H=JSON.parse(JSON.stringify(hZ.Yo.XO));
H.__return=!1;H.__continue=!1;H.__break=!1;H.__throw=!1;H.__fs={};H.__window={};hZ.eval(p,y,H);var Z=H.__fs;
if(Object.keys(Z).length!=0){var X=UZIP.encode(Z);fz.save(X,"output.zip")}};hZ.eval=function(E,y,c){var e=E.type;
if(!1){}else if(e=="Program"||e=="BlockStatement"){var p=E.body;for(var N=0;N<p.length;N++){var H=p[N].type;
if(H=="FunctionDeclaration")c[p[N].id.name]=p[N]}for(var N=0;N<p.length;N++){var H=p[N].type,Z=hZ.eval(p[N],y,c);
if(c.__continue&&c.__pif==null){c.__continue=!1;return Z}if(c.__return||c.__break||c.__throw)return Z}}else if(e=="ReturnStatement"){c.__return=!0;
return E.argument?hZ.ub(E.argument,y,c):null}else if(e=="BreakStatement"){c.__break=!0}else if(e=="ContinueStatement"){c.__continue=!0}else if(e=="VariableDeclaration"){var X=E.declarations;
for(var N=0;N<X.length;N++)hZ.eval(X[N],y,c)}else if(e=="VariableDeclarator"){c[E.id.name]=E.init?hZ.ub(E.init,y,c):null}else if(e=="FunctionDeclaration"){c[E.id.name]=E}else if(e=="MemberExpression"){var b=hZ.ub(E.object,y,c),k=E.computed?hZ.ub(E.property,y,c):hZ.eval(E.property,y,c),Z;
if(b.V!=null)Z=hZ.Yo.jV(b,k,y,c);else if(b==window&&hZ.wY[k]){}else Z=b[k];return Z}else if(e=="ArrayExpression"){var D=[],j=E.elements;
for(var N=0;N<j.length;N++)D.push(hZ.ub(j[N],y,c));return D}else if(e=="ObjectExpression"){var D={},j=E.properties;
for(var N=0;N<j.length;N++){var g=j[N],R=j[N].key.name?j[N].key.name:j[N].key.value;D[R]=hZ.ub(j[N].value,y,c)}return D}else if(e=="ExpressionStatement"){return hZ.eval(E.expression,y,c)}else if(e=="NewExpression"){var t=E.arguments,w=E.callee,B=w.type,$=w.name,o=[],D=null;
for(var N=0;N<t.length;N++)o.push(hZ.ub(t[N],y,c));if($=="Array")D=new window[$];else if(B=="Identifier")D=hZ.Yo.avd($,o,y,c);
else throw"e";if(D==null)throw"new "+$;return D}else if(e=="CallExpression"){var t=E.arguments,w=E.callee,B=w.type,T={};
for(var i in c)T[i]=c[i];var o=[];for(var N=0;N<t.length;N++)o.push(hZ.ub(t[N],y,c));if(B=="Identifier"){var r=w.name,I=c[r];
if(I&&I.V=="AppFunc"){r=I.p2;I=null}if(I){if(I.params){var M=I.params;for(var N=0;N<M.length;N++)T[M[N].name]=o[N];
return hZ.eval(I.body,y,T)}else{return I.apply(null,o)}}else if(hZ.Yo.agg.indexOf(r)!=-1)return hZ.Yo.Rm({V:"Application"},r,o,y,c);
else if(window[r]==null)console.log("Unknown function "+r);else if(hZ.wY[r])alert(r+"() not available");
else{var J=window[r].apply(window,o);return J}}else if(B=="MemberExpression"){var b=hZ.ub(w.object,y,c),k=w.computed?hZ.ub(w.property,y,c):hZ.eval(w.property,y,c);
if(b==window&&hZ.wY[k])return;if(b.V!=null)return hZ.Yo.Rm(b,k,o,y,c);else if(k=="sort"&&b[0]&&b[0].V=="Layer"){return b.sort(function(U,f){return U.b.getName()>f.b.getName()?1:-1})}else if(k=="toSource")return JSON.stringify(b);
else return b[k].apply(b,o)}else if(B=="FunctionExpression"){return hZ.eval(w.body,y,c)}else console.log(E)}else if(e=="AssignmentExpression"){var P=E.operator,n=E.left,x=n.type,L=hZ.ub(n,y,c),u=hZ.ub(E.right,y,c),Z=null;
if(!1){}else if(P=="=")Z=u;else if(P=="+=")Z=L+u;else if(P=="-=")Z=L-u;else if(P=="*=")Z=L*u;else if(P=="/=")Z=L/u;
else if(P=="%=")Z=L%u;else if(P=="&=")Z=L&u;else if(P=="|=")Z=L|u;else if(P=="&&=")Z=L&&u;else if(P=="||=")Z=L||u;
else console.log(E);if(x=="Identifier"){var C=n.name;if(c.hasOwnProperty(C))c[C]=Z;else c.__window[C]=Z}else if(x=="MemberExpression"){var h=hZ.eval(n.property,y,c),A=hZ.ub(n.object,y,c);
if(A.V!=null)hZ.Yo.aoO(A,h,Z,y,c);else A[h]=Z}else console.log(E);return Z}else if(e=="Identifier")return E.name;
else if(e=="Literal")return E.value;else if(e=="UpdateExpression"){var P=E.operator,W=E.argument.name,D=hZ.ub(E.argument,y,c),Q=c;
if(Q[W]==null)Q=c.__window;if(!1){}else if(P=="++"){Q[W]++;return E.prefix?Q[W]:Q[W]-1}else if(P=="--"){Q[W]--;
return E.prefix?Q[W]:Q[W]+1}else console.log(E)}else if(e=="UnaryExpression"){var P=E.operator,l=hZ.ub(E.argument,y,c);
if(l&&l.V=="UnitValue"){if(P=="-")return-l.b;else return hZ.aBP(l.b,P)}else return hZ.aBP(l,P)}else if(e=="BinaryExpression"||e=="LogicalExpression"){var P=E.operator,n=hZ.ub(E.left,y,c);
if(e=="LogicalExpression"&&P=="&&"&&!n)return n;var l=hZ.ub(E.right,y,c);if(n==null||l==null)return hZ.W8(n,l,P);
else if(n.V=="UnitValue"&&l.V=="UnitValue")return hZ.W8(n.b,l.b,P);else if(n.V=="UnitValue")return hZ.W8(n.b,l,P);
else if(l.V=="UnitValue"){if(P=="-")return-(n-l.b);else return hZ.W8(n,l.b,P)}else return hZ.W8(n,l,P)}else if(e=="IfStatement"){var O=hZ.ub(E.test,y,c),z=c.__pif,Z=null;
c.__pif=!0;if(O)Z=hZ.eval(E.consequent,y,c);else if(E.alternate)Z=hZ.eval(E.alternate,y,c);c.__pif=z;
return Z}else if(e=="ConditionalExpression"){var O=hZ.ub(E.test,y,c);if(O)return hZ.ub(E.consequent,y,c);
else if(E.alternate)return hZ.ub(E.alternate,y,c)}else if(e=="ForInStatement"){hZ.eval(E.left,y,c);var a=E.left.declarations[0].id.name,m=hZ.ub(E.right,y,c);
for(var i in m){c[a]=i;var q=hZ.eval(E.body,y,c);if(c.__break)break;if(c.__return)return q}c.__break=!1}else if(e=="ForStatement"){hZ.eval(E.init,y,c);
while(hZ.eval(E.test,y,c)){var q=hZ.eval(E.body,y,c);if(c.__break)break;if(c.__return)return q;hZ.eval(E.update,y,c)}c.__break=!1}else if(e=="WhileStatement"){while(hZ.eval(E.test,y,c)){var q=hZ.eval(E.body,y,c);
if(c.__break)break;if(c.__return)return q}c.__break=!1}else if(e=="DoWhileStatement"){do{var q=hZ.eval(E.body,y,c);
if(c.__break)break;if(c.__return)return q}while(hZ.eval(E.test,y,c));c.__break=!1}else if(e=="TryStatement"){hZ.eval(E.block,y,c);
if(c.__throw){var K=E.handler;c[K.param.name]=c.__throw;c.__throw=!1;hZ.eval(K.body,y,c);delete c[K.param.name]}}else if(e=="EmptyStatement"){}else console.log(E)};
hZ.W8=function(E,y,c){if(c=="+")return E+y;else if(c=="-")return E-y;else if(c=="*")return E*y;else if(c=="/")return E/y;
else if(c=="%")return E%y;else if(c=="^")return E^y;else if(c=="&")return E&y;else if(c=="&&")return E&&y;
else if(c=="|")return E|y;else if(c=="||")return E||y;else if(c=="<")return E<y;else if(c==">")return E>y;
else if(c=="=="){if(E!=null&&y!=null&&E.V&&y.V)return E.b==y.b;return E==y}else if(c=="===")return E===y;
else if(c=="<=")return E<=y;else if(c==">=")return E>=y;else if(c=="!=")return E!=y;else if(c=="!==")return E!==y;
else if(c=="<<")return E<<y;else if(c==">>")return E>>y;else console.log(c)};hZ.aBP=function(E,y){if(y=="-")return-E;
else if(y=="!")return!E;else if(y=="~")return~E;else if(y=="+")return E;else if(y=="typeof")return typeof E;
else console.log(y,E)};hZ.ub=function(E,y,c){var e=E.type;if(e=="Identifier")return hZ.a0G(E.name,y,c);
else return hZ.eval(E,y,c)};hZ.a0G=function(E,y,c){if(E=="undefined")return undefined;else if(c.hasOwnProperty(E))return c[E];
else if(E=="app")return{V:"Application"};else if(E=="Folder")return{V:"Folder"};else if(E=="File")return{V:"File"};
else if(E=="$")return{V:"$"};else if(hZ.Yo.aDS.indexOf(E)!=-1)return hZ.Yo.jV({V:"Application"},E,y,c);
else if(hZ.Yo.agg.indexOf(E)!=-1)return{V:"AppFunc",p2:E};else if(c.__window.hasOwnProperty(E))return c.__window[E];
else if(window[E]&&!hZ.wY[E])return window[E];else{c[E]=null;return null}};hZ.Yo={};hZ.Yo.avd=function(E,y,c,e){var p;
if(E=="SolidColor")p={V:E,b:[1,0,0,0]};if(E=="RGBColor")p={V:E,b:[1,0,0,0]};if(E=="Window")p={V:E,b:new eP(y[0],y[1],y[2])};
if(E=="ExportOptionsSaveForWeb")p={V:E,b:{wB:"png",gD:100}};if(E=="PhotoshopSaveOptions")p={V:E,b:{wB:"psd"}};
if(E=="PNGSaveOptions")p={V:E,b:{wB:"png",gD:100}};if(E=="JPEGSaveOptions")p={V:E,b:{wB:"jpg",gD:100}};
if(E=="PDFSaveOptions")p={V:E,b:{wB:"pdf",avE:""}};if(E=="File")p={V:E,b:y[0]};if(E=="ActionReference")p={V:E,b:{t:"obj ",v:[]}};
if(E=="ActionDescriptor")p={V:E,b:{t:"Objc",v:{classID:"null"}}};if(E=="ActionList")p={V:E,b:{t:"VlLs",v:[]}};
if(E=="UnitValue")p={V:E,b:y.length==0?0:parseFloat(y[0])};return p};hZ.Yo.aDS="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
hZ.Yo.agg="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
hZ.Yo.jV=function(E,y,c,e){var p=c.Ym,H=c.NY();if(!1){}else if(y=="typename"){if(E.V=="Layer")return E.b.uY()?"LayerSet":"ArtLayer";
else return E.V}else if(["Document","Layer"].indexOf(E.V)!=-1&&["layers","artLayers","layerSets"].indexOf(y)!=-1){var Z=H;
if(E.V=="Document")Z=E.b;else Z=E.ho;var X=Z.root,b={V:"Layers",asM:y,b:[],ho:Z};if(E.V=="Layer")X=Z.root.f$(Z.B.indexOf(E.b));
if(X.children==null)return null;for(var N=0;N<X.children.length;N++){var k=X.children[N].a,D=k.uY();
if(D&&y=="artLayers"||!D&&y=="layerSets")continue;b.b.push({V:"Layer",b:k,ho:Z})}b.b.reverse();return b}else if(E.V=="Documents"||E.V=="Layers"||E.V=="HistoryStates"||E.V=="LayerComps"){if(!1){}else if(y=="length")return E.b.length;
else if(Number.isInteger(y))return E.b[y];else console.log(E.V+": unknown property ",y)}else if(E.V=="Application"){if(!1){}else if(y=="activeDocument")return{V:"Document",b:c.NY()};
else if(y=="documents"){var b={V:"Documents",b:[]};for(var N=0;N<c.l9.length;N++)b.b.push({V:"Document",b:c.l9[N]});
return b}else if(y=="fonts")return{V:"TextFonts"};else if(y=="preferences")return{V:"Preferences"};else if(y=="displayDialogs")return{V:"DialogModes"};
else if(y=="foregroundColor"||y=="backgroundColor"){var j=y[0]=="f"?p.x4:p.YO;return{V:"SolidColor",b:[1,(j>>>16&255)/255,(j>>>8&255)/255,(j>>>0&255)/255]}}else if(y=="UI")return{V:"UI"};
else if(y=="version")return 30;else console.log(E,y)}else if(E.V=="Document"){var H=E.b;if(!1){}else if(y=="activeLayer"){var k=H.B[H.g[0]];
return{V:"Layer",b:k,ho:H}}else if(y=="resolution")return H.$c;else if(y=="width")return H.m;else if(y=="height")return H.e;
else if(y=="name")return H.name;else if(y=="saved")return!H.LP();else if(y=="selection")return{V:"Selection"};
else if(y=="activeHistoryState")return{V:"HistoryState",h2:H.PT};else if(y=="source")return H.OS;else if(y=="layerComps"){var g=H.$k.list.v,R=[];
for(var N=0;N<g.length;N++)R.push({V:"LayerComp",b:N});return{V:"LayerComps",b:R}}else if(y=="historyStates"){var t=[];
for(var N=0;N<H.history.length;N++)t.push({V:"HistoryState",h2:N});return{V:"HistoryStates",b:t}}else if(y=="mode")return 7;
else if(y=="colorSamplers"){var b={V:"ColorSamplers",asM:y,b:H.v0.slice(0),ho:H};return b}else console.log(E,y)}else if(E.V=="LayerComp"){if(y=="name")return H.$k.list.v[E.b].v.Nm.v;
else throw y}else if(E.V=="ColorSamplers"){if(Number.isInteger(y))return{V:"ColorSampler",b:E.b[y]};
else if(y=="length")return H.v0.length}else if(E.V=="ColorSampler"){if(y=="color"){var j=F.gw.vH(H,H.Q.qW(E.b.x,E.b.y),1,2);
return{V:"SolidColor",b:[1,(j>>>16&255)/255,(j>>>8&255)/255,(j>>>0&255)/255]}}else if(y=="position")return[E.b.x,E.b.y]}else if(E.V=="Layer"){var w={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},k=E.b;
if(!1){}else if(y=="visible")return k.OQ();else if(y=="selected")return H.g.indexOf(H.B.indexOf(k))!=-1;
else if(y=="grouped")return k.av;else if(w[y]!=null)return k.H7(w[y]);else if(y=="opacity")return k.opacity*100/255;
else if(y=="fillOpacity")return(k.add.iOpa==null?255:k.add.iOpa)*100/255;else if(y=="blendMode")return k.ur;
else if(y=="name")return k.getName();else if(y=="textItem")return{V:"TextItem",b:k};else if(y=="bounds"){var B=F.Y.EK(H,[H.B.indexOf(k)]);
return hZ.Yo.aoT(B,H)}else if(y=="parent"){var $=c.l9,Z;for(var N=0;N<$.length;N++)if($[N].B.indexOf(k)!=-1)Z=$[N];
var o=Z.root.f$(Z.B.indexOf(k)).parent;return o.depth==0?{V:"Document",b:Z}:{V:"Layer",b:o.a,ho:Z}}else if(y=="kind"){var T=hZ.Yo.UB;
for(var N=0;N<T.length;N++)if(k.add[T[N]]!=null)return N;return 0}else if(y=="isBackgroundLayer")return k.add.lnsr="bgnd";
else if(y=="itemIndex")return H.B.indexOf(k)+1;else console.log(E,y)}else if(E.V=="Selection"){if(!1){}else if(y=="bounds"){if(H.i==null)e.__throw={message:"no selection"};
else return hZ.Yo.aoT(H.i.rect,H)}else console.log(E,y)}else if(E.V=="TextItem"){var i=E.b.add.TySh,r=i.Ax,I=gV.qO(r),M=i.u.ul(),J=gV.c$(r,0,0);
if(y=="contents")return I.slice(0,I.length-1).replace(/\n/g,"\r");else if(y=="font")return J.na.Font!=null?J.GF[J.na.Font].Name:null;
else if(y=="size")return hZ.Yo.Xl(J.na.FontSize*M,H);else if(y=="leading")return hZ.Yo.Xl(J.na.Leading*M,H);
else if(y=="tracking")return hZ.Yo.Xl(J.na.Tracking);else if(y=="baselineShift")return hZ.Yo.Xl(J.na.BaselineShift);
else if(y=="fauxBold")return J.na.FauxBold;else if(y=="fauxItalic")return J.na.FauxItalic;else if(y=="kind")return 1-gV.VY(r);
else if(y=="useAutoLeading")return J.dV.AutoLeading;else if(y=="hyphenation")return J.dV.AutoHyphenate;
else if(y=="justification")return hZ.Yo.Xl(J.dV.Justification);else if(y=="color")return{V:"SolidColor",b:J.na.FillColor.Values.slice(0)};
else if(y=="width"||y=="height"){var P=gV.kq(r),n=(P[2]-P[0])*M,x=(P[3]-P[1])*M;return hZ.Yo.Xl(y=="width"?n:x,H)}else if(y=="position"){var L=i.u;
return hZ.Yo.ai9([L.Kc,L.Dm],H)}else if(y=="horizontalScale"||y=="verticalScale"){var u=y[0].toUpperCase()+y.slice(1);
return Math.round(J.na[u]*100)}else if(y=="antiAliasMethod")gV.Fh(i);else if(y=="totalTextStyle"){var b={};
for(var C=0;C<2;C++){var h=["Style","Paragraph"][C],A=r.EngineDict[h+"Run"].RunLengthArray,W=[],Q=0;
for(var N=0;N<A.length;N++){var l=gV.c$(r,Q,Math.min(Q+A[N],I.length-2));Q+=A[N];W.push(C==0?l.na:l.dV);
b.fontSet=l.GF}b[h]={runs:A,styles:W}}return JSON.stringify(b)}else if(y=="transform"){var L=i.u;return JSON.stringify([L.U,L.J,L.E7,L.sN,L.Kc,L.Dm])}else console.log(E,y)}else if(E.V=="Preferences"){if(y=="rulerUnits")return p.km.sz;
else console.log(E,y)}else if(E.V=="SolidColor"){if(y=="rgb")return{V:"RGBColor",b:E.b};if(y=="cmyk")return{V:"CMYKColor",b:d.jS(E.b.slice(1))};
else console.log(E,y)}else if(E.V=="RGBColor"){var B=Math.round(255*E.b[1]),O=Math.round(255*E.b[2]),z=Math.round(255*E.b[3]);
if(!1){}else if(y=="red")return B;else if(y=="green")return O;else if(y=="blue")return z;else if(y=="hexValue")return"#"+d.ly(B<<16|O<<8|z).toUpperCase();
else console.log(E,y)}else if(E.V=="CMYKColor"){var a=[];for(var N=0;N<4;N++)a.push(Math.round(E.b[N]*100));
var m=["cyan","magenta","yellow","black"].indexOf(y);if(m!=-1)return a[m];else console.log(E,y)}else if(E.V=="UnitValue"){if(y=="value")return E.b;
else throw"e"}else if(E.V=="ExportOptionsSaveForWeb"){if(y=="format")return E.b.wB;else if(y=="PNG8"||y=="interlaced")return!1;
else if(y=="quality")return E.b.gD;else if(y=="transparency")return!0;else throw y}else if(E.V=="PNGSaveOptions"||E.V=="JPEGSaveOptions"||E.V=="PDFSaveOptions"){return 0}else if(E.V=="$"){if(y=="localize")return!1;
else if(y=="os")return"Windows";else throw y}else if(E.V=="ActionList"){if(y=="count")return E.b.v.length;
else throw y}else console.log(E,y)};hZ.Yo.aoT=function(E,y){return hZ.Yo.ai9([E.x,E.y,E.x+E.m,E.y+E.e],y)};
hZ.Yo.ai9=function(E,y){var c=[];for(var N=0;N<E.length;N++)c.push(hZ.Yo.Xl(E[N],y));return c};hZ.Yo.h5=function(E){var y=[];
for(var N=0;N<E.length;N++)y.push(E[N].V?E[N].b:E[N]);return y};hZ.Yo.Xl=function(E,y){return{V:"UnitValue",b:E}};
hZ.Yo.abu=function(E,y){if(E.V=="UnitValue")return E.b;return E};hZ.Yo.aoO=function(E,y,c,e,p){var H=new iU(S.E.v,!0),Z=new iU(S.E.M,!0),X=e.NY(),b=e.Ym;
if(!1){}else if(E.V=="Application"){if(!1){}else if(y=="activeDocument"){Z.data={d:S.H.xg,cX:c.b};e.T(Z)}else if(y=="displayDialogs"){}else if(y=="foregroundColor"||y=="backgroundColor"){var D=c.b,j=D[1]*255<<16|D[2]*255<<8|D[3]*255<<0;
Z.data={d:S.H.z2,Wp:iL.g6,s6:y=="foregroundColor"?0:1,b:j};e.T(Z)}else console.log(E,y,c)}else if(E.V=="Document"){var g=E.b;
if(!1){}else if(y=="name"){H.f=F.sh;H.data={d:jN.yF,b:c,axT:!0,Tt:g};X.hb=!0}else if(y=="source")g.OS=c;
else if(y=="activeLayer"){g.g=[g.B.indexOf(c.b)]}else if(y=="activeHistoryState"){H.f=F.yW;H.data={d:"h_itemchange",index:c.h2}}else console.log(E,y)}else if(E.V=="Layer"){H.f=F.sh;
var R={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},t=E.b,w=X.B.indexOf(t);
if(!1){}else if(y=="visible"){if(t.OQ()!=c)H.data={d:jN.b0,a:w}}else if(y=="opacity"){H.data={d:jN.Bt,a:w,Hx:Math.round(255*c/100)}}else if(y=="fillOpacity"){H.data={d:jN.zy,a:w,Hx:Math.round(255*c/100)}}else if(y=="blendMode"){H.data={d:jN.nU,a:w,Hx:cg.Fn.indexOf(c)}}else if(y=="name"){H.data={d:jN.tS,a:w,name:c}}else if(R[y]!=null){H.data={d:jN.Bu,a:w,Hx:[[c],[R[y]]]}}else if(y=="kind"){H.data={d:jN.mj,a:w,MQ:hZ.Yo.UB[c]}}else if(y=="grouped"){H.data={d:jN.KW,a:w,Hx:c}}else console.log(E,y,c)}else if(E.V=="TextItem"){H.f=F.IB;
var t=E.b,B=t.add.TySh,$=JSON.parse(JSON.stringify(B.Ax)),o=B.u.clone(),T=B.u.ul(),i=gV.qO($),r=gV.c$($,0,i.length-2),I=!1;
if(!1){}else if(y=="contents"){gV.qb($,0,i.length-1);gV.Y8($,0,c.replace(/\r/g,"\n"))}else if(y=="size"){r.na.FontSize=(c.b!=null?c.b:c)/T;
I=!0}else if(y=="leading"){r.na.Leading=(c.b!=null?c.b:c)/T;I=!0}else if(y=="tracking"){r.na.Tracking=c.b!=null?c.b:c;
I=!0}else if(y=="baselineShift"){r.na.BaselineShift=c.b!=null?c.b:c;I=!0}else if(y=="fauxBold"){r.na.FauxBold=c;
I=!0}else if(y=="fauxItalic"){r.na.FauxItalic=c;I=!0}else if(y=="kind"){var M=gV.VY($);if(M==1&&c==1){var J=new cU($,e.Ym.UG,B.EG).dV[0],P=J.M2[0].end,n=J.ma[P-1].end;
gV.qb($,0,i.length-1);gV.Y8($,0,i.slice(0,n-1))}if(M==c)gV.qz($,1-c)}else if(y=="useAutoLeading"){r.dV.AutoLeading=c;
I=!0}else if(y=="hyphenation"){r.dV.AutoHyphenate=c;I=!0}else if(y=="justification"){r.dV.Justification=c;
I=!0}else if(y=="font"){gV.Wn(r,c);I=!0}else if(y=="color"){r.na.FillColor.Values=c.b.slice(0);I=!0}else if(y=="width"||y=="height"){var x=gV.kq($).slice(0),L=hZ.Yo.abu(c);
if(y=="width")x[2]=Math.round(x[0]+L/T);else x[3]=Math.round(x[1]+L/T);gV.fF($,x)}else if(y=="position"){o.Kc=c[0];
o.Dm=c[1]}else if(y=="horizontalScale"||y=="verticalScale"){var u=y[0].toUpperCase()+y.slice(1);r.na[u]=c/100;
I=!0}else if(y=="antiAliasMethod")gV.Ec(B,c);else console.log(E,y,c);if(I)gV.gR($,0,i.length-1,r);H.data={d:"newED",XV:X.B.indexOf(t),Sk:$,u:o}}else if(E.V=="Preferences"){if(!1){}else if(y=="rulerUnits"){var C=JSON.parse(JSON.stringify(b.km));
C.sz=c;Z.data={d:S.H.z2,Wp:iL.kG,Hx:C};e.T(Z)}else console.log(E,y,c)}else if(E.V=="SolidColor"){if(y=="rgb")E.b=c.b;
else throw y}else if(E.V=="RGBColor"){if(!1){}else if(y=="red")E.b[1]=c/255;else if(y=="green")E.b[2]=c/255;
else if(y=="blue")E.b[3]=c/255;else if(y=="hexValue"){var h=d.aya(c.slice(1));E.b[1]=(h>>>16&255)/255;
E.b[2]=(h>>>8&255)/255;E.b[3]=(h>>>0&255)/255}else console.log(E,y)}else if(E.V=="ExportOptionsSaveForWeb"){if(y=="format")E.b.wB=c;
else if(y=="PNG8"||y=="transparency"||y=="interlaced"){}else if(y=="quality")E.b.gD=c;else throw y}else if(E.V=="PNGSaveOptions"||E.V=="JPEGSaveOptions"){if(y=="quality")E.b.gD=Math.round(100*c/12)}else if(E.V=="PDFSaveOptions"){if(y=="preset")E.b.avE=c}else if(E.V=="$"){if(y=="localize"){}}else console.log(E,y,c);
if(H.data!=null)e.T(H)};hZ.Yo.Rm=function(E,y,c,e,p){var H=E.V,Z=null,X=new iU(S.E.v,!0),b=new iU(S.E.on,!0),D=new iU(S.E.M,!0),j=e.NY(),g=e.l9;
if(!1){}else if(H=="Application"){if(!1){}else if(y=="charIDToTypeID"){var R=c[0].trim(),t={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return t[R]?t[R]:R}else if(y=="stringIDToTypeID"){var w=c[0].trim(),t={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},B=t[w];
return B==null?w:B}else if(y=="typeIDToStringID"){return c[0].trim()}else if(y=="executeAction"){var $;
if(c[1]){$=c[1].b.v;$.classID=c[0]}var o={setd:"set"},T=o[c[0]];if(T==null)T=c[0];var i=et.lT[c[0]];
if(i&&et.Zh[i])T=et.Zh[i];b.data={tT:T,hG:$}}else if(y=="executeActionGet"){var r=c[0].b.v,Z={};if(r.length==1){var I=Z.classID=r[0].v.classID;
if(I=="Lyr"){var M=aW.LW(j,r[0]),J=j.B[M],P=J.add.SoLd,n=J.add.SoCo;if(P)Z.smartObjectMore={t:"Objc",v:{transform:P.nonAffineTransform}};
if(n)Z.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(n))}]}}return{V:"ActionDescriptor",b:{t:"null",v:Z}}}if(r.length==2){var I=Z.classID=r[1].v.classID,w=r[0].v.keyID;
if(I=="Dcmn"){var x=j;if(w=="numberOfLayers")Z[w]={t:"long",v:x.B.length};else throw w}else if(I=="Lyr"){var M=aW.LW(j,r[1]),J=j.B[M],L=J.add.TySh;
if(w=="textKey"){if(L){var u=L.Ax.EngineDict.StyleRun.RunArray,C=L.Ax.ResourceDict.FontSet,h=[];for(var N=0;
N<u.length;N++){var A=u[N].StyleSheet.StyleSheetData,W=C[A.Font].Name,Q=e.Ym.UG.Mu(W);if(Q&&Q.name.postScriptName!=W)Q=null;
h.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:Q!=null},fontPostScriptName:{t:"TEXT",v:W}}}}})}Z[w]={t:w,v:{textStyleRange:{t:"obj ",v:h}}}}}else throw w}else if(I=="ASet"){var l=e.Ym.kQ,O=Z.classID=r[0].v.classID;
if(O=="Actn"){Z.NmbC={t:"long",v:aW.aO(l,r[0].v.val,r[1].v.val).tP.length}}else throw O}else throw I;
return{V:"ActionDescriptor",b:{t:"null",v:Z}}}}else if(y=="doAction"){D.data={d:S.H.ln,Gm:[c[0],c[1]]}}else if(y=="bringToFront"){}else if(y=="open"){D.data={d:S.H.ha,Wp:{url:c[0]}};
if(c[2]&&g.length!=0)D.data.Wp.Vn=g.indexOf(j)}else if(y=="echoToOE"){D.data={d:S.H.xw,Wp:c[0]}}else if(y=="showWindow"){D.data={d:S.H.Q5,ym:c[0]}}else if(y=="UnitValue"){return c[0]+" "+c[1]}else console.log(y)}else if(H=="LayerComp"){if(y=="apply"){X.f=F.ug;
X.data={d:"setLC",h2:j.$k.list.v[E.b].v.compID.v}}else throw y}else if(H=="Document"){var j=E.b;if(!1){}else if(y=="crop"){var z=c[0];
b.data=F.Et.afY([z[0],z[1],z[2]-z[0],z[3]-z[1]])}else if(y=="trim"){var a=[];for(var N=0;N<4;N++)a.push(c[N+1]!=null?c[N+1]:!0);
b.data=F.Et.r0(c[0]!=null?c[0]:0,a)}else if(y=="suspendHistory"){var m=acorn.parse(c[1]);hZ.eval(m,e,p)}else if(y=="save"){D.data={d:S.H.XT}}else if(y=="saveToOE"){D.data={d:S.H.XT,Zf:c}}else if(y=="rotateCanvas"){b.data=F.Y.FK(!0,c[0])}else if(y=="resizeImage"||y=="resizeCanvas"){var q=c[0],K=c[1];
if(typeof q!="number"){q=j.m*parseFloat(q.slice(0,q.length-1))/100;K=j.e*parseFloat(K.slice(0,K.length-1))/100}if(y=="resizeCanvas")b.data=F.Et.agx(Math.round(q),Math.round(K),c[2]);
else b.data=F.Et.ahX(Math.round(q),Math.round(K),null,1)}else if(y=="paste"){D.data={d:S.H.t8,Tk:c.length!=0&&c[0],bR:!0}}else if(y=="close"){D.data={d:S.H.NW,BG:j}}else if(y=="exportDocument"||y=="saveAs"){var U=p.__fs,f=y=="exportDocument"?c[2].b:c[1].b,Y=c[0].b.replace(":","").replace("~/","");
if(!Y.toLowerCase().endsWith("."+f.wB))Y+="."+f.wB;var G=iu.gv(j,f.wB,null,null,f.wB=="pdf"?null:[f.gD],e.Ym);
U[Y]=new Uint8Array(G)}else if(y=="flatten"){b.data={tT:"flattenImage"}}else if(y=="clearHistory"){X.f=F.yW;
X.data={d:"h_clear",force:!0}}else console.log(E,y,c)}else if(H=="Layer"){var V=E.b,M=j.B.indexOf(V);
if(!1){}else if(y=="copy"){hZ.Yo.db(j,e,0);D.data={d:S.H.Lb,xc:c[0],Z3:M,bR:!0};e.T(D);delete D.data;
hZ.Yo.db(j,e,1)}else if(y=="clear"){hZ.Yo.db(j,e,0);b.data={tT:"delete"};e.T(b);delete b.data;hZ.Yo.db(j,e,1)}else if(y=="duplicate"){if(c.length==0){var dF=j.g.slice(0);
X.data={d:jN.lz,a:M};X.f=F.sh;e.T(X);X.data=null;Z={V:"Layer",b:j.B[j.g[0]],ho:E.ho};j.g=dF}else if(c[0].V=="Document"){X.data={d:jN.f2,B:j.DC(M),I4:j,UH:c[0].b};
X.f=F.sh}if(X.data){e.T(X);X.data=null;return{V:"Layer",b:j.B[j.g[0]],ho:j}}}else if(y=="merge"||y=="remove"){X.data={d:y=="merge"?jN.N6:jN.iI,a:M};
X.f=F.sh;if(y!="remove")Z={V:"Layer",b:j.B[j.g[0]],ho:E.ho}}else if(y=="move"){X.data={d:jN.yG,source:M,target:j.B.indexOf(c[0].b),T9:c[1]!=3?.6:.3};
X.f=F.sh}else if(y=="rasterize"){X.f=F.sh;X.data={d:jN.Eu,a:M};e.T(X);X.data=null;E.b=j.B[M]}else if(y=="rotate"){X.data={d:"rot",xs:[2,5],b:-c[0]*Math.PI/180,RG:c[1],a:M};
X.f=F.Xm}else if(y=="resize"){X.data={d:"scl",xs:[2,4],b:new eq(c[0]/100,c[1]/100),RG:c[2],a:M};X.f=F.Xm}else if(y=="translate"){var s=hZ.Yo.h5(c);
X.data={d:"trsl",a:M,Fc:s[0],Sq:s[1]};X.f=F.mq}else if(y=="link"){X.data={d:jN.fs,al$:[M,j.B.indexOf(c[0].b)]};
X.f=F.sh}else if(y=="invert"){X.f=F.rr;X.data={d:"start",Bn:"nvrt"}}else if(y=="desaturate"){b.data={tT:"desaturate"}}else if(y.startsWith("apply")&&cN.DW[y.slice(5)]||y.startsWith("adjust")&&cN.DW[y.slice(6)]){var aH=y.startsWith("apply"),s=hZ.Yo.h5(c),dw=cN.DW[y.slice(aH?5:6)];
if(dw=="Dspl"){for(var N=0;N<j.B.length;N++)if(j.B[N].getName()==s[4]){s[4]=j.B[N].add.SoLd.Idnt.v;break}}b.data={tT:aH?cN.Zh[dw]:et.Zh[dw]};
var $=cN.TL(dw);if($){j.g=[M];cN.Ix["g"+dw]($,s);b.data.hG=$}}else if(y=="applyStyle"){var kO=e.Ym.EX,A=null;
for(var N=0;N<kO.length;N++)if(kO[N].Al.Nm.v.split("/").pop()==c[0])A=kO[N];if(A==null){alert("Style not found!");
return}X.f=F.Mt;X.data={d:"setstl",b:A.mp,a:M};e.T(X);X.data={d:"confirm",a:M}}else console.log(E,y,c)}else if(H=="Documents"){if(y=="getByName"){for(var N=0;
N<g.length;N++)if(g[N].name==c[0])return{V:"Document",b:g[N]};return null}else if(y=="add"){if(c.length==0)c=[100,100,72,"New Project"];
var hX=c[5];if(hX==null)hX=1;b.data=cc.jP(c[0],c[1],c[2],c[3],["Wht","Trns","BckC"][hX],!1);e.T(b);b.data=null;
return{V:"Document",b:e.NY()}}else throw"e"}else if(H=="Layers"){if(y=="getByName"){for(var N=0;N<E.b.length;
N++)if(E.b[N].b.getName()==c[0]){Z=E.b[N];break}if(Z==null)p.__throw={message:"No layer with a name "+c[0]}}else if(y=="add"){X.data={d:E.asM=="layerSets"?jN.wZ:jN.ml};
X.f=F.sh;e.T(X);X.data=null;Z={V:"Layer",b:j.B[j.g[0]],ho:E.ho}}else console.log(E,y,c)}else if(E.V=="Selection"){if(y=="select"){var jF=c[0],gn=[];
for(var N=0;N<jF.length;N++)gn.push(jF[N][0],jF[N][1]);b.data=F.XY.bG(hZ.Yo.h5(gn))}else if(y=="clear"){b.data={tT:"delete"}}else if(y=="selectAll"){b.data=F.XY.cg(!0)}else if(y=="invert"){b.data={tT:"inverse"}}else if(y=="copy"){D.data={d:S.H.Lb}}else if(y=="deselect"){b.data=F.XY.cg()}else if(y=="fill"){var hM=c[0].b;
hM=d.L.hp({Z:hM[1]*255,D:hM[2]*255,J:hM[3]*255});b.data=F.XP.Uo("Clr",c[1],c[2]==null?1:c[2]/100,hM)}else if(y=="grow"||y=="similar"){var $={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(c[0]!=null)$.Tlrn={t:"long",v:c[0]};b.data={tT:y,hG:$}}else if(y=="expand"||y=="contract"||y=="feather"){b.data=F.XY.hS(y,c[0],!0)}else if(y=="translate"){var $={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[1]}}}}};
b.data={tT:"move",hG:$}}else if(y=="smooth"){b.data=F.XY.hS("smoothness",c[0],!1)}else if(y=="stroke"){var A=JSON.parse(cb.Dn[1]),ie=A.Clr.v,hM=c[0].b;
ie.Rd.v=hM[1]*255;ie.Grn.v=hM[2]*255;ie.Bl.v=hM[3]*255;A.Sz.v.val=c[1];A.Styl.v.FStl=cb.stroke.types[c[2]];
console.log(A,c);X.f=F.co;X.data={d:"stroke",aBU:A}}else console.log(E,y,c)}else if(E.V=="Window"){if(y=="show"){D.data={d:S.H.Q5,ym:E.b}}else throw"e"}else if(E.V=="ActionReference"){if(y=="putProperty"){E.b.v.push({t:"prop",v:{classID:c[0],keyID:c[1]}})}else if(y=="putClass"){E.b.v.push({t:"Clss",v:{classID:c[0]}})}else if(y=="putEnumerated"){E.b.v.push({t:"Enmr",v:{classID:c[0],typeID:c[1],enum:c[2]}})}else if(y=="putName"){E.b.v.push({t:"name",v:{classID:c[0],val:c[1]}})}else if(y=="putIndex"){E.b.v.push({t:"indx",v:{classID:c[0],val:c[1]}})}else console.log(y,c)}else if(E.V=="ActionDescriptor"||E.V=="ActionList"){var bN=E.V=="ActionList";
if(y.startsWith("put")){var kd=bN?c:c.slice(1),B=null;if(y=="putReference"){B=kd[0].b}else if(y=="putObject"){B=kd[1].b;
B.v.classID=kd[0]}else if(y=="putList"){B=kd[0].b}else if(y=="putDouble"){B={t:"doub",v:kd[0]}}else if(y=="putUnitDouble"){B={t:"UntF",v:{type:kd[0],val:kd[1]}}}else if(y=="putBoolean"){B={t:"bool",v:kd[0]}}else if(y=="putInteger"){B={t:"long",v:kd[0]}}else if(y=="putString"){B={t:"TEXT",v:kd[0]}}else if(y=="putClass"){B={t:"type",v:{classID:kd[0]}}}else if(y=="putEnumerated"){var i7=c[0].split("+");
if(i7.length==2&&c[1]==null){c[0]=i7[0];c[1]=kd[0]=i7[1]}var dn={};dn[kd[0]]=kd[1];B={t:"enum",v:dn}}else throw y;
if(bN)E.b.v.push(B);else E.b.v[c[0]]=B}else if(y=="hasKey"){return E.b.v[c[0]]!=null}else if(y=="getEnumerationValue"){if(c[0]=="layerSection")Z="layerSectionContent";
else console.log(c)}else if(y=="getBoolean"){Z=E.b.v[c[0]].v}else if(y=="getString"){Z=E.b.v[c[0]].v}else if(y=="getObjectValue"){var Z=E.b.v[c[0]];
return{V:"ActionDescriptor",b:Z}}else if(y=="getList"){var Z=E.b.v[c[0]];return{V:"ActionList",b:Z}}else if(y=="getInteger"||y=="getDouble"){return E.b.v[c[0]].v}else console.log(y,c)}else if(E.V=="$"){if(y=="writeln"){console.log(c[0])}else throw y}else if(E.V=="UI"){if(y=="scroll"||y=="scrollTo"){var ew=c[0],e4=c[1],eE=j.Q.O;
if(y=="scrollTo"){ew=(-j.m/2+ew)*eE+j.Q.z.x;e4=(-j.e/2+e4)*eE+j.Q.z.y}X.f=F.G3;X.data={d:"scroll",Ik:new eq(Math.round(ew),Math.round(e4))}}else{var jc;
if(y=="zoomIn"||y=="zoomOut"){jc={d:"zoom",l5:y=="zoomIn"}}else if(y=="fitTheArea"){jc={d:"adapt",b:"fitscr"}}else if(y=="pixelToPixel"){jc={d:"adapt",b:"pixel"}}X.f=F.fE;
X.data=jc;if(y=="switchFullscreen"){var bd=e.Ym.PL,iB=document.fullscreenElement!=null==(bd==2);D.data={d:S.H.Qw,b:bd==0?2:0,ne:iB}}}}else if(E.V=="ColorSamplers"){if(y=="removeAll")j.v0=[];
else if(y=="add"){var cG={x:c[0][0],y:c[0][1]};j.v0.push(cG);var Z={V:"ColorSampler",b:cG}}}else if(E.V=="ColorSampler"){if(y=="move"){var bT=j.v0.indexOf(E.b);
cG=j.v0[bT];cG.x=c[0][0];cG.y=c[0][1]}else if(y=="remove"){var bT=j.v0.indexOf(E.b);j.v0.splice(bT,1)}}else if(E.V=="Folder"){if(y=="selectDialog")Z="img";
else throw y}else if(E.V=="File"){if(y=="openDialog")alert("A website can not show the Open dialog from a script");
else throw y}else console.log(E,y,c);if(X.data)e.T(X);if(b.data)e.T(b);if(D.data)e.T(D);return Z};hZ.Yo.db=function(E,y,c){var e=new iU(S.E.v,!0);
e.f=F.mW;var p=new iU(S.E.on,!0);if(c==0){hZ.Yo.a2y=E.i;p.data=F.XY.cg(!0)}else{var H=hZ.Yo.a2y;if(H)e.data={d:"setsel",xs:"Restore Selection",i:{rect:H.rect.clone(),channel:H.channel.slice(0)}};
else p.data=F.XY.cg()}y.T(e.data?e:p)};hZ.Yo.a2y=null;hZ.Yo.XO={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2}};
hZ.Yo.XO.ColorBlendMode=hZ.Yo.XO.BlendMode;hZ.Yo.UB="---- SoLd TySh SoCo GdFl PtFl".split(" ");function kJ(){}kJ.Cg={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
kJ.zF={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
kJ.a0S=function(E,y){if(y==null)y={};var c=kJ.zF,e=[],p=[],H="";for(var N=0;N<E.length;N++){var Z=E[N],X=c[Z[0]+""];
if(X&&y[X]==null)y[X]=Z[1];else if(Z[0]==12)p.push(Z[1]);else if(Z[0]==25)e.push(Z[1]);else if(Z[0]==55)H=Z[1];
else if(Z[0]==60)H+=";"+Z[1]}if(H!=""&&y["exif:DateTimeOriginal"]==null)y["exif:DateTimeOriginal"]=H;
if(p.length!=0&&y["Iptc4xmpCore:SubjectCode"]==null)y["Iptc4xmpCore:SubjectCode"]=p.join(";");if(e.length!=0&&y["dc:Keywords"]==null)y["dc:Keywords"]=e.join(";");
return y};kJ.a3q=function(E){var y=kJ.zF,c=[];for(var e in y)if(E[y[e]])c.push([parseInt(e),E[y[e]]]);
if(E["Iptc4xmpCore:SubjectCode"]){var p=E["Iptc4xmpCore:SubjectCode"].split(";");for(var N=0;N<p.length;
N++)c.push([12,p[N].trim()])}if(E["dc:Keywords"]){var p=E["dc:Keywords"].split(";");for(var N=0;N<p.length;
N++)c.push([25,p[N].trim()])}c.sort(function(H,Z){return H[0]-Z[0]});return c};kJ.xm=function(E,y){if(y==null)y={};
var c=new DOMParser,e=c.parseFromString(E,"image/svg+xml"),p=e.getElementsByTagName("rdf:Description")[0];
if(p==null)return y;var H=kJ.Cg;for(var Z in H){var X=H[Z][2];if(X==null)continue;var b=p.getElementsByTagName(X)[0];
if(b==null)continue;var k=b.getElementsByTagName("rdf:li"),D=[];for(var N=0;N<k.length;N++)D.push(k[N].textContent);
y[Z]=D.join("; ")}return y};kJ.Gy=function(E){var y=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],c=kJ.Cg;
for(var e in c){var p=E[e],H=c[e][2],Z="Seq",X="";if(p==null||H==null)continue;if(H=="dc:title"||H=="dc:description"){Z="Alt";
X=" xml:lang=\"x-default\""}if(H=="dc:subject")Z="Bag";y.push("\t<"+H+"><rdf:"+Z+">");var b=H=="dc:subject"?p.split(";").join(",").split(","):[p];
for(var N=0;N<b.length;N++)y.push("\t\t<rdf:li"+X+">"+b[N].trim()+"</rdf:li>");y.push("\t</rdf:"+Z+"></"+H+">")}y.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return y.join("\n")};kJ.aE9=function(E){var y=[];for(var N=0;N<E.length;N++)y[N]=E[N][1]==0?0:E[N][0]/E[N][1];
return y};kJ.aiL=function(E){var y=[];for(var N=0;N<E.length;N++){var c=E[N],e=1;if(c!=Math.round(c)){e=1e3;
c=Math.round(c*e)}y[N]=[c,e]}return y};kJ.wX=function(E,y){var c=kJ.Cg;if(y==null)y={};for(var e in c){var p=c[e][1],H="t"+p;
if(p!=null&&E[H]!=null){var Z=E[H];if(p==0)Z=Z.join(".");else if(p==2||p==4){var X=E["t"+(p-1)];if(X==null)X=[p==2?"N":"E"];
Z=kJ.aE9(Z).join(",")+X[0]}else if(p==42034)Z=kJ.aE9(Z).join(" ");else if(p==270||p==315){var b=Z[0],k=new Uint8Array(b.length);
_.bv(k,0,b);Z=_.Uw(k)}else Z=Z[0];y[e]=Z}}if(E.exifIFD)kJ.wX(E.exifIFD,y);if(E.gpsiIFD)kJ.wX(E.gpsiIFD,y);
return y};kJ.NP=function(E,y,c){var e=kJ.Cg,H=0,X=0;if(y==null)y={};var p={},Z={};for(var b in e){if(E[b]==null||e[b][1]==null)continue;
var k=e[b][1],D="t"+k,j=y;if(b.startsWith("exif:")){j=p;H++;if(b.startsWith("exif:GPS")){j=Z;X++}}var g=E[b];
if(k==0)g=new Uint8Array(g.split(".").map(parseFloat));else if(k==2||k==4){var R=g.length;j["t"+(k-1)]=[g.slice(g.length-1)];
g=kJ.aiL(g.split(",").map(parseFloat))}else if(k==42034)g=kJ.aiL(g.split(" ").map(parseFloat));else if(k==270||k==315){var t=_.vx(g);
g=[_.xY(t,0,t.length)]}else g=[g];j[D]=g}if(H!=0){y.exifIFD=p;y.t34665=[0]}if(X!=0){y.gpsiIFD=Z;y.t34853=[0]}var w=new Date,B=[w.getFullYear(),w.getMonth()+1,w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds()];
for(var N=0;N<6;N++)B[N]=(B[N]+"").padStart(2,"0");y.t305=["Photopea Editor (www.photopea.com)"];if(c!=!0)y.t306=[B[0]+":"+B[1]+":"+B[2]+" "+B[3]+":"+B[4]+":"+B[5]];
return y};function cq(){}cq.ux=function(E){var y={aa9:",",qu:"\r\n",Ey:"\""},c=[[""]],e,p,H,Z,X;for(e=p=H=Z=0;
H<E.length;H++){switch(X=E.charAt(H)){case y.Ey:if(Z&&E.charAt(H+1)==y.Ey){c[e][p]+=y.Ey;++H}else{Z^=1}break;
case y.aa9:if(!Z){c[e][++p]=""}else{c[e][p]+=X}break;case y.qu.charAt(0):if(!Z&&(!y.qu.charAt(1)||y.qu.charAt(1)&&y.qu.charAt(1)==E.charAt(H+1))){c[++e]=[""];
c[e][p=0]="";if(y.qu.charAt(1)){++H}}else{c[e][p]+=X}break;default:c[e][p]+=X}}if(c[c.length-1].length<c[0].length)c.pop();
return c};var v={};v.ama=0;v.Ms=function(){v.ama++;return v.ama};v.ajY="uint8";v.CA=function(E){E.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
E.n.style.opacity="1";E.n.style.transform="scale(1)"};v.HC=function(E,y){E.n.style.opacity="0";E.n.style.transform="scale(0.95)";
if(y)setTimeout(function(){y.removeChild(E.n)},100)};v.a3J=function(){var E=v.AU();if(E=="")return 0;
if(E!=v.L_("_TXZRPB;d7@;")){var y=v._D[fp.EM][fp.Th],c=y.indexOf(String.fromCharCode(35)),e;if(c==-1)return 0;
try{e=JSON.parse(v._D[fp.aqq](y.slice(c+1)))}catch(b4){return 0}var p=e[v.L_("bQ[ODL<E<M")];if(p==null||p.length<<2!=64)return 0;
var H=fp.cQ(),Z=parseInt(p.slice(3*4).split("").reverse().join(""),16)<<16;if(Z<H||p!=fp.ail(Z,E))return 0;
return 2}return 1};v.AU=function(){var E=v._D[v.m2("}$z{2*35")][v.L_("W[\\ZQAJ?")],y=String.fromCharCode(46),c=E.split(y);
if(c.length<2)return"";var e=c.pop();e=c.pop()+y+e;return e};v.Pq=function(){return v.AU()==fp.L_("_TXZRPB;d7@;")||v.AU()==fp.L_("~yy")||true;};
v.aa5=function(){if(v._D[fp.aCs][fp.abH]){var E=new v._D[fp.SN];E[fp.jb](fp.akw,v.L_("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+v.AU());
E[fp.Vl]()}};v.UK=function(){if(window.top!=window.self)return!1;var E=navigator.userAgent.toLowerCase();
if(E.indexOf("safari")!=-1&&E.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};v.m_=function(E){this.hB=E;
this.wr=v.t("img");this.KA=v.t("canvas");this.nn=null;this.Y6="";this.ya=null;this.r1=new eq(0,0);this.fp=!0;
v.FY(this.hB,this.AZ.bind(this))};v.m_.prototype.Xy=function(E,y){this.nn=E;if(y)this.Y6=y;this.AZ()};
v.m_.prototype.U0=function(E){this.fp=E;this.AZ()};v.m_.prototype.AZ=function(E){if(E)this.r1=v.RM(E,this.hB);
var y=this.fp?this.nn:"auto",c=typeof y=="string";if(!c){var e=v.k1(),p=this.r1,H=y.k4.m,Z=y.k4.e,X=typeof y.Rh=="string",b=X?this.wr:this.KA;
if(X)b.setAttribute("src",y.Rh);else{b.width=H;b.height=Z;var k=b.getContext("2d"),D=new ImageData(new Uint8ClampedArray(y.Rh.buffer),H,Z);
k.putImageData(D,0,0)}b.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(p.y-y.gN.y/e)+"px; left:"+(p.x-y.gN.x/e)+"px; width:"+H/e+"px; height:"+Z/e+"px");
var j=this.ya;if(j==null||j!=b){if(j)this.hB.removeChild(j);this.hB.appendChild(b);this.ya=b}}else if(this.ya){this.hB.removeChild(this.ya);
this.ya=null}this.hB.setAttribute("style","cursor:"+(c?y:"none")+"; "+this.Y6)};v.k6=function(E){return E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
v.LM=function(E,y){E.WO(i4.get([12,41]).charAt(0)+":");y.WO(i4.get([12,42]).charAt(0)+":")};v.t=function(E,y){var c=document.createElement(E);
if(y!=null)c.className=y;return c};v.Vz=function(E){while(E.firstChild)E.removeChild(E.firstChild)};
v.Jn=function(E,y){var c=E.className;c=c.split(" ");if(c.indexOf(y)==-1)c.push(y);E.className=c.join(" ")};
v.yo=function(E,y){var c=E.className;if(c=="")return;c=c.split(" ");if(c.indexOf(y)!=-1)c.splice(c.indexOf(y),1);
E.className=c.join(" ")};v.Qj=function(E){while(!0){if(E==document)return!0;if(E==null)return!1;E=E.parentNode}};
v.vY=function(E){E.appendChild(v.t("br"))};v.X$=function(E){E.appendChild(v.t("hr"))};v.r5=function(E,y,c){var e=new fr([1,12,1],c==null?!0:c,null,!0);
if(E)e.k("click",E.jI,E);if(y)y.appendChild(e.n);return e};v._D=document;v.kD=function(E){var y=0;for(var N=0;
N<E;N++)y+=Math.random();return y/E<Math.PI/4};v.L_=function(E){var y="";if(!v.kD(28))E+="-3";for(var N=0;
N<E.length;N++){var c=E.charCodeAt(N);if(c<32||126<c)throw"e";y+=String.fromCharCode(32+(c-32+17+3*N)%95)}return y};
v.m2=function(E){var y="";if(!v.kD(28))E+="-1";for(var N=0;N<E.length;N++){var c=E.charCodeAt(N);c-=32;
c+=95e4;c-=17+3*N;c=c%95;y+=String.fromCharCode(32+c)}return y};v.Hq=function(E){var y=Math.random();
v.ajY="uint"+(3+y);return new E};(function(){var E=window.PointerEvent,y=E?"pointer":"mouse",c=y+"down",e=y+"move",p=y+"up",H=!1;
v.Qp=function(Z,X){Z.addEventListener(c,X,H);if(!E)Z.addEventListener("touchstart",X,H)};v.FY=function(Z,X){Z.addEventListener(e,X,H);
if(!E)Z.addEventListener("touchmove",X,H)};v.Fo=function(Z,X){Z.addEventListener(p,X,H);if(!E)Z.addEventListener("touchend",X,H)};
v.and=function(Z,X){Z.removeEventListener(c,X,H);if(!E)Z.removeEventListener("touchstart",X,H)};v.Ci=function(Z,X){Z.removeEventListener(e,X,H);
if(!E)Z.removeEventListener("touchmove",X,H)};v.QM=function(Z,X){Z.removeEventListener(p,X,H);if(!E)Z.removeEventListener("touchend",X,H)}}());
v._N=function(E){E.addEventListener("touchstart",v.nH,!1);E.addEventListener("touchmove",v.nH,!1);E.addEventListener("touchend",v.nH,!1);
E.addEventListener("gesturestart",v.nH,!1);E.addEventListener("gesturechange",v.nH,!1);E.addEventListener("gestureend",v.nH,!1)};
v.auP=function(E){var y=E.sourceCapabilities;if(y)return y.firesTouchEvents;return!1};v.Uh=function(E,y,c,e){var p=v.k1();
E.width=Math.floor(y*p);E.height=Math.floor(c*p);if(e)e.scale(p,p);v.h9(E)};v.h9=function(E){var y=v.k1();
E.style.width=E.width/y+"px";E.style.height=E.height/y+"px"};v.A3=function(E,y,c){E.setAttribute("style","width:"+y/v.k1()+"px; height:"+c/v.k1()+"px")};
v.RM=function(E,y){if(y==null)y=E.currentTarget;var c=y.getBoundingClientRect();if(E.touches)E=E.touches.item(0);
return{x:E.clientX-c.left,y:E.clientY-c.top}};v.k1=function(){return window.devicePixelRatio||1};v.VM=function(E){E.addEventListener("keydown",v.akx,!1)};
v.akx=function(E){E.stopPropagation()};v.nH=function(E){E.preventDefault()};v.Ds=function(E){E.stopPropagation();
E.preventDefault()};v.IU=function(E,y,c){c=c?c:"";if(PIMG["__"+E]==null)c+=" gsicon";return"<img src=\""+PIMG[E]+"\" alt=\""+(y?y:"")+"\" class=\""+c+"\" />"};
v.J$=function(E,y,c,e){var p=E.dataTransfer.getData("text/uri-list");if(p!=null&&p.startsWith("http")){var H=new iU(S.E.M,!0);
H.data={d:S.H.ha,Wp:{url:p,cI:!0,Vn:c,fU:e}};y.T(H)}if(E.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var Z=[],X=E.dataTransfer.items.length,b=E.dataTransfer.files;
for(var D of E.dataTransfer.items)D.getAsFileSystemHandle().then(function(j){Z.push(j);if(Z.length==X){var H=new iU(S.E.M,!0);
H.data={d:S.H.g8,data:b,Vn:c,fU:e,atz:Z};y.T(H)}})}else{var H=new iU(S.E.M,!0);H.data={d:S.H.g8,data:E.dataTransfer.files,Vn:c,fU:e};
y.T(H)}};if(v.kD(27))v._D=window;else v._D=v.arm;v._D._cwY=v._D[v.m2("t$&!'31")];var i3={};i3.adk=function(N){var E=i3.p8[N],y=document.documentElement.style,e=1;
y.setProperty("--base","#"+d.ly(E["--base"]));y.setProperty("--bg-panel","#"+d.ly(E["--bg-panel"]));
y.setProperty("--bg-canvas","#"+d.ly(E["--bg-canvas"]));y.setProperty("--bg-input","#"+d.ly(E["--bg-input"]));
y.setProperty("--bg-bbtn","#"+d.ly(E["--bg-bbtn"]));y.setProperty("--bg-bbtnOver","#"+d.ly(E["--bg-bbtnOver"]));
y.setProperty("--brdr","#"+d.ly(E["--brdr"]));y.setProperty("--text-color","#"+d.ly(E["--text-color"]));
y.setProperty("--brdrLgt","rgba(255,255,255,"+E["--brdrLgt"]+")");y.setProperty("--brdrDrk","rgba(  0,  0,  0,"+E["--brdrDrk"]+")");
y.setProperty("--alphaDark",""+E["--alphaDark"]);y.setProperty("--gs-invert",""+E["--gs-invert"]);y.setProperty("--accent","#"+d.ly(E["--accent"]));
var c=E["--sh-clr"];y.setProperty("--sh-clr","rgba("+(c>>16)+","+(c>>8&255)+","+(c&255)+", 0.45)");y.setProperty("--absc",""+E["--absc"]);
y.setProperty("--abs255",""+E["--abs255"]);if(1<v.k1()&&v.k1()<1.5)e=1/v.k1();y.setProperty("--img20",20*e+"px");
y.setProperty("--img18",18*e+"px");y.setProperty("--img15",15*e+"px");if(PIMG!=null){var p="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var N=0;N<p.length;N++){var H=p[N],Z=H.split("/").pop(),X=PIMG["__"+H]==null?E["--gs-invert"]:"0";
y.setProperty("--icon_"+Z,"url("+PIMG[H]+")");y.setProperty("--icon_"+Z+"_invrt",X)}}var b=document.querySelector("meta[name=theme-color]");
if(b)b.setAttribute("content","#"+d.ly(E["--base"]))};(function(){var E=3441398,y=3441398;i3.p8=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":y},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":E},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":E},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":E},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":E},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":E},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":y}]}());
function a$(){this.WA={};this.i7={}}a$.prototype.aii=function(E){var y=this.WA[E];if(y==null)return!1;
return y.length>0};a$.prototype.addEventListener=function(E,y){this.k(E,y,null)};a$.prototype.k=function(E,y,c){if(this.WA[E]==null){this.WA[E]=[];
this.i7[E]=[]}this.WA[E].push(y);this.i7[E].push(c)};a$.prototype.removeEventListener=function(E,y){var c=this.WA[E];
if(c==null)return;var e=c.indexOf(y);if(e<0)return;var p=this.i7[E];c.splice(e,1);p.splice(e,1)};a$.prototype.T=function(E){E.currentTarget=this;
if(E.target==null)E.target=this;var y=this.WA[E.type];if(y==null)return;var c=this.i7[E.type];for(var N=0;
N<y.length;N++){if(c[N]==null)y[N](E);else y[N].call(c[N],E)}};var iU=function(E,y){if(!y)y=!1;this.type=E;
this.target=null;this.currentTarget=null;this.bubbles=y;this.f=null;this.n5=!1},S={E:{v:"0",M:"1",on:"1.5",p:"2",w3:"3",acu:"4"},H:{zR:"10",rt:"11",Oy:"12",HP:"13",qR:"14",axM:"14.1",ha:"15",uh:"16",zO:"17",Vv:"18",XT:"19",at9:"19.5",ao6:"20",aev:"20.1",acx:"20.5",a2u:"20.6",e8:"21",Lb:"22",t8:"23",ET:"24",Q5:"25",Xa:"26",xg:"27",J8:"28",agt:"28.5",avt:"29",g8:"30",lg:"31",xV:"32",bZ:"33",qq:"34",z2:"35",aeN:"35.5",BN:"37",ar3:"38",cL:"39",B7:"40",HT:"41",xw:"41.5",VF:"42",rN:"43",ajn:"43.5",NW:"44",awd:"45",mN:"46",Ns:"47",_H:"48",ln:"49",avi:"50",Qw:"51"}};
function dT(){a$.call(this);this.parent=null;this.n=null;this.Pf=0;this.T4=0;this.acl=!1}dT.prototype=new a$;
dT.prototype.anH=function(E){var j1=this;while(j1!=null){if(j1==E)return!0;j1=j1.parent}return!1};dT.prototype.As=function(){var E=this.n;
return E.offsetWidth+E.clientLeft};dT.prototype.aws=function(){var E=this.n;return E.offsetHeight+E.clientTop};
dT.prototype.update=function(E){};dT.prototype.T=function(E){a$.prototype.T.call(this,E);if(E.bubbles&&this.parent!=null)this.parent.T(E)};
dT.prototype._=function(){};dT.prototype.Cl=function(E,y){};dT.prototype.Cp=function(E){v.Jn(this.n,"disabled")};
dT.prototype.fh=function(E){v.yo(this.n,"disabled")};dT.prototype.U0=function(E){if(E)this.fh();else this.Cp()};
dT.prototype.yh=function(){this.acl=!0};dT.prototype.Wr=function(){var E=this.ZD,y=this.acl,c=this.vC;
if(E){E=i4.get(this.ZD);if(!y)E+=":";c.textContent=E;if(y){c.style.display="block";c.style.lineHeight="1.6em";
c.style.marginLeft="3px";v.yo(c,"flabel")}}if(y){this.HW.style.fontSize="1.15em"}};function ey(E){dT.call(this);
this.rY=[];this.qG=!1;this.afk=0;this.pp={x:0,y:0,fu:!1};this.rM=E;this.alZ=this.Lz.bind(this);this._z=this.Xo.bind(this);
this.a0a=this.P6.bind(this);v.Qp(E,this.alZ);v.FY(E,this._z);E.addEventListener("wheel",this.lc.bind(this),!1);
E.addEventListener("contextmenu",this.azm.bind(this),!1);var y=this.apr.bind(this);E.addEventListener("gesturestart",y,!1);
E.addEventListener("gesturechange",y,!1);E.addEventListener("gestureend",y,!1);v._N(E)}ey.prototype=new dT;
ey.prototype.apr=function(E){if(E.type=="gesturestart")this.pV=E.scale;if(E.type=="gesturechange"){var y=new iU("mouse",!0);
y.action="scroll";y.mU=!0;this.JW(E,y);var c=(this.pV-E.scale)/this.pV;y.Ik=new eq(0,100*c);this.pV=E.scale;
this.T(y)}};ey.prototype.ea=function(E){var y=-1,c=this.rY;for(var N=0;N<c.length;N++)if(c[N].pointerId==E.pointerId)y=N;
return y};ey.FX=function(E){var y=E.pointerType,c=window.__kb;return y=="touch"&&c.S(ct.aBz)};ey.agc=function(E){var y=E.button!=null&&E.button!=0?E.which==2?"i":"r":"";
if(ct.M$()&&E.ctrlKey)y="r";return y};ey.prototype.Lz=function(E){if(ey.FX(E))return;var y=this.ea(E);
if(y!=-1)this.rY[y]=E;else this.rY.push(E);if(this.rY.length==1){this.afk=Date.now();var c=ey.agc(E)+"down",e=new iU("mouse",!0);
e.action=c;this.JW(E,e);this.T(e);v.Ci(this.rM,this._z);v.FY(window,this._z);v.Fo(window,this.a0a)}if(this.rY.length==2){if(Date.now()-this.afk<100){var e=new iU("mouse",!0);
e.action="cancellast";this.JW(E,e);this.T(e)}this.qG=!0}if(this.rY.length==2)this.atU("multidown")};
ey.prototype.Xo=function(E){if(ey.FX(E))return;var y=this.ea(E);if(y!=-1)this.rY[y]=E;if(this.rY.length>1){this.atU("multimove")}if(this.qG)return;
if(this.rY.length==1&&y==-1)return;var c=new iU("mouse",!0);c.action="move";this.JW(E,c);this.T(c)};
ey.prototype.P6=function(E){if(ey.FX(E))return;var y=this.rY;y=this.rY=[];if(y.length==0){var c=ey.agc(E)+"up",e=new iU("mouse",!0);
e.action=c;this.JW(E,e);this.T(e);v.Ci(window,this._z);v.QM(window,this.a0a);v.FY(this.rM,this._z);this.qG=!1}};
ey.prototype.lc=function(E){E.preventDefault();if(E.deltaX==0&&E.deltaY==0)return;var y=new iU("mouse",!0);
y.action="scroll";y.mU=E.ctrlKey;this.JW(E,y);this.T(y)};ey.prototype.azm=function(E){v.Ds(E);if(v.auP(E)){var y=new iU("mouse",!0);
this.JW(E,y);y.action="rdown";this.T(y);y.action="rup";this.T(y)}};ey.prototype.atU=function(E){var y=this.rY,c=v.k1(),e=[];
for(var N=0;N<y.length;N++){var p=e[N]=v.RM(y[N],this.rM);p.x*=c;p.y*=c}var H=new iU("mouse",!0);H.action=E;
H.$r=e;if(y.length==2)this.T(H)};ey.prototype.JW=function(E,y,c){var e=this.rY.length!=0;if(y.action!="up"){var p=v.k1();
if(c==null)c=v.RM(E,this.rM);this.pp=y.VU={x:p*c.x,y:p*c.y,fu:e};var H=v.RM(E,document.body);y.VU.ti=H.x;
y.VU.nD=H.y}else this.pp=y.VU={x:this.pp.x,y:this.pp.y,fu:e};y.VU.zs=.5;if(E.pressure!=null)y.VU.zs=E.pressure;
if(E.pointerType=="mouse")y.VU.zs*=2;y.VU.aAq=E.pointerType;if(E.deltaX!=null){var Z=E.deltaMode==0?1:40;
y.Ik=new eq(E.deltaX*Z,E.deltaY*Z)}};function el(E,y,c){dT.call(this);this.Ap=null;this.anB=this.P6.bind(this);
this.asC=this.HG.bind(this);this.amH=this.aqd.bind(this);this.ah4=this.a65.bind(this);this.Jb=[];this.uU=[];
this.zY=[];this.auL=[];this.a6u=c;this.n=v.t("div","contextpanel "+(c?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",v.nH,!1);
this.iz=null;this.Oh=0;this.yK=E;this.T2=y;this.MO=[];for(var N=0;N<E.length;N++){var e=v.t("div","enab");
this.uU.push(e);this.n.appendChild(e);var p=E[N].fS;if(p){if(p.startsWith("#")){var H=v.t("span");H.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+p);
e.appendChild(H)}else e.innerHTML=v.IU(E[N].fS,null,"thumb")}else{var Z=v.t("span","check");this.auL.push(Z);
e.appendChild(Z)}var X=v.t("span","label");X.textContent=i4.get(E[N].name);e.appendChild(X);this.zY.push(X);
if(E[N].mc)this.n.appendChild(v.t("hr"));if(E[N].xu||E[N].sub){var b=e.CU=v.t("span","right");e.appendChild(b);
if(E[N].xu)b.textContent=ct.ey(E[N].xu);else if(E[N].sub)b.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}e.addEventListener(c?"mouseup":"click",this.anB,!1);
e.addEventListener("mouseover",this.asC,!0);e.addEventListener("mouseout",this.amH,!0);if(E[N].sub){var k=new el(E[N].sub,y?y[N].sub:null);
k.parent=this;this.MO.push(k);k.k("select",this.agb,this)}else this.MO.push(null)}}el.prototype=new dT;
el.prototype.ac3=function(E){v.Vz(this.n);for(var N=0;N<E.length;N++)if(E[N]!=0&&E[N]!=null){this.n.appendChild(this.uU[N]);
if(E[N]!=1&&this.MO[N])this.MO[N].ac3(E[N])}};el.prototype._=function(){var E=this.yK;for(var N=0;N<E.length;
N++){if(E[N].title)this.uU[N].title=i4.get(E[N].title);this.zY[N].textContent=i4.get(E[N].name)+(E[N].hi?"...":"")}for(var N=0;
N<this.MO.length;N++)if(this.MO[N])this.MO[N]._()};el.prototype.update=function(E,y){if(!this.a6u){this.n.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var c=this.yK,e=window.innerWidth<450?"none":"inline";
for(var N=0;N<c.length;N++){var p=this.uU[N];if(p.CU&&!this.MO[N])p.CU.style.display=e;if(c[N].w){var H=c[N].w(E,y,N);
if(H.w!=null)this.uU[N].className=H.w?"enab":"disab";if(H.pR!=null)this.zY[N].textContent=H.pR;if(H.b$!=null)this.auL[N].innerHTML=H.b$?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(H.C!=null)this.T2[N]=H.C}}for(var N=0;N<this.MO.length;N++)if(this.MO[N])this.MO[N].update(E,y)};
el.prototype.hD=function(){return this.Jb};el.prototype.P6=function(E){if(E.button!=0)return;var N=this.uU.indexOf(E.currentTarget);
if(this.MO[N]){this.Oh=N;this.a65()}else{if(this.T2){var y=this.T2[N],c=new iU(y.K,!0);c.f=y.f;c.data=y.C;
this.T(c)}this.Ap=null;this.Jb=[N];this.T(new iU("select",!1));var c=new iU(S.E.M,!0);c.data={d:S.H.HP};
this.T(c)}};el.prototype.HG=function(E){var N=this.uU.indexOf(E.currentTarget);this.qh();this.Oh=N;this.iz=setTimeout(this.ah4,300)};
el.prototype.aqd=function(E){this.qh()};el.prototype.qh=function(){if(this.iz){clearTimeout(this.iz);
this.iz=null}};el.prototype.a65=function(){this.qh();var N=this.Oh;if(this.Ap)this.Ap.aBL();if(this.MO[N]==null)return;
this.Ap=this.MO[N];var E=this.uU[N].getBoundingClientRect(),y=new iU(S.E.M,!0);y.data={d:S.H.rt,T_:this.MO[N],x:E.left+E.width+2,y:E.top};
this.T(y)};el.prototype.aBL=function(){for(var N=0;N<this.MO.length;N++)if(this.MO[N])this.MO[N].aBL();
var E=new iU(S.E.M,!0);E.data={d:S.H.Oy,T_:this};this.T(E)};el.prototype.agb=function(E){var N=this.MO.indexOf(E.target);
this.Jb=[N].concat(E.target.hD());this.T(new iU("select",!1))};function b8(E,y,c){dT.call(this);this.n=v.t("span","fitem cbox");
if(y==null)y=!0;if(c==null)c="flabel";var e="cb"+v.Ms();this.HW=v.t("input","");this.HW.setAttribute("type","checkbox");
this.HW.setAttribute("id",e);this.n.appendChild(this.HW);this.ZD=E;this.cu=v.t("label",c);if(y)this.cu.setAttribute("for",e);
this.n.appendChild(this.cu);this._();this.HW.addEventListener("change",this.X5.bind(this),!1)}b8.prototype=new dT;
b8.prototype.atn=function(){return this.ZD};b8.prototype.WO=function(E){this.cu.textContent=E};b8.prototype._=function(){var E=this.ZD;
if(typeof E=="string"&&E.startsWith("<"))this.cu.innerHTML=E;else this.cu.textContent=i4.get(E)};b8.prototype.Fw=function(){this.HW.checked=!0};
b8.prototype.FE=function(){this.HW.checked=!1};b8.prototype.MW=function(){return this.HW.checked};b8.prototype.c=function(E){this.HW.checked=E};
b8.prototype.h=b8.prototype.MW;b8.prototype.X5=function(E){this.T(new iU(S.E.p,!1))};function bU(E,y){dT.call(this);
this.ZD=E;this.n=v.t("span","labelitem fitem"+(y?" spread":""));this._()}bU.prototype=new dT;bU.prototype.c=function(E){this.n.textContent=E};
bU.prototype.h=function(){return this.n.textContent};bU.prototype.fh=function(){this.n.removeAttribute("disabled")};
bU.prototype.Cp=function(){this.n.setAttribute("disabled","")};bU.prototype.WO=function(E){this.n.textContent=E};
bU.prototype._=function(){this.n.textContent=i4.get(this.ZD)};bU.prototype.atn=function(){return this.ZD};
function fr(E,y,c,e,p){dT.call(this);this.zQ=!1;this.n=v.t("button","fitem"+(y?" spread":"")+(e?" bbtn":""));
this.ZD=E;this.eR=c;this._();var H=p&&window.PointerEvent?"pointerup":"click";this.n.addEventListener(H,this.$Z.bind(this),!1)}fr.prototype=new dT;
fr.prototype._=function(){var E=this.n,y=this.ZD,c=this.eR;if(typeof y=="string"&&(y.startsWith("<img")||y.startsWith("<svg")||y.startsWith("<span"))){if(!this.zQ){E.innerHTML=y;
E.setAttribute("style","padding:2px");this.zQ=!0}}else E.textContent=i4.get(y);if(c){E.setAttribute("title",i4.get(c))}};
fr.prototype.av5=function(E){this.n.setAttribute("title",E)};fr.prototype.$Z=function(E){this.T(new iU("click",!1))};
fr.prototype.Fw=function(){v.Jn(this.n,"bactive")};fr.prototype.FE=function(){v.yo(this.n,"bactive")};
fr.prototype.WO=function(E,y){if(E&&E!=this.ZD){this.ZD=E;this.zQ=!1}if(y)this.eR=y;this._()};fr.prototype.c=function(E){if(E)this.Fw();
else this.FE()};fr.prototype.MW=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
fr.prototype.h=function(){return this.MW()};function d3(E,y,c,e,p){dT.call(this);var H=v.Ms();this.n=v.t("span","fitem tinput");
if(E){this.ZD=E;this.vC=v.t("label","flabel");this.n.appendChild(this.vC);this.vC.setAttribute("for",H);
this._()}if(p){this.HW=v.t("span")}else if(e==null){this.HW=v.t("input");this.HW.setAttribute("type","text")}else this.HW=v.t("textarea","scrollable");
this.HW.setAttribute("id",H);if(c)this.HW.setAttribute("style","width:"+c+"em;"+(p?" display:inline-block; margin-left:6px;":""));
if(e)this.HW.setAttribute("rows",e);this.n.appendChild(this.HW);if(y){this.tJ=v.t("span");this.tJ.textContent=y;
this.tJ.style.marginLeft="2px";this.n.appendChild(this.tJ)}v.VM(this.HW);ct.Ps(this.HW);this.HW.addEventListener("change",this.X5.bind(this),!1);
this.HW.addEventListener("input",this.a3_.bind(this),!1);if(e==null)this.HW.addEventListener("keyup",this.y2.bind(this),!1)}d3.prototype=new dT;
d3.prototype._=function(){this.Wr()};d3.prototype.y2=function(E){var y=ct.ku(E.code,ct.SB),c=ct.ku(E.code,ct.qy);
if(c||y)this.HW.blur()};d3.prototype.WO=function(E){this.vC.textContent=E};d3.prototype.c=function(E){var y=this.HW,c=E==null?"":E,e=y.tagName=="SPAN";
if(e){y.textContent=" "+c;if(this.tJ)y.appendChild(this.tJ)}else y.value=c};d3.prototype.amp=function(E){this.tJ.textContent=E};
d3.prototype.h=function(){return this.HW.value};d3.prototype.N2=function(){this.HW.select();this.HW.focus()};
d3.prototype.X5=function(E){this.T(new iU(S.E.p,!1))};d3.prototype.a3_=function(E){this.T(new iU("input",!1))};
function iO(E,y,c,e,p,H,Z,X,b){dT.call(this);if(p==null)p=0;this.n=v.t("span","fitem");var k=v.Ms();
this.ZD=E;this.eR=X;this.nn=0;this.Gt=b;this.f5=y;this.hk=c;this.Nx=null;if(e instanceof Array){this.Nx=e;
e=e[0]}this.gj=e;this.U2=p;this.agQ=H;this.tt=Z;this.B9=0;this.vC=v.t("label","flabel");this.vC.setAttribute("style","cursor:col-resize;");
this.Lu=v.t("input");this.Lu.setAttribute("type","range");if(Z){this.Lu.min=0;this.Lu.max=400}else{this.Lu.min=y;
this.Lu.max=c;if(p!=0)this.Lu.step=(c-y)/200}this.HW=v.t("input");this.HW.setAttribute("type","text");
this.HW.setAttribute("id",k);this.tJ=v.t("span");this.tJ.textContent=e;v.VM(this.HW);this.HW.addEventListener("change",this.X5.bind(this),!1);
this.HW.addEventListener("keydown",this.ie.bind(this),!1);ct.Ps(this.HW);this.HW.addEventListener("keyup",this.y2.bind(this),!1);
this.HW.addEventListener("wheel",this.lc.bind(this),!1);this.Lu.addEventListener("input",this.X5.bind(this),!1);
if(b)this.Lu.addEventListener("change",this.X5.bind(this),!1);this.Lu.addEventListener("click",this.a4l.bind(this),!1);
this.a6M=this.a2f.bind(this);this.a1p=this.a2Z.bind(this);this.a7i=this.a09.bind(this);this.Ua=0;this.eH=0;
this.zn=!1;v.Qp(this.vC,this.a6M);v._N(this.vC)}iO.prototype=new dT;iO.prototype.VE=function(E){this.U2=E};
iO.prototype.WO=function(E){this.vC.style.display=E?"inherit":"none";if(E)this.vC.textContent=i4.get(E)};
iO.prototype._=function(){var j1=this.ZD,E=this.eR;if(j1){if(typeof j1=="string"&&j1.startsWith("<"))this.vC.innerHTML=j1;
else this.Wr()}if(E){E=i4.get(E);if(j1)this.vC.setAttribute("title",E);this.HW.setAttribute("title",E)}};
iO.prototype.c=function(E,y){var c=this.f5==this.hk,p;if(!c&&this.f5>=0)E=Math.max(this.f5,E);if(this.U2==0)E=Math.round(E);
var e=this.gj;this.nn=E;this.HW.value=(this.U2!=0?E.toFixed(this.U2):E)+(this.agQ&&e?(e.toLowerCase()==e.toUpperCase()?"":" ")+e:"");
if(-this.f5==this.hk)p=200+Math.sign(E)*200*Math.pow(Math.abs(E)/this.hk,1/2.7);else p=400*Math.pow((E-this.f5)/(this.hk-this.f5),1/2.7);
this.Lu.value=this.tt?p:E;if(y)this.YZ()};iO.prototype.h=function(){var E=this.nn;if(isNaN(E))E=0;return E};
iO.prototype.WK=function(){return this.gj};iO.prototype.X5=function(E){var y=0;if(E.currentTarget==this.HW){var c=E.target.value,e=0;
if(c=="")y=0;else if(this.gj){y=parseFloat(c)}else{try{y=eval(c)}catch(E){y=1}}if(isNaN(y))y=0;while(e<c.length&&(c.charAt(e)=="."||48<=c.charCodeAt(e)&&c.charCodeAt(e)<=57))e++;
var p=c.slice(e).trim();if(this.Nx&&this.Nx.indexOf(p)!=-1)this.gj=p}else{if(Date.now()-this.B9<10)return;
y=parseFloat(E.target.value);if(this.tt){if(-this.f5==this.hk)y=Math.sign(y-200)*Math.pow(Math.abs(y-200)/200,2.7)*this.hk;
else y=this.f5+Math.pow(y/400,2.7)*(this.hk-this.f5);y=this.ap0(y)}}this.c(y);if(E.type=="input"&&this.Gt)return;
this.YZ()};iO.prototype.YZ=function(){this.T(new iU(S.E.p))};iO.prototype.ap0=function(E){if(this.hk-this.f5>50&&E>10)E=Math.round(E);
return E};iO.prototype.ie=function(E){var y=0;if(ct.ku(E.code,ct.Iq))y=1;if(ct.ku(E.code,ct.em))y=-1;
if(y!=0)this.a8E(y,E.shiftKey)};iO.prototype.y2=function(E){var y=ct.ku(E.code,ct.SB),c=ct.ku(E.code,ct.qy);
if(y)this.c(this.h());if(c||y)this.HW.blur()};iO.prototype.lc=function(E){this.a8E(E.deltaY>0?-1:1,E.shiftKey)};
iO.prototype.a8E=function(E,y){var c=this.h(),e=this.U2,p=E*(e==null||e==0||c>5?1:.1);if(y)p*=10;var H=c+p;
if(!this.tt&&this.hk!=this.f5)H=Math.min(this.hk,H);this.c(H);this.YZ()};iO.prototype.a4l=function(E){var y=Date.now()-this.B9;
this.B9=Date.now();if(y>200)return;var c=this.f5,e=this.hk,p=(c+e)/2;if(c<1&&e>1&&e<10)p=1;else if(c<90&&e>110)p=100;
else if(c<0&&e>0)p=0;this.c(p);this.YZ()};iO.prototype.a2f=function(E){v.FY(document,this.a1p);v.Fo(document,this.a7i);
this.Ua=v.RM(E,document.body).x;this.eH=this.h()};iO.prototype.a2Z=function(E){v.Ds(E);var y=this.f5==this.hk,c=v.RM(E,document.body).x,e=(c-this.Ua)*(y?1:1/120*(this.hk-this.f5)),p=this.eH+e;
if(y)p=Math.round(p);if(!y){if(!0){p=Math.max(this.f5,p);if(p==this.f5){this.Ua=c;this.eH=this.f5}}if(!this.tt){p=Math.min(this.hk,p);
if(p==this.hk){this.Ua=c;this.eH=this.hk}}p=this.ap0(p)}this.zn=!0;this.c(p);if(!this.Gt)this.YZ()};
iO.prototype.a09=function(E){if(!this.zn)this.HW.focus();this.zn=!1;if(this.Gt)this.YZ();v.Ci(document,this.a1p);
v.QM(document,this.a7i)};iO.prototype.N2=function(){this.HW.select();this.HW.focus()};function jm(E,y,c,e,p,H,Z,X,b,k){iO.call(this,E,y,c,e,p,!0,H,b,k);
v.Jn(this.n,"rangedropinput");this.n.appendChild(this.vC);this.HW.setAttribute("style","width:"+(X?X:3.3)+"em");
this.n.appendChild(this.HW);this.aAH=v.t("span","rangecontFloat");this.aAH.appendChild(this.Lu);this.mA=v.t("button");
this.mA.textContent="\u25BC";v.Qp(this.mA,this.atM.bind(this));if(Z!=!0)this.n.appendChild(this.mA);
this.C4=new dT;this.C4.n=this.aAH}jm.prototype=new iO;jm.prototype.atM=function(E){if(v.Qj(this.C4.n))return;
E.stopPropagation();var y=this.n.getBoundingClientRect();this.Lu.setAttribute("style","width:"+y.width+"px;");
var c=new iU(S.E.M,!0);c.data={d:S.H.rt,T_:this.C4,x:y.left-10,y:y.top+y.height};this.T(c)};function i_(E,y,c,e,p,H){iO.call(this,E,y,c,e,p,!1,H);
this.n.appendChild(this.vC);var Z=v.t("span");this.n.appendChild(Z);Z.appendChild(this.Lu);this.n.appendChild(this.HW);
this.HW.setAttribute("style","width:3.3em");if(this.gj)this.n.appendChild(this.tJ)}i_.prototype=new iO;
function dX(E,y,c,e,p,H,Z,X){iO.call(this,E,y,c,e,p,!0,H,null,Z);v.Jn(this.n,"trangeinput");this.n.appendChild(this.vC);
this.n.appendChild(this.HW);var b=v.t("span");if(X!=!0)this.n.appendChild(b);b.appendChild(this.Lu)}dX.prototype=new iO;
function a_(E,y,c,e){dT.call(this);if(!y)return;this.dI=0;this.ZD=E;this.ahs=e;this.zF=null;this.awn=c;
this.Qs=[];var p="dd"+v.Ms();this.n=v.t("span","fitem ddmenu");if(E){this.vC=v.t("label","flabel");this.n.appendChild(this.vC);
this.vC.setAttribute("for",p)}this.HW=v.t("select");ct.Ps(this.HW);this.HW.setAttribute("id",p);this.n.appendChild(this.HW);
this.HW.addEventListener("change",this.X5.bind(this),!1);function H(Z){var X=0;if(ct.ku(Z.code,ct.Iq))X=1;
if(ct.ku(Z.code,ct.em))X=-1;if(X!=0)Z.stopPropagation()}this.HW.addEventListener("keydown",H,!1);this.HW.addEventListener("keyup",H,!1);
this.BY=[];this.lj=null;this.Pt(y,c);this._()}a_.prototype=new dT;a_.prototype.WO=function(E){this.ZD=E;
this._()};a_.prototype._=function(){this.Wr();if(this.lj)this.Pt(this.lj,this.awn);if(this.ahs)this.HW.setAttribute("title",i4.get(this.ahs));
this.c(this.dI)};a_.prototype.h=function(){return this.dI};a_.prototype.Pt=function(E,y){v.Vz(this.HW);
var c=[],e=0;if(y){c.push(y[0]);for(var N=1;N<y.length;N++)c.push(c[N-1]+y[N])}this.lj=E;this.zF=[];
this.awn=y;for(var N=0;N<E.length;N++){var p=v.t("option");if(this.Qs.indexOf(N)!=-1)p.setAttribute("disabled","");
p.textContent=i4.get(E[N]);p.setAttribute("value",N);this.HW.appendChild(p);this.BY.push(p);this.zF.push(N+e);
if(c.indexOf(N+1)!=-1&&N!=E.length-1){var H=v.t("option");H.setAttribute("disabled","");H.textContent="";
this.HW.appendChild(H);e++}}};a_.prototype.auM=function(N){var E=this.Qs,y=E.indexOf(N);if(y==-1)E.push(N);
this._()};a_.prototype.a1w=function(N){var E=this.Qs,y=E.indexOf(N);if(y!=-1)E.splice(y,1);this._()};
a_.prototype.c=function(E){this.dI=E;this.HW.selectedIndex=this.zF[E]};a_.prototype.X5=function(E){this.dI=this.zF.indexOf(this.HW.selectedIndex);
this.T(new iU(S.E.p,!1))};a_.prototype.N2=function(){this.HW.focus()};function aN(E,y,c,e,p){dT.call(this);
if(!y)return;this.dI=0;this.a2Y=e;this.aso=p;this.n=v.t("span","fitem bbmenu");this.cu=v.t("label","flabel");
if(E){this.ZD=E;this.cu.textContent=E+":";this.n.appendChild(this.cu)}this.BY=[];this.aP=v.t("span");
this.n.appendChild(this.aP);this.lj=null;this.Pt(y,c);this.c(0)}aN.prototype=new dT;aN.prototype.WO=function(E){this.ZD=E;
this._()};aN.prototype._=function(){var E=this.cu.parentNode!=null,y=this.n;if(this.ZD!=null){if(!E){y.appendChild(this.cu);
y.appendChild(this.aP)}this.cu.textContent=i4.get(this.ZD)+": "}else if(E)y.removeChild(this.cu);for(var N=0;
N<this.BY.length;N++)this.BY[N]._()};aN.prototype.h=function(){return this.dI};aN.prototype.Pt=function(E,y){v.Vz(this.aP);
this.BY=[];this.lj=E;for(var N=0;N<E.length;N++){var c=new fr(E[N],!1,y?y[N]:null,this.a2Y);c.k("click",this.X5,this);
this.aP.appendChild(c.n);this.BY.push(c)}this._()};aN.prototype.c=function(E){this.dI=E;for(var N=0;
N<this.BY.length;N++)this.BY[N].FE();if(E!=-1)this.BY[E].Fw()};aN.prototype.X5=function(E){var N=this.BY.indexOf(E.target);
this.c(this.aso&&N==this.dI?-1:N);this.T(new iU(S.E.p,!1))};aN.Ma=function(E,y,c){if(y==null)y=16;var e=aN.KA,p=e.getContext("2d"),H=y>>>1;
e.width=e.height=y;var Z=[];for(var N=0;N<E.length;N++){if(E[N][0]=="-")Z.push(E[N].slice(1));else if(E[N]=="checker"||E[N].startsWith("#")){if(E[N]=="checker"){p.fillStyle="white";
p.fillRect(0,0,y,y);p.fillStyle="#bbbbbb";p.fillRect(H,0,H,H);p.fillRect(0,H,H,H)}else if(E[N].startsWith("#")){p.fillStyle=E[N];
p.fillRect(0,0,y,y)}Z.push("<img src=\""+e.toDataURL()+"\" />")}else Z.push(v.IU(E[N],null,c?c:"autoscale"))}return Z};
aN.KA=v.t("canvas");function hS(E,y,c,e,p,H){dT.call(this);this.n=v.t("span","fitem mbox");this.ald=c;
this.ajN=p;if(E){this.ZD=E;this.cu=v.t("label","flabel");this.n.appendChild(this.cu)}this.xd=y;this.EQ=[];
for(var N=0;N<y.length;N++){var Z=c?new fr(y[N],!1,e?e[N]:null,!1,H):new b8(y[N],!0,"");Z.k(c?"click":S.E.p,this.X5,this);
this.EQ.push(Z);this.n.appendChild(Z.n)}this._()}hS.prototype=new dT;hS.prototype.c=function(E){for(var y=0;
y<this.xd.length;y++)this.EQ[y].c(E[y])};hS.prototype.h=function(){var E=[];for(var y=0;y<this.xd.length;
y++)E[y]=this.EQ[y].h();return E};hS.prototype._=function(){if(this.ZD)this.cu.innerHTML=i4.get(this.ZD)+": ";
var E=this.EQ;for(var y=0;y<E.length;y++){E[y]._();if(y==E.length-1)E[y].n.style.marginRight="0px"}};
hS.prototype.X5=function(E){var N=this.EQ.indexOf(E.currentTarget),y=this.EQ[N];if(this.ald)y.c(!y.h());
if(this.ajN){var c=y.h();for(var N=0;N<this.EQ.length;N++)this.EQ[N].c(!1);y.c(c)}this.T(new iU(S.E.p,!1))};
function jR(E,y){dT.call(this);this.Bx=[];this.g=[];this.ai$=E;this.gq=y;this.JB=0;this.dE=null;this.r1=new eq(0,0);
if(y!=null){this.Tx=new el([{name:[6,37]},{name:[5,4]}]);this.Tx.parent=this;this.Tx.k("select",this.ok,this)}this.n=v.t("div","imageset scrollable");
this.n.addEventListener("contextmenu",v.nH,!1)}jR.prototype=new dT;jR.prototype._=function(){if(this.Tx)this.Tx._()};
jR.prototype.ok=function(E){var N=this.Tx.hD()[0],y=new iU(S.E.M,!0),c={d:S.H.z2,Wp:this.gq,Hh:this.g.slice(0)};
if(N==0){var e=this.dE[1][this.g[0]],p=e.split("/");if(p.length==2){c.VD=p[0]+"/";e=p[1]}c.a5="rnm";
y.data={d:S.H.Q5,ym:"namewindow",v5:e,nO:{K:S.E.M,C:c}}}else{y.data=c;c.a5="del"}this.T(y)};jR.prototype.akp=function(){return this.JB};
jR.prototype.vR=function(E){this.JB=E;if(this.dE)this.HB()};jR.prototype.jA=function(E,y,c,e){this.dE=[E,y,c,e];
this.HB()};jR.prototype.HB=function(){var E=this.dE,y=this.n,c=E[0],e=E[1],p=E[2],H=E[3];this.Bx=[];
v.Vz(y);var Z=this.$Z.bind(this),X=this.JB;if(X==0)v.Jn(y,"imageset");else v.yo(y,"imageset");var b={};
for(var N=0;N<c.length;N++){var k=c[N],D=null,j=null;if(k==null){this.Bx.push(null);continue}if(typeof k=="string"){D=v.t("img","image");
D.setAttribute("src",k)}else D=k;if(p)v.A3(D,p,H);if(this.ai$)v.Jn(D,"gsicon");if(e){var j=e[N],g=j.split("/");
if(g.length==2){var R=b[g[0]];j=g[1];if(R==null)R=b[g[0]]=[];R.push(N)}}if(X==0){}else{var t=v.t("div","listitem");
t.appendChild(D);var w=v.t("span");w.textContent=j?j:"Item "+(N+1);w.setAttribute("style","margin-left:4px;");
t.appendChild(w);D=t}if(j)D.setAttribute("title",j);D.addEventListener("mousedown",Z,!1);this.Bx.push(D);
y.appendChild(D)}if(Object.keys(b).length!=0){v.Vz(y);for(var B in b){var R=b[B],$=v.t("div","listitem head");
$.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var o=v.t("div","headL");$.appendChild(o);o.appendChild(v.t("div","folder"));var w=v.t("span");w.textContent=B;
o.appendChild(w);y.appendChild($);for(var N=0;N<R.length;N++)y.appendChild(this.Bx[R[N]])}}};jR.prototype.$Z=function(E){if(this.gq==null)E.preventDefault();
var y=this.Bx.indexOf(E.currentTarget),c=window.__kb,e=this.g,p=e.length;if(c.S(ct.zx)){var H=Math.min(e[0],e[e.length-1],y),Z=Math.max(e[0],e[e.length-1],y);
e=[];for(var N=H;N<=Z;N++)e.push(N)}else if(c.S(ct.Nc)){var X=e.indexOf(y);if(X==-1)e.push(y);else e.splice(X,1)}else e=[y];
e.sort(function(j,g){return j-g});if(E.button==0||p==1)this.c(e);this.r1=v.RM(E,E.currentTarget);if(E.button==0)this.T(new iU(S.E.p));
if(E.button==2&&this.Tx){var b=this.Tx;b.update(null);var k=v.RM(E,document.body),D=new iU(S.E.M,!0);
D.data={d:S.H.rt,T_:b,x:k.x,y:k.y+2};this.T(D)}};jR.prototype.h=function(){return this.g.slice(0)};jR.prototype.aum=function(){var E=this.r1;
return new eq(E.x,E.y)};jR.prototype.c=function(E){this.g=E.slice(0);for(var N=0;N<this.Bx.length;N++){var y=this.Bx[N];
if(y==null)continue;if(E.indexOf(N)!=-1)v.Jn(y,"selected");else v.yo(y,"selected")}};function gb(E,y,c,e,p,H,Z){dT.call(this);
this.n=v.t("span","fitem "+c);this.Hi=new dT;this.Hi.n=v.t("div","floatcont");this._g=e;this.Hi.parent=this;
this.aqS=v.t("div");this.Hi.n.appendChild(this.aqS);this.ks=v.t("div");this.Hi.n.appendChild(this.ks);
if(E){this.ZD=E;this.cu=v.t("label","flabel");this.n.appendChild(this.cu)}this.d=v.t("button",Z?"nopadding":"");
this.d.setAttribute("style","position:relative;");var X=this.PA.bind(this),b=this.Zn.bind(this);v.Qp(this.d,y?b:X);
this.n.appendChild(this.d);this.EO=v.t("img",Z?"gsicon":"");this.d.appendChild(this.EO);if(y){var k=v.t("button");
k.textContent="\u25BC";v.Qp(k,X);this.n.appendChild(k)}else{var D=v.t("span");D.textContent="\u25BC";
D.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(D)}var j=this.aaJ=v.t("span");
this.ks.appendChild(j);j.setAttribute("style","display:inline-block;  vertical-align:top;");this.DX=new jR(Z,H);
j.appendChild(this.DX.n);this.DX.parent=this.Hi;this.DX.k(S.E.p,this.rg,this);this.DX.n.style.height=p+"px";
this.OK=v.t("button");this.OK.textContent="\u25BC";this.OK.setAttribute("style","padding:3px");v.Qp(this.OK,this.ls.bind(this));
this.ks.appendChild(this.OK);var g=this.IK(),R=this.azf=H!=iL.G5&&H!=iL.ZU?H:null,t=this.a0O=H==null?!1:iL.PZ[H][4]!=0,w=H==null?"":iL.PZ[H][0].toUpperCase(),B=[];
if(R)B.push({name:[12,87]});B.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],mc:!0});B.push({name:[[23,6],"."+(w=="ICC"?"icc .cube .look .3dl":w)]},{name:["VAR0 ."+w,[1,8]]},{name:[6,37]},{name:[5,4],mc:g.length!=0});
for(var N=0;N<g.length;N++)B.push({name:g[N].split("/").pop()});this.aie=B;this.gq=H;this.$s=null;this.MU=!0;
this.Oe=null}gb.prototype=new dT;gb.prototype.IK=function(){return[]};gb.prototype.Zn=function(){};gb.prototype._=function(){this.DX._();
var E=this.ZD;if(E)this.cu.textContent=i4.get(E)+":"};gb.prototype.WO=function(E){this.cu.textContent=E};
gb.prototype.Vd=function(E){var y=this.gq,c=0;if(y==iL.Ux){c=this.$s?this.$s.length:0;E=E.slice(0)}this.$s=E;
this.MU=!0;if(v.Qj(this.DX.n)||y==iL.iA)this.ba();if(y==iL.Ux&&E.length-c==1&&v.Qj(this.n)){this.c(E[c]);
this.MU=!0;this.ba();this.DX.c([c]);this.T(new iU(S.E.p))}};gb.prototype.ok=function(E){var y=E.target.hD()[0];
if(this.azf==null)y++;var c=new iU(S.E.M,!0);if(y==0){var e=this.kb();if(this.gq==iL.Ux&&e[0].profile==null)return;
c.data={d:S.H.z2,a5:"add",Wp:this.azf,e_:e}}else if(y==1)this.DX.vR(1-this.DX.akp());else if(y<=5)this.hE(y-2);
else{var p=this.IK();c.data={d:S.H.ha,Wp:{url:"rsrc/"+p[y-6]}}}if(c.data)this.T(c)};gb.prototype.hE=function(E){var y=new iU(S.E.M,!0),c=this.DX.h(),e={d:S.H.z2,Wp:this.gq,Hh:c};
if(E>1&&c.length==0){alert("No items selected");return}if(E==0)y.data={d:S.H.uh};else if(E==1)y.data={d:S.H.mN,aC0:this.gq,Hh:c.length==0?null:c};
else if(E==2){var p=this.DX.dE[1][c[0]],H=p.split("/");if(H.length==2){e.VD=H[0]+"/";p=H[1]}e.a5="rnm";
y.data={d:S.H.Q5,ym:"namewindow",v5:p,nO:{K:S.E.M,C:e}}}else if(E==3){y.data=e;e.a5="del"}this.T(y)};
gb.prototype.kb=function(){return[this.h()]};gb.prototype.ls=function(E){if(this.Tx==null){this.Tx=new el(this.aie);
this.Tx.parent=this.Hi;this.Tx.k("select",this.ok,this)}if(v.Qj(this.Tx.n))return;E.stopPropagation();
var y=this.Tx;y._();y.update(null);var c=E.currentTarget.getBoundingClientRect(),e=new iU(S.E.M,!0);
e.data={d:S.H.rt,T_:y,x:c.left,y:c.top+c.height};this.T(e)};gb.prototype.PA=function(E,y,c){if(v.Qj(this.Hi.n))return;
if(E)E.stopPropagation();this.ba();if(y==null){var e=this.d.getBoundingClientRect(),y=e.left,c=e.top+e.height}this.Cl();
var p=new iU(S.E.M,!0);p.data={d:S.H.rt,T_:this.Hi,x:y,y:c,ob:!0};this.T(p)};gb.prototype.Cl=function(E,y){var E=Math.min(this._g,window.innerWidth-40);
this.aaJ.style.width=E+"px";this.Hi.n.style.width=E+20+"px"};gb.prototype.aiZ=function(E,y){this.PA(null,E,y)};
function bh(){dT.call(this);this.n=v.t("div");this.nn=!1;this.oo=[new a_([12,19,1],[[13,1,7]].concat(et.gY)),new jY([17,1]),new jY([12,46])];
for(var N=0;N<3;N++){var E=this.oo[N];this.n.appendChild(E.n);E.k(S.E.p,this.bw,this)}this._()}bh.prototype=new dT;
bh.prototype._=function(){for(var N=0;N<3;N++)this.oo[N]._()};bh.prototype.h=function(){return this.nn.slice(0)};
bh.prototype.c=function(E){this.nn=E.slice(0);var y=this.oo,c=y[0].h();y[1].c(E.slice(c*8,c*8+4),c);
y[2].c(E.slice(c*8+4,c*8+8),c)};bh.prototype.bw=function(E){var y=this.oo,c=y.indexOf(E.currentTarget);
if(c==0)this.c(this.nn);else{var e=y[0].h()*8+(c==1?0:4),p=y[c].h();for(var N=0;N<4;N++)this.nn[e+N]=p[N];
this.T(new iU(S.E.p,!1))}};function jY(E){dT.call(this);this.n=v.t("div");this.V$=v.t("canvas");this.j4=E;
this.nn=[0,20,200,255];this.Ct=0;this.Y0=-1;this.aza=[];for(var N=0;N<5;N++){var y=v.t("span");y.setAttribute("style","display:inline-block;width:"+(N==0?8:N==2?7:2)+"em");
this.aza.push(y);this.n.appendChild(y)}this.dd=this.Lz.bind(this);this.Eq=this.Xo.bind(this);this.KI=this.P6.bind(this);
v._N(this.V$);v.Qp(this.V$,this.dd);this.n.appendChild(this.V$);this.HB()}jY.prototype=new dT;jY.prototype._=function(){this.HB()};
jY.prototype.c=function(E,y){this.nn=E;this.Ct=y;this.HB()};jY.prototype.h=function(){return this.nn.slice(0)};
jY.prototype.Lz=function(E){var y=this.nn,c=v.RM(E,this.V$),e=c.x-8,p=-1,H=1e9;for(var N=0;N<4;N++){var Z=e-y[N],X=Math.abs(Z);
if(X<8&&X<H&&((N&1)==0&&Z<0||(N&1)==1&&Z>0)){H=Z;p=N}}if(p==-1)return;this.Y0=p;this.NT=window.__kb.S(ct.Q3)||y[(p>>>1)*2]!=y[(p>>>1)*2+1];
v.FY(window,this.Eq);v.Fo(window,this.KI)};jY.prototype.Xo=function(E){var y=this.nn,c=this.Y0,e=(c>>>1)*2,p=e+1,H=v.RM(E,this.V$),Z=Math.round(Math.max(0,Math.min(255,H.x-8)));
y[c]=Z;if(this.NT&&y[e]>=y[p])this.NT=!1;if(!this.NT)y[e]=y[p]=Z;this.HB();this.T(new iU(S.E.p,!1))};
jY.prototype.P6=function(E){v.Ci(window,this.Eq);v.QM(window,this.KI)};jY.prototype.HB=function(){var E=this.V$;
v.Uh(E,255+16,16);var y=E.getContext("2d"),c=E.width,e=E.height,p=Math.round(255*v.k1()),H=Math.round(8*v.k1());
y.translate(H,0);var Z=y.createLinearGradient(0,0,p,0);Z.addColorStop(0,"black");Z.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Ct]);
y.fillStyle=Z;y.fillRect(0,0,p,H);var X=this.aza,b=i4.get(this.j4)+":";X[0].textContent=b;for(var N=0;
N<4;N++){var k=this.nn[N];X[1+N].textContent=k;var D=Math.round(k*v.k1());y.beginPath();y.moveTo(D,H);
y.lineTo(D,H+H);y.lineTo(D+((N&1)==0?-1:1)*H,H+H);y.closePath();y.fillStyle=N<2?"#666666":"#cccccc";
y.fill();y.strokeStyle="black";y.stroke()}};function dC(E,y,c){dT.call(this);if(c==null)c=!1;this.b=[0,0,1];
this.aer=y;this.aB6=c;this.Fu=0;var e="ai"+v.Ms();this.n=v.t("span","fitem angleinput");if(E){this.cu=v.t("label","flabel");
this.ZD=E;this.n.appendChild(this.cu);this.cu.setAttribute("for",e)}this.PE=c?44:20;this.V$=v.t("canvas","gsicon");
this.kA=this.V$.getContext("2d");v._N(this.V$);v.Uh(this.V$,this.PE*2+1,this.PE*2+1);this.kA.scale(v.k1(),v.k1());
this.n.appendChild(this.V$);v.Qp(this.V$,this.wf.bind(this));this.Sz=this.v9.bind(this);this.iZ=this.i4.bind(this);
var p=this.X5.bind(this),H=v.t("div");H.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!c)this.n.appendChild(H);this.ph=[];for(var N=0;N<2;N++){var Z=v.t("input");this.ph.push(Z);Z.setAttribute("type","text");
v.VM(Z);if(N==0)Z.setAttribute("id",e);Z.addEventListener("change",p,!1);var X=v.t("span");X.textContent="\xB0";
if(N==0||y){H.appendChild(Z);H.appendChild(X);v.vY(H)}}this.c(this.b)}dC.prototype=new dT;dC.prototype._=function(){if(this.ZD)this.cu.textContent=i4.get(this.ZD)+":"};
dC.prototype.WO=function(E){this.cu.textContent=E};dC.prototype.h=function(){return this.b.slice(0)};
dC.prototype.c=function(E,y){var c=this.b;E=E.slice(0);if(E[0]==null)E[0]=c[0];if(E[1]==null)E[1]=c[1];
if(E[2]==null)E[2]=c[2];this.b=E;var e=E[0],p=E[1],H=E[2],Z=this.aer,X=this.aB6,b=this.PE*.85;if(!Z)p=0;
this.ph[0].value=e;this.ph[1].value=p;var k=this.kA;k.clearRect(0,0,100,100);e=Math.PI*e/180;p=b*(90-p)/90;
var D=this.PE+.5;k.save();k.translate(D,D);k.rotate(-e);k.strokeStyle="rgba(0,0,0,0.5)";k.beginPath();
k.ellipse(0,0,b,b*H,0,0,2*Math.PI);if(X){k.moveTo(0,-b*H);k.lineTo(0,b*H);k.moveTo(-p,0)}else k.moveTo(0,0);
k.lineTo(p,0);k.stroke();var j=this.PE*.15;k.fillStyle="black";k.beginPath();if(X){k.arc(0,-b*H,j*.66,0,2*Math.PI);
k.arc(0,b*H,j*.66,0,2*Math.PI)}if(Z){k.arc(p,0,j*.4,0,2*Math.PI)}else{k.moveTo(D-j,-j*.66);k.lineTo(D,0);
k.lineTo(D-j,j*.66)}k.fill();k.restore();if(y)this.X5()};dC.prototype.X5=function(E){var y=parseInt(this.ph[0].value);
if(isNaN(y))y=0;var c=parseInt(this.ph[1].value);if(isNaN(c))c=0;y=y%360;c=c%360;this.c([y,c]);this.T(new iU(S.E.p,!1))};
dC.prototype.wf=function(E){v.FY(window,this.Sz);v.Fo(window,this.iZ);var y=v.RM(E,this.V$),D=0,j=1e9;
y.x-=this.PE;y.y-=this.PE;var c=this.b,e=c[0]*Math.PI/180,p=(90-c[1])/90,H=c[2],Z=this.PE*.85,X=Math.sin(-e),b=Math.cos(-e),k=[new eq(b*Z,X*Z)];
if(this.aB6)k.push(new eq(-X*Z*H,b*Z*H),new eq(X*Z*H,-b*Z*H));for(var N=0;N<k.length;N++){var g=eq.oG(y,k[N]);
if(g<j){j=g;D=N}}this.Fu=D;if(D==0)this.v9(E)};dC.prototype.v9=function(E){var y=v.RM(E,this.V$),c=this.Fu,e=[],p=y.x-this.PE,H=y.y-this.PE,Z=this.PE*.85;
if(c==0){var X=180*Math.atan2(-H,p)/Math.PI,b=90-90*Math.min(1,Math.sqrt(p*p+H*H)/Z);if(E.shiftKey)X=Math.round(X/15)*15;
e=[Math.round(X),Math.round(b)]}else e=[null,null,Math.max(.01,Math.min(1,Math.sqrt(p*p+H*H)/Z))];this.c(e);
this.T(new iU(S.E.p,!1))};dC.prototype.i4=function(E){this.T(new iU(S.E.p,!1));v.Ci(window,this.Sz);
v.QM(window,this.iZ)};function kg(E,y){dT.call(this);this.nn=0;this.k5=y;this.n=v.t("span","fitem angleinput");
if(E){this.cu=v.t("label","flabel");this.ZD=E;this.n.appendChild(this.cu)}this.V$=v.t("canvas","gsicon");
this.kA=this.V$.getContext("2d");v.Uh(this.V$,y,y);this.n.appendChild(this.V$);v._N(this.V$);v.Qp(this.V$,this.wf.bind(this));
this.Sz=this.v9.bind(this);this.iZ=this.i4.bind(this);this.c(0)}kg.prototype=new dT;kg.prototype._=function(){if(this.ZD)this.cu.textContent=i4.get(this.ZD)+":"};
kg.prototype.WO=function(E){this.cu.textContent=E};kg.prototype.h=function(){return this.nn};kg.prototype.aar=function(E){var y=this.nn,c=Math.floor(y/3),e=y-c*3;
e=Math.max(0,Math.min(2,e+E.x));c=Math.max(0,Math.min(2,c+E.y));this.c(c*3+e)};kg.prototype.c=function(E){this.nn=E;
var y=this.V$.width,c=Math.floor(E/3),e=E-3*c,p=(e+.5)*y/3,H=(c+.5)*y/3,Z=this.kA,X=[.5,Math.round(y/3)+.5,Math.round(2*y/3)+.5,y-.5];
Z.clearRect(0,0,y,y);var b=this.k5<30;Z.setLineDash([]);Z.strokeStyle=b?"rgba(0,0,0,0.5)":"#000000";
Z.beginPath();for(var N=0;N<4;N++){var k=X[N];Z.moveTo(k,0);Z.lineTo(k,y);Z.moveTo(0,k);Z.lineTo(y,k)}Z.stroke();
if(E==9)return;if(!b){Z.setLineDash([1,2]);var D=y*.53,j=Math.max(0,Math.min(y-D,p-D/2)),g=Math.max(0,Math.min(y-D,H-D/2));
Z.strokeRect(Math.round(j)+.5,Math.round(g)+.5,Math.round(D),Math.round(D))}Z.fillStyle="#000000";Z.beginPath();
Z.arc(p,H,y/8,0,Math.PI*2);Z.fill()};kg.prototype.wf=function(E){v.FY(document.body,this.Sz);v.Fo(document.body,this.iZ);
this.v9(E)};kg.prototype.v9=function(E){var y=v.RM(E,this.V$),c=Math.max(0,Math.min(2,Math.floor(y.x/(this.k5/3)))),e=Math.max(0,Math.min(2,Math.floor(y.y/(this.k5/3))));
this.c(e*3+c)};kg.prototype.i4=function(E){this.T(new iU(S.E.p,!1));v.Ci(document.body,this.Sz);v.QM(document.body,this.iZ)};
function iJ(j1){dT.call(this);this.n=v.t("span","fitem cswatch");this.abl=0;this.Mx=[];this.kx=[];var E=this.al3.bind(this);
for(var N=0;N<j1;N++){this.Mx.push(0);var y=v.t("span","colorsample");y.addEventListener("click",E,!1);
this.kx.push(y);this.n.appendChild(y)}var c=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],e=Math.min(j1,c.length);
for(var N=0;N<e;N++)this.Mx[N]=c[N];this.VX()}iJ.prototype=new dT;iJ.prototype.al3=function(E){this.abl=this.kx.indexOf(E.currentTarget);
this.T(new iU(S.E.p))};iJ.prototype.h=function(){return this.Mx[this.abl]};iJ.prototype.c=function(E){var y=this.Mx,c=y.indexOf(E);
if(c!=-1)y.splice(c,1);else y.pop();y.unshift(E);this.VX()};iJ.prototype.VX=function(){for(var N=0;N<this.Mx.length;
N++){this.kx[N].setAttribute("style","background-color:#"+d.ly(this.Mx[N]))}};function eX(E){dT.call(this);
this.PS={Z:0,D:0,J:0};this._3=E;this.n=v.t("span","fitem colorsample");this.n.addEventListener("click",this.pH.bind(this),!1)}eX.prototype=new dT;
eX.prototype._=function(){};eX.prototype.pH=function(E){var y=this.PS;this.T(new iU("click"));var c=new iU(S.E.M,!0);
c.data={d:S.H.Q5,ym:"colorpicker",KR:Math.round(y.Z)<<16|Math.round(y.D)<<8|Math.round(y.J),yr:this.yJ.bind(this),TK:this._3};
this.T(c)};eX.prototype.yJ=function(E){this.Gd(E);this.T(new iU(S.E.p))};eX.prototype.Bf=function(){this.pH(null)};
eX.prototype.E2=function(){var E=this.PS;return E.Z<<16|E.D<<8|E.J};eX.prototype.h=function(){return d.L.hp(this.PS)};
eX.prototype.Gd=function(E){this.PS={Z:E>>16&255,D:E>>8&255,J:E&255};this.aAX()};eX.prototype.c=function(E){this.PS=d.L.yd(E);
this.aAX()};eX.prototype.aAX=function(){var E=this.PS,y=E.Z,c=E.D,e=E.J,p=y<<16|c<<8|e;this.n.setAttribute("style","background-color:#"+d.ly(p))};
function aB(){dT.call(this);this.MT=!1;this.Tz=20;this.a0b=10;this.D3=0;this.MT=!1;this.JK={Z:255,D:0,J:0};
this.TY={Z:0,D:0,J:0};this.P0=null;this.hQ=null;this.n=v.t("canvas");this.HB();v._N(this.n);v.Qp(this.n,this.dd.bind(this))}aB.prototype=new dT;
aB.prototype.aD8=function(E){if(this.MT==E)return;this.MT=E;this.HB()};aB.prototype._=function(){};aB.prototype.a5h=function(E,y){function c(e){return{Z:e>>16&255,D:e>>8&255,J:e&255}}if(E!=null)this.JK=c(E);
if(y!=null)this.TY=c(y);this.HB()};aB.prototype.atX=function(E,y){this.P0=E;this.hQ=y;this.HB()};aB.prototype.dd=function(E){var y=v.RM(E,this.n),c=y.x*v.k1(),e=y.y*v.k1(),p=this.Tz,H=this.a0b,Z=0;
if(c<H&&e<H){Z=0}else if(c>p-H&&e>p-H){Z=1}else if(c<H){Z=2}else{Z=3}this.Bf(Z)};aB.prototype.Bf=function(E){var y=this.P0,c=new iU(S.E.M,!0);
if(E>1){if(aw==0)c.data={d:S.H.z2,Wp:iL.g6,s6:E};else{var e={uC:1,f3:JSON.parse(JSON.stringify(y.cd[1]))},p=JSON.parse(JSON.stringify(y.MY)),H={uC:1,f3:JSON.parse(JSON.stringify(y.W3[1]))};
if(E==2){e=cb.g4(p);cb.IN(p,y.Jo)}else{e.f3.Clr.v=d.L.hp({Z:255,D:255,J:255});H.f3.Clr.v=d.L.hp({Z:0,D:0,J:0});
cb.IN(p,H)}c.data={d:S.H.z2,Wp:iL.d9,b:e};this.T(c);c.data={d:S.H.z2,Wp:iL.St,b:p}}}else{this.D3=E;var Z=null;
if(aw==0)Z=E==0?this.JK:this.TY;else{var X=E==0?y.cd:y.W3;Z=d.L.yd(X[1].Clr.v)}c.data={d:S.H.Q5,ym:"colorpicker",KR:Z.Z<<16|Z.D<<8|Z.J,yr:this.yJ.bind(this)}}this.T(c)};
aB.prototype.yJ=function(E){var y=new iU(S.E.M,!0),c=this.D3,e=this.P0;if(aw==0)y.data={d:S.H.z2,Wp:iL.g6,s6:c,b:E};
else{var p={uC:1,f3:JSON.parse(JSON.stringify(e.cd[1]))};p.f3.Clr.v=d.L.hp(d.$E(E));var H=JSON.parse(JSON.stringify(e.MY));
cb.IN(H,p);if(c==1)p=H;y.data={d:S.H.z2,Wp:c==0?iL.d9:iL.St,b:p}}this.T(y)};aB.prototype.HB=function(){var E=this.n,y=E.getContext("2d"),c=v.k1(),p="#aaaaaa",H=.62;
v.Uh(E,34,34);E.setAttribute("style",E.getAttribute("style")+";cursor:pointer");var e=this.Tz=E.width,Z=this.a0b=Math.round(e*H);
function X(o,T){var i=o.Z,r=o.D,I=o.J;if(T)i=r=I=Math.round(d._f(i,r,I));var M=i<<16|r<<8|I;return"#"+d.ly(M)}function b(y,j,o,T,i,r){y.beginPath();
if(T>=r*2&&i>=r*2){y.moveTo(j+r,o);y.lineTo(j+T-r,o);y.quadraticCurveTo(j+T,o,j+T,o+r);y.lineTo(j+T,o+i-r);
y.quadraticCurveTo(j+T,o+i,j+T-r,o+i);y.lineTo(j+r,o+i);y.quadraticCurveTo(j,o+i,j,o+i-r);y.lineTo(j,o+r);
y.quadraticCurveTo(j,o,j+r,o)}y.closePath()}function k(j,o,Z,T,i){y.strokeStyle=i?i:"black";y.fillStyle=T;
b(y,j+.5,o+.5,Z-1,Z-1,Z*.2);y.fill();y.stroke()}var D=this.P0;if(D){y.beginPath();var j=e-Z,g=Math.floor(Z*.28),R=Z-2*g;
ch.a69(y,D.WF.Rl,this.hQ,Z,Z,j,j);y.lineWidth=1;y.strokeStyle="white";y.clearRect(j+g,j+g,R,R);y.strokeRect(j+g+.5,j+g+.5,R-1,R-1);
y.strokeRect(j+.5,j+.5,Z-1,Z-1);ch.a69(y,D.WF.gl,this.hQ,Z,Z,0,0);y.lineWidth=1;y.strokeStyle="white";
y.strokeRect(.5,.5,Z-1,Z-1)}else{k(e-Z,e-Z,Z,X(this.TY,this.MT));k(0,0,Z,X(this.JK,this.MT))}var t=e-Z,w=Math.round(t*H);
k(e-w,t-w,w,aw==0?"white":"black",p);k(e-t,0,w,aw==0?"black":"white",p);y.save();y.fillStyle=p;y.translate(0,e);
y.rotate(-Math.PI/2);t=e-Z;var B=Math.round(t*.28),$=Math.round(t*.25);for(var N=0;N<2;N++){y.fillRect(B,B,t-B,1);
y.beginPath();y.moveTo(t-$,B+.5-$);y.lineTo(t,B+.5);y.lineTo(t-$,B+.5+$);y.closePath();y.fill();y.transform(0,1,1,0,0,0)}y.restore()};
function br(E){gb.call(this,E,!1,"brushbutton nopadding",19*13,10*13,iL.WN,!0);var y=this.aqS;v.Jn(y,"flexrow");
var c=v.t("div");y.appendChild(c);var e=v.t("div");y.appendChild(e);e.setAttribute("style","margin-left:8px");
this.CZ=new dC(null,null,!0);this.CZ.k(S.E.p,this.HY,this);c.appendChild(this.CZ.n);this.Iy=new dX([12,14,0],1,1e3," px",0,!0);
this.Iy.k(S.E.p,this.HY,this);e.appendChild(this.Iy.n);this.Wx=new dX([12,17],0,100,"%");this.Wx.k(S.E.p,this.HY,this);
e.appendChild(this.Wx.n);this.VS=new hS(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.VS.k(S.E.p,this.HY,this);e.appendChild(this.VS.n)}br.prototype=new gb;br.prototype.IK=function(){var E=["pencil","trees"];
for(var N=0;N<E.length;N++)E[N]="brushes/"+E[N]+".abr";return E};br.prototype.c=function(E,y,c){this.Oe=JSON.parse(JSON.stringify(E));
var e=Math.floor(20*v.k1()),p=Math.floor(36*v.k1()),H=Math.floor(24*v.k1()),Z=b1.y_(E,y,c,e,H,p);this.EO.setAttribute("src",Z);
v.A3(this.EO,p,H);var X=E.Brsh.v;this.Iy.c(X.Dmtr.v.val);if(X.Hrdn!=null){this.Wx.fh();this.Wx.c(X.Hrdn.v.val)}else this.Wx.Cp();
if(X.Angl!=null)this.CZ.c([X.Angl.v.val]);if(X.Rndn!=null)this.CZ.c([null,null,X.Rndn.v.val/100]);var b=[!1,!1];
if(E.opVr)b[0]=E.opVr.v.bVTy.v==2;if(E.szVr)b[1]=E.szVr.v.bVTy.v==2;this.VS.c(b)};br.prototype.kb=function(){return{list:[{t:"Objc",v:this.h()}],b6:[],XQ:[]}};
br.prototype.h=function(){return this.Oe};br.prototype.ba=function(){if(!this.MU)return;var E=[],y=[],c=this.$s,e=Math.floor(33*v.k1()),p=Math.floor(40*v.k1());
for(var N=0;N<c.list.length;N++){var H=c.list[N].v,Z=b1.y_(H,c.b6,c.XQ,e,p);E.push(Z);y.push(H.Nm.v)}this.DX.jA(E,y,e,p);
this.MU=!1};br.prototype.rg=function(E){var y=this.$s;this.c(y.list[this.DX.h()[0]].v,y.b6,y.XQ);this.T(new iU(S.E.p))};
br.prototype._=function(){gb.prototype._.call(this);this.CZ._();this.Iy._();this.Wx._()};br.prototype.HY=function(E){var y=this.$s,c=this.Oe,e=c.Brsh.v;
e.Dmtr.v.val=this.Iy.h();if(e.Hrdn!=null)e.Hrdn.v.val=this.Wx.h();if(e.Angl!=null)e.Angl.v.val=this.CZ.h()[0];
if(e.Rndn!=null)e.Rndn.v.val=Math.round(this.CZ.h()[2]*100);if(E.target==this.VS)bj.aiV(c,this.VS.h());
this.c(c,y.b6,y.XQ);this.T(new iU(S.E.p))};function ih(E){gb.call(this,E,!0,"contourbutton",17*13,10.5*13,iL.EJ)}ih.prototype=new gb;
ih.prototype.rg=function(E){this.c(this.$s[E.target.h()]);this.T(new iU(S.E.p))};ih.prototype.Zn=function(E){var y=new iU(S.E.M,!0);
y.data={d:S.H.Q5,ym:"contoureditor",tP:this.Oe,response:this.aaP.bind(this)};this.T(y)};ih.prototype.aaP=function(E){this.c(E);
this.T(new iU(S.E.p))};ih.prototype.ba=function(){if(!this.MU)return;var E=Math.floor(38*v.k1()),y=Math.floor(38*v.k1()),c=[],e=[],p=this.$s;
for(var N=0;N<p.length;N++){e.push(p[N].Nm?p[N].Nm.v:"");c.push(d.$K.y_(p[N].Crv.v,E,y))}this.DX.jA(c,e,E,y);
this.MU=!1};ih.prototype.c=function(E){this.Oe=JSON.parse(JSON.stringify(E));var y=this.Oe.Crv.v;for(var N=0;
N<y.length;N++)if(y[N].v.Cnty==null)y[N].v.Cnty={t:"bool",v:!0};this.Wz()};ih.prototype.Wz=function(){var E=Math.floor(30*v.k1()),y=Math.floor(30*v.k1()),c=d.$K.y_(this.Oe.Crv.v,E,y);
this.EO.setAttribute("src",c);v.A3(this.EO,E,y)};ih.prototype.h=function(){return JSON.parse(JSON.stringify(this.Oe))};
function ch(E){dT.call(this);this.cH=null;this.P0=null;this.qX=null;this.Qc=null;this.aeb=[];this.aDf=[];
this.n=v.t("span","fitem fillbutton");this.Hi=new dT;this.Hi.n=v.t("div","floatcont form");this.Hi.n.setAttribute("style","width: 21em;");
this.Hi.parent=this;this.NI=E;this.cu=this.cu=v.t("label","flabel");this.n.appendChild(this.cu);this.V$=v.t("canvas");
this.kA=this.V$.getContext("2d");this.awU=null;this.n.appendChild(this.V$);v.Qp(this.V$,this.PA.bind(this));
this.fG=new aN([12,66],["","Color","Grad","Patt"]);this.Hi.n.appendChild(this.fG.n);this.fG.k(S.E.p,this.bw,this);
this.Hi.n.appendChild(v.t("hr"));this.abK=v.t("span");this.AF=new eX(!1);this.AF.parent=this.Hi;this.AF.k(S.E.p,this.bw,this);
this.I2=new iJ(10);this.I2.k(S.E.p,this.bw,this);this.iV=v.t("div","marged hiline");this.iV.appendChild(this.AF.n);
v.vY(this.iV);this.iV.appendChild(this.I2.n);this.ts=new iQ("GrFl",!0);this.ts.parent=this.Hi;this.ts.k(S.E.p,this.bw,this);
this.Ke=v.t("div","marged hiline");var y="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var N=0;
N<y.length;N++){var c=this.ts.Jj[y[N]].n;this.Ke.appendChild(c)}this.i$=new iQ("patternFill",!0);this.i$.parent=this.Hi;
this.i$.k(S.E.p,this.bw,this);this.gQ=v.t("div","marged hiline");var y=["Ptrn","Angl","Scl","Algn","phase"];
for(var N=0;N<y.length;N++){var c=this.i$.Jj[y[N]].n;this.gQ.appendChild(c)}}ch.prototype=new dT;ch.prototype.mh=function(E,y){var c=bQ.t5(E,y);
if(c!=null)this.I2.c(c);if(y==iL.Iu){this.aeb=[];this.aDf=[];if(this.cH)this.c(this.qX,this.h(),this.cH)}this.P0=E;
this.ts.mh(E,y);this.i$.mh(E,y)};ch.prototype._=function(){this.cu.textContent=i4.get(this.NI)+": ";
this.fG._();this.AF._();this.ts._();this.i$._()};ch.prototype.bw=function(E){var y=E.currentTarget;if(y==this.fG){var c=this.fG.h(),e={uC:c,f3:this.cH[c]};
if(c>0&&e.f3==null)e.f3=JSON.parse(JSON.stringify(cb.Xz[c-1]));if(this.cH)this.c(this.qX,e,this.cH)}if(y==this.I2)this.AF.Gd(y.h());
this.T(new iU(S.E.p,!1))};ch.prototype.PA=function(E){if(v.Qj(this.Hi.n))return;E.stopPropagation();
var y=this.V$.getBoundingClientRect(),c=new iU(S.E.M,!0);c.data={d:S.H.rt,T_:this.Hi,x:y.left,y:y.top+y.height+4};
this.T(c)};ch.prototype.c=function(E,y,c){this.cH=c;this.qX=E;var e=[[13,1,0],[13,0],[12,37],[12,62]],p=this.aeb,H=this.aDf,Z=!1,D;
for(var N=0;N<4;N++){var X={uC:N,f3:c[N]},b=ch.aDm(X);if(H[N]==b)continue;Z=!0;var k=ch.a64(null,X,this.P0,this.qX,22,22,!1);
p[N]="<img width=\"22\" height=\"22\" src=\""+k+"\" />";H[N]=b}if(Z)this.fG.Pt(p,e);this.fG.c(y.uC);
var b=ch.aDm(y);if(b!=this.awU)ch.a64(this.kA,y,this.P0,this.qX,30,23,!0);this.awU=b;var j=y.uC;if(j==0){D=this.abK}if(j==1){this.AF.c(y.f3.Clr.v);
D=this.iV}if(j==2){this.ts.update(E,y.f3);D=this.Ke}if(j==3){this.i$.update(E,y.f3);D=this.gQ}if(D!=this.Qc){if(this.Qc!=null){this.Hi.n.removeChild(this.Qc)}this.Hi.n.appendChild(D);
this.Qc=D}};ch.prototype.h=function(){var E={uC:this.fG.h()};if(E.uC==1){E.f3=JSON.parse(JSON.stringify(cb.Xz[0]));
E.f3.Clr.v=this.AF.h()}if(E.uC==2){E.f3=this.ts.h()}if(E.uC==3){E.f3=this.i$.h()}return E};ch.aDm=function(E){var y=E.uC,c=E.f3,e="empty";
if(y==1){e=d.L.yd(c.Clr.v);e=e.Z+","+e.D+","+e.J}if(y==2)e=JSON.stringify(c.Grad.v);if(y==3)e=c.Ptrn.v.Idnt.v;
return e};ch.a64=function(E,y,c,e,p,H,Z){if(E==null)E=ch.kA;var X=Math.floor(p*v.k1()),b=Math.floor(H*v.k1()),k=E.canvas;
k.width=X;k.height=b;v.A3(k,X,b);ch.aqX(E,y,c,e,X,b);if(Z){E.beginPath();E.strokeStyle="#000000";E.fillStyle="#ffffff";
E.lineWidth=2;var D=X*.7,j=Math.floor(b*.7),g=7*v.k1();E.moveTo(D,j);E.lineTo(D+g,j);E.lineTo(D+g/2,j+g/2);
E.closePath();E.stroke();E.fill()}if(E==ch.kA)return k.toDataURL()};ch.kA=v.t("canvas").getContext("2d");
ch.aqX=function(E,y,c,e,p,H,Z,X){if(Z==null)Z=0;if(X==null)X=0;var b=y.uC;if(b==0){E.fillStyle="#ffffff";
E.fillRect(Z,X,p,H);E.strokeStyle="#ff0000";E.lineWidth=2;E.moveTo(Z,X);E.lineTo(Z+p,X+H);E.moveTo(Z,X+H);
E.lineTo(Z+p,X);E.stroke()}if(b==1){var k=y.f3.Clr.v;k=d.L.yd(k);E.fillStyle="#"+d.ly(k.Z<<16|k.D<<8|k.J);
E.fillRect(Z,X,p,H)}if(b==2){var D=F.bu.y_(y.f3.Grad.v,p,H,0,c.x4,c.YO,!0);E.putImageData(D,Z,X)}if(b==3){var j=y.f3.Ptrn.v,g;
if(e!=null)g=hA.GX(j,e.add.Patt);if(g==null)g=hA.GX(j,c.gS);j8.y_(g,p,H,E.canvas)}};ch.a69=function(E,y,c,e,p,H,Z){function X(R,t){return CSS.Z9({Z:R[0]*255,D:R[1]*255,J:R[2]*255},t)}if(y==null){E.fillStyle="#ffffff";
E.fillRect(H,Z,e,p);E.strokeStyle="#ff0000";E.lineWidth=2;E.moveTo(H,Z);E.lineTo(H+e,Z+p);E.moveTo(H,Z+p);
E.lineTo(H+e,Z);E.stroke()}else if(y.length==3){E.fillStyle=X(y);E.fillRect(H,Z,e,p)}else if(y.length==4){var b=H+e/2,k=Z+p/2,D=y[0]==0?E.createLinearGradient(H,Z,H+e,Z):E.createRadialGradient(b,k,0,b,k,e/2),j=y[1];
for(var N=0;N<j.length;N++)D.addColorStop(j[N][0],X(j[N][1],j[N][2]));E.fillStyle=D;E.fillRect(H,Z,e,p)}else if(y.length==2){var g=c.tM[y[0]];
E.save();E.fillStyle="white";E.fillRect(H,Z,e,p);E.rect(H,Z,e,p);E.scale(e/g.m,p/g.e);E.fillStyle=g.a05;
E.fill();E.restore()}};function j8(E){gb.call(this,E,!1,"patternbutton",18*13,10*13,iL.Iu);this.ZY=null}j8.prototype=new gb;
j8.prototype.rg=function(E){var y=this.$s[this.DX.h()];this.Oe={classID:"Ptrn",Nm:{t:"TEXT",v:y.name},Idnt:{t:"TEXT",v:y.id}};
this.T(new iU(S.E.p));this.Wz()};j8.prototype.ba=function(){if(!this.MU)return;var E=this.$s,y=Math.floor(34*v.k1()),c=Math.floor(34*v.k1()),e=[],p=[];
for(var N=0;N<E.length;N++){e.push(j8.y_(E[N],y,c));p.push(E[N].name)}this.DX.jA(e,p,y,c);this.MU=!1};
j8.prototype.c=function(E,y){if(this.Oe&&E.Idnt.v==this.Oe.Idnt.v)return;this.Oe=JSON.parse(JSON.stringify(E));
this.Wz(y)};j8.prototype.h=function(){return JSON.parse(JSON.stringify(this.Oe))};j8.prototype.kb=function(){return this.ZY?[this.ZY]:[]};
j8.prototype.Wz=function(E){var y=Math.floor(50*v.k1()),c=Math.floor(50*v.k1()),e;if(E!=null)e=hA.GX(this.Oe,E.add.Patt);
if(e==null)e=hA.GX(this.Oe,this.$s);this.ZY=e;var p=j8.y_(e,y,c);this.EO.setAttribute("src",p);v.A3(this.EO,y,c)};
j8.V$=v.t("canvas","");j8.y_=function(E,y,c,e){if(e==null)e=j8.V$;var p=e.getContext("2d");e.width=y;
e.height=c;if(E){var H=E.Gi[1],Z=H.m,X=H.e,b=E.Gi[0],k=Math.min(y/Z,c/X),D=k;if(D*Z<2)D=2/Z;var j=k;
if(j*X<2)j=2/X;var g=F.Y.$X([b,H],new jr(D,0,0,j,0,0),D>2),R=g.rect.m,t=g.rect.e,w=p.createImageData(R,t);
d.Jt(g.buffer,w.data);p.putImageData(w,Math.floor((y-R)/2),Math.floor((c-t)/2))}return e.toDataURL()};
function a5(E,y,c){if(y==null)y=24.2;if(c==null)c=17;gb.call(this,E,!1,"patternbutton",y*13,c*13,iL.G5);
this.sY=""}a5.prototype=new gb;a5.prototype.rg=function(E){this.Oe=JSON.parse(JSON.stringify(this.$s[0][this.DX.h()[0]]));
this.T(new iU(S.E.p))};a5.prototype.ba=function(){var E=this.$s;if(E==null||!this.MU)return;var y=Math.floor(50*v.k1()),c=Math.floor(50*v.k1()),e=[],p=[];
for(var N=0;N<E[0].length;N++){e.push(a5.y_(this.$s[0][N].mp,y,c,this.$s[1]));p.push(E[0][N].Al.Nm.v.split("=").pop())}this.DX.jA(e,p,y,c);
this.MU=!1};a5.prototype.c=function(E,y,c,e){var p=JSON.stringify(E.mp)+","+c+","+e;if(this.sY!=p){this.sY=p;
this.Oe=JSON.parse(JSON.stringify(E));this.Wz(y,c,e)}};a5.prototype.h=function(){return JSON.parse(JSON.stringify(this.Oe))};
a5.prototype.Wz=function(E,y,c){var e=Math.floor(68*v.k1()),p=Math.floor(68*v.k1()),H=a5.y_(this.Oe.mp,e,p,E?E:this.$s[1],y,c);
this.EO.setAttribute("src",H);v.A3(this.EO,e,p)};a5.y_=function(E,y,c,e,p,H){var Z=new cc;Z.m=y;Z.e=c;
Z.buffer=d.R(y*c*4);Z.add.Patt=e;Z.nZ(p==null?90:p);Z.YT(H==null?30:H);var X=new ir(0,0,Math.round(y*.5),Math.round(c*.5));
X.x=Math.round((y-X.m)/2);X.y=Math.round((c-X.e)/2);var b=Z.N8();b.rect=X;b.buffer=d.R(X.P()*4);d.KT(b.buffer,4284045657);
hA.aoD(E,b,.5*100);Z.B.push(b);Z.RH();Z.W();var k=h0.Lq;h0.Lq=!1;Z._1();var D=Z.eA();h0.Lq=k;var j=iu.Se(D.buffer,Z.m,Z.e);
return j};function fG(E){gb.call(this,null,!1,"tpresetbutton",18*13,24*13,iL.rv,!0);v.yo(this.n,"fitem");
this.DX.vR(1);this.id=E;this.Wz();this.d.style.overflow="hidden";this.Ip=new b8([15,7,9]);this.Ip.c(!0);
this.Ip.k(S.E.p,this.a1l,this);this.ks.appendChild(this.Ip.n)}fG.prototype=new gb;fG.prototype.a4I=function(E){if(this.id==E)return;
this.id=E;this.Vd(this.$s)};fG.prototype.rg=function(E){var y=this.$s[this.DX.h()],c=new iU(S.E.M,!0);
c.data={d:S.H.z2,a5:"set",Wp:iL.rv,e_:y};this.T(c)};fG.prototype._=function(){gb.prototype._.call(this);
this.Ip._()};fG.prototype.a1l=function(){this.MU=!0;this.ba()};fG.prototype.ba=function(){if(!this.MU)return;
var E=Math.floor(16*v.k1()),y=Math.floor(16*v.k1()),c=[],e=[],p=this.$s,H=this.Ip.h();for(var N=0;N<p.length;
N++){var Z=F.Zh[p[N][1].classID];if(!H||Z==this.id){e.push(p[N][0]?p[N][0].split("=").pop():"");c.push(Z==-1?"":PIMG[F.j7[Z]])}else{c.push(null);
e.push(null)}}this.DX.jA(c,e,E,y);this.MU=!1};fG.prototype.Wz=function(){var E=this.EO;E.setAttribute("src",PIMG[F.j7[this.id]]);
v.Jn(E,"toolicon")};fG.prototype.kb=function(){return null};fG._Q={};fG.y_=function(E,y,c){var e=fG.kA,p=fG._Q,H=d.ly(E.Z<<16|E.D<<8|E.J);
if(p[H])return p[H];if(e==null){var Z=v.t("canvas");e=fG.kA=Z.getContext("2d")}var Z=e.canvas;Z.width=y;
Z.height=c;e.fillStyle="#"+H;e.fillRect(0,0,y,c);var X=p[H]=Z.toDataURL();return X};function d9(E,y,c){dT.call(this);
this.n=v.t("span","fitem curveeditor");this.nw=null;this.abU=0;this.Ct="";this.mode=0;this.rd=E;this.aC5=y;
this.aAF=c;this.cA=null;this.us=null;this.a0g=0;this.aj4=0;this.uz=new eq;this.AT=this.v9.bind(this);
this.Uk=this.i4.bind(this);this.k5=256;this.V$=v.t("canvas");this.kA=this.V$.getContext("2d");v._N(this.V$);
this.n.appendChild(this.V$);this.Cl(256,256);v.Qp(this.V$,this.wf.bind(this));this.coords=v.t("div");
this.coords.setAttribute("style","width:250px");this.n.appendChild(this.coords);var e=this.hk=c?100:255,p=null;
this.uD=new jm("X (in)",0,e,p,0,!1,!0);this.Ue=new jm("Y (out)",0,e,p,0,!1,!0);this.H$=new b8([19,3,0]);
this.uD.k(S.E.p,this.sU,this);this.Ue.k(S.E.p,this.sU,this);this.H$.k(S.E.p,this.sU,this);this.coords.appendChild(this.uD.n);
if(c)this.coords.appendChild(this.H$.n);this.coords.appendChild(this.Ue.n)}d9.prototype=new dT;d9.prototype._=function(){this.H$._();
this.uD._();this.Ue._()};d9.prototype.Cl=function(E,y){this.k5=Math.round(E);this.kA.resetTransform();
v.Uh(this.V$,this.k5,this.k5,this.kA);this.kA.scale(this.k5/256,this.k5/256);if(this.cA)this.Ur()};d9.prototype.sU=function(E){var N=this.ahu(),y=this.cA[N],c=255/this.hk;
y.v.Hrzn.v=this.uD.h()*c;y.v.Vrtc.v=this.Ue.h()*c;if(this.aAF)y.v.Cnty.v=this.H$.h();this.cA.sort(function(e,p){return e.v.Hrzn.v-p.v.Hrzn.v});
this.Ur();this.T(new iU(S.E.p))};d9.prototype.c=function(E,N){var y=JSON.stringify(E);if(y==JSON.stringify(this.cA))return;
this.mode=E.length==256?1:0;this.cA=JSON.parse(y);if(N!=null)this.us=this.cA[N];this.Ur()};d9.prototype.i3=function(E,y,c){this.nw=E;
this.abU=y;this.Ct=c;this.Ur()};d9.prototype.h=function(){return JSON.parse(JSON.stringify(this.cA))};
d9.prototype.ahu=function(){return this.cA.indexOf(this.us)};d9.prototype.wf=function(E){var y=256/this.k5,c=v.RM(E,this.V$);
c.x*=y;c.y*=y;var e=c.x,p=256-c.y;if(this.rd){var H=e;e=256-p;p=H}this.uz.tW(e,p);if(this.mode==0){var Z=0,X=1e9,g;
for(var N=0;N<this.cA.length;N++){var b=this.cA[N].v,k=b.Hrzn.v-e,D=b.Vrtc.v-p,j=Math.sqrt(k*k+D*D);
if(j<X){X=j;Z=N}}if(X<15)g=this.cA[Z];else{g=d.$K.rL(e,p,!0);this.cA.push(g);this.cA.sort(function(R,t){return R.v.Hrzn.v-t.v.Hrzn.v})}this.us=g;
this.aj4=this.cA.slice(0)}v.FY(document.body,this.AT);v.Fo(document.body,this.Uk);this.v9(E)};d9.prototype.v9=function(E){var y=256/this.k5,c=v.RM(E,this.V$);
c.x*=y;c.y*=y;var e=c.x,p=256-c.y;if(this.rd){var H=e;e=256-p;p=H}if(this.mode==0){var Z=this.cA,X=this.us,b=this.aj4,k=b.indexOf(X),D=Z.indexOf(X)!=-1,j=b.length-1,g=e;
if(k==0){g=Math.max(0,Math.min(b[1].v.Hrzn.v-1,e))}else if(k==j){g=Math.min(255,Math.max(b[j-1].v.Hrzn.v+1,e))}else{var R=e<0||e>255||p<0||p>255;
if(e<=b[k-1].v.Hrzn.v||e>=b[k+1].v.Hrzn.v)R=!0;if(!R&&!D)Z.splice(k,0,X);if(R&&D)Z.splice(k,1)}if(this.aC5&&(k==0||k==b.length-1)){}else X.v.Hrzn.v=Math.round(g);
X.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(p)))}else{e=Math.round(e);p=Math.round(p);e=Math.max(0,Math.min(255,e));
p=Math.max(0,Math.min(255,p));var t=this.uz.x,w=e,B=this.uz.y,$=p;if(e<this.uz.x){w=t;t=e;$=B;B=p}this.cA[e]=p;
if(t!=w)for(var o=t;o<=w;o++)this.cA[o]=Math.round(B+(o-t)*($-B)/(w-t))}this.uz.tW(e,p);this.Ur();this.T(new iU(S.E.p))};
d9.prototype.i4=function(E){v.Ci(document.body,this.AT);v.QM(document.body,this.Uk);this.T(new iU(S.E.p))};
d9.prototype.Ur=function(){var E=this.kA,y=this.V$;E.fillStyle="#ffffff";E.fillRect(0,0,256,256);var c=256/y.width;
if(this.nw){E.save();E.translate(0,256);E.scale(1,-1);aD.axp(E,this.nw,5700/this.abU,this.Ct);E.restore()}E.strokeStyle="#aaaaaa";
E.lineWidth=1*c;E.beginPath();for(var N=1;N<4;N++){var e=(Math.floor(64*N/c)+.5)*c;E.moveTo(0,e);E.lineTo(255,e);
E.moveTo(e,0);E.lineTo(e,255)}E.stroke();if(this.rd){E.save();E.transform(0,1,-1,0,256,0)}if(this.mode==0){var p=this.cA,H=d.$K.So(p,256);
E.strokeStyle="#000000";E.beginPath();E.moveTo(0,255.5-H[0]);for(var N=0;N<256;N++)E.lineTo(N,255.5-H[N]);
E.stroke();E.lineWidth=2*c;for(var N=0;N<p.length;N++){var Z=p[N].v;E.fillStyle=this.us==p[N]?"#333":"#fff";
E.beginPath();E.moveTo(Z.Hrzn.v,255.5-Z.Vrtc.v);E.arc(Z.Hrzn.v,255.5-Z.Vrtc.v,5*c,0,2*Math.PI);E.stroke();
E.fill()}}else{var H=this.cA;E.strokeStyle="#000000";E.beginPath();E.moveTo(0,255.5-H[0]);for(var N=0;
N<256;N++)E.lineTo(N,255.5-H[N]);E.stroke()}if(this.rd)E.restore();var N=this.ahu();this.coords.className=N==-1?"disabled":"";
if(N==-1)return;var Z=this.cA[N].v,X=255/this.hk;this.uD.c(Math.round(Z.Hrzn.v/X));this.Ue.c(Math.round(Z.Vrtc.v/X));
if(Z.Cnty)this.H$.c(Z.Cnty.v)};function aD(E,y){dT.call(this);this.n=v.t("span","");this.To=new a_([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.To.k(S.E.p,this.HB,this);this.n.appendChild(this.To.n);v.vY(this.n);var c=v.t("div");this.n.appendChild(c);
c.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.V$=v.t("canvas");var e=this.V$;
c.appendChild(e);e.width=Math.round(E*v.k1());e.height=Math.round(100*v.k1());v.A3(e,e.width,e.height);
e.style.display="block";this.kA=e.getContext("2d");this.nw=null;this.bP=0;this.a94=null;this.aoJ=[];
this.GR=[];var p=["Mean:","Pixels:"],H=this.n;if(y)for(var N=0;N<p.length;N++){var Z=new bU(p[N]);this.aoJ.push(Z);
H.appendChild(Z.n);var X=new bU("hi");this.GR.push(X);H.appendChild(X.n);v.vY(H)}}aD.prototype=new dT;
aD.prototype._=function(){this.To._()};aD.prototype.vR=function(E){this.To.c(E);this.HB()};aD.prototype.c=function(E,y){this.nw=E;
this.a94=y;this.HB()};aD.prototype.Gd=function(E){if(E==this.bP)return;this.bP=E;this.HB()};aD.prototype.HB=function(){if(this.nw==null)return;
var E=this.V$,y=this.kA,c=this.nw,e=this.a94,p=this.To.h(),H=6e3/c[4],Z="#"+d.ly(this.bP),X=aD.axp;E.width=E.width;
y.setTransform(E.width/256,0,0,-E.height/100,0,E.height);y.globalCompositeOperation="lighter";if(p==0)X(y,c[0],H/3,Z);
else if(p<4)X(y,c[p],H,Z);else{X(y,c[1],H,"#ff0000");X(y,c[2],H,"#00ff00");X(y,c[3],H,"#0000ff")}y.setTransform(1,0,0,1,0,0);
if(e!=null){if(p==4)p=0;var b=0;for(var N=0;N<256;N++)b+=N*c[p][N];if(p==0)b/=3;this.GR[0].c((b/e).toFixed(1)+"");
this.GR[1].c(e+"")}};aD.axp=function(E,y,c,e){E.beginPath();E.moveTo(0,0);for(var p=0;p<256;p++)E.lineTo(p,y[p]*c);
E.lineTo(256,0);E.closePath();E.fillStyle=e;E.fill()};function i0(E,y){dT.call(this);this.sv={Z:0,D:0,J:0};
if(Math.abs(E-256/v.k1())<10)E=256/v.k1();var c=this.n=v.t("div","flexrow");c.style.position="relative";
var e=this.aDc=v.t("div");c.appendChild(e);this.EY=new eq;this.Pj=new eq;this.Sz=this.Kz.bind(this);
this.iZ=this.az3.bind(this);this.V$=v.t("canvas","");this.kA=this.V$.getContext("2d");this.V$.width=this.V$.height=256;
this.a6a=this.kA.getImageData(0,0,256,256);this.aqU=-1;this.asI="";this.tc=null;v._N(this.V$);v.Qp(this.V$,this.azX.bind(this));
e.appendChild(this.V$);this.a74=this.ayc.bind(this);this.a9c=this.au_.bind(this);this.mg=v.t("canvas","");
this.Zu=this.mg.getContext("2d");this.mg.width=20;this.mg.height=256;this.auz=this.Zu.getImageData(0,0,20,256);
i0.aym(this.auz.data,20,256);v._N(this.mg);v.Qp(this.mg,this.aej.bind(this));c.appendChild(this.mg);
this.V$.setAttribute("style","width:"+E+"px; height:"+E+"px");this.mg.setAttribute("style","width:16px; height:"+E+"px");
this.TX=new b8("Web Colors\u2001");this.TX.k(S.E.p,this.update,this);this.BI=new b8("CMYK gamut");this.BI.k(S.E.p,this.update,this);
if(y){v.vY(e);e.appendChild(this.TX.n);e.appendChild(this.BI.n)}var p=this.fd=document.createElementNS("http://www.w3.org/2000/svg","svg");
c.appendChild(p)}i0.prototype=new dT;i0.prototype.Cl=function(E,y){this.V$.style.width=this.aDc.style.width=E-16+"px"};
i0.prototype.c=function(E){if(this.TX.h()){var y=JSON.parse(JSON.stringify(E));i0.ib(y);var c=this.h();
if(y.Z==c.Z&&y.D==c.D&&y.J==c.J)E=this.sv}this.sv=E;this.update()};i0.prototype.h=function(){var E=JSON.parse(JSON.stringify(this.sv));
if(this.TX.h())i0.ib(E);return E};i0.prototype.update=function(){var E=this.sv,y=d.vb(E.Z,E.D,E.J),X=18;
if(y.XR==0)y.az=this.EY.x/255;if(y.az==0||y.XR==0)y.T4=(255-this.o$(this.Pj.y))/255;if(y.XR!=0)this.EY.x=y.az*255;
this.EY.y=(1-y.XR)*255;this.Pj.y=(1-y.T4)*255;var c=this.a6a,e=this.TX.h(),p=this.BI.h(),H=e+","+p;if(Math.abs(y.T4-this.aqU)>.002||this.asI!=H){this.akh(c.data,256,256,y.T4,e,p);
this.amK();this.aqU=y.T4;this.asI=H}var Z=this.kA;Z.putImageData(c,0,0);c=this.auz;Z=this.Zu;Z.putImageData(c,0,0);
Z.strokeStyle="#ffffff";Z.beginPath();Z.moveTo(0,this.Pj.y);Z.lineTo(20,this.Pj.y);Z.lineWidth=2;Z.stroke();
var b=this.EY.y/255,k=parseFloat(this.V$.style.width),D=parseFloat(this.V$.style.height),j=this.fd;j.setAttribute("width",X);
j.setAttribute("height",X);var g=Math.round(E.Z*255)<<16|Math.round(E.D*255)<<8|Math.round(E.J*255),R="<circle cx=\""+X/2+"\" cy=\""+X/2+"\" r=\""+X/2+"\" fill=\"#"+d.ly(g)+"\"></circle>";
R+="<circle cx=\""+X/2+"\" cy=\""+X/2+"\" r=\""+(-.5+X/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*b)+")\" stroke-width=\"1\"></circle>";
R+="<circle cx=\""+X/2+"\" cy=\""+X/2+"\" r=\""+(-1.2+X/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
j.innerHTML=R;j.style.pointerEvents="none";j.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
j.style.position="absolute";j.style.left=k*(this.EY.x/255)-X/2+"px";j.style.top=D*(this.EY.y/255)-X/2+"px"};
i0.ib=function(E){E.Z=~~(.5+E.Z*5)*.2;E.D=~~(.5+E.D*5)*.2;E.J=~~(.5+E.J*5)*.2};i0.prototype.akh=function(E,y,c,e,p,H){var Z=1/y,X=1/c;
for(var b=0;b<c;b++)for(var k=0;k<y;k++){var D=d.mf(e,k*Z,(c-b-1)*X);if(p)i0.ib(D);var N=b*y+k<<2;E[N+0]=~~(D.Z*255);
E[N+1]=~~(D.D*255);E[N+2]=~~(D.J*255);E[N+3]=255}if(H){var j=E.slice(0),g=d.EI("rgbToRgbC"),R=g[2],t=g[3];
ICC.U.applyLUT(t,R,j,j);this.tc=d.R(y*c);for(var N=0;N<E.length;N+=4){var w=E[N]-j[N],B=E[N+1]-j[N+1],$=E[N+2]-j[N+2],o=w*w+B*B+$*$;
if(o>300){E[N]=E[N+1]=E[N+2]=200;this.tc[N>>>2]=255}}}};i0.aym=function(E,y,c,e,p){if(e==null)e=1;if(p==null)p=0;
var H=new Uint32Array(E.buffer);for(var Z=0;Z<c;Z++){var X=d.mf((1+e*(1-Z/c)+p)%1,1,1),b=255<<24|X.J*255<<16|X.D*255<<8|X.Z*255;
for(var k=0;k<y;k++)H[Z*y+k]=b}};i0.prototype.azX=function(E){v.FY(window,this.Sz);v.Fo(window,this.iZ);
this.Kz(E);this.fd.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.fd.style.transform="scale(2.4)"};
i0.prototype.az3=function(E){v.Ci(window,this.Sz);v.QM(window,this.iZ);this.fd.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.fd.style.transform="scale(1)"};i0.prototype.Kz=function(E){var y=v.RM(E,this.V$);y.x=y.x*(256/parseFloat(this.V$.style.width));
y.y=y.y*(256/parseFloat(this.V$.style.height));this.EY.tW(this.o$(y.x),this.o$(y.y));this.amK();this.YZ()};
i0.prototype.amK=function(){if(!this.BI.h())return;var E=this.EY,y=0,c=0,e=1e9;for(var p=0;p<256;p++){for(var H=0;
H<256;H++){if(this.tc[p*256+H]==255)continue;var Z=H-E.x,X=p-E.y,b=Z*Z+X*X;if(b<e){y=H;c=p;e=b}}}E.x=y;
E.y=c};i0.prototype.YZ=function(){this.sv=this.avk();this.T(new iU(S.E.p))};i0.prototype.avk=function(){var E=d.mf((255-this.o$(this.Pj.y))/255,this.ik(this.EY.x/255),this.ik(1-this.EY.y/255));
return{Z:E.Z,D:E.D,J:E.J}};i0.prototype.aej=function(E){v.FY(window,this.a74);v.Fo(window,this.a9c);
this.ayc(E)};i0.prototype.au_=function(E){v.Ci(window,this.a74);v.QM(window,this.a9c)};i0.prototype.ayc=function(E){var y=v.RM(E,this.mg);
y.y=y.y*(256/parseFloat(this.mg.style.height));this.Pj.tW(this.o$(y.x),this.o$(y.y));this.YZ()};i0.prototype.o$=function(E){return Math.max(0,Math.min(255,E))};
i0.prototype.ik=function(E){return Math.max(0,Math.min(1,E))};function gt(E,y,c,e){var p=aN.Ma(y,e);
aN.call(this,E,p,c)}gt.prototype=new aN;function d5(){dT.call(this);this.vE=null;this.h4=new kk;this.h4.k(S.E.p,this.ars,this);
this.h4.parent=this;this.aE=new jm([12,14,0],1,150,"px",0,!0);this.aE.k(S.E.p,this.kn,this);this.aE.parent=this;
this.r_=new jm([16,0],.01,100,"px",2,!0,null,5);this.r_.k(S.E.p,this.kn,this);this.r_.parent=this;this.NN=new b8("Auto");
this.NN.k(S.E.p,this.kn,this);this.rO=new jm([16,1],-500,5e3,"%",0,!0);this.rO.k(S.E.p,this.kn,this);
this.rO.parent=this;this.IQ=new jm("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.IQ.k(S.E.p,this.kn,this);
this.IQ.parent=this;this.Vj=new jm("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Vj.k(S.E.p,this.kn,this);
this.Vj.parent=this;this.aN=new jm([16,2],-10,10,"px");this.aN.k(S.E.p,this.kn,this);this.aN.parent=this;
this.N0=new eX(!0);this.N0.k(S.E.p,this.bl,this);this.N0.parent=this;this.WW=new eX(!0);this.WW.k(S.E.p,this.bl,this);
this.WW.parent=this;this.qf=new eX(!0);this.qf.k(S.E.p,this.bl,this);this.qf.parent=this;this.nx=new eX(!0);
this.nx.k(S.E.p,this.bl,this);this.nx.parent=this;this.gU=new b8([2,3]);this.gU.k(S.E.p,this.kn,this);
this.EZ=new b8([14,9]);this.EZ.k(S.E.p,this.kn,this);this.Cz=new b8([12,46]);this.Cz.k(S.E.p,this.kn,this);
this.a_=new fr("...",null,null,!0);this.a_.n.style.marginLeft="-8px";v.Qp(this.a_.n,this.aaF.bind(this));
this.Hi=new dT;var E=this.Hi.n=v.t("div","floatcont form"),p=100;this.Hi.parent=this;this.nB=new jm([12,41],1,20,"px",0,!0,!0);
this.nB.n.style.marginLeft="16px";this.nB.k(S.E.p,this.kn,this);this.nB.parent=this.Hi;E.appendChild(this.WW.n);
E.appendChild(this.gU.n);v.vY(this.Hi.n);E.appendChild(this.qf.n);E.appendChild(this.EZ.n);E.appendChild(this.nB.n);
v.vY(this.Hi.n);E.appendChild(this.nx.n);E.appendChild(this.Cz.n);this.Ld=new fr("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.iD=new fr("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.sf=new fr("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.hM=new fr("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Lj=new fr("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.UQ=new fr("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.c3=new fr("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.sK=new fr("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var y=[this.Ld,this.iD,this.sf,this.hM,this.Lj,this.UQ,this.c3,this.sK];
for(var N=0;N<y.length;N++)y[N].k("click",this.anD,this);this.T7=new fr("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.U_=new fr("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Qr=new fr("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a95=new fr("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aAs=new fr("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.aus=new fr("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.asD=new fr("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.In=[this.T7,this.U_,this.Qr,this.a95,this.aAs,this.aus,this.asD];for(var N=0;N<this.In.length;N++)this.In[N].k("click",this.kn,this);
var c=["lind","rind","flind","bind","aind"],e=[];for(var N=0;N<5;N++)e.push("<img src=\""+PIMG["par/"+c[N]]+"\" class=\"autoscale gsicon\" /> ");
this.bc=new jm(e[0],-p,p,"px");this.wz=new jm(e[1],-p,p,"px");this.A2=new jm(e[2],-p,p,"px");this.Dz=new jm(e[3],-p,p,"px");
this.VT=new jm(e[4],-p,p,"px");this.Rc=new aN([12,33],["Abc ...","... أي بي"]);this.Ve=new jm(["Auto VAR0",[16,0]],0,500,"%");
this.bX=[this.bc,this.wz,this.A2,this.Dz,this.VT,this.Rc,this.Ve];for(var N=0;N<this.bX.length;N++){var H=this.bX[N];
H.k(S.E.p,this.kn,this);H.parent=this}}d5.prototype=new dT;d5.prototype.aaF=function(E){if(v.Qj(this.Hi.n))return;
E.stopPropagation();var y=this.a_.n.getBoundingClientRect(),c=new iU(S.E.M,!0);c.data={d:S.H.rt,T_:this.Hi,x:y.left,y:y.top+y.height+4};
this.T(c)};d5.prototype._=function(){this.h4._();this.aE._();this.r_._();this.rO._();this.aN._();this.IQ._();
this.Vj._();this.gU._();this.EZ._();this.Cz._();this.nB._();for(var N=0;N<this.bX.length;N++)this.bX[N]._()};
d5.prototype.c=function(E,y,c){this.c2=JSON.parse(JSON.stringify(E));var e=this.c2,p=e.na,H=e.dV;this.Ld.c(p.FauxBold!=null?p.FauxBold:!1);
this.iD.c(p.FauxItalic!=null?p.FauxItalic:!1);this.sf.c(p.FontCaps==2);this.hM.c(p.FontCaps==1);this.UQ.c(p.FontBaseline==1);
this.Lj.c(p.FontBaseline==2);this.c3.c(p.Underline);this.sK.c(p.Strikethrough);this.h4.c(p.Font==null?null:e.GF[p.Font].Name,y,c);
var Z=p.FontSize==null?20:p.FontSize;this.aE.c(Z);var X=p.Tracking;this.rO.c(X==null?0:X);this.nB.c(p._LineWidth!=null?p._LineWidth:1);
this.r_.c(p.Leading!=null&&p.Leading!=0?p.Leading:Z);this.NN.c(p.AutoLeading);this.IQ.c((p.VerticalScale!=null?p.VerticalScale:0)*100);
this.Vj.c((p.HorizontalScale!=null?p.HorizontalScale:0)*100);this.aN.c(p.BaselineShift!=null?p.BaselineShift:0);
this.gU.c(p.FillFlag!=null?p.FillFlag:!1);this.EZ.c(p.StrokeFlag!=null?p.StrokeFlag:!1);this.Cz.c(p._FillBackgroundFlag!=null?p._FillBackgroundFlag:!1);
this.lE(p.FillColor,this.N0);this.lE(p.FillColor,this.WW);this.lE(p.StrokeColor,this.qf);this.lE(p._FillBackgroundColor,this.nx);
var b=H._Direction!=null?H._Direction:0,k=gV.Ex(H);for(var N=0;N<this.In.length;N++)this.In[N].c(k==N);
this.Rc.c(b);this.Ve.c((H.AutoLeading!=null?H.AutoLeading:1.2)*100);this.bc.c(H.StartIndent!=null?H.StartIndent:0);
this.wz.c(H.EndIndent!=null?H.EndIndent:0);this.A2.c(H.FirstLineIndent!=null?H.FirstLineIndent:0);this.Dz.c(H.SpaceBefore!=null?H.SpaceBefore:0);
this.VT.c(H.SpaceAfter!=null?H.SpaceAfter:0)};d5.prototype.lE=function(E,y){if(E){var c=gV.yd(E);y.Gd(Math.round(c.Z)<<16|Math.round(c.D)<<8|Math.round(c.J))}else y.Gd(0)};
d5.prototype.C7=function(){var E=new iU(S.E.M,!0);E.data={d:S.H.z2,Wp:iL.R3,c2:this.c2};this.T(E);var E=new iU(S.E.v,!0);
E.f=F.IB;E.data={d:"updateStyles"};this.T(E)};d5.prototype.anD=function(E){var y=this.c2.na,c=E.target,e=!c.MW();
if(c==this.Ld)y.FauxBold=e;if(c==this.iD)y.FauxItalic=e;if(c==this.sf)y.FontCaps=e?2:0;if(c==this.hM)y.FontCaps=e?1:0;
if(c==this.UQ)y.FontBaseline=e?1:0;if(c==this.Lj)y.FontBaseline=e?2:0;if(c==this.c3)y.Underline=e;if(c==this.sK)y.Strikethrough=e;
this.C7()};d5.prototype.kn=function(E){var y=this.c2.na,c=this.c2.dV,e=E.target;if(e==this.rO){var p=this.rO.h();
y.Tracking=p}if(e==this.r_){y.AutoLeading=!1;y.Leading=this.r_.h()}if(e==this.NN){y.AutoLeading=this.NN.h()}if(e==this.nB)y._LineWidth=e.h();
if(e==this.aE)y.FontSize=e.h();if(e==this.IQ)y.VerticalScale=e.h()/100;if(e==this.Vj)y.HorizontalScale=e.h()/100;
if(e==this.aN)y.BaselineShift=e.h();if(e==this.gU)y.FillFlag=e.h();if(e==this.EZ)y.StrokeFlag=e.h();
if(e==this.Cz)y._FillBackgroundFlag=e.h();if(this.In.indexOf(e)!=-1){c.Justification=gV.Ex(c,this.In.indexOf(e))}if(e==this.bc)c.StartIndent=e.h();
if(e==this.wz)c.EndIndent=e.h();if(e==this.A2)c.FirstLineIndent=e.h();if(e==this.Dz)c.SpaceBefore=e.h();
if(e==this.VT)c.SpaceAfter=e.h();if(e==this.Rc)c._Direction=e.h();if(e==this.Ve)c.AutoLeading=e.h()/100;
this.C7()};d5.prototype.ars=function(E){var y=this.c2,c=this.h4.h(),e=-1;for(var N=0;N<y.GF.length;N++)if(y.GF[N].Name==c)e=N;
if(e==-1){e=y.GF.length;var p=JSON.parse(JSON.stringify(y.GF[0]));p.Name=c;y.GF.splice(e,0,p)}y.na.Font=e;
this.C7()};d5.prototype.bl=function(E){var y=E.target,c=y.E2(),e={Type:1,Values:[1,(c>>16&255)/255,(c>>8&255)/255,(c>>0&255)/255]};
for(var N=0;N<4;N++)e.Values[N]=Math.round(e.Values[N]*1e3)/1e3;var p=y==this.N0||y==this.WW?0:y==this.qf?1:2;
this.c2.na[["FillColor","StrokeColor","_FillBackgroundColor"][p]]=e;this.C7()};function kk(){dT.call(this);
this.n=v.t("span","fontinput");this.df=null;this.g1=null;this.it=null;this.C6="";this.Bx={};this.ut=[];
this.kd={};this.aeR={};this.rG=[];this.rZ=!1;this.E1=v.t("button","fitem");this.E1.setAttribute("style","width:9em;");
this.E1.textContent="Family Name \u25BC";this.n.appendChild(this.E1);v.Qp(this.E1,this.a0p.bind(this));
this.Hk=new dT;this.Hk.parent=this;var E=this.Hk.n=v.t("div","floatcont");E.style.padding="7px 7px 3px 7px";
var y=new bU("Recent");E.appendChild(y.n);var c=this.aiR=new fr([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
c.k("click",this.ae6,this);c.n.style.float="right";E.appendChild(c.n);var e=this.yi=new b8("Local Fonts");
e.k(S.E.p,this.a0q,this);e.n.style.float="right";e.n.style.marginRight="10px";e.n.style.marginTop="3px";
E.appendChild(e.n);v.vY(E);this.UZ=v.t("span","fitem imageset scrollable");this.UZ.style.maxHeight="8em";
E.appendChild(this.UZ);var p=v.t("div","form");this.Hk.n.appendChild(p);this.vT=new fr(v.IU("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.vT.k("click",this.agV,this);p.appendChild(this.vT.n);this.CS=new d3([12,86],null,7.5);this.CS.k("input",this.sk,this);
p.appendChild(this.CS.n);this._2=new iz(10,"\u2630");p.appendChild(this._2.n);this._2.parent=this.Hk;
this._2.k(S.E.p,this.r6,this);this._2.n.style.float="right";this._2.n.style.marginRight="0";this.SM=v.t("span","fitem imageset scrollable");
this.SM.style.height="30em";this.Hk.n.appendChild(this.SM);this.SM.addEventListener("scroll",this.a8$.bind(this),!1);
this.fA=v.t("button","fitem");this.fA.setAttribute("style","width:7em;");this.fA.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.fA);v.Qp(this.fA,this.a0p.bind(this));this.S1=new dT;this.S1.parent=this;this.S1.n=v.t("div","floatcont");
this.sE=v.t("span","fitem imageset scrollable");this.S1.n.appendChild(this.sE);this.aD9=this.acp.bind(this);
this.a1E=this.aDR.bind(this)}kk.prototype=new dT;kk.prototype.a0q=function(E){ik.O$.U0(E.target.h(),function(){this.c();
this.r6()}.bind(this),function(){this.yi.c(!1)}.bind(this));this.r6()};kk.prototype.a8$=function(E){var y=this.SM.scrollTop,c=this.ut,e=Math.floor(y/27),p=Math.min(e+20,c.length);
for(var N=e;N<p;N++)this.amy(c[N])};kk.prototype.ae6=function(){var E=new iU(S.E.M,!0);E.data={d:S.H.uh,aAz:".otf,.ttf,.ttc"};
this.T(E)};kk.prototype._=function(){this._2._();this.aiR._();this.yi.c(ik.O$.MW());this.vT.WO(v.IU("tools/cshape",null,"autoscale"))};
kk.prototype.agV=function(E){this.vT.c(!this.vT.MW());this.r6()};kk.prototype.sk=function(E){this.C6=this.CS.h().toLowerCase();
this.r6()};kk.prototype.a0p=function(E){v.Ds(E);var y=E.currentTarget,c=y.getBoundingClientRect(),e=y==this.E1,p=e?this.Hk:this.S1;
if(v.Qj(p.n)){this.ayh(p);return}if(!e&&this.df.tA()[this.it]==null)return;var H=new iU(S.E.M,!0);H.data={d:S.H.rt,T_:p,x:c.left,y:c.top+c.height};
this.T(H);if(e){this.r6(null,!0)}};kk.prototype.acp=function(E){var y=E.currentTarget.firstChild.nextSibling.textContent;
if(E.target.tagName.toLowerCase()=="button"){var c=this.g1.slice(0),e=c.indexOf(y);if(e==-1){c=c.slice(Math.max(0,c.length-29));
c.push(y)}else c.splice(e,1);var p=new iU(S.E.M,!0);p.data={d:S.H.z2,Wp:iL.K8,Hx:c};this.T(p);this.rZ=!0;
this.r6()}else{this.aiD(y,null)}};kk.prototype.aDR=function(E){this.aiD(null,E.currentTarget.firstChild.textContent)};
kk.prototype.aiD=function(E,y){var c=E==null?this.S1:this.Hk,e=this.df;if(E==null)E=e.tA()[this.it][0];
else{var p=e.RJ(E),H=e.tA()[this.it];y=ik.gy(p,H?H[1]:"regular")}var Z=e.P4(E,y)[2];this.c(Z,e);this.T(new iU(S.E.p,!1));
this.ayh(c);this.r6()};kk.prototype.ayh=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.Oy,T_:E};this.T(y)};
kk.prototype.h=function(){return this.it};kk.prototype.c=function(E,y,c){var e=this.df;if(E!=null)this.it=E;
else E=this.it;if(y)this.df=y;else y=this.df;if(c)this.g1=c;else c=this.g1;if(E!=null){var p=y.tA()[E],H,Z;
if(p==null){H="- "+E;Z="-------"}else{H=p[0];Z=p[1];var X=this.rG;for(var N=0;N<X.length;N++)if(X[N][0][0]==H)X.splice(N,1);
X.push([p,Date.now()]);X.sort(function(j,g){return g[1]-j[1]});X=X.slice(0,10);v.Vz(this.UZ);for(var N=1;
N<X.length;N++){var b=X[N][0],k=this.lY(b,!0);this.Ry(k,b,!0);this.UZ.appendChild(k)}var D=y.RJ(H);D.sort(ik.ah0);
this.sE.textContent="";for(var N=0;N<D.length;N++){var p=y.P4(H,D[N]);if(!this._2.xe(p))continue;var k=this.lY(p,!1);
this.sE.appendChild(k)}}this.E1.textContent=H.substring(0,15)+" \u25BC";this.E1.setAttribute("title",H+", \""+E+"\"");
this.fA.textContent=Z.substring(0,10)+" \u25BC";this.fA.setAttribute("title",Z)}};kk.prototype.r6=function(E,y){var c=this.df.tA()[this.it],e=this.g1,p=this.df.RU();
this.ut=[];var H=this.yi.h();for(var Z in p){var X=e.indexOf(Z)!=-1,b=this.df.RJ(Z),k=!1;for(var N=0;
N<b.length;N++){var D=this.df.P4(Z,b[N]),j=!0;if(this.C6.length>0&&D[0].toLowerCase().indexOf(this.C6)==-1)j=!1;
else if(!this._2.xe(D))j=!1;else if(this.vT.MW()&&!X)j=!1;else if(D[5]=="--loc"&&!H)j=!1;if(j)k=!0}var g=this.Bx[Z];
if(g==null){var R=ik.gy(p[Z],"regular"),t=this.df.P4(Z,R),g=this.lY(t,!0);this.Bx[Z]=g;this.SM.appendChild(g);
this.kd[Z]="[true,false,false]"}if(k)this.ut.push(Z);var w=c!=null&&c[0]==Z;this.aeR[Z]="["+k+","+w+","+X+"]";
if(!y)this.amy(Z)}if(c&&!this.rZ){var B=this.Bx[c[0]];this.SM.scrollTop=B.offsetTop-210}this.a8$();this.rZ=!1};
kk.prototype.amy=function(E){var y=this.Bx[E];if(y.firstChild==null){var c=this.df.RU(),e=ik.gy(c[E],"regular"),p=this.df.P4(E,e);
this.Ry(y,p,!0)}var H=this.kd[E],Z=this.aeR[E];if(H==Z)return;var X=JSON.parse(H),b=JSON.parse(Z);if(X[0]!=b[0]||X[1]!=b[1]){var k=b[0]?"":"display:none; ";
if(b[1])k+="background-color:rgba(0,0,0,0.13);";y.setAttribute("style",k)}if(X[2]!=b[2])y.firstChild.setAttribute("style","opacity: "+(b[2]?"1":"0.2"));
this.kd[E]=Z};kk.prototype.lY=function(E,y){var c=v.t("div","fontitem");if(!y)this.Ry(c,E,y);return c};
kk.prototype.Ry=function(E,y,c){var e=y[c?0:1],p=c?this.aD9:this.a1E,b="";E.addEventListener("click",p,!1);
if(c)E.appendChild(v.t("button","star"));var H=v.t("span","label");H.setAttribute("title",e);H.textContent=e;
E.appendChild(H);var Z=v.k1(),X=1/Z,k=ik.R9*X,D=ik.Eb*X;if(1<Z&&Z<1.5)b="width:"+k+"px; height:"+D+"px;";
var j=v.t("span","thumb gsicon");if(y.ll){b+="background: url("+y.ll+");";if(1<Z&&Z<1.5)b+="background-size: "+k+"px "+D+"px;"}else{var g=Math.ceil(FNTS.list.length/ik.cols),R=Math.floor(y.h2/ik.cols),t=y.h2-R*ik.cols,w=t*ik.R9,B=R*ik.Eb;
if(1<Z&&Z<1.5){b+="background-size: "+ik.cols*k+"px "+g*D+"px;";w*=X;B*=X}b+="background-position:-"+w+"px -"+B+"px;"}j.setAttribute("style",b);
E.appendChild(j)};function iz(E,y){dT.call(this);this.n=v.t("button","fitem bbtn");this.n.addEventListener("click",this.a0k.bind(this),!1);
this.Hi=new dT;this.Hi.n=v.t("div","floatcont");this.Hi.parent=this;this.w0=v.t("div","flexrow");this.Hi.n.appendChild(this.w0);
this.j4=y;this.Uz=[];this.qD=[];var c=this.w0,e=v.t("div",""),p=v.t("div","");c.appendChild(e);c.appendChild(p);
this.R1=[];for(var N=0;N<FNTS.cats.length;N++)this.R1.push({name:FNTS.cats[N],index:N,nu:0});this.su=new b8([7,0]);
this.su.c(!0);this.su.k(S.E.p,this.aCx,this);e.appendChild(this.su.n);this.pW=v.t("div","vlist marged scrollable");
this.pW.setAttribute("style","width:10.3em; height:"+E+"em; ");e.appendChild(this.pW);this.Bv=[];for(var N=0;
N<this.R1.length;N++){var H=this.R1[N],Z=new b8(H.name);this.Bv.push(Z);Z.k(S.E.p,this.a5A,this);Z.c(!0);
this.pW.appendChild(Z.n);this.Uz.push(1)}this.axD=new b8([7,0]);this.axD.k(S.E.p,this.alE,this);this.fT=v.t("div","vlist marged scrollable");
this.fT.setAttribute("style","width:8.6em; height:"+(E+1.5)+"em; ");p.appendChild(this.fT);this.Jz=[];
for(var N=0;N<FNTS.subsetNames.length;N++){var Z=new b8(FNTS.subsetNames[N]);this.Jz.push(Z);Z.k(S.E.p,this.ayt,this);
Z.c(!1);this.fT.appendChild(Z.n);this.qD.push(Z.h()?1:0)}}iz.prototype=new dT;iz.prototype.a9I=function(E){var y=this.Jz;
for(var N=0;N<y.length;N++){var c=(E>>>N&1)==1;this.qD[N]=c;y[N].c(c)}};iz.prototype.ayY=function(){return this.w0};
iz.prototype._=function(){this.n.textContent=this.j4?this.j4:i4.get([25,1,0])+" \u25BC";this.su._();
this.axD._()};iz.prototype.a0k=function(E){var y=this.n.getBoundingClientRect(),c=new iU(S.E.M,!0);c.data={d:S.H.rt,T_:this.Hi,x:y.left,y:y.top+y.height,ob:!1};
this.T(c)};iz.prototype.xe=function(E){if(this.Uz[E[4]]==0)return!1;else for(var y=0;y<this.qD.length;
y++)if(this.qD[y]==1&&(E[3]>>>y&1)==0)return!1;return!0};iz.prototype.aCx=function(E){var y=E.target.h(),c=this.Bv,e=this.Uz;
for(var N=0;N<c.length;N++){c[N].c(y);e[N]=y?1:0}this.T(new iU(S.E.p,!1))};iz.prototype.alE=function(E){var y=E.target.h(),c=this.Jz,e=this.qD;
for(var N=0;N<c.length;N++){c[N].c(y);e[N]=y?1:0}this.T(new iU(S.E.p,!1))};iz.prototype.a5A=function(E){var N=this.Bv.indexOf(E.target),y=this.R1[N].index;
this.Uz[y]=1-this.Uz[y];this.T(new iU(S.E.p,!1));this.aqZ(this.Bv,this.su)};iz.prototype.ayt=function(E){var N=this.Jz.indexOf(E.target);
this.qD[N]=1-this.qD[N];this.T(new iU(S.E.p,!1))};iz.prototype.aqZ=function(E,y){var c=!0;for(var N=0;
N<E.length;N++)c=c&&E[N].h();y.c(c)};function hV(E,y,c){gb.call(this,y,!0,"gradientbutton",18*13,10*13,iL.FP);
this.x4=-1;this.YO=-1;this.a3V=null;this.aBQ=E;this._3=c}hV.prototype=new gb;hV.prototype.rg=function(E){var y=this.$s;
this.c(y[this.DX.h()]);this.T(new iU(S.E.p))};hV.prototype.Zn=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.Q5,ym:"gradienteditor",L:this.Oe,yr:this.aua.bind(this),TK:this._3};
this.T(y)};hV.prototype.aua=function(E){this.c(E);this.T(new iU(S.E.p))};hV.prototype.ba=function(){if(!this.MU)return;
var E=Math.floor(36*v.k1()),y=Math.floor(36*v.k1()),c=[],e=[],p=this.$s,H=Date.now();for(var N=0;N<p.length;
N++){var Z=p[N];e.push(Z.Nm?Z.Nm.v:"");var X=F.bu.y_(Z,E,y,Math.PI/4,this.x4,this.YO);c.push(X)}this.DX.jA(c,e,E,y);
this.MU=!1};hV.prototype.Yz=function(E,y){this.ami(this.Oe,E,y)};hV.prototype.c=function(E){this.ami(E,this.x4,this.YO)};
hV.prototype.ami=function(E,y,c){this.x4=y;this.YO=c;if(E==null)return;var e=JSON.stringify(E),p=e+y+","+c;
if(p==this.a3V)return;this.a3V=p;this.Oe=JSON.parse(e);var H=Math.floor(80*v.k1()),Z=Math.floor(16*v.k1()),X=F.bu.y_(this.Oe,H,Z,0,this.x4,this.YO);
this.EO.setAttribute("src",X);v.A3(this.EO,H,Z)};hV.prototype.h=function(){var E;if(this.aBQ)E=F.bu.ant(this.Oe,this.x4,this.YO);
else E=JSON.parse(JSON.stringify(this.Oe));return E};function kj(E){gb.call(this,E,!1,"swatchbutton",16*13,8.75*13,iL.iA)}kj.prototype=new gb;
kj.prototype.rg=function(E){this.c(this.$s[E.target.h()]);this.T(new iU(S.E.p))};kj.prototype.ba=function(){if(!this.MU)return;
var E=Date.now(),y=Math.floor(10*v.k1()),c=Math.floor(10*v.k1()),e=[],p=[],H=this.$s;for(var N=0;N<H.length;
N++){p.push(H[N].y6?H[N].y6.split("=").pop():"");e.push(kj.y_(H[N],y,c))}this.DX.jA(e,p,y,c);this.MU=!1};
kj.prototype.c=function(E){this.Oe=JSON.parse(JSON.stringify(E));this.Wz()};kj.prototype.Wz=function(){var E=Math.floor(24*v.k1()),y=Math.floor(20*v.k1()),c=kj.y_(this.Oe,E,y);
this.EO.setAttribute("src",c);v.A3(this.EO,E,y)};kj.prototype.h=function(){return JSON.parse(JSON.stringify(this.Oe))};
kj._Q={};kj.y_=function(E,y,c){var e=255<<24|E.J<<16|E.D<<8|E.Z,p=":"+e,H=kj._Q;if(H[p])return H[p];
var Z=new Uint32Array(y*c);Z.fill(e);var X=UPNG.encode([Z.buffer],y,c),b=H[p]="data:image/png;base64,"+iu.al(X);
return b};function bH(E,y,c){dT.call(this);this.n=v.t(c?"div":"span");var e=this.x6=v.t("input");this.x6.setAttribute("type","file");
if(y)e.setAttribute("multiple","");this.x6.addEventListener("change",this.aDL.bind(this),!1);this.a7J=this.am9.bind(this);
this.j0={};this.k8=0;this.vC=E;var p=this.avj=new fr(i4.get(E)+" (0)",null,null,!0);this.n.appendChild(p.n);
p.addEventListener("click",function(H){e.click()});if(c){this.yB=v.t("div","scrollable");this.yB.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.n.appendChild(this.yB);this.HB()}}bH.prototype=new dT;bH.prototype.c=function(E){this.j0=E;this.HB()};
bH.prototype.h=function(E){return this.j0};bH.prototype.aDL=function(E){var y=E.target.files;this.k8=y.length;
this.j0={};for(var N=0;N<y.length;N++){var c=y[N],e=new FileReader;e.onload=this.a7J;e.ZD=c.name;e.readAsArrayBuffer(c)}};
bH.prototype.am9=function(E){var y=this.j0[E.target.ZD]=new Uint8Array(E.target.result);this.k8--;if(this.k8==0){this.HB();
this.T(new iU(S.E.p));this.x6.value=null}};bH.prototype.HB=function(){var E=this.j0;this.avj.WO(i4.get(this.vC)+" ("+Object.keys(E).length+")");
var y=this.yB;if(y==null)return;v.Vz(y);var c=[];for(var e in E)c.push(e);c.sort();for(var N=0;N<c.length;
N++){var p=v.t("div");p.textContent=c[N];y.appendChild(p)}};function eB(E,y,c,e,p){if(E==null)E=!1;if(y==null)y=!1;
if(c==null)c=!1;dT.call(this);this.Xt=new eq;this.s1=new eq;this.Kh=72;this.Mg=72;this.p$=!0;this.my=!1;
this.n=v.t("span");this.jO=new jm([12,41],0,0,null,0,!1,!0,4);this.n.appendChild(this.jO.n);this.jO.k(S.E.p,this.bw,this);
var H=["px","%"];if(E)H=H.concat(["cm","mm","in"]);if(p){H=[[12,76,2],[12,76,6]];if(E)H=H.concat([[12,76,4],[12,76,5],[12,76,3]])}this.Rj=new a_(null,H);
this.n.appendChild(this.Rj.n);v.vY(this.n);this.Rj.k(S.E.p,this.bw,this);this.kV=new jm([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.kV.n);this.kV.k(S.E.p,this.bw,this);var Z=new fr("\u21F5",!1,null,!0);Z.k("click",this.XK,this);
this.Mv=new fr("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.Mv.k("click",this.bw,this);
this.Na=new bU("");this.Na.n.style.margin="0";this.Na.n.style.padding="0";if(y){this.n.appendChild(this.Mv.n);
this.n.appendChild(this.Na.n);this.Mv.Fw()}else this.n.appendChild(Z.n);this.Z2=new jm("DPI",0,0,null,3,!1,!0,4);
this.L5=new a_(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(E&&!e){v.vY(this.n);this.n.appendChild(this.Z2.n);
this.n.appendChild(this.L5.n)}this.L5.k(S.E.p,this.bw,this);this.Z2.k(S.E.p,this.bw,this);this.gk=new b8([12,23,1]);
this.gk.k(S.E.p,this.bw,this);if(c){v.vY(this.n);this.n.appendChild(this.gk.n)}v.vY(this.n)}eB.prototype=new dT;
eB.prototype.Cl=function(E,y){this.jO.HW.style.width=this.kV.HW.style.width=(E-78-this.Mv.As())/2+"px"};
eB.prototype.yh=function(){this.jO.yh();this.kV.yh();this.Rj.yh();var E=this.n;v.Vz(E);this.Rj.n.style.marginRight="0";
E.appendChild(this.jO.n);E.appendChild(this.Mv.n);E.appendChild(this.kV.n);E.appendChild(this.Rj.n)};
eB.prototype.N2=function(){this.jO.N2()};eB.prototype.ac$=function(E,y){this.p$=E;if(y!=null)this.my=y;
if(!this.p$&&!this.my&&this.Rj.h()==0){this.Rj.c(4);this.vZ()}};eB.prototype.a5q=function(E){this.Mv.c(E)};
eB.prototype._=function(){this.jO._();this.kV._();this.Z2._();this.L5._();this.Mv._();this.gk._();this.Rj._()};
eB.prototype.XK=function(E){var y=this.s1.x;this.s1.x=this.s1.y;this.s1.y=y;this.vZ();this.T(new iU(S.E.p,!1))};
eB.prototype.bw=function(E){if(E.target==this.Rj&&!this.p$&&!this.my&&this.Rj.h()==0)this.Rj.c(4);if(E.target==this.Rj||E.target==this.gk){this.vZ();
return}if(E.target==this.Mv)E.target.c(!E.target.h());if(E.target==this.L5)window.locStor.setItem("dpiUnit",this.L5.h());
var y=this.Xt,c=parseFloat(this.jO.h());if(isNaN(c))c=1;var e=parseFloat(this.kV.h());if(isNaN(e))e=1;
var p=this.Z2.h()*[1,2.54][this.L5.h()],H=this.Rj.h();if(this.p$){var Z=this.Mg;if(H==1){c=this.Xt.x*(c/100);
e=this.Xt.y*(e/100)}var X=[1,1,2.54/Z,25.4/Z,1/Z][H];c/=X;e/=X;if(this.gk.h()){c+=this.Xt.x;e+=this.Xt.y}if(E.target==this.Z2){var b=p;
if(!this.my){var k=b/Z;c*=k;e*=k}Z=b}if(this.Mv.h()){if(E.target==this.jO)e=c*(y.y/y.x);else c=e*(y.x/y.y)}c=Math.max(Math.abs(c),1);
e=Math.max(Math.abs(e),1)}else{var Z=this.Kh;if(E.target==this.Z2)Z=p;else{if(this.Mv.h()){if(E.target==this.jO)e=c*(y.y/y.x);
else c=e*(y.x/y.y)}var X=[1,1,2.54/Z,25.4/Z,1/Z][H],D=c/(H==1?100:y.x*X);Z=Z/D}c=y.x;e=y.y}this.s1=new eq(Math.round(c),Math.round(e));
this.Mg=Z;this.vZ();this.T(new iU(S.E.p,!1))};eB.prototype.asO=function(N){this.Rj.c(N);this.vZ()};eB.prototype.c=function(E,y,c){var e=window.locStor.getItem("dpiUnit");
if(e!=null)this.L5.c(e);if(c!=!0)this.Xt=E.clone();this.s1=E.clone();if(y!=null){this.Kh=y;this.Mg=y}this.vZ()};
eB.prototype.vZ=function(){var E=this.s1.x,y=this.s1.y,c=this.Mg,e=(E/y).toFixed(3);while(e.charAt(e.length-1)=="0")e=e.substring(0,e.length-1);
if(e.charAt(e.length-1)==".")e=e.substring(0,e.length-1);var p="  "+e+" : 1",H=function(D,j){while(j!=0){var g=j;
j=D%j;D=g}return D},Z=H(E,y);if(Math.min(E,y)/Z<10)p="  "+Math.round(E/Z)+" : "+Math.round(y/Z);this.Na.c(p);
if(this.gk.h()){E-=this.Xt.x;y-=this.Xt.y}var X=this.Rj.h();if(X==1){if(this.p$){E=100*E/this.Xt.x;y=100*y/this.Xt.y}else{E=y=100*this.Kh/this.Mg}}else{E=Math.round(E);
y=Math.round(y)}var b=[1,1,2.54/c,25.4/c,1/c][X];E*=b;y*=b;var k=X==1||X==2||X==4?2:0;this.jO.VE(k);
this.kV.VE(k);this.jO.c(E);this.kV.c(y);this.Z2.c(c*[1,1/2.54][this.L5.h()])};eB.prototype.h=function(){return this.s1.clone()};
eB.prototype.zX=function(){return this.Mg};function iy(E,y,c){dT.call(this);var e=E==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.KE=E;this.a7f=y;this.cV=1;this.ol=[1,1,0];var p=this.n=v.t("div","numlist"),H=this.Hs=[];for(var N=0;
N<4;N++){var Z=new jm(e[N],0,0,null,2,!1,!0,4,null,c&&(N==0||N==2));Z.k(S.E.p,this.bw,this);p.appendChild(Z.n);
H[N]=Z;if(N==1||N==3)v.vY(p)}H[4]=new b8(E==0?[12,51]:[12,91,2]);H[4].c(!0);p.appendChild(H[4].n)}iy.prototype=new dT;
iy.prototype._=function(){var E=this.Hs;for(var N=0;N<5;N++)E[N]._();if(this.KE==0)v.LM(E[0],E[2])};
iy.prototype.c=function(E,y,c){if(y)this.ol=y;y=this.ol;var e=c?E:this.KE==0?[E[2],E[0],E[3],E[1]]:[E[0],E[1],E[3],E[2]];
this.cV=e[0]/e[2];for(var N=0;N<4;N++){var p=this.Hs[N];p.VE(y[2]==0&&this.a7f?0:2);p.c(d._5.a10(e[N],y[0],y[1],y[2]))}};
iy.prototype.h=function(E){var y=[],c=this.ol;for(var N=0;N<4;N++){var e=d._5.o3(this.Hs[N].h(),c[0],c[1],c[2]);
y[N]=this.a7f?Math.round(e):e}return E?y:this.KE==0?[y[1],y[3],y[0],y[2]]:[y[0],y[1],y[3],y[2]]};iy.prototype.bw=function(E){var y=this.KE,c=this.Hs.indexOf(E.currentTarget),e=this.h(!0),p=this.Hs[4].h();
if(y==0){e[0]=Math.max(1,e[0]);e[2]=Math.max(1,e[2]);if(p&&c==0)e[2]=e[0]/this.cV;if(p&&c==2)e[0]=e[2]*this.cV}if(y==1){e[c]=Math.max(0,e[c]);
if(p)for(var N=0;N<4;N++)e[N]=e[c]}this.c(e,null,!0);this.T(new iU(S.E.p,!1))};function bD(){dT.call(this);
this.xX=0;this.GR=[0,0,1,1,100,100];this.gO=[10,5,1,1,4,3,3,2,16,9];this.n=v.t("span","fitem");this.bL=new a_(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.n.appendChild(this.bL.n);this.bL.k(S.E.p,this.bw,this);this.jO=new jm("W",0,0,null,0,!1,!0);this.n.appendChild(this.jO.n);
this.jO.k(S.E.p,this.bw,this);var E=this.Iw=new fr("\u21C4",!1,null,!0);E.k("click",this.XK,this);this.n.appendChild(E.n);
this.kV=new jm("H",0,0,null,0,!1,!0);this.n.appendChild(this.kV.n);this.kV.k(S.E.p,this.bw,this);this.c({V4:0,x:0,y:0})}bD.prototype=new dT;
bD.prototype.ape=function(E,y){this.gO[0]=E;this.gO[1]=y};bD.prototype._=function(){v.LM(this.jO,this.kV);
this.bL._()};bD.prototype.XK=function(E){var y=this.kV.h();this.kV.c(this.jO.h());this.jO.c(y);this.bw(E)};
bD.prototype.bw=function(E){if(E.target==this.bL){var N=this.bL.h(),y=this.GR;if(N>2){N-=3;var c=this.gO[2*N],e=this.gO[2*N+1];
y[2]=c;y[3]=e;this.jO.c(c);this.kV.c(e);this.bL.c(1)}var p=this.h();y[this.xX*2]=p.x;y[this.xX*2+1]=p.y;
this.xX=p.V4;this.c({V4:p.V4,x:y[p.V4*2],y:y[p.V4*2+1]})}if(this.jO.h()<1)this.jO.c(1);if(this.kV.h()<1)this.kV.c(1);
this.T(new iU(S.E.p,!1))};bD.prototype.c=function(E){this.bL.c(E.V4);this.jO.c(E.x);this.kV.c(E.y);if(E.V4==0){this.jO.Cp();
this.kV.Cp();this.Iw.Cp()}else{this.jO.fh();this.kV.fh();this.Iw.fh()}};bD.prototype.h=function(){return{V4:this.bL.h(),x:this.jO.h(),y:this.kV.h()}};
function h5(E){dT.call(this);this.n=v.t("span","");this.aDP=E;var y=E?100:300;this.Uf=new i_("Off X",-y,y,E?"%":"px",0,!E);
this.ci=new i_("Off Y",-y,y,E?"%":"px",0,!E);this.Uf.k(S.E.p,this.bw,this);this.ci.k(S.E.p,this.bw,this);
this.n.appendChild(this.Uf.n);this.n.appendChild(this.ci.n)}h5.prototype=new dT;h5.prototype._=function(){this.Uf._();
this.ci._()};h5.prototype.bw=function(E){this.T(new iU(S.E.p,!1))};h5.prototype.a1t=function(E){this.Uf.c(E.x);
this.ci.c(E.y)};h5.prototype.a0V=function(){return new eq(this.Uf.h(),this.ci.h())};h5.prototype.c=function(E,y){var c=E.Hrzn.v,e=E.Vrtc.v;
if(this.aDP){c=c.val;e=e.val}this.Uf.c(c);this.ci.c(e);if(y==!0)this.bw()};h5.prototype.h=function(){var E=this.Uf.h(),y=this.ci.h();
if(this.aDP)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:E}},Vrtc:{t:"UntF",v:{type:"#Prc",val:y}}};
else return{classID:"Pnt",Hrzn:{v:E,t:"doub"},Vrtc:{v:y,t:"doub"}}};function k9(){dT.call(this);this.n=v.t("span","fitem strokebutton");
this.QA=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.vL=cb.CY.TL();this.lh=v.t("button");
this.n.appendChild(this.lh);v.Qp(this.n,this.PA.bind(this));var E=v.t("canvas","gsicon");this.kA=E.getContext("2d");
this.lh.appendChild(E);var y=v.t("span");y.textContent=" \u25BC";this.lh.appendChild(y);this.Hi=new dT;
this.Hi.parent=this;this.Hi.n=v.t("div","floatcont form");var c=this.Hi.n;c.setAttribute("style","width: 16.7em;");
this.Bx=[new a_([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new aN([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new aN([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new jm("Limit",0,50,null,null,null,!0,2.5),new d3([19,9,2])];
for(var N=0;N<this.Bx.length;N++){var e=this.Bx[N];c.appendChild(e.n);e.k(S.E.p,this.bw,this)}v.vY(c);
this.kx=[];var p=this.Gv.bind(this);this.vL.strokeStyleLineWidth.v.val=3;for(var N=0;N<this.QA.length;
N++){var H=v.t("button","fitem");this.kx.push(H);c.appendChild(H);H.addEventListener("click",p,!1);var E=v.t("canvas","gsicon"),Z=E.getContext("2d");
H.appendChild(E);this.a9y(Z,40,20,this.QA[N])}this.vL.strokeStyleLineWidth.v.val=1}k9.prototype=new dT;
k9.prototype.PA=function(E){if(v.Qj(this.Hi.n))return;E.stopPropagation();var y=this.lh.getBoundingClientRect(),c=new iU(S.E.M,!0);
c.data={d:S.H.rt,T_:this.Hi,x:y.left,y:y.top+y.height+4};this.T(c)};k9.prototype.bw=function(E){var y=this.Bx,c=[];
for(var N=0;N<5;N++)c.push(y[N].h());this.vL=this.aeh(c);this.T(new iU(S.E.p,!1))};k9.prototype.Gv=function(E){var y=this.kx.indexOf(E.currentTarget);
this.c(this.aeh(this.QA[y]));this.T(new iU(S.E.p,!1))};k9.prototype.aeh=function(E){var y=JSON.parse(JSON.stringify(this.vL)),c=E[0],e=E[1],p=E[2],H=E[3],Z=E[4];
if(c!=null)y.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cb.CY.FC[c];if(e!=null)y.strokeStyleLineCapType.v.strokeStyleLineCapType=cb.CY.sj[e];
if(p!=null)y.strokeStyleLineJoinType.v.strokeStyleLineJoinType=cb.CY.join[p];y.strokeStyleMiterLimit.v=H;
var X=y.strokeStyleLineDashSet.v=[];Z=Z.split(" ");while((Z.length&1)!=0)Z.pop();for(var N=0;N<Z.length;
N++)X.push({t:"UntF",v:{type:"#Nne",val:parseInt(Z[N])}});return y};k9.prototype._=function(){for(var N=0;
N<this.Bx.length;N++)this.Bx[N]._()};k9.prototype.c=function(E){this.vL=JSON.parse(JSON.stringify(E));
var y=cb.CY.FC.indexOf(E.strokeStyleLineAlignment.v.strokeStyleLineAlignment),c=cb.CY.sj.indexOf(E.strokeStyleLineCapType.v.strokeStyleLineCapType),e=cb.CY.join.indexOf(E.strokeStyleLineJoinType.v.strokeStyleLineJoinType),p=E.strokeStyleMiterLimit.v,H=[],Z=E.strokeStyleLineDashSet.v;
for(var X=0;X<Z.length;X++)H.push(Z[X].v.val);var b=this.Bx;b[0].c(y);b[1].c(c);b[2].c(e);b[3].c(p);
b[3].U0(e==0);b[4].c(H.join(" "));var k=[];for(var N=0;N<5;N++)k.push(b[N].h());this.a9y(this.kA,40,16,k)};
k9.prototype.h=function(){return JSON.parse(JSON.stringify(this.vL))};k9.prototype.a9y=function(E,y,c,e){var p=e[0],H=e[1],Z=e[2],X=e[3],b=e[4].split(" ").map(parseFloat);
v.Uh(E.canvas,y,c);var k=Math.min(5,this.vL.strokeStyleLineWidth.v.val);for(var N=0;N<b.length;N++)b[N]*=k;
E.clearRect(0,0,y,c);E.setLineDash(b);E.lineCap=["butt","round","square"][H];E.lineJoin=["miter","round","bevel"][Z];
E.lineWidth=k;E.beginPath();E.moveTo(0,c/2);E.lineTo(y*2,c/2);E.stroke()};function gX(E){gb.call(this,E,!1,"contourbutton",34*13,16*13,iL.ZU,!0);
this.CS=new d3([12,86],null,16);this.CS.k("input",this.sk,this);this.Hi.n.appendChild(this.CS.n);this.Ah=null;
this.C6="";this.ae=null;this.c(dD.TL())}gX.prototype=new gb;gX.prototype._=function(){gb.prototype._.call(this);
this.CS._()};gX.prototype.rg=function(E){this.c(this.Ah[E.target.h()[0]]);this.T(new iU(S.E.p))};gX.prototype.sk=function(E){this.C6=this.CS.h().toLowerCase();
this.agA()};gX.aiU=!1;gX.prototype.ba=function(){if(!this.MU)return;var E=this.$s;if(E==null||!gX.aiU){var y=new iU(S.E.M,!0);
y.data={d:S.H.ha,Wp:{url:"rsrc/basic/Default.csh"}};this.T(y);gX.aiU=!0}else{var c=Math.floor(38*v.k1()),e=Math.floor(38*v.k1());
this.ae=[];for(var N=0;N<E.length;N++)this.ae.push(gX.a8H(E[N],c,e));this.agA();this.MU=!1}};gX.prototype.agA=function(){var E=Math.floor(38*v.k1()),y=Math.floor(38*v.k1());
this.Ah=[];var c=[],e=[],p=this.$s;for(var N=0;N<p.length;N++){if(p[N].Iz.toLowerCase().indexOf(this.C6)==-1)continue;
this.Ah.push(p[N]);c.push(this.ae[N]);e.push(p[N].Iz)}this.DX.jA(c,e,E,y)};gX.prototype.c=function(E){this.Oe=gX.clone(E);
this.Wz()};gX.prototype.Wz=function(){var E=Math.floor(23*v.k1()),y=Math.floor(23*v.k1()),c=gX.a8H(this.Oe,E,y);
this.EO.setAttribute("src",c);v.A3(this.EO,E,y)};gX.prototype.h=function(){return gX.clone(this.Oe)};
gX.clone=function(E){return{Iz:E.Iz,Al:E.Al,X:jN.pU.MD(E.X),Mj:E.Mj.clone()}};gX.V$=null;gX.Pb=null;
gX.a8H=function(E,y,c){var e=jN.pU.MD(E.X),p=E.Mj,H=Math.min(y/p.m,c/p.e)*.9,Z=new jr;Z.translate(-.5,-.5);
Z.scale(.95,.95);Z.translate(.5,.5);Z.scale(H*p.m,H*p.e);d.o.dg(e,Z);var X=new jN.pU;X.X=e;var b=X.Nb();
b.rect.x=Math.floor((y-b.rect.m)/2);b.rect.y=Math.floor((c-b.rect.e)/2);var k=d.R(b.rect.P()*4);d.Og(b.channel,k,3);
var D=gX;if(D.V$==null)D.V$=v.t("canvas");var j=D.V$,g=j.getContext("2d");if(j.width!=y||j.height!=c||D.Pb==null){j.width=y;
j.height=c;D.Pb=g.createImageData(y,c)}var R=D.Pb;R.data.fill(0);d.E6(k,b.rect,R.data,new ir(0,0,y,c));
g.putImageData(R,0,0);return j.toDataURL()};function aE(E){gb.call(this,E,!1,"ICCButton",16*13,12*13,iL.Ux,!0);
this.DX.vR(1)}aE.prototype=new gb;aE.prototype.IK=function(){var E="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var N=0;N<E.length;N++)E[N]="luts/"+E[N]+".CUBE";return E};aE.prototype.rg=function(E){this.c(this.$s[E.target.h()]);
this.T(new iU(S.E.p))};aE.prototype.ba=function(){if(!this.MU)return;var E=Math.floor(1*v.k1()),y=Math.floor(1*v.k1()),c=[],e=[],p=this.$s;
for(var N=0;N<p.length;N++){var H=p[N].Nm.v.split("\\").pop().split("/").pop();e.push(H);c.push(aE.y_(p[N],E,y))}this.DX.jA(c,e,E,y);
this.MU=!1};aE.prototype.c=function(E){this.Oe=JSON.parse(JSON.stringify(E));this.Wz()};aE.y_=function(E,y,c){var e=v.t("canvas"),Z="ICC / 3DL / look / cube";
e.width=y;e.height=c;var p=e.getContext("2d"),H=Math.floor(14*v.k1());p.font=H+"px sans-serif";if(E.Nm)Z=E.Nm.v.split("\\").pop().split("/").pop();
p.fillText(Z,10,H);return e.toDataURL()};aE.prototype.Wz=function(){var E=Math.floor(120*v.k1()),y=Math.floor(20*v.k1());
this.EO.setAttribute("src",aE.y_(this.Oe,E,y));v.A3(this.EO,E,y)};aE.prototype.h=function(){return JSON.parse(JSON.stringify(this.Oe))};
function cC(){dT.call(this);this.sv=null;this.n=v.t("span","fitem");this.qp=new ch([14,9]);this.Qz=new jm(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.Ic=new k9;this.H9=[this.qp,this.Qz,this.Ic];for(var N=0;N<this.H9.length;N++){var E=this.H9[N];
this.n.appendChild(E.n);E.parent=this;E.k(S.E.p,this.bw,this)}}cC.prototype=new dT;cC.prototype._=function(){for(var N=0;
N<this.H9.length;N++)this.H9[N]._()};cC.prototype.mh=function(E,y){this.qp.mh(E,y)};cC.prototype.bw=function(E){var y=this.sv,c=this.qp.h();
cb.IN(y,c);y.strokeStyleLineWidth.v.val=this.Qz.h();if(E.target==this.Ic)y=this.Ic.h();this.sv=y;this.T(new iU(S.E.p,!1))};
cC.prototype.c=function(E,y,c){this.sv=JSON.parse(JSON.stringify(y));var e=cb.g4(y);this.qp.c(E,e,c);
this.Qz.c(y.strokeStyleLineWidth.v.val);this.Ic.c(y)};cC.prototype.h=function(){return JSON.parse(JSON.stringify(this.sv))};
function az(E){var y=[[18,0],[18,1],[18,2],[18,3]],c=aN.Ma(["set/front","set/union","set/difference","set/intersection"]);
aN.call(this,E?[12,36]:null,c,y)}az.prototype=new aN;function eY(){dT.call(this);this.n=v.t("button","fitem bbtn");
v.Qp(this.n,this.PA.bind(this));this.Hi=new dT;this.Hi.n=v.t("div","floatcont form");this.Hi.n.setAttribute("style","max-width: 200px;");
this.Hi.parent=this;var E=dX;this.Bc=[new b8("Start"),new b8("End"),new E([12,41],0,100,"px",null,!0,null,!0),new E([12,80,0],0,100,"px",null,!0,null,!0),new E("Concavity",-50,50,"%",null,null,null,!0)];
for(var N=0;N<this.Bc.length;N++){var y=this.Bc[N];y.parent=this;y.k(S.E.p,this.YZ,this);this.Hi.n.appendChild(y.n)}this.a9U=v.t("div");
this.Hi.n.appendChild(this.a9U)}eY.prototype=new dT;eY.prototype.c=function(E){for(var N=0;N<5;N++)this.Bc[N].c(E[N]);
this.HB()};eY.prototype.h=function(E){var y=[];for(var N=0;N<5;N++)y[N]=this.Bc[N].h();return y};eY.prototype._=function(){this.n.textContent=i4.get([12,93,4]);
for(var N=0;N<this.Bc.length;N++)this.Bc[N]._()};eY.prototype.YZ=function(E){this.T(new iU(S.E.p,!1));
this.HB()};eY.prototype.HB=function(E){var y=this.h(),c=200,e=60;y[2]/=v.k1();y[3]/=v.k1();var p=d.o.M1.iW(0,e/2,c,e/2,5,y),H=d.o.Kt(p);
this.a9U.innerHTML="<svg width=\""+c+"\" height=\""+e+"\" class=\"gsicon\">\t\t\t<path d=\""+H.E8+"\" />\t\t\t</svg>"};
eY.prototype.PA=function(E){if(v.Qj(this.Hi.n))return;E.stopPropagation();var y=this.n.getBoundingClientRect(),c=new iU(S.E.M,!0);
c.data={d:S.H.rt,T_:this.Hi,x:y.left,y:y.top+y.height,ob:!0};this.T(c)};function cp(){dT.call(this);
this.n=v.t("div");this.Hs=[];this.a2E=[];var E=this.Zb=v.t("div"),y=v.t("h2");y.textContent="Create Teams";
E.appendChild(y);y.style.margin="26px 0 16px 0";var c=new fr("More about Teams",!1,null,!0);y.appendChild(c.n);
c.n.style.float="right";c.k("click",this.arG,this);this.dU=v.t("div");E.appendChild(this.dU);this.aD4=new d3("Team Name",null,10);
E.appendChild(this.aD4.n);var e=this.am$=new fr("Create Team",null,null,!0);E.appendChild(e.n);e.k("click",this.agZ,this);
var y=v.t("h2");y.textContent="Join Teams";E.appendChild(y);y.style.margin="26px 0 16px 0";this.Kg=v.t("div");
E.appendChild(this.Kg);this.aqA=new d3("Team ID",null,10);E.appendChild(this.aqA.n);var e=new fr("Join Team",null,null,!0);
E.appendChild(e.n);e.k("click",this.agZ,this);this.a3T;this.ab4=this.Xy.bind(this);this.a6Z=this.aoy.bind(this);
this.x1=!1;this.yj();this.fk=null;this.afp=""}cp.prototype=new dT;cp.prototype.arG=function(E){var y=new iU(S.E.M,!0);
y.data={d:S.H.BN,link:"https://www.photopea.com/api/accounts#teams"};this.T(y)};cp.prototype.yj=function(){clearTimeout(this.apa);
this.apa=setTimeout(this.a6Z,this.fk?10:3e3)};cp.prototype.aoy=function(){var E=b4.Ez();if(document.hidden||!v.Qj(this.n)||E==null){this.yj();
return}var y=b4.vQ();if(this.fk==null&&y==null)return;b4.YF(this.fk?this.fk:y,this.ab4);this.x1=!0;this.fk=null};
cp.prototype.a1Z=function(E){E.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.x1)this.fk=E;else{clearTimeout(this.apa);b4.YF(E,this.ab4)}};cp.prototype.Mp=function(E){var y=typeof E=="string"?this.a3T:this.Hs.indexOf(E.target),c=this.a2E[y],e=c[0],p=b4.vQ();
if(p==null)p={};var H=p.acc,Z=H.tjoin,X=H.tstart;if(e=="leave"){Z.splice(Z.indexOf(c[1]),1)}if(e=="add"||e=="remove"||e=="delTeam"||e=="showRename"||e=="rename"){var b=-1,D=0;
for(var N=0;N<X.length;N++){D+=X[N][1].length;if(X[N][2]==c[1])b=N}var j=X[b];if(e=="add"){var g=b4.qc();
if(g&&g[0]==0&&g[1][2]<=D){alert("You can have at most "+g[1][2]+" members in your Premium.");return}j[1].push(c[2])}if(e=="remove")j[1].splice(j[1].indexOf(c[2]),1);
if(e=="delTeam"){if(j[1].length!=0){alert("Remove members first.");return}X.splice(b,1)}if(e=="showRename"){var R=new iU(S.E.M,!0);
R.data={d:S.H.Q5,ym:"namewindow",v5:j[0],UT:this.Mp.bind(this)};this.T(R);this.a3T=y;c[0]="rename";return}if(e=="rename")j[0]=E}this.a1Z(p)};
cp.prototype.agZ=function(E){var y=this.am$==E.target,c=(y?this.aD4:this.aqA).h().trim();if(c==""){alert("The Team "+(y?"Name":"ID")+" is empty.");
return}if(!y){c=parseInt(c);if(isNaN(c)){alert("The ID must be a number");return}}var e=b4.vQ();if(e==null)e={};
var p=e.acc;if(p==null)p=e.acc={};var H=p.tstart,Z=p.tjoin;if(y){if(H==null)H=p.tstart=[];if(H.length>5){alert("You can have at most 5 teams");
return}H.push([c,[]])}else{if(H)for(var N=0;N<H.length;N++)if(H[N][2]==c){alert("You are the owner of this team");
return}if(Z==null)Z=p.tjoin=[];if(Z.indexOf(c)!=-1){alert("You already asked to join this team.");return}p.tjoin.push(c)}p.update=!0;
this.a1Z(e)};cp.prototype.Xy=function(){this.x1=!1;var E=b4.Ez(),y=E!=null,c=this.Zb.parentNode!=null;
if(y!=c){v.Vz(this.n);if(y)this.n.appendChild(this.Zb);else this.n.textContent="Log In to access Team Settings."}if(!y)return;
var e=b4.vQ();if(e==null)e={};var p=e.acc;if(p==null)p={};var H=JSON.stringify(p)+"===="+JSON.stringify(E);
if(H!=this.afp){this.afp=H;var Z=this.dU,X=this.Kg;v.Vz(Z);v.Vz(X);var b=this.Hs=[],k=this.a2E=[],D=this.Mp.bind(this);
function j(C,h){C.addEventListener("click",D);b.push(C);k.push(h)}function g(i,C){var M=v.t("div"),h="rgba(255,255,255,0.15)";
M.appendChild(t("ID: "+i[2],54,h));M.appendChild(t(i[0],160,null,!0));if(C){M.appendChild(t(i[1].length+" members",80,null,!0))}else{M.appendChild(t(i[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<i[1]*1e3)M.appendChild(t("Premium",80,"rgba(0,140,0,1)"))}var A=t("",120);M.appendChild(A);
A.setAttribute("style","float:right;text-align:right");if(C){var W=new fr("Rename",null,null,!0);j(W,["showRename",i[2]]);
A.appendChild(W.n)}var W=new fr(C?"Delete":"Leave",null,null,!0);j(W,[C?"delTeam":"leave",i[2]]);A.appendChild(W.n);
return M}function R(C,h,u){var M=v.t("div");M.style.paddingLeft="46px";M.appendChild(t(h?"\u2713":"...",8,h?"#229922":"#aa7700"));
M.appendChild(t(C[1],200));M.appendChild(t(C[2],240));var A=t("",120);M.appendChild(A);A.setAttribute("style","float:right;text-align:right");
var W=new fr(h?"Remove":"Add",null,null,!0);j(W,[h?"remove":"add",u,C[0]]);A.appendChild(W.n);return M}function t(C,h,A,W){var Q=v.t("span");
Q.textContent=C;Q.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+h+"px;  "+(A!=null?"background-color:"+A+";":"")+(W?"font-weight:bold;":""));
return Q}var w=p.tstart,B=p.tjoin,$=E.wantToJoin,o=E.inTeams;if(w)for(var T=0;T<w.length;T++){var i=w[T],r=$["t"+i[2]];
if(r==null)r=[];var I={};for(var N=0;N<r.length;N++)I["u"+r[N][0]]=r[N];var M=g(i,!0);Z.appendChild(M);
M.style.marginTop="10px";for(var N=0;N<i[1].length;N++){var J=i[1][N],P=I["u"+J];if(P==null)P=[J,"========","... user has left your team"];
delete I["u"+J];var n=R(P,!0,i[2]);Z.appendChild(n)}for(var x in I){var P=I[x],n=R(P,!1,i[2]);Z.appendChild(n)}}if(B){var L={};
for(var N=0;N<o.length;N++)L["t"+o[N][2]]=o[N];for(var T=0;T<B.length;T++){var u=B[T],i=L["t"+u],M=g(i?i:["==========",-1,u],!1);
X.appendChild(M)}}this.T(new iU(S.E.p))}if(this.fk==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this.yj()};
function dj(){dT.call(this);this.dE=[16,!0,!0];this.n=v.t("span","");this.oo=[new jm([12,24],0,255),new b8([12,25,1]),new b8([12,25,0])];
for(var N=0;N<3;N++){var E=this.oo[N];E.parent=this;E.c(this.dE[N]);this.n.appendChild(E.n);E.k(S.E.p,this.bw,this)}}dj.prototype=new dT;
dj.prototype.bw=function(){for(var N=0;N<3;N++)this.dE[N]=this.oo[N].h();this.T(new iU(S.E.p,!1))};dj.prototype.c=function(E){this.dE=E.slice(0);
for(var N=0;N<3;N++)this.oo[N].c(E[N])};dj.prototype.h=function(){return this.dE.slice(0)};dj.prototype._=function(){for(var N=0;
N<3;N++)this.oo[N]._()};function fd(E,y){dT.call(this);if(y==null)y=!1;this.ae=[];this.Rg=Math.floor(120*v.k1());
this.ago=Math.floor(23*v.k1());this.ke=0;this.wx=[];this.BR=[];for(var c in d.Bh.type){if((c=="warpCustom"||c=="warpCylinder")&&!y)continue;
this.wx.push(c);this.BR.push(d.Bh.type[c])}this.n=v.t("span","fitem warpbutton");this.Hi=new dT;this.Hi.n=v.t("div","floatcont");
if(E){this.vC=E;this.cu=v.t("label","flabel");this.n.appendChild(this.cu)}this.d=v.t("button");this.n.appendChild(this.d);
v.Qp(this.d,this.PA.bind(this));this.cE=new jR(!0);this.Hi.n.appendChild(this.cE.n);this.cE.k(S.E.p,this.aql,this);
this.Hi.n.setAttribute("style","width:"+Math.floor(8+this.Rg/v.k1())+"px;");this._()}fd.prototype=new dT;
fd.prototype.WO=function(E){this.cu.textContent=E};fd.prototype._=function(){if(this.vC)this.cu.innerHTML=i4.get(this.vC)+":";
this.Wz()};fd.a5H={};fd.abM=function(E,y,c){var e=i4.get(d.Bh.type[E]),p=e+"-"+E+"-"+y+"-"+c,H=fd.a5H[p];
if(H)return H;var Z=fd.kA;if(X==null){var X=v.t("canvas");Z=fd.kA=X.getContext("2d")}var X=Z.canvas;
if(X.width!=y||X.height!=c){X.width=y;X.height=c}Z.font=Math.floor(13*v.k1())+"px sans-serif";Z.lineWidth=1;
Z.strokeStyle="#000000";var b=Math.floor(16*v.k1()),k=new ir(0,0,b,b);Z.clearRect(0,0,X.width,X.height);
var D=d.Bh.Bh(E,E=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);d.Bh.azP(D[3],k);var j=d.A.S6(k);
j.G.push("M","L","M","L");j.j.push(0,b/2,b,b/2);j.j.push(b/2,0,b/2,b);j=d.A.Ow(j);j=d.A.Kn(j,b/5);d.My.u(D,j.j,k);
d.A.u(j.j,new jr(1,0,0,1,Math.floor(8*v.k1())+.5,Math.floor(3*v.k1())+.5),j.j);Z.beginPath();Typr.U.pathToContext({cmds:j.G,crds:j.j},Z);
Z.stroke();Z.fillText(e,Math.floor(40*v.k1()),Math.floor(16*v.k1()));H=fd.a5H[p]=X.toDataURL();return H};
fd.prototype.PA=function(E){if(v.Qj(this.Hi.n))return;E.stopPropagation();var y=this.Rg,c=this.ago;for(var N=0;
N<this.wx.length;N++)this.ae[N]=fd.abM(this.wx[N],y,c);this.cE.jA(this.ae,null,y,c);var e=this.d.getBoundingClientRect(),p=new iU(S.E.M,!0);
p.data={d:S.H.rt,T_:this.Hi,x:e.left,y:e.top+e.height+4};this.T(p)};fd.prototype.aql=function(E){var y=new iU(S.E.M,!0);
y.data={d:S.H.Oy,T_:this.Hi};this.T(y);this.ke=E.target.h()[0];this.Wz();this.T(new iU(S.E.p))};fd.prototype.Wz=function(){var E=this.Rg,y=this.ago;
this.cE.c([this.ke]);this.d.innerHTML="<img src=\""+fd.abM(this.wx[this.ke],E,y)+"\" class=\"gsicon\" />";
v.A3(this.d.firstChild,E,y)};fd.prototype.h=function(){return this.wx[this.ke]};fd.prototype.c=function(E){this.ke=this.wx.indexOf(E);
this.Wz()};function f4(E,y,c){dT.call(this);if(E==null)E=!1;if(y==null)y=!1;if(c==null)c=!1;this.adT=y;
this.Bh=null;this.KG=new fd([12,22],c);this.KG.parent=this;this.KG.k(S.E.p,this.C7,this);this.pT=new a_([22,0],[[22,4,0],[22,4,1]]);
this.pT.k(S.E.p,this.C7,this);var e=E?jm:dX;this.EB=new e([22,1],-100,100,"%");this.CF=new e("Horizontal Distortion:",-100,100,"%");
this.R$=new e("Vertical Distortion:",-100,100,"%");this.EB.parent=this.CF.parent=this.R$.parent=this;
this.EB.k(S.E.p,this.C7,this);this.CF.k(S.E.p,this.C7,this);this.R$.k(S.E.p,this.C7,this)}f4.prototype=new dT;
f4.prototype._=function(){this.KG._();this.pT._();this.EB._();var E=this.adT?1:100;this.CF.WO(i4.get([22,2]).substring(0,E)+":");
this.R$.WO(i4.get([22,3]).substring(0,E)+":")};f4.prototype.C7=function(){var E=this.Bh,y=this.KG.h(),c=E.warpStyle.v.warpStyle;
if(y=="warpCustom")d.Bh.ta(E,d.Bh.lq(E));else delete E.customEnvelopeWarp;E.warpStyle.v.warpStyle=this.KG.h();
E.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.pT.h()];var e=this.EB.h();E.warpPerspective.v=this.CF.h();E.warpPerspectiveOther.v=this.R$.h();
if(y=="warpNone"||y=="warpCustom"){e=0;E.warpPerspective.v=0;E.warpPerspectiveOther.v=0}else if(c=="warpNone"||c=="warpCustom"||c=="warpCylinder")e=50;
if(y!="warpCylinder"){E.warpValue={t:"doub",v:e};delete E.warpValues}else{E.warpValues=F.Y.Zd([0,100,100,0,.15,.2,1]);
delete E.warpValue}this.T(new iU(S.E.p,!1));this.c(E)};f4.prototype.h=function(E){return JSON.parse(JSON.stringify(this.Bh))};
f4.prototype.c=function(E){this.Bh=JSON.parse(JSON.stringify(E));var y=E.warpStyle.v.warpStyle,c=y=="warpNone"||y=="warpCustom"||y=="warpCylinder";
this.KG.c(y);if(!c){this.pT.c(E.warpRotate.v.Ornt=="Hrzn"?0:1);this.EB.c(E.warpValue.v);this.CF.c(E.warpPerspective.v);
this.R$.c(E.warpPerspectiveOther.v)}var e=[this.pT,this.EB,this.CF,this.R$];for(var N=0;N<e.length;N++)if(c)e[N].Cp();
else e[N].fh()};function cP(E){dT.call(this);this.Db={};this.n=v.t("div");this.FW=E;this.x_=null;this.r1=new eq(0,0);
this.Y6="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.mM=null;this.cb=new v.m_(this.n);
this._q("grab");this.V$=v.t("canvas","canv");this.n.appendChild(this.V$);this.kA=this.V$.getContext("2d",{willReadFrequently:!0});
this.a0N=null;this.sP=null;this.kO=null;this.bU=0;this.ayC=0;this.o8=0;this.t$=0;this.a1u=this.a13.bind(this);
this.a4c=null;this.Q=new ba({m:1,e:1});this.YP=null;this.lk=null;this.rY=[];this.atB=0;this.tG=0;this.aAO=this.Lz.bind(this);
this.aal=this.Xo.bind(this);this.ah1=this.P6.bind(this);this.akr=this.lc.bind(this);this.asU=0;this.vz=null;
this.awK(this.V$);this.nc(this)}cP.prototype=new dT;cP.prototype.apo=function(E){this.Db=E;this.Ur()};
cP.od=function(E){var y=new ct(!0);if(E>=0)y.Ov("Space");if(E>=1){y.Ov("ControlLeft");if(E==2)y.Ov("AltLeft")}return y};
cP.prototype.Gu=function(E){var y=this.mM,c=null;if(E.S(ct.TV)){c="grab";if(E.S(ct.Nc)){c="zoom-in";
if(E.S(ct.Q3))c="zoom-out"}}this.x_=c;if(c)y=c;this.cb.Xy(y,this.Y6);if(E.S(ct.Nc)){var e=0;if(E.S(ct.yH))e=1;
if(E.S(ct.Kj))e=-1;if(e!=0){this.X_(new eq(this.V$.width/2,this.V$.height/2),e==1)}}};cP.prototype._q=function(E){this.mM=E;
if(this.x_)return;this.cb.Xy(E,this.Y6)};cP.prototype.awK=function(E){v.Qp(E,this.aAO);v._N(E);E.addEventListener("wheel",this.akr,!1)};
cP.prototype.nc=function(E){E.k("viewchange",this.adR,this)};cP.prototype.adR=function(E){var y=this.Q.O,c=E.currentTarget.Cj();
this.Q.O=c.O;this.Q.z=c.z.clone();if(y!=c.O)this.LS();this.Ur()};cP.prototype.Cj=function(){return{O:this.Q.O,z:this.Q.z}};
cP.prototype.c=function(E,y,c,e){var p=E[0].Yu;if(this.sP!=null&&this.sP[0].Yu.rT(p)){}else{this.Q.cX={m:p.m,e:p.e};
this.Q.O=1;this.Q.z=new eq(0,0)}this.sP=E;this.LS(e);this._w();this.bU=0;this.ayC=Date.now();this.o8=0;
this.t$=y==null?0:y;if(c)this.Db=c;this.a13()};cP.prototype.lc=function(E){E.preventDefault();if(E.deltaY==0||Date.now()-this.asU<100)return;
var y=v.RM(E);y.x=v.k1()*y.x;y.y=v.k1()*y.y;this.asU=Date.now();this.X_(y,E.deltaY<0)};cP.prototype.X_=function(E,y){F.tg.di(this.Q,E,y);
this.ao3()};cP.prototype.eu=function(E){var y=this.Q,c=y.cX;this.Q.O=F.tg.HK(c.m,c.e,y.tP.m,y.tP.e);
if(E)this.Q.z=new eq(0,0);this.ao3()};cP.prototype.ao3=function(){this.LS();this.T(new iU("viewchange"));
this.T(new iU("zoom"))};cP.prototype.LS=function(E){var y=this.kO;this.kO=[];var c=this.Q.O;if(this.sP==null)return;
if(E){var e=d.Fz(c),p=1;for(var H=0;H<e.length;H++)p*=e[H];var Z=E.x,X=E.y,b=Z+E.m,k=X+E.e;Z=Math.floor(Z/p)*p;
b=Math.ceil(b/p)*p;X=Math.floor(X/p)*p;k=Math.ceil(k/p)*p;E=new ir(Z,X,b-Z,k-X)}for(var N=0;N<this.sP.length;
N++){var D=this.sP[N],j=new Uint8Array(D.data),g;if(c>=1)g={bb:j,rect:D.Yu};else{if(y&&y[N]&&E){var R=d.R(E.P()*4);
d.E6(j,D.Yu,R,E);var t=d.K4(R,E,c),w=t.rect;w.x=Math.floor(w.x*c);w.y=Math.floor(w.y*c);g=y[N];d.E6(t.bb,t.rect,g.bb,g.rect)}else g=d.K4(j,D.Yu,c)}this.kO[N]=g}};
cP.prototype._w=function(){clearTimeout(this.a4c)};cP.prototype.Ur=function(){if(this.sP==null||!v.Qj(this.V$))return;
var E=this.a0N,y=this.V$.width,c=this.V$.height,t,w;if(E==null||E.width!=y||E.height!=c){E=this.a0N=this.kA.createImageData(y,c);
console.log("creating image data")}var e=this.sP[this.bU],p=this.kO[this.bU],H=this.Q,Z=H.cX,X=H.tP,b=X.m,k=X.e,D=Z.m*H.O,j=Z.e*H.O,g=Math.round((b-D)/2+H.z.x),R=Math.round((k-j)/2+H.z.y);
if(H.O<=1){w=p.rect.clone();w.x=g;w.y=R;D=w.m;j=w.e;t=p.bb}else{var B=1/H.O,$=new ir(Math.floor((X.x-g)*B),Math.floor((X.y-R)*B),Math.ceil(X.m*B)+1,Math.ceil(X.e*B)+1),o=new ir(0,0,$.m*H.O,$.e*H.O);
o.x=$.x*H.O+g;o.y=$.y*H.O+R;if(H.Vb==null||H.Vb.length!=$.P()*4){H.Vb=d.R($.P()*4)}if(H.ay==null||H.ay.length!=o.P()*4){H.ay=d.R(o.P()*4)}d.KT(H.Vb,0);
d.E6(p.bb,p.rect,H.Vb,$);d.scale.JQ(H.Vb,$.m,$.e,H.ay,o.m,o.e,H.O);t=H.ay;w=o}var T=new Uint8Array(E.data.buffer);
d.o2(T,b,k,8,-g,-R);d.l.Io("norm",t,w,T,X,X,1);var i=this.kA;i.setTransform(1,0,0,1,0,0);i.putImageData(E,0,0);
i.clearRect(g-4e3,R,4e3,j);i.clearRect(g+D,R,4e3,j);i.clearRect(g-4e3,R-4e3,D+8e3,4e3);i.clearRect(g-4e3,R+j,D+8e3,4e3);
var r=cP.adc(H.O,"#ffffff");i.putImageData(r,0,H.tP.e-r.height);var I=this.Db,H=this.Q;if(I){var M=fw.jW([.1,.5,1,1]),J=fw.jW([1,0,0,1]),P=fw.jW([1,1,1,1]),n=fw.jW([0,0,0,1]),x=H.GM(!1);
x.Ub();i.save();i.setTransform(x.U,x.J,x.E7,x.sN,x.Kc,x.Dm);i.strokeStyle=J;if(I.axH){fw.tE(I.axH,null,i);
i.lineWidth=1/H.O;i.stroke()}i.strokeStyle=P;if(I.a5w){fw.tE(I.a5w,null,i);i.lineWidth=1/H.O;i.stroke();
i.strokeStyle=n;i.setLineDash([4/H.O,4/H.O]);i.stroke();i.setLineDash([])}i.strokeStyle=M;i.fillStyle=fw.jW([1,1,1,1]);
if(I.Aq){fw.tE(I.Aq,null,i);i.lineWidth=1/H.O;i.stroke()}if(I.AX){fw.J5(I.AX,i,H,.5);i.lineWidth=2/H.O;
i.stroke();i.fill()}if(I.zY){i.font=16/H.O+"px sans-serif";var L=1/H.O;for(var N=0;N<I.zY.length;N++){var u=I.zY[N],C=u[0],h=u[1]+6/H.O,A=u[2];
i.fillStyle="black";i.fillText(A,C-L,h);i.fillText(A,C+L,h);i.fillStyle="white";i.fillText(A,C,h)}}i.restore()}i.getImageData(0,0,1,1)};
cP.agH="";cP.ay2=null;cP.adc=function(E,y,c,e){if(c==null){c=0;e=0}var p=c+" \xD7 "+e,H="z"+E+","+y+","+c+","+e;
if(H==cP.agH)return cP.ay2;var Z=Math.round(50*v.k1()),X=Math.round(18*v.k1()),b=c==0?0:Math.round((p.length+2)*X*.35),k=v.t("canvas"),D=k.getContext("2d");
k.width=Z+b;k.height=X;D.fillStyle="rgba(1,1,1,1)";D.fillRect(0,0,Z,X);if(c!=0)D.fillRect(Z+2,0,b,X);
D.font=Math.round(11*v.k1())+"px monospace";D.fillStyle=y;var g=E*100;if(g<100)g=g.toFixed(2);else g=Math.round(g);
g=g+"%";var R=D.measureText(g).width;D.fillText(g,(Z-R)/2,Math.round(X*.7));if(c!=0){var t=D.measureText(p).width;
D.fillText(p,Z+(b-t)/2+1,Math.round(X*.7))}var w=D.getImageData(0,0,Z+b,X);cP.agH=H;cP.ay2=w;return w};
cP.prototype.a13=function(){var E=this.sP,y=E.length,c=this.bU,e=this.sP[c],p=(c+1)%y;this.Ur();var H=Date.now();
if(y!=1&&E[p].Yu.rT(e.Yu)){var Z=e.do?parseInt(e.do.split(",").pop()):30;if(Z==0)Z=16;if(p==0)this.o8++;
if(this.t$==0||this.o8<this.t$)this.a4c=setTimeout(this.a1u,Z)}this.bU=p;this.ayC=H};cP.prototype.Cl=function(E,y){if(E<=0||y<=0)return;
var c=Math.floor(E*v.k1()),e=Math.floor(y*v.k1());this.Q.tP=new ir(0,0,c,e);this.V$.width=c;this.V$.height=e;
this.V$.setAttribute("style","width:"+c/v.k1()+"px; height:"+e/v.k1()+"px; display:block;");this.Ur()};
cP.prototype.ea=function(E){var y=-1,c=this.rY;for(var N=0;N<c.length;N++)if(c[N].pointerId==E.pointerId)y=N;
return y};cP.prototype.Lz=function(E){var y=this.ea(E),c=this.rY;if(y!=-1)c[y]=E;else c.push(E);if(c.length==1){this.vz=E.target;
v.FY(window,this.aal);v.Fo(window,this.ah1);this.YP=v.RM(E,this.V$);this.YP.x*=v.k1();this.YP.y*=v.k1();
this.r1=this.YP;this.lk=this.Q.z.clone();if(this.FW&&this.vz==this.V$&&!this.x_)this.T(new iU("mousedown"))}else this.atB=this.tG=eq.oG(v.RM(c[0],this.V$),v.RM(c[1],this.V$))};
cP.prototype.Xo=function(E){var y=this.ea(E),c=this.rY;if(y!=-1)c[y]=E;var e=this.Q,p=this.x_,H=this.sP[this.bU].Yu.clone();
H.m*=e.O;H.e*=e.O;var Z=v.RM(E,this.V$);Z.x*=v.k1();Z.y*=v.k1();this.r1=Z;if(this.FW&&this.vz==this.V$&&!p)this.T(new iU("mousemove"));
else if(p=="grab"||p==null){if(c.length>1){var X=v.RM(c[0],this.V$),b=v.RM(c[1],this.V$),k=new eq(v.k1()*(X.x+b.x)/2,v.k1()*(X.y+b.y)/2),D=eq.oG(X,b),j=null;
if(D>this.tG+50){this.tG+=50;j=!0}if(D<this.tG-50){this.tG-=50;j=!1}if(j!=null)this.X_(k,j);return}else{var g=Z.x-this.YP.x,R=Z.y-this.YP.y;
e.z.x=this.lk.x+Math.round(g);e.z.y=this.lk.y+Math.round(R)}this.T(new iU("viewchange"))}};cP.prototype.P6=function(E){var y=this.ea(E),c=this.rY;
c.splice(y,1);if(c.length==0){v.Ci(window,this.aal);v.QM(window,this.ah1);var e=this.x_;if(E.detail>1){this.Q.O=1;
this.Q.z.tW(0,0);this.Ur()}if(this.FW&&this.vz==this.V$&&!this.x_)this.T(new iU("mouseup"));else{if(e=="zoom-in"||e=="zoom-out")this.X_(this.r1,e=="zoom-in")}}else{var p=this.YP=v.RM(c[0],this.V$);
p.x*=v.k1();p.y*=v.k1()}};cP.prototype.m3=function(E){var y=this.r1;if(E){y=v.RM(E,this.V$);y.x*=v.k1();
y.y*=v.k1()}return this.Q.GV(y.x,y.y)};function jy(){dT.call(this);this.AK=null;this.Tz=null;this.gF=null;
this.ab=null;this.aA_="";this.wa=[];this.CB=0;this.Vk=[];this.gx=0;this.P0=null;var E=this.n=v.t("div",""),y=this.a8g=v.t("div","form");
y.setAttribute("style","line-height:0; margin-bottom:0.5em;");E.appendChild(y);var c=this.vC=v.t("span");
y.appendChild(c);c.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var e=this.agw=new b8([25,2,0]);
e.c(!0);y.appendChild(e.n);e.k(S.E.p,this.VX,this);var p=this.x2=new b8([25,2,1]);p.c(!0);y.appendChild(p.n);
p.k(S.E.p,this.VX,this);var H=new bU(" ");y.appendChild(H.n);var Z=this.zz=new d3([25,1,1]);y.appendChild(Z.n);
Z.k(S.E.p,this.VX,this);this._2=new iz(14);this._2.a9I(3);y.appendChild(this._2.n);this._2.parent=this;
this._2.k(S.E.p,this.av9,this);var X=this.aiy=new fr([25,1,2],null,null,!0);y.appendChild(X.n);X.k("click",this.VP,this);
var b=new fr("?",null,null,!0);y.appendChild(b.n);b.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.aCg=this.ag_.bind(this);this.mJ=v.t("div","svggallery scrollable");E.appendChild(this.mJ);this.mJ.addEventListener("scroll",this.awb.bind(this))}jy.prototype=new dT;
jy.prototype.mh=function(E){this.aiz=E};jy.prototype._=function(){this.vC.textContent=i4.get([25,0]);
this._2._();this.agw._();this.x2._();this.zz._();this.aiy._()};jy.prototype.Cl=function(E,y){this.AK=new eq(E,y);
this.a8g.setAttribute("style","width:"+E+"px");var c=this.a8g.getBoundingClientRect();y-=c.height;this.mJ.setAttribute("style","width:"+E+"px; height:"+y+"px");
if(v.Qj(this.n))this.VX()};jy.prototype.c=function(E){this.Tz=E;this.VX()};jy.prototype.awb=function(E){var y=this.mJ;
if(y.scrollTop+y.clientHeight+10>=y.scrollHeight){this.VX(!0)}};jy.prototype.av9=function(E){this.gF=null;
this.VX()};jy.prototype.ag_=function(E){if(Date.now()-this.gx<2e3)return;this.gx=Date.now();this.CB=this.Vk.indexOf(E.currentTarget);
var y=this.LD(this.Tz.x,this.Tz.y);if(y[1]){var c=y[1].largeImageURL,e=new XMLHttpRequest;e.responseType="arraybuffer";
e.open("GET",c,!0);e.onload=this.auG.bind(this);e.send();return}this.aAx(y)};jy.prototype.auG=function(E){var y=E.target.response,c=iu.XS(y),e=iu.sF(c),p=e.cU(y),H=this.LD(this.Tz.x,this.Tz.y,[y,p[0].Yu.m,p[0].Yu.e]);
this.aAx(H)};jy.prototype.aAx=function(E){var y=E[0],c=iu.XS(y),e=iu.sF(c),p=new cc("template.psd");
e.cU(y,p);var H=new iU("tempready",!0);H.data={cX:p};this.T(H)};jy.prototype.VP=function(E){var y=E.target;
this.wa=[];this.gF=null;this.VX()};jy.prototype.acn=function(E){var y=JSON.parse(E.target.response),c=this.ab=y.hits;
for(var N=0;N<c.length;N++)if(c[N].user_id==6314823)c.splice(N,1);this.VX()};jy.prototype.VX=function(E){if(this.Tz==null||this.AK==null||this.aiz==null)return;
if(this.AK.x<=0)return;var y=this.Tz.x,c=this.Tz.y;if(Math.min(y,c)<50)return;if(E!=!0){this.Vk=[];v.Vz(this.mJ);
this.mJ.scrollTop=0}if(this.Vk.length>300)return;var e=Math.min(1,300/Math.max(y,c)),p=this.AK.clone();
p.x-=20;var H=Math.max(1,Math.floor(p.x/(y*e))),Z=Math.max(1,Math.ceil(p.y/(c*e)));e=p.x/H/y;var X=H*Z;
if(this.gF==null){var b=this.aiz.UG.tA(),k=[];for(var D in b){var j=b[D],g=j[3];if(!this._2.xe(j))continue;
if(j[5]==null||j[5].slice(0,2)=="gf")continue;k.push(j)}if(k.length==0)k.push(b.DejaVuSans);var R=k.length;
for(var N=0;N<R*10;N++){var t=Math.floor(Math.random()*R),w=Math.floor(Math.random()*R),B=k[t];k[t]=k[w];
k[w]=B}k=k.slice(0,10);this.gF=k}var $=this.x2.h(),o=this.zz.h().trim();this.zz.U0($);if($&&(this.ab==null||o!=this.aA_)){var T=new XMLHttpRequest,i="https://pixabay.com/api/?image_type=photo"+(o==""?"":"&q="+encodeURIComponent(o))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(o=="")i="plugins/gallery.json";T.open("GET",i,!0);T.onload=this.acn.bind(this);T.onerror=function(n){console.log(n.target.response)};
T.send();this.aA_=o;return}e*=(y*e-5)/(y*e);var r=this.Vk.length;for(var N=0;N<X;N++){var I=this.CB=r+N;
if(this.wa[I]==null)this.wa[I]=Math.floor(Math.random()*4294967295);var M=this.LD(Math.round(y*e),Math.round(c*e)),J=M[0];
J=_.Uw(new Uint8Array(J));var P=v.t("span");P.innerHTML=J;this.Vk.push(P);this.mJ.appendChild(P);P.addEventListener("click",this.aCg,!1)}};
jy.prototype.LD=function(E,y,c){var e=this.x2.h(),p=this.agw.h(),H=e&&this.ab.length!=0?this.ab:null;
if(p&&!e)H=null;if(p&&e&&(this.CB&1)==0)H=null;return iD.M1(E,y,this.wa[this.CB],this.gF,c?c:H)};function aU(){dT.call(this);
this.n=v.t("div");this.Zb=null;this.ahy=null;this.LZ=-1;this.g_={JPG:[{i0:new dX([12,52,0],0,100,"%",null,null,!0),aX:70},{i0:new b8("attach metadata"),aX:!1}],TIFF:[{i0:new b8("attach metadata"),aX:!1}],WEBP:[{i0:new dX([12,52,0],0,100,"%",null,null,!0),aX:70},{i0:new b8("attach metadata"),aX:!1}],GIF:[{i0:new dX([12,52,0],0,100,"%",null,null,!0),aX:100},{i0:new b8([12,23,3]),aX:!1}],PNG:[{i0:new dX([12,52,0],0,100,"%",null,null,!0),aX:100},{i0:new b8("don't use palettes"),aX:!1}],BMP:[{i0:new b8("don't use palettes"),aX:!1}],PDF:[{i0:new d3([12,52,1]),aX:""},{i0:new dX([12,52,0],0,100,"%",null,null,!0),aX:100},{i0:new b8("reverse pages"),aX:!1},{i0:new b8("rasterize all"),aX:!1},{i0:new b8("vectorize text"),aX:!1},{i0:new dX("Add Margin",0,5,"in",2),aX:0},{i0:new b8("add crop marks"),aX:!1}],EMF:[{i0:new d3([12,52,1]),aX:""},{i0:new dX([12,52,0],0,100,"%",null,null,!0),aX:100},{i0:new b8("reverse pages"),aX:!1},{i0:new b8("rasterize all"),aX:!1},{i0:new b8("vectorize text"),aX:!1},{i0:new dX("Add Margin",0,5,"in",2),aX:0}],SVG:[{i0:new b8("add raster graphics"),aX:!0},{i0:new b8("add hidden layers"),aX:!1},{i0:new b8("vectorize text"),aX:!1},{i0:new b8("rasterize text"),aX:!1},{i0:new b8("minify"),aX:!1}],RAW:[{i0:new aN([12,72],["1","3","4"]),aX:2},{i0:new aN([12,34],["8 Bits","16 Bits"]),aX:0},{i0:new aN("Byte Order",["12-34","34-12"]),aX:0}],DDS:[{i0:new a_("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),aX:0},{i0:new b8("Add Mipmaps"),aX:!0}],MP4:[{i0:new dX([12,52,0],0,100,"%",null,null,!0),aX:50}],anim:[{i0:new dX("Speed",10,1e3,"%",null,!0,!0),aX:100},{i0:new jm("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),aX:0},{i0:new b8("reverse frames"),aX:!1},{i0:new b8("boomerang"),aX:!1}],slcs:[{i0:new b8([8,11,0]),aX:!0}],artb:[{i0:new b8([1,16,1]),aX:!0}],hicc:[{i0:new b8("convert to sRGB"),aX:!0}]};
for(var E in this.g_){var y=this.g_[E];for(var N=0;N<y.length;N++){y[N].i0.c(y[N].aX);y[N].i0.k(S.E.p,this.e0,this)}}}aU.prototype=new dT;
aU.prototype.auv=function(){this.LZ=-1};aU.prototype._=function(){for(var E in this.g_)for(var N=0;N<this.g_[E].length;
N++)this.g_[E][N].i0._()};aU.prototype.e0=function(){this.VX();this.T(new iU(S.E.p,!1))};aU.prototype.VX=function(){var E=this.Zb,y=E[0],c=E[1],e=E[2],p=E[3],H=E[4],Z=this.g_[y];
if(Z==null)Z=[];else Z=Z.slice(0);if(c)Z=Z.concat(this.g_.anim);if(["GIF","PNG","JPG"].indexOf(y)!=-1&&e)Z=Z.concat(this.g_.slcs);
else if(["GIF","PNG","JPG","SVG"].indexOf(y)!=-1&&p)Z=Z.concat(this.g_.artb);if(H)Z=Z.concat(this.g_.hicc);
var X=E.join(",");if(X!=this.LZ){this.LZ=X;v.Vz(this.n);for(var N=0;N<Z.length;N++){if(y=="PDF"&&!p&&(N==0||N==2))continue;
this.n.appendChild(Z[N].i0.n);v.vY(this.n)}}var b=this.ahy=[];for(var N=0;N<Z.length;N++)b.push(Z[N].i0.h())};
aU.prototype.HD=function(E,y,c,e,p){this.Zb=[E,y,c,e,p];this.VX()};aU.prototype.h=function(){return this.ahy.slice(0)};
aU.prototype.c=function(E,y){var c=this.Zb,e=c[0],p=this.g_[e],H=Math.min(p.length,E.length);for(var N=0;
N<H;N++)p[N].i0.c(E[N]);this.VX();if(y!=!0)this.e0()};function ee(){dT.call(this);this.n=v.t("span","fitem");
this.nn=!1;this.Ad=new fr("No",!1,"Cancel");this.JL=new fr("Yes",!1,"Confirm");this.n.appendChild(this.Ad.n);
this.n.appendChild(this.JL.n);this.Ad.k("click",this.mo,this);this.JL.k("click",this.mo,this);this._()}ee.prototype=new dT;
ee.prototype._=function(){this.Ad.WO(v.IU("cross",null,"autoscale"));this.JL.WO(v.IU("checkmark",null,"autoscale"))};
ee.prototype.mo=function(E){this.nn=E.target==this.JL;this.T(new UIEvent("click"))};ee.prototype.h=function(){return this.nn};
function kH(E){dT.call(this);this.n=v.t("span","fitem");this.AA=new fr("\u25BC",null,"Auto Options",!0);
v.Qp(this.AA.n,this.a1I.bind(this));this.n.appendChild(this.AA.n);this.Xh=new fr("Auto",null,null,!0);
this.Xh.k("click",this.YZ,this);this.n.appendChild(this.Xh.n);this.n2=new hS("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.n2.k(S.E.p,this.YZ,this);this.n2.c([!1,!1,!1,!0]);this.Hi=new dT;var y=this.Hi.n=v.t("div","floatcont form");
y.setAttribute("style","width: 250px;");this.Hi.parent=this;y.appendChild(this.n2.n);this.bf=[];for(var N=0;
N<2;N++){var c=new jm((N==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);c.c(.1);c.k(S.E.p,this.YZ,this);
this.bf.push(c);y.appendChild(c.n)}}kH.prototype=new dT;kH.prototype.YZ=function(E){this.T(new iU(S.E.p,!1))};
kH.prototype._=function(){};kH.prototype.h=function(){return[this.n2.h().indexOf(!0),this.bf[0].h(),this.bf[1].h()]};
kH.prototype.a1I=function(E){if(v.Qj(this.Hi.n))return;E.stopPropagation();var y=this.AA.n.getBoundingClientRect(),c=new iU(S.E.M,!0);
c.data={d:S.H.rt,T_:this.Hi,x:y.left,y:y.top+y.height+4};this.T(c)};function bi(){dT.call(this);var E=this.n=v.t("div","fitem");
this.wF=new a_([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.wF.k(S.E.p,this.bw,this);E.appendChild(this.wF.n);
this.cJ=new eX(!1);this.cJ.parent=this;this.cJ.Gd(16777215);this.cJ.k(S.E.p,this.bw,this);E.appendChild(this.cJ.n)}bi.prototype=new dT;
bi.prototype._=function(){this.wF._();this.cJ._()};bi.prototype.agJ=function(E){var y=[E.artboardBackgroundType.v-1];
if(E.Clr)y.push(E.Clr.v);this.c(y)};bi.prototype.aqr=function(){var E=this.h();return{classID:"artboard",Clr:{t:"Objc",v:E[1]},artboardBackgroundType:{t:"long",v:E[0]+1}}};
bi.prototype.c=function(E){this.wF.c(E[0]);if(E[1])this.cJ.c(E[1])};bi.prototype.h=function(){return[this.wF.h(),this.cJ.h()]};
bi.prototype.bw=function(E){if(E.target==this.cJ)this.wF.c(3);this.T(new iU(S.E.p,!1))};function h3(E){dT.call(this);
this.qi=E;this.asS=0;this.asZ=!1;this.Ep=E?new h3.mI:null;this.n=v.t("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.fl=v.t("div");this.n.appendChild(this.fl);this.CU=v.t("div");this.n.appendChild(this.CU);this.kx=[];
var y=Storage.list.length;if(E)y=y+1+h3.ML.length;var c=this.Eh.bind(this);for(var N=0;N<y;N++){var e=v.t("div");
this.kx.push(e);this.fl.appendChild(e);e.addEventListener("click",c,!1)}this.Eh(null,0)}h3.prototype=new dT;
h3.yB=[];h3.dF=function(E){h3.yB.push(E);E.HB()};h3.fq=function(){var E=h3.yB;E.pop();E[E.length-1].HB()};
h3.prototype.HB=function(){this.Eh(null,this.asS)};h3.prototype.mh=function(E,y){if(!E.ga&&!this.asZ){var c=this.qi?2:1;
for(var N=c;N<this.kx.length;N++)this.fl.removeChild(this.kx[N]);this.asZ=!0;if(this.qi)this.Ep.mh(E,y)}if(this.B$)this.B$.mh(E,y)};
h3.prototype._=function(){if(this.qi)this.Ep._();if(this.B$)this.B$._()};h3.prototype.Eh=function(E,y){var c=this.kx,e;
if(y==null)y=c.indexOf(E.currentTarget);this.asS=y;for(var N=0;N<c.length;N++)v.yo(c[N],"active");v.Jn(c[y],"active");
if(this.qi)y--;v.Vz(this.CU);var p=Storage.list.length;if(y==-1)e=this.Ep;else if(y<p)e=Storage.Ky(y);
else{var H=h3.ML[y-p];e=new h3.Gr(H[1])}this.B$=e;e.parent=this;this.CU.appendChild(e.n);this.Cl(this.Pf,this.T4);
this._()};h3.prototype.Cl=function(E,y){this.Pf=E;this.T4=y;var c=E<850,e=c?50:200,p=Storage.list;if(this.qi)p=[["Home",null,"strg/home"]].concat(p.concat(h3.ML));
for(var N=0;N<p.length;N++){var H=this.kx[N],Z="padding: 8px "+(c?13:36)+"px; cursor:pointer;";H.setAttribute("style",Z);
var X=p[N][2],b=X.indexOf(".")!=-1;X=b?X:PIMG[X];H.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\""+(b?"":"gsicon")+"\" src=\""+X+"\" /> "+(c?"":p[N][0])}this.n.style.width=E+"px";
this.n.style.height=y+"px";this.fl.style.width=e+"px";this.fl.style.paddingTop="32px";if(this.B$)this.B$.Cl(E-e,y)};
h3.ML=[["Design contest","code/storages/wows.html","img/wows_logo.png",!0,"Join the contenst!",1686144664]];
for(var N=0;N<h3.ML.length;N++)if(h3.ML[N][5]*1e3<Date.now()){h3.ML.splice(N,1);N--}h3.mI=function(){this._m=null;
var E=this.n=v.t("div");E.style.background="var(--bg-canvas)";var y=this.lQ=v.t("div");E.appendChild(y);
var c=v.t("style");E.appendChild(c);c.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var N=0;N<2;N++){var e=v.t("div"),c="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";y.appendChild(e);
if(N==0)c+="padding: 12px 0px";if(N==1)c+="position:absolute;  bottom:0;";e.setAttribute("style",c);
var p=v.t("img");e.appendChild(p);p.setAttribute("src",PIMG[N==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(N==0)this.or=p;else this.a2s=p;if(N==0)this.aak=e;else this.ajd=e}this.kx=[];c="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var H=this.eY.bind(this),Z=v.t("div");y.appendChild(Z);Z.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var N=0;N<4;N++){var X=v.t("span","bhover");this.kx.push(X);X.setAttribute("style",c+"cursor:pointer; padding:12px;");
X.addEventListener("click",H,!1);Z.appendChild(X)}v.vY(y);var e=v.t("div");e.setAttribute("style",c+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
e.textContent="Drop any files here";y.appendChild(e);this.V$=v.t("canvas");this.V$.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.kA=this.V$.getContext("2d");this.aaS=d.R(4);E.appendChild(this.V$);var b=new Date().getDate(),k=new Date().getMonth();
if(k==11&&b>20||k==0&&b<10){var D=Math.random()<.5,j={Z:255,D:255,J:255};if(!D){j=d.mf(Math.random(),Math.random()*.7,1);
j.Z*=255;j.D*=255;j.J*=255}this.pS=[Math.round(1048575*Math.random()),D?.05:.02,Math.round(4+Math.random()*8),1,D?3:15,j,0,!0,D,D?1:.2,3];
this.amI=D?.1:.2;this.AN=this.r8.bind(this);window.requestAnimationFrame(this.AN)}};h3.mI.prototype=new dT;
h3.mI.prototype.r8=function(){window.requestAnimationFrame(this.AN);if(!v.Qj(this.n))return;var E=this.aaS,y=this.V$,c=this.kA,e=y.width,p=y.height;
this.pS[6]=Date.now()*.001*this.amI;d.zv.Sw(E,e,p,this.pS,!0);c.putImageData(new ImageData(new Uint8ClampedArray(E.buffer),e,p),0,0)};
h3.mI.prototype.eY=function(E){var N=this.kx.indexOf(E.currentTarget),y=new iU(S.E.M,!0);if(N==0)y.data={d:S.H.Q5,ym:"newproject"};
if(N==1)y.data={d:S.H.uh};if(N==2)y.data={d:S.H.Q5,ym:"res0"};if(N==3)y.data={d:S.H.VF};this.T(y)};h3.mI.prototype._=function(){var E=this.kx,y=[[11,7],[1,6],[25,0],[0,17,6]],c=["\u2605","\uD83E\uDC7F","\u25A3"],c=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var N=0;N<E.length;N++)E[N].innerHTML="<span style=\"vertical-align:middle\">"+v.IU(c[N],null,"autoscale")+"</span>\u2000"+i4.get(y[N]);
var e="l"+"o"+"g"+"o",p=e+"_"+["pp","vp"][aw],H=new Date;if(H.getMonth()==3&&H.getDate()==1)p="lo"+"go_cuc"+"umber";
if(PIMG[e])p=e;this.or.setAttribute("src",PIMG[p]);this.a2s.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
h3.mI.prototype.Cl=function(E,y){var c=Math.min(y*1.5,Math.min(E,600));v.Uh(this.V$,E,c*.26);var e=this.V$.width,p=this.V$.height;
this.aaS=d.R(e*p*4);this.n.style.width=E+"px";this.n.style.height=y+"px";this.ajd.style.width=E+"px";
this.lQ.style.marginLeft=Math.max(0,Math.round((E+200-600)/2)-200)+"px";this.or.style.width=c+"px";this.a2s.style.width=c+"px"};
h3.mI.prototype.mh=function(E,y){var c=E;if(E==null)E=this.P0;this.P0=E;if(!E.ga&&this.kx[2].parent){this.lQ.removeChild(this.kx[2]);
this.lQ.removeChild(this.kx[3])}this.kx[3].style.display=E.RA?"inline-block":"none";if(c)this._m=setTimeout(this.mh.bind(this),100)};
h3.Gr=function(E){var y=this.n=v.t("iframe");y.style.background="var(--bg-canvas)";y.setAttribute("src",E)};
h3.Gr.prototype=new dT;h3.Gr.prototype.Cl=function(E,y){var c=this.n;c.style.width=E+"px";c.style.height=y+"px"};
h3.Gr.prototype.mh=function(){};function Storage(E){dT.call(this);var y=this.n=v.t("div","storage");
v.VM(y);y.addEventListener("drop",this.afU.bind(this),!1);var c=this.asE=v.t("style");y.appendChild(c);
y.setAttribute("tabindex","0");y.style.outline="none";y.addEventListener("keydown",this.a4r.bind(this),!1);
this.ei=this.a2L.bind(this);this.lA=0;this.Lg=0;var e=v.t("div");y.appendChild(e);var p=this.adB.bind(this);
this.BQ=v.t("div","bar");e.appendChild(this.BQ);this.$B=v.t("div","fls scrollable");e.appendChild(this.$B);
this.s9=v.t("div");e.appendChild(this.s9);this.s9.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.TG=v.t("div","bar");this.TG.textContent="Name: ";var H=this.yA=v.t("input");H.setAttribute("type","text");
this.TG.appendChild(H);var Z=this.C8=v.t("div","btn");Z.textContent="Save";this.TG.appendChild(Z);v.Fo(Z,p);
v.Qp(this.$B,this.ei);this.j6=0;this.tm=E;var X=this.a7q.bind(this),b=this.akA=v.t("div");b.setAttribute("style","text-align:center; font-size:1.6em");
var k=v.t("img");b.appendChild(k);v.vY(b);k.setAttribute("src",PIMG[Storage.list[this.tm][2]]);k.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
v.Fo(k,X);this.d0=v.t("div","btn");b.appendChild(this.d0);v.Fo(this.d0,X);this.Oj=new el([{name:[6,20]},{name:[5,2],xu:[ct.Nc,ct.Wq],w:function(){return{w:Storage.pg!=null}}}]);
this.Oj.parent=this;this.Oj.k("select",this._8,this);this.$B.addEventListener("contextmenu",this.ei);
this.a7a=v.t("span");this.SQ=v.t("span");this.SQ.setAttribute("style","position:absolute; right:0; top:5px;");
this._6=[];this.zf=[];for(var N=0;N<3;N++){var D=v.t("div","btn");this._6.push(D);this.a7a.appendChild(D);
v.Fo(D,p);D.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][N]}for(var N=0;N<5;N++){var D=v.t("div","btn");
this.zf.push(D);this.SQ.appendChild(D);v.Fo(D,p)}window.addEventListener("message",this.a5u.bind(this),!1);
this.a4a=!1;this.tK=0;setInterval(this.aow.bind(this),300);this.zQ();var j=this.a5r=document.createElement("input");
j.setAttribute("type","file");j.addEventListener("change",this.afU.bind(this),!1);document.body.appendChild(j);
j.setAttribute("style","display:none");j.setAttribute("multiple","")}Storage.prototype=new dT;Storage.MJ=!1;
Storage.prototype.afU=function(E){E.stopPropagation();E.preventDefault();var y=E.dataTransfer?E.dataTransfer.files:E.target.files;
this.at1=y.length;Storage.pg={};for(var N=0;N<y.length;N++){var c=y[N],e=new FileReader;e.QK=c;e.onload=this.a21.bind(this);
e.readAsArrayBuffer(c)}};Storage.prototype.a21=function(E){var y=Storage.pg;y[E.target.QK.name]=E.target.result;
this.at1--;if(this.at1==0)this.m6()};Storage.prototype.mh=function(E,y){var c=Storage.list[this.tm][3],e=b4.Ez();
if(c){if(this.tK==1&&v.Qj(this.n)&&e!=null){this.zQ()}if(this.tK==2&&e==null){this.Vl("forget","")}}};
Storage.prototype.aow=function(){var E=v.Qj(this.n),y=this.a4a;if(E&&!y){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!E&&y){window.onpopstate=function(){};history.go(-1)}this.a4a=E};
Storage.prototype.zQ=function(){if(this.Xi)document.body.removeChild(this.Xi);this.EC=[[]];this.rI=0;
this.a8f={"/":[]};this.awS="";this.et=null;this.oo=[];this.kE=[];this.auf=[];this.amc=null;var E="code/storages/"+Storage.list[this.tm][1],y=this.Xi=v.t("iframe");
y.setAttribute("src",E);y.setAttribute("style","display:none");document.body.appendChild(y)};Storage.prototype.TR=function(){return this.a8f[this.Qu()]};
Storage.prototype.Q_=function(E){this.a8f[this.Qu()]=E};Storage.Ky=function(N){var E=Storage.zE[N];if(E==null)E=Storage.zE[N]=new Storage(N);
return E};Storage.zE=[];Storage.KE=0;Storage.avD="";Storage.vR=function(E,y){Storage.KE=E;Storage.avD=y;
var c=Storage.zE;for(var N=0;N<c.length;N++)if(c[N])c[N].HB()};Storage.als=[500*(1<<20),5e3*(1<<20)];
Storage.GU=0;Storage.IA=2;Storage.QG=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.amf=function(E){for(var N=0;N<Storage.zE.length;N++){if(Storage.zE[N]&&Storage.zE[N].Xi.contentWindow==E)return!0}return!1};
Storage.prototype.a4r=function(E){if(E.target.tagName=="INPUT")return;var y=ct;if(y.ku(E.code,y.OA)&&this.Qu().length!=0)this.air();
else if(E.ctrlKey){if(y.ku(E.code,y.H)){var c=[];this.Q_(c);for(var N=0;N<this.et.length;N++)c.push(N);
this.Yq()}if(y.ku(E.code,y.qd))this.iE(2);if(y.ku(E.code,y.Wq))this.m6()}else if(y.ku(E.code,y.qy)){var e=this.TR();
if(e.length!=0)this.acC(e[0])}else if(y.ku(E.code,y.hy)){this.rI=Math.max(this.rI-1,0);this.Xx()}else{var p=0;
for(var N=65;N<=90;N++)if(E.code=="Key"+String.fromCharCode(N))p=N;if(p!=0){var H=String.fromCharCode(p).toLowerCase(),Z=[],X=this.et,b;
for(var N=0;N<X.length;N++)if(X[N][0][0].toLowerCase()==H)Z.push(N);if(Z.length==0)return;var e=this.TR();
if(e.length==0)b=Z[0];else{var k=Z.indexOf(e[0]);if(k==-1){b=Z[0];for(var N=0;N<Z.length;N++)if(Z[N]>e[0]){b=Z[N];
break}}else b=Z[(k+1)%Z.length]}this.Q_([b]);this.Yq(!0)}}};Storage.prototype.Cl=function(E,y){this.Pf=E;
this.T4=y;this.n.style.width=E+"px";this.n.style.height=y+"px";var c=E-30,e=Math.floor(c/230),c=Math.floor(c/e)-70;
this.asE.textContent=".storage .tile .name {  width:"+c+"px;  }";this.yA.style.width=E-140+"px";this.$B.style.width=this.BQ.style.width=E-20+"px";
this.$B.style.height=y-70-(Storage.KE==0?0:45)+"px"};Storage.prototype.a7q=function(){this.Xx()};Storage.prototype.Xx=function(){var E=this.tm,y="____strg"+E;
if(window[y]==null){b4.event("strg_"+Storage.list[E][0]);window[y]=!0}this.Lg=1;this.Vl("show",this.Qu())};
Storage.prototype.Qu=function(E){var y=this.EC[this.rI],c="/"+y.join("/");if(E&&y.length!=0)c+="/";return c};
Storage.prototype.adB=function(E){var y=E.currentTarget,c=this.rI,e=this._6.indexOf(y),p=this.zf.indexOf(y);
if(e>=0&&!this.akK(e))return;if(e==0){this.rI=Math.max(c-1,0);this.Xx()}if(e==1){this.rI=Math.min(c+1,this.EC.length-1);
this.Xx()}if(e==2){var H=this.EC[c+1]=this.EC[c].slice(0);H.pop();this.rI++;this.EC=this.EC.slice(0,this.rI+1);
this.Xx()}if(p==0){var Z=document.createEvent("MouseEvents");Z.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.a5r.dispatchEvent(Z)}if(p==1){Storage.GU=(Storage.GU+1)%2;this.HB()}if(p==2){Storage.IA=(Storage.IA+1)%3;
this.HB()}if(p==3){Storage.QG=(Storage.QG+1)%3;this.HB()}if(p==4){this.Vl("forget","")}if(y==this.C8){var X=this.yA.value.trim(),b=this.et,k=-1;
if(!X.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var N=0;
N<b.length;N++)if(b[N][0]==X)k=N;if(k!=-1){this.i2("Do you really want to replace \""+X+"\"?",this.aDA.bind(this))}else this.aDA()}};
Storage.prototype.aDA=function(){var E=this.yA.value.trim(),y=[this.tm,this.Qu(!0)+E];this.fV({d:S.H.a2u,Ra:y});
this.T(new iU("canclose",!0))};Storage.prototype.m6=function(){if(Storage.pg==null)return;this.fV({d:S.H.cL,SJ:i4.get("Uploading ...")});
this.lA=4;b$.Ky(2,this.Xi,[this.Qu(),Storage.pg,this.et],null,this.aDk.bind(this))};Storage.prototype.aDk=function(E){this.lA=0;
this.fV({d:S.H.B7,SJ:i4.get("Uploading ...")});this.Xx()};Storage.prototype._8=function(E){var y=E.target.hD();
if(E.target==this.Oj){if(y[0]==0){var c=[i4.get([6,20]),-1,0];this.et.push(c);this.HB();var N=this.et.indexOf(c),e=this.oo[N].querySelector(".name");
console.log(e);var p=new aq.Rr(e,function(j){this.fV({d:S.H.cL,SJ:i4.get([1,2])+" ..."});var g=this.Qu(!0)+j+"/";
console.log(g);this.Vl("save",g)}.bind(this),!0)}else this.m6()}else{if(y[0]==0){this.iE(2)}else if(y[0]==1){var N=this.TR()[0],H=this.et[N],e=this.oo[N].querySelector(".name");
console.log(e);e.innerHTML=H[0];var p=new aq.Rr(e,function(j){j=j.trim();var g=this.et;for(var N=0;N<g.length;
N++)if(g[N][0]==j){alert("Item with such name already exists.");this.HB();return}var R=this.Qu(!0)+H[0]+":"+j;
console.log(R);this.Vl("rename",R)}.bind(this))}else if(y[0]==2){this.iE(3)}else if(y[0]==3)this.air();
else if(y[0]==4){this.iE(1)}else{var Z=this.et[this.TR()[0]],X=Storage.A7(Z),b=X[y[1]],k=b[0],D=this.KK().pop()[1];
if(Storage.a7p(Z,k)!=-1){this.Vl("share",D+":"+k+":-1");alert("Unshared.")}else{this.Vl("share",D+":"+k+":"+y[2]);
alert("Shared.")}}}};Storage.a7p=function(E,y){var c=E[4];if(c==null)return-1;if(c.indexOf(y+":0")!=-1)return 0;
if(c.indexOf(y+":1")!=-1)return 1;return-1};Storage.prototype.air=function(){var E=this.TR();this.i2("Do you really want to delete "+(E.length==1?"\""+this.et[E[0]][0]+"\"":"these files")+"?",this.Kr.bind(this))};
Storage.prototype.i2=function(E,y){var c={d:S.H.Q5,ym:"confirm",b:E,UT:y};this.fV(c)};Storage.prototype.iE=function(E){this.lA=E;
if(1<E)this.fV({d:S.H.cL,SJ:i4.get("Downloading ...")});else this.fV({d:S.H.cL,SJ:i4.get("Getting info ...")});
b$.Ky(0,this.Xi,this.Qu(),this.KK(!0),this.asx.bind(this))};Storage.prototype.asx=function(E){if(this.lA==1){var y=0,c=0;
for(var e in E){var p=E[e];y+=p[1];c++}this.i2(c+" files, "+fX.NU(y)+" in total.",function(){});this.fV({d:S.H.B7,SJ:i4.get("Getting info ...")});
this.lA=0}if(1<this.lA)b$.Ky(1,this.Xi,E,null,this.axi.bind(this))};Storage.prototype.axi=function(E){if(1<this.lA){if(1<this.lA)this.fV({d:S.H.B7,SJ:i4.get("Downloading ...")});
var y={},c=this.Qu(!0);for(var e in E)y[e.slice(c.length)]=E[e];if(this.lA==2){Storage.pg=y;alert("Copied to a clipboard")}if(this.lA==3){var p=Object.keys(E);
if(p.length==1)fz.save(E[p[0]].buffer,p[0].split("/").pop());else fz.save(UZIP.encode(y),c=="/"?"files.zip":this.Qu().split("/").pop()+".zip")}}this.lA=0};
Storage.pg=null;Storage.prototype.Kr=function(){this.fV({d:S.H.cL,SJ:i4.get([5,4])+" ..."});this.kE=this.KK();
this.r3()};Storage.prototype.r3=function(){if(this.kE.length==0){this.fV({d:S.H.B7,SJ:i4.get([5,4])+" ..."});
this.Q_([]);this.Xx()}else this.Vl("delete",this.kE.pop()[1])};Storage.prototype.KK=function(E){var y=[],c=this.Qu(!0),e=this.TR();
for(var N=0;N<e.length;N++){var p=this.et[e[N]];if(E)y.push(p[0]);else y.push([this.tm,c+p[0]])}return y};
Storage.prototype.Vl=function(E,y){v.Jn(this.n,"disabled");this.awS=E;if(Storage.MJ)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+E+"\", \"prm\": "+JSON.stringify(y)+"  }");
this.Xi.contentWindow.postMessage("{\"code\": \""+E+"\", \"prm\": "+JSON.stringify(y)+"  }","*")};Storage.prototype.a5u=function(E){if(E.source!=this.Xi.contentWindow||this.lA!=0)return;
v.yo(this.n,"disabled");if(typeof E.data=="string"){if(Storage.MJ)console.log("==",Math.floor(Date.now()/1e3),E.data);
var y=JSON.parse(E.data),c=y.code,e=y.prm,p=this.awS,H=Storage.list[this.tm][3];if(c=="ready"){if(H&&!e){var Z=b4.Ez();
console.log(Z);var X=b4.vQ(),b=X.acc;if(Z==null){this.tK=1;alert("Log in to use this storage (press Account at the top).");
this.j8();return}var k=[],D=Z.wantToJoin;for(var j in D)k.push(parseInt(j.slice(1)));var g=[],R=Z.inTeams;
for(var N=0;N<R.length;N++)g.push(R[N][2]);var t={uid:Z.id,limit:Storage.als[b4.qc()?1:0],inTeams:g,myTeams:k};
t.secret=b&&b.pds?b.pds:"";this.Vl("login",t);return}if(H)this.tK=2;if(H&&y.secret){var X=b4.vQ(),b=X.acc;
if(b==null)b=X.acc={};b.pds=y.secret;b4.YF(X)}if(e)this.Xx();else this.j8()}else if(c!="0"){if(p=="save")this.fV({d:S.H.B7,SJ:i4.get([1,2])+" ..."});
if(p=="delete")this.r3();alert(e);this.HB()}else if(p=="show"){this.Lg=0;this.et=e;this.HB()}else if(p=="save"){this.Lg=0;
this.fV({d:S.H.B7,SJ:i4.get([1,2])+" ..."});this.Xx()}else if(p=="delete"){this.r3()}else if(p=="forget"){if(H)this.j8();
else this.zQ()}else if(p=="rename"||p=="share"){this.Xx()}else throw c}else{if(Storage.MJ)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.fV({d:S.H.acx,Ra:this.KK()[0],Ng:E.data});this.fV({d:S.H.B7,SJ:"Opening ..."})}};Storage.prototype.j8=function(){v.Vz(this.BQ);
v.Vz(this.$B);v.Vz(this.s9);this.$B.appendChild(this.akA)};Storage.prototype.akK=function(N){if(N==0)return this.rI>0;
if(N==1)return this.rI<this.EC.length-1;if(N==2)return this.Qu()!="/"};Storage.prototype.HB=function(){var E=Storage.list[this.tm][3],y=this.et,c=Storage.IA,e=Storage.GU,p=Storage.QG;
if(y==null)return;y.sort(function(u,C){var h=u[1]==-1?1:5,A=C[1]==-1?1:5,W=0;if(Math.min(h,A)==1&&h!=A)return h-A;
else if(h==1||c==0)W=u[0].toLowerCase()<C[0].toLowerCase()?-1:1;else if(c==1)W=u[1]-C[1];else if(c==2)W=u[2]-C[2];
if(e==1)W=-W;if(u[0]=="Shared")W=-1;if(C[0]=="Shared")W=1;return W});var H=this.$B,Z=this.BQ,X=this.EC[this.rI];
v.Vz(H);v.Vz(Z);this.oo=[];for(var N=0;N<3;N++)if(this.akK(N))v.yo(this._6[N],"disabled");else v.Jn(this._6[N],"disabled");
Z.appendChild(this.a7a);Z.appendChild(this.SQ);var b=v.t("span");b.textContent="/";Z.appendChild(b);
for(var N=0;N<X.length;N++){var b=v.t("span");b.textContent=X[N];Z.appendChild(b);var b=v.t("span");
b.textContent="/";Z.appendChild(b)}var k=["tile","icon","litm"][p];for(var N=0;N<y.length;N++){var D=y[N],j=D[1]==-1,g=j?"":fX.NU(D[1]),R=v.t("div","cont "+k),M=!1;
H.appendChild(R);this.oo.push(R);R.setAttribute("title",D[0]+(j?"":"\nSize: "+g+"\nDate Modified: "+new Date(D[2]*1e3).toLocaleString().replaceAll(". ",".")));
var t=v.t("img");t.setAttribute("src",j?Storage.a7G:D[3]?D[3]:Storage.QK);if(!j&&D[3])t.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var w=v.t("span","name"),B=D[0];if(k=="icon"&&B.length>30)B=B.slice(0,24)+".."+B.slice(B.length-5);if(E&&X.length==1&&X[0]=="Shared"){var $=Storage.A7(),o=parseInt(B.slice(5));
for(var T=0;T<$.length;T++)if($[T][0]==o)B=$[T][1]}w.textContent=B;R.appendChild(t);R.appendChild(w);
if(k!="icon"&&!j){if(k=="tile")v.vY(w);var i=v.t("span");i.textContent=g;i.style.opacity="0.8";(k=="tile"?w:R).appendChild(i)}var r=D[0].split("."),I=(r.length==1?"":r.pop()).toUpperCase();
if(E&&D[0]=="Shared"&&X.length==0){M=!0;I="\u21E7"}if(k!="litm"&&(!j&&D[3]==null||M)){var J=v.t("span","ext");
J.textContent=I;var P=Storage.L0[I];J.style.backgroundColor=P?P:Storage.aon(I);R.appendChild(J)}v.Qp(R,this.ei);
R.addEventListener("contextmenu",this.ei)}this.Yq();var n=this.TG.parentNode!=null,x=Storage.KE,L=this.n;
if(n&&x==0)L.removeChild(this.TG);if(!n&&x==1)L.appendChild(this.TG);this.Cl(this.Pf,this.T4);this._()};
Storage.prototype.Yq=function(E){var y=this.oo,c=this.et,e=this.TR(),p=!1,H=0;for(var N=0;N<y.length;
N++){var Z=c[N],X=Z[1]==-1,b=y[N];if(Storage.KE==1&&!X&&!Z[0].toLowerCase().endsWith(".psd"))b.style.display="none";
else b.style.display="auto";if(e.indexOf(N)==-1)v.yo(b,"active");else{if(X)p=!0;else H+=Z[1];v.Jn(b,"active");
if(E)b.scrollIntoView({block:"center",behavior:"smooth"})}}var k=p?"":fX.NU(H);this.s9.textContent=e.length==0?"":e.length+" item"+(e.length==1?"":"s")+" selected\u2001"+k;
this.yA.value=e.length==1&&!p?c[e[0]][0]:Storage.avD};Storage.prototype.acC=function(N){var E=this.et[N];
if(E[1]==-1){var y=this.EC[this.rI].slice(0);y.push(E[0]);this.rI++;this.EC[this.rI]=y;this.EC=this.EC.slice(0,this.rI+1);
this.Q_([]);this.Xx()}else if(Storage.KE==0){this.fV({d:S.H.cL,SJ:"Opening ..."});this.T(new iU("canclose",!0));
var c=this.Qu(!0)+E[0];this.Vl("load",c)}};Storage.prototype._=function(){var E=Storage.IA,y=Storage.GU,c=Storage.QG;
this.zf[0].textContent="Upload";this.zf[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][y];this.zf[2].textContent=i4.get([[12,48],[12,14,0],"Date"][E]);
this.zf[3].textContent=i4.get(["Tiles","Icons",[25,3,1]][c]);this.zf[4].textContent="\u2716";this.d0.innerHTML=i4.get([[23,6],Storage.list[this.tm][0]])+"<br/><small><small>"+Storage.list[this.tm][4]+"</small></small>";
this.mh()};Storage.prototype.a2L=function(E){this.fV({d:S.H.HP});if(v.Qj(this.akA))return;if(E.button==3||E.button==4){if(Date.now()-this.ajF>50){var y=this.rI;
if(E.button==3)this.rI=Math.max(y-1,0);else this.rI=Math.min(y+1,this.EC.length-1);this.Xx()}this.ajF=Date.now();
return}E.stopPropagation();var N=this.oo.indexOf(E.currentTarget);if(E.type=="contextmenu"){if(this.et==null)return;
E.preventDefault();var c=this.Oj;if(N!=-1){var e=[{name:[5,1],xu:[ct.Nc,ct.qd]},{name:[6,37]},{name:"Download",mc:!0},{name:[5,4],xu:[ct.OA]},{name:[9,2]}];
if(Storage.list[this.tm][3]){var p=this.et[N],H=Storage.A7(p);if(H.length!=0){var Z=[];for(var X=0;X<H.length;
X++){var b=[],k=H[X],D=Storage.a7p(p,k[0]);if(D!=-1)b.push({name:"Unshare"});else b.push({name:"Allow Read"},{name:"Allow Read & Write"});
Z.push({name:k[1]+[""," (R)"," (R,W)"][D+1],sub:b})}e.push({name:"Share With",sub:Z})}}c=new el(e);c.parent=this;
c.k("select",this._8,this)}c.parent=this;c._();c.update();this.fV({d:S.H.rt,T_:c,x:E.clientX+4,y:E.clientY});
return}var j=this.TR(),g=j.indexOf(N);if(E.button!=0&&g!=-1)return;if(E.target==this.$B)this.Q_([]);
else{if(E.ctrlKey){if(g==-1)j.push(N);else j.splice(g,1)}else if(E.shiftKey&&j.length!=0){var X=j[0];
if(X<N){var R=N;N=X;X=R}j=[];this.Q_(j);for(var t=N;t<=X;t++)j.push(t)}else{this.Q_([N]);if(Date.now()-this.j6<300&&j.length!=0&&j[0]==N){this.acC(N);
this.j6=0}}}this.j6=Date.now();this.Yq()};Storage.prototype.fV=function(E){var y=new iU(S.E.M,!0);y.data=E;
this.T(y)};Storage.A7=function(E){var y=[],c=[],e=b4.vQ(),p=e.acc.tstart;if(p)for(var N=0;N<p.length;
N++){y.push([p[N][2],p[N][0]]);c.push(p[N][2])}var H=b4.Ez();p=H.inTeams;if(p)for(var N=0;N<p.length;
N++){y.push([p[N][2],p[N][0]]);c.push(p[N][2])}if(E&&E[4]){for(var N=0;N<E[4].length;N++){var Z=parseInt(E[4][N].split(":")[0]);
if(c.indexOf(Z)==-1)y.push([Z,"Team "+Z])}}return y};Storage.prototype.a9Y=function(E,y){if(this.Lg!=0)return 1;
this.Lg=2;this.fV({d:S.H.cL,SJ:i4.get([1,2])+" ..."});this.Vl("save",E);if(Storage.MJ)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.Xi.contentWindow.postMessage(y,"*")};Storage.L0={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.aon=function(E){E=E.toLowerCase();
var y=0;for(var N=0;N<E.length;N++)y+=E.charCodeAt(N)*613<<8*N;return"#"+d.ly(y&16777215)};Storage.a7G="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.QK="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var b$=function(){var E,y,c,e,p,H,Z,X;function b(R,t,w,B,$){y=t;e=B;Z=$;E=R;H={};if(E==0){c=[w]}if(E==1){c=[];
for(var o in w)c.push(o)}if(E==2){var T=w[0],i=w[1],r=w[2],I={};for(var N=0;N<r.length;N++)I[r[N][0]]=!0;
var M={};for(var o in i){var J=o.split("/"),P=J[0],n=P.split("."),x="";if(n.length!=1){x="."+n.pop();
P=n.join(".")}while(I[P+x])P+=" - Copy";J[0]=P+x;M[J.join("/")]=i[o]}var L={};c=[];for(var o in M){var J=o.split("/");
for(var N=0;N<J.length-1;N++){var u=T+J.slice(0,N+1).join("/")+"/";if(L[u]==null){L[u]=!0;c.push([u])}}var C=T.endsWith("/")||o.startsWith("/")?"":"/";
c.push([T+C+o,M[o]])}}window.addEventListener("message",D,!1);X=Date.now();k()}function k(){if(c.length==0){g();
return}p=c.shift();if(E==0)j("show",p);if(E==1)j("load",p);if(E==2){j("save",p[0]);if(p.length==2)y.contentWindow.postMessage(p[1],"*")}}function D(R){if(R.source!=y.contentWindow)return;
if(E==0){var t=JSON.parse(R.data),w=t.code,B=t.prm;for(var N=0;N<B.length;N++){var $=B[N];if(e&&e.indexOf($[0])==-1)continue;
var o=p+(p=="/"?"":"/"),T=o+$[0];if($[1]==-1)c.push(T);else H[T]=$}e=null}else if(E==1){H[p]=new Uint8Array(R.data)}k()}function j(R,t){var w=R=="show"?", \"nothumbs\": true":"",B="{\"code\": \""+R+"\", \"prm\": "+JSON.stringify(t)+w+"  }";
y.contentWindow.postMessage(B,"*")}function g(){console.log(Date.now()-X);window.removeEventListener("message",D,!1);
Z(H)}return{Ky:b}}();function i$(E){dT.call(this);var y=this.n=v.t("div","form scrollable padded label12");
this.P7=E;this.s1=null;var c=[],e=i$.R1[E];this.YM=[];for(var p in e){var H=parseInt(p.slice(1)),Z=H%10==0?"":"\u2800\u2800- ";
c.push(Z+e[p]);this.YM.push(H)}this.TJ=[new d3("Name",null,30),new d3("Description",null,30,4),E==0?new d3("File"," www.Photopea.com#i...",17):new bH("File",!1,!1),new d3("Thumbnail URL","* Use Imgur.com etc.",17),new a_("Category",c),new b8("Make Public"),new fr("<< Back",null,null,!0),new fr("Save",null,null,!0)];
if(E==0)this.TJ.push(new bU("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new bU("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(E==1)this.TJ.push(new bU("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(E!=0)this.TJ.push(new bU("Do not load any file to preserve the old version."));for(var N=0;N<this.TJ.length;
N++){var X=this.TJ[N];y.appendChild(X.n);X.parent=this;if(N!=4&&N!=6)v.vY(y);if(X instanceof fr)X.k("click",this.azu,this);
if(E!=0&&N==2)X.k(S.E.p,this.a2G,this)}}i$.prototype=new dT;i$.prototype.a2G=function(E){var y=this.TJ[2],c=y.h(),e=Object.keys(c),p=c[e[0]].buffer,H=iu.XS(p),Z=" json atn abr grd asl pat csh icc".split(" ")[this.P7];
if(H!=Z){alert("This is a wrong file"+(H?" ("+H.toUpperCase()+")":"")+". You need to upload the "+Z.toUpperCase()+" file.");
y.c({})}};i$.prototype.azu=function(E){if(E.target==this.TJ[6]){this.T(new iU("back"));return}var y=this.TJ[3].h().trim(),c=y.startsWith("http")&&(y.endsWith(".jpeg")||y.endsWith(".jpg")||y.endsWith(".png")||y.endsWith(".gif"));
if(!c){alert("Thumbnail URL is incorrect.");return}var e=new XMLHttpRequest,p=(y);
e.open("GET",p);e.responseType="arraybuffer";e.onload=this.aaA.bind(this);e.send()};i$.prototype.aaA=function(E){var y=E.target.response,c=y.byteLength;
if(c>2e5&&iu.XS(y)!="gif"){alert("Thumbnail is too large ("+fX.NU(c)+"). Make it under 200 kB.");return}var e=this.TJ[2].h(),p=Object.keys(e);
if(this.P7!=0&&p.length==0&&(this.s1==null||this.s1.file==null||this.s1.file=="")){alert("You need to select a file.");
return}if(this.P7!=0&&p.length!=0){console.log(e);fz.Zb.ab$(e[p[0]].buffer,p[0],this.awP.bind(this),"pp-resources");
return}this.awP()};i$.prototype.awP=function(E){var y=this.P7,c="name desc file thmb catg publ".split(" "),e=this.s1;
for(var N=0;N<6;N++){if(y!=0&&N==2)continue;var p=this.TJ[N].h();if(N<=3){p=p.trim();if(p.length==0){alert("One of values is empty.");
return}}if(N==2){var H=p.split("#i");if(H.length!=2||H[1].length!=8){alert("File ID is incorrect.");
return}p=H.pop()}if(N==4)p=this.YM[p];e[c[N]]=p}if(y!=0){if(E)e.file=E;else if(e.file==null){alert("Select a file from your computer.");
return}}if(e.utme.length==0)e.utme=""+Math.round(Date.now()/1e3);e.type=y;this.T(new iU("save"))};i$.prototype._=function(){};
i$.prototype.c=function(E){var y=this.s1=JSON.parse(JSON.stringify(E)),c=this.P7,e="name desc file thmb catg publ".split(" ");
for(var N=0;N<6;N++){if(c!=0&&N==2)continue;var p=y[e[N]];if(p!=""&&N==2)p="https://photopea.com#i"+p;
if(N==4)p=this.YM.indexOf(p);if(N==5&&p==null)p=!0;this.TJ[N].c(p)}};i$.prototype.h=function(){return JSON.parse(JSON.stringify(this.s1))};
i$.R1=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function bK(E){dT.call(this);this.Sf=E;this.n=v.t("div","");this.Zp=[];this.LH=null;this.as6=[]}bK.prototype=new dT;
bK.prototype._x=function(E){};bK.prototype.wN=function(){return!1};bK.prototype.Cl=function(E,y){};bK.prototype.mh=function(E,y){};
bK.prototype.i3=function(E){};bK.prototype.c=function(E,y,c,e,p,H){var Z=[],X=this.Zp,b=0,k=cN.Ix["s"+this.Sf];
if(this.Sf=="Dspl")this.$A(E,Z,H);else k?k(E,Z,H):this.$A(E,Z,H);for(var N=0;N<X.length;N++)if(!(X[N]instanceof bU))X[N].c(Z[b++]);
if(E.RndS)this.LH=E.RndS.v};bK.prototype.h=function(){var E=cN.TL(this.Sf),y=[],c=this.Zp,e=0;for(var N=0;
N<c.length;N++)if(!(c[N]instanceof bU))y[e++]=c[N].h();var p=cN.Ix["g"+this.Sf];if(this.Sf=="Dspl")this.W9(E,y);
else p?p(E,y):this.W9(E,y);if(E.RndS)E.RndS.v=this.LH;return E};bK.prototype.Gu=function(E){};bK.prototype.C7=function(E){if(E&&E.target instanceof fr){this.LH=Math.floor(Math.random()*4294967295)}var y=this.as6;
for(var N=0;N<y.length;N+=2){var c=this.Zp[y[N]],e=this.Zp[y[N+1]],p=c.h(),H=e.h();if(E.target==c)e.c(Math.max(p,H));
else c.c(Math.min(p,H))}this.T(new iU(S.E.p))};bK.prototype._=function(){for(var N=0;N<this.Zp.length;
N++)this.Zp[N]._();var E=this.a04;if(E)E._()};bK.prototype.Rz=function(E){v.Jn(this.n,"form");var y=this.Zp;
for(var N=0;N<y.length;N++){var c=y[N];c.parent=this;c.k(S.E.p,this.C7,this);this.n.appendChild(c.n);
if(c instanceof b8&&y[N+1]instanceof eX)continue;if(E&&E.indexOf(N)!=-1)v.X$(this.n);else v.vY(this.n)}var e=cN.TL(this.Sf);
if(e.RndS){var p=this.a04=new fr([25,1,2],null,null,!0);this.n.appendChild(p.n);p.k("click",this.C7,this)}};
bK.prototype.OX=function(E){return!1};bK.prototype.Zo=function(){return!1};bK.prototype.yl=function(E,y,c,e,p){};
bK.prototype.Lv=function(E,y,c,e,p){};bK.prototype.JA=function(E,y,c,e,p){};bK.prototype.W9=function(E,y){};
bK.prototype.$A=function(E,y){};bK.prototype.dB=function(E){var y=E.target.h().indexOf(!0)!=-1,c=new iU(S.E.M,!0);
c.n5=!0;c.data={d:y?S.H.lg:S.H.xV,f:F.Am};this.T(c);c=new iU(S.E.v,!0);c.f=F.Am;c.n5=!0;c.data={d:"supertool",f:y?this:null};
this.T(c)};bK.a87=function(E){E.Zo=function(){return!0};E.yl=function(y,c,e,p,H){this.t7=!0;this.amz(y,H)};
E.Lv=function(y,c,e,p,H){if(!this.t7)return;this.amz(y,H)};E.JA=function(y,c,e,p,H){this.t7=!1};E.amz=function(y,c){var e=new ir(0,0,y.m,y.e);
if(y.i)e=y.i.rect;var p=y.Q.GV(c.x,c.y);p.x-=e.x;p.y-=e.y;function H(Z,X){return Math.round(Math.max(0,Math.min(100,100*Z/X)))}this.Zp[2].c(H(p.x,e.m));
this.Zp[3].c(H(p.y,e.e));this.C7()}};bK.Bokh=function(){bK.call(this,"Bokh");this.Zp=[new a_("Depth Map",["A","b"]),new dX("Focal Distance",0,255),new b8([4,11]),new a_([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new dX([12,56],0,100),new dX([12,15],0,360),new dX([12,2],0,100),new dX([4,13],0,255),new dX([24,6],0,100),new aN([12,58],[[12,59,0],[12,59,1]]),new b8([12,60])];
this.Rz([5,7])};bK.Bokh.prototype=new bK;bK.Bokh.prototype.$A=function(E,y,c){var e=[[22,5,0],[6,5,3],[6,2]],p=E.BkDi.v.BtDi,H=E.BkDc,Z=0;
if(p=="BeIn")Z=0;else if(p=="BeIt"&&H.v.BtDc=="BeCt")Z=1;else if(p=="BeIt"&&H.v.BtDc=="BeCm")Z=2;else Z=3+H.v;
for(var N=0;N<c[1].length;N++)e.push(c[1][N].name);this.Zp[0].Pt(e,[3]);y[0]=Z;y[1]=E.BkDp.v;y[2]=E.BkDs.v;
y[3]=parseInt(E.BkIs.v.BtIs.slice(3))-3;y[4]=E.BkIb.v;y[5]=E.BkIr.v;y[6]=E.BkSb.v;y[7]=E.BkSt.v;y[8]=E.BkNa.v;
y[9]=E.BkNt.v.BtNt=="BeNu"?0:1;y[10]=E.BkNm.v};bK.Bokh.prototype.W9=function(E,y){var c;if(y[0]==0){c="BeIn";
delete E.BkDc}else if(y[0]<3){c="BeIt";E.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][y[0]-1]}}}else{c="BeIa";
E.BkDc={t:"long",v:y[0]-3}}E.BkDi.v.BtDi=c;E.BkDp.v=y[1];E.BkDs.v=y[2];E.BkIs.v.BtIs="BeS"+(3+y[3]);
E.BkIb.v=y[4];E.BkIr.v=y[5];E.BkSb.v=y[6];E.BkSt.v=y[7];E.BkNa.v=y[8];E.BkNt.v.BtNt=["BeNu","BeNg"][y[9]];
E.BkNm.v=y[10]};bK.oilPaint=function(){bK.call(this,"oilPaint");this.Zp=[new dX([12,56],.1,10,"px",!0),new dX("Cleanliness",0,10,"px",!0),new dX([12,38],.1,10,null,!0),new dX("Bristle Detail",0,10,null,!0),new b8("Lighting"),new dX("Shine",0,10,null,!0),new dC([12,15])];
this.Rz()};bK.oilPaint.prototype=new bK;bK.oilPaint.prototype.$A=function(E,y){var c="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var N=0;N<c.length;N++)y[N]=E[c[N]].v;y[6]=[E.LghD.v]};bK.oilPaint.prototype.W9=function(E,y){var c="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var N=0;N<c.length;N++)E[c[N]].v=y[N];E.LghD.v=y[6][0]};bK.TrcC=function(){bK.call(this,"TrcC");
this.Zp=[new dX("Level",0,255),new aN([12,69],[[19,4,1],[19,4,0]])];this.Rz()};bK.TrcC.prototype=new bK;
bK.TrcC.prototype.$A=function(E,y){y[0]=E.Lvl.v;y[1]=["Lwr","Upr"].indexOf(E.Edg.v.CntE)};bK.TrcC.prototype.W9=function(E,y){E.Lvl.v=y[0];
E.Edg.v.CntE=["Lwr","Upr"][y[1]]};bK["Dfs "]=function(){bK.call(this,"Dfs ");this.Zp=[new aN([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Rz()};bK["Dfs "].prototype=new bK;bK["Dfs "].prototype.$A=function(E,y){y[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(E.Md.v.DfsM)};
bK["Dfs "].prototype.W9=function(E,y){E.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][y[0]]};bK.Embs=function(){bK.call(this,"Embs");
this.Zp=[new dC([12,15]),new dX([12,42],1,100,"px"),new dX([12,57],1,500,"%")];this.Rz()};bK.Embs.prototype=new bK;
bK.Embs.prototype.$A=function(E,y){y[0]=[E.Angl.v];y[1]=E.Hght.v;y[2]=E.Amnt.v};bK.Embs.prototype.W9=function(E,y){E.Angl.v=y[0][0];
E.Hght.v=y[1];E.Amnt.v=y[2]};bK["Wnd "]=function(){bK.call(this,"Wnd ");this.Zp=[new aN([12,32],["Wind","Blast","Stagger"]),new aN([12,33],["From the Right","From the Left"])];
this.Rz()};bK["Wnd "].prototype=new bK;bK["Wnd "].prototype.$A=function(E,y){y[0]=["Wnd","Blst","Stgr"].indexOf(E.WndM.v.WndM);
y[1]=["Left","Rght"].indexOf(E.Drct.v.Drct)};bK["Wnd "].prototype.W9=function(E,y){E.WndM.v.WndM=["Wnd","Blst","Stgr"][y[0]];
E.Drct.v.Drct=["Left","Rght"][y[1]]};bK.denoise=function(){bK.call(this,"denoise");this.Zp=[new dX([12,64],0,10),new dX([12,65],0,100,"%")];
this.Rz()};bK.denoise.prototype=new bK;bK.denoise.prototype.$A=function(E,y){var c=E.channelDenoise.v[0].v;
y[0]=c.Amnt.v;y[1]=c.EdgF.v};bK.denoise.prototype.W9=function(E,y){var c=E.channelDenoise.v[0].v;c.Amnt.v=y[0];
c.EdgF.v=y[1]};bK.lightFilterGradient=function(){bK.call(this,"lightFilterGradient");this.Zp=[new dX([24,3,1],0,100,"px",1,!0),new dX([12,38],0,200,"%"),new b8([4,11]),new dX("High",0,100,"%"),new dX("Medium",0,100,"%"),new dX("Low",0,100,"%")];
this.Rz()};bK.lightFilterGradient.prototype=new bK;bK.lightFilterGradient.prototype.$A=function(E,y){y[0]=E.blur.v;
y[1]=E.textureScale.v*100;y[2]=E.Scl.v==-1;var c=E.Dtl.v;y[3]=c[0].v*100;y[4]=c[1].v*100;y[5]=c[2].v*100};
bK.lightFilterGradient.prototype.W9=function(E,y){E.blur.v=y[0];E.textureScale.v=y[1]/100;E.Scl.v=y[2]?-1:1;
var c=E.Dtl.v;c[0].v=y[3]/100;c[1].v=y[4]/100;c[2].v=y[5]/100};bK.Fbrs=function(){bK.call(this,"Fbrs");
this.Zp=[new dX("Variance",1,64),new dX([12,64],1,64)];this.Rz()};bK.Fbrs.prototype=new bK;bK.Fbrs.prototype.$A=function(E,y){y[0]=E.Vrnc.v;
y[1]=E.Strg.v};bK.Fbrs.prototype.W9=function(E,y){E.Vrnc.v=y[0];E.Strg.v=y[1]};bK.LnsF=function(){bK.call(this,"LnsF");
this.Zp=[new dX([12,2],10,300,"%"),new aN([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new dX("Position X",0,100,"%"),new dX("Position Y",0,100,"%")];
this.Rz()};bK.LnsF.prototype=new bK;bK.LnsF.prototype.$A=function(E,y){y[0]=E.Brgh.v;y[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(E.Lns.v.Lns);
var c=E.FlrC.v;y[2]=Math.round(c.Hrzn.v*100);y[3]=Math.round(c.Vrtc.v*100)};bK.LnsF.prototype.W9=function(E,y){E.Brgh.v=y[0];
E.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][y[1]];var c=E.FlrC.v;c.Hrzn.v=y[2]/100;c.Vrtc.v=y[3]/100};bK.a87(bK.LnsF.prototype);
bK.blendOptions=function(){bK.call(this,"blendOptions");this.Zp.push(new a_([12,19,0],cg.BR,cg.Xs));
this.Zp.push(new dX([12,0],0,100,"%"));this.Rz()};bK.blendOptions.prototype=new bK;bK.blendOptions.prototype.$A=function(E,y){y[0]=cg.Y1.indexOf(E.Md.v.BlnM);
y[1]=E.Opct.v.val};bK.blendOptions.prototype.W9=function(E,y){E.Md.v.BlnM=cg.Y1[y[0]];E.Opct.v.val=y[1]};
bK.LnCr=function(){bK.call(this,"LnCr");this.Zp=[new dX([12,57],-100,100),new dX([12,38],10,150,"%")];
this.Rz()};bK.LnCr.prototype=new bK;bK.LnCr.prototype.$A=function(E,y){y[0]=E.LnIa.v;y[1]=E.LnSi.v};
bK.LnCr.prototype.W9=function(E,y){E.LnIa.v=y[0];E.LnSi.v=y[1]};bK.adaptCorrect=function(){bK.call(this,"adaptCorrect");
var E=i_;this.Zp=[new bU([19,6,0]),new E([12,57],0,100,"%"),new E("Tone",0,100,"%"),new E([12,56],0,200,"px"),new bU([19,6,2]),new E([12,57],0,100,"%"),new E("Tone",0,100,"%"),new E([12,56],0,200,"px"),new bU([3]),new E([13,0],-100,100)];
this.Rz([3,7])};bK.adaptCorrect.prototype=new bK;bK.adaptCorrect.prototype.$A=function(E,y){var c=E.sdwM.v;
y[0]=c.Amnt.v.val;y[1]=c.Wdth.v.val;y[2]=c.Rds.v;var c=E.hglM.v;y[3]=c.Amnt.v.val;y[4]=c.Wdth.v.val;
y[5]=c.Rds.v;y[6]=E.ClrC.v};bK.adaptCorrect.prototype.W9=function(E,y){var c=E.sdwM.v;c.Amnt.v.val=y[0];
c.Wdth.v.val=y[1];c.Rds.v=y[2];var c=E.hglM.v;c.Amnt.v.val=y[3];c.Wdth.v.val=y[4];c.Rds.v=y[5];E.ClrC.v=y[6]};
bK.Flam=function(){bK.call(this,"Flam");var E=this.Zp=[new a_([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new dX([12,80,0],20,1e3,"px"),new b8("Randomize Length"),new dX([12,41],5,600,"px"),new dX([12,15],0,360,"\xB0"),new dX("Interval",10,200,"px"),new b8("Adapt Interval for Loops"),new eX(!1),new a_([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new dX("Turbulent",0,100),new dX("Jag",0,100),new dX([12,0],0,100),new dX("Lines",2,30),new dX("Bottom",0,100),new a_([12,22],["Normal","Violent","Flat"]),new a_([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new b8("Randomize Shape"),new dX("Random Seed",0,100)];
this.Rz();var y=this.n;v.Vz(y);var c=new aN(null,["Basic","Advanced"]);c.k(S.E.p,this.a2k,this);y.appendChild(c.n);
v.X$(y);var e=v.t("div"),p=v.t("div");this.a1x=[e,p];y.appendChild(e);for(var N=0;N<E.length;N++){(N<9?e:p).appendChild(E[N].n);
if(N==6)v.vY(e)}E[0].k(S.E.p,this.amm,this);this.amm()};bK.Flam.prototype=new bK;bK.Flam.prototype.amm=function(E){var y=this.Zp,N=y[0].h();
y[1].U0(N!=0&&N!=5);y[2].U0(N!=0&&N!=5);y[4].U0(N!=0&&N!=5&&N!=1);y[5].U0(N!=0&&N!=5);y[6].U0(N!=0&&N!=5)};
bK.Flam.prototype.a2k=function(E){var N=E.target.h(),y=this.a1x,c=this.n;c.removeChild(y[1-N]);c.appendChild(y[N])};
bK.boxblur=function(){bK.call(this,"boxblur");this.Zp=[new dX([12,56],1,200," px")];this.Rz()};bK.boxblur.prototype=new bK;
bK.boxblur.prototype.$A=function(E,y){y[0]=E.Rds.v.val};bK.boxblur.prototype.W9=function(E,y){E.Rds.v.val=y[0]};
bK.GsnB=function(){bK.call(this,"GsnB");this.Zp=[new dX([12,56],.1,400,"px",1,!0)];this.Rz()};bK.GsnB.prototype=new bK;
bK.Dila=function(){bK.call(this,"Dila");this.Zp=[new dX([11,12,1],0,20,"px",0),new dX([12,56],0,400,"px",0,!0)];
this.Rz()};bK.Dila.prototype=new bK;bK.MtnB=function(){bK.call(this,"MtnB");this.Zp=[new dC([12,15]),new dX([12,28],1,100," px")];
this.Rz()};bK.MtnB.prototype=new bK;bK.RdlB=function(){bK.call(this,"RdlB");this.Zp=[new dX([12,57],1,100),new aN([12,36],["Spin","Zoom"]),new dX("Position X",0,100,"%"),new dX("Position Y",0,100,"%")];
this.Rz()};bK.RdlB.prototype=new bK;bK.RdlB.prototype.$A=function(E,y){y[0]=E.Amnt.v;y[1]=["Spn","Zm"].indexOf(E.BlrM.v.BlrM);
y[2]=E.Cntr.v.Hrzn.v*100;y[3]=E.Cntr.v.Vrtc.v*100};bK.RdlB.prototype.W9=function(E,y){E.Amnt.v=y[0];
E.BlrM.v.BlrM=["Spn","Zm"][y[1]];E.Cntr.v.Hrzn.v=y[2]/100;E.Cntr.v.Vrtc.v=y[3]/100};bK.a87(bK.RdlB.prototype);
bK.Dspl=function(){bK.call(this,"Dspl");this.Zp=[new a_([6,36,3],["a","b"]),new dX([22,4,0],-100,100,"px"),new dX([22,4,1],-100,100,"px"),new a_([24,18,0],[[24,18,3],[24,18,2]])];
this.Rz()};bK.Dspl.prototype=new bK;bK.Dspl.prototype.$A=function(E,y,c){this.ai_=[];this._r=[];var e=-1,p=c?c[0]:null;
if(p==null)p=this.auZ;else this.auZ=p;if(p)for(var N=0;N<p.length;N++){var H=p[N];this.ai_.push(H.gg.trim());
this._r.push(H.pf);if(H.pf==E.DspF.v.pth)e=N}this.Zp[0].Pt(this.ai_);y[0]=e==-1?0:e;y[1]=E.HrzS.v;y[2]=E.VrtS.v;
y[3]=["WrpA","RptE"].indexOf(E.UndA.v.UndA)};bK.Dspl.prototype.W9=function(E,y){var c=this.auZ;if(this._r.length==0)return;
E.DspF.v.pth=this._r[y[0]];E.HrzS.v=y[1];E.VrtS.v=y[2];E.UndA.v.UndA=["WrpA","RptE"][y[3]];var e=c[y[0]];
e.eA();var p=e.ed[1],H=p.m,Z=p.e,X=d.R(p.P());d.DU(e.ed[0],X);var b=[H&255,H>>>8,0,0,Z&255,Z>>>8,0,0,3,0];
for(var k=0;k<2;k++)for(var N=0;N<X.length;N++)b.push(X[N]);for(var N=0;N<1e3;N++)b.push(0);E.DspD={t:"tdta",v:b};
E.EmbF={t:"bool",v:!0}};bK.Pnch=function(){bK.call(this,"Pnch");this.Zp=[new dX([12,57],-100,100,"%")];
this.Rz()};bK.Pnch.prototype=new bK;bK["Plr "]=function(){bK.call(this,"Plr ");this.Zp=[new aN(null,["Rect to Polar","Polar to Rect"])];
this.Rz()};bK["Plr "].prototype=new bK;bK.Rple=function(){bK.call(this,"Rple");this.Zp=[new dX([12,57],-999,999),new a_([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.Rz()};bK.Rple.prototype=new bK;bK["Shr "]=function(){bK.call(this,"Shr ");this.Zp=[new d9(!0,!0),new a_([24,18,0],[[24,18,3],[24,18,2]])];
this.Rz()};bK["Shr "].prototype=new bK;bK["Shr "].prototype.$A=function(E,y){var c=new jr(0,255/127,255/127,0,-2,128),e=JSON.parse(JSON.stringify(E.ShrP.v));
d.$K.u(e,c);y[0]=e;y[1]=["WrpA","RptE"].indexOf(E.UndA.v.UndA)};bK["Shr "].prototype.W9=function(E,y){var c=new jr(0,255/127,255/127,0,-2,128);
c.Ub();d.$K.u(y[0],c);E.ShrP.v=y[0];E.ShrE.v=y[0].length-1;E.UndA.v.UndA=["WrpA","RptE"][y[1]]};bK.Sphr=function(){bK.call(this,"Sphr");
this.Zp=[new dX([12,57],-100,100),new a_([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Rz()};bK.Sphr.prototype=new bK;
bK.Sphr.prototype.$A=function(E,y){y[0]=E.Amnt.v;y[1]=["Nrml","HrzO","VrtO"].indexOf(E.SphM.v.SphM)};
bK.Sphr.prototype.W9=function(E,y){E.Amnt.v=y[0];E.SphM.v.SphM=["Nrml","HrzO","VrtO"][y[1]]};bK.Dthr=function(){bK.call(this,"Dthr");
this.Zp=[new a_("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new aN("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Rz()};bK.Dthr.prototype=new bK;bK.Dthr.prototype.$A=function(E,y){y[0]=E.Plte.v;y[1]=E.Mthd?E.Mthd.v:1};
bK.Dthr.prototype.W9=function(E,y){E.Plte.v=y[0];E.Mthd.v=y[1]};bK.Part=function(){bK.call(this,"Part");
this.Zp=[new dX([15,5,1],0,100,"%"),new dX([12,14,0],1,50,"px"),new dX([12,34],0,100,"%"),new dX([12,2],10,1e3,"%"),new eX(!0),new dX("Time",0,1,null,3),new dX("Turbulence",0,100,"%"),new b8("Blink"),new b8("Fall")];
this.Rz([4])};bK.Part.prototype=new bK;bK.Part.prototype.$A=function(E,y){y[0]=E.Cont.v;y[1]=E.Size.v;
y[2]=E.Dpth.v;y[3]=E.Brgh.v;y[4]=E.Clr.v;y[5]=E.Time.v;y[6]=E.Turb.v;y[7]=E.Blnk.v;y[8]=E.Fall.v};bK.Part.prototype.W9=function(E,y){E.Cont.v=y[0];
E.Size.v=y[1];E.Dpth.v=y[2];E.Brgh.v=y[3];E.Clr.v=y[4];E.Time.v=y[5];E.Turb.v=y[6];E.Blnk.v=y[7];E.Fall.v=y[8]};
bK.Twrl=function(){bK.call(this,"Twrl");this.Zp=[new dX([12,15],-999,999)];this.Rz()};bK.Twrl.prototype=new bK;
bK.Wave=function(){bK.call(this,"Wave");this.as6=[1,2,3,4];this.Zp=[new dX("Number of Generators",1,100),new i_("Min Length",1,999),new i_("Max Length",1,999),new i_("Min Ampl.",1,999),new i_("Max Ampl.",1,999),new i_("Scale X",1,100,"%"),new i_("Scale Y",1,100,"%"),new aN([12,44],["Sine","Triangle",[12,93,3]]),new a_([24,18,0],[[24,18,3],[24,18,2]])];
this.Rz()};bK.Wave.prototype=new bK;bK.ZgZg=function(){bK.call(this,"ZgZg");this.Zp=[new dX([12,57],-100,100),new dX("Ridges",0,20),new a_([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Rz()};bK.ZgZg.prototype=new bK;bK.surfaceBlur=function(){bK.call(this,"surfaceBlur");this.Zp=[new dX([12,56],1,200," px"),new dX([4,13],1,255," px")];
this.Rz()};bK.surfaceBlur.prototype=new bK;bK.surfaceBlur.prototype.$A=function(E,y){y[0]=E.Rds.v.val;
y[1]=E.Thsh.v};bK.surfaceBlur.prototype.W9=function(E,y){E.Rds.v.val=y[0];E.Thsh.v=y[1]};bK.AdNs=function(){bK.call(this,"AdNs");
this.Zp=[new dX([12,57],0,200," %"),new a_([12,58],[[12,59,1],[12,59,0]]),new b8([12,60])];this.Rz()};
bK.AdNs.prototype=new bK;bK.DstS=function(){bK.call(this,"DstS");this.Zp=[new dX([12,56],1,200," px"),new dX([4,13],1,255," px")];
this.Rz()};bK.DstS.prototype=new bK;bK["Mdn "]=function(){bK.call(this,"Mdn ");this.Zp=[new dX([12,56],1,200," px")];
this.Rz()};bK["Mdn "].prototype=new bK;bK["Mdn "].prototype.$A=function(E,y){y[0]=E.Rds.v.val};bK["Mdn "].prototype.W9=function(E,y){E.Rds.v.val=y[0]};
bK.ClrH=function(){bK.call(this,"ClrH");this.Zp=[new dX([12,56],4,100," px")];for(var N=1;N<4;N++)this.Zp.push(new dX("Angle "+N,0,90," \xB0"));
this.Rz()};bK.ClrH.prototype=new bK;bK.ClrH.prototype.$A=function(E,y){y[0]=E.Rds.v;for(var N=1;N<4;
N++)y[N]=E["Ang"+N].v};bK.ClrH.prototype.W9=function(E,y){E.Rds.v=y[0];for(var N=1;N<4;N++)E["Ang"+N].v=y[N]};
bK.ClrH.prototype._=function(){var E=this.Zp;E[0]._();for(var N=1;N<4;N++)E[N].WO(i4.get([12,15])+" "+N)};
bK.Crst=function(){bK.call(this,"Crst");this.Zp=[new dX([12,61],3,100," px")];this.Rz()};bK.Crst.prototype=new bK;
bK.Crst.prototype.$A=function(E,y){y[0]=E.ClSz.v};bK.Crst.prototype.W9=function(E,y){E.ClSz.v=y[0]};
bK.Mztn=function(){bK.call(this,"Mztn");this.Zp.push(new a_([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this._r="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Rz()};bK.Mztn.prototype=new bK;
bK.Mztn.prototype.$A=function(E,y){y[0]=this._r.indexOf(E.MztT.v.MztT)};bK.Mztn.prototype.W9=function(E,y){E.MztT.v.MztT=this._r[y[0]]};
bK["Msc "]=function(){bK.call(this,"Msc ");this.Zp=[new dX([12,61],2,200," px")];this.Rz()};bK["Msc "].prototype=new bK;
bK["Msc "].prototype.$A=function(E,y){y[0]=E.ClSz.v.val};bK["Msc "].prototype.W9=function(E,y){E.ClSz.v.val=y[0]};
bK.Pntl=function(){bK.call(this,"Pntl");this.Zp=[new dX([12,61],3,100," px")];this.Rz()};bK.Pntl.prototype=new bK;
bK.Pntl.prototype.$A=function(E,y){y[0]=E.ClSz.v};bK.Pntl.prototype.W9=function(E,y){E.ClSz.v=y[0]};
bK.smartSharpen=function(){bK.call(this,"smartSharpen");this.Zp=[new dX([12,57],1,200,"%"),new dX([12,56],0,200,"px",1,!0)];
this.Rz()};bK.smartSharpen.prototype=new bK;bK.smartSharpen.prototype.$A=function(E,y){y[0]=E.Amnt?E.Amnt.v.val:200;
y[1]=E.Rds?E.Rds.v.val:1};bK.smartSharpen.prototype.W9=function(E,y){E.Amnt.v.val=y[0];E.Rds.v.val=y[1]};
bK.UnsM=function(){bK.call(this,"UnsM");this.Zp=[new dX([12,57],1,200," %"),new dX([12,56],.1,400,"px",1,!0),new dX([4,13],0,255," ")];
this.Rz()};bK.UnsM.prototype=new bK;bK.HghP=function(){bK.call(this,"HghP");this.Zp=[new dX([12,56],.1,400,"px",1,!0)];
this.Rz()};bK.HghP.prototype=new bK;bK.HsbP=function(){bK.call(this,"HsbP");this.Zp=[new aN("Input",["RGB","HSB","HSL"]),new aN("Output",["RGB","HSB","HSL"])];
this.Rz()};bK.HsbP.prototype=new bK;bK["Mxm "]=function(){bK.call(this,"Mxm ");this.Zp=[new dX([12,56],.1,200," px",1,!0),new a_([12,76,1],[[12,93,3],"Circle"])];
this.Rz()};bK["Mxm "].prototype=new bK;bK["Mnm "]=function(){bK.call(this,"Mnm ");this.Zp=[new dX([12,56],.1,200," px",1,!0),new a_([12,76,1],[[12,93,3],"Circle"])];
this.Rz()};bK["Mnm "].prototype=new bK;bK.Ofst=function(){bK.call(this,"Ofst");this.Zp=[new dX([22,4,0],-1024,1024," px"),new dX([22,4,1],-1024,1024," px"),new a_([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Rz()};bK.Ofst.prototype=new bK;bK.Kale=function(){bK.call(this,"Kale");this.Zp=[new i_("Mirrors",2,20),new i_([12,15],0,360,"\xB0")];
this.Rz()};bK.Kale.prototype=new bK;bK.Kale.prototype.$A=function(E,y){y[0]=E.Mirr.v;y[1]=E.MRot.v};
bK.Kale.prototype.W9=function(E,y){E.Mirr.v=y[0];E.MRot.v=y[1]};bK.Rept=function(){bK.call(this,"Rept");
this.Zp=[new i_([12,38],1,300," %"),new i_("Row Shift",-50,50," %"),new i_("Space X",-99,200," %"),new i_("Space Y",-99,200," %"),new b8([4,16,2]),new dC([12,15])];
this.Rz()};bK.Rept.prototype=new bK;bK.Rept.prototype.$A=function(E,y){y[0]=E.Scl.v.val;y[1]=E.Rsft.v.val;
y[2]=E.SpcX.v.val;y[3]=E.SpcY.v.val;y[4]=E.SpcC.v;y[5]=[E.Angl.v]};bK.Rept.prototype.W9=function(E,y){E.Scl.v.val=y[0];
E.Rsft.v.val=y[1];E.SpcX.v.val=y[2];E.SpcY.v.val=y[3];E.SpcC.v=y[4];E.Angl.v=y[5][0];return E};bK.Ctoa=function(){bK.call(this,"Ctoa");
this.Zp=[new bU([13,0]),new eX(!0),new dX(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new dX(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Rz()};bK.Ctoa.prototype=new bK;bK.Ctoa.prototype.$A=function(E,y){y[0]=E.Clr.v;y[1]=E.Trsp.v.val;
y[2]=E.Opct.v.val};bK.Ctoa.prototype.W9=function(E,y){E.Clr.v=y[0];E.Trsp.v.val=y[1];E.Opct.v.val=y[2]};
bK.LqFy=function(){bK.call(this,"LqFy");this.$z=!1;this.i9=!1;this.pp=null;this.aq$=null;this.f=0;this.MH=-1;
this.s={XI:[[{f:{id:0,name:[24,1,0,1,0],yQ:"liq/smudge"}}],[{f:{id:1,name:[24,1,0,1,1],yQ:"liq/reconstruct"}}],[{f:{id:2,name:[24,1,0,1,2],yQ:"liq/smooth"}}],[{f:{id:3,name:[24,1,0,1,3],yQ:"liq/twirl"}}],[{f:{id:4,name:[24,1,0,1,4],yQ:"liq/shrink"}}],[{f:{id:5,name:[24,1,0,1,5],yQ:"liq/blow"}}],[{f:{id:6,name:[24,1,0,1,6],yQ:"liq/pleft"}}],[{f:{id:7,name:"Hand",yQ:"tools/hand"}}],[{f:{id:8,name:"Zoom In",yQ:"zoomIn"}}],[{f:{id:9,name:"Zoom Out",yQ:"zoomOut"}}]],keys:[]};
this.nk=new c9(this.s,!1);this.nk.OR(0);this.nk.k(S.E.M,this.kw,this);this.r7=bj.OY();this._Q=null;this.QQ=[];
this.up=-1;this.kU=null;this.ad_=null;this.tw=null;this.Zq=null;this.wh=null;var E=v.t("div","flexrow");
this.hB=E;this.n.appendChild(E);E.appendChild(this.nk.n);this.view=new cP(!0);this.view.Cl(100,100);
this.view.k("mousedown",this.Lz,this);this.view.k("mousemove",this.Xo,this);this.view.k("mouseup",this.P6,this);
this.view.k("zoom",this.qv,this);E.appendChild(this.view.n);var y=v.t("div","form");E.appendChild(y);
this.Sy=y;y.style.width="230px";this.EQ=[new dX([12,14,0],0,1e3,null,!1,!0),new dX([12,74],0,100,null,!1,!1),new dX([12,84],0,100,null,!1,!1),new b8([12,46]),new dX([12,0],0,100,null,!1,!1),new b8([24,18,5])];
var c=this.r7.Brsh.v;c.Dmtr.v.val=100;var e=[100,50,100,!1,100,!0];for(var N=0;N<this.EQ.length;N++){var p=this.EQ[N];
p.c(e[N]);if(N==4)p.Cp();p.k(S.E.p,this.avz,this);y.appendChild(p.n)}var H=this.acD=new fr([1,12,2],!0,null,!0);
H.k("click",this.VP,this);y.appendChild(H.n);this.aix=this.oR.bind(this);this.xQ=new dT;this.xQ.n=v.t("div","floatcont");
this.UW=new fr("Menu",!1,null,!0);var Z=this.UW.n;Z.setAttribute("style","position:absolute; right:13px; top:47px");
v.Qp(Z,this.aiW.bind(this))};bK.LqFy.prototype=new bK;bK.LqFy.prototype.wN=function(){return!0};bK.LqFy.prototype._x=function(E){this.Sy.appendChild(E)};
bK.LqFy.prototype.aiW=function(E){if(v.Qj(this.xQ.n))return;E.stopPropagation();var y=this.UW.n.getBoundingClientRect();
this.xQ.n.appendChild(this.Sy);var c=new iU(S.E.M,!0);c.data={d:S.H.rt,T_:this.xQ,x:y.right+y.width-290,y:y.top+y.height};
this.T(c)};bK.LqFy.prototype.Gu=function(E){this.$z=E.S(ct.Q3);var y=F.XP.Vy(this.r7,E);if(y!=null){this.r7=y;
this.qv();this.EQ[0].c(y.Brsh.v.Dmtr.v.val)}else if(E.S(ct.Nc)&&E.S(ct.Dh)){var c=this.QQ;if(E.S(ct.zx)){if(this.up+1<c.length)this.up++}else if(this.up>0)this.up--;
this._Q.map=c[this.up].slice(0);this.HB(null)}else if(this.f<=6)this.view.Gu(E);var e=this.f,p=-1,H=E.S(ct.Q3);
if(H&&this.MH==-1){if(e==0)p=1;if(e==4)p=5;if(e==5)p=4;if(p!=-1)this.MH=e}if(!H&&this.MH!=-1){p=this.MH;
this.MH=-1}if(p!=-1){this.f=p;this.nk.OR(this.f)}};bK.LqFy.prototype.kw=function(E){if(E.data.d==S.H.lg){var y=this.f=E.data.f;
this.nk.OR(this.f);this.view.Gu(y>6?cP.od(y-7):new ct)}};bK.LqFy.prototype.avz=function(E){var y=E.currentTarget,N=this.EQ.indexOf(y),c=this.r7.Brsh.v;
if(N==0){c.Dmtr.v.val=y.h();this.qv()}this.EQ[4].U0(this.EQ[3].h());if(N>2)this.HB(null)};bK.LqFy.prototype._U=function(){var E=this.QQ;
this.up++;E[this.up]=this._Q.map.slice(0);while(E.length>this.up+1)E.pop();while(E.length>50){E=E.slice(1);
this.up--}};bK.LqFy.prototype.Lz=function(E){this.pp=this.view.m3();this.aq$=new eq(0,0);this.i9=!0;
window.requestAnimationFrame(this.aix)};bK.LqFy.prototype.Xo=function(E){var y=this.view.m3(),c=new eq(y.x-this.pp.x,y.y-this.pp.y);
if(this.f==0||this.f==6)this.a6w(c);this.pp=y};bK.LqFy.prototype.P6=function(E){this._U();this.i9=!1};
bK.LqFy.prototype.oR=function(E){if(this.f!=0&&this.f!=6)this.a6w(new eq(0,0));if(this.i9)window.requestAnimationFrame(this.aix)};
bK.LqFy.prototype.a6w=function(E){var y=this._Q,c=y.Pf/this.kU.m,e=this.pp,p=this.r7.Brsh.v,H=p.Dmtr.v.val,Z=Date.now(),X=y.Pf,b=y.T4,k=Math.sqrt(E.x*E.x+E.y*E.y),D=Math.max(1,Math.ceil(k/2)),j=E.x/D,g=E.y/D,R=e.clone(),t=this.f,w=this.EQ[1].h()/100,B=this.EQ[2].h()/100,$=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],o=$[t*2],T=$[t*2+1],i=(1-w)*o+w*T,r=H*c/2;
for(var N=0;N<D;N++){var I=[];R.x+=j;R.y+=g;d.yg.aee(y.map,X,b,t,R.x*c,R.y*c,r,w,B,j*c,g*c,I,this.$z);
d.yg.adf(X,b,y.map,I,2*i*B)}var M=new ir(0,0,X,b),J=new ir(e.x*c,e.y*c,0,0);J.r4(H*c*.5,H*c*.5);var P=J.clone();
P.offset(E.x*c,E.y*c);J=J.uN(P);var n=new ir(J.x/c,J.y/c,J.m/c,J.e/c);n=d.A.u8(n).fr(this.kU);this.EQ[5].c(!0);
this.HB(n)};bK.LqFy.prototype.qv=function(){var E=b1.sH(this.r7,null,this.view.Cj().O);this.view._q(E)};
bK.LqFy.prototype.c=function(E,y,c,e,p){c=c.clone();if(y==null)return;if(!e.rT(c)){var H=c.uN(e),Z=d.R(H.P()*4);
d.E6(y,c,Z,H);y=Z;c=H;var X=d.R(H.P()*4);d.E6(p,e,X,H);p=X}c.x=c.y=0;this.tw=y;this.ad_=p;this.wh=y.slice(0);
this.Zq=y.slice(0);this.kU=c;this._Q=h6.ux(new Uint8Array(E.LqMe.v).buffer);var b=c.m,k=c.e;if(this._Q.Pf/b<.22){this._Q={Pf:Math.floor(b/4),T4:Math.floor(k/4)};
this._Q.map=new Float32Array(this._Q.Pf*this._Q.T4*2)}this.QQ=[];this.up=-1;this._U();this.HB(null);
this.view.eu(!0);this.qv()};bK.LqFy.prototype.h=function(){var E=cN.TL("LqFy"),y=new Uint8Array(h6.sa(this._Q)),c=[];
for(var N=0;N<y.length;N++)c.push(y[N]);E.LqMe.v=c;return E};bK.LqFy.prototype.Cl=function(E,y){this.nk.Cl(E,y);
var c=this.UW.n,e=this.Sy;this.hB.appendChild(e);this.hB.appendChild(c);if(E>450&&E-y>200){e.style.marginLeft="1em";
this.hB.removeChild(c);this.view.Cl(E-238-45,y)}else{e.style.marginLeft="";this.hB.removeChild(e);this.view.Cl(E-40,y)}};
bK.LqFy.prototype._=function(){this.nk._();this.acD._();for(var N=0;N<this.EQ.length;N++)this.EQ[N]._()};
bK.LqFy.prototype.VP=function(){this._Q.map.fill(0);this._U();this.HB(null)};bK.LqFy.prototype.HB=function(E){var y=this.kU,c=this.tw,e=this.wh,p=this._Q;
if(this.EQ[5].h())d.yg.cR(c,this.Zq,y.m,y.e,E,p.map,p.Pf,p.T4,0);else this.Zq.set(c);if(this.EQ[3].MW()){d.E6(this.ad_,y,e,y,E?E:y);
d.l.Io("norm",this.Zq,y,e,y,E?E:y,this.EQ[4].h()/100)}else d.Jt(this.Zq,e);this.view.c([{Yu:y,data:e.buffer}])};
bK.GEfc=function(){bK.call(this,"GEfc");this._g=0;this.Hb=0;this.tw=null;this.wh=null;this.kU=null;this.P0=null;
this.s1=null;this.lb=0;this.CI=null;this.t9=null;var E=v.t("div","flexrow");this.hB=E;this.n.appendChild(E);
this.view=new cP(null);this.view.Cl(100,100);E.appendChild(this.view.n);this.xy="";this.wk=270;var y=this.lP=v.t("div","form scrollable");
E.appendChild(y);y.setAttribute("style","width:"+this.wk+"px;");var c=this.SQ=v.t("div","form");E.appendChild(c);
c.setAttribute("style","width:230px;  margin:0 10px");this.eS={};for(var e in hY.names){var p=new bK.GEfc.ny(e);
p.parent=this;this.eS[e]=p;p.k(S.E.p,this.a5z,this)}this.ou=!0;this.UW=new fr("Menu",null,null,!0);this.UW.k("click",this.aj1,this);
E.appendChild(this.UW.n);this.Cf=new fr(">>",null,null,!0);this.Cf.k("click",this.aj_,this);c.appendChild(this.Cf.n);
this.mQ=v.t("div");this.mQ.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
c.appendChild(this.mQ);this.QO=v.t("div");this.QO.style.minHeight="14em";this.QO.style.marginBottom="1em";
c.appendChild(this.QO);this.Wg=v.t("div","lpbody scrollable");this.GB=v.t("div","lpfoot");c.appendChild(this.Wg);
c.appendChild(this.GB);this.k("click",this.aw2,this);this.En=[];c8.H5([[5,3],[5,4]],this.En,this.GB,this.GY.bind(this))};
bK.GEfc.prototype=new bK;bK.GEfc.prototype.wN=function(){return!0};bK.GEfc.prototype._x=function(E){this.mQ.appendChild(E)};
bK.GEfc.prototype.mh=function(E,y){this.P0=E;if(E.x4==E.YO)alert("Your foreground and a background color are identical.",4e3)};
bK.GEfc.prototype.aj_=function(E){var y=this.lP.style.display!="none";this.lP.style.display=y?"none":"";
this.Cf.WO(y?"<<":">>");this.Cl()};bK.GEfc.prototype.aj1=function(E){this.ou=!this.ou;this.Cl()};bK.GEfc.prototype.Cl=function(E,y){var c=this.lP.style.display!="none";
if(E!=null){this._g=E;this.Hb=y;if(E<1e3&&c||E>=1e3&&!c){this.aj_();c=!c}this.ou=E>600}else{E=this._g;
y=this.Hb}var e=this.ou?250+(c?this.wk:0):0;if(v.Qj(this.SQ)&&!this.ou){this.hB.removeChild(this.lP);
this.hB.removeChild(this.SQ)}if(!v.Qj(this.SQ)&&this.ou){this.hB.appendChild(this.lP);this.hB.appendChild(this.SQ)}this.lP.style.height=y+"px";
this.view.Cl(E-e,y);this.Wg.style.height=y-Math.max(this.QO.getBoundingClientRect().height,186)-96+"px";
this.UW.n.setAttribute("style","position:absolute; top:46px;  right:"+(e+16)+"px")};bK.GEfc.prototype.ahH=function(){var E=iu.UO.get("img/beach",!0)[0],y=E.Yu,c=this.lP,e=Math.floor(v.k1()*(this.wk-40)/3),p=~~(e*.7),H=new ir(0,0,e,p),Z=d.R(e*p*4),X=Z.slice(0),b=Math.round(10*v.k1()),k=new ImageData(new Uint8ClampedArray(X.buffer),e,p);
d.E6(new Uint8Array(E.data),y,Z,new ir(Math.round((y.m-e)/2),Math.round((y.e-p)/2),e,p));var D=v.t("canvas"),j=D.getContext("2d");
D.width=e;D.height=p+Math.round(b*1.5);j.font=b+"px sans-serif";this.CI={};v.Vz(c);var g=this.aCj.bind(this);
for(var N=0;N<hY.R1.length;N++){var R=hY.R1[N],t=v.t("div");c.appendChild(t);t.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
t.textContent=i4.get(R);for(var w in hY.names){var B=hY.names[w];if(B[0]!=N)continue;hY.bJ(w,{rect:H,buffer:Z},hY.TL(w),{Z:0,D:0,J:0},{Z:255,D:255,J:255},{rect:H,buffer:X},{});
j.fillStyle="black";j.fillRect(0,0,500,500);j.putImageData(k,0,0);var $=i4.get(B[1]);j.fillStyle="white";
j.fillText($,(e-j.measureText($).width)/2,p+Math.round(b*1.1));var o=v.t("div");c.appendChild(o);o.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
o.addEventListener("click",g,!1);var t=v.t("img");o.appendChild(t);t.setAttribute("src",D.toDataURL());
t.setAttribute("style","width:"+e/v.k1()+"px; margin-bottom:0px;");this.CI[w]=o}}};bK.GEfc.prototype.aCj=function(E){var y;
for(var c in this.CI)if(this.CI[c]==E.currentTarget)this.xy=c;this.a5z()};bK.GEfc.prototype.GY=function(E){var y=c8.Qo(this.En,E),c=this.s1.GEfs.v,e=c[this.lb].v;
if(y==0){c.push(JSON.parse(JSON.stringify(c[this.lb])));this.lb=c.length-1}else if(c.length>1){c.splice(this.lb,1);
if(this.lb==c.length)this.lb--}this.c5();this.HB()};bK.GEfc.prototype.a5z=function(E){var y=this.xy,c;
if(E==null)c=hY.TL(y);else c=this.eS[y].h();this.s1.GEfs.v[this.lb].v=c;this.c5();this.HB()};bK.GEfc.prototype.c=function(E,y,c,e,p){var H=i4.get([24,0]);
if(this.CI==null||H!=this.t9)this.ahH();this.t9=H;E=this.s1=JSON.parse(JSON.stringify(E));if(E.GEfs==null)E=this.s1={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:E}]}};
var Z=E.GEfs.v;for(var N=0;N<Z.length;N++)if(Z[N].v.GELv==null)Z[N].v.GELv={t:"bool",v:!0};this.lb=Z.length-1;
this.c5();c=c.clone();if(y==null)return;if(!e.rT(c)&&hY.vv(E).x!=0){var X=c.uN(e),b=d.R(X.P()*4);d.E6(y,c,b,X);
y=b;c=X}c.x=c.y=0;this.tw=y;this.wh=y.slice(0);this.kU=c;this.HB();this.view.eu()};bK.GEfc.prototype.aw2=function(E){var y=E.data,N=y.h2,c=this.s1.GEfs.v;
if(y.B0){c[N].v.GELv.v=!c[N].v.GELv.v;this.HB()}else this.lb=N;this.c5()};bK.GEfc.prototype.c5=function(){var E=this.s1.GEfs.v,y=E[this.lb].v,c=y.GEfk.v.GEft,e=this.QO;
if(hY.names[c]==null){alert("Unsupported gallery filter");v.Vz(e)}else{this.xy=c;for(var p in this.CI)v.yo(this.CI[p],"selected");
v.Jn(this.CI[c],"selected");var H=this.eS[c];H.c(y);if(e.firstChild!=H.n){v.Vz(e);e.appendChild(H.n)}}var Z=[];
for(var N=0;N<E.length;N++){var X=E[N].v,b=hY.names[X.GEfk.v.GEft],k=new bl(N,!0,!0,null,b?b[1]:"Filter",N==this.lb,X.GELv.v);
k.parent=this;Z.push(k.n)}v.Vz(this.Wg);Z.reverse();for(var N=0;N<Z.length;N++)this.Wg.appendChild(Z[N]);
this.Cl()};bK.GEfc.prototype.h=function(){return JSON.parse(JSON.stringify(this.s1))};bK.GEfc.prototype.HB=function(E){var y=this.kU,c=this.tw,e=this.wh,p=this.xy,H=this.s1,Z=this.P0;
function X(b){return{Z:b>>>16,D:b>>>8&255,J:b&255}}cN.bJ("GEfc",{rect:this.kU,buffer:this.tw},H,X(Z.x4),X(Z.YO),{rect:this.kU,buffer:this.wh},null);
this.view.c([{Yu:y,data:e.buffer}])};bK.GEfc.prototype._=function(){for(var E in this.eS)this.eS[E]._();
c8.lD(this.En,["lrs/newlayer","lrs/bin"])};bK.GEfc.ny=function(E){dT.call(this);this.gV=E;this.n=v.t("div");
this.zD={};var y=hY.TL(E);for(var c in y){var e=null;if(c=="__name"||c=="classID"||c=="GEfk"||c=="GELv"||["FlRs"].indexOf(c)!=-1)continue;
else if(c=="EdgW")e=new dX("Edge Width",1,14);else if(c=="EdgB")e=new dX("Edge Brightness",0,E=="AccE"?50:20);
else if(c=="Smth")e=new dX([19,3,3],1,E=="Stmp"?50:15);else if(c=="ClSz")e=new dX([12,61],3,100);else if(c=="BrdT")e=new dX([7,9],1,20);
else if(c=="HghS")e=new dX([12,64],0,20);else if(c=="HlSz")e=new dX([12,14,0],1,15);else if(c=="Cntr")e=new dX([12,3,0],0,E=="WtrP"?100:50);
else if(c=="Shrp")e=new dX("Sharpness",0,40);else if(c=="SprR")e=new dX("Spray Radius",0,25);else if(c=="LgDr")e=new dX("Light/Dark Balance",0,E=="Stmp"?50:100);
else if(c=="Drkn")e=new dX("Darkness",1,50);else if(c=="Dstr")e=new dX("Distortion",0,20);else if(c=="Scln")e=new dX([12,38],50,200);
else if(c=="Rlf")e=new dX("Relief",0,E=="Ptch"||E=="NtPr"?25:50);else if(c=="ChAm")e=new dX("Thickness",1,7);
else if(c=="Pncl")e=new dX([19,2,5],1,30);else if(c=="StrP")e=new dX("Stroke Pressure",0,15);else if(c=="PprB")e=new dX("Paper Brightness",0,50);
else if(c=="BrsS")e=new dX("Brush Size",0,10);else if(c=="BrsD")e=new dX("Brush Detail",0,10);else if(c=="Txtr")e=new dX([12,67],1,3);
else if(c=="Grn")e=new dX("Grain",0,20);else if(c=="HghA")e=new dX("Highlight Area",0,20);else if(c=="Intn")e=new dX("Intensity",0,10);
else if(c=="Brgh")e=new dX("Glow Brightness",0,E=="WtrP"?100:50);else if(c=="StrS")e=new dX("Stroke Size",1,50);
else if(c=="StDt")e=new dX("Stroke Detail",1,3);else if(c=="Sftn")e=new dX("Softness",0,10);else if(c=="EdgT")e=new dX("Edge Thickness",0,10);
else if(c=="EdgI")e=new dX("Edge Intensity",0,10);else if(c=="Pstr")e=new dX("Posterization",0,6);else if(c=="Dfnt")e=new dX("Definition",0,25);
else if(c=="TxtC")e=new dX("Texture Coverage",0,50);else if(c=="ShdI")e=new dX("Shadow Intensity",0,10);
else if(c=="DrcB")e=new dX("Direction Balance",0,100);else if(c=="Strg")e=new dX([12,64],1,3);else if(c=="Blnc")e=new dX("Balance",0,10);
else if(c=="BlcI")e=new dX("Black Intensity",0,10);else if(c=="WhtI")e=new dX("White Intensity",0,10);
else if(c=="DrkI")e=new dX("Dark Intensity",0,50);else if(c=="LghI")e=new dX("Light Intensity",0,50);
else if(c=="StrW")e=new dX("Stroke Width",3,15);else if(c=="Grns")e=new dX("Graininess",0,E=="NtPr"?20:10);
else if(c=="GlwA")e=new dX("Glow Amount",0,20);else if(c=="ClrA")e=new dX("Clear Amount",0,20);else if(c=="ChrA")e=new dX("Charcoal Area",0,20);
else if(c=="ChlA")e=new dX("Chalk Area",0,20);else if(c=="FrgL")e=new dX("Foreground Level",1,15);else if(c=="BckL")e=new dX("Background Level",1,15);
else if(c=="WhtL")e=new dX("Background Level",0,50);else if(c=="BlcL")e=new dX("Foreground Level",0,50);
else if(c=="ImgB")e=new dX("Image Balance",0,50);else if(c=="Dnst")e=new dX([12,74],0,50);else if(c=="FbrL")e=new dX("Fiber Length",3,50);
else if(c=="CrcS")e=new dX("Crack Spacing",2,100);else if(c=="CrcD")e=new dX("Crack Depth",0,10);else if(c=="CrcB")e=new dX("Crack Brightness",0,10);
else if(c=="TlSz")e=new dX("Tile Size",2,100);else if(c=="GrtW")e=new dX("Grout Width",1,15);else if(c=="LghG")e=new dX("Lighten Grout",0,10);
else if(c=="SqrS")e=new dX("Square Size",0,10);else if(c=="RplS")e=new dX("Ripple Size",1,15);else if(c=="RplM")e=new dX("Ripple Magnitude",0,20);
else if(c=="NmbL")e=new dX("Number of Levels",2,8);else if(c=="EdgS")e=new dX("Edge Simplicity",0,10);
else if(c=="EdgF")e=new dX("Edge Fidelity",1,3);else if(c=="Sz")e=E=="NGlw"?new dX("Glow Size",-24,24):new dX("Brush Size",1,50);
else if(c=="Dtl")e=E=="Chrc"?new dX("Detail",0,5):new dX("Detail",1,15);else if(c=="StrL")e=E=="InkO"?new dX("Stroke Length",1,50):new dX("Stroke Length",0,20);
else if(c=="TxtT")e=new a_([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(c=="BrsT")e=new a_("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(c=="Grnt")e=new a_("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(c=="SDir")e=new a_([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(c=="ScrT")e=new a_([12,62],["Circle","Dot",[10,35]]);
else if(c=="LghD"||c=="LghP")e=new a_("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(c=="Clr")e=new eX("Glow Color");else if(c=="InvT")e=new b8([4,11]);else console.log(c);e.k(S.E.p,this.YZ,this);
e.parent=this;this.zD[c]=e;this.n.appendChild(e.n)}};bK.GEfc.ny.prototype=new dT;bK.GEfc.ny.prototype.YZ=function(E){this.T(new iU(S.E.p,!1))};
bK.GEfc.atP="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
bK.GEfc.ny.prototype.c=function(E){for(var y in this.zD){var c;if(bK.GEfc.atP.indexOf(y)!=-1)c=E[y].v;
else if(y=="TxtT")c=hY.qs.indexOf(E[y].v[y]);else if(y=="BrsT")c=hY.a8t.indexOf(E[y].v[y]);else if(y=="LghD")c=hY.lR.indexOf(E[y].v[y]);
else if(y=="LghP")c=hY.uZ.indexOf(E[y].v[y]);else if(y=="Grnt")c=hY.uH.indexOf(E[y].v[y]);else if(y=="ScrT")c=hY.$v.indexOf(E[y].v[y]);
else if(y=="SDir")c=hY.WI.indexOf(E[y].v.StrD);this.zD[y].c(c)}};bK.GEfc.ny.prototype.h=function(){var E=hY.TL(this.gV);
for(var y in this.zD){var c=this.zD[y].h();if(bK.GEfc.atP.indexOf(y)!=-1)E[y].v=c;else if(y=="TxtT")E[y].v[y]=hY.qs[c];
else if(y=="BrsT")E[y].v[y]=hY.a8t[c];else if(y=="LghD")E[y].v[y]=hY.lR[c];else if(y=="LghP")E[y].v[y]=hY.uZ[c];
else if(y=="Grnt")E[y].v[y]=hY.uH[c];else if(y=="ScrT")E[y].v[y]=hY.$v[c];else if(y=="SDir")E[y].v.StrD=hY.WI[c]}return E};
bK.GEfc.ny.prototype._=function(){for(var E in this.zD)this.zD[E]._()};bK["Adobe Camera Raw Filter"]=function(E){bK.call(this,"Adobe Camera Raw Filter");
var y=this.n;this.adD=E;this.so=null;this.Ko=null;this.rF=1e3;this.CO=null;this.or=null;v.Jn(y,"flexrow");
var c=v.t("div"),e=v.t("div","padded");y.appendChild(c);y.appendChild(e);this.dt=new cP;this.dt.k("zoom",this.HB,this);
c.appendChild(this.dt.n);this.nw=new aD(225);this.nw.vR(4);e.appendChild(this.nw.n);this.bS=v.t("div");
this.bS.setAttribute("style","width:18em;");e.appendChild(this.bS);this.ag$=new bU("Hi",!0);this.bS.appendChild(this.ag$.n);
this.hz=v.t("div","scrollable");this.bS.appendChild(this.hz);this.zD=[new dX("Temperature",-100,100),new dX("Tint",-100,100),new dX([4,3],-4,4,null,!0),new dX([12,3,0],-100,100),new dX([4,4],-100,100),new dX([12,9],-100,100)];
this.zF="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var N=0;N<this.zD.length;N++){var p=this.zD[N];
p.c(0);p.k(S.E.p,this.HB,this);this.hz.appendChild(p.n);if(N==1||N==3)this.hz.appendChild(v.t("hr"))}};
bK["Adobe Camera Raw Filter"].prototype=new bK;bK["Adobe Camera Raw Filter"].prototype.wN=function(){return!0};
bK["Adobe Camera Raw Filter"].prototype._x=function(E){this.bS.appendChild(E)};bK["Adobe Camera Raw Filter"].prototype.mh=function(E,y){this.nw.Gd(i3.p8[E.c6]["--text-color"])};
bK["Adobe Camera Raw Filter"].prototype.c=function(E,y,c,e,p){this.s1=E;var H=c.m,Z=c.e,X=H*Z;this.ag$.c(H+" x "+Z+", "+(H*Z/1e6).toFixed(1)+" MPx");
this.kU=c;this.CO=new Float32Array(H*Z*3);this.or=new Uint8Array(H*Z*4);this.or.fill(255);if(y instanceof Float32Array)this.so=y;
else{var b=this.so=new Float32Array(H*Z*3);for(var N=0;N<X;N++){var k=N*3,D=N*4;b[k+0]=y[D+0]*(1/255);
b[k+1]=y[D+1]*(1/255);b[k+2]=y[D+2]*(1/255)}}this.Ko=[{bb:this.so,rect:c.clone()}];this.rF=1e3;var j=this.so;
while(H>1&&Z>1){var g=H,R=g*3;H=H>>>1;Z=Z>>>1;var t=j,j=new Float32Array(H*Z*3);this.Ko.push({bb:j,rect:new ir(0,0,H,Z)});
for(var w=0;w<Z;w++)for(var B=0;B<H;B++){var k=(w*H+B)*3,$=(w*2*g+B*2)*3,o=$+R;j[k]=.25*(t[$]+t[$+3]+t[$+R]+t[$+R+3]);
j[k+1]=.25*(t[$+1]+t[$+4]+t[$+R+1]+t[$+R+4]);j[k+2]=.25*(t[$+2]+t[$+5]+t[$+R+2]+t[$+R+5])}}var T=this.zF;
for(var N=0;N<T.length;N++){var i=T[N];this.zD[N].c(E[i]?E[i].v:0)}this.dt.c([{Yu:c,data:this.or.buffer}]);
this.dt.eu();this.HB(null)};bK["Adobe Camera Raw Filter"].prototype.h=function(E){if(E){this.HB(null,!0);
return this.or}return JSON.parse(JSON.stringify(this.s1))};bK["Adobe Camera Raw Filter"].prototype.as4=function(){this.so=null;
this.CO=null;this.Ko=null;this.or=null};bK["Adobe Camera Raw Filter"].prototype.HB=function(E,y){if(E&&this.zD.indexOf(E.target)!=-1){this.rF=1e3;
var c=this.zF;for(var N=0;N<c.length;N++){var e=c[N];this.s1[e]={t:e=="Ex12"?"doub":"long",v:this.zD[N].h()}}}var p=this.dt.Cj().O,H=0;
while(p*2<=1&&!y){p*=2;H++}if(this.rF<=H)return;this.rF=H;var Z=this.kU,X=this.azO(this.so,Z,this.CO,this.s1,this.adD,this.or,H);
this.nw.c(X);this.dt.c([{Yu:Z,data:this.or.buffer}])};bK["Adobe Camera Raw Filter"].prototype.azO=function(E,y,c,e,p,H,Z){var X=E,b=c,k=H,D=y.m,j=y.e,g=Z!=0;
if(g){var R=this.Ko[Z];X=R.bb;D=R.rect.m;j=R.rect.e;b=new Float32Array(D*j*3);k=d.R(D*j*4)}fa(X,D,j,b,e,p);
var t=Date.now(),w=D*j;for(var N=0;N<w;N++){var B=N*3,$=N*4;k[$+0]=~~(.5+b[B+0]*255);k[$+1]=~~(.5+b[B+1]*255);
k[$+2]=~~(.5+b[B+2]*255);k[$+3]=255}console.log(Date.now()-t,"integer conversion");t=Date.now();var o=d.KQ(k,Math.max(1,Math.floor(w/2e5)));
console.log(Date.now()-t,"histogram done");t=Date.now();if(g){var T=new Uint32Array(k.buffer),i=new Uint32Array(H.buffer),r=y.m,I=y.e;
for(var M=0;M<I;M+=2)for(var J=0;J<r;J+=2){var B=M*r+J,P=T[(M>>>Z)*D+(J>>>Z)];i[B]=P;i[B+1]=P;i[B+r]=P;
i[B+r+1]=P}console.log(Date.now()-t,"upscale");t=Date.now()}return o};bK["Adobe Camera Raw Filter"].prototype.Cl=function(E,y){this.aCY=E-248;
this.axE=y;this.dt.Cl(this.aCY,this.axE);this.hz.style.height=y-236+"px"};bK["Adobe Camera Raw Filter"].prototype._=function(){for(var N=0;
N<this.zD.length;N++)this.zD[N]._()};bK.VaPo=function(){bK.call(this,"VaPo");this.f=-1;this.Fu=null;
this.t7=!1;this.xo=null;this.xI=null;this.il=null;this.vV=null;this.DB=null;this.Ql=null;this.zI=null;
this.qS=null;this.Te=null;this.Sl=null;this.kZ=null;this.QQ=[];this.up=-1;this.g=null;this.s={XI:[[{f:{id:0,name:"Move",yQ:"tools/move"}}],[{f:{id:1,name:"Create Plane",yQ:"tools/pcrop"}}],[{f:{id:2,name:"Marquee",yQ:"tools/rselect"}}],[{f:{id:3,name:"Stamp",yQ:"tools/clone"}}],[{f:{id:4,name:"Brush",yQ:"tools/brush"}}],[{f:{id:5,name:"Transform",yQ:"tools/transform"}}],[{f:{id:6,name:"Hand",yQ:"tools/hand"}}],[{f:{id:7,name:"Zoom In",yQ:"zoomIn"}}],[{f:{id:8,name:"Zoom Out",yQ:"zoomOut"}}]],keys:[ct.Wq,ct.qd,ct.qB,ct.v1,ct.jC,ct.b_,ct.x0,ct.Dh]};
this.nk=new c9(this.s,!1);this.nk.k(S.E.M,this.kw,this);this.rj=null;this.kU=null;this.tw=null;this.aay=null;
this.wh=null;this.q7=null;var E=v.t("div","flexrow"),e=0;this.hB=E;this.n.appendChild(E);E.appendChild(this.nk.n);
var y=v.t("div");E.appendChild(y);var top=v.t("div","form");y.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.fw=v.t("span");top.appendChild(this.fw);this.go=[[new jm([12,80,5],1,1e3)],[new jm([7,6],0,30)],[new jm([12,14],1,200),new jm([12,17],0,100),new jm([12,0],0,100),new b8([12,75])],[new jm([12,14],1,200),new jm([12,17],0,100),new jm([12,0],0,100),new eX],[new b8("Flip"),new b8("Flop")],[]];
var c=[100,0,100,100,100,!1,100,100,100,JSON.parse(cb.Wy.BS.slice(6)).v];this.Y9=[];for(var N=0;N<6;
N++){var p=v.t("span"),H=this.go[N];this.Y9.push(p);for(var Z=0;Z<H.length;Z++){var X=H[Z];X.parent=this;
X.c(c[e++]);X.k(S.E.p,this.axU,this);p.appendChild(X.n)}}this.hY=v.t("div");this.hY.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.hY);this.view=new cP(!0);this.view.Cl(100,100);this.view._q("auto");this.view.k("mousedown",this.Lz,this);
this.view.k("mousemove",this.Xo,this);this.view.k("mouseup",this.P6,this);v.FY(this.view.V$,this.Kz.bind(this));
y.appendChild(this.view.n)};bK.VaPo.prototype=new bK;bK.VaPo.prototype.wN=function(){return!0};bK.VaPo.prototype._x=function(E){this.hY.appendChild(E)};
bK.VaPo.prototype.axU=function(E){if(E.target==this.go[0][0]){var y=this.LT(),c=E.target.h();for(var N=0;
N<this.g.length;N++)if(this.g[N].length!=0&&y[N])y[N][0]=c;this.dh(y)}if(this.f==5){this.rj=this.zq();
this.HB(!0)}this.HB()};bK.VaPo.prototype.Gu=function(E){var y=this.f,c=this.xI;if(y==3||y==4){var e=this.go[y-1],p=bj.OY(),H=p.Brsh.v;
H.Dmtr.v.val=e[0].h();H.Hrdn.v.val=e[1].h();p=F.XP.Vy(p,E);if(p){H=p.Brsh.v;e[0].c(H.Dmtr.v.val);e[1].c(H.Hrdn.v.val)}this.qv()}if(y==1&&c&&(E.S(ct.OA)||E.S(ct.hy))){c.pop();
c.pop();if(c.length==0)c=this.xI=null;this.HB()}function Z(D,N,t){d.E6(D[N],D[0],t.tw,t.kU);t.$$(D[0])}this.xo=E;
if(y<6)this.view.Gu(E);var X=E.S(ct.Nc);if(X){var b=this.up,k=0;if(E.S(ct.Dh)){if(E.S(ct.zx))k=1;else k=-1}else if(E.S(ct.CP))k=1;
if(k!=0&&y!=5){console.log(this.up,k,this.QQ);var D=this.QQ[this.up],j=!1;if(D.length==3&&k==-1){Z(D,1,this);
j=!0}b+=k;this.up=Math.max(0,Math.min(this.QQ.length-1,b));D=this.QQ[this.up];if(D.length==3&&k==1){Z(D,2,this);
j=!0}this.HB(j)}if(E.S(ct.Wq)){if(v.UK())fz.ann(this.aj.bind(this))}if(E.S(ct.iQ)){this.DB=null;this.HB()}}else{var g=this.s.keys;
for(var N=0;N<g.length;N++)if(E.S(g[N]))this.OR(N)}if(E.S(ct.hy)||E.S(ct.OA)){var R=this.LT();R=d.BZ.at_(R,this.g);
this.g=[];for(var N=0;N<R.length;N++)this.g[N]=[];this.dh(R);this.HB()}};bK.VaPo.prototype.aj=function(E){if(E=="granted")fz.D4(this,this.bj.bind(this))};
bK.VaPo.prototype.bj=function(E,y){var c=this.LT();if(c.length==0){alert("Make a plane before pasting an image");
return}if(this.vV==null)this.vV=[0,0];if(this.f==5)this.OR(0);this.OR(5,{Ng:E,k4:y})};bK.VaPo.prototype.kw=function(E){if(E.data.d==S.H.lg){this.OR(E.data.f)}};
bK.VaPo.prototype.a9Q=function(E){var y=this.view.m3(E),c=d.BZ.si(this.LT(),this.g),e=1e9,p=0;for(var N=0;
N<c.length;N++){var H=c[N][0],Z=y.x-H[0],X=y.y-H[1],b=Math.sqrt(Z*Z+X*X);if(b<e){e=b;p=N}}if(e>4*v.k1()/this.view.Cj().O)return null;
return c[p]};bK.VaPo.prototype.Kz=function(E){var y=this.f,c=this.xI;if(y<2&&!this.t7){var e=this.Fu=this.a9Q(E),p=this.LT(),H="auto";
if(y==0&&d.BZ.q1(p,e)){var Z=p[e[1]][1][e[2]],X=Z[5+{1:0,5:1,7:2,3:3}[e[3]]],b=X[0],k=X[1];H=hl.ah7(b[1]-k[1],-b[0]+k[0])}if(d.BZ.a2U(p,e))H="crosshair";
this.view._q(H)}if(c){var D=this.view.m3(E),j=c.slice(0);c[c.length-2]=D.x;c[c.length-1]=D.y;this.HB()}this.qv(E);
if(y==5&&!this.t7&&this.Hr){var D=this.view.m3(E),p=this.LT(),g=d.BZ.ql(p,D.x,D.y,this.Ak());if(g){var R=new eq(g[2][0],g[2][1]),t=d.BZ.b4(p,p[g[0]][1][g[1]],this.Ak()),w=t[1],B=d.r.C0(t[0],w),$=[w.x+w.m/2,w.y+w.e/2];
d.r.u(B,$);var o=D.x-$[0],T=D.y-$[1],i=this.Hr.YN(R,this.view.Cj().O,null,null,Math.atan2(-T,-o));this.view._q(i?i:"default")}}};
bK.VaPo.prototype.qv=function(E){var y=this.f,c=this.xo;if((y==3||y==4)&&!this.t7){var e=E?this.view.m3(E):this.Hn,p=this.LT();
this.Hn=e;if(e==null)return;var H=d.BZ.ql(p,e.x,e.y,this.Ak());if(H){if(y==3&&this.kZ&&this.go[2][3].h()){var Z=new eq(H[2][0],H[2][1]);
this.Sl=Z.DZ(this.kZ);this.HB()}if(y==3&&(this.Sl==null||c&&(c.S(ct.Q3)||c.S(ct.yf)))){if(this.rj){this.q7=null;
this.$$(this.rj);this.HB(!0,this.rj)}return}this.a34(H,this.rj)}}};bK.VaPo.prototype.Ak=function(){return[this.kU.m/2,this.kU.e/2]};
bK.VaPo.prototype.Lz=function(E){this.t7=!0;var y=this.f,c=this.xI,e=this.LT(),p=this.xo,H=this.Fu=this.a9Q(null),Z=this.view.m3(),X=d.BZ.ql(e,Z.x,Z.y,this.Ak()),b=X?new eq(X[2][0],X[2][1]):null;
if(d.BZ.a2U(e,H)){var k=e[H[1]][1][H[2]];e.splice(H[1],1);this.g.splice(H[1],1);c=d.BZ.a7k(k);var D=-1,Z=H[0];
for(var N=0;N<8;N+=2){var j=c[N]-Z[0],g=c[N+1]-Z[1];if(j*j+g*g<1e-5)D=N}D=D+2&7;c=this.xI=c.slice(D).concat(c.slice(0,D));
this.dh(e)}else if(d.BZ.q1(e,H)){if(y==1||p&&p.S(ct.Nc)){e=d.BZ.abe(e,H,this.Ak());this.dh(e);H[2]=e[H[1]][1].length-1;
H[3]=8+(H[3]+4&7);this.g[H[1]].push(H[2]);this.dh(e,!0);this.OR(0)}else this.dh(this.LT(e))}else if(y==0){var R=[];
for(var N=0;N<e.length;N++)R.push([]);if(X){if(p&&p.S(ct.zx))R=this.g;var t=R[X[0]].indexOf(X[1]);if(t==-1)R[X[0]].push(X[1]);
else R[X[0]].splice(t,1)}this.g=R;this.dh(e,!0);this.HB()}else if(y==2){if(X){var w=this.DB;if(w&&w.u6(b)){if(p)if(p.S(ct.Q3)||p.S(ct.Nc)){this.OR(5);
this.Lz(E);return}this.Ql=new eq(b.x-w.x,b.y-w.y)}else{this.il=X[2].concat(X[2]);this.vV=X}}}else if(y==3||y==4){if(y==3){if(p&&(p.S(ct.Q3)||p.S(ct.yf))){if(X){this.Sl=b;
this.qS=b.clone();this.kZ=null;this.Te=X;this.HB()}else alert("You must click into a plane");this.t7=!1;
return}else if(this.Sl==null){alert(i4.get([15,7,0]));this.t7=!1;return}else if(X){var B=this.kZ=b.DZ(this.Sl)}}if(X){this.a34(X)}}else if(y==5){if(X){var $=new eq(X[2][0],X[2][1]),o=this.Hr.yl({Q:this.view.Cj()},{},p,$)}}};
bK.VaPo.prototype.a34=function(E,y){var c=this.q7;if(c==null)this.q7=c=d.R(this.kU.P()*4);else c.fill(0);
var e=this.f;this.vV=E;var p=this.go[e-1],H=d.atF.ak5(p[0].h(),p[1].h()/100,1),Z=d.R(H[1].P()*4);d.Og(H[0],Z,3);
if(e==4){var X=d.L.yd(p[3].h());d.KT(Z,Math.round(X.J)<<16|Math.round(X.D)<<8|Math.round(X.Z)<<0,4278190080)}this.zI={azZ:H[0],Ng:Z,k4:H[1]};
var b=this.rj=this.J2(E[2],E[2]),k=y?y.uN(b):b;this.$$(k);this.HB(!0,k)};bK.VaPo.prototype.Xo=function(E){var y=this.Fu,c=this.f,e=this.LT();
if(c==0&&d.BZ.q1(e,y)){e=d.BZ.arQ(e,y,this.view.m3());this.dh(e,!0);this.HB()}var p=this.Ql;if(c==2&&this.t7&&(this.il||p)){var H=this.view.m3(),Z=d.BZ.ql(e,H.x,H.y,this.Ak());
if(Z){this.vV=Z;if(p){this.DB.x=Z[2][0]-p.x;this.DB.y=Z[2][1]-p.y}else{this.il=this.il.slice(0,2).concat(Z[2]);
this.DB=d.A.xv(this.il)}this.HB()}}if((c==3||c==4)&&this.t7){var H=this.view.m3(),Z=d.BZ.ql(e,H.x,H.y,this.Ak());
if(Z){if(c==3){var X=this.kZ;this.Sl=new eq(Z[2][0]-X.x,Z[2][1]-X.y)}var b=this.J2(this.vV[2],Z[2]);
this.rj=this.rj.uN(b);this.vV=Z;this.$$(b);this.HB(!0,b)}}if(c==5&&this.t7){var H=this.view.m3(),Z=d.BZ.ql(e,H.x,H.y,this.Ak(),this.vV);
if(Z){var k=new eq(Z[2][0],Z[2][1]);this.Hr.Lv({Q:this.view.Cj()},{},this.xo,k);this.vV=Z;var b=this.rj;
if(b)this.$$(b);else b=new ir;this.rj=this.zq(null,null,!0);this.HB(!0,b.uN(this.rj))}}};bK.VaPo.prototype.J2=function(E,y){E=new eq(E[0],E[1]);
y=new eq(y[0],y[1]);var c=Math.max(1e-5,eq.oG(E,y)),e=this.zI.k4.m*.2,p=new ir;for(var H=0;H<c;H+=e){var Z=1-H/c,X=Z*E.x+(1-Z)*y.x,b=Z*E.y+(1-Z)*y.y,k=this.zI.k4.clone();
k.x=Math.round(X-k.m/2);k.y=Math.round(b-k.e/2);if(this.f==3){var D=this.kZ;if(D==null)D=new eq(X,b).DZ(this.Sl);
var j=this.DB=k.clone();j.x=Math.round(j.x-D.x);j.y=Math.round(j.y-D.y);var g=this.zI.azZ;this.zI=this.ard(this.Te);
this.DB=null;d.pe(g,this.zI.Ng);this.zI.azZ=g}var R=this.zq(this.q7,k);p=p.uN(R)}return p};bK.VaPo.prototype.P6=function(E){var y=this.Fu;
if(y&&y[3]>=8){var c=d.BZ.a8M(this.LT(),y,this.Ak());this.dh(c,!0);this.HB();alert("new plane added")}var e=this.f,p=this.xI;
if(p||e==1){var H=this.view.m3();if(p==null)p=this.xI=[H.x,H.y];if(p.length==8&&hl.uK(p)){var c=this.LT();
c.push([100,[d.BZ.a35(p,this.Ak())]]);this.g.push([0]);this.dh(c,!0);p=this.xI=null;this.OR(0);this.HB()}else if(p.length<8){p.push(H.x,H.y);
if(p.length==8&&!hl.uK(p)){var Z=p[0],X=p[1];p[0]=p[4];p[1]=p[5];p[4]=Z;p[5]=X}}}var b=this.il;if(e==2&&b&&b[0]==b[2]&&b[1]==b[3]){this.DB=null;
this.HB()}if((e==3||e==4)&&this.t7){if(e==3&&!this.go[2][3].h()&&this.qS){this.Sl=this.qS.clone();this.HB()}this.dh();
this.q7=null}if(!this.go[2][3].h())this.kZ=null;this.t7=!1;this.Ql=null;this.il=null};bK.VaPo.prototype.OR=function(E,y){if(E==this.f)return;
var c=this.rj,p=6;if(this.f==5){this.dh();this.$$(c);this.Hr=null;this.HB()}if(this.f==3||this.f==4){this.q7=null;
if(c)this.$$(c);this.HB(!0,c)}if(E==5){if(y==null&&this.DB==null){alert("Select the area to be transformed");
return}this.aBI(y)}if(E>1){var e=this.LT();this._8();this.dh(e,!0);this.HB()}this.view.Gu(E>=p?cP.od(E-p):new ct);
if(E<p)this.view._q("auto");this.f=E;this.nk.OR(E);v.Vz(this.fw);var H={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[E];
this.fw.appendChild(this.Y9[H])};bK.VaPo.prototype.LT=function(){var N=this.up,E=this.QQ;while(E[N].length==3)N--;
var y=E[N];this.g=JSON.parse(y[1]);return JSON.parse(y[0])};bK.VaPo.prototype.dh=function(E,y){if(E==null&&this.rj==null)return;
var c=this.QQ,e=this.up,N=e;while(N>=0&&c[N].length==3)N--;if(y==null)this.up=e=e+1;if(E!=null)c[y?N:e]=[JSON.stringify(E),JSON.stringify(this.g)];
else{var p=this.kU,H=this.rj,Z=d.R(H.P()*4),X=d.R(H.P()*4);c[e]=[H,Z,X];d.E6(this.tw,p,Z,H);if(this.q7)d.l.Io("norm",this.q7,p,this.tw,p,p,this.a8Z());
else this.zq(this.tw);d.E6(this.tw,p,X,H);this.rj=null}while(c.length!=e+1)c.pop()};bK.VaPo.prototype.a8Z=function(){return this.go[this.f-1][2].h()/100};
bK.VaPo.prototype._8=function(E,y){if(E==null)E=this.LT();this.g=[];for(var N=0;N<E.length;N++){var c=[];
this.g.push(c);if(y)for(var e=0;e<E[N][1].length;e++)c.push(e)}};bK.VaPo.prototype.c=function(E,y,c,e,p,H){var Z=JSON.parse(JSON.stringify(H[2].BZ));
this.up=-1;this._8(Z);this.dh(Z);var X=d.R(e.P()*4);d.E6(y,c,X,e);this.a25=new ir;this.kU=e;this.aay=p;
this.tw=X;this.wh=p.slice(0);this.$$(e);this.HB(!0);this.view.eu();this.OR(0)};bK.VaPo.prototype.aBI=function(E){this.zI=E?E:this.ard();
var y=d.A.S6(this.zI.k4).j;if(E){var c=this.LT(),e=d.BZ.b4(c,c[0][1][0],this.Ak()),p=e[1],H=Math.min(p.m/E.k4.m,p.e/E.k4.e)*.9;
if(H<1)d.A.u(y,new jr(H,0,0,H,0,0),y)}this.Hr=new hl(y,!0,!0);this.DB=null;this.rj=this.zq();this.HB(!0)};
bK.VaPo.prototype.ard=function(E){var y=this.kU,c=d.A.u8(this.DB),e=this.LT(),p=d.R(c.P()*4);if(E==null)E=this.vV;
var H=e[E[0]][1],Z=d.BZ.dk(e[E[0]][1],E[1],c,this.Ak());for(var X=0;X<Z.length;X++){var b=H[Z[X]],k=d.BZ.b4(e,b,this.Ak()),D=k[0],j=k[1],g=j.fr(c);
if(g.tj())continue;g=d.A.u8(g);var R=d.R(g.P()*4),t=d.r.C0(D,j);t=d.r.wl([1/y.m,0,0,0,1/y.e,0,0,0],t);
t=d.r.Ub(t);d.r.drawImage(t,this.wh,y.m,y.e,R,g);d.E6(R,g,p,c)}var w=this.go[1][0].h(),B=Math.round(w*1.4),$=c.clone();
$.r4(-B,-B);var o=d.R($.P());o.fill(255);var T=d.R(c.P());d.kh(o,$,T,c);var i=d.R(c.P());d.gC.VI(T,i,c,w);
d.LI(p,T,3);d.c7.fr(T,i,i);d.Og(i,p,3);return{Ng:p,k4:c}};bK.VaPo.prototype.$$=function(E,y){var c=this.kU;
d.E6(this.aay,c,this.wh,c,E);d.l.Io("norm",this.tw,c,this.wh,c,E,1);if(this.q7)d.l.Io("norm",this.q7,c,this.wh,c,E,this.a8Z())};
bK.VaPo.prototype.zq=function(E,y,c){var e=this.zI,p=e.k4,H=this.kU,Z,X=y?d.A.S6(y).j:this.Hr.si(),b=d.A.n7(X),Z=d.r.C0(X,p),k=this.go[4],D=new jr;
if(k[0].h()){D.U=-1;D.Kc=2*p.x+p.m}if(k[1].h()){D.sN=-1;D.Dm=2*p.y+p.e}Z=d.r.wl(Z,d.r.$m(D));function j(h,A){h.beginPath();
h.moveTo(A[0],A[1]);for(var N=1;N<4;N++)h.lineTo(A[N*2],A[N*2+1]);h.closePath()}var g=this.LT(),R=d.BZ.dk(g[this.vV[0]][1],this.vV[1],b,this.Ak()),t=g[this.vV[0]][1],w=new ir;
for(var B=0;B<R.length;B++){var $=t[R[B]],o=d.BZ.b4(g,$,this.Ak()),T=o[0],i=o[1],r=i.fr(b);if(this.DB)r=r.fr(this.DB);
if(r.tj())continue;var I=d.r.C0(T,i),M=d.A.S6(r).j;d.r.u(I,M);var J=X.slice(0);d.r.u(I,J);var P=d.A.xv(J).fr(d.A.xv(M)),n=P.m,x=P.e;
if(P.tj())continue;I=d.r.wl(d.r.wl(I,Z),[p.m,0,p.x,0,p.e,p.y,0,0]);var L=d.R(P.P()*4);d.r.drawImage(I,e.Ng,p.m,p.e,L,P,c);
if(r.P()!=b.P()){var u=d.FB(n,x);u.save();u.clearRect(0,0,n,x);u.translate(-P.x,-P.y);j(u,M);u.clip();
j(u,J);u.fill();u.restore();var C=new Uint8Array(u.getImageData(0,0,n,x).data.buffer);for(var N=3;N<L.length;
N+=4)if(C[N]<L[N])L[N]=C[N]}d.l.Io("norm",L,P,E?E:this.wh,H,P,1);w=w.uN(P)}return w};bK.VaPo.prototype.h=function(){return JSON.parse(JSON.stringify(this.LT()))};
bK.VaPo.prototype.a6h=function(){if(this.f==5)this.OR(0);var E=new ir,y=this.QQ;for(var N=0;N<=this.up;
N++)if(y[N].length==3)E=E.uN(y[N][0]);var c=d.R(E.P()*4);d.E6(this.tw,this.kU,c,E);return[c,E]};bK.VaPo.prototype.Cl=function(E,y){this.nk.Cl(E,y);
this.view.Cl(E-40,y-30)};bK.VaPo.prototype._=function(){this.nk._();for(var N=0;N<this.go.length;N++)for(var E=0;
E<this.go[N].length;E++)this.go[N][E]._()};bK.VaPo.prototype.HB=function(E,y){var c=this.kU,e=[],p=[],H=[],Z=this.LT(),X=d.BZ.si(Z,this.g),b=0,k=null,B=null,$=null,o=null;
for(var N=0;N<X.length;N++)H.push(X[N][0][0],X[N][0][1]);for(var N=0;N<Z.length;N++){var D=this.g[N].length;
b+=D;if(D!=0)k=[N,this.g[N][0]]}var j=this.go[0][0];j.U0(b!=0);if(b!=0)j.c(Math.round(Z[k[0]][0]));if(b==1){var g=Z[k[0]][1]}var R=[];
if(this.DB&&Z[this.vV[0]])R=d.BZ.dk(Z[this.vV[0]][1],this.vV[1],this.DB,this.Ak());var t=[];if(this.Hr){t=this.Hr.ahP();
t[4]=this.Hr.ER()}var w=[];if(this.Hr&&Z[this.vV[0]])w=d.BZ.dk(Z[this.vV[0]][1],this.vV[1],d.A.xv(this.Hr.si()),this.Ak());
for(var T=0;T<Z.length;T++){var i=Z[T][0],g=Z[T][1],r=this.g[T];for(var I=0;I<g.length;I++){var k=g[I],M=d.BZ.b4(Z,k,this.Ak()),J=M[0],c=M[1],P=d.r.C0(J,c);
if(c.tj()){if($==null)$={G:[],j:[]};d.A.concat($,{G:["M","L","L","L","Z"],j:J});continue}var n=d.A.S6(c),x=n.j,L=n.G,u=this.Sl;
if(u&&c.u6(u)&&this.Te&&this.Te[0]==T){B=[u.x,u.y];d.r.u(P,B)}if(R.indexOf(I)!=-1){var C=this.DB.fr(c);
if(T==this.vV[0]&&!C.tj()){if(o==null)o={j:[],G:[]};var h=d.A.S6(C);d.r.u(P,h.j);d.A.concat(o,h)}}if(w.indexOf(I)!=-1&&T==this.vV[0]){var A=[];
for(var N=0;N<t.length;N++)if(c.u6(t[N]))A.push(t[N].x,t[N].y);if(A.length!=0){d.r.u(P,A);H=H.concat(A)}}if(r&&r.indexOf(I)!=-1){var W=Math.ceil(c.x/i)*i,Q=c.x+c.m,l=Math.ceil(c.y/i)*i,O=c.y+c.e;
for(var z=W;z<Q;z+=i){x.push(z,c.y,z,O);L.push("M","L")}for(var a=l;a<O;a+=i){x.push(c.x,a,Q,a);L.push("M","L")}}d.r.u(P,x);
e=e.concat(L);p=p.concat(x)}if(B&&this.f==3){var z=B[0],a=B[1],m=10/this.view.Cj().O;p.push(z-m,a,z+m,a);
p.push(z,a-m,z,a+m);e.push("M","L","M","L")}}var J=this.xI,c=this.kU;if(J){var q=["M"];for(var N=0;N<J.length-2;
N+=2)q.push("L");q.push("Z");var K=F.Et.dm(J,c.m/2,c.e/2);if(isNaN(K)||K==Infinity||K==-Infinity||!hl.uK(J)){if($==null)$={G:[],j:[]};
d.A.concat($,{G:q,j:J})}else{p=p.concat(J);e=e.concat(q)}}var U={Aq:{G:e,j:p},axH:$,a5w:o,AX:H,zY:null};
if(E){this.view.c([{Yu:c,data:this.wh.buffer}],null,U,y)}else this.view.apo(U)};bK.blnc=function(){bK.call(this);
var E=this.n;this.nn=null;this.bT=new a_([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.bT.k(S.E.p,this.HB,this);
E.appendChild(this.bT.n);this.ot=[];for(var N=0;N<3;N++){var y=new dX(["VAR0 - VAR1",et.a5y[N],et.gY[N]],-100,100);
y.k(S.E.p,this.C7,this);this.ot.push(y);E.appendChild(y.n)}this.Xw=new b8([13,4]);this.Xw.k(S.E.p,this.C7,this);
E.appendChild(this.Xw.n)};bK.blnc.prototype=new bK;bK.blnc.prototype._=function(){this.bT._();for(var N=0;
N<3;N++)this.ot[N]._();this.Xw._()};bK.blnc.prototype.c=function(E){this.nn=JSON.parse(JSON.stringify(E));
this.HB()};bK.blnc.prototype.h=function(E){var y=["ShdL","MdtL","HghL"],c=this.nn[y[this.bT.h()]].v;
for(var N=0;N<3;N++)c[N].v=this.ot[N].h();this.nn.PrsL.v=this.Xw.h();return JSON.parse(JSON.stringify(this.nn))};
bK.blnc.prototype.HB=function(E){var y=["ShdL","MdtL","HghL"],c=this.nn[y[this.bT.h()]].v;for(var N=0;
N<3;N++)this.ot[N].c(c[N].v);this.Xw.c(this.nn.PrsL.v)};bK.brit=function(){bK.call(this,"brit");this.Zp.push(new dX([12,2],-150,150,""));
this.Zp.push(new dX([12,3,0],-100,100,""));this.Zp.push(new b8([12,3,1]));this.Rz()};bK.brit.prototype=new bK;
bK.curv=function(){bK.call(this);this.value=null;this.Jc=null;this.P0=null;var E=this.n;this.wP=new a_("Preset",["basic","advanced"]);
this.wP.k(S.E.p,this.aD7,this);E.appendChild(this.wP.n);v.vY(E);this.k0=new a_([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.k0.k(S.E.p,this.Ur,this);E.appendChild(this.k0.n);this.bL=new a_(null,["Spline","Sketch"]);this.bL.k(S.E.p,this.aD7,this);
E.appendChild(this.bL.n);this.Xh=new kH;this.Xh.parent=this;this.Xh.k(S.E.p,this.aS,this);E.appendChild(this.Xh.n);
v.vY(E);this.VH=new d9;this.VH.k(S.E.p,this.ft,this);E.appendChild(this.VH.n);this.Wc=null;this.auB=0;
this.U3=0;v.vY(E);this.C1=new hS("Sample from image",aN.Ma(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.C1.k(S.E.p,this.dB,this);this.C1.n.style.marginRight="0";E.appendChild(this.C1.n)};bK.curv.prototype=new bK;
bK.curv.prototype.mh=function(E,y){if(y==iL.Dg||y==iL.Ca){var c=E.jN,e=["Default"];for(var N=0;N<c.length;
N++)e.push(c[N].presetFileName.v);e.push("Custom");this.wP.Pt(e,[1,c.length,1]);this.P0=E}};bK.curv.prototype.Cl=function(E,y){this.VH.Cl(E,y)};
bK.curv.prototype._=function(){this.k0._();this.VH._()};bK.curv.prototype.I_=function(){this.wP.c(this.P0.jN.length+1)};
bK.curv.prototype.aD7=function(E){if(E.target==this.wP){var y=this.wP.h(),c=this.P0.jN,e;if(y==0)e=cN.TL("curv");
else if(y-1<c.length)e=JSON.parse(JSON.stringify(c[y-1]));else return;this.c(e);this.C7();return}this.I_();
var p=gG.PM(this.value,0),H=p.length==256?1:0,Z=this.bL.h();if(H==Z)return;var e=cN.TL("curv");if(Z==1){var X=[];
for(var N=0;N<256;N++)X.push(N);gG.UL(e,0,X)}this.c(e);this.C7()};bK.curv.prototype.ft=function(){this.I_();
gG.UL(this.value,this.k0.h(),this.VH.h());this.C7()};bK.curv.prototype.Ur=function(){var E=this.k0.h(),y=gG.PM(this.value,E),c=y.length==256?1:0;
this.bL.c(c);if(this.Jc)this.VH.i3(this.Jc[E],this.Jc[4]*[1,.33,.33,.33][E],["#ccc","#fcc","#cfc","#ccf"][E]);
this.VH.c(y)};bK.curv.prototype.Zo=function(){return!0};bK.curv.prototype.yl=function(E,y,c,e,p){var H=this.value;
this.value=cN.TL("curv");this.C7();var Z=F.gw.vH(E,p,1,null,!0),X=this.Wc=[Z>>>16&255,Z>>>8&255,Z&255];
this.auB=p.y;var b=this.C1.h().indexOf(!0);if(b==0){var k=(X[0]+X[1]+X[2])/3,D=this.k0.h(),j=gG.PM(H,D),g=D==0?k:X[D-1],R=-1;
for(var N=0;N<j.length;N++)if(j[N].v.Hrzn.v==g)R=N;if(R==-1){var t=JSON.parse(JSON.stringify(j[0]));
t.v.Hrzn.v=g;t.v.Vrtc.v=g;j.push(t);j.sort(function(w,B){return w.v.Hrzn.v-B.v.Hrzn.v});gG.UL(H,D,j);
this.U3=j.indexOf(t)}else this.U3=R}this.c(H);this.C7()};bK.curv.prototype.Lv=function(E,y,c,e,p){if(this.Wc==null)return;
if(this.C1.h().indexOf(!0)==0){var H=this.value,Z=this.k0.h(),X=gG.PM(H,Z),b=X[this.U3];b.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(b.v.Hrzn.v+(this.auB-p.y))));
gG.UL(H,Z,X);this.c(H);this.C7()}};bK.curv.prototype.JA=function(E,y,c,e,p){var H=this.value,Z=this.Wc,X=(Z[0]+Z[1]+Z[2])/3,b=this.C1.h().indexOf(!0)-1;
if(b<=-1){}else for(var N=0;N<3;N++){var k=gG.PM(H,1+N);if(b==0)k[0].v.Hrzn.v=Z[N];if(b==1){var D=Math.log(Z[N]/255)/Math.log(X/255),j=Math.min(999,Math.max(10,Math.round(100*D)));
if(k.length==2)k.splice(1,0,JSON.parse(JSON.stringify(k[0])));k[1].v.Hrzn.v=127-Math.log(j/100)*127;
k[1].v.Vrtc.v=127}if(b==2)k[k.length-1].v.Hrzn.v=Z[N];gG.UL(H,1+N,k)}this.c(H);this.C7();this.I_();this.Wc=null};
bK.curv.prototype.c=function(E){this.value=E;this.Ur()};bK.curv.prototype.i3=function(E){this.Jc=E;this.Ur()};
bK.curv.prototype.h=function(E){return JSON.parse(JSON.stringify(this.value))};bK.curv.prototype.aS=function(){var E=this.Xh.h(),y=this.Jc,c=this.value,e=d.ap1(E,y);
for(var N=0;N<4;N++){var p=e[N][0],H=e[N][1],Z=e[N][2],X=[d.$K.rL(p,0,!0),d.$K.rL(H,255,!0)];if(Z!=null)X.splice(1,0,d.$K.rL(128,Z,!0));
gG.UL(c,N,X)}this.Ur();this.C7()};bK.expA=function(){bK.call(this,"expA");this.Zp.push(new dX([12,5],-20,20,null,2,!0));
this.Zp.push(new dX([12,6],-.5,.5,null,2));this.Zp.push(new dX([12,7],.01,9.99,null,2,!0));this.Rz()};
bK.expA.prototype=new bK;bK.expA.prototype.$A=function(E,y){y[0]=E.Exps.v;y[1]=E.Ofst?E.Ofst.v:0;y[2]=E.gammaCorrection?E.gammaCorrection.v:1};
bK.expA.prototype.W9=function(E,y){E.Exps={t:"doub",v:y[0]};E.Ofst={t:"doub",v:y[1]};E.gammaCorrection={t:"doub",v:y[2]}};
bK.grdm=function(){bK.call(this,"grdm");this.Zp.push(new hV(!0,null,!0));this.Zp.push(new b8([12,23,0]));
this.Rz()};bK.grdm.prototype=new bK;bK.grdm.prototype.$A=function(E,y){y[0]=E.Grad.v;y[1]=E.Rvrs?E.Rvrs.v:!1};
bK.grdm.prototype.W9=function(E,y){E.Grad.v=y[0];E.Rvrs={t:"bool",v:y[1]}};bK.grdm.prototype.mh=function(E,y){this.Zp[0].Yz(E.x4,E.YO);
if(y==iL.Dg||y==iL.g6||y==iL.FP)this.Zp[0].Vd(E.s4)};bK.selc=function(){bK.call(this);var E=this.n;this.S2=[];
this.sQ=null;this.bT=new a_([12,82],et.VZ.concat([[13,1,8],[13,1,13],[13,1,10]]));this.bT.k(S.E.p,this.YZ,this);
E.appendChild(this.bT.n);v.vY(E);for(var N=0;N<4;N++){var y=new dX(et.a5y[N],-100,100,"%");y.k(S.E.p,this.YZ,this);
this.S2.push(y);E.appendChild(y.n)}this.aZ=new b8([13,3]);E.appendChild(this.aZ.n);this.aZ.k(S.E.p,this.YZ,this)};
bK.selc.prototype=new bK;bK.selc.prototype._=function(){this.bT._();this.aZ._();for(var N=0;N<4;N++)this.S2[N]._()};
bK.selc.prototype.c=function(E){this.sQ=JSON.parse(JSON.stringify(E));this.HB()};bK.selc.prototype.h=function(E){return JSON.parse(JSON.stringify(this.sQ))};
bK.selc.prototype.YZ=function(E){if(E.target!=this.bT){var y=this.sQ,c=[];for(var N=0;N<4;N++)c[N]=this.S2[N].h();
gp.UL(y,this.bT.h(),c);y.Mthd={t:"enum",v:{CrcM:this.aZ.h()?"Absl":"Rltv"}}}this.HB();this.C7()};bK.selc.prototype.HB=function(){var E=this.sQ,y=gp.PM(E,this.bT.h());
for(var N=0;N<4;N++)this.S2[N].c(y[N]);this.aZ.c(E.Mthd?E.Mthd.v.CrcM=="Absl":!1)};bK.blwh=function(){bK.call(this,"blwh");
this.Zp.push(new b8([12,11]));this.Zp.push(new eX(!0));for(var N=0;N<6;N++)this.Zp.push(new dX(et.VZ[N],-200,300));
this.Rz()};bK.blwh.prototype=new bK;bK.blwh.prototype.$A=function(E,y){y[0]=E.useTint.v;y[1]=E.tintColor.v;
var c="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var N=0;N<6;N++)y[2+N]=E[c[N]].v};bK.blwh.prototype.W9=function(E,y){E.useTint.v=y[0];
E.tintColor.v=y[1];var c="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var N=0;N<6;N++)E[c[N]].v=y[2+N]};
bK.hue2=function(){bK.call(this);this.value=null;this.Uf=null;this.aia=null;this.pG=[[0,0,0],[0,50,0]];
var E=this.n;this.C1=new hS(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.C1.k(S.E.p,this.a2n,this);this.C1.k(S.E.p,this.dB,this);E.appendChild(this.C1.n);var y=this.Zp=[new a_([12,12],["Master"].concat(et.VZ)),new dX([12,8],-180,180),new dX([12,9],-100,100),new dX([12,10],-100,100),new b8([12,11])];
for(var N=0;N<y.length;N++){var c=y[N];c.k(S.E.p,N==0?this.Ur:this.aqK,this);E.appendChild(c.n)}this.bT=y[0];
this.p4=y[1];this.wd=y[2];this.Co=y[3];this.jt=y[4];this.$Q=new hS("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.$Q.k(S.E.p,this.a2n,this);this.$Q.k(S.E.p,this.dB,this);this.$Q.n.style.marginLeft="20px";E.appendChild(this.$Q.n);
this.jZ=v.t("div");E.appendChild(this.jZ);this.AT=this.v9.bind(this);this.Uk=this.i4.bind(this);this.V$=v.t("canvas");
this.kA=this.V$.getContext("2d");this.Y0=null;v._N(this.V$);v.Uh(this.V$,282,18);E.appendChild(this.V$);
v.Qp(this.V$,this.wf.bind(this))};bK.hue2.prototype=new bK;bK.hue2.prototype.Cl=function(E,y){v.Uh(this.V$,Math.round(E),18);
if(this.value)this.Ur()};bK.hue2.prototype.a2n=function(E){var y=E.target.h().indexOf(!0);if(y==-1)return;
if(E.target==this.C1)this.$Q.c([!1,!1,!1]);else this.C1.c([!1,!1,!1])};bK.hue2.prototype.wf=function(E){if(this.bT.h()==0||this.jt.h())return;
var y=v.RM(E,this.V$).x/(this.V$.width/v.k1()),H=1e6;function c(j,g,R){return j<g&&g<R||R<j&&(j<g||g<R)}var e=this.Bp(),p=-1;
for(var N=0;N<4;N++){var Z=Math.abs(y-(e[N]+N*1e-5));if(Z<H){H=Z;p=N}}if(H>.025){p=-1;var X=e[0],b=e[1],k=e[2],D=e[3];
if(c(X,y,b))p=4;if(c(b,y,k))p=5;if(c(k,y,D))p=6}if(p==-1)return;this.Y0=p;v.FY(document.body,this.AT);
v.Fo(document.body,this.Uk)};bK.hue2.prototype.v9=function(E){var y=v.RM(E,this.V$).x/(this.V$.width/v.k1()),c=this.Bp(),e=this.Y0;
for(var N=1;N<4;N++)if(c[N]<c[N-1]){c[N]+=1}if(e<4){var p=1e6,H=0;for(var N=-20;N<20;N++){var Z=Math.abs(c[e]-(y+N));
if(Z<p){p=Z;H=N}}y+=H;c[e]=y;for(var N=e+1;N<4;N++)if(c[N]<c[N-1]){c[N]=c[N-1]}for(var N=e-1;N>=0;N--)if(c[N]>c[N+1]){c[N]=c[N+1]}}else{var X=y-(c[e-4]+c[e-3])/2;
if(X<-.5)X+=1;if(e==4){c[0]+=X;c[1]+=X;c[2]=Math.max(c[1],c[2]);c[3]=Math.max(c[1],c[3])}if(e==5)for(var N=0;
N<4;N++)c[N]+=X;if(e==6){c[2]+=X;c[3]+=X;c[0]=Math.min(c[0],c[2]);c[1]=Math.min(c[1],c[2])}}for(var N=1;
N<4;N++)if(c[N]<c[N-1])throw"e";this.a5I(c);this.Ur();this.C7()};bK.hue2.prototype.i4=function(E){v.Ci(document.body,this.AT);
v.QM(document.body,this.Uk)};bK.hue2.prototype._=function(){for(var N=0;N<this.Zp.length;N++)this.Zp[N]._()};
bK.hue2.prototype.aqK=function(E){var y=this.value.Clrz.v=this.jt.h();if(y)this.bT.c(0);if(E&&E.target==this.jt){var c=y?1:0;
this.pG[1-c]=b0.PM(this.value,0);var e=this.pG[c];b0.UL(this.value,0,e);if(this.bT.h()==0){this.p4.c(e[0]);
this.wd.c(e[1]);this.Co.c(e[2])}}var p=this.bT.h(),H=b0.PM(this.value,p),e=p==0?H:H.ot;e[0]=this.p4.h();
var Z=this.wd.h();e[1]=y?Math.max(0,Z):Z;e[2]=this.Co.h();b0.UL(this.value,p,H);this.Ur();this.C7()};
bK.hue2.prototype.Ur=function(){var E=this.bT.h(),y=this.value.Clrz?this.value.Clrz.v:!1;this.jt.c(y);
this.bT.U0(!y);this.$Q.U0(!y&&E!=0);var c=b0.PM(this.value,E),e=E==0?c:c.ot;this.p4.c(e[0]);this.wd.c(e[1]);
this.Co.c(e[2]);var p=this.V$.width,H=this.V$.height,Z=this.kA;Z.clearRect(0,0,p,H);if(y||E==0){this.jZ.innerHTML="";
return}var X=c.rX;this.jZ.innerHTML=X[0]+"\xB0 / "+X[1]+"\xB0<span style=\"float:right\">"+X[2]+"\xB0 \\ "+X[3]+"\xB0</span>";
var b=d.R(p*4);i0.aym(b,1,p,-1,.5);var k=new ImageData(new Uint8ClampedArray(b.buffer),p,1),D=Math.round(H/4);
for(var N=0;N<D;N++)Z.putImageData(k,0,N);function j($,o,T){Z.fillStyle=T;var i=D*2;if($<=o)Z.fillRect($*p,i,(o-$)*p,D);
else{Z.fillRect(0,i,o*p,D);Z.fillRect($*p,i,(1-$)*p,D)}}var g=this.Bp();j(g[0],g[1],"#888888");j(g[1],g[2],"#cccccc");
j(g[2],g[3],"#888888");Z.fillStyle="#ffffff";Z.lineWidth=1;Z.beginPath();var R=D+.5,t=4*D+.5;for(var N=0;
N<4;N++){var w=Math.floor(p*g[N])+.5,B=(N<2?-1:1)*D*(N==1||N==2?1:2);Z.moveTo(w,R);Z.lineTo(w,t);Z.lineTo(w+B,t);
Z.lineTo(w+B,D+D+.5);Z.closePath()}Z.fill();Z.stroke()};bK.hue2.prototype.Bp=function(){var E=this.bT.h(),y=b0.PM(this.value,E).rX;
for(var N=0;N<4;N++)y[N]=(1000.5+y[N]/360)%1;return y};bK.hue2.prototype.a5I=function(E){var y=this.bT.h(),c=b0.PM(this.value,y);
for(var N=0;N<4;N++)c.rX[N]=Math.round(36e3+(E[N]-.5)*360)%360;b0.UL(this.value,y,c)};bK.hue2.prototype.Zo=function(){return!0};
bK.hue2.prototype.a3s=function(){var E=this.C1.h().indexOf(!0),y=this.$Q.h().indexOf(!0);return E!=-1?E:y!=-1?y+1:-1};
bK.hue2.prototype.yl=function(E,y,c,e,p){var H=this.a3s();if(H==-1)return;var Z=this.value;this.value=cN.TL("hue2");
this.C7();var X=F.gw.vH(E,p,1,null,!0);this.c(Z);var b=[X>>>16&255,X>>>8&255,X&255],k=d.vb(b[0]/255,b[1]/255,b[2]/255);
if(H==0){this.bT.c(1+Math.round(k.T4*6)%6)}else{var D=this.Bp(),j=.5+k.T4,g=1/12,R=D[1],t=D[2];if(t<R){t++;
if(j<R&&j+1-t<R-j)j++}var w=R<=j&&j<=t;if(H==1){R=j-g/2;t=j+g/2}else if(H==2&&!w){R=Math.min(j,R);t=Math.max(j,t)}else if(H==3&&w){if(j-R<t-j)R=j;
else t=j}D=[R-g,R,t,t+g];this.a5I(D)}this.C7();this.Uf=p.x;this.aia=this.wd.h()};bK.hue2.prototype.Lv=function(E,y,c,e,p){var H=this.a3s();
if(H==-1)return;if(H==0){if(this.Uf!=null){var Z=p.x-this.Uf;Z=Math.max(-100,Math.min(100,this.aia+.5*Z));
this.wd.c(Z);this.aqK()}}};bK.hue2.prototype.JA=function(E,y,c,e,p){this.Uf=null};bK.hue2.prototype.c=function(E){this.value=JSON.parse(JSON.stringify(E));
var y=this.value.Clrz?this.value.Clrz.v:!1;this.pG[y?1:0]=b0.PM(this.value,0);this.Ur()};bK.hue2.prototype.h=function(E){return JSON.parse(JSON.stringify(this.value))};
bK.levl=function(){function E(){bK.call(this);this.value=null;this.Jc=null;this.qT=[new eq(0,0),new eq(0,0),new eq(0,0),new eq(0,0),new eq(0,0)];
this.k$=-1;this.AT=this.v9.bind(this);this.Uk=this.i4.bind(this);var y=this.n;this.k0=new a_([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.k0.k(S.E.p,this.Ur,this);y.appendChild(this.k0.n);this.Xh=new kH;this.Xh.parent=this;this.Xh.k(S.E.p,this.aS,this);
y.appendChild(this.Xh.n);var c=v.t("div","");y.appendChild(c);var e=v.t("div","");y.appendChild(e);this.V$=v.t("canvas");
c.appendChild(this.V$);this.kA=this.V$.getContext("2d");this.ao=new eq(256,120);this.V$.setAttribute("style","display:block");
v._N(this.V$);v.Qp(this.V$,this.wf.bind(this));this.mg=v.t("canvas","");e.appendChild(this.mg);this.Zu=this.mg.getContext("2d");
this.oZ=new eq(this.ao.x,40);this.mg.setAttribute("style","display:block");v._N(this.mg);v.Qp(this.mg,this.afn.bind(this));
var p=this.c_=[];for(var N=0;N<5;N++){var H=new d3(null,null,3);p.push(H);H.k(S.E.p,this.a2T,this);(N<2||N==4?c:e).appendChild(H.n)}c.appendChild(p[1].n);
this.C1=new hS("Sample from image",aN.Ma(["#000000","#888888","#ffffff"]),!0,null,!0);this.C1.k(S.E.p,this.dB,this);
y.appendChild(this.C1.n);this.Cl(250,100)}E.prototype=new bK;E.prototype.aS=function(){var y=this.Xh.h(),c=this.Jc,e=this.value,p=d.ap1(y,c);
for(var N=0;N<4;N++){var H=p[N][0],Z=p[N][1],X=p[N][2],b=[d.$K.rL(H,0,!0),d.$K.rL(Z,255,!0)];if(X!=null)b.splice(1,0,d.$K.rL(128,X,!0));
var k=[~~H,~~Z,0,255,X==null?100:~~(100+.75*100*(X-128)/128)];fE.UL(e,N,k)}this.Ur();this.C7()};E.prototype.Cl=function(y,c){y+=6;
this.ao.x=this.oZ.x=y;v.Uh(this.V$,y,this.ao.y,this.kA);v.Uh(this.mg,y,this.oZ.y,this.Zu);var e=this.c_;
e[3].n.setAttribute("style","margin-left: "+(y-104)+"px");e[4].n.setAttribute("style","margin: 0 "+(y/2-74)+"px");
if(this.value)this.Ur()};E.prototype._=function(){this.k0._()};E.prototype.a2T=function(y){var c=[];
for(var N=0;N<5;N++){var e=255,p=1;if(N==4){e=999;p=100}var H=parseFloat(this.c_[N].h());c[N]=Math.max(0,Math.min(e,H*p))}fE.UL(this.value,this.k0.h(),c);
this.Ur();this.C7()};E.prototype.Ur=function(y){var c=this.ao.x,e=this.ao.y,p=this.k0.h(),H=this.kA;
H.clearRect(0,0,c,e);H.fillStyle="#cccccc";H.fillRect(8,8,c-16,e-16-8);if(this.Jc){var Z=this.Jc[0].slice(0),t=0;
if(p==0){Z.fill(0);var X=JSON.parse(JSON.stringify(this.value));fE.UL(X,0,[0,255,0,255,100]);var b=et.z8("levl",X),k=[b.vB,b.nA,b.yS];
for(var D=0;D<3;D++){var j=this.Jc[1+D],g=k[D];for(var N=0;N<256;N++)Z[g[N]]+=j[N]}}var R=p==0?Z:this.Jc[p];
for(var N=0;N<R.length;N++)t+=R[N];H.fillStyle="#333333";H.beginPath();H.moveTo(8,e-16);for(var N=0;
N<256;N++){var w=55*R[N]/t;H.lineTo(8+N/256*(c-16),Math.max(8,e-16-e*w))}H.lineTo(c-8,e-16);H.closePath();
H.fill()}var B=fE.PM(this.value,p);for(var N=0;N<5;N++)this.c_[N].c(B[N]/(N==4?100:1));this.qT[0].tW(8+B[0]/255*(c-16),e-14);
this.qT[1].tW(8+B[1]/255*(c-16),e-14);var $=Math.log(B[4]/100)/Math.log(9.99);$=.5-$/2;this.qT[4].tW(this.qT[0].x+$*(this.qT[1].x-this.qT[0].x),e-14);
this.QB(H,this.qT[0],"#000000");this.QB(H,this.qT[1],"#ffffff");this.QB(H,this.qT[4],"#777777");var c=this.oZ.x,e=this.oZ.y;
H=this.Zu;H.clearRect(0,0,c,e);var o=H.createLinearGradient(0,0,c-16,0);o.addColorStop(0,"black");o.addColorStop(1,"white");
H.fillStyle=o;H.fillRect(8,8,c-16,16);this.qT[2].tW(8+B[2]/255*(c-16),e-14);this.qT[3].tW(8+B[3]/255*(c-16),e-14);
this.QB(H,this.qT[2],"#000000");this.QB(H,this.qT[3],"#ffffff")};E.prototype.QB=function(y,c,e){y.fillStyle=e;
y.fillRect(c.x-5,c.y,10,10)};E.prototype.wf=function(y){var c=v.RM(y,this.V$),e=this.acc([0,1,4],c);
if(e!=-1)this.k$=e;this.acg()};E.prototype.afn=function(y){var c=v.RM(y,this.mg),e=this.acc([2,3],c);
if(e!=-1)this.k$=e;this.acg()};E.prototype.acc=function(y,c){var e=-1,p=1e9;for(var N=0;N<y.length;N++){var H=Math.abs(this.qT[y[N]].x-c.x);
if(H<p){p=H;e=y[N]}}return p<16?e:-1};E.prototype.acg=function(y){if(this.k$==-1)return;v.FY(document.body,this.AT);
v.Fo(document.body,this.Uk)};E.prototype.v9=function(y){var c=fE.PM(this.value,this.k0.h()),e=v.RM(y,this.k$==2&&this.k$==3?this.mg:this.V$),p=255*(e.x-8)/(this.ao.x-16);
p=Math.max(0,Math.min(255,p));if(this.k$==0)p=Math.min(p,c[1]-2);if(this.k$==1)p=Math.max(p,c[0]+2);
if(this.k$!=4)c[this.k$]=Math.round(p);else{var H=(p-c[0])/(c[1]-c[0]);H=1-2*H;H=Math.pow(9.99,H);c[4]=Math.min(999,Math.max(10,Math.round(H*100)))}fE.UL(this.value,this.k0.h(),c);
this.Ur();this.C7()};E.prototype.i4=function(y){v.Ci(document.body,this.AT);v.QM(document.body,this.Uk);
this.k$=-1};E.prototype.Zo=function(){return!0};E.prototype.JA=function(y,c,e,p,H){var Z=this.value,X=this.C1.h().indexOf(!0);
if(X==-1)return;this.value=cN.TL("levl");this.C7();var b=F.gw.vH(y,H,1,null,!0),k=[b>>>16&255,b>>>8&255,b&255];
for(var N=0;N<3;N++){var D=fE.PM(Z,1+N);if(X==0)D[0]=k[N];if(X==1){var j=Math.log(k[N]/255)/Math.log((k[0]+k[1]+k[2])*.333/255);
D[4]=Math.min(999,Math.max(10,Math.round(100*j)))}if(X==2)D[1]=k[N];fE.UL(Z,1+N,D)}this.c(Z);this.C7()};
E.prototype.c=function(y){this.value=y;this.Ur()};E.prototype.i3=function(y){this.Jc=y;this.Ur()};E.prototype.h=function(y){return JSON.parse(JSON.stringify(this.value))};
return E}();bK.phfl=function(){bK.call(this,"phfl");this.Zp.push(new eX);this.Zp.push(new dX([12,74],0,100,"%"));
this.Zp.push(new b8([13,4]));this.Rz()};bK.phfl.prototype=new bK;bK.phfl.prototype.$A=function(E,y){y[0]=E.Clr.v;
y[1]=E.Dnst.v;y[2]=E.PrsL.v};bK.phfl.prototype.W9=function(E,y){var c=d.L.yd(y[0]),e=E.Clr.v,p=d.Nw(c.Z,c.D,c.J);
e.Lmnc.v=p.s3;e.A.v=p.U;e.B.v=p.J;E.Dnst.v=y[1];E.PrsL.v=y[2]};bK.vibA=function(){bK.call(this,"vibA");
this.Zp.push(new dX([12,13],-100,100,null));this.Zp.push(new dX([12,9],-100,100,null));this.Rz()};bK.vibA.prototype=new bK;
bK.vibA.prototype.$A=function(E,y){y[0]=E.vibrance?E.vibrance.v:0;y[1]=E.Strt?E.Strt.v:0};bK.vibA.prototype.W9=function(E,y){E.vibrance.v=y[0];
E.Strt.v=y[1]};bK.thrs=function(){bK.call(this,"thrs");this.Zp.push(new dX([4,13],1,255,null));this.Rz()};
bK.thrs.prototype=new bK;bK.thrs.prototype.$A=function(E,y){y[0]=E.Lvl.v};bK.thrs.prototype.W9=function(E,y){E.Lvl.v=y[0]};
bK.mixr=function(){bK.call(this);var E=this.n;this.S2=[];this.sQ=null;this.bT=new a_([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aby=!1;this.bT.k(S.E.p,this.YZ,this);E.appendChild(this.bT.n);v.vY(E);this.bo=new b8([12,60]);E.appendChild(this.bo.n);
this.bo.k(S.E.p,this.YZ,this);for(var N=0;N<4;N++){var y=new dX([[13,1,1],[13,1,4],[13,1,5],[13,2]][N],-200,200,"%");
y.k(S.E.p,this.YZ,this);this.S2.push(y);E.appendChild(y.n)}};bK.mixr.prototype=new bK;bK.mixr.prototype._=function(){this.bT._();
this.bo._();for(var N=0;N<4;N++)this.S2[N]._()};bK.mixr.prototype.c=function(E){this.sQ=JSON.parse(JSON.stringify(E));
this.HB()};bK.mixr.prototype.h=function(E){return JSON.parse(JSON.stringify(this.sQ))};bK.mixr.prototype.YZ=function(E){if(E.target!=this.bT){var y=et.ex(this.sQ);
if(E.target==this.bo){y.bo=this.bo.h();if(y.bo)y.b=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else y.b=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var c=(y.bo?0:this.bT.h())*5,N=this.S2.indexOf(E.target);
y.b[c+(N<3?N:4)]=E.target.h()}this.sQ=et.acs(y)}this.HB();this.C7()};bK.mixr.prototype.HB=function(){var E=et.ex(this.sQ);
if(E.bo!=this.aby)this.bT.Pt(E.bo?[[13,1,7]]:et.gY);this.aby=E.bo;this.bo.c(E.bo);var y=(E.bo?0:this.bT.h())*5;
for(var N=0;N<4;N++)this.S2[N].c(E.b[y+(N<3?N:4)])};bK.post=function(){bK.call(this,"post");this.Zp.push(new dX([4,1],2,255,null));
this.Rz()};bK.post.prototype=new bK;bK.post.prototype.$A=function(E,y){y[0]=E.Lvls.v};bK.post.prototype.W9=function(E,y){E.Lvls.v=y[0]};
bK.clrL=function(){bK.call(this,"clrL");this.Zp.push(new aE("LUTs"));this.Rz()};bK.clrL.prototype=new bK;
bK.clrL.prototype.$A=function(E,y){y[0]=E};bK.clrL.prototype.W9=function(E,y){var c=y[0];for(var e in c)E[e]=c[e]};
bK.clrL.prototype.mh=function(E,y){if(y==iL.Dg||y==iL.Ux)this.Zp[0].Vd(E.a9s)};bK.rplc=function(){bK.call(this,"rplc");
this.Zp.push(new dX([12,92],0,200));this.Zp.push(new eX);this.Zp.push(new dX([12,8],-180,180));this.Zp.push(new dX([12,9],-100,100));
this.Zp.push(new dX([12,10],-100,100));this.Rz()};bK.rplc.prototype=new bK;bK.rplc.prototype.$A=function(E,y){y[0]=E.Fzns.v;
y[1]=E.Mxm.v;y[2]=E.H.v;y[3]=E.Strt.v;y[4]=E.Lght.v};bK.rplc.prototype.W9=function(E,y){function c(p,H){H.Lmnc.v=p.s3;
H.A.v=p.U;H.B.v=p.J}E.Fzns.v=y[0];E.H.v=y[2];E.Strt.v=y[3];E.Lght.v=y[4];var e=d.L.yd(y[1]),p=d.Nw(e.Z,e.D,e.J);
c(p,E.Mnm.v);c(p,E.Mxm.v)};bK.fade=function(){bK.call(this,"fade");this.Zp.push(new dX([12,0],0,100,"%"));
this.Zp.push(new a_([12,19,0],cg.BR,cg.Xs));this.Rz()};bK.fade.prototype=new bK;bK.fade.prototype.$A=function(E,y){y[0]=E.Opct.v.val;
y[1]=cg.Y1.indexOf(E.Md.v.BlnM)};bK.fade.prototype.W9=function(E,y){E.Opct.v.val=y[0];E.Md.v.BlnM=cg.Y1[y[1]]};
bK.aply=function(){var E=cg.Y1.concat(["Add","Sbtr"]);E.splice(21,1);var y=cg.BR.concat([[15,10,28],[15,10,21]]);
y.splice(21,1);var c=cg.Xs.slice(0);c[4]--;function e(){bK.call(this,"aply");this.Zp.push(new a_([0,3],[]));
this.Zp.push(new a_([12,4],["RGB"].concat(et.gY).concat(["Transparency"])));this.Zp.push(new b8([4,11]));
this.Zp.push(new a_([12,19,0],y,c));this.Zp.push(new dX([12,0],0,100,"%"));this.Zp.push(new jm([12,38],1,2,null,2));
this.Zp.push(new jm([12,6],-255,255));this.Zp.push(new b8([13,5]));this.Rz([2]);this.FF=null}e.prototype=new bK;
e.prototype.$A=function(p,H,Z){if(Z){var X=Z[2].B,b=this.FF=[];for(var N=0;N<X.length;N++){var k=X[N].getName();
b.push(k.length<30?k:k.slice(0,27)+"...")}b.reverse();this.Zp[0].Pt([[5,7]].concat(b),[1,b.length])}else var b=this.FF;
p=p.With.v;var D=p.T.v;H[0]=D[1].t=="name"?1+b.indexOf(D[1].v.val):0;H[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(D[0].v.enum);
H[2]=p.Invr.v;var j=p.Clcl.v.Clcn;H[3]=E.indexOf(j);H[4]=p.Opct.v.val;H[5]=p.Scl.v;H[6]=p.Ofst.v;H[7]=p.PrsT.v};
e.prototype.W9=function(p,H){p=p.With.v;var Z=p.T.v;if(H[0]==0)Z[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else Z[1]={t:"name",v:{classID:"Lyr",val:this.FF[H[0]-1]}};Z[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][H[1]];
p.Invr.v=H[2];var X=p.Clcl.v.Clcn=E[H[3]];p.Opct.v.val=H[4];p.Scl.v=H[5];p.Ofst.v=H[6];p.PrsT.v=H[7];
var b=X=="Add"||X=="Sbtr";this.Zp[5].U0(b);this.Zp[6].U0(b)};return e}();bK.matc=function(){var E,y,c=0;
function e(){bK.call(this,"matc");this.Zp.push(new dX("Luminance",1,200));this.Zp.push(new dX("Color Intensity",1,200));
this.Zp.push(new dX([2,11],0,100,"%"));this.Zp.push(new b8("Neutralize"));this.Zp.push(new a_([12,70],[]));
this.Zp.push(new a_([0,3],[]));this.Rz([2])}function p(H,Z){H.Zp[5].Pt([[5,7]].concat(Z),[1,Z.length])}e.prototype=new bK;
e.prototype.$A=function(H,Z,X){c=0;Z[0]=H.Lght.v;Z[1]=H.ClrR.v;Z[2]=H.Fade.v;Z[3]=H.neutralizeColor?H.neutralizeColor.v:!1;
Z[4]=Z[5]=0;var b=H.Srce;if(b)b=b.v;if(X){E=[];y=[];var k=X[2],D=X[3];for(var N=0;N<D.length;N++){var j=D[N];
E.push(j.name);var g=j.B,R=[];y.push(R);for(var t=0;t<g.length;t++)R.push(g[t].getName());R.reverse()}this.Zp[4].Pt([[13,1,0]].concat(E),[1,E.length]);
var w=D.indexOf(k);if(b)w=E.indexOf(b[1].v.val);p(this,y[w])}if(b){var B=E.indexOf(b[1].v.val);Z[3]=c=1+B;
if(b[0].t=="name")Z[4]=1+y[B].indexOf(b[0].v.val)}};e.prototype.W9=function(H,Z){H.Lght.v=Z[0];H.ClrR.v=Z[1];
H.Fade.v=Z[2];H.neutralizeColor.v=Z[3];if(Z[4]==0){H.noReference={t:"bool",v:!0};delete H.Srce}else{if(Z[4]!=c){c=Z[4];
p(this,y[Z[4]-1])}delete H.noReference;var X={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},b=y[Z[4]-1];
if(Z[5]!=0)X={t:"name",v:{classID:"Lyr",val:b[Z[5]-1]}};H.Srce={t:"obj ",v:[X,{t:"name",v:{classID:"Dcmn",val:E[Z[4]-1]}}]}}};
return e}();function hx(E,y){dT.call(this);if(E==null)return;this.id=y;this.RY=E;this.Au=null;this.n=v.t("div","window "+y);
this.af3=null;this.$L=v.t("div","whead");this.a0R=v.t("span","wname");this.$L.appendChild(this.a0R);
this.a5s=!1;this.n.appendChild(this.$L);this.dd=this.akY.bind(this);this.Eq=this.a3X.bind(this);this.KI=this.a76.bind(this);
v._N(this.$L);v.Qp(this.$L,this.dd);this.a9o=v.t("span","cross gsicon");this.$L.appendChild(this.a9o);
hx.prototype._.call(this);v.Fo(this.a9o,this.ae_.bind(this));this.body=v.t("div","body");this.n.appendChild(this.body)}hx.prototype=new dT;
hx.prototype.j_=function(){return!1};hx.prototype.Zo=function(){return!1};hx.prototype._=function(){if(this.RY==null)return;
this.a0R.textContent=i4.get(this.RY)};hx.prototype.yl=function(E,y,c,e,p){};hx.prototype.n$=function(E,y,c,e,p){};
hx.prototype.Lv=function(E,y,c,e,p){};hx.prototype.JA=function(E,y,c,e,p){};hx.prototype.vP=function(E,y,c,e,p){};
hx.prototype.Gu=function(E,y,c,e){if(e.S(ct.qy)&&this.jI)this.jI();if(e.S(ct.Nc)){var p=new iU(S.E.v);
p.n5=!0;F.tg.ak3(e,p);if(p.data)y.T(p)}};hx.prototype.OX=function(E){return!1};hx.prototype.Km=function(E,y){return!0};
hx.prototype.Xy=function(E,y,c,e){};hx.prototype.mh=function(E,y){};hx.prototype.Ut=function(E,y){return null};
hx.prototype.a0s=function(E){return this.af3};hx.prototype.Cl=function(){};hx.prototype.close=function(){this.T(new iU(S.E.w3))};
hx.prototype.akY=function(E){this.Au=v.RM(E,this.n);v.FY(window,this.Eq);v.Fo(window,this.KI)};hx.prototype.a3X=function(E){var y=this.n.parentNode,c=v.RM(E,y),e=Math.round(c.x-this.Au.x),p=y.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(c.y-this.Au.y)));
this.af3=new eq(e,p);this.n.style.left=e+"px";this.n.style.top=p+"px"};hx.prototype.a76=function(E){v.Ci(window,this.Eq);
v.QM(window,this.KI)};hx.prototype.ae_=function(E){if(this.a5s){this.jI();return}this.T(new iU("closebtn"));
this.close()};function cl(){hx.call(this,"About Photopea","aboutpp");var E=v.t("div","flexrow");this.body.appendChild(E);
var y=this.a4x=v.t("img");E.appendChild(y);this.body.setAttribute("style","margin:0; padding:0");var c=this.Y9=v.t("div");
c.innerHTML=cl.lQ;E.appendChild(c);var e=this.j4=v.t("span");e.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(e)}cl.prototype=new hx;cl.prototype.Ut=function(E,y){return new eq(0,0)};cl.prototype.Cl=function(E,y){var c=this.a4x,e=this.Y9,p=this.j4,H=(E+y-42-42)/110;
H=Math.sqrt((E-42)*(y-42))/50;c.setAttribute("style","width:"+E/2+"px; height:"+y+"px; display:block; object-fit:cover;");
e.setAttribute("style","width:"+(E/2-42)+"px; height:"+(y-42)+"px; padding:20px; font-size:"+H+"px;");
p.setAttribute("style","position:absolute;  bottom:10px; right:"+(E/2+10)+"px")};cl.prototype._=function(){};
cl.prototype.Xy=function(E,y,c,e){this.a4x.setAttribute("src","promo/ivan_pp.webp")};cl.lQ="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function ge(){hx.call(this,[0,13,0],"account");this.bS=v.t("div","form scrollable");this.body.appendChild(this.bS);
this.body.style.padding="0";this.qw=[new ge.cM,new ge.BV("::privacy.html"),new ge.BV(ge.azU)];for(var N=0;
N<this.qw.length;N++)this.qw[N].parent=this;this.k("showpage",this.af4,this)}ge.prototype=new hx;ge.prototype.Km=function(E,y){var c=navigator.onLine;
if(!c)alert("Go online first");return c};ge.prototype.Cl=function(E,y){this.bS.setAttribute("style","width:"+Math.min(E-40,740)+"px;  height:"+(y-38)+"px;  padding:1.5em;");
this.qw[0].Cl(E,y)};ge.prototype.Ut=function(E,y){return new eq(Math.max(0,Math.min(150,(E-740)/2)),Math.max(0,Math.min(100,(y-500)/2)))};
ge.prototype.af4=function(E){v.Vz(this.bS);this.bS.scrollTop=0;this.bS.appendChild(this.qw[E.data.h2].n)};
ge.prototype._=function(){hx.prototype._.call(this);for(var N=0;N<this.qw.length;N++)this.qw[N]._()};
ge.prototype.Xy=function(E,y,c){if(!navigator.onLine)return;v.Vz(this.bS);var e=this.qw[0];this.bS.appendChild(e.n);
e.Xy();this._()};ge.prototype.mh=function(E,y){this.Xy(null,null,null)};ge.cM=function(){dT.call(this);
this.n=v.t("div");var E=this.n,X,b,D="font-size:1.25em;",j="text-align:center;",R="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",t="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",w="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",o=12;
this.ai=v.t("div");E.appendChild(this.ai);this.gi=new fr([0,11],!1,null,!0);this.gi.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.gi.k("click",this.vF,this);E.appendChild(this.gi.n);this.M9=new fr([0,13,1],!1,null,!0);this.M9.k("click",this.a7x,this);
E.appendChild(this.M9.n);this.A1=new fr("Business Terms",!1,null,!0);this.A1.k("click",this.aDs,this);
E.appendChild(this.A1.n);var y=v.t("div");y.style.margin="20px 0";E.appendChild(y);var c=["Account Types","Go Premium","Team Settings","Distributors"],e=this.uU=[],p=this.az9=[],H=this.tP=v.t("div");
E.appendChild(H);for(var N=0;N<c.length;N++){var Z=v.t("span");Z.textContent=c[N];y.appendChild(Z);e.push(Z);
Z.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
Z.addEventListener("click",this.f0.bind(this));p.push(v.t("div"))}this.f0(0);var k=this.ara="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
E=p[0];var b=v.t("table"),g="style=\" "+j+D+" padding-bottom:20px;\"";b.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+w+">\t\t\t\t\t<div "+g+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+w+">\t\t\t\t\t<div "+g+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+t+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+t+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
E.appendChild(b);var Z=new fr("Go Premium");Z.n.setAttribute("style",k+"padding:10px 0;");Z.k("click",function(r){this.f0(1)},this);
b.children[0].children[1].children[1].appendChild(Z.n);this.aw=v.t("div");E.appendChild(this.aw);E=p[1];
var B=this.a9R=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.vN=[];for(var N=0;N<B.length;N++)this.vN.push(new fr("Buy: $"+B[N][0],!1,null,!0));for(var N=0;
N<this.vN.length;N++){this.vN[N].k("click",this.aoX,this)}this.xj=new fr("...",!0);this.xj.n.setAttribute("style",k);
E.appendChild(this.xj.n);b=this.anb(4,["Single user",this.vN[0],this.vN[1],this.vN[2],"Team of 5",this.vN[3],this.vN[4],this.vN[5],"Team of 20",this.vN[6],this.vN[7],this.vN[8],"Team of 50",this.vN[9],this.vN[10],this.vN[11]]);
E.appendChild(b);var $=v.t("div");E.appendChild($);$.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.auN=new b8("I accept",!0,"");E.appendChild(this.auN.n);this.Je=new fr([0,13,1],!1,null,!0);this.Je.k("click",this.a7x,this);
E.appendChild(this.Je.n);this.Dl=new fr("I have a key",!1,null,!0);this.Dl.n.setAttribute("style",k+" float:right; width:inherit;");
this.Dl.k("click",this.aoX,this);E.appendChild(this.Dl.n);E=p[2];this._m=new cp;this._m.parent=this;
this._m.k(S.E.p,this.IZ,this);E.appendChild(this._m.n);E=p[3];this.wt=new fr("...",!0);this.wt.n.setAttribute("style",k);
E.appendChild(this.wt.n);b=this.anb(3,["1000 views/mo",this.vN[o++],this.vN[o++],this.vN[o++],"5000 views/mo",this.vN[o++],this.vN[o++],this.vN[o++],"20000 views/mo",this.vN[o++],this.vN[o++],this.vN[o++]]);
E.appendChild(b);var T=v.t("p");T.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
E.appendChild(T);this.ZF=new d3("Domain name (e.g. domain.com)",null,14);E.appendChild(this.ZF.n);var i=new fr("Save Domain Settings",!1,null,!0);
i.Fw();E.appendChild(i.n);i.k("click",this.apU,this)};ge.cM.prototype=new dT;ge.cM.prototype.f0=function(E){var y=typeof E=="number"?E:this.uU.indexOf(E.target);
for(var N=0;N<4;N++)this.uU[N].style.opacity=.6;this.uU[y].style.opacity=1;v.Vz(this.tP);this.tP.appendChild(this.az9[y])};
ge.cM.prototype.Cl=function(E,y){var c=E<600?"d":" days",e=["30 days","90 days","365 days"];if(E<600)e=["30d","90d","365d"];
var p=this.a9R;for(var N=0;N<p.length;N++){this.vN[N].WO("<span>"+e[N%3]+": <sup>$</sup><big><b>"+p[N][0]+"</b></big>"+"</span>");
this.vN[N].n.setAttribute("style",this.ara)}};ge.cM.prototype.a7x=function(E){var y=new iU("showpage",!0);
y.data={h2:1};this.T(y)};ge.cM.prototype.aDs=function(E){var y=new iU("showpage",!0);y.data={h2:2};this.T(y)};
ge.cM.prototype._=function(){this.gi.WO(b4.wo()?i4.get([0,11]):i4.get([0,10]));this.Je._();this.M9._();
this.A1._()};ge.cM.prototype.arG=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.BN,link:"https://www.photopea.com/api/accounts#"+(E.target==this.a7_?"teams":"distributors")};
this.T(y)};ge.cM.prototype.adQ=function(E){var y=E.currentTarget==this.auW;this.auW.c(y);this.azr.c(!y)};
ge.cM.prototype.am8=function(E){var y=this.auW.h(),c=this.a66.h().trim().toLowerCase(),e=this.aAP.value.trim().toLowerCase();
if(c.length>60){alert("Too long email address");return}if(e.length>600){alert("Too many team members");
return}e=e.split(",").join(" ").trim();e=e.replace(/\s+/g," ");if(e=="")e=[];else e=e.split(" ");var p=b4.vQ();
if(p==null)p={};if(p.acc==null)p.acc={};p.acc.team={jin:y,ldr:c,mmb:e};b4.YF(p,this.IZ.bind(this));alert("Saved!");
this.Xy()};ge.cM.prototype.apU=function(E){var y=this.ZF.h().trim();if(!b4.wo()){alert("You have to log in first.");
return}if(b4.Vt()==0){alert("Order a distributor account first.");return}var c=b4.vQ();if(c==null)c={};
if(c.acc==null)c.acc={};if(y=="")delete c.acc.dname;else c.acc.dname=y;b4.YF(c,this.IZ.bind(this));alert("Saved!");
this.Xy()};ge.cM.prototype.abY=function(E){var y=b4.Ez(),N=this.Vn,c=b4.vQ();if(c==null)c={};if(c.acc==null)c.acc={};
c.acc.bto=E;b4.YF(c,function(){});var e=ge.a9_(E.split("\n"),y.pmnts[N]);fz.save(e,"photopea_invoice.pdf")};
ge.cM.prototype.awz=function(E){var y=b4.Ez(),c=b4.vQ(),e=c.acc?c.acc.bto:null;if(e==null)e=y.name+"\n"+y.email;
var N=-1,p=E.target.n.parentNode;while((p=p.previousSibling)!=null)N++;this.Vn=N;var H=new iU(S.E.M,!0);
H.data={d:S.H.Q5,ym:"billto",v5:e,UT:this.abY.bind(this)};this.T(H)};ge.cM.prototype.Xy=function(){this.ai.innerHTML="";
v.Vz(this.aw);if(b4.wo()){var E=b4.Ez(),y=E.pmnts;if(E==null)return;this.ai.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+E.name+"</span> "+E.email+" <br/>";
if(y){var c="<h2>Payments</h2>";for(var N=0;N<y.length;N++){var e=y[N],p=new Date(e[0]*1e3);c+="<div style=\"font-size:1.2em\">"+p.getDate()+". "+(p.getMonth()+1)+". "+p.getFullYear()+" - "+ge.ayx(e)+"</div>"}this.aw.innerHTML=c;
for(var N=0;N<y.length;N++){var H=new fr("Get Invoice",!1,null,!0);H.n.setAttribute("style","float:right");
H.k("click",this.awz,this);this.aw.children[N+1].appendChild(H.n)}}}else{}var Z=b4.wo()&&b4.qc();this.xj.n.style.display=Z?"block":"none";
if(Z){var X,b,k=Z;if(k[0]==0){X=b4.K2(k[1])-Date.now()*(1/1e3);b=k[1][2]==1?"Single User":"Team Of "+k[1][2]}else{X=k[1][1]-Date.now()*(1/1e3);
b="Member of \""+k[1][0]+"\""}this.xj.WO("Premium active for "+Math.round(X/(60*60*24))+" more days! ("+b+")")}var D=b4.wo()&&b4.Vt()*1e3>Date.now();
this.wt.n.style.display=D?"block":"none";if(D){var X=b4.Vt()-Date.now()/1e3;this.wt.WO("Distributor active for "+Math.round(X/(60*60*24))+" more days!")}var j=b4.vQ();
this._m.Xy();if(j&&j.acc&&j.acc.dname)this.ZF.c(j.acc.dname);else this.ZF.c("")};ge.cM.prototype.anb=function(E,y){var c=v.t("table");
if(!0){var e="<table><tr>";for(var N=0;N<E;N++)e+="<th>"+y[N*4]+"</th>";e+="</tr></table>";c.innerHTML=e;
for(var N=0;N<3;N++){var p=v.t("tr"),H;c.appendChild(p);for(var Z=0;Z<E;Z++){H=v.t("td");H.style.width=Math.round(100/E)+"%";
p.appendChild(H);H.appendChild(y[Z*4+1+N].n)}}}return c};ge.cM.prototype.aoX=function(E){var y=this.vN.indexOf(E.currentTarget),e=30,p=1;
if(!b4.wo()){this.vF();return}if(this.auN.h()==!1&&y<12){alert("You must accept Terms of Service");return}var c=b4.wo()&&b4.qc();
if(y!=-1){var H=this.a9R[y];e=H[1];p=H[2]}if(c&&p<1e3){alert("You already have premium.");return}console.log(H,e,p);
if(y==-1){var Z=prompt("Please enter your key");if(Z!=null){b4.art(Z,this.IZ.bind(this));this.j1()}return}if(e==30&&p==1){var X=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!X)return}b4.order(e,p,this.IZ.bind(this));this.j1()};ge.cM.prototype.IZ=function(E){this.Xy();this.j1()};
ge.cM.prototype.vF=function(E){if(b4.wo()){b4.ajm();this.j1();this.Xy(null,null,null)}else b4.vF(this.afb.bind(this))};
ge.cM.prototype.afb=function(){var E=new iU(S.E.M,!0);E.data={d:S.H.awB};this.T(E)};ge.cM.prototype.j1=function(){var E=new iU(S.E.M,!0);
E.data={d:S.H.ar3};this.T(E)};ge.BV=function(E){dT.call(this);this.n=v.t("div");var y=this.n,c=this.alA=new fr([0,13,2],!1,null,!0),e;
c.k("click",this.asv,this);y.appendChild(c.n);if(E.startsWith("::")){e=v.t("iframe");e.setAttribute("style","width:100%;height:1700px; background-color:white;");
e.setAttribute("src",E.slice(2))}else{e=v.t("div");e.innerHTML=E}y.appendChild(e)};ge.BV.prototype=new dT;
ge.BV.prototype.asv=function(E){var y=new iU("showpage",!0);y.data={h2:0};this.T(y)};ge.BV.prototype._=function(){this.alA._()};
ge.azU="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
ge.ayx=function(E){var y=E[1]+" days, ";if(E[2]<1e3)return"Photopea Premium ("+y+E[2]+" user"+(E[2]==1?"":"s")+")";
else return"Photopea Distributor ("+y+E[2]+" views/month)"};ge.a9_=function(E,y){E=["Bill To:"].concat(E);
var c=new ToPDF,e=595,p=842,H=40,Z=18,X=12,b=500,k=100,D=400,w=0;function j(n,x,L,u,C){R.font.Tf=C?"Helvetica-Bold":"Helvetica";
R.ctm=[1,0,0,1,x,L];R.font.Tfs=u?u:X;c.PutText(R,n,0)}function g(n,x,L,u){for(var N=0;N<n.length;N++){j(n[N],x,L-N*u,null,N==0)}}var R=UDOC.getState();
c.StartPage(0,0,e,p);j("INVOICE",e-H-140,p-H-30,30,!0);g(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],H,p-H-40,Z);
var t=new Date(y[0]*1e3);g(["Date: "+t.getDate()+". "+(t.getMonth()+1)+". "+t.getFullYear(),"Transaction ID: "+y[4]],e-H-140,p-H-40-Z*2,Z);
var B=E.join("");for(var N=0;N<B.length;N++)w=Math.max(w,B.charCodeAt(N));if(w>256){var $=4,o=v.t("canvas"),T=o.getContext("2d"),i=0;
T.font=X*$+"px sans-serif";for(var N=0;N<E.length;N++)i=Math.max(i,T.measureText(E[N]).width);var r=Math.round(i)+20,I=E.length*$*Z+20;
o.width=r;o.height=I;T.font=X*$+"px sans-serif";for(var N=0;N<E.length;N++){T.font=(N==0?"bold ":"")+X*$+"px sans-serif";
T.fillText(E[N],10,(N+1)*$*Z)}document.body.appendChild(o);var M=new Uint8Array(T.getImageData(0,0,r,I).data.buffer);
R.ctm=[r/$,0,0,I/$,H-10/$,p-H-40-100-I/$];c.PutImage(R,M,r,I);R.ctm=[1,0,0,1,0,0]}else g(E,H,p-H-40-100,Z);
R.colr=[.8,.8,.8];R.pth={cmds:["M","L","L","L","Z"],crds:[H,b,e-H,b,e-H,b-Z,H,b-Z]};c.Fill(R);R.colr=[0,0,0];
var J=[H,b,e-H,b,H,b-Z,e-H,b-Z,H,b-k,e-H,b-k,H,b,H,b-k,e-H,b,e-H,b-k,D,b,D,b-k],P=[];for(var N=0;N<J.length;
N+=4)P.push("M","L");R.pth={cmds:P,crds:J};c.Stroke(R);j("Order details",H+4,b-14);j(ge.ayx(y),H+4,b-Z-14);
j("TOTAL:",H+4,b-k-14,null,!0);j("Price",e-H-50,b-14);j(y[3]+" USD",e-H-60,b-Z-14);j(y[3]+" USD",e-H-60,b-k-14,null,!0);
j("www.Photopea.com",H,H);j("support@photopea.com",e-H-130,H);c.ShowPage();c.Done();return c.buffer};
function cZ(){hx.call(this,[11,14],"addguides");this.hQ;this.P0={km:{sz:0}};this.f9=null;var E=v.t("div","form");
this.body.appendChild(E);this.b9=[];this.mb=new aN(null,["Hi"]);E.appendChild(this.mb.n);v.vY(E);this.mb.k(S.E.p,this.VX,this);
this.kV=new d3([22,4,0],null,16);this.kV.k(S.E.p,this.hJ,this);this.d4=new d3([22,4,1],null,16);this.d4.k(S.E.p,this.hJ,this);
this.KZ=new a_(null,d._5.F0);this.KZ.k(S.E.p,this.hJ,this);E.appendChild(this.kV.n);E.appendChild(this.KZ.n);
v.vY(E);E.appendChild(this.d4.n);this.JL=v.r5(this,E);this.k("closebtn",this.ES,this)}cZ.prototype=new hx;
cZ.prototype.Km=function(E,y){return E!=null};cZ.prototype.j_=function(){return!0};cZ.prototype._=function(){hx.prototype._.call(this);
this.kV._();this.d4._();this.KZ._();this.JL._()};cZ.prototype.mh=function(E,y){var c=E.km.sz;this.P0.km.sz=c;
this.KZ.c(c)};cZ.prototype.Xy=function(E,y){this.hQ=E;this.f9=JSON.stringify(E.Tp());this.b9=[-1];var c=["Global"],e=E.root.children,p=E.Z1();
for(var N=0;N<e.length;N++){var H=e[N].a;if(H.add.artb){c.push(H.getName());this.b9.push(e[N].index)}}this.mb.Pt(c);
this.mb.c(this.b9.indexOf(p));this.VX()};cZ.prototype.VX=function(){var E=this.hQ,y=E.Tp(),c=this.b9[this.mb.h()],e=[0,0];
if(c!=-1){var p=E.B[c].fQ();e=[p.x,p.y]}var H=function(Z,X,E,b,k){var D=Z[0],j=[];for(var N=0;N<D.length;
N++)if(Z[1][N]==c&&D[N][0]==X)j.push(d._5.rB(D[N][1]-e[X],E.$c,b,k));j.sort(function(g,R){return g-R});
return j.join(", ")};this.kV.c(H(y,1,E,this.P0,E.e));this.d4.c(H(y,0,E,this.P0,E.m))};cZ.prototype.hJ=function(E){if(E&&E.currentTarget==this.KZ)this.P0.km.sz=this.KZ.h();
else{var y=this.aDF(),c=this.hQ;c.Z5(y);c.Ea=!0}this.VX()};cZ.prototype.aDF=function(){var E=this.hQ,y=E.Tp(),c=this.b9[this.mb.h()],e=[0,0];
if(c!=-1){var p=E.B[c].fQ();e=[p.x,p.y]}var H=[];for(var Z=0;Z<2;Z++){var X=Z==0?this.d4:this.kV,b=Z==0?E.m:E.e,k=X.h().replace(/,/g," ").replace(/  +/g," ").trim(),D=k==""?[]:k.split(" ");
for(var N=0;N<D.length;N++)H.push([Z,d._5.ajU(D[N],E.$c,this.P0,b)+e[Z]])}for(var N=0;N<y[0].length;
N++)if(y[1][N]==c){y[0].splice(N,1);y[1].splice(N,1);N--}for(var N=0;N<H.length;N++){y[0].push(H[N]);
y[1].push(c)}return y};cZ.prototype.ES=function(E){var y=this.hQ;y.Z5(JSON.parse(this.f9));y.Ea=!0;this.hQ=null};
cZ.prototype.jI=function(E){this.hJ(E);var y=new iU(S.E.v,!0);y.f=F.mq;y.data={d:"gids",Ni:JSON.parse(this.f9),NF:this.hQ.Tp()};
this.hQ=null;this.close();this.T(y)};function gC(E){hx.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[E],E);
this.P0=null;this.hQ=null;var y=v.t("div","form");this.body.appendChild(y);y.setAttribute("style","width:300px");
this.x6=new bH("Source Images",!0,!0);y.appendChild(this.x6.n);this.IS=new a_([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.IJ=new b8("Order images by name");this.IJ.c(!0);var c=this.a4T=iu.PX();for(var N=0;N<c.length;N++)if(iu.sF(c[N]).qg){c.splice(N,1);
N--}c.push("SVG","PDF");this.E3=new a_([12,50],c);this.bQ=new aU;this.E3.k(S.E.p,this.yn,this);this.eN=new a_("Action Set",[]);
this.eN.k(S.E.p,this.mh,this);this.gI=new a_("Action",[]);if(E=="pdfpres"){y.appendChild(this.IS.n);
y.appendChild(this.IJ.n)}else{if(E=="batch"){y.appendChild(this.eN.n);v.vY(y);y.appendChild(this.gI.n);
v.X$(y)}y.appendChild(this.E3.n);y.appendChild(this.bQ.n)}var e=["VAR0 PDF",[1,8]];if(E=="cformat")e="Convert Images";
if(E=="batch")e="Process Images";if(E=="mockups")e="Generate";var p=new fr(e,!0,null,!0);p.k("click",this.Yg,this);
y.appendChild(p.n);this.yn()}gC.prototype=new hx;gC.prototype.yn=function(E){var y=this.a4T[this.E3.h()];
this.bQ.HD(y)};gC.prototype.Yg=function(E){var y=this.x6.h(),c=[],H=595,Z=842,t;for(var e in y)c.push(e);
if(c.length==0){alert("No images selected");return}if(this.IJ.h())c.sort();var p=this.IS.h(),X=new ToPDF,b=UDOC.getState(),k=this.a4T[this.E3.h()],D=iu.sF(k),j=this.bQ.h(),g={},R=this.hQ;
if(this.id=="mockups"){if(R==null){alert("Open a document with smart objects");return}var w=R.B[R.g[0]];
if(w.add.SoLd==null){w=null;for(var N=0;N<R.B.length;N++)if(R.B[N].add.SoLd)w=R.B[N];if(w==null){alert("There are no smart objects in a current document.");
return}}R.g=[R.B.indexOf(w)];t=w.add.SoLd.Sz.v}for(var B=0;B<c.length;B++){var e=c[B],$=y[e],o=$[0]==255,T=iu.XS($.buffer),i=iu.sF(T),r=[{Yu:new ir,data:new ArrayBuffer(0)}],I=null;
if(T=="psd"&&!D.qg)r=bP.a1G($.buffer);else if(i.qg){I=new cc("file.psd");i.cU($.buffer,I);I.RH();if(!D.qg){if(I.kc)kz.v2(I,this.P0.UG,this);
I.W();I._1();r=[{Yu:new ir(0,0,I.m,I.e),data:I.eA().buffer}]}}else r=i.cU($.buffer);if(this.id=="batch"){var M=new iU(S.E.M,!0),J=this.P0,P=J.kQ,n=P[this.eN.h()];
for(var N=0;N<r.length;N++){I=iu.kv(e,[r[N]]);M.data={d:S.H.xg,cX:I};this.T(M);if(I.B.length==3)I.g=[1];
aW.aCV(I,P,n.tP[this.gI.h()].xs,n.xs,this);I.W();I._1();r[N].Yu=new ir(0,0,I.m,I.e);r[N].data=I.eA().buffer;
r[N].$c=I.$c;r[N].dD=I.dD;M.data={d:S.H.NW,BG:I};this.T(M)}}if(this.id=="mockups"){var M=new iU(S.E.on,!0);
M.data={tT:"placedLayerEditContents",hG:{classID:"placedLayerEditContents"}};this.T(M);var x=new Uint8Array(r[0].data),L=r[0].Yu,u=F.Y.$X([x,L],new jr(t.Wdth.v/L.m,0,0,t.Hght.v/L.e,0,0)),C=new iU(S.E.v,!0);
C.f=F.sh;C.data={d:jN.TM,Ti:{buffer:u.buffer,rect:u.rect}};this.T(C);var M=new iU(S.E.M,!0);M.data={d:S.H.XT};
this.T(M);M.data={d:S.H.NW};this.T(M);r=[{data:R.eA().buffer,Yu:new ir(0,0,R.m,R.e)}];C.data={d:"h_stepbck"};
C.f=F.yW;this.T(C)}var h=r[0].Yu,A=new Uint8Array(r[0].data),W=h.m,Q=h.e;if(this.id=="pdfpres"){var l=[[595,842],[842,595],[595,595],[595,0]][p];
if(p==3)l[1]=Math.round(l[0]*Q/W);var H=l[0],Z=l[1],O=Math.min(H/W,Z/Q);X.StartPage(0,0,H,Z);b.ctm=[W*O,0,0,Q*O,(H-W*O)/2,(Z-Q*O)/2];
X.PutImage(b,o?$:A,W,Q);X.ShowPage()}else{var z=e.split("."),a;z.pop();z.push(k.toLowerCase());if(D.qg){if(I==null){I=iu.kv(e,r);
I.RH()}a=D.Jv(I,I.m,I.e,j,this.P0)}else{var m=[];for(var N=0;N<r.length;N++){var q=r[N],K=q.do,U=0;if(K){K=K.split(",");
if(K[1])U=parseInt(K[1])}m.push([q.data,U,q.$c,q.Or,null,q.dD])}a=D.Jv(m,W,Q,j)}g[z.join(".")]=new Uint8Array(a)}}if(this.id=="pdfpres"){X.Done();
fz.save(X.buffer,"file.pdf")}else{fz.save(UZIP.encode(g),"images.zip")}};gC.prototype.Xy=function(E,y,c,e){this.hQ=E};
gC.prototype.mh=function(E,y){if(y!=null){this.P0=E;var c=E.kQ,e=[];for(var N=0;N<c.length;N++)e.push(c[N].xs);
this.eN.Pt(e)}else E=this.P0;var c=E.kQ.length==0?[]:E.kQ[this.eN.h()].tP,e=[];for(var N=0;N<c.length;
N++)e.push(c[N].xs);this.gI.Pt(e)};gC.prototype._=function(){hx.prototype._.call(this);this.x6._();this.IS._();
this.IJ._()};function aX(E){var y=cN.names[E];if(y==null)y=et.names[E];if(E=="aply")y=[2,12];if(E=="fade")y=[2,11];
if(E=="matc")y=[4,18];if(E=="blendOptions")y=[14,10];hx.call(this,y,"afw_"+E);this.Gl=E;this.Rv=null;
this.eE=null;this.VH=new bK[E];this.VH.k(S.E.p,this.C7,this);this.VH.parent=this;this.body.appendChild(this.VH.n);
this.bp=new b8([24,18,5]);this.bp.c(!0);this.bp.k(S.E.p,this.C7,this);this.P$=new fr([1,12,2],!0,null,!0);
this.P$.k("click",this.VP,this);this.JL=v.r5(this);if(this.Qf())this.VH._x(this.JL.n);else{v.Jn(this.VH.n,"form");
v.Jn(this.body,"flexrow");this.VH.n.setAttribute("style","width:312px");var c=v.t("div");this.body.appendChild(c);
c.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");c.appendChild(this.JL.n);c.appendChild(this.P$.n);
c.appendChild(this.bp.n)}this.k("closebtn",this.qh,this)}aX.prototype=new hx;aX.prototype.j_=function(){return!0};
aX.prototype.Qf=function(){return this.VH!=null&&this.VH.wN()};aX.prototype.Ut=function(){return this.Qf()?new eq(0,0):hx.prototype.Ut()};
aX.prototype.OX=function(E){return this.VH.OX(E)};aX.prototype.Zo=function(){return this.VH.Zo()};aX.prototype.yl=function(E,y,c,e,p){this.VH.yl(E,y,c,e,p)};
aX.prototype.Lv=function(E,y,c,e,p){this.VH.Lv(E,y,c,e,p)};aX.prototype.JA=function(E,y,c,e,p){this.VH.JA(E,y,c,e,p)};
aX.prototype.Km=function(E,y){if(this.Gl=="fade")return aX.agY(E);return!0};aX.prototype.VP=function(E){this.VH.c(cN.TL(this.Gl));
this.C7()};aX.prototype.C7=function(E){this.tH({d:"edit",XR:this.VH.h(),Rs:!this.bp.h()})};aX.prototype.qh=function(E){this.tH({d:"cancel"})};
aX.prototype.jI=function(E){if(!this.bp.h()){this.bp.c(!0);this.C7()}this.eE=this.VH.h();if(this.Qf())this.C7();
this.tH({d:"confirm"});this.close()};aX.prototype._=function(){hx.prototype._.call(this);this.bp._();
if(this.VH)this.VH._();this.JL._()};aX.prototype.mh=function(E,y){if(this.VH)this.VH.mh(E,y)};aX.prototype.Gu=function(E,y,c,e){if(this.Qf())this.VH.Gu(e);
else hx.prototype.Gu.call(this,E,y,c,e)};aX.prototype.Xy=function(E,y,c,e){this.Rv=y.Rv;var p=E.add.lnk2?E.add.lnk2:[],H,Z,X=new ir(0,0,E.m,E.e),b=E.B[E.g[0]],D=null;
H=b.buffer;Z=b.rect;var k=E.i&&this.Gl=="LqFy"&&y.Rv==null;if(k){Z=E.i.rect.clone();H=d.R(Z.P()*4);d.E6(b.buffer,b.rect,H,Z)}if(this.Qf()){D=E.eA(E.g[0]-1);
if(k){var j=d.R(Z.P()*4);d.E6(D,X,j,Z);X=Z.clone();D=j}}var g=cN.TL(this.Gl),R=[p,E.cB,E,c];if(y.Rv==null){this.VH.c(g,H,Z,X,D,R);
if(et.names[this.Gl]){if(e.S(ct.Q3)&&this.eE)this.VH.c(this.eE);var t=F.iq.getData(E),w=d.KQ(t[0].Ng);
this.VH.i3(w)}}else{var B=!1,b=E.B[this.Rv.a];if(b.p3()){var $=b.kP(E);H=$.buffer;Z=$.rect;var o=b.add.SoLd.filterFX.v.filterFXList.v;
if(o[this.Rv.index]){var T=o[this.Rv.index].v;this.VH.c(this.Gl=="blendOptions"?T.blendOptions.v:T.Fltr.v,H,Z,X,D,R);
this.VH.i3(d.KQ(H));B=!0}}if(!B){this.VH.c(g,H,Z,X,D,R);this.VH.i3(d.KQ(H))}}if(!this.Qf()){this.C7();
var i=this.VH;if(i&&i.Zp&&i.Zp[0]&&i.Zp[0].N2&&Math.min(window.innerWidth,window.innerHeight)>500)i.Zp[0].N2()}};
aX.prototype.tH=function(E){var y=new iU(S.E.v,!0);E.Gl=this.Gl;E.Rv=this.Rv;if(this.Gl=="VaPo"){E.b=this.VH.h();
E.Rh=this.VH.a6h()}y.data=E;y.f=cN.names[this.Gl]||this.Rv?F.UA:F.rr;y.n5=!0;this.T(y)};aX.prototype.Cl=function(E,y){if(!this.VH.wN()){}else{this.body.style.padding="0";
this.VH.Cl(E,y)}};aX.agY=function(E){if(E==null)return!1;var y=E.f6();if(y==null||!(y.data instanceof Array)||y.data.length!=E.g.length)return!1;
for(var N=0;N<y.data.length;N++){var c=y.data[N];if(c.a<0&&E.cB[-1-c.a])return!0;if(c.a==null||E.B[c.a]==null||E.B[c.a].p6!=c.AV)return!1;
if(E.g.indexOf(c.a)==-1)return!1}return!0};function bW(){hx.call(this,[11,0],"camera");this.data=null;
this.BE=new eq(1,1);this.ay6=[];var E=v.t("div","form hbar");this.body.appendChild(E);this.a3C=new a_(null,[]);
this.BO=new a_([21,0],[[21,2],[21,1]]);E.appendChild(this.BO.n);this.ep=new a_(null,[]);this.ep.k(S.E.p,this.a1D,this);
E.appendChild(this.ep.n);this.UE=new fr([11,0],!1,null,!0);this.UE.k("click",this.ajS,this);E.appendChild(this.UE.n);
this.p7=new bU("");E.appendChild(this.p7.n);this.stream=null;this.eG=v.t("video","");this.eG.setAttribute("autoplay","true");
this.body.appendChild(this.eG);this.a7n=this.arV.bind(this);this.ad5=this.anR.bind(this);this.a0o=this.aaQ.bind(this);
this.k("closebtn",this.a9x,this)}bW.prototype=new hx;bW.prototype._=function(){hx.prototype._.call(this);
this.BO._();this.UE._();this.Cl(this.Pf,this.T4)};bW.prototype.eA=function(){var E=this.eG.videoWidth,y=this.eG.videoHeight,c=v.t("canvas","");
c.width=E;c.height=y;var e=c.getContext("2d");e.drawImage(this.eG,0,0,E,y);var p=e.getImageData(0,0,E,y);
return{Yu:new ir(0,0,E,y),data:p.data.buffer}};bW.prototype.ajS=function(E){if(this.BO.h()==0)this.axs();
else this.ad9()};bW.prototype.ad9=function(){var E=this.eA(),y={buffer:new Uint8Array(E.data),rect:E.Yu},c=new iU(S.E.v,!0);
c.n5=!0;c.f=F.sh;c.data={d:jN.TM,Ti:y};this.T(c);alert(i4.get([21,4]))};bW.prototype.axs=function(){var E=this.eA(),y=iu.kv("camera",[E]),c=new iU(S.E.M,!0);
c.data={d:S.H.xg,cX:y};this.T(c);alert(i4.get([21,5]))};bW.prototype.Xy=function(E,y,c){navigator.mediaDevices.enumerateDevices().then(this.amB.bind(this))};
bW.prototype.amB=function(E){var y=this.ay6=[],c=[];for(var N=0;N<E.length;N++)if(E[N].kind=="videoinput"){y.push(E[N]);
c.push("Camera "+y.length)}this.ep.Pt(c);this.ep.c(0);this.a1D()};bW.prototype.a1D=function(E){this.a9x();
var y={video:{deviceId:this.ay6[this.ep.h()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(y).then(this.a7n).catch(this.ad5);
else navigator.webkitGetUserMedia(y,this.a7n,this.ad5)};bW.prototype.arV=function(E){this.stream=E;this.eG.srcObject=E;
this.eG.addEventListener("loadedmetadata",this.a0o,!1)};bW.prototype.aaQ=function(E){this.eG.play();
this.Cl(this.Pf,this.T4)};bW.prototype.Ut=function(E,y){return new eq(0,0)};bW.prototype.Cl=function(E,y){var c=this.eG.videoWidth,e=this.eG.videoHeight;
this.p7.c(c+" x "+e+" px");this.p7.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.BE.tW(c,e);this.Pf=E;this.T4=y;var p=E-28,H=y-28-30,Z=this.BE.x/this.BE.y;if(p/H>Z)p=H*Z;else H=p/Z;
this.eG.setAttribute("style","display: block; width: "+Math.round(p)+"px; height:"+Math.round(H)+"px;")};
bW.prototype.anR=function(E){console.log("error",E);alert(i4.get([21,6]));this.close()};bW.prototype.a9x=function(E){if(this.stream!=null){var y=this.stream.getTracks();
for(var N=0;N<y.length;N++)y[N].stop();this.stream=null}};function iP(){hx.call(this,[7,8],"crange");
this.hQ=null;this.zC={s3:73,U:4.45,J:4};this._e={s3:73,U:4.45,J:4};this.body.style.width="20em";this.KE=new a_([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.KE.k(S.E.p,this.a63,this);this.body.appendChild(this.KE.n);this.lQ=v.t("div","form");this.body.appendChild(this.lQ);
var E=this.axt=2,y=this.oo=[new dX([12,92],0,200),new aN([12,36],[[18,0],"\uFF0B","-"]),new dX([12,92],0,100,"%"),new jm("Min",0,255),new jm("Max",0,255)];
y[0].c(40);y[E].c(40);for(var N=0;N<y.length;N++){y[N].k(S.E.p,this.HB,this);y[N].parent=this}this.V$=v.t("canvas");
this.body.appendChild(this.V$);this.JL=v.r5(this,this.body)}iP.prototype=new hx;iP.prototype.Km=function(E,y){return E!=null};
iP.prototype.Zo=function(){return!0};iP.prototype.j_=function(){return!0};iP.prototype.a63=function(E){var y=this.KE.h(),c=this.oo,e=this.lQ,p=0,H=c.length,Z=this.axt;
if(y==0)H=Z;else{p=Z;c[p+1].c([0,100,190][y-1]);c[p+1].U0(y!=1);c[p+2].c([60,150,255][y-1]);c[p+2].U0(y!=3)}v.Vz(e);
for(var N=p;N<H;N++){e.appendChild(c[N].n)}this.HB()};iP.prototype._=function(){hx.prototype._.call(this);
this.JL._();this.KE._();for(var N=0;N<this.oo.length;N++)this.oo[N]._()};iP.prototype.yl=function(E,y,c,e,p){var H=E.Q.GV(p.x,p.y);
this.asm(H.x,H.y)};iP.prototype.asm=function(E,y){var c=Math.min,e=Math.max,p=this.hQ,H=e(0,c(p.m-1,Math.floor(E))),Z=e(0,c(p.e-1,Math.floor(y))),X=p.eA(),b=(Z*p.m+H)*4,k=X[b],D=X[b+1],j=X[b+2],g=d.Nw(k,D,j),R=this.oo[1].h(),t=this.zC,w=this._e;
if(R==0){this.zC=JSON.parse(JSON.stringify(g));this._e=g}else if(R==1){t.s3=c(t.s3,g.s3);t.U=c(t.U,g.U);
t.J=c(t.J,g.J);w.s3=e(w.s3,g.s3);w.U=e(w.U,g.U);w.J=e(w.J,g.J)}else if(R==2){var B=(t.s3+w.s3)/2,$=(t.U+w.U)/2,o=(t.J+w.J)/2;
if(g.s3<B)t.s3=e(t.s3,g.s3+10);else w.s3=c(w.s3,g.s3-10);if(g.U<$)t.U=e(t.U,g.U+1);else w.U=c(w.U,g.U-1);
if(g.J<o)t.J=e(t.J,g.J+1);else w.J=c(w.J,g.J-1)}this.HB()};iP.prototype.jI=function(E){var y=this.KE.h(),c=this.oo,e={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(y==0){var p=this.zC,H=this._e;e.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:p.s3},A:{t:"doub",v:p.U},B:{t:"doub",v:p.J}}};
e.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:H.s3},A:{t:"doub",v:H.U},B:{t:"doub",v:H.J}}};e.Fzns={t:"long",v:c[0].h()}}else{y--;
var Z=["shadows","midtones","highlights"][y];e.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][y]}};if(0<y)e[Z+"LowerLimit"]={t:"long",v:c[3].h()};
if(y<2)e[Z+"UpperLimit"]={t:"long",v:c[4].h()};e[Z+"Fuzziness"]={t:"long",v:c[2].h()}}this.close();var X=new iU(S.E.on,!0);
X.data={tT:"colorRange",hG:e};this.T(X)};iP.prototype.Xy=function(E,y){this.hQ=E;this.asm(0,0);this.a63()};
iP.prototype.HB=function(){var E=this.hQ,y=this.KE.h(),c=this.zC,e=this._e,p=this.oo,H=p[0].h()/200,Z=!1;
if(y>0){c=p[3].h();e=p[4].h();if(c>=e)c=e-1;Z=!0;H=p[2].h()/100}var X=F.XY.EV(E,c,e,H,Z),b=X.rect,k=X.channel,D=this.V$,j=D.getContext("2d"),g=Math.floor(230*v.k1()),R=Math.floor(g*(b.e/b.m));
D.width=g;D.height=R;v.A3(D,g,R);var t=d.R(k.length*4);d.KT(t,4294967295);for(var N=0;N<3;N++)d.Og(k,t,N);
var w=F.Y.$X([t,b],new jr(g/b.m,0,0,R/b.e,0,0)),B=w.rect,$=new ImageData(new Uint8ClampedArray(w.buffer.buffer),B.m,B.e);
j.putImageData($,0,0)};function cf(){hx.call(this,[12,76,1],"createshape");this.dE=null;var E=v.t("div","form");
E.setAttribute("style","width:20em");this.body.appendChild(E);this.xH=new eB(!0,!0,null,!0,!0);this.xH.c(new eq(100,100));
E.appendChild(this.xH.n);this.V0=new b8([19,5,3]);E.appendChild(this.V0.n);this.JL=v.r5(this,E)}cf.prototype=new hx;
cf.prototype.jI=function(E){var y=this.xH.h();this.dE.a4v(this.dE.ag6,y.x,y.y,this.V0.h());this.close()};
cf.prototype._=function(){if(this.dE)this.RY=i4.get([5,3])+": "+i4.get(this.dE.am3);hx.prototype._.call(this);
this.JL._();this.xH._();this.V0._()};cf.prototype.Xy=function(E,y){this.dE=y;this._();this.xH.c(this.xH.h(),E.$c)};
function cA(){hx.call(this,[11,1],"colorpicker");this.vc=null;this.sv=null;this.wH=null;this.Y$=!1;this._3=!1;
this.axN=[.9642,1,.8249];var E=v.t("div","flexrow"),Z,X;this.body.appendChild(E);this.zc=new i0(256,!0);
this.zc.k(S.E.p,this.Ag,this);E.appendChild(this.zc.n);var y=v.t("div","form");y.setAttribute("style","width:14.5em; margin-left:1em;");
E.appendChild(y);var c=v.t("div","flexrow");y.appendChild(c);var e=v.t("div");c.appendChild(e);e.style="width:95px; margin-right:14px";
this.acd=v.t("div","full");e.appendChild(this.acd);this.ayT=v.t("div","full");e.appendChild(this.ayT);
var e=v.t("col");c.appendChild(e);e.style.width="80px";this.JL=v.r5(this,e);var c=v.t("div","flexrow");
y.appendChild(c);var p=v.t("div"),H=v.t("div");c.appendChild(p);c.appendChild(H);p.style=H.style="margin-left:14px; max-width:80px;";
Z=["H","S","B"];X=p;this.fC=[];for(var N=0;N<3;N++){var b=0,k=360,D="\xB0";if(N!=0){k=100;D="%"}var j=new jm(Z[N],b,k,D,0,!1,!0);
this.fC.push(j);j.k(S.E.p,this.aAG,this);X.appendChild(j.n);if(N==2)j.n.style.marginBottom="8px"}Z=["R","G","B"];
X=p;this.Cw=[];for(var N=0;N<3;N++){var j=new jm(Z[N],0,255,null,0,!1,!0);this.Cw.push(j);j.k(S.E.p,this.ahE,this);
X.appendChild(j.n)}Z=["L","a","b"];X=H;this.YV=[];for(var N=0;N<3;N++){var b=[0,-128,-128][N],k=[100,127,127][N],j=new jm(Z[N],b,k,null,0,!1,!0);
j.c(0);this.YV.push(j);j.k(S.E.p,this.apC,this);X.appendChild(j.n);if(N==2)j.n.style.marginBottom="8px"}Z=["C","M","Y","K"];
X=H;this.fz=[];for(var N=0;N<4;N++){var j=new jm(Z[N],0,100,"%",0,!1,!0);j.c(0);this.fz.push(j);j.k(S.E.p,this.ar9,this);
X.appendChild(j.n);if(N==3)j.n.style.marginBottom="8px"}this.kV=new d3("#",null,4.5);this.kV.k(S.E.p,this.sl,this);
p.appendChild(this.kV.n);this.kV.n.style.marginRight="0";this.mL=v.t("input","fitem");this.mL.setAttribute("type","color");
this.mL.setAttribute("style","width:59px;  margin-left:19px;");this.mL.addEventListener("change",this.sl.bind(this),!1);
this.$y=new iJ(9);this.$y.k(S.E.p,this.sl,this);y.appendChild(this.$y.n);this.k("closebtn",this.qh,this);
this.Pe=!1}cA.prototype=new hx;cA.prototype.Zo=function(){return!0};cA.prototype.Ut=function(E,y){if(Math.min(E,y)>500)return null;
return new eq(Math.max(0,Math.min(150,(E-484)/2)),Math.max(0,Math.min(150,(y-316)/2)))};cA.prototype.Cl=function(E,y){this.zc.Cl(Math.min(256,E-226),y)};
cA.prototype._=function(E,y){hx.prototype._.call(this);for(var N=0;N<3;N++){this.Cw[N]._();this.fC[N]._();
this.YV[N]._()}for(var N=0;N<4;N++)this.fz[N]._();this.JL._()};cA.prototype.Ag=function(E){this.sv=this.zc.h();
this.update()};cA.prototype.yl=function(E,y,c,e,p){this.Pe=!0;this.a9E(E,p)};cA.prototype.Lv=function(E,y,c,e,p){if(!this.Pe)return;
this.a9E(E,p)};cA.prototype.JA=function(E,y,c,e,p){this.Pe=!1};cA.prototype.a9E=function(E,y){this.sv=d.$E(F.gw.vH(E,y,1),1);
this.update()};cA.prototype.ahE=function(E){var y=this.Cw,c=this.o$(parseInt(y[0].h())),e=this.o$(parseInt(y[1].h())),p=this.o$(parseInt(y[2].h()));
this.sv={Z:c/255,D:e/255,J:p/255};this.update()};cA.prototype.aAG=function(E){var y=this.fC,c=this.ik(parseInt(y[0].h())/360),e=this.ik(parseInt(y[1].h())/100),p=this.ik(parseInt(y[2].h())/100);
this.sv=d.mf(c,e,p);this.update()};cA.prototype.ar9=function(E){var y=this.fz,c=[];for(var N=0;N<4;N++){var e=this.aDj(parseInt(y[N].h()));
y[N].c(e);c.push(e/100)}var p=d.D5(c);this.sv={Z:p[0],D:p[1],J:p[2]};this.update(!0)};cA.prototype.apC=function(E){var y=this.YV,c=parseInt(y[0].h()),e=parseInt(y[1].h()),p=parseInt(y[2].h()),H=d.SS(c,e,p);
this.sv={Z:H.Z/255,D:H.D/255,J:H.J/255};this.update()};cA.prototype.sl=function(E){var y;if(E.currentTarget==this.$y)y=this.$y.h();
else{y=E.currentTarget==this.kV?this.kV.h():this.mL.value;if(y.charAt(0)=="#")y=y.slice(1);if(y.length==3)y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2];
y=d.aya(y)}this.sv=d.$E(y,1);this.update()};cA.prototype.jI=function(E){this.a3Y();var y=d.UN(this.sv,1);
this.wH(y);this.close();this._3=!1;this.sv=null};cA.prototype.qh=function(E){this.a3Y();if(this.Y$)this.wH(d.UN(this.vc,1));
this._3=!1;this.sv=null};cA.prototype.a3Y=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.axM};this.T(y)};
cA.prototype.mh=function(E,y){var c=bQ.t5(E,y);if(c!=null)this.$y.c(c);if(y!=iL.g6)return;if(this.sv!=null){this.sv=d.$E(c,1);
this.update()}};cA.prototype.Xy=function(E,y){var c=d.$E(y.KR,1);if(this.sv==null){var e=new iU(S.E.M,!0);
e.data={d:S.H.qR,gs:"crosshair",push:!0};this.T(e);this.Pe=!1;this.wH=y.yr;this.Y$=!1;this._3=y.TK;this.vc=JSON.parse(JSON.stringify(c));
this.ayT.setAttribute("style","height:2.3em;background-color:#"+d.ly(y.KR)+";")}this.sv=c;this.update()};
cA.prototype.update=function(E){var y=this.sv,c=d.UN(y,1);this.kV.c(d.ly(c));this.mL.value="#"+d.ly(c);
this.acd.setAttribute("style","height:2.3em;background-color:#"+d.ly(c)+";");var e=this.Cw;e[0].c(Math.round(y.Z*255));
e[1].c(Math.round(y.D*255));e[2].c(Math.round(y.J*255));var p=d.vb(y.Z,y.D,y.J);e=this.fC;e[0].c(Math.round(p.T4*360));
e[1].c(Math.round(p.az*100));e[2].c(Math.round(p.XR*100));var H=d.Nw(y.Z*255,y.D*255,y.J*255,this.axN);
e=this.YV;e[0].c(Math.round(H.s3));e[1].c(Math.round(H.U));e[2].c(Math.round(H.J));if(E==null){var Z=d.jS([y.Z,y.D,y.J]);
e=this.fz;e[0].c(Math.round(Z[0]*100));e[1].c(Math.round(Z[1]*100));e[2].c(Math.round(Z[2]*100));e[3].c(Math.round(Z[3]*100))}this.zc.c(y);
if(this._3){this.wH(d.UN(this.sv,1));this.Y$=!0}};cA.prototype.aDj=function(E){return Math.max(0,Math.min(100,E))};
cA.prototype.o$=function(E){return Math.max(0,Math.min(255,E))};cA.prototype.ik=function(E){return Math.max(0,Math.min(1,E))};
function k6(){hx.call(this,[11,2],"contoureditor");this.anZ=null;this.VO=null;this.response=null;this.dj=v.t("div","cell");
this.body.appendChild(this.dj);this.S$=v.t("div","cell padded");this.body.appendChild(this.S$);var E=v.t("div","bordered padded vmargin");
this.dj.appendChild(E);this.VH=new d9(null,null,!0);this.VH.k(S.E.p,this.ft,this);E.appendChild(this.VH.n);
this.JL=v.r5(this,this.S$);this.k("closebtn",this.Ds,this)}k6.prototype=new hx;k6.prototype.jI=function(){this.close()};
k6.prototype._=function(){hx.prototype._.call(this);this.JL._();this.VH._()};k6.prototype.ft=function(E){this.VO.Crv.v=this.VH.h();
this.response(this.VO)};k6.prototype.Ds=function(E){this.response(this.anZ)};k6.prototype.Xy=function(E,y){this.anZ=JSON.parse(JSON.stringify(y.tP));
this.VO=y.tP;this.response=y.response;this.VH.c(this.VO.Crv.v)};function d_(){hx.call(this,[11,4],"duplinto");
this.BG=null;this.PG=null;this.GG=null;var E=v.t("div","form");E.setAttribute("style","max-width:26em");
this.body.appendChild(E);this.Zi=new a_([12,43],["abc","def"]);this.Zi.k(S.E.p,this.YZ,this);E.appendChild(this.Zi.n);
v.vY(E);this.Be=new a_([1,16,0],["abc","def"]);this.Be.k(S.E.p,this.YZ,this);E.appendChild(this.Be.n);
v.vY(E);this.R_=new d3([12,48],null,14);E.appendChild(this.R_.n);this.JL=v.r5(this,E)}d_.prototype=new hx;
d_.prototype.j_=function(){return!0};d_.prototype._=function(){hx.prototype._.call(this);this.JL._();
this.Zi._();this.R_._()};d_.prototype.YZ=function(E){if(E&&E.target==this.Be)return;var y=this.Zi.h(),c=this.PG[y],e=this.BG,p=c!=null&&c.add.artd!=null;
for(var N=0;N<e.g.length;N++)if(e.B[e.g[N]].add.artb)p=!1;this.R_.U0(y==this.PG.length);this.Be.U0(p);
if(p){var H=c.root.children,Z=[],X=this.GG=[];for(var N=0;N<H.length;N++){var b=H[N].a;if(b.add.artb)Z.push(b.getName());
X.push(H[N].index)}this.Be.Pt(Z);this.Be.c(0)}else this.GG=null};d_.prototype.Xy=function(E,y,c){this.BG=E;
this.PG=c;this.R_.c(E.g.length==0?"Layer":E.B[E.g[0]].getName());var e=[];for(var N=0;N<c.length;N++){var p=c[N].name;
e.push(p.length<30?p:p.slice(0,27)+"...")}e.push([11,7]);this.Zi.Pt(e);this.Zi.c(c.indexOf(E));this.YZ(null)};
d_.prototype.jI=function(E){var y=this.Zi.h();if(y==this.PG.length){var c=new cc(this.R_.h()+".psd"),e=this.BG.m,p=this.BG.e,H=this.BG.Z1();
if(H!=-1){var Z=this.BG.B[H].fQ();e=Z.m;p=Z.e}c.m=e;c.e=p;c.buffer=d.R(c.m*c.e*4);var X=c.N8();X.v4("Background");
c.vr([X]);var b=new iU(S.E.M,!0);b.n5=!0;b.data={d:S.H.xg,cX:c};this.T(b)}var D=this.BG.DC(null,this.BG!=this.PG[y]),b=new iU(S.E.v,!0);
b.data={d:jN.f2,B:D,I4:this.BG,UH:this.PG[y]};if(this.GG)b.data.Pp=this.GG[this.Be.h()];b.f=F.sh;b.n5=!0;
this.T(b);this.close()};function he(){hx.call(this,[1,9],"eassets");this.P0=null;this.WP=null;var E=this.body;
v.Jn(E,"form");E.style.width="32em";this.KE=new aN(null,["Layers","Combinations"]);this.KE.k(S.E.p,this.VX,this);
E.appendChild(this.KE.n);v.X$(E);this.SJ=v.t("span");E.appendChild(this.SJ);this.xA=v.t("div");E.appendChild(this.xA);
var y=v.t("div"),c=v.t("div","flexrow");this.aqV=[y,c];this.z7=[new b8("Only layers / folders, whose name starts with \"-e-\""),new b8("Remove parts outside the canvas"),new b8("Trim transparent parts")];
for(var N=0;N<3;N++){var e=this.z7[N];e.c(!0);e.k(S.E.p,this.VX,this);y.appendChild(e.n);v.vY(y)}this.Rb=new hS([12,14,0],["1x","2x","3x","4x"]);
this.Rb.c([!0,!1,!1,!1]);y.appendChild(this.Rb.n);var p=v.t("div");c.appendChild(p);var H=v.t("img");
H.setAttribute("src","img/nft.png");H.style.width="150px";c.appendChild(H);var Z=v.t("span");Z.textContent="File Names:";
p.appendChild(Z);this.ZD=new hS(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
p.appendChild(this.ZD.n);this.ZD.c([!0,!1,!1]);v.X$(E);this.l0=["PNG","JPG","SVG","TIFF","TGA"];this.Cu=new a_([12,50],this.l0);
this.Cu.k(S.E.p,this.yn,this);E.appendChild(this.Cu.n);this.bQ=new aU;E.appendChild(this.bQ.n);this.JL=new fr([1,9],!0,null,!0);
this.JL.k("click",this.jI,this);E.appendChild(this.JL.n);this.k("closebtn",this.FJ,this)}he.prototype=new hx;
he.prototype.yn=function(E){this.bQ.HD(this.l0[this.Cu.h()],!1,!1,!1,this.WP.cZ()!=null)};he.prototype.FJ=function(E){this.WP=null};
he.prototype._=function(){hx.prototype._.call(this);this.Cu._();this.Rb._();this.JL._();this.bQ._()};
he.prototype.Xy=function(E,y,c){this.WP=E;this.VX()};he.prototype.VX=function(E){var y=this.KE.h(),c;
v.Vz(this.xA);this.xA.appendChild(this.aqV[y]);if(y==0){var e=this.a4V();c=e.length+" exportable layers"}else{var e=this.acM();
c=e[1]+" combinations ("+e[0].join(" \xD7 ")+")"}this.SJ.textContent="- - - "+c;this.yn(null)};he.prototype.a4V=function(){var E=this.z7[0].h(),y=[],c=this.WP;
for(var N=0;N<c.B.length;N++){var e=c.B[N],p=e.getName();if(!E&&!e.uY()&&!e.rect.tj()||p.startsWith("-e"))y.push(N)}return y};
he.prototype.acM=function(){var E=this.WP,y=E.root.children,c=[],e=1,p=[];for(var N=0;N<y.length;N++){var H=y[N],Z=H.a;
if(Z.uY()){var X=H.children.length;c.push(X);e*=X;p.push(H.index)}Z}return[c,e,p]};he.prototype.mh=function(E,y){this.P0=E};
he.prototype.jI=function(E){var y=this.WP,c=this.KE.h(),e=[this.l0[this.Cu.h()]],p=[this.bQ.h()],H={};
if(c==0){var Z=this.Rb.h(),X={},b=this.a4V();if(b.length==0){alert("No layers to export.");return}var k=[this.z7[1].h(),this.z7[2].h()];
for(var N=0;N<b.length;N++){var D=b[N],j=y.B[D],g=j.getName();if(X[g]!=null){X[g]++;g+=" "+X[g]}else X[g]=1;
var R=j.OQ();j.rP(!0);for(var t=0;t<Z.length;t++){if(!Z[t])continue;var w=t+1,B=F.pB.aBh(y,e,w,this.P0,D,p,k);
for(var $=0;$<e.length;$++){var o=e[$],T=g.slice(g.startsWith("-e-")?3:0)+(w==1?"":"@"+w+"x")+"."+o.toLowerCase();
if(B[$])H[T]=new Uint8Array(B[$])}}j.rP(R)}}else{var R=[];for(var N=0;N<y.B.length;N++)R.push(y.B[N].OQ());
var i=this.acM(),r=i[0],b=i[2],I=[];function M(x,D,L,u){if(D==x.length){u.push(L.slice(0));return}var C=x[D];
for(var N=0;N<C;N++){L.push(N);M(x,D+1,L,u);L.pop(N)}}M(r,0,[],I);var J=this.ZD.h().indexOf(!0);this.Bc=[I,H,b,e,p,R,J,this.aoo.bind(this),0,0];
this.aoo();return}var P=UZIP.encode(H),n=new iU(S.E.M,!0);n.data={d:S.H.Xa,data:P,name:"assets.zip"};
this.T(n)};he.prototype.aoo=function(){var E=this.Bc,y=E[0],c=E[1],e=this.WP,p=E[2],H=E[3],Z=E[4],X=E[5],b=E[6],k=E[7],D=0;
while(y.length!=0&&D<1e3){var j=Date.now(),g=y.shift(),R=[];for(var N=0;N<g.length;N++){var t=e.root.f$(p[N]);
for(var w=0;w<t.children.length;w++)t.children[w].a.rP(!1);var B=t.children[g[N]].a;R.push(b==2?B.getName():t.a.getName()+g[N]);
B.rP(!0)}e.W();e._1();var $=(b==0?g:R).join("-")+"."+H[0].toLowerCase();c[$]=new Uint8Array(iu.gv(e,H[0],e.m,e.e,Z[0],this.P0));
E[8]++;E[9]+=c[$].length;D+=Date.now()-j}if(y.length!=0){alert(E[8]+" done, "+fX.NU(E[9])+".",800);setTimeout(k,35);
return}for(var N=0;N<e.B.length;N++)e.B[N].rP(X[N]);e.W();var o=UZIP.encode(c),T=new iU(S.E.M,!0);T.data={d:S.H.Xa,data:o,name:"assets.zip"};
this.T(T)};function kB(){hx.call(this,"Export Color Lookup Tables","exlut");this.P0=null;this.WP=null;
var E=v.t("div","form");E.setAttribute("style","width:20em");this.body.appendChild(E);this.z7=[new jm("Grid Points",1,256),new aN([12,50],[".CUBE"])];
var y=[16,0];for(var N=0;N<this.z7.length;N++){var c=this.z7[N];c.c(y[N]);c.parent=this;c.k(S.E.p,this.VX,this);
E.appendChild(c.n);v.vY(E)}this.JL=v.r5(this,E);this.k("closebtn",this.FJ,this)}kB.prototype=new hx;
kB.prototype.Km=function(E,y){if(Math.min(E.m,E.e)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(E.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};kB.prototype.FJ=function(E){this.WP=null};kB.prototype.mh=function(E,y){this.P0=E};
kB.prototype.Xy=function(E,y,c){this.WP=E};kB.prototype.jI=function(){var E=this.WP,y=this.z7[0].h(),c=[],e=new ir(0,0,E.m,E.e),p=d.R(y*y*4),H=p.slice(0),Z=new ir(E.m-y>>>1,E.e-y>>>1,y,y),X=E.B[0],b=X.buffer,k=X.rect;
X.rect=Z;X.buffer=p;for(var D=0;D<y;D++){this.atS(y,D,p);X.W(Z);E.W(Z);var j=E.eA();d.E6(j,e,H,Z);for(var g=0;
g<y;g++)for(var R=0;R<y;R++){var t=g*y+R<<2;c.push(H[t]/255,H[t+1]/255,H[t+2]/255)}}var w=f9.aox(c,y,E.name);
fz.save(w,E.name.split(".")[0]+".CUBE");X.buffer=b;X.rect=k;X.W();E.W()};kB.prototype.atS=function(E,y,c){var e=255/(E-1),p=Math.round(y*e);
for(var H=0;H<E;H++)for(var Z=0;Z<E;Z++){var X=H*E+Z<<2;c[X]=Math.round(Z*e);c[X+1]=Math.round(H*e);
c[X+2]=p;c[X+3]=255}};kB.prototype._=function(){hx.prototype._.call(this);for(var N=0;N<this.z7.length;
N++)this.z7[N]._();this.JL._()};function gB(){hx.call(this,[1,14],"finfo");this.Qi=null;this._Q=null;
this.g2=null;this.bS=v.t("div","form scrollable label12");this.bS.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.bS);var E=v.t("div","form");this.body.appendChild(E);this.hZ=new a_(null,["Hello"]);
E.appendChild(this.hZ.n);this.axo=new fr("Add Parameter",!1,null,!0);E.appendChild(this.axo.n);this.axo.k("click",this.wF,this);
this.C8=new fr("=== S A V E ===",!1,null,!0);E.appendChild(this.C8.n);this.C8.k("click",this.hf,this);
this.aoV=""}gB.prototype=new hx;gB.prototype.Ut=function(E,y){return E<450||y<450?new eq(0,0):new eq(150,100)};
gB.prototype.wF=function(E){if(this.g2.length==0)return;var y=this.g2[this.hZ.h()],c=this.TE();c[y]=kJ.Cg[y][0];
this.nG(c);this._Q[y].n.scrollIntoView();this._Q[y].N2()};gB.prototype.ky=function(E){var y=this.TE();
delete y[E.currentTarget.a2V];this.nG(y)};gB.prototype.hf=function(E){var y=this.TE(),c=this.Qi,e=!0;
for(var p in c)if(JSON.stringify(c[p])!=JSON.stringify(y[p]))e=!1;for(var p in y)if(JSON.stringify(c[p])!=JSON.stringify(y[p]))e=!1;
if(e)return;var H=new iU(S.E.v,!0);H.f=F.sh;H.data={d:jN.Yd,uk:y};this.T(H);this.Qi=y;this.nG(y)};gB.a6p=function(E){function y(p){var H=p.toLowerCase();
return p==H}var c=E.split(":").pop();for(var e=1;e<c.length-1;e++){if(c[e]==c[e].toUpperCase()&&(y(c[e+1])||y(c[e-1]))){c=c.slice(0,e)+" "+c.slice(e);
e++}}return c};gB.prototype.Xy=function(E,y){this.Qi=E.Or;this.nG(E.Or)};gB.prototype.nG=function(E){var y=this.bS,p=0;
v.Vz(y);var c=this._Q={},e=["tiff","exif","exif:GPS"],H=this.g2=[],Z=[];for(var X in kJ.Cg){var b=gB.a6p(X),k=0,D=15,j=null;
if(E[X]==null){if(kJ.Cg[X].length!=1||X=="photoshop:Credit"||X=="photoshop:Source"){H.push(X);Z.push(b)}continue}for(var N=0;
N<e.length;N++)if(X.startsWith(e[N]))k=N;if(k!=p){v.X$(y);p=k}if(X=="tiff:ImageDescription"||X=="dc:Keywords"){D=18.5;
j=3}var g=new d3(b,null,D,j);c[X]=g;var R=E[X];if(R instanceof Array)R=R[1]==0?"---":R[0]+"/"+R[1];var t=new fr("\u2716",null,i4.get([5,4]));
y.appendChild(t.n);t.k("click",this.ky,this);t.a2V=X;g.c(R);y.appendChild(g.n);v.vY(y);if(X=="exif:GPSLongitude"&&E["exif:GPSLatitude"]){this.aoV=gB.a1i(E["exif:GPSLatitude"])+","+gB.a1i(E["exif:GPSLongitude"]);
var w=new fr("Show on map",!1,null,!0);y.appendChild(w.n);v.vY(y);w.k("click",this.abW,this)}}this.hZ.Pt(Z);
this.hZ.c(0)};gB.prototype.TE=function(){var E=this._Q,y=kJ.Cg,c={};for(var e in y){var p=y[e][0],H=typeof p;
if(p==null||E[e]==null)continue;var Z=E[e].h(),X="The value of \""+gB.a6p(e)+"\" must ";if(H=="number"){Z=parseFloat(Z);
if(isNaN(Z)){alert(X+"be a number.");Z=p}}else if(p instanceof Array&&p.length==2){if(Z.indexOf("/")==-1){alert(X+"be a fraction.");
Z=p.slice(0)}else{Z=Z.split("/").map(parseFloat);if(isNaN(Z[0])||isNaN(Z[1])){Z=p.slice(0)}}}c[e]=Z}return c};
gB.a1i=function(E){var y=E.length,c=E.slice(0,y-1).split(",").map(parseFloat),e=E.slice(y-1),p=c[0]+c[1]/60+c[2]/3600;
if(e!="N"&&e!="E")p=-p;return p};gB.prototype.abW=function(E){window.open("https://maps.google.com?q="+this.aoV,"Map")};
function fD(){hx.call(this,[11,5],"gradienteditor");this.vc=null;this.sv=null;this.Dv=null;this.wH=null;
this.Y$=!1;this._3=!1;this.FT=null;this.w1=null;this.f4=-1;this.mu=-1;this.B9=0;this.AT=this.v9.bind(this);
this.Uk=this.i4.bind(this);this.V$=v.t("canvas");this.kA=this.V$.getContext("2d");this.V$.setAttribute("style","display:block");
this.I$=null;v._N(this.V$);v.Qp(this.V$,this.wf.bind(this));this.ZG=v.t("div","form");this.dU=v.t("div");
this.XM=v.t("div","form");this.Kg=v.t("div");this.P7=new a_([12,44],[[15,10,0],[24,6]]);this.P7.k(S.E.p,this.yY,this);
this.body.appendChild(this.P7.n);v.X$(this.body);var E=this.ZG;this.ps=new jm([19,3,3],0,100,"%");this.ps.k(S.E.p,this.yY,this);
this.ps.parent=this;E.appendChild(this.ps.n);v.vY(E);this.Xp=new bU([12,0]);E.appendChild(this.Xp.n);
this._B=v.t("div","bordered padded noalign");E.appendChild(this._B);this.Mz=new jm([12,0],0,100,"%");
this.Mz.parent=this;this.Mz.k(S.E.p,this.yY,this);this._B.appendChild(this.Mz.n);this.Xc=new jm([12,40],0,100,"%");
this.Xc.parent=this;this.Xc.k(S.E.p,this.yY,this);this._B.appendChild(this.Xc.n);this.LV=new fr([5,4],!1,null,!0);
this.LV.k("click",this.agK,this);this._B.appendChild(this.LV.n);E.appendChild(this.dU);this.akj=new bU([13,0]);
E.appendChild(this.akj.n);this.MG=v.t("div","bordered padded noalign");E.appendChild(this.MG);this.O8=new a_([12,44],[[12,45],[12,46],[12,47]]);
this.O8.k(S.E.p,this.yY,this);this.MG.appendChild(this.O8.n);this._9=new eX(!0);this._9.parent=this;
this._9.k(S.E.p,this.yY,this);this.MG.appendChild(this._9.n);this.He=new jm([12,40],0,100,"%");this.He.parent=this;
this.He.k(S.E.p,this.yY,this);this.MG.appendChild(this.He.n);this.wU=new fr([5,4],!1,null,!0);this.wU.k("click",this.apF,this);
this.MG.appendChild(this.wU.n);var E=this.XM;this.RQ=new jm("Roughness",0,100,"%");this.RQ.k(S.E.p,this.yY,this);
this.RQ.parent=this;E.appendChild(this.RQ.n);E.appendChild(this.Kg);this.A0=new fr([25,1,2],!1,null,!0);
this.A0.k("click",this.yY,this);E.appendChild(this.A0.n);this.JL=v.r5(this);this.k("closebtn",this.qh,this)}fD.prototype=new hx;
fD.prototype.qh=function(E){if(this.Y$)this.wH(this.vc)};fD.prototype._=function(){hx.prototype._.call(this);
this.JL._();this.ps._();this.Xp._();this.akj._();this.LV._();this.wU._();this.Mz._();this.Xc._();this.O8._();
this.He._();this.A0._()};fD.prototype.mh=function(E,y){this.Dv=E};fD.prototype.Xy=function(E,y){this.sv=JSON.parse(JSON.stringify(y.L));
this.vc=JSON.parse(JSON.stringify(y.L));this.FT=this.w1=null;this.wH=y.yr;this.Y$=!1;this._3=y.TK;this.Ur();
this.EU()};fD.prototype.jI=function(E){var y=this.sv;this.wH(y);this.close()};fD.prototype.OX=function(E){return E==ct.OA||E==ct.hy};
fD.prototype.Gu=function(E,y,c,e){if(e.S(ct.OA)||e.S(ct.hy)){if(this.w1)this.agK();if(this.FT)this.apF()}};
fD.prototype.agK=function(E){var y=this.sv.Trns.v;if(this.w1==null||y.length==1)return;y.splice(y.indexOf(this.w1),1);
this.w1=null;this.Ur();this.EU()};fD.prototype.apF=function(E){var y=this.sv.Clrs.v;if(this.FT==null||y.length==1)return;
y.splice(y.indexOf(this.FT),1);this.FT=null;this.Ur();this.EU()};fD.prototype.Ur=function(){var E=this.V$,y=this.kA,c=v.k1();
E.width=Math.floor(410*c);E.height=Math.floor(70*c);v.A3(E,E.width,E.height);E.style.marginTop="8px";
this.I$=new ir(0,0,Math.floor(380*c),Math.floor(32*c));this.I$.x=Math.floor((E.width-this.I$.m)/2);this.I$.y=Math.floor((E.height-this.I$.e)/2);
var e=this.I$,p=e.m,H=e.e,Z=e.x,X=e.y,b=new ir(0,0,p,H),k=y.getImageData(0,0,p,H),D=new Uint8Array(k.data.buffer);
d.o2(D,p,H,8);var j=d.R(p*H*4);d.L.Z$(this.sv,j,b,[1/p,0,0,1/H],p/2,H/2,!1,0,this.Dv.x4,this.Dv.YO);
d.l.Io("norm",j,e,D,e,e,1);y.clearRect(0,0,E.width,E.height);y.putImageData(k,Z,X);var g=this.sv;if(g.Clrs){var R=g.Trns.v,t=g.Clrs.v,w=d.L.nb(g,this.Dv.x4,this.Dv.YO),B=Math.round(6*v.k1()),$=Math.round(14*v.k1()),o=this.w1?this.w1.v:null,T=this.FT?this.FT.v:null;
for(var N=0;N<R.length;N++){var i=R[N].v,r=Math.round(255-255*i.Opct.v.val/100);if((i==o||R[N-1]&&R[N-1].v==o||N==this.mu)&&N!=0){y.fillStyle="#000000";
y.fillRect(Z-3+p*(R[N-1].v.Lctn.v+(i.Lctn.v-R[N-1].v.Lctn.v)*i.Mdpn.v/100)/4096,X-6-2,6,6)}if(i==o){y.fillStyle="#ffffff";
y.fillRect(Z-B+p*(i.Lctn.v/4096)-2,X-2-$-2,2*B+4,$+4)}y.fillStyle="rgb("+r+","+r+","+r+")";y.fillRect(Z-B+p*(i.Lctn.v/4096),X-2-$,2*B,$)}for(var N=0;
N<t.length;N++){var I=t[N].v,M=w[0][N][0];if((I==T||t[N-1]&&t[N-1].v==T||N==this.f4)&&N!=0){y.fillStyle="#000000";
y.fillRect(Z-3+p*(t[N-1].v.Lctn.v+(I.Lctn.v-t[N-1].v.Lctn.v)*I.Mdpn.v/100)/4096,X+H+2,6,6)}if(I==T){y.fillStyle="#ffffff";
y.fillRect(Z-B+p*(I.Lctn.v/4096)-2,X+H+2-2,2*B+4,$+4)}y.fillStyle="rgb("+Math.round(M.Z)+", "+Math.round(M.D)+","+Math.round(M.J)+")";
y.fillRect(Z-B+p*(I.Lctn.v/4096),X+H+2,2*B,$)}}if(this._3){this.wH(this.sv);this.Y$=!0}};fD.prototype.EU=function(){var E=this.sv,y=E.Clrs?0:1;
this.P7.c(y);if(v.Qj(this.ZG))this.body.removeChild(this.ZG);if(v.Qj(this.XM))this.body.removeChild(this.XM);
(y==0?this.dU:this.Kg).appendChild(this.V$);if(y==0){this.body.appendChild(this.ZG);this.ps.c(Math.round(100*E.Intr.v/4096));
var c=E.Trns.v,e=E.Clrs.v,p=this.w1!=null,H=this.mu!=-1;this.Mz.U0(p);this.Xc.U0(p||H);this.LV.U0(p);
if(p){this._B.setAttribute("style","");var Z=this.w1.v;this.Xc.c(Math.round(100*Z.Lctn.v/4096));this.Mz.c(Z.Opct.v.val)}if(H)this.Xc.c(c[this.mu].v.Mdpn.v);
var p=this.FT!=null,H=this.f4!=-1;this.O8.U0(p);this._9.U0(p);this.He.U0(p||H);this.wU.U0(p);if(p){this.MG.setAttribute("style","");
var X=this.FT.v;this.He.c(Math.round(100*X.Lctn.v/4096));var b=X.Type.v.Clry;this.O8.c(["FrgC","BckC","UsrS"].indexOf(b));
if(b=="FrgC")this._9.Gd(this.Dv.x4);if(b=="BckC")this._9.Gd(this.Dv.YO);if(b=="UsrS")this._9.c(X.Clr.v)}if(H)this.He.c(e[this.f4].v.Mdpn.v)}else{this.body.appendChild(this.XM);
this.RQ.c(Math.round(100*E.Smth.v/4096))}this.body.appendChild(this.JL.n)};fD.prototype.yY=function(E){var y=this.sv,c=y.Clrs?0:1;
if(E.target==this.P7){var e=c==0?JSON.parse(cb.Wy.aBj).v:cN.TL("grdm").Grad.v;this.sv=e;this.EU();this.Ur();
return}if(c==0){y.Intr.v=Math.round(4096*this.ps.h()/100);var p=y.Trns.v,H=y.Clrs.v;if(this.w1!=null){var Z=this.w1.v;
Z.Lctn.v=Math.round(4096*(this.Xc.h()/100));Z.Opct.v.val=this.Mz.h()}if(this.FT!=null){var X=this.FT.v;
X.Lctn.v=Math.round(4096*(this.He.h()/100));if(E.target==this._9)this.O8.c(2);var b=this.O8.h();X.Type.v.Clry=["FrgC","BckC","UsrS"][b];
if(b==2)X.Clr={t:"Objc",v:this._9.h()};else if(X.Clr)delete X.Clr}if(this.mu!=-1)p[this.mu].v.Mdpn.v=this.Xc.h();
if(this.f4!=-1)H[this.f4].v.Mdpn.v=this.He.h()}else{y.Smth.v=Math.round(4096*this.RQ.h()/100);if(E.target==this.A0)y.RndS.v=Math.floor(Math.random()*4294967295)}this.Ur()};
fD.prototype.wf=function(E){var y=v.RM(E,this.V$),c=this.I$,e=(y.x*v.k1()-c.x)/c.m,p=(y.y*v.k1()-c.y)/c.e,H=this.sv.Trns.v,Z=this.sv.Clrs.v,X=null,b=null,k=-1,D=-1;
if(p<1)for(var N=0;N<H.length;N++){var j=H[N].v;if(Math.abs(j.Lctn.v/4096-e)<.02)X=H[N];if(N>0)if(Math.abs((H[N-1].v.Lctn.v+(j.Lctn.v-H[N-1].v.Lctn.v)*j.Mdpn.v/100)/4096-e)<.01)k=N}if(p>0)for(var N=0;
N<Z.length;N++){var g=Z[N].v;if(Math.abs(g.Lctn.v/4096-e)<.02)b=Z[N];if(N>0)if(Math.abs((Z[N-1].v.Lctn.v+(g.Lctn.v-Z[N-1].v.Lctn.v)*g.Mdpn.v/100)/4096-e)<.01)D=N}if(b==null&&X==null&&k==-1&&D==-1){if(p<0){var j={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
j.v.Lctn.v=Math.round(e*4096);H.push(j);H.sort(this.fD);X=j}if(p>1){var Z=this.sv.Clrs.v,R=d.L.nb(this.sv,this.Dv.x4,this.Dv.YO),t=d.L.ub(this.sv,R,e),g={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:d.L.hp({Z:t&255,D:t>>8&255,J:t>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
g.v.Lctn.v=Math.round(e*4096);Z.push(g);Z.sort(this.fD);b=g}}if(b!=null)D=-1;if(X!=null)k=-1;if(b!=null||X!=null||k>-1||D>-1){this.w1=X;
this.FT=b;this.mu=k;this.f4=D;this.EU();this.Ur();v.FY(window,this.AT);v.Fo(window,this.Uk)}};fD.prototype.v9=function(E){var y=v.RM(E,this.V$),c=this.I$,e=(y.x*v.k1()-c.x)/c.m,p=(y.y*v.k1()-c.y)/c.e;
e=Math.max(0,Math.min(1,e));var H=this.sv.Trns.v,Z=this.sv.Clrs.v;if(this.w1!=null){var X=this.w1.v;
X.Lctn.v=Math.round(4096*e);var b=H.indexOf(this.w1);if(b!=-1&&p<-1&&H.length>1)H.splice(b,1);if(b==-1&&p>-1)H.push(this.w1);
H.sort(this.fD)}if(this.FT!=null){var k=this.FT.v;k.Lctn.v=Math.round(4096*e);var D=Z.indexOf(this.FT);
if(D!=-1&&p>2&&Z.length>1)Z.splice(D,1);if(D==-1&&p<2)Z.push(this.FT);Z.sort(this.fD)}if(this.mu>-1){var X=H[this.mu].v;
X.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(e*4096-H[this.mu-1].v.Lctn.v)/(X.Lctn.v-H[this.mu-1].v.Lctn.v))))}if(this.f4>-1){var k=Z[this.f4].v;
k.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(e*4096-Z[this.f4-1].v.Lctn.v)/(k.Lctn.v-Z[this.f4-1].v.Lctn.v))))}if(this.w1!=null||this.FT!=null||this.mu>-1||this.f4>-1){this.EU();
this.Ur()}};fD.prototype.i4=function(E){v.Ci(window,this.AT);v.QM(window,this.Uk);if(Date.now()-this.B9<300){if(this.f4!=-1||this.mu!=-1){var y=(this.f4!=-1?this.sv.Clrs.v[this.f4]:this.sv.Trns.v[this.mu]).v;
y.Mdpn.v=50;this.EU();this.Ur()}else if(this.FT!=null)this._9.Bf()}this.B9=Date.now()};fD.prototype.fD=function(E,y){return E.v.Lctn.v-y.v.Lctn.v};
function i1(E){hx.call(this,E=="isize"?[11,10]:[11,3],E);this.aaV=E;var y=v.t("div","form");y.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");
this.body.appendChild(y);var c=E=="csize";this.agr=new bU("Hi");y.appendChild(this.agr.n);v.vY(y);this.xH=new eB(!0,!0,c,c,!0);
if(c)this.xH.a5q(!1);y.appendChild(this.xH.n);this.f8=new b8([12,25,3]);this.f8.c(!0);this.f8.k(S.E.p,this.aaE,this);
this.bL=new a_(null,[[12,14,2],[12,14,3],[12,14,4]]);this.bL.c(1);this.v3=new kg([12,23,2],41);this.v3.c(4);
if(E=="isize"){y.appendChild(this.f8.n);y.appendChild(this.bL.n)}else y.appendChild(this.v3.n);this.JL=v.r5(this,this.body)}i1.prototype=new hx;
i1.prototype.Km=function(E,y){return E!=null};i1.prototype.j_=function(){return!0};i1.prototype.OX=function(E){return this.aaV=="isize"?!1:[ct.Wb,ct.Fj,ct.Iq,ct.em].indexOf(E)!=-1};
i1.prototype.Gu=function(E,y,c,e){if(e.S(ct.qy))this.jI();this.v3.aar(e.K$())};i1.prototype._=function(){hx.prototype._.call(this);
this.xH._();this.f8._();this.bL._();this.v3._();this.JL._()};i1.prototype.jI=function(E){var y=this.xH.h(),c=y.x,e=y.y,p=new iU(S.E.on,!0),H=this.xH.gk.h();
if(this.aaV=="csize"){if(H){var Z=this.xH.Xt,X=this.xH.s1;c=X.x-Z.x;e=X.y-Z.y}p.data=F.Et.agx(c,e,this.v3.h(),H)}else{var b=this.bL.h();
if(!this.f8.h())b=null;p.data=F.Et.ahX(c,e,this.xH.zX(),b)}this.close();this.T(p)};i1.prototype.Xy=function(E,y){this.xH.c(new eq(E.m,E.e),E.$c);
this.xH.N2();this.agr.c(i4.get(this.RY)+": "+(E.m*E.e/1e6).toFixed(2)+" MPx")};i1.prototype.aaE=function(E){var y=this.f8.h(),c=this.xH,e=this.bL;
if(y)e.fh();else e.Cp();c.ac$(y)};function hT(){hx.call(this,"Import RAW","importraw");var E=v.t("div","flexrow"),y=v.t("div");
y.setAttribute("style","margin-bottom: 1em");this.body.appendChild(E);this.body.appendChild(y);var c=v.t("div","form");
c.setAttribute("style","width:18em");E.appendChild(c);var e=v.t("div","form");e.setAttribute("style","width:15em");
E.appendChild(e);this.dE=null;this.yA=null;this.EO=null;this.KL=null;this.anY=[];var p=[];for(var N=0;
N<hT.DA.length;N++)p.push(hT.DA[N]+" Bits");var H=this.Bc=[new eB(!0,null,null,!0),new jm([12,72],1,8),new b8("Last one is Transparency"),new aN([12,34],p),new aN("Byte Order",["12-34","34-12"]),new a_("Guesses",[])];
for(var N=0;N<H.length;N++){var Z=H[N];Z.parent=this;Z.k(S.E.p,N==5?this.a0H:this.YZ,this);var X=N==0?c:N==5?y:e;
X.appendChild(Z.n)}this.V$=v.t("canvas");this.kA=this.V$.getContext("2d");this.body.appendChild(this.V$);
this.JL=v.r5(this,this.body)}hT.prototype=new hx;hT.prototype._=function(){hx.prototype._.call(this);
var E=this.Bc;this.JL._();for(var N=0;N<E.length;N++)E[N]._()};hT.prototype.jI=function(E){this.close();
var y=this.Bc[0].h(),c=iu.kv(this.yA,[{data:this.EO,Yu:new ir(0,0,y.x,y.y)}]);if(this.KL)c.cB=this.KL;
var e=new iU(S.E.M,!0);e.data={d:!0?S.H.xg:S.H.J8,cX:c};this.T(e)};hT.DA=[8,16];hT.prototype.Xy=function(E,y){this.dE=new Uint8Array(y.Bj);
this.yA=y.gg;var c=this.dE.length,e=[1,3,4],p=0,H=0,Z=1,X=1,b=this.anY=[],k=Math.round(Math.sqrt(c)*2);
k=Math.max(k,4e3);for(var D=0;D<3;D++){for(var j=0;j<2;j++){var g=hT.DA[j],R=e[D],t=R*g,w=Math.round(c*8/t);
if(w!=c*8/t)continue;for(var B=0;B<=k;B++)for(var $=0;$<=k;$++)if(B*$==w){var o=0;if(B==$)o+=64;if(Math.round(B/100)==B/100&&Math.round($/100)==$/100)o+=32;
if(Math.round(B/10)==B/10&&Math.round($/10)==$/10)o+=16;if(Math.round(B/2)==B/2&&Math.round($/2)==$/2)o+=8;
b.push([B,$,R,g,o])}}}var T=function(M,J){if(J[4]!=M[4])return J[4]-M[4];var P=Math.max(M[0],M[1])/Math.min(M[0],M[1]),n=Math.max(J[0],J[1])/Math.min(J[0],J[1]);
if(P!=n)return P-n;return J[0]-M[0]};b.sort(T);var i=this.Bc,r=[];for(var N=0;N<b.length;N++){var I=b[N];
r.push(I[0]+" x "+I[1]+", "+I[2]+"ch, "+I[3]+"-bit")}i[5].Pt(r);i[5].c(0);this.a0H(null)};hT.prototype.a0H=function(E){var y=this.Bc,c=this.anY[this.Bc[5].h()];
y[0].c(new eq(c[0],c[1]),72);y[1].c(c[2]);y[3].c(hT.DA.indexOf(c[3]));this.YZ()};hT.prototype.YZ=function(E){var y=this.Bc,c=y[0].h(),e=c.x,p=c.y,H=hT.DA[y[3].h()],Z=this.dE;
if(H==16&&y[4].h()==1){Z=Z.slice(0);for(var N=0;N<Z.length;N+=2){var X=Z[N];Z[N]=Z[N+1];Z[N+1]=X}}var b=this.EO=this.cU(Z,e,p,y[1].h(),H,y[2].h()),k=this.V$,D=this.kA,j=[b,new ir(0,0,e,p)];
d.nJ(j);for(var N=0;N<j.length;N+=2)if(j[N+1].e<300){b=j[N];e=j[N+1].m;p=j[N+1].e;break}k.width=e;k.height=p;
v.A3(k,e,p);var g=new ImageData(new Uint8ClampedArray(b.buffer),e,p);D.putImageData(g,0,0)};hT.prototype.cU=function(E,y,c,e,p,H){this.KL=null;
var Z=[],X=y*c;for(var b=0;b<e;b++){var k=d.R(X);Z.push(k);if(p==8)for(var N=0;N<X;N++)k[N]=E[N*e+b];
else if(p==16)for(var N=0;N<X;N++)k[N]=Math.round((E[(N*e+b)*2]<<8|E[(N*e+b)*2+1])*(255/65535))}var D=d.R(X*4);
new Uint32Array(D.buffer).fill(4278190080);if(H){d.Og(Z.pop(),D,3);e--}if(e==0){}else if(e==1)d.Q9(Z[0],D);
else{d.Og(Z[0],D,0);d.Og(Z[1],D,1);if(e>2){d.Og(Z[2],D,2);if(e>3){this.KL=[];for(var N=3;N<e;N++){var j=new jN.W$;
j.name="Alpha "+(N-2);j.rect=new ir(0,0,y,c);j.channel=Z[N];this.KL.push(j)}}}}return D};function iQ(E,y,c){dT.call(this);
this.n=v.t("div","");this.Y1=E;this.Jj=null;this.fN=y==null?!1:y;this.SV=null;this.aQ=c;this.hU=[];this.og=[];
this.ZJ=[];this.Bx=[];this.js=0;this.Jj=this.a0W(iQ.Bx[E]);this.Rz();this.zB=null;this.aqm;this.asz}iQ.prototype=new dT;
iQ.prototype.yl=function(E,y,c,e,p){this.zB=p;this.aqm=JSON.parse(JSON.stringify(this.SV));if(this.Jj.lagl)this.asz=this.Jj.lagl.h()[0]};
iQ.prototype.Lv=function(E,y,c,e,p){var H=this.zB,Z=this.Y1,X=this.aqm;if(H==null)return;var b=(p.x-H.x)/E.Q.O,k=(p.y-H.y)/E.Q.O;
if(Z=="GrFl"){var D=JSON.parse(JSON.stringify(X.Ofst.v));D.Hrzn.v.val+=b*.5;D.Vrtc.v.val+=k*.5;this.Jj.Ofst.c(D,!0)}if(Z=="patternFill"){var D=JSON.parse(JSON.stringify(X.phase.v));
D.Hrzn.v+=b;D.Vrtc.v+=k;this.Jj.phase.c(D,!0)}if(Z=="DrSh"||Z=="IrSh"||Z=="ChFX"){var j=X.Dstn.v.val,g=this.asz*Math.PI/180,R=-Math.cos(g)*j+b,t=Math.sin(g)*j+k;
this.Jj.Dstn.c(Math.sqrt(R*R+t*t),!0);this.Jj.lagl.c([Math.atan2(t,-R)*180/Math.PI],!0)}};iQ.prototype.JA=function(E,y,c,e,p){this.zB=null};
iQ.prototype.a3F=function(){for(var N=0;N<this.Bx.length;N++){v.yo(this.Bx[N],"selected");if(this.ZJ[N]instanceof b8)this.ZJ[N].c(!1)}};
iQ.prototype.asK=function(E){var y=this.afa.bind(this);for(var N=0;N<this.ZJ.length;N++){var c=v.t("div","listitem");
this.Bx.push(c);if(N>0)c.textContent="\u2003";c.appendChild(this.ZJ[N].n);if(cb.ad6.indexOf(this.Y1)!=-1){var e=new fr("+");
e.Fw();e.n.style.float="right";c.appendChild(e.n);var p=new fr("\u2B0D");p.Fw();p.n.style.float="right";
p.n.style["margin-right"]="2px";c.appendChild(p.n)}c.addEventListener("click",y,!1);E.appendChild(c)}};
iQ.tB=function(E,y){var c=y.getBoundingClientRect();return(E.clientY-c.top)/c.height};iQ.prototype.afa=function(E){var y=E.target.tagName.toLowerCase();
if(y=="input"){return}if(y=="button"){var c=new iU(S.E.v,!0),e=E.target.textContent=="+",p=e?0:iQ.tB(E,E.target)<.5?-1:1;
if(e)c.data={d:"st_dupsingle",a:this.parent.data.a,ir:this.aQ};else c.data={d:"st_movsingle",a:this.parent.data.a,ir:this.aQ,aaB:p};
c.f=F.Mt;c.n5=!0;this.T(c);c=new iU("redrawall",!0);c.data={aaB:p};this.T(c);return}v.Ds(E);this.xb();
this.js=this.Bx.indexOf(E.currentTarget);this.T(new iU("showme"))};iQ.prototype.xb=function(){if(this.Jj.enab&&this.Jj.enab.h()==!1)this.tH({jV:"enab",b:!0})};
iQ.prototype.amT=function(){var E=this.Bx[this.js];if(E)v.Jn(E,"selected");return this.og[this.js]};
iQ.prototype.a0W=function(E){var y={};for(var N=0;N<E.length;N++){var c=E[N],e=null;if(c=="----")e={n:v.t("hr")};
if(c=="\n")e={n:v.t("br")};if(c=="blOptions")e=new bU([14,10]);if(c=="brst")e=new hS([12,72],["R","G","B"]);
if(c=="knko")e=new a_("Knockout",[[13,1,0],"Shallow","Deep"]);if(c=="enab")e=new b8(cb.names[cb.order.indexOf(this.Y1)]);
if(c=="lrMd"||c=="Md")e=new a_([12,19,0],cg.BR,cg.Xs);if(c=="Opct")e=new i_([12,0],0,100,"%");if(c=="iOpa")e=new i_([12,26],0,100,"%");
if(c=="blIf")e=new bh;if(c=="ShdN")e=new i_([12,68],0,100,"%");var p=this.Y1=="St3D"&&c=="lagl";if(c=="lagl"||c=="Angl")e=new dC(p?"Light":[12,15],this.Y1=="ebbl"||p);
if(c=="uglg")e=new b8([12,27]);if(c=="Dstn")e=new i_([12,28],0,200,"px");if(c=="Ckmt")e=new i_([12,29],0,100,"%");
if(c=="Srnk")e=new i_("Shrink",0,100,"%");if(c=="Drkn")e=new i_("Darken",0,100,"%");if(c=="blur")e=new i_([12,14,0],0,200,"px");
if(c=="TrnS"||c=="MpgS")e=new ih([12,21]);if(c=="Nose")e=new i_([12,30],0,100,"%");if(c=="layerConceals")e=new b8([12,31]);
if(c=="Cntn")e=new b8([12,25,4]);if(c=="AntA"||c=="antialiasGloss")e=new b8([12,25,1]);if(c=="GlwT")e=new a_([12,32],cb._u.names);
if(c=="glwS")e=new a_([12,70],cb._u.a3j);if(c=="Inpr")e=new i_([12,12],1,100,"%");if(c=="bvlS")e=new a_([12,22],cb.J9.style);
if(c=="bvlT")e=new a_([12,32],cb.J9.aan);if(c=="bvlD")e=new a_(null,cb.J9.dir);if(c=="srgR")e=new i_([12,34],0,1e3,"%");
if(c=="Sftn")e=new i_([12,35],0,20,"px");if(c=="Lald")e=y.lagl;if(c=="hglM"||c=="sdwM")e=new a_([12,36],cg.BR,cg.Xs);
if(c=="hglC"||c=="sdwC")e=new eX;if(c=="hglO"||c=="sdwO")e=new i_([12,0],0,100,"%");if(c=="Invr"||c=="InvT")e=new b8([4,11]);
if(c=="overprint")e=new b8("Overprint");if(c=="Sz")e=new i_([12,14,0],1,200,"px");if(c=="Styl")e=new a_([12,40],cb.stroke.names);
if(c=="PntT")e=new a_([12,66],cb.stroke.ak7);if(c=="Clr")e=new eX(!0);if(c=="Grad"){e=new hV(!0,[12,37],!0);
e.c(JSON.parse(cb.Wy.alQ).v)}if(c=="Rvrs")e=new b8([12,23,0]);if(c=="Dthr")e=new b8([12,23,3]);if(c=="Type")e=new a_([12,22],cb.L.names.slice(0,this.Y1=="FrFX"?6:5));
if(c=="Ptrn")e=new j8([12,62]);if(c=="Scl")e=new i_([12,38],5,500,"%",0,!0);if(c=="Algn")e=new b8([12,39]);
if(c=="Ofst")e=new h5(!0);if(c=="phase")e=new h5(!1);if(c=="useShape")e=new b8([12,21]);if(c=="useTexture")e=new b8([12,67]);
if(c=="textureDepth")e=new i_([12,34],-300,300,"%");var H=c=="----"||c=="\n"?c+N:c;if(e!=null)y[H]=e}return y};
iQ.prototype.axX=function(E){var y=this.og[this.js];for(var N=0;N<E.length;N++){var c=this.Jj[E[N]];
if(c&&y.contains(c.n))y.removeChild(c.n)}};iQ.prototype.af$=function(E){var y=this.og[this.js];for(var N=0;
N<E.length;N++){var c=this.Jj[E[N]];if(c&&!y.contains(c.n))y.appendChild(c.n)}};iQ.prototype.mh=function(E,y){if(this.Jj==null)return;
var c=y==iL.Dg;if(this.Jj.Grad){this.Jj.Grad.Yz(E.x4,E.YO);if(c||y==iL.g6||y==iL.FP)this.Jj.Grad.Vd(E.s4)}if(this.Jj.Ptrn){if(c||y==iL.Iu)this.Jj.Ptrn.Vd(E.gS)}if(this.Jj.TrnS){if(c||y==iL.EJ)this.Jj.TrnS.Vd(E.qN)}if(this.Jj.MpgS){if(c||y==iL.EJ)this.Jj.MpgS.Vd(E.qN)}};
iQ.prototype._=function(){for(var N=0;N<this.hU.length;N++)this.hU[N]._();for(var E in this.Jj)if(this.Jj[E]instanceof dT)this.Jj[E]._()};
iQ.prototype.Rz=function(){for(var E in this.Jj){var y=this.Jj[E];y.parent=this;if(y instanceof dT)y.k(S.E.p,this.acw,this);
if(this.og.length==0||E=="useShape"||E=="useTexture"){var c=new bU(y.atn()),e=v.t("div","bordered padded");
if(this.fN==!1){e.appendChild(c.n);e.appendChild(v.t("hr",""))}this.hU.push(c);this.og.push(e);this.ZJ.push(y)}else this.og[this.og.length-1].appendChild(y.n)}};
iQ.prototype.update=function(E,y){if(this.Jj==null)return;this.SV=JSON.parse(JSON.stringify(y));for(var c in y){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(c)!=-1)this.Jj[c].c(y[c].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(c)!=-1){this.Jj[c].c(y[c].v,E)}if(["Md","hglM","sdwM"].indexOf(c)!=-1)this.Jj[c].c(cg.Y1.indexOf(y[c].v.BlnM));
if(c=="lrMd"){var e=(y.uY?[[15,10,27]]:[]).concat(cg.BR),p=(y.uY?[1]:[]).concat(cg.Xs);this.Jj[c].Pt(e,p);
this.Jj[c].c(y[c].v)}if(c=="Angl")this.Jj[c].c([y[c].v.val]);if(c=="lagl"){var H=y.uglg&&y.uglg.v?E.Ac():y.lagl.v.val;
this.Jj[c].c([H])}if(c=="Lald"){var H=y.uglg&&y.uglg.v?E.FN():y.Lald.v.val;this.Jj[c].c([null,H])}if(c=="Type")this.Jj[c].c(cb.L.types.indexOf(y.Type.v.GrdT));
if(c=="Styl")this.Jj[c].c(cb.stroke.types.indexOf(y.Styl.v.FStl));if(c=="PntT"){var Z=cb.stroke.eo.indexOf(y.PntT.v.FrFl);
this.Jj[c].c(Z);if(!this.fN){this.axX(cb.nM.concat(cb.Bm.concat(cb.Z0)));this.af$([cb.nM,cb.Bm,cb.Z0][Z])}}if(c=="GlwT")this.Jj[c].c(cb._u.types.indexOf(y.GlwT.v.BETE));
if(c=="glwS")this.Jj[c].c(cb._u.a17.indexOf(y.glwS.v.IGSr));if(c=="bvlS")this.Jj[c].c(cb.J9.types.indexOf(y.bvlS.v.BESl));
if(c=="bvlT")this.Jj[c].c(cb.J9.a82.indexOf(y.bvlT.v.bvlT));if(c=="bvlD")this.Jj[c].c(["In","Out"].indexOf(y.bvlD.v.BESs))}};
iQ.prototype.acw=function(E){for(var y in this.Jj){if(this.Jj[y]!=E.target)continue;var c=null,e=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(y)!=-1)c={type:"#Prc",val:E.target.h()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(y)!=-1)c={type:"#Pxl",val:E.target.h()};if(["Angl","lagl"].indexOf(y)!=-1)c={type:"#Ang",val:E.target.h()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(y)!=-1)c=E.target.h();
if(["Md","hglM","sdwM"].indexOf(y)!=-1)c={BlnM:cg.Y1[E.target.h()]};if(y=="uglg"){c=E.target.h();e=!0}if(y=="PntT"){c={FrFl:cb.stroke.eo[E.target.h()]};
e=!0}if(y=="Lald")c={type:"#Ang",val:E.target.h()[1]};if(y=="Type")c={GrdT:cb.L.types[E.target.h()]};
if(y=="Styl")c={FStl:cb.stroke.types[E.target.h()]};if(y=="GlwT")c={BETE:cb._u.types[E.target.h()]};
if(y=="glwS")c={IGSr:cb._u.a17[E.target.h()]};if(y=="bvlS")c={BESl:cb.J9.types[E.target.h()]};if(y=="bvlT")c={bvlT:cb.J9.a82[E.target.h()]};
if(y=="bvlD")c={BESs:["In","Out"][E.target.h()]};this.tH({jV:y,b:c});if(e){if(this.fN)this.update(null,this.SV);
else{var p=this.parent,H=p.cX,Z=this.aQ,X=H.B[p.data.a].add.lmfx[cb.zt[Z[0]]].v[Z[1]].v;this.update(H,X)}}}};
iQ.prototype.tH=function(E){if(this.SV&&this.SV[E.jV])this.SV[E.jV].v=E.b;if(this.fN){this.T(new iU(S.E.p))}else{E.d="changeprop";
E.a=this.parent.data.a;E.h2=this.aQ;var y=new iU(S.E.v,!0);y.data=E;y.f=F.Mt;y.n5=!0;this.T(y);this.T(new iU("afterchange",!0))}};
iQ.prototype.h=function(){return JSON.parse(JSON.stringify(this.SV))};iQ.Bx={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(cb.nM),GrFl:["enab","Md","Opct"].concat(cb.Bm),patternFill:["enab","Md","Opct"].concat(cb.Z0),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(cb.nM.concat(cb.Bm.concat(cb.Z0)))};
function kr(){hx.call(this,[11,6],"layerstyle");this.afS=-1;this.data={};this.cX=null;this.P0=null;this.oM=[];
this.s_=[];v.Jn(this.body,"flexrow");this.dj=v.t("div","bordered");this.dj.setAttribute("style","min-width:13em;");
this.body.appendChild(this.dj);this.q3=v.t("div","");this.q3.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.q3);this.S$=v.t("div","form");this.S$.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.S$);this.JL=v.r5(this,this.S$);this.RZ=new fr([12,87],!0,null,!0);this.RZ.k("click",this.azN,this);
this.S$.appendChild(this.RZ.n);this.VN=new a5;this.VN.parent=this;this.VN.k(S.E.p,this.abj,this);this.S$.appendChild(this.VN.n);
this.k("closebtn",this.qh,this);this.k("redrawall",this.auj,this)}kr.prototype=new hx;kr.prototype.j_=function(){return!0};
kr.prototype.Zo=function(){return!0};kr.prototype.yl=function(E,y,c,e,p){var H=this.SK();if(H)H.yl(E,y,c,e,p)};
kr.prototype.Lv=function(E,y,c,e,p){var H=this.SK();if(H)H.Lv(E,y,c,e,p)};kr.prototype.JA=function(E,y,c,e,p){var H=this.SK();
if(H)H.JA(E,y,c,e,p)};kr.prototype.SK=function(E){if(E==null)E=this.data.index;return E==null?null:E==0?this.oM[0]:this.s_[E[0]][E[1]]};
kr.prototype.abj=function(E){var y=this.VN.h();this.tH({d:"setstl",b:y.mp});this.auj(null)};kr.prototype.azN=function(E){var y=this.cX,c=this.data.a;
if(c==null)c=y.g[0];var e=this.cX.B[c],p=hA.amE(e),H=new iU(S.E.M,!0);H.data={d:S.H.z2,a5:"add",Wp:iL.G5,e_:[JSON.parse(JSON.stringify(p))]};
this.T(H)};kr.prototype.a0F=function(E){this.data.index=E.currentTarget.aQ;this.Us(E.currentTarget.aQ)};
kr.prototype.auj=function(E){this.Xy(this.cX,this.data)};kr.prototype.Us=function(E,y){v.Vz(this.q3);
for(var N=0;N<this.oM.length;N++)this.oM[N].a3F();var c=this.SK(E);this.q3.appendChild(c.amT());if(y)c.xb();
var e=this.cX;if(e){var p=e.B[this.data.a];this.oM[0].update(e,F.Ui.cO(e,p));var H=p.add.lmfx;if(H==null)return;
for(var N=0;N<cb.order.length;N++){var Z=H[cb.zt[N]].v;for(var X=0;X<Z.length;X++)this.s_[N][X].update(e,Z[X].v)}}if(y)c.xb()};
kr.prototype._=function(){hx.prototype._.call(this);this.RZ._();this.VN._();this.JL._();for(var N=0;
N<this.oM.length;N++)this.oM[N]._()};kr.prototype.Xy=function(E,y){var c=y.a==null;this.data.a=y.a;this.data.index=y.index;
y=this.data;this.cX=E;if(c)y.a=E.g.length==0?E.B.length-1:E.g[0];v.Vz(this.dj);var e=E.B[y.a].add.lmfx;
this.Jr();this.oM=[new iQ("bops",!1,0)];this.s_=[];for(var N=0;N<cb.order.length;N++){this.s_.push([]);
var p=e==null?[]:e[cb.zt[N]].v;for(var H=0;H<p.length;H++){var Z=new iQ(cb.order[N],!1,[N,H]);this.oM.push(Z);
this.s_[N].push(Z)}if(p.length==0){var Z=new iQ(cb.order[N],!1,[N,0]);this.oM.push(Z);this.s_[N].push(Z)}}this._();
this.a5T(this.P0,iL.Dg);for(var N=0;N<this.oM.length;N++){this.oM[N].parent=this;this.oM[N].asK(this.dj);
this.oM[N].k("showme",this.a0F,this)}if(y.index==null||y.index==0||!c&&e[cb.zt[y.index[0]]].v.length==0){this.Us(0)}else this.Us(y.index,c);
this.k("afterchange",this.Jr,this)};kr.prototype.Jr=function(E){var y=this.cX,c=this.data.a;if(c==null)c=y.g[0];
var e=this.cX.B[c],p=hA.amE(e);this.VN.c(p,y.add.Patt?y.add.Patt:[],y.Ac(),y.FN())};kr.prototype.mh=function(E,y){this.P0=E;
this.a5T(E,y);if(y==iL.G5||y==iL.Dg){this.VN.Vd([E.EX,E.gS])}if(y==iL.ZU){}};kr.prototype.a5T=function(E,y){for(var N=0;
N<this.oM.length;N++)this.oM[N].mh(E,y)};kr.prototype.qh=function(E){this.tH({d:"cancel"})};kr.prototype.jI=function(E){this.tH({d:"confirm"});
this.close()};kr.prototype.tH=function(E){E.a=this.data.a;var y=new iU(S.E.v,!0);y.data=E;y.f=F.Mt;y.n5=!0;
this.T(y);this.Jr()};kr.aem=function(){var E=function(y){if(y==null||y.g.length==0)return{w:!1};var c=y.B[y.g[0]];
return{w:c.add.lmfx!=null}};return{name:[11,6],mc:!0,sub:[{name:[5,1],w:E},{name:[5,2]},{name:[2,2],w:E}]}};
kr.alW=function(){return{sub:[{K:S.E.v,f:F.Mt,C:{d:"st_copy"}},{K:S.E.v,f:F.Mt,C:{d:"st_paste"}},{K:S.E.v,f:F.Mt,C:{d:"st_clear"}}]}};
kr.wu=function(E){var y=[{name:[14,10],mc:!0}];for(var N=0;N<cb.names.length;N++)y.push({name:cb.names[N]});
if(E){y[y.length-1].mc=!0;y.push(kr.aem());y.push({name:[6,30,1],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].sZ()}}});
y.push({name:["VAR0 VAR1",[12,49],[9,1]],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].add.lmfx!=null}}})}return y};
kr.Hz=function(E){var y=[{K:S.E.M,C:{d:S.H.Q5,ym:"layerstyle"}}];for(var N=0;N<cb.names.length;N++)y.push({K:S.E.M,C:{d:S.H.Q5,ym:"layerstyle",index:[N,0]}});
if(E){y.push(kr.alW());y.push({K:S.E.M,C:{d:S.H.Q5,ym:"scaleeffects",v5:100,nO:{K:S.E.v,f:F.Mt,C:{d:"scaleeffects"}}}});
var c={classID:"Mk",null:aW.G6("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
y.push({K:S.E.on,C:{tT:"make",hG:c}})}return y};kr.aCt=function(E){var y=[];if(E)y.push({name:[6,48,0,0],hi:!0},{name:[6,48,0,1],hi:!0},{name:[6,48,0,2],hi:!0,mc:!0});
for(var c in et.names)y.push({name:et.names[c],mc:et.a2p.indexOf(c)!=-1,hi:bK[c]!=null});return y};kr.uA=function(E){var y=[];
if(E){y.push({K:S.E.v,f:F.XF,C:{d:"newfill",KO:0}});for(var N=1;N<3;N++)y.push({K:S.E.on,C:F.Hv.Uo(N)})}for(var c in et.names){var e=cN.TL(c);
if(e==null)e={};for(var p in et.OE)if(et.OE[p]==c)e.classID=p;var H={tT:"make",hG:{classID:"Mk",null:aW.G6("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:e}}}}};
y.push({K:S.E.on,C:H})}return y};function ib(){hx.call(this,"Merge Channels","mergechannels");this.jL=null;
var E=v.t("div","form");this.body.appendChild(E);this.Bc=[];for(var N=0;N<3;N++){var y=new a_(et.gY[N],[]);
this.Bc.push(y);E.appendChild(y.n);v.vY(E)}this.JL=v.r5(this,E)}ib.prototype=new hx;ib.prototype._=function(){hx.prototype._.call(this);
this.JL._();for(var N=0;N<3;N++)this.Bc[N]._()};ib.prototype.Xy=function(E,y,c,e){this.jL=c;var p=[];
for(var N=0;N<c.length;N++)p.push(c[N].name);for(var N=0;N<3;N++){var H=this.Bc[N];H.Pt(p);H.c(Math.min(N,c.length-1))}};
ib.prototype.jI=function(E){var y=this.jL,c=y[0],e=new iU(S.E.on,!0);e.data=cc.jP(c.m,c.e,c.$c,"Merged Document","Wht",!1);
this.T(e);var p=[];for(var N=0;N<3;N++)p.push(y[this.Bc[N].h()].eA());var c=y[y.length-1],H=c.B[0],Z=H.buffer;
for(var N=0;N<Z.length;N+=4){Z[N]=p[0][N];Z[N+1]=p[1][N];Z[N+2]=p[2][N]}H.W();c.W();this.close()};function jk(){hx.call(this,[1,10],"script");
var E=v.t("div","form");E.setAttribute("style","width:44em");this.body.appendChild(E);this.P0=null;this.kx=[];
this.un=[];this.a0m;var y=this.C8=new fr([1,2],!1,null,!0);y.k("click",this.hf,this);E.appendChild(y.n);
var c=new fr("JS Reference",!1,null,!0);c.k("click",this.azd,this);E.appendChild(c.n);E.appendChild(new bU("Demos:").n);
this.a9K=[];var e=jk.SR;for(var N=0;N<e.length;N++){var p=new fr(e[N].jg,!1,null,!0);this.a9K.push(p);
E.appendChild(p.n);p.k("click",this.am5,this)}this.$C=v.t("textarea");v.VM(this.$C);this.$C.setAttribute("rows",16);
this.$C.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");E.appendChild(this.$C);
var H=new fr("Run",!0,null,!0);H.k("click",this.jI,this);E.appendChild(H.n);this.Z4=v.t("div");E.appendChild(this.Z4)}jk.prototype=new hx;
jk.prototype._=function(){this.C8._()};jk.prototype.hf=function(){var E=this.a0m;if(E==null)E="script.jsx";
var y=new iU(S.E.M,!0);y.data={d:S.H.Q5,ym:"namewindow",v5:E.slice(0,E.length-4),UT:this.aCN.bind(this)};
this.T(y)};jk.prototype.aCN=function(E){var y=this.$C.value,c=_.vx(y),e=new iU(S.E.M,!0);e.data={d:S.H.Ns,Bj:c.buffer,p2:E+".jsx",ari:!0};
this.T(e)};jk.prototype.acK=function(E){var N=this.kx.indexOf(E.target),y=this.a0m=this.un[N],c=this.P0.gp.zK[y],e=new Uint8Array(c),p=_.Uw(e,0,e.length);
this.$C.value=p};jk.prototype.Xy=function(E,y,c){this.$C.value=jk.SR[0].p1;this.arx()};jk.prototype.arx=function(){var E=this.P0.gp,y=this.Z4;
v.Vz(y);this.kx=[];this.un=[];y.textContent="Saved scripts: ";for(var c in E.zK){if(c.endsWith(".jsx")){var e=new fr(c,!1,null,!0);
this.kx.push(e);this.un.push(c);e.k("click",this.acK,this);y.appendChild(e.n)}}};jk.prototype.mh=function(E,y){this.P0=E;
if(y==iL.Rf)this.arx()};jk.prototype.azd=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.BN,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.T(y)};jk.prototype.jI=function(E){var y=this.$C.value,c=this.P0.gp.zK;y=jk.amt(y,c);var e=new iU(S.E.M,!0);
e.data={d:S.H.HT,uc:y};this.T(e)};jk.amt=function(E,y){var c=E.split("\n");for(var N=0;N<c.length;N++){var e=c[N].trim();
if(e.startsWith("#include")){var p=e.slice(e.indexOf("\"")+1,e.lastIndexOf("\"")),H=y[p];if(H==null)alert("\""+p+"\" not found in the Local Storage");
c[N]=jk.amt(_.Uw(new Uint8Array(H)),y)}}return c.join("\n")};jk.prototype.am5=function(E){var y=this.a9K.indexOf(E.currentTarget);
this.$C.value=jk.SR[y].p1};jk.SR=[{jg:"Hello",p1:"\nalert(\"Hello Photopea!\");\n"},{jg:"Process Layers",p1:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{jg:"Clone Layers",p1:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function g3(){hx.call(this,[11,7],"newproject");this.data=null;this.jL=null;this.KU=0;var E=v.t("div","flexrow");
this.lQ=E;this.body.appendChild(E);var y=v.t("div","form");this.bS=y;E.appendChild(y);this.R_=new d3([12,48],null,10);
y.appendChild(this.R_.n);v.vY(y);this.xH=new eB(!0,null,null,null,!0);this.xH.c(new eq(1280,720),72);
this.xH.ac$(!0,!0);this.xH.k(S.E.p,this.hq,this);y.appendChild(this.xH.n);this.Yc=new bi;this.Yc.parent=this;
y.appendChild(this.Yc.n);this.h1=new fr("\u02C5",null,[0,14],!0);this.h1.k("click",this.ls,this);y.appendChild(this.h1.n);
var c=this.MZ=v.t("span");y.appendChild(c);c.style.display="none";this.ahU=new a_([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
c.appendChild(this.ahU.n);this.b1=new b8([1,16,1]);c.appendChild(this.b1.n);this.JL=new fr([12,49],!0,null,!0);
this.JL.k("click",this.jI,this);y.appendChild(this.JL.n);var e=g3.dE,p=[];for(var N=0;N<e.length;N++)p.push(e[N].name);
this.A5=new aN(null,p);this.A5.k(S.E.p,this.ax2,this);y.appendChild(this.A5.n);this.A5.n.style["margin-top"]="1em";
this.YD=new jR(!0);this.YD.k(S.E.p,this.aku,this);y.appendChild(this.YD.n);this.ax2();this.s5=new jy;
this.s5.parent=this;this.s5.n.setAttribute("style","margin-left:1em");this.s5.k("tempready",this.au5,this)}g3.prototype=new hx;
g3.prototype.ls=function(E){var y=this.MZ,c=y.style.display!="none";y.style.display=c?"none":"";this.h1.WO(c?"\u02C5":"\u02C4");
this.Cl(this.Pf,this.T4)};g3.prototype.mh=function(E,y){this.s5.mh(E)};g3.prototype.Ut=function(E,y){return new eq(Math.max(0,Math.min(70,(E-690)/2)),E>y?Math.max(0,Math.min(50,(y-400)/2)):0)};
g3.prototype.Cl=function(E,y){this.Pf=E;this.T4=y;this.bS.setAttribute("style","width:"+Math.min(E-24,338)+"px");
this.YD.n.style.height=y-248-(this.MZ.style.display=="none"?0:28)+"px";var c=this.s5.n,e=c.parentNode;
if(E<500){if(e!=null)this.lQ.removeChild(c)}else{if(e==null)this.lQ.appendChild(c);this.s5.Cl(E-378,y-28)}};
g3.prototype.hq=function(){this.s5.c(this.xH.h())};g3.prototype.aku=function(E){var y=this.YD.h()[0],c=g3.dE[this.A5.h()].ot[y],e=c[4];
if(e==0)e=72;var p=c[1],H=c[2],Z=["px","%","mm","in"].indexOf(c[3]),X=[1,1,25.4/e,1/e][Z];p/=X;H/=X;
this.xH.c(new eq(Math.round(p),Math.round(H)),e);this.xH.asO(Z);this.hq();if(Date.now()-this.KU<300)this.jI();
this.KU=Date.now()};g3.prototype.ax2=function(E){var y=g3.dE[this.A5.h()].ot,c=[],e=[],p=Math.round(106*v.k1()),H=Math.round(106*v.k1()),Z=0;
for(var N=0;N<y.length;N++)Z=Math.max(Z,y[N][1],y[N][2]);for(var N=0;N<y.length;N++){var X=y[N],b=X[1]+" x "+X[2]+" "+X[3];
if(X[3]=="in")b=(X[1]*25.4).toFixed(0)+" x "+(X[2]*25.4).toFixed(0)+" mm";if(X[3]=="mm")b=(X[1]/25.4).toFixed(1)+" x "+(X[2]/25.4).toFixed(1)+" in";
if(X[4])b=b+" @ "+X[4]+" ppi";e.push(b);c.push(g3.y_(X,p,H,Z))}this.YD.jA(c,e,p,H)};g3.y_=function(E,y,c,e){var p=v.t("canvas",""),H=p.getContext("2d");
p.width=y;p.height=c;var Z=Math.round(y/8),X=Math.floor(11*v.k1()),b=E[1],k=E[2];H.fillStyle="#000000";
H.font=Math.round(X*.9)+"px \"Open Sans\", Sans-Serif";var D=b+" x "+k+" "+E[3],j=H.measureText(D);H.fillText(D,Math.round((y-j.width)/2),c-Math.round(Z/2));
if(E[0]!=null){H.font="bold "+X+"px \"Open Sans\", Sans-Serif";var D=E[0],j=H.measureText(D);H.fillText(D,Math.round((y-j.width)/2),c-Math.round(Z/2)-Math.round(X*1.3))}c-=Math.round(2.5*X);
var g=Math.min((y-Z)/b,(c-Z)/k);g*=.5+.5*(Math.max(b,k)/e);var R=(y-b*g)/2,t=(c-k*g)/2;H.strokeRect(Math.round(R)+.5,Math.round(t)+.5,Math.round(b*g),Math.round(k*g));
return p.toDataURL()};g3.prototype._=function(){hx.prototype._.call(this);this.xH._();this.R_._();this.Yc._();
this.JL._();this.R_.c(i4.get([11,7]));this.A5._();this.b1._();this.h1._();this.s5._()};g3.prototype.jI=function(E){var y=this.xH.h(),c=y.x,e=y.y;
this.close();var p=this.Yc.h(),H=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.ahU.h()],Z=new iU(S.E.on,!0);
Z.data=cc.jP(c,e,this.xH.zX(),this.R_.h(),["Wht","Blck","Trns","Clr"][p[0]],this.b1.h(),p[1],H);this.T(Z);
this.aom()};g3.prototype.au5=function(E){var y=E.data.cX;y.$c=this.xH.zX();var c=new iU(S.E.M,!0);c.data={d:S.H.xg,cX:y};
this.T(c);this.close();this.aom()};g3.prototype.aom=function(){var E=this.jL[this.jL.length-1],y=this.data.a2M;
if(y)as.pX(function(){var c=new XMLHttpRequest,e="https://www.googleapis.com/drive/v3/files?"+as.Ab();
c.open("POST",e,!0);c.setRequestHeader("Content-Type","application/json");c.addEventListener("load",function(p){var H=JSON.parse(p.target.response);
E.$O={file:H,rS:"psd"};alert(E.name+" created in Google Drive")});c.send(JSON.stringify({name:E.name,apm:[y]}))})};
g3.prototype.Xy=function(E,y,c,e){this.jL=c;if(E!=null&&E.i!=null){var p=new ir(0,0,E.m,E.e).fr(E.i.rect);
this.xH.c(new eq(p.m,p.e))}this.data=y;this.hq();if(v.UK())fz.ann(this.aj.bind(this))};g3.prototype.aj=function(E){if(E=="granted")fz.D4(this,this.bj.bind(this))};
g3.prototype.bj=function(E,y){this.xH.c(new eq(y.m,y.e))};g3.dE=[{name:"Social",ot:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],ot:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],ot:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],ot:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],ot:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],ot:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",ot:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function gF(E,y,c){hx.call(this,y,"sel_"+E);this.d=E;var e=v.t("div","form");this.body.appendChild(e);
this.R_=new jm(y,0,255,null,0,!1,!0);e.appendChild(this.R_.n);this.R_.c(1);var p=v.t("span");p.textContent=c;
e.appendChild(p);v.vY(e);this.ao8=new b8("Apply at canvas bounds");if(E!="border")e.appendChild(this.ao8.n);
this.JL=v.r5(this,e)}gF.prototype=new hx;gF.prototype.Km=function(E,y){if(E==null)return;if(E.i==null)alert("No selection!");
return E.i!=null};gF.prototype.jI=function(E){var y=new iU(S.E.on,!0);y.data=F.XY.hS(this.d,this.R_.h(),this.ao8.h());
y.n5=!0;this.T(y);this.close()};gF.prototype._=function(){hx.prototype._.call(this);this.JL._();if(this.R_)this.R_._()};
gF.prototype.Xy=function(E,y){this.R_.N2()};function au(E,y,c,e,p,H){hx.call(this,c,y);this.aiq=H;this._3=p;
this.dE=null;this.bS=v.t("div","form");this.body.appendChild(this.bS);this.abJ=v.t("div");this.bS.appendChild(this.abJ);
var Z=500;if(e){var X=e.split(",");e=X[0];if(X[1])Z=parseFloat(X[1])}this.R_=E==0?new d3(c,null,10):E==1?new i_(c,0,Z,e,1):new d3(c,null,24,5);
this.R_.k(S.E.p,this.e0,this);this.bS.appendChild(this.R_.n);this.JL=v.r5(this,this.bS);this.k("closebtn",this.qh,this)}au.prototype=new hx;
au.prototype.Ut=function(E,y){return new eq(Math.max(0,Math.min(150,(E-250)/2)),Math.max(0,Math.min(150,(y-120)/2)))};
au.prototype.j_=function(){return this.aiq};au.prototype.e0=function(E){var y=this.R_.h();if(this._3)this.tY(y)};
au.prototype.qh=function(E){if(this._3)this.tY("cancel")};au.prototype.jI=function(E){if(this._3)this.tY("confirm");
else this.tY(this.R_.h());this.close()};au.prototype.tY=function(E){if(this.dE.UT)this.dE.UT(E);else if(this.dE.nO){var y=this.dE.nO,c=new iU(y.K,!0);
c.f=y.f;c.data=y.C;c.data.b=E;c.n5=!0;this.T(c)}};au.prototype._=function(){hx.prototype._.call(this);
this.JL._();if(this.R_)this.R_._()};au.prototype.Xy=function(E,y){this.dE=y;this.R_.c(y.v5);this.R_.N2();
this.abJ.innerHTML=y.a32?y.a32:"";this.e0(null)};function hP(){hx.call(this,[1,5],"open_from_url");this.Vn=null;
var E=v.t("div","form");this.body.appendChild(E);this.SD=new d3("URL",null,22);E.appendChild(this.SD.n);
v.vY(E);this.$F=new aN([21,0],[[21,2],[21,1]]);E.appendChild(this.$F.n);this.JL=v.r5(this,E)}hP.prototype=new hx;
hP.prototype._=function(){hx.prototype._.call(this);this.JL._();this.$F._()};hP.prototype.Xy=function(E,y,c){this.SD.N2();
this.Vn=null;if(E&&c.indexOf(E)!=-1)this.Vn=c.indexOf(E)};hP.prototype.jI=function(E){var y=new iU(S.E.M,!0),c=this.SD.h();
y.data={d:S.H.ha,Wp:{url:c,cI:!0,Vn:this.$F.h()==1?this.Vn:null}};this.T(y);this.close()};function dE(){hx.call(this,[12,79],"preferences");
this.P0=null;var E=v.t("div","form");this.body.appendChild(E);this.Bx=[new b8([8,2]),new eX,new b8([8,4]),new eX,new a_([12,80,3],[[12,93,3],[12,80,4]]),new i_([12,80,5],.02,100,null,2),new a_(null,d._5.F0),new a_([12,80,6],d._5.F0),new b8("Remind me to save"),new b8("Glass Menus"),new i_("Cursor Offset",0,200)];
for(var N=0;N<this.Bx.length;N++){var y=this.Bx[N];y.parent=this;y.k(S.E.p,this.hJ,this);if(N==8)continue;
E.appendChild(y.n);if(N!=0&&N!=2&&N!=3&&N!=5)v.vY(E)}}dE.prototype=new hx;dE.prototype._=function(){hx.prototype._.call(this);
for(var N=0;N<this.Bx.length;N++)this.Bx[N]._()};dE.prototype.Xy=function(E,y,c){};dE.prototype.mh=function(E,y){this.P0=E;
var c=E.km;this.Bx[0].c(c.oc);this.Bx[1].Gd(c.nK);this.Bx[2].c(c.AG);this.Bx[3].Gd(c.Vg);this.Bx[4].c(c.zP);
this.Bx[5].c(c.VV);this.Bx[6].c(c.pz);this.Bx[7].c(c.sz);this.Bx[8].c(E.gz==1);var p=window.locStor.getItem("__glm");
this.Bx[9].c(p=="1");this.Bx[10].c(E.$o)};dE.prototype.hJ=function(E){var y=this.Bx;if(E.target==y[8])this.P0.gz=1-this.P0.gz;
var c=JSON.parse(JSON.stringify(this.P0.km));c.oc=y[0].h();c.nK=y[1].E2();c.AG=y[2].h();c.Vg=y[3].E2();
c.zP=y[4].h();c.VV=y[5].h();c.pz=y[6].h();c.sz=y[7].h();window.locStor.setItem("__glm",y[9].h()?"1":"0");
this.P0.$o=y[10].h();var e=new iU(S.E.M,!0);e.data={d:S.H.z2,Wp:iL.kG,Hx:c};this.T(e)};function fX(){hx.call(this,[11,8],"saveforweb");
this.aCi="";this.k("closebtn",function(){this.BA._w()},this);this.cX=null;this.wL=null;this.an9=null;
this.P0=null;v.Jn(this.body,"flexrow");this.body.style.padding="0";var E=v.t("div");E.setAttribute("style","position:relative;");
var y=v.t("div");this.body.appendChild(E);this.body.appendChild(y);this.MG=v.t("div","imgcont");E.appendChild(this.MG);
this.BA=new cP;this.BA.Cl(512,512);var c=this.lv=v.t("video");c.setAttribute("controls","");c.setAttribute("preload","auto");
c.setAttribute("loop","");this.DR=v.t("div");this.DR.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
E.appendChild(this.DR);var e=this.bS=v.t("div","form cell");e.setAttribute("style","width:195px; padding:9px 13px;");
y.appendChild(e);this.ZD=new d3([12,48],null,7.6);this.ZD.yh();e.appendChild(this.ZD.n);var p=iu.PX();
p[p.indexOf("WEBP")]="webP";this.Ed=new a_([12,50],p);this.Ed.n.style.marginRight="0";this.Ed.yh();e.appendChild(this.Ed.n);
this.Ed.k(S.E.p,this.VX,this);v.vY(e);this.xH=new eB(!0,!0,!1,!0);this.xH.yh();this.xH.k(S.E.p,this.VX,this);
this.xH.jO.n.style.paddingBottom="8px";e.appendChild(this.xH.n);this.bQ=new aU;this.bQ.k(S.E.p,this.VX,this);
e.appendChild(this.bQ.n);this.bN=new fr([1,2],!0,null,!0);this.bN.k("click",this.jI,this);e.appendChild(this.bN.n)}fX.prototype=new hx;
fX.prototype.Km=function(E,y){return E!=null};fX.prototype._=function(){hx.prototype._.call(this);this.xH._();
this.ZD._();this.Ed._();this.bQ._();this.bN._()};fX.prototype.jI=function(E){var y=this.ZD.h().trim(),c=iu.PX()[this.Ed.h()],e=c=="JPG"||c=="PNG"||c=="GIF"||c=="SVG",p=iu.sF(c),H="."+c.toLowerCase(),Z=this.wL,X=y+H,b=this.cX,k=b.Cv,D=this.bQ.h();
if(b.cZ())D.pop();if(k.length!=0&&e&&D.pop()){var j="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",g=[],R={},t=new ir(0,0,b.m,b.e),w=b.eA();
for(var N=0;N<k.length;N++)g.push(F.Uj.T5(k,N));g.reverse();var B=d.rect.arv([0,0,b.m,b.e],g);for(var N=0;
N<B.length;N++){var $=B[N],o=new ir($[0],$[1],$[2]-$[0],$[3]-$[1]),T=$.length==5?k[$[4]].v:null,i=d.R(o.P()*4);
d.E6(w,t,i,o);var r="img/img"+(N+1)+H;R[r]=new Uint8Array(p.Jv([[i.buffer,0,b.$c,b.Or]],o.m,o.e,D));
j+="<div style=\"background-image:url('"+r+"'); left:"+o.x+"px; top:"+o.y+"px; width:"+o.m+"px; height:"+o.e+"px\">";
if(T&&T.url.v!="")j+="\n\t<a href=\""+T.url.v+"\" target=\""+T.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
j+="</div>\n"}j+="</body>\n</html>\n";var I=d.R(Math.round(j.length*1.5)),M=_.Ww(j,I,0);R["index.html"]=I.slice(0,M);
Z=UZIP.encode(R);X=y+".zip"}else if(b.add.artd&&b.add.artd.Cnt.v>1&&e&&D.pop()){var R={},t=new ir(0,0,b.m,b.e),w=b.eA(),J=b.root.children;
for(var N=0;N<J.length;N++){var P=J[N].a,x;if(P.add.artb==null||!P.OQ())continue;var n=P.fQ();if(c=="SVG")x=new Uint8Array(p.Jv(b,n.m,n.e,D,this.P0,N));
else{var L=d.R(n.P()*4);d.E6(w,t,L,n);x=new Uint8Array(p.Jv([[L.buffer,0,b.$c,b.Or]],n.m,n.e,D))}R[P.getName()+H]=x}Z=UZIP.encode(R);
X=y+".zip"}var u=function(){if(b.H6)fz.Gg("act=1&id="+b.H6);this.BA._w();this.close();var h=new iU(S.E.M,!0);
h.data={d:S.H.Xa,data:Z,name:X};this.T(h)}.bind(this);if(!this.P0.ga||b4.qc()){u();return}if(gW.W0==0){gW.U6(u);
return}var C=gW.g7()!=0;u();var h=new iU(S.E.M,!0),A=fp.L_("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),W=fp.L_(";QJXQ_*II9"),Q=function(){h.data={d:S.H.Q5,ym:"account"};
this.T(h)}.bind(this);if(C){A=fp.L_("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
Q=function(){};W=null}h.data={d:S.H.Q5,ym:fp.eD,b:A,UT:Q,at2:W};if(Math.random()<.1||C)this.T(h)};fX.prototype.Xy=function(E,y){if(y.wB!=null)this.Ed.c(y.wB);
this.cX=E;var c=this.cX.name,e=c.lastIndexOf("."),c=e==-1?c:c.slice(0,e);this.ZD.c(c);var p=E.m+","+E.e;
if(p!=this.aCi){this.aCi=p;this.xH.c(new eq(E.m,E.e),E.$c)}this.bQ.auv();if(y.ahV){this.xH.asO(3);this.bQ.g_.PDF[2].i0.c(!0)}this.VX(null,!0)};
fX.prototype.asQ=function(E,y){return E<y&&E<660};fX.prototype.Ut=function(E,y){return this.asQ(E,y)?new eq(0,0):new eq(Math.max(0,Math.min(150,(E-770)/2)),Math.max(0,Math.min(150,(y-590)/2)))};
fX.prototype.Cl=function(E,y,c){this.Pf=E;this.T4=y;if(this.cX==null)return;var e=this.bN.n,p=this.asQ(E,y),H,Z,g="<span style=\"width:",R="display:inline-block; text-align:right;\">";
if(p){var X=this.bS.getBoundingClientRect().height;H=E;Z=y-Math.max(X,252);v.yo(this.body,"flexrow")}else{H=Math.min(512,E-195-2*13);
Z=Math.min(512,y-24);v.Jn(this.body,"flexrow")}var b=p?E-2*13:195;this.bS.style.width=b+"px";this.ZD.HW.style.width=b-77+"px";
this.xH.Cl(b);var k=iu.PX()[this.Ed.h()],D=iu.sF(k);if(D.qg||D.Rs)this.MG.firstChild.setAttribute("style","display:block; width:"+H+"px; height:"+Z+"px;");
else{this.BA.Cl(H,Z);this.lv.width=H;this.lv.height=Z}var j=this.wL.byteLength,t=g+64+"px;"+R+fX.NU(j)+"</span>";
if(H>400)t+=g+90+"px; opacity:"+.5+";"+R+j.toLocaleString()+" B</span>";this.DR.innerHTML=t;if(c)setTimeout(function(){this.Cl(this.Pf,this.T4)}.bind(this),20)};
fX.NU=function(E){var y=E.toString(2),c=0;while(c+10<y.length)c+=10;var e=(E/Math.pow(2,c)).toFixed(1);
if(e.endsWith(".0"))e=e.slice(0,-2);var p="B KB MB GB TB PB".split(" ")[Math.floor(c/10)];return e+" "+p};
fX.prototype.mh=function(E,y){this.P0=E};fX.prototype.VX=async function(E,y){var c=this.cX,e=this.xH.h(),p=e.x,H=e.y,Z=this.Ed.h(),X=iu.PX()[Z],b=iu.s7(c)[0].length,k=["GIF","PNG","WEBP","MP4"].indexOf(X)!=-1&&b>1,$="";
if(k&&X!="MP4"&&y&&(b>4&&p*H>1024*1024||p*H*b>800*800*50)){var D=1;while(Math.max(p>>>D,H>>>D)>800)D++;
var j=window.confirm("Your animation is large ("+p+" x "+H+" px). Press \"OK\" to scale it to "+(100>>>D)+"%. Press \"Cancel\" to keep the size.");
if(j){this.xH.c(new eq(p>>>D,H>>>D),null,!0);p=p>>>D;H=H>>>D}}var g=c.add.artd,R=g!=null&&g.Cnt.v>1,t=c.cZ();
this.bQ.HD(X,k,c.Cv.length!=0,R,t!=null);var w=window.locStor.getItem("sfwPrms");if(w==null)w={};else{w=JSON.parse(w);
if(w.MP4&&w.MP4[0]==100)w.MP4[0]=50}var B=this.bQ.h();if(E&&E.target==this.bQ){w[X]=B;window.locStor.setItem("sfwPrms",JSON.stringify(w))}else if(w[X]){this.bQ.c(w[X],!0);
B=this.bQ.h()}this.wL=await iu.gv(c,X,p,H,B,this.P0);if(this.wL==null){this.cX=null;return}v.Vz(this.MG);
this.BA._w();var o=iu.sF(X);if(o.Rs){this.MG.innerHTML="<div></div>"}else if(o.qg){var T=p,i=H,r;if(X=="PDF"||X=="AI"){r=URL.createObjectURL(new Blob([this.wL],{type:"application/pdf"}))}else{r=URL.createObjectURL(new Blob([this.wL],{type:"image/svg+xml"}))}this.MG.innerHTML="<iframe src=\""+r+"\"></iframe>"}else if(X=="MP4"){var r=URL.createObjectURL(new Blob([this.wL]));
this.lv.setAttribute("src",r);this.MG.appendChild(this.lv)}else{var I=this.an9=o.cU(this.wL),M=I[0],J=M.Yu,T=J.m,i=J.e;
if(M.dD){var P=ICC.R(M.dD.buffer),n=17,x=ICC.U.sampleLUT(P,n);for(var N=0;N<I.length;N++){var L=new Uint8Array(I[N].data);
ICC.U.applyLUT(x,n,L,L)}}this.BA.c(I,I.length>1?B[B.length-3]:0);this.MG.appendChild(this.BA.n);$="background: rgba(0,0,0,0);"}this.MG.setAttribute("style","display:block; "+(o.Rs?"background:rgba(0,0,0,0);":"background-size:"+16/v.k1()+"px;")+$);
this.Cl(this.Pf,this.T4,y)};function dk(){hx.call(this,[11,13],"shortcuts");this.P0=null;var E=this.lQ=v.t("div","scrollable");
E.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(E);
this.se()}dk.prototype=new hx;dk.prototype._=function(){hx.prototype._.call(this);this.se()};dk.prototype.mh=function(E,y){this.P0=E};
dk.prototype.Xy=function(E,y,c,e){if(v.Qj(this.n))this.se()};dk.prototype.se=function(){var E="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",y="",c=ct,e=c.Nc,p=c.zx,H=c.Q3;
y+="<h2 style=\"margin-top:0;\">Main Menu</h2>";y+=E;y+=this.q6([[0,0],"---",[1,0],[e,c.UJ],[1,2],[e,c.v1],[1,3],[p,e,c.v1],[1,8],[H,p,e,c.v1],[0,1],"---",[2,0],[p,e,c.Dh],[2,1],[e,c.Dh],[5,0],[e,c.NM],[5,1],[e,c.qd],[5,2],[e,c.Wq],[2,2],"Delete",[2,3],[H,c.hy],[10,16],[H,e,c.b_],[12,79],[e,c.yf],[3],"---",[4,1],[e,c.s3],[4,2],[e,c.qB],[4,5],[e,c.oj],[4,11],[e,c.FU],[0,3],"---",[6,13],[p,e,c.Wf],[6,49,0],[e,c.lm],[6,6,0],[H,e,c.TT],[6,9],[e,c.TT],[6,10],[e,c.E],[0,5],"---",[7,0],[e,c.H],[7,1],[e,c.iQ],[7,2],[p,e,c.FU],[0,7],"---",[8,0],[e,c.yH],[8,1],[e,c.Kj],[8,3],[e,c.ZV],[8,2],[e,c.uP],[8,4],[e,c.A9],[11,13],"?"]);
y+="</div>";y+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";y+=E;y+=this.q6(["Vertical scroll","Wheel","Horizontal scroll",[e,"Wheel"],"Zooming",[H,"Wheel"]]);
y+="</div>";y+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
y+=E;y+=this.q6([[10,11],[e],[10,7],"Space",[10,17],[e,c.TV]]);y+="</div>";y+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
y+=E;var Z=[],X=this.P0;if(X==null)return;var b=X.s;for(var N=0;N<b.XI.length;N++){var k=b.XI[N],D=b.keys[N];
for(var j=0;j<k.length;j++)Z.push(k[j].f.name,D?D.jg:null)}Z=Z.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[e,c.e7]]);
y+=this.q6(Z);y+="</div>";this.lQ.innerHTML=y};dk.prototype.q6=function(E){var y="",c=!0;for(var N=0;
N<E.length;N+=2){var e=E[N],p=ct.ey(E[N+1]);if(p==null){c=!1;continue}var H=v.k6(i4.get(e));if(p=="---"){if(!c)y+="<br/>";
y+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+H+"</div>"}else y+="<div>"+H+" <span style=\"float:right; font-weight:bold;\">"+p+"</span> </div>";
c=!1}return y};function eZ(){hx.call(this,[8,11,1],"soptions");this.s1=null;var E=v.t("div","form");
E.style.width="20em";this.body.appendChild(E);this.fv={Nm:[12,48],url:"URL",null:[12,71]};this.Bx={};
for(var y in this.fv){var c=new d3(this.fv[y],null,15);this.Bx[y]=c;E.appendChild(c.n)}this.ap9=new bU([12,14,0]);
E.appendChild(this.ap9.n);this.dc=new iy(0,!0);E.appendChild(this.dc.n);this.JL=v.r5(this,E)}eZ.prototype=new hx;
eZ.prototype.Xy=function(E,y,c){var e=y.b;this.s1=JSON.stringify(e);for(var p in this.fv){if(e[p])this.Bx[p].c(e[p].v)}var H=e.bounds.v,Z=H.Left.v,X=H.Top.v;
this.dc.c([Z,X,H.Rght.v-Z,H.Btom.v-X])};eZ.prototype.jI=function(E){var y=JSON.parse(this.s1);for(var c in this.fv){var e=this.Bx[c].h();
y[c]={t:"TEXT",v:e}}var p=this.dc.h();console.log(p);var H=y.bounds.v,Z=p[0],X=p[1];H.Left.v=Z;H.Top.v=X;
H.Rght.v=Z+p[2];H.Btom.v=X+p[3];var b=new iU(S.E.v,!0);b.f=F.hW;b.data=y;b.n5=!0;this.T(b);this.close()};
eZ.prototype._=function(){hx.prototype._.call(this);this.JL._();this.ap9._();this.dc._()};function hC(){hx.call(this,[2,3],"fill");
this.P0=null;this.hQ=null;var E=v.t("div","form padded");E.style.width="22em";this.body.appendChild(E);
this.Gh="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.fG=new a_([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.fG.k(S.E.p,this.aBT,this);E.appendChild(this.fG.n);this.MG=v.t("span");E.appendChild(this.MG);this.BS=new eX;
this.BS.parent=this;this.BS.Gd(0);this.XQ=new j8;this.XQ.parent=this;this.rq=new a_([12,19,0],cg.BR,cg.Xs);
E.appendChild(this.rq.n);this.g9=new i_([12,0],0,100,"%",0,!1);this.g9.c(100);E.appendChild(this.g9.n);
this.jd=new b8([13,5]);this.jd.c(!1);E.appendChild(this.jd.n);this.JL=v.r5(this,this.body)}hC.prototype=new hx;
hC.prototype.Km=function(E,y){return E!=null};hC.prototype.j_=function(){return!0};hC.prototype.aBT=function(){var E=this.fG.h(),y=this.BS.n,c=this.XQ.n,e=this.MG;
if(E==2)e.appendChild(y);else if(e.contains(y))e.removeChild(y);if(E==7)e.appendChild(c);else if(e.contains(c))e.removeChild(c)};
hC.prototype._=function(){hx.prototype._.call(this);this.fG._();this.rq._();this.g9._();this.jd._();
this.JL._()};hC.prototype.jI=function(E){if(!this.hQ.iR())return;var y=new iU(S.E.on,!0),c=this.fG.h();
y.data=F.XP.Uo(this.Gh[c],cg.Fn[this.rq.h()],this.g9.h()/100,this.BS.h(),this.jd.h(),this.XQ.h());this.close();
this.T(y)};hC.prototype.Xy=function(E,y){this.hQ=E};hC.prototype.mh=function(E,y){this.P0=E;if(y==iL.Dg||y==iL.Iu){this.XQ.Vd(E.gS);
this.XQ.c({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function f8(){hx.call(this,[14,9],"stroke");this.P0=null;this.bS=v.t("div","form");this.bS.setAttribute("style","width:24em");
this.body.appendChild(this.bS);this.Ic=new iQ("FrFX",!0);this.Ic.parent=this;var E=["Sz","Styl","Md","Opct"].concat(cb.nM);
for(var N=0;N<E.length;N++){var y=this.Ic.Jj[E[N]].n;this.bS.appendChild(y)}this.TN=!1;this.JL=v.r5(this,this.body)}f8.prototype=new hx;
f8.prototype.Km=function(E,y){return E!=null};f8.prototype.j_=function(){return!0};f8.prototype._=function(){hx.prototype._.call(this);
this.JL._();this.Ic._()};f8.prototype.jI=function(E){var y=this.Ic.h(),c={classID:"Strk"};c.Md=y.Md;
c.Opct=y.Opct;c.Clr=y.Clr;c.Wdth={t:"long",v:y.Sz.v.val};var e=cb.stroke.types.indexOf(y.Styl.v.FStl);
c.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][e]}};var p=new iU(S.E.on,!0);p.data={tT:"stroke",hG:c};
this.close();this.T(p)};f8.prototype.Xy=function(E,y){if(!this.TN){var c=cb.Dn[cb.order.indexOf("FrFX")];
c=JSON.parse(c);this.Ic.update(E,c);this.TN=!0}var c=this.Ic.h(),e=this.P0.x4;c.Clr.v=d.L.hp({Z:e>>16&255,D:e>>8&255,J:e&255});
this.Ic.update(E,c)};f8.prototype.mh=function(E,y){this.P0=E};function cY(){hx.call(this,[11,9],"textwarp");
this.Bx=new f4;this.Bx.k(S.E.p,this.C7,this);this.Bx.parent=this;this.bS=v.t("div","form");this.bS.setAttribute("style","width:20em");
this.body.appendChild(this.bS);this.bS.appendChild(this.Bx.KG.n);this.bS.appendChild(this.Bx.pT.n);this.bS.appendChild(this.Bx.EB.n);
this.bS.appendChild(this.Bx.CF.n);this.bS.appendChild(this.Bx.R$.n);this.JL=v.r5(this,this.bS);this.k("closebtn",this.qh,this)}cY.prototype=new hx;
cY.prototype.j_=function(){return!0};cY.prototype._=function(){hx.prototype._.call(this);this.JL._();
this.Bx._()};cY.prototype.C7=function(E){var y=this.Bx.h();this.tY({d:"warp",Bh:y})};cY.prototype.tY=function(E){var y=new iU(S.E.v,!0);
y.f=F.IB;y.data=E;y.n5=!0;this.T(y)};cY.prototype.qh=function(E){this.tY({d:"warpCancel"})};cY.prototype.jI=function(E){this.tY({d:"warpConfirm"});
this.close()};cY.prototype.Xy=function(E,y){var c=E.B[E.g[0]];this.Bx.c(c.add.TySh.RO)};function ex(){hx.call(this,[11,12,0],"trim");
var E=this.bS=v.t("div","form");this.bS.setAttribute("style","width:22em");this.body.appendChild(this.bS);
var y=new bU("Color To Trim:");E.appendChild(y.n);this.KE=new hS(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.KE.c([!0]);this.bS.appendChild(this.KE.n);var y=new bU("Sides:");E.appendChild(y.n);this.P2=new hS(null,["Top","Left","Bottom","Right"]);
this.P2.c([!0,!0,!0,!0]);this.bS.appendChild(this.P2.n);this.JL=v.r5(this,this.body)}ex.prototype=new hx;
ex.prototype.Km=function(E,y){return E!=null};ex.prototype.j_=function(){return!0};ex.prototype._=function(){hx.prototype._.call(this);
this.KE._();this.P2._();this.JL._()};ex.prototype.jI=function(E){var y=this.KE.h().indexOf(!0),c=this.P2.h(),e=new iU(S.E.on,!0);
e.data=F.Et.r0(y,c);this.close();this.T(e)};function e8(){hx.call(this,"Raw Photopea","rawpea");this.EO=null;
this.qQ=null;this.body.style.padding="0";var E=this.$d=new bK["Adobe Camera Raw Filter"](!0),y="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(E.n);this.JL=new fr([1,0],!0,null,!0);this.JL.k("click",this.jI,this);this.Iw=new fr(y+" JPG",!0,null,!0);
this.Iw.k("click",this.axQ,this);this.Iw.n.style.marginTop="6px";E._x(this.JL.n);E._x(this.Iw.n)}e8.prototype=new hx;
e8.prototype.Ut=function(){return new eq(0,0)};e8.prototype.Cl=function(E,y){this.$d.Cl(E,y)};e8.prototype._=function(){hx.prototype._.call(this);
this.$d._()};e8.prototype.axQ=function(E){var y=this.EO,c=this.qQ,e=iu.sF("JPG").Jv([[this.$d.h(!0).buffer]],c.uq,c.eX,[85]),p=new iU(S.E.M,!0);
p.data={d:S.H.Xa,data:e,name:"photo.jpg"};this.T(p)};e8.prototype.jI=function(E){var y=this.EO,c=this.qQ,e=kJ.wX(y),y={Yu:new ir(0,0,c.uq,c.eX),data:this.$d.h(!0).buffer,Or:e},p=iu.kv("Raw Photo",[y]),H=new iU(S.E.M,!0);
H.data={d:S.H.xg,cX:p};this.T(H);this.At();this.close()};e8.prototype.At=function(){this.EO=null;this.qQ=null;
this.$d.as4()};e8.prototype.Xy=function(E,y,c,e){this.EO=y.Rh;var p=this.qQ=d.raw.asL(this.EO),H=d.raw.acV(y.Rh),Z=gm.ao_(H);
d.raw.PY(p.bb,p.bb,y.Rh,[Z.g$,Z.Hy]);var X=cN.TL("Adobe Camera Raw Filter");this.$d.c(X,p.bb,new ir(0,0,p.uq,p.eX))};
function dZ(E){hx.call(this,E?[11,11,0]:[11,11,1],E?"vbitmap":"rcolors");this.dE=null;this.lJ=null;this._R=null;
this.yI=null;this.Ts=null;this.ajr=null;this.WP=null;this.P0=null;this.Bc="";this.l6=E;this.QS=this.Ur.bind(this);
this.Gn=!1;this.body.style.padding="0";this.bS=v.t("div","form hbar padded");this.body.appendChild(this.bS);
this.u$=new hS(null,["Fill","Stroke","Labels"]);this.u$.k(S.E.p,this.Ur,this);var y=v.t("span","rangecontFloat form padded"),b=16;
y.appendChild(this.u$.n);y.setAttribute("style","position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var c=new dT;c.n=y;var e=this.ph={cnum:new jm([12,82],2,50,null),nois:new b8([12,81]),mode:new a_(null,["Cartoon","Photo"]),segm:new b8("Segmentize"),cbok:new b8("Coloring book"),poly:new b8("Polygon"),merg:new b8("Merge colors"),polE:new jm("Roughness",2,30,null),dthr:new b8([12,23,3]),vprm:new fr("\u2026",!1,null,!0),ok:v.r5(this,null,!1)},p=this;
for(var H in e){var Z=e[H];Z.parent=this;if(H=="ok"){}else if(H=="vprm"){Z.k("click",function(D){var j=e.vprm.n.getBoundingClientRect(),g=new iU(S.E.M,!0);
g.data={d:S.H.rt,T_:c,x:j.left,y:j.top+20};p.T(g)})}else Z.k(S.E.p,this.Ur,this)}var X=this.yV=v.t("div","flexrow");
this.body.appendChild(X);X.setAttribute("style","background-color:var(--bg-canvas)");this.fe=new cP;
this.fe.k("viewchange",this.aB,this);this.$b=new cP;this.V$=v.t("canvas");this.V$.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.kA=this.V$.getContext("2d");var k=d.R(16*16*4);d.o2(k,b,b,8);this.sS=d.scale.lp(k,b,b);this.fe.awK(this.V$);
this.fe.nc(this.$b);this.$b.nc(this.fe);X.appendChild(this.fe.n);if(E)X.appendChild(this.V$);else X.appendChild(this.$b.n)}dZ.prototype=new hx;
dZ.prototype.Ut=function(){return new eq(0,0)};dZ.prototype.j_=function(){return!0};dZ.prototype.Cl=function(E,y){this.Pf=E;
this.T4=y;y=y-44;if(E<600)y-=29;if(this.dE==null)return;var c=this.dE.Yu,e=a9.ako(E,y,c.m,c.e);if(e==1)y-=3;
if(e==0){E=Math.floor(E/2);v.Jn(this.yV,"flexrow")}else{y=Math.floor(y/2);v.yo(this.yV,"flexrow")}v.Uh(this.V$,E,y);
this.fe.Cl(E,y);if(this.l6)this.aB();else this.$b.Cl(E,y)};dZ.prototype.Gu=function(E,y,c,e){this.fe.Gu(e)};
dZ.prototype._=function(){hx.prototype._.call(this);for(var E in this.ph)this.ph[E]._()};dZ.prototype.Xy=function(E,y){this.WP=E;
this.Ts=null;var c=E.B[E.g[0]],e=d.uJ.a88(c.buffer.buffer,c.rect.m,c.rect.e).a7K,p=e/((c.rect.m-2)*(c.rect.e-2)),H=this.ph;
H.cnum.c(20);H.nois.c(p<.75);H.mode.c(p<.75?1:0);H.segm.c(!1);H.cbok.c(!1);H.poly.c(!1);H.merg.c(!0);
H.polE.c(1);H.dthr.c(!1);var Z=c.rect.clone();Z.x=Z.y=0;this.dE={Yu:Z,data:c.buffer.buffer.slice(0)};
this.lJ=null;this.Cl(this.Pf,this.T4);this.fe.c([this.dE]);this.fe.eu();this.Gn=!0;this.u$.c([!0,!1,!1]);
setTimeout(this.QS,20)};dZ.prototype.Ur=function(){var E=!0,y=Date.now(),c=this.dE,e=this.ph,p=e.cnum.h(),H=e.nois.h(),Z=e.mode.h(),X=e.segm.h(),b=e.cbok.h(),k=e.poly.h(),D=e.merg.h(),j=e.polE.h(),n=null;
if(Z==0)X=k=b=!1;var g=e.dthr.h(),R=["cnum","nois","mode"];if(Z==1){R.push("cbok");if(this.l6){R.push("poly");
if(k)R.push("polE");R.push("vprm")}}if(this.l6)R.push("merg");else R.push("dthr");R.push("ok");v.Vz(this.bS);
for(var N=0;N<R.length;N++)this.bS.appendChild(e[R[N]].n);if(E)console.log("---------------------------------------");
var t=H||X,w=H+","+X;if(t&&(this.lJ==null||this.Bc!=w)){this.Bc=w;var B=new Uint8Array(c.data),$=c.Yu.m,o=c.Yu.e;
if(H){if(this.Ts==null){this.Ts=B.slice(0);d.lX.AJ=35;d.lX.oO(this.Ts,this.Ts,$,o,15,1);if(E){console.log("denoise",Date.now()-y);
y=Date.now()}}B=this.Ts.slice(0)}else B=B.slice(0);if(X){var T=d.uJ.Lc(B,$,o,40,10),i=T.yf,r=new Uint8Array(i*4);
for(var N=0;N<i;N++){var I=N*4,M=N*6,J=1/T.ff[M+5];r[I]=T.ff[M]*J;r[I+1]=T.ff[M+1]*J;r[I+2]=T.ff[M+2]*J}for(var N=0;
N<B.length;N+=4){var P=T.Hh[N>>>2]*4;B[N]=r[P];B[N+1]=r[P+1];B[N+2]=r[P+2]}if(E){console.log("segm",Date.now()-y);
y=Date.now()}}this.lJ={Yu:c.Yu.clone(),data:B.buffer}}if(t)c=this.lJ;var B=new Uint8Array(c.data),$=c.Yu.m,o=c.Yu.e;
for(var N=0;N<B.length;N+=4){if(B[N+3]<10)B[N]=B[N+1]=B[N+2]=B[N+3]=0}if(Z==0){n=d.uJ.ayU(B,$,o,p,t?.1:2e-4);
if(E){console.log("quantize",Date.now()-y);y=Date.now()}}if(Z!=0||n&&n.NQ.length<2){n=hY.as1(B.buffer,p,$,o,null,b)}if(this.l6){var x=n.Hh.slice(0);
for(var N=0;N<x.length;N++)x[N]++;this.xd=d.uJ.a7d(n.Hh,$,o);var L=new Uint8Array(($+2)*(o+2));d.kh(x,new ir(1,1,$,o),L,new ir(0,0,$+2,o+2));
if(!k){var u=Math.round(($+2)*(o+2)/1e4),C=ap.tl(L.slice(0),$+2,o+2,Math.min(12,u)),h=ap.sA(C);if(E){console.log("trace smooth",Date.now()-y);
y=Date.now()}}else{var h=d.A.azW(L,$+2,o+2,j,E)}var A=h.length,W=new jr(1,0,0,1,-1,-1);for(var N=0;N<A;
N++)d.A.u(h[N].path.j,W,h[N].path.j);this.yI=h;this._R=n;for(var N=0;N<A;N++){var Q=h[N];for(var l=N+1;
l<A;l++){var O=h[l];if(O.parent==N&&n.NQ[O.color-1].est.q[3]<.05){var z=O.path.G.slice(1),a=z.pop();
if(a!="Z")z.push(a);z.reverse();z=["M"].concat(z);if(a=="Z")z.push("Z");var m=[],C=O.path.j.length;for(var q=0;
q<C;q+=2){m[q]=O.path.j[C-2-q];m[q+1]=O.path.j[C-2-q+1]}d.A.concat(Q.path,{j:m,G:z})}}}if(E){console.log("finding holes",Date.now()-y);
y=Date.now()}for(var N=0;N<h.length;N++){var K=h[N];if(K.parent!=-1){var U=h[K.parent];K.parent=U;if(U.Il==null)U.Il=[];
U.Il.push(K)}K.depth=K.parent==-1?0:K.parent.depth+1}if(D){function f(ew,V){var e4={},eE=0,jc=0;for(var N=0;
N<ew.length;N++){var s=ew[N].color,q="c"+s;if(s==V)throw s;if(e4[q]==null)e4[q]=0;e4[q]++;if(e4[q]>eE){eE=e4[q];
jc=s}}return jc}var Y=[],G=[],V=-1,dF=!0;for(var N=0;N<h.length;N++)if(h[N].parent==-1)G.push(h[N]);
while(G.length!=0){var s=f(G,V);V=s;for(var N=0;N<G.length;N++)if(G[N].color==s){var aH=G[N];Y.push(aH);
G.splice(N,1);N--;if(aH.Il)for(var l=0;l<aH.Il.length;l++){G.push(aH.Il[l]);if(aH.Il[l].color!=s)dF=!1}}}if(dF)h=Y;
else{var dw=[];for(var kO=0;kO<500;kO++){var hX=[],C=dw[kO-1];dw.push(hX);for(var N=0;N<h.length;N++){var K=h[N],U=K.parent;
if(kO==0&&U==-1||kO!=0&&C.indexOf(U)!=-1){hX.push(K);h.splice(N,1);N--}}hX.sort(function(ew,e4){return ew.color-e4.color});
if(h.length==0)break}for(var N=0;N<dw.length;N++)h=h.concat(dw[N])}}else{var Y=[],jF=[];while(h.length!=0){jF.push(h.shift());
while(jF.length!=0){var gn=jF.pop();Y.push(gn);if(gn.Il)for(var N=0;N<gn.Il.length;N++){var K=gn.Il[N];
h.splice(h.indexOf(K),1);jF.push(K)}}}h=Y}this.yI=h;for(var N=0;N<h.length;N++){var Q=h[N],hM=n.NQ[Q.color-1].est.q;
if(hM[3]<=.05){h.splice(N,1);N--;continue}}for(var N=1;N<h.length;N++){var ie=h[N-1],Q=h[N];if(ie.color==Q.color&&(D||ie.parent==Q.parent&&ie.depth>=2)){d.A.concat(ie.path,Q.path);
h.splice(N,1);N--;continue}}if(E){console.log("reordering layers",Date.now()-y,A,h.length);y=Date.now()}this.aB()}else{var bN=new Uint32Array($*o),kd=$*o,i7=this.ajr=new Uint8Array(bN.buffer);
if(g){var dn=[];for(var N=0;N<n.NQ.length;N++)dn.push(n.NQ[N].est.rgba);var P=d.R($*o);UPNG.encode.dither(new Uint8Array(c.data),$,o,dn,i7,P)}else{for(var N=0;
N<kd;N++){var s=n.NQ[n.Hh[N]];bN[N]=s.est.rgba}}this.$b.c([{Yu:c.Yu,data:bN.buffer}]);if(this.Gn){this.$b.eu();
this.Gn=!1}}};dZ.prototype.aB=function(E){if(this.yI==null)return;var y=this.u$.h(),c=this.dE.Yu.m,e=this.dE.Yu.e,p=this.yI,H=this._R.NQ,Z=this.V$,X=this.kA,b=this.fe.Cj(),D="rgba(0,0,0,0.3)";
X.setTransform(1,0,0,1,0,0);X.clearRect(0,0,Z.width,Z.height);X.translate(Z.width/2,Z.height/2);X.scale(b.O,b.O);
X.translate(b.z.x/b.O-c/2,b.z.y/b.O-e/2);X.scale(1/b.O,1/b.O);X.fillStyle=this.sS;X.fillRect(0,0,c*b.O,e*b.O);
X.scale(b.O,b.O);X.lineWidth=(c+e)*5e-4;var k=this.zN();X.strokeStyle=D;for(var j=0;j<2;j++){if(!y[j])continue;
for(var N=0;N<p.length;N++){var g=p[N],R=k[g.color-1];if(R.U==0)continue;X.fillStyle=R.jW;X.beginPath();
Typr.U.pathToContext({crds:g.path.j,cmds:g.path.G},X);if(j==0)X.fill();else X.stroke()}}if(y[2])this.a1e(X,c,e)};
dZ.prototype.zN=function(){var E=this._R.NQ,y=[];for(var N=0;N<E.length;N++){var c=E[N].est.q,e={Z:Math.round(255*c[0]),D:Math.round(255*c[1]),J:Math.round(255*c[2]),U:Math.round(255*c[3])};
e.jW="rgba("+e.Z+","+e.D+","+e.J+","+e.U/255+")";y.push(e)}return y};dZ.prototype.a1e=function(E,y,c){var e=this.zN(),p=this.a2D(y,c,e);
function H(k,D,j,g){E.font=g+"px sans-serif";k++;var R=E.measureText(k);E.fillText(k,D-R.width/2,j+g*.25)}E.fillStyle="rgba(0,0,0,0.5)";
var Z=this.xd;for(var N=0;N<Z.length;N++){var X=Z[N];if(X[3]<y*c*5e-4)continue;H(X[2],X[0],X[1],(y+c)*.008)}E.fillStyle="rgba(255,255,255,1)";
E.fillRect(0,0,p,p*e.length);for(var N=0;N<e.length;N++){var b=e[N];E.fillStyle=b.jW;E.fillRect(p,p*N,p,p);
E.fillStyle="black";H(N,p*.5,p*(N+.5),p*.65)}};dZ.prototype.a2D=function(E,y,c){var e=c.length*(E+y)/70;
return Math.min(y,e)/c.length};dZ.prototype.jI=function(E){var y=this.WP,c=y.g[0],e=y.B[c],p=new iU(S.E.v,!0);
p.n5=!0;p.f=F.sh;var H=this.P0.UG,Z=this;if(this.l6){var X=this.zN(),j=0,R=!1;function b(o,B){var $=y.N8();
$.opacity=B.U;$.Gc|=16;$.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp(B)}};$.add.vmsk=new jN.pU;$.add.vstk=cb.CY.TL(!0);
$.add.vmsk.X=o;$.m5();$.fP(y);return $}var D=this.u$.h();for(var N=0;N<3;N++)if(D[N])j++;if(j==0){alert("Enable Fill, Stroke or Labels");
return}var g=this.yI;if(j==1&&D[0]&&g.length==1)R=!0;var t=y.B.slice(0,c);if(!R)t.push(y.eM());if(D[0])for(var N=0;
N<g.length;N++){var w=g[N],B=X[w.color-1];d.A.u(w.path.j,new jr(1,0,0,1,e.rect.x,e.rect.y),w.path.j);
var $=b(d.A.V2(w.path,!1),B);$.v4("Path "+N);t.push($)}if(D[1]){var $=y.N8();$.v4("Stroke");t.push($);
$.opacity=128;$.Gc|=16;$.add.SoCo={classID:"null",Clr:{t:"Objc",v:d.L.hp({Z:0,D:0,J:0})}};$.add.vmsk=new jN.pU;
$.add.vstk=cb.CY.TL(!1,!0);var o=[];for(var N=0;N<g.length;N++){var w=g[N],T=d.A.V2(w.path,!1);if(N==0)o=T;
else o=o.concat(T.slice(2))}$.add.vmsk.X=o;$.m5();$.fP(y)}if(D[2]){var i=this.dE.Yu,r=i.m,I=i.e,M=this.a2D(r,I,X);
t.push(y.eM());function J(C,h,A,W){C=1+C+"";var $=y.N8();t.push($);$.opacity=W;$.add.lnsr="rend";var Q=$.add.TySh=gV.V1(h-M*.2,A+M*.25),l=$.add.TySh.Ax,O=gV.c$(l,0,0);
O.na.FontSize=Math.round(M*.6);gV.gR(l,0,0,O);gV.Y8(l,0,C);$.sp();if(kz.tx(Q,H,Z)){kz.K1($,H,y);y.W()}}var P=this.xd;
for(var N=0;N<P.length;N++){var n=P[N];if(n[3]<r*I*5e-4)continue;J(n[2],n[0],n[1],128)}var $=b(d.o.M1.Rect(0,0,M,M*X.length),{Z:255,D:255,J:255,U:255});
$.v4("white");t.push($);for(var N=0;N<X.length;N++){var B=X[N],$=b(d.o.M1.Rect(M,M*N,M,M),B);$.v4("color");
t.push($);J(N,M/2,M*(N+.5),255)}var $=y.N8();$.v4("Labels");$.add.lsct=kl.ze;$.ur="pass";$.Gc=24;t.push($)}var x=t[t.length-1];
if(!R){var $=y.N8();$.v4(e.getName());$.add.lsct=kl.Sh;$.ur="pass";$.Gc=24;t.push($);x=$}var L=e.add.lmfx;
if(L)x.add.lmfx=JSON.parse(JSON.stringify(L));var u=t.length;for(var N=c+1;N<y.B.length;N++)t.push(y.B[N]);
p.data={d:jN.l$,gr:t,Yi:[u-1],xs:[11,11,0]}}else{var t=y.B.slice(0),$=y.N8();$.v4(e.getName());t.splice(y.g[0]+1,0,$);
$.rect=e.rect.clone();$.buffer=this.ajr;$.W();p.data={d:jN.l$,gr:t,Yi:[y.g[0]+1],xs:[11,11,1]}}this.T(p);
this.close();y.kc=!0};dZ.prototype.mh=function(E,y){this.P0=E};function a9(E){hx.call(this,[[7,11],[7,13]][E],["redge","magiccut"][E]);
this.KE=E;this.dE={};this.Zk=null;this.vE=null;this.WP=null;this.xo=null;this.AO=null;this.body.style.padding="0";
this.QQ=[];this.up=-1;this.bS=v.t("div","form hbar padded");this.body.appendChild(this.bS);this.mb=new br;
this.mb.parent=this;this.mb.k(S.E.p,this.qv,this);this.bS.appendChild(this.mb.n);var y=E==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
y=y.concat("tools/hand","zoomIn","zoomOut");var c=E==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.fx=new gt(null,y,c,28);this.fx.k(S.E.p,this.Gu,this);this.bS.appendChild(this.fx.n);this.kR=new jm([7,9],0,50,null);
this.kR.parent=this;this.kR.k(S.E.p,[this.aj0,this.Ur][E],this);this.bS.appendChild(this.kR.n);var e=this.adO=new fr([2,2],!1,null,!0);
e.k("click",this.At,this);this.bS.appendChild(e.n);var p=this.CU=v.t("span","form");this.bS.appendChild(p);
var H=this.aD5=new fr([12,90],!1,null,!0);H.k("click",function(b){alert(E==0?i4.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
p.appendChild(H.n);var Z=new fr("Tutorial",!1,null,!0);Z.k("click",this.a4C,this);p.appendChild(Z.n);
this.X8=new gt([12,46],["checker","#ffffff","#000000"]);this.X8.k(S.E.p,this.a3Z,this);p.appendChild(this.X8.n);
this.SO=new a_(null,[[6,13],[6,2],[17,2]]);p.appendChild(this.SO.n);this.JL=v.r5(this,p,!1);var X=this.yV=v.t("div","flexrow");
this.body.appendChild(X);this.x8=new cP(!0);this.gt=new cP;this.x8.nc(this.gt);this.gt.nc(this.x8);this.x8.k("mousedown",this.Lz,this);
this.x8.k("mousemove",this.Xo,this);this.x8.k("mouseup",this.P6,this);this.x8.k("zoom",this.qv,this);
this.gt.k("zoom",this.qv,this);X.appendChild(this.x8.n);X.appendChild(this.gt.n)}a9.prototype=new hx;
a9.prototype.Km=function(E,y){var c=E!=null&&!E.B[E.g[0]].rect.tj();if(!c)alert("The layer is empty.");
return c};a9.prototype.Ut=function(){return new eq(0,0)};a9.prototype.j_=function(){return!0};a9.prototype.Cl=function(E,y){this.Pf=E;
this.T4=y;y=y-12-33;if(E<900){this.CU.setAttribute("style","display:block;  text-align:right;");y-=29}else{this.CU.setAttribute("style","position:absolute;  right:0px")}this.X8.WO(E<440?null:[12,46]);
this.kR.WO(E<470?null:[7,9]);var c=this.dE.rect;if(c){var e=a9.ako(E,y,c.m,c.e);if(e==0){E=Math.floor(E/2);
v.Jn(this.yV,"flexrow")}else{y=Math.floor(y/2);v.yo(this.yV,"flexrow")}this.x8.Cl(E,y);this.gt.Cl(E,y)}};
a9.ako=function(E,y,c,e){var p=E/2,H=y/2,Z=Math.min(p/c,y/e),X=Math.min(E/c,H/e);return Z>X?0:1};a9.prototype._=function(){hx.prototype._.call(this);
this.mb._();this.kR._();this.JL._();this.X8._();this.SO._();this.adO._();this.aD5._()};a9.prototype.a4C=function(E){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.KE],"_blank")};
a9.prototype.mh=function(E,y){this.vE=E;if(y==iL.WN||y==iL.Dg){this.mb.Vd(E.cT);this.mb.c(bj.OY(),E.cT.b6,E.cT.XQ)}};
a9.prototype.Gu=function(E,y,c,e){var p=this.fx.h();if(e==null){this.x8.Gu(cP.od(p-3));return}this.xo=e;
var H=F.XP.Vy(this.mb.h(),e);if(H!=null){this.mb.c(H);this.qv()}else if(e.S(ct.Nc)&&e.S(ct.Dh)){var Z=this.QQ,X=0;
if(e.S(ct.zx)){if(this.up+1<Z.length)X=1}else if(this.up>0)X=-1;if(X!=0){this.up+=X;var b=this.up,k=this.dE;
if(X==1)d.E6(Z[b][2],Z[b][0],k.Ho,k.rect);else d.E6(Z[b+1][1],Z[b+1][0],k.Ho,k.rect);k.mx=k.rect;this.Ur()}}else if(p<3)this.x8.Gu(e)};
a9.prototype._U=function(E){var y=this.dE,c=this.QQ,e=d.R(E.P()*4);d.E6(y.eU,y.rect,e,E);y.eU=null;var p=d.R(E.P()*4);
d.E6(y.Ho,y.rect,p,E);this.up++;c[this.up]=[E.clone(),e,p];while(c.length>this.up+1)c.pop();while(c.length>50){c=c.slice(1);
this.up--}};a9.prototype.qv=function(){var E=this.vE,y=b1.sH(this.mb.h(),E.cT.b6,this.x8.Cj().O);this.x8._q(y)};
a9.prototype.Lz=function(E){var y=this.vE,c=this.dE,e=this.xo,p=this.mb.h(),H=this.x8.m3(),Z=[16777215,8421504,0][this.fx.h()];
this.Zk=new b1(p,y.cT.b6,y.cT.XQ,{Mz:1,jo:!0},Z,y.YO,c.rect);c.eU=c.Ho.slice(0);if(e!=null&&e.S(ct.zx)&&this.AO){this.Zk.moveTo(this.AO.x,this.AO.y);
this.Zk.lineTo(H.x,H.y)}else this.Zk.moveTo(H.x,H.y);this.a8I()};a9.prototype.Xo=function(E){var y=this.dE,c=this.x8.m3();
this.Zk.lineTo(c.x,c.y);this.a8I()};a9.prototype.P6=function(E){this.AO=this.x8.m3();this._U(this.Zk.JU());
this.Ur()};a9.prototype.a8I=function(){var E=this.dE,y=this.Zk,c=y.Px();if(c.tj())return;E.mx=c;d.l.Io("norm",y.mn(),y.EK(),E.Ho,E.rect,c,1);
this.aE6()};a9.prototype.At=function(E){var y=this.dE;y.eU=y.Ho.slice(0);y.mx=y.rect;d.KT(y.Ho,[4278190080,4292730333][this.KE]);
this._U(y.rect);this.Ur()};a9.prototype.Xy=function(E,y){this.WP=E;var c=E.B[E.g[0]],e=c.rect.clone(),p=e.m,H=e.e,b;
this.kR.c(this.KE==0?3:p*H<3e6?3:0);this.fx.c(E.i==null?0:1);this.kR.Cp();if(this.KE==0&&E.i!=null||this.KE==1)this.kR.fh();
var Z=this.KE,X=d.R(e.P());if(Z==0&&E.i){d.kh(E.i.channel,E.i.rect,X,e);var k=d.R(e.P());for(var D=0;
D<H;D++)for(var j=0;j<p;j++){var N=D*p+j,g=X[N];if(j>0&&X[N-1]!=g||j<p-1&&X[N+1]!=g||D>0&&X[N-p]!=g||D<H-1&&X[N+p]!=g)k[N]=255}b=d.style.d1(k,b,p,H)}else{b=new Float32Array(e.P());
b.fill(1e9)}e.x=e.y=0;this.dE={rect:e,bb:c.buffer,Mb:X,dS:b,x$:d.R(e.P()*4),nQ:d.R(e.P()*4),Ho:d.R(e.P()*4),eU:null,vS:null,mx:e,a8b:{}};
if(Z==0)this.aj0();else{this.dE.a8b=F.ow.acR(E);var R=this.dE.Ho;d.KT(R,4287137928);var t=d.PB.getSelection(c.buffer,p,H),w=Math.round(p/60),B=Math.round(.7*H);
for(var D=0;D<H;D++)for(var j=0;j<p;j++){var $=(D*p+j)*4,o=t[$>>>2];o=o>128?255:128;if(D<w||D<B&&(j<w||j>p-1-w))o=0;
R[$]=R[$+1]=R[$+2]=o}this.Ur()}this.QQ=[1];this.up=0;var T=this.mb.h();T.Brsh.v.Dmtr.v.val=Math.round(e.m/(Z==0?10:20));
this.mb.c(T);this.qv();this.Cl(this.Pf,this.T4);this.x8.eu()};a9.prototype.aj0=function(){var E=this.dE,y=E.rect.P(),c=this.kR.h(),e=E.Mb.slice(0);
for(var N=0;N<y;N++)if(E.dS[N]<c)e[N]=128;d.KT(E.Ho,4294967295);d.Og(e,E.Ho,0);d.Og(e,E.Ho,1);d.Og(e,E.Ho,2);
E.mx=E.rect;this.Ur()};a9.prototype.Ur=function(){var E=this.dE,p,X,b=0,k=0,D=0;this.aE6();var y=E.rect,c=y.m,e=y.e,H=d.R(y.P()),Z=E.bb;
d.LI(E.Ho,H,0);for(var N=0;N<H.length;N++){if(Z[(N<<2)+3]!=255)continue;var j=H[N];if(j==0)b++;else if(j==255)k++;
else D++}if(b*k*D!=0){if(this.KE==0)X=d.YI.YI(y,Z,H);else{var g=this.fx.h();for(var R=1;R<e;R++)for(var t=1;
t<c;t++){var N=R*c+t,w=H[N],B=H[N-1];if(w==0&&B==255||w==255&&B==0){p="The Red and Green should never touch! Erase it with Grey.";
break}}var $=Date.now(),o=this.dE.a8b;d.Jt(H,o.K_);F.ow.u4(o,!0,this.WP);var T=Math.ceil(this.kR.h()/2);
if(T==0){X=Z.slice(0);d.Og(o.i,X,3)}else{var i=o.i.slice(0),r=o.i.slice(0);for(var I=0;I<T;I++){for(var R=1;
R<e-1;R++)for(var t=1;t<c-1;t++){var N=R*y.m+t,M=i[N];if(i[N-c]!=M||i[N-1]!=M||i[N+1]!=M||i[N+c]!=M)r[N]=128;
else r[N]=M}var J=i;i=r;r=J}for(var R=0;R<e;R++)for(var t=0;t<c;t++){var N=R*c+t;if(H[N]==0||H[N]==255)i[N]=H[N]}X=d.YI.YI(y,Z,i,20,!1)}}}else{X=Z.slice(0);
d.Og(H,X,3)}for(var N=3;N<X.length;N+=4)if(X[N]>Z[N])X[N]=Z[N];if(y.rT(E.rect))E.vS=X;else d.E6(X,y,E.vS,E.rect);
this.a3Z();if(p)alert(p,4e3)};a9.prototype.aE6=function(E){var y=this.dE,c=y.mx;d.E6(y.bb,y.rect,y.x$,y.rect,c,!0);
var e=y.Ho,p=y.rect,H=Date.now();if(this.KE==1){var Z=new Uint32Array(256);Z[0]=4278190335;Z[255]=4278255360;
var X=d.R(c.P()*4),b=c.P();d.E6(e,p,X,c);e=X;p=c;var k=new Uint32Array(e.buffer);for(var N=0;N<b;N++)k[N]=Z[k[N]&255]}console.log(Date.now()-H);
d.l.Io("norm",e,p,y.x$,y.rect,c,.3);this.x8.c([{Yu:y.rect,data:y.x$.buffer}],null,null,c)};a9.prototype.a3Z=function(E){var y=this.dE;
d.KT(y.nQ,[0,4294967295,4278190080][this.X8.h()]);d.l.Io("norm",y.vS,y.rect,y.nQ,y.rect,y.rect,1);this.gt.c([{Yu:y.rect,data:y.nQ.buffer}])};
a9.prototype.jI=function(E){var y=this.WP,c=this.dE,e=this.SO.h(),p=y.B[y.g[0]],H=new iU(S.E.v,!0);H.n5=!0;
var Z=p.rect.clone();if(e==0&&p.OQ()||e!=0&&!p.OQ()){H.f=F.sh;H.data={d:jN.b0,a:y.g[0]};this.T(H)}if(y.i!=null){H.f=F.mW;
H.data={d:"fromAction",Xu:F.XY.cg()};this.T(H)}if(e==0){var X=y.B.slice(0),b=y.N8();b.v4(p.getName());
X.splice(y.g[0]+1,0,b);b.rect=Z;b.buffer=c.vS;b.W();H.f=F.sh;H.data={d:jN.l$,gr:X,Yi:[y.g[0]+1],xs:[7,11]};
this.T(H)}if(e==1){var D=p.Nb();H.f=F.sh;H.data={d:jN.gP,ar_:!0};this.T(H);var j=p.Nb();j.channel=d.R(Z.P());
j.rect=Z;j.color=0;j.tq=!0;d.LI(c.vS,j.channel,3);if(D){var g=j.wl(D);j.rect=g.rect;j.channel=g.channel;
j.color=g.color}j.Q8();p.fP()}if(e==2){var R={rect:Z,channel:d.R(Z.P())};d.LI(c.vS,R.channel,3);H.f=F.mW;
H.data={d:"setsel",i:R,xs:this.RY};this.T(H)}this.close()};function df(){hx.call(this,[1,13],"locstor");
this.P0=null;this.wx=[];var E=this.body,y=v.t("p");y.textContent="These files are loaded every time you start Photopea.";
E.appendChild(y);this.aiI=0;this.ww=v.t("span");E.appendChild(this.ww);this.ww.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var c=v.t("span","form");E.appendChild(c);this.ky=new fr([5,4],!1,null,!0);this.ky.k("click",this.Kr,this);
c.appendChild(this.ky.n);this.X2=new fr("Get all as ZIP",!1,null,!0);this.X2.k("click",this.hf,this);
c.appendChild(this.X2.n);this.DJ=new jR(!0);this.DJ.parent=this;this.DJ.vR(1);E.appendChild(this.DJ.n);
this.DJ.n.setAttribute("style","width: 40em; height: 25em")}df.prototype=new hx;df.prototype._=function(){hx.prototype._.call(this);
this.ww.textContent=i4.get([13,2])+": "+fX.NU(this.aiI);this.ky._()};df.prototype.mh=function(E,y){this.P0=E;
if(y==iL.Rf)this.Xy()};df.prototype.Xy=function(E,y){var c=this.P0.gp.zK,b=0;this.wx=[];for(var e in c)this.wx.push(e);
this.wx.sort(function(D,j){D=D.split(".");j=j.split(".");return D[1]==j[1]?D[0]<j[0]?-1:1:D[1]<j[1]?-1:1});
var p=Math.floor(100*v.k1()),H=Math.floor(16*v.k1()),Z=[],X=[];for(var N=0;N<this.wx.length;N++){var e=this.wx[N],k=df.y_(e,c[e],p,H);
Z.push(k);X.push(e);b+=c[e].byteLength}this.DJ.jA(Z,X,p,H);this.aiI=b;this._()};df.prototype.Kr=function(E){var y=this.DJ.h();
if(y.length==0){alert("Select a file first.");return}this.DJ.c([]);var c=this.P0.gp.zK;for(var N=0;N<y.length;
N++)delete c[this.wx[y[N]]];var e=new iU(S.E.M,!0);e.data={d:S.H.z2,Wp:iL.Rf};this.T(e)};df.prototype.hf=function(E){var y=this.P0.gp.zK,c={};
for(var e in y)c[e]=new Uint8Array(y[e]);var p=UZIP.encode(c);fz.save(p,"resources.zip")};df.y_=function(E,y,c,e){var p=v.t("canvas"),X=0;
p.width=c;p.height=e;var H=p.getContext("2d"),Z=E.split(".").pop().toLowerCase();for(var N=0;N<Z.length;
N++)X+=Z.charCodeAt(N)*613<<8*N;H.fillStyle="#"+d.ly(X&16777215);H.fillRect(0,0,20,e);var b=Math.floor(14*v.k1());
H.fillStyle="#000000";H.font="bold "+b+"px sans-serif";var k=(e-b)/2,D=fX.NU(y.byteLength),j=H.measureText(D);
H.fillText(D,c-12-j.width,e-k);return p.toDataURL()};function ke(){hx.call(this,[1,15],"pmanager");this.P0=null;
this.To=new a_([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.To.k(S.E.p,this.Xy,this);
this.body.appendChild(this.To.n);var E=v.t("div","flexrow");this.body.appendChild(E);var y=this.aBJ=v.t("div");
E.appendChild(y);var c=v.t("div","form");E.appendChild(c);c.setAttribute("style","width:140px; margin-left:12px");
this.aDK=[iL.WN,iL.FP,iL.Iu,iL.G5,iL.ZU,iL.EJ];this.kx=[new br,new hV,new j8,new a5,new gX,new ih];for(var N=0;
N<this.kx.length;N++)this.kx[N].parent=this;this.fl=[];for(var N=0;N<4;N++){var e=new fr("Hello",!0,null,!0);
e.k("click",this.Mp,this);this.fl.push(e);c.appendChild(e.n)}this.Xy()}ke.prototype=new hx;ke.prototype.OX=function(E){return E==ct.OA||E==ct.hy};
ke.prototype.Mp=function(E){var N=this.fl.indexOf(E.target);this.kx[this.To.h()].hE(N)};ke.prototype._=function(){hx.prototype._.call(this);
this.To._();for(var N=0;N<this.kx.length;N++)this.kx[N]._();var E=this.fl,y=this.To.h(),c=iL.PZ[this.aDK[y]],e=c[0].toUpperCase();
E[0].WO([[23,6],"."+e]);E[1].WO(["VAR0 ."+e,[1,8]]);E[2].WO([6,37]);E[3].WO([5,4])};ke.prototype.mh=function(E,y){this.P0=E;
this.Xy()};ke.prototype.Xy=function(E,y){if(!v.Qj(this.n))return;this._();v.Vz(this.aBJ);this.aBJ.appendChild(this.kx[this.To.h()].ks);
var c=this.kx,e=this.P0;if(e==null)return;c[0].Vd(e.cT);c[1].Yz(e.x4,e.YO);c[1].Vd(e.s4);c[2].Vd(e.gS);
c[3].Vd([e.EX,e.gS]);c[4].Vd(e.Gp);c[5].Vd(e.qN)};function eP(E,y,c){hx.call(this,y,"cwindow");this.apq=new eq(c[0],c[1]-33);
this.bS=v.t("div","form");this.bS.setAttribute("style","width:"+(c[2]-c[0])+"px; height:"+(c[3]-c[1])+"px");
this.body.appendChild(this.bS)}eP.prototype=new hx;eP.prototype.Ut=function(E,y){return this.apq.clone()};
function gu(E){var y=gu.al2(E);hx.call(this,y,"res"+E);var c=this.awh.bind(this);window.addEventListener("message",function(p){if(typeof p.data=="string"&&p.data.startsWith("--et ")){console.log(p.data);
var H=this.auA=p.data.slice(5).split(",");H[0]=parseFloat(H[0]);b4.mk(H[0],H[1],c)}}.bind(this));this.ZD=y;
this.P7=E;this.aiH=null;this.mJ=null;this.pt=0;this.Sc=null;this.VR=null;this.auA=null;this.P0=null;
this.body.setAttribute("style","padding:0");this.kS=new fr("",null,null,!0);this.body.appendChild(this.kS.n);
this.kS.k("click",this.dx,this);this.kS.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.t7=new fr("\u25BC",null,null,!0);this.t7.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.t7.k("click",this.anr,this);this.body.appendChild(this.t7.n);this.Ff=v.t("span","form");this.body.appendChild(this.Ff);
this.fl=[];for(var N=0;N<9;N++){var e=new fr(gu.al2(N));this.fl.push(e);if(N==E)e.c(!0);this.Ff.appendChild(e.n);
e.k("click",this.axW,this)}this.hK=new fr([5,3],null,null,!0);this.hK.k("click",this.aBX,this);this.aaT=new fr("Upload Current Document as a Template",null,null,!0);
this.aaT.k("click",this.aiQ,this);this.P_=new d3("Creator / Brand name");this.bN=new fr([1,2],null,null,!0);
this.bN.k("click",this.hf,this);this.ra=v.t("iframe","scrollable");this.ra.setAttribute("style","border:none; margin:0; padding:0;");
this.T$=v.t("div","form scrollable padded");this.VH=new i$(E);this.VH.k("back",this.At,this);this.VH.k("save",this.ahg,this);
this.body.appendChild(this.ra)}gu.prototype=new hx;gu.al2=function(E){var y;if(E==0)y=[25,0];else if(E==1)y="Plugins";
else for(var c in iL.PZ)if(iL.PZ[c][4]==E)y=iL.PZ[c][3];return y};gu.prototype.anr=function(E){this.Ff.style.display=this.Ff.style.display=="none"?"":"none"};
gu.prototype.axW=function(E){var N=this.fl.indexOf(E.target);if(N==this.P7)return;this.close();var y=new iU(S.E.M,!0);
y.data={d:S.H.Q5,ym:"res"+N};this.T(y)};gu.prototype.awh=function(E){this.dx();this.VR=JSON.parse(E.target.response);
this.Hw()};gu.prototype.Ut=function(E,y){return new eq(0,0)};gu.prototype.Cl=function(E,y){this.Pf=E;
this.T4=y;this.hQ=null;y=y-4;E=E;var c=E>820,e="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",p="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.Ff.setAttribute("style",c?e:p);this.Ff.style.marginTop=(c?-31:0)+"px";this.t7.n.style.display=c?"none":"";
var H=this.T$;H.style.width=E-12+"px";H.style.height=y-12+"px";var H=this.VH.n;H.style.width=E-12+"px";
H.style.height=y-12+"px";var H=this.ra;H.style.width=E+"px";H.style.height=y+"px";this.DG()};gu.prototype.mh=function(E,y){this.P0=E};
gu.prototype._=function(){hx.prototype._.call(this);for(var N=0;N<this.fl.length;N++)this.fl[N]._();
this.hK._()};gu.prototype.Xy=function(E,y,c,e){this.hQ=E;this.dx(null,!1)};gu.prototype.dx=function(E,y){var c=y!=null?y:v.Qj(this.ra);
if(c){if(!b4.wo()){alert("You need to log in first!");return}var e=b4.vQ();this.mJ=e.tpl?e.tpl.list:[];
this.P_.c(e.tpl&&e.tpl.brnd?e.tpl.brnd:"");this.DG()}else{this.ra.setAttribute("src","");this.ra.setAttribute("src","templates/index.html?type="+this.P7+""+this.P0.e_.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(c?this.T$:this.ra);var p=i4.get(this.ZD);this.kS.WO(c?"All "+p:"Add "+p)};gu.prototype.DG=function(){var E=i4.get(this.ZD),y=this.mJ,c=this.P7,X=450;
if(y==null)return;var e=this.T$;v.Vz(e);var p=v.t("h1");e.appendChild(p);p.textContent="Share your "+E+" with the world!";
var H=v.t("ul");e.appendChild(H);var Z=v.t("li");H.appendChild(Z);Z.textContent="By publishing your "+E+", you agree to let others use them for all kinds of purposes, even commercially.";
e.appendChild(this.hK.n);if(c==0)e.appendChild(this.aaT.n);v.vY(e);e.appendChild(this.P_.n);e.appendChild(this.bN.n);
v.vY(e);X=(this.Pf-20)/Math.max(1,Math.floor(this.Pf/X))-42;var b="display:inline-block; width:"+X+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var N=y.length-1;N>=0;N--){var k=y[N];if(k.type==null)k.type=0;if(k.type!=c)continue;var D=v.t("div");
e.appendChild(D);D.setAttribute("style",b);var j=v.t("img");D.appendChild(j);j.setAttribute("src",k.thmb);
j.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var g=v.t("h3");D.appendChild(g);g.textContent=k.name;g.setAttribute("style","margin:0 0 10px 0");var R=v.t("p");
D.appendChild(R);R.textContent=k.desc;R.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var t=0;t<2;t++){var w=new fr(t==0?"Edit":"Delete",null,null,!0);w.abN=N;w.Hw=t==0;w.k("click",this.amA,this);
D.appendChild(w.n)}}};gu.prototype.aiQ=function(E){if(this.hQ==null){alert("No document opened.");return}var y=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!y)return;var c=new iU(S.E.M,!0);c.data={d:S.H.Vv,wB:"psd",AM:this.ae5.bind(this)};this.T(c)};gu.prototype.ae5=function(E){this.asB=E;
var y=new iU(S.E.M,!0);y.data={d:S.H.Vv,wB:"jpg",AM:this.aim.bind(this),a3U:1400};this.T(y)};gu.prototype.aim=function(E){this.Sc={type:0,catg:0,desc:"",file:this.asB,name:this.hQ.name.split(".")[0],thmb:E,publ:!0,utme:""};
this.Hw()};gu.prototype.aBX=function(E){this.Sc={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.Hw()};gu.prototype.amA=function(E){this.pt=E.target.abN;if(!E.target.Hw){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.mJ.splice(this.pt,1);this.hf();this.DG();return}this.Hw()};gu.prototype.Hw=function(){if(v.Qj(this.T$))this.body.removeChild(this.T$);
this.body.appendChild(this.VH.n);var E=this.Sc?this.Sc:this.VR?this.VR:this.mJ[this.pt];if(E.type==null)E.type=0;
this.VH.c(E)};gu.prototype.ahg=function(E){var y=this.VH.h();if(this.Sc)this.mJ.push(y);else if(this.VR){var c=this.auA;
b4.mk(c[0],c[1],this.At.bind(this),JSON.stringify(y));return}else this.mJ[this.pt]=y;this.hf();this.At()};
gu.prototype.At=function(){var E=this.VR;this.Sc=null;this.VR=null;this.body.removeChild(this.VH.n);
this.body.appendChild(this.T$);this.DG();if(E)this.dx()};gu.prototype.hf=function(){var E=b4.vQ();if(this.mJ.length==0)delete E.tpl;
else{E.tpl={list:JSON.parse(JSON.stringify(this.mJ))};var y=this.P_.h().trim();if(y!="")E.tpl.brnd=y}b4.YF(E,function(){alert("Saved.")})};
function e1(){hx.call(this,"Make Selection","makesel");this.P0=null;var E=v.t("div","form");this.body.appendChild(E);
this.QE=new b8([12,25,1]);this.QE.c(!0);E.appendChild(this.QE.n);v.vY(E);this.dQ=new az(!0);E.appendChild(this.dQ.n);
this.JL=v.r5(this,this.body)}e1.prototype=new hx;e1.prototype._=function(){hx.prototype._.call(this);
this.dQ._();this.QE._();this.JL._()};e1.prototype.jI=function(E){var y=new iU(S.E.v,!0);y.f=F.mW;y.data={d:"frompath",Gm:[null,0,this.dQ.h(),this.QE.h()]};
this.close();this.T(y)};function jW(){hx.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.hQ=null;this.Wy=null;
this.OI=null;var E=this.a9k=v.t("div","form");E.setAttribute("style","width:20em");this.body.appendChild(E);
this.E3=new aN([12,50],["PSD","PSB"]);this.E3.k(S.E.p,this.VX,this);E.appendChild(this.E3.n);v.X$(E);
var y=new bU("Minify the file");E.appendChild(y.n);v.vY(E);var c=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Pz=[];for(var N=0;N<c.length;N++){var e=new b8(c[N]);this.Pz.push(e);E.appendChild(e.n);e.k(S.E.p,this.VX,this)}v.X$(E);
this.Vu=new bU("aa.psd");this.dJ=new bU("10 kB");E.appendChild(this.dJ.n);this.ag9=new bU("1000 B");
E.appendChild(this.ag9.n);this.JL=new fr([1,2],!0,null,!0);this.JL.k("click",this.jI,this);E.appendChild(this.JL.n);
this.rR=new fr(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.rR.k("click",this.jI,this);E.appendChild(this.rR.n);
this.k("closebtn",this.qh,this)}jW.prototype=new hx;jW.prototype.Xy=function(E,y,c,e){var p=v.Qj(this.rR.n),H=E.$O!=null&&E.$O.rS=="psd";
if(H&&!p)this.a9k.appendChild(this.rR.n);if(!H&&p)this.a9k.removeChild(this.rR.n);for(var N=0;N<this.Pz.length;
N++)this.Pz[N].c(!1);this.hQ=E;this.VX()};jW.prototype.jI=function(E){if(E.target==this.JL)fz.save(this.Wy,this.OI);
else{if(this.Pz[3].h()){alert("You should not save a ZIP as a PSD to Google Drive.");return}hq.aBH(this.hQ,this.Wy)}};
jW.prototype.qh=function(){this.hQ=null;this.Wy=null};jW.prototype.VX=function(){var E=this.hQ,y=[!1,!1,!1,!1];
for(var N=0;N<3;N++)y[N]=this.Pz[N].h();var c=this.Pz[3].h(),e=y[3]=this.E3.h()==1,p=E.name.slice(0,E.name.length-3),H=this.Wy=iu.sF("PSD").Jv(E,0,0,y),j1=this.OI=p+"ps"+(e?"b":"d");
if(c){var Z={};Z[j1]=new Uint8Array(H);H=this.Wy=UZIP.encode(Z);j1=this.OI=p+"zip"}this.Vu.c(j1);this.dJ.c(fX.NU(H.byteLength));
this.dJ.n.style["font-size"]="2em";this.ag9.c(" \u2001 "+H.byteLength+" B");this.JL.WO(i4.get([1,2])+" \""+j1+"\"")};
jW.prototype._=function(){hx.prototype._.call(this);this.E3._();this.JL._();this.rR._()};function fP(){hx.call(this,"Confirm","confirm");
this.UT=null;var E=v.t("div");E.setAttribute("style","margin-bottom:1em");this.body.appendChild(E);this.R_=v.t("div");
this.R_.textContent="Hello";E.appendChild(this.R_);this.JL=v.r5(this,this.body)}fP.prototype=new hx;
fP.prototype.jI=function(E){if(this.UT==null)return;console.log("okconfirm");this.close();this.UT();
this.UT=null};fP.prototype._=function(){hx.prototype._.call(this);this.JL._()};fP.prototype.Xy=function(E,y){if(y.ahn||y.a9F)this.R_.innerHTML=y.b;
else this.R_.textContent=y.b;if(y.at2)this.JL.WO(y.at2);this.UT=y.UT;this.JL.n.focus();if(y.ahn!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.a5s=y.ahn!=null};fP.prototype.Ut=function(E,y){return new eq(Math.max(0,(E-500)/2),Math.max(0,Math.min(60,(y-100)/2)))};
fP.prototype.Cl=function(E,y){this.R_.style.width=E-30+"px"};function jq(){hx.call(this,[1,16,2],"newartb");
this.KE=0;this.kp=null;var E=v.t("div","form");E.style.width="260px";this.body.appendChild(E);this.DJ=new eB;
E.appendChild(this.DJ.n);this.JL=v.r5(this,E)}jq.prototype=new hx;jq.prototype.Km=function(E,y){return E!=null};
jq.prototype.jI=function(E){var y=this.DJ.h();this.kp.m=y.x;this.kp.e=y.y;var c=new iU(S.E.v,!0);c.f=F.td;
c.data={a23:this.kp,de:this.KE};this.T(c);this.close()};jq.prototype._=function(){hx.prototype._.call(this);
this.DJ._();this.JL._()};jq.prototype.Xy=function(E,y){this.KE=y.de;var c=new ir(0,0,E.m,E.e);if(E.g.length!=0){var e=E.B[E.g[0]];
if(e.add.artb){c=e.fQ();c.x+=c.m+100}if(y.de==1)c=F.Y.EK(E)}this.kp=c;this.DJ.c(new eq(c.m,c.e))};function km(){hx.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.rF=null;this.k("closebtn",this.ES,this);this.k("canclose",this.ES,this)}km.prototype=new hx;
km.prototype.mh=function(E,y){if(this.rF)this.rF.mh(E,y)};km.prototype.Ut=function(E,y){return new eq(Math.max(0,Math.min(150,(E-980)/2)),Math.max(0,Math.min(150,(y-590)/2)))};
km.prototype.Cl=function(E,y){this.Pf=E;this.T4=y;E=Math.min(E,980);y=Math.min(y,590);if(this.rF)this.rF.Cl(E,y)};
km.prototype._=function(){hx.prototype._.call(this);if(this.rF)this.rF._()};km.prototype.Xy=function(E,y,c,e){this.RY=y.de==0?"Open from Storage":"Save to Storage";
this._();if(this.rF==null){this.rF=new h3;this.rF.parent=this;this.body.appendChild(this.rF.n);this._();
this.Cl(this.Pf,this.T4)}Storage.vR(y.de,E?E.name:"");h3.dF(this.rF)};km.prototype.ES=function(E){Storage.vR(0);
h3.fq();if(E.type=="canclose")this.close()};function jK(){hx.call(this,[2,14],"varsdats");var E=this.bS=v.t("div","form");
E.setAttribute("style","width:300px");this.body.appendChild(E);this.hQ=null;this.qr=0;this.P0=null;this.oL=new aN(null,[[2,14],"Data Sets",[1,8]]);
this.oL.k(S.E.p,this.a9W,this);this.GZ=new jK.PF;this.Ta=new jK.QX;this.OB=new jK.IM;this.Ta.k("activate",this.Zt,this);
this.OB.k("export",this.Yg,this);this.JL=v.r5(this)}jK.prototype=new hx;jK.prototype.a9W=function(E){var y=this.oL.h(),c=this.bS;
v.Vz(c);c.appendChild(this.oL.n);v.X$(c);c.appendChild([this.GZ,this.Ta,this.OB][y].n);c.appendChild(this.JL.n)};
jK.prototype.jI=function(E){var y=new iU(S.E.v,!0);y.f=F.sh;y.data={d:jN._l,b:JSON.stringify([this.GZ.h(),this.Ta.h()])};
this.T(y);this.close()};jK.prototype._=function(){hx.prototype._.call(this);this.JL._();this.OB._()};
jK.prototype.Xy=function(E,y){this.hQ=E;this.OB.hQ=E;if(E==null)return;this.GZ.Xy(E,y);this.Ta.Xy(E,y);
this.oL.c(0);this.a9W();this.qr=0;this.OB.aCl()};jK.prototype.mh=function(E,y){this.P0=E};jK.prototype.Yg=function(E){var y=this.GZ.h(),c=this.Ta.h(),e=this.OB.h();
if(y.length==0){alert("There are no variables.");return}if(c.length==0){alert("There are no data sets.");
return}var p=iu.avG(this.hQ,y,c,this.Ta.akT(),e[0],e[1],e[2],this.P0,this);if(p!=null)fz.save(p,"images.zip")};
jK.prototype.Zt=function(E){var y=this.Ta.g,c=this.GZ.h(),e=this.Ta.h();if(c.length==0){alert("There are no variables.");
return}if(e.length==0){alert("There are no data sets.");return}this.tZ();this.qr+=iu.vD(this.hQ,this,c,e,this.Ta.akT(),y)};
jK.prototype.tZ=function(){var E=new iU(S.E.v,!0);E.f=F.yW;E.data={d:"h_stepbck"};while(this.qr>0){this.T(E);
this.qr--}};jK.IM=function(){dT.call(this);var E=this.n=v.t("div");this.wQ=new d3("Variable for file names");
E.appendChild(this.wQ.n);v.X$(E);this.hQ=null;this.Cu=["JPG","PNG","PDF"];this.E3=new aN([12,50],this.Cu);
this.E3.k(S.E.p,this.aCl,this);E.appendChild(this.E3.n);this.bQ=new aU;E.appendChild(this.bQ.n);this.X2=new fr("Export all items",!0,null,!0);
this.X2.k("click",this.Yg,this);E.appendChild(this.X2.n)};jK.IM.prototype=new dT;jK.IM.prototype._=function(E){this.wQ._();
this.E3._();this.X2._();this.bQ._()};jK.IM.prototype.aCl=function(E){if(this.hQ==null)return;var y=this.Cu[this.E3.h()],c=this.hQ,e=c.add.artd;
this.bQ.HD(y,null,null,e!=null&&e.Cnt.v>1)};jK.IM.prototype.Yg=function(E){this.T(new iU("export"))};
jK.IM.prototype.h=function(){var E=this.Cu[this.E3.h()];return[E,this.bQ.h(),this.wQ.h().trim()]};jK.QX=function(){dT.call(this);
this.I3=null;this.xT=[];this.g=0;var E=this.n=v.t("div","form");this.g0=new bH("Import a CSV file");
E.appendChild(this.g0.n);this.g0.k(S.E.p,this.aDl,this);this.Z4=v.t("div","scrollable");this.Z4.setAttribute("style","overflow:scroll;  height:234px;");
E.appendChild(this.Z4);this.abT=new bH("Source Images",!0);E.appendChild(this.abT.n)};jK.QX.prototype=new dT;
jK.QX.prototype.aDl=function(E){var y=this.g0.h();for(var c in y){y=y[c];break}this.I3=cq.ux(_.Uw(y));
this.HB()};jK.QX.prototype.akT=function(){return this.abT.h()};jK.QX.prototype.Xy=function(E,y){var c=this.I3=JSON.parse(JSON.stringify(E.PH));
this.HB()};jK.QX.prototype.h=function(){return this.I3};jK.QX.prototype.HB=function(){var E=this.Gv.bind(this),y=this.I3,e="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.xT=[];var c=v.t("table");c.setAttribute("style","border-collapse: collapse;");for(var N=0;N<y.length;
N++){var p=v.t("tr"),H=y[N],Z=N==0?"th":"td";c.appendChild(p);var X=v.t(Z);p.appendChild(X);X.setAttribute("style",e+"cursor:pointer;");
if(N!=0)X.textContent="\u2713";this.xT.push(X);X.addEventListener("click",E,!1);for(var b=0;b<H.length;
b++){var X=v.t(Z);X.textContent=H[b];p.appendChild(X);X.setAttribute("style",e);X.setAttribute("title",H[b])}}v.Vz(this.Z4);
this.Z4.appendChild(c)};jK.QX.prototype.Gv=function(E){this.g=this.xT.indexOf(E.currentTarget);this.T(new iU("activate"))};
jK.PF=function(){dT.call(this);var E=this.n=v.t("div","form marged");this.$u=null;this.Om=[];this.un=[];
this.VL=null;this.WL=new a_([0,3],[]);this.WL.k(S.E.p,this.a1g,this);E.appendChild(this.WL.n);this.sX=[];
var y=["Visibility","Text Content","Pixel Content"];for(var N=0;N<y.length;N++){v.X$(E);var c=new b8(y[N]);
c.k(S.E.p,this.YZ,this);E.appendChild(c.n);v.vY(E);var e=new d3("Variable Name");e.k(S.E.p,this.YZ,this);
E.appendChild(e.n);this.sX.push(c,e)}};jK.PF.prototype=new dT;jK.PF.prototype.YZ=function(E){var y=this.WL.h(),c=this.VL[y],e=this.Om[y],p=this.$u["l"+c],H=this.sX;
if(p==null)this.$u["l"+c]=p=[];while(p.length!=0)p.pop();for(var N=0;N<3;N++){var Z=H[2*N+1].h().trim();
if(!H[2*N].h())continue;if(Z.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}Z=Z.replaceAll(" ","");
var X={varName:Z,trait:["visibility","textcontent","fileref"][N]};p.push(X);if(N==2){X.align="center";
X.clip="false";X.placementMethod="fit";X.valign="middle"}}if(p.length==0)delete this.$u["l"+c];this.Xy()};
jK.PF.prototype.a1g=function(E){var y=this.WL.h(),c=this.VL[y],e=this.Om[y],p=this.$u["l"+c],H=this.sX;
if(p==null)p=[];for(var N=0;N<3;N++){var Z=N==0||N==1&&e==0||N==2&&e==1;H[2*N].U0(Z);H[2*N].c(!1);H[2*N+1].U0(Z);
if(!Z)H[2*N+1].c("")}for(var N=0;N<p.length;N++){var X=p[N],b=X.trait,k=["visibility","textcontent","fileref"].indexOf(b);
H[k*2].c(!0);H[k*2+1].c(X.varName)}};jK.PF.prototype.Xy=function(E,y){if(E){var c=JSON.parse(JSON.stringify(E.NC)),e=this.$u={};
for(var N=0;N<c.length;N++){var p=c[N],H=p.docRef;H="l"+H.slice(4,H.length-2);if(e[H]==null)e[H]=[];
e[H].push(p)}this.VL=[];this.Om=[];this.un=[];for(var N=E.B.length-1;N>=0;N--){var Z=E.B[N],H=Z.add.lyid;
if(Z.add.lsct==kl.vp)continue;this.VL.push(H);this.Om.push(Z.add.TySh?0:1);this.un.push(Z.getName())}}var X=[],b=this.un;
for(var N=0;N<b.length;N++){X.push(b[N]+(this.$u["l"+this.VL[N]]?" *":""))}var k=this.WL.h();this.WL.Pt(X);
this.WL.c(k);this.a1g()};jK.PF.prototype.h=function(){var E=this.$u,y=[];for(var c in E){var e=E[c];
for(var p=0;p<e.length;p++){e[p].docRef="id('"+c.slice(1)+"')";y.push(e[p])}}return y};function ff(){hx.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.oB=!1;var E=this.yC=[],y=v.t("div","form");y.setAttribute("style","width:20em");this.body.appendChild(y);
for(var N=0;N<2;N++){var c=new b8([22,4,2+N]);y.appendChild(c.n);v.vY(y);var e=new aN(null,[["N equal parts"],["N pixels per part"]]);
y.appendChild(e.n);v.vY(y);var p=new jm("N",0,1e3);p.c(4);p.parent=this;y.appendChild(p.n);v.vY(y);if(N==0)v.X$(y);
E.push(c,e,p)}for(var N=0;N<E.length;N++)E[N].k(S.E.p,this.bw,this);E.push(v.r5(this,y));this.k("closebtn",this.tZ,this)}ff.prototype=new hx;
ff.prototype.tZ=function(){if(this.oB){var E=new iU(S.E.v,!0);E.f=F.yW;E.data={d:"h_stepbck"};this.T(E)}};
ff.prototype.bw=function(E){this.tZ();this.oB=!0;var y=[];for(var N=0;N<6;N++)y.push(this.yC[N].h());
var c={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var e=0;e<2;e++){if(!y[e*3])continue;var p=y[e*3+1],H=y[e*3+2];c[["slices","pixels"][p]+["Across","Down"][e]]={t:"long",v:H}}var Z=new iU(S.E.on,!0);
Z.data={tT:"divide",hG:c};this.T(Z)};ff.prototype.jI=function(E){this.close()};ff.prototype._=function(){hx.prototype._.call(this);
var E=this.yC;for(var N=0;N<E.length;N++)E[N]._()};ff.prototype.Xy=function(E,y){this.oB=!1};function cn(){hx.call(this,"Stroke Path","strokepath");
this.P0=null;this.aF=null;this.Pg=null;this.JL=null;this.rm=[F.LY,F.WN,F.co,F.y4,F.W6,F.aa,F.jl,F.yx,F.xZ,F.uW,F.l8,F.xR,F.uu,F.Fp,F.Pl]}cn.prototype=new hx;
cn.prototype._=function(){hx.prototype._.call(this);if(this.JL){this.aF._();this.JL._()}};cn.prototype.jI=function(E){var y=this.rm[this.aF.h()],c=null;
for(var e in F.Zh)if(F.Zh[e]==y)c=e;var p=new iU(S.E.on,!0);p.data=F.ZN.OU(c,this.Pg.h());this.close();
this.T(p)};cn.prototype.mh=function(E,y){if(this.P0==null){var c=[];for(var N=0;N<this.rm.length;++N){c.push(E.s.map[this.rm[N]].f.name)}var e=v.t("div","form");
this.body.appendChild(e);this.aF=new a_("Tool",c);this.aF.c(1);e.appendChild(this.aF.n);this.Pg=new b8("Simulate Pressure");
v.vY(e);e.appendChild(this.Pg.n);this.JL=v.r5(this,this.body)}this.P0=E};function b9(){hx.call(this,[1,18],"linkview");
v.Jn(this.body,"form");var E=this.ph=[new d3(null,null,17),new fr([5,1],!1,null,!0),new fr([1,0],!1,null,!0)];
for(var N=0;N<3;N++){var y=E[N];this.body.appendChild(y.n);if(N!=0)y.k("click",this.afs,this);if(N==0)v.vY(this.body)}}b9.prototype=new hx;
b9.prototype.Xy=function(E,y){var c=y.a4P;if(c.startsWith("https://"))c=c.slice(8);this.ph[0].c(c)};
b9.prototype.afs=function(E){var y=this.ph,c=y[0].h(),e=E.target==this.ph[1];if(e){navigator.clipboard.writeText(c);
alert("Copied to a clipboard!")}else window.open("https://"+c,"Shared")};function eN(E){hx.call(this,E==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][E]);
this.BG=null;this.PG=null;this.abb=E;var y=v.t("div","form label8");y.setAttribute("style","max-width:26em");
this.body.appendChild(y);this.Zi=new a_("Document",["abc","def"]);this.Zi.k(S.E.p,this.YZ,this);y.appendChild(this.Zi.n);
v.vY(y);this.k0=new a_([12,4],["abc","def"]);this.k0.k(S.E.p,this.YZ,this);y.appendChild(this.k0.n);
this.a4Z=new b8([4,11]);this.R_=new d3([12,48]);this.R_.c("Alpha");if(E==0){}else{y.appendChild(this.R_.n)}this.g3=new az(!0);
y.appendChild(this.g3.n);this.JL=v.r5(this,y)}eN.prototype=new hx;eN.prototype.j_=function(){return!0};
eN.prototype._=function(){hx.prototype._.call(this);this.JL._();this.Zi._();this.k0._();this.R_._();
this.a4Z._();this.g3._()};eN.prototype.YZ=function(E){var y=this.abb;if(E==null||E==this.Zi){var c=this.Zi.h(),e=this.PG[c],p=[];
if(y==0)p.push(e.B[e.g[0]].getName()+" Transparency");else p.push([5,3]);for(var N=0;N<e.cB.length;N++)p.push(e.cB[N].name);
this.k0.Pt(p)}if(y==0)return;var H=this.k0.h();this.R_.U0(H==0);this.g3.U0(H!=0)};eN.prototype.Xy=function(E,y,c){this.BG=E;
this.PG=c;var e=[];for(var N=0;N<c.length;N++){var p=c[N].name;e.push(p.length<30?p:p.slice(0,27)+"...")}this.Zi.Pt(e);
this.Zi.c(c.indexOf(E));this.YZ(null)};eN.prototype.jI=function(E){var y=this.abb,c=this.k0.h(),e=this.Zi.h(),p=this.PG[e],H=this.g3.h(),Z;
if(c==0){Z=new iU(S.E.on,!0);if(y==0)Z.data=F.XY.jK(H,"Trsp",p.B[p.g[0]].getName());else Z.data={tT:"duplicate",hG:{classID:"null",Nm:{t:"TEXT",v:this.R_.h()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{Z=new iU(S.E.v,!0);
if(y==0){Z.f=F.mW;Z.data={d:"fromchannel",Gm:[-4-c,0,H]}}else{Z.f=F.sh;Z.data={d:jN.Me,s6:"seltochannel",Gm:[c-1,H]}}}this.close();
this.T(Z)};function aq(E,y,c,e){dT.call(this);this.name=E;this.auy=c;this.Zm=e;this._$=v.t("div","");
this._$.setAttribute("draggable","true");this.fX=v.t("div","pbody");this.L7=new fr("",!1,"");this.L7.parent=this;
this.agm=v.t("span","cross gsicon");this.NI=v.t("span","label");var p=this.anO.bind(this);this._$.addEventListener("mousedown",this.al_.bind(this),!1);
this._$.addEventListener("contextmenu",p,!1);this.L7.n.addEventListener("contextmenu",p,!1);this.agm.addEventListener("mousedown",this.FJ.bind(this),!1);
this._$.appendChild(this.NI);if(y)this._$.appendChild(this.agm);this.dI=!1;this.NI.textContent=E}aq.prototype=new dT;
aq.prototype.v6=function(){return null};aq.prototype._=function(){var E=i4.get(this.name),y=!1,c=this.Pf==0?22:Math.round(2+this.Pf/50);
if(E.endsWith(" *")){y=!0;E=E.slice(0,E.length-2);c-=2}var e=E.length>c;this.NI.textContent=e?E.slice(0,c-2):E;
if(e)for(var p=0;p<2;p++){var H=v.t("span");H.textContent=E.charAt(c-2+p);H.setAttribute("style","opacity:"+(.6-p*.4));
this.NI.appendChild(H)}if(y){var H=v.t("span");H.textContent=" *";this.NI.appendChild(H)}var Z=E.split(" "),X=Z.length==2?Z[0].substring(0,2)+Z[1][0]:E.substring(0,3);
if(X.charCodeAt(0)>=11776)X=X.substring(0,1);var b=this.auy;if(b==null)this.L7.WO(X,E);else{var k;if(b.startsWith("---"))k="<img src=\""+PIMG[b.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(b.startsWith("==="))k="<img src=\""+b.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(b.indexOf("\"")==-1)k="<img src=\""+b+"\" alt=\""+v.k6(E).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.L7.WO(k,E)}};aq.prototype.enable=function(){this.fX.className="pbody"};aq.prototype.disable=function(){this.fX.className="pbody disabled"};
aq.prototype.mh=function(E,y){};aq.prototype.Xy=function(E,y,c){};aq.prototype.d7=function(E){};aq.prototype.Cl=function(E,y){};
aq.prototype.Mq=function(E){this.name=E;this._()};aq.prototype.jH=function(){};aq.prototype.al_=function(E){if(E.button==0)this.T(new iU("select",!1));
if(E.button==1)this.TQ()};aq.prototype.anO=function(E){v.Ds(E);if(this.Zm!=null&&isNaN(this.Zm))return;
var y=v.RM(E,document.body),c=this.Un;if(c==null){c=this.Un=new el([{name:[1,12,0]}]);this.Un.k("select",this.FJ,this)}c.update(null);
c._();c.parent=this;var e=new iU(S.E.M,!0);e.data={d:S.H.rt,T_:c,x:y.x+1,y:y.y+1};this.T(e)};aq.prototype.TQ=function(){this.FJ({})};
aq.prototype.FJ=function(E){if(E.stopPropagation)E.stopPropagation();if(this.Zm!=null&&!isNaN(this.Zm)){var y=new iU(S.E.M,!0);
y.data={d:S.H.Oy,T_:this.Un};this.T(y);y.data={d:S.H.z2,Wp:iL.qj,b:parseFloat(this.Zm),a5:"del"};this.T(y)}else if(this.asu())this.T(new iU(S.E.w3,!1))};
aq.prototype.asu=function(E){return!0};aq.prototype.yl=function(E,y,c,e,p){};aq.prototype.Lv=function(E,y,c,e,p){};
aq.prototype.JA=function(E,y,c,e,p){};aq.Rr=function(E,y,c){if(E.childElementCount!=0)return;var e=E.textContent;
this.y2=this.asj.bind(this);this.a4h=this.ace.bind(this);this.ez=y;this.a3m=c;this.rM=E;this.atq=e;var p=v.t("input","");
p.setAttribute("type","text");p.setAttribute("size","10");p.setAttribute("value",e);v.Vz(E);E.appendChild(p);
p.select();p.focus();v.VM(E);E.addEventListener("keyup",this.y2,!1);document.body.addEventListener("mousedown",this.a4h,!1)};
aq.Rr.prototype.asj=function(E){var y=ct.ku,c=y(E.code,ct.qy);if(y(E.code,ct.SB)||c)this.aDQ(c)};aq.Rr.prototype.ace=function(E){var y=E.target;
if(y.tagName&&y.tagName.toLowerCase()=="input")return;this.aDQ(!0)};aq.Rr.prototype.aDQ=function(E){var y=this.rM,c=y.firstChild.value;
y.removeEventListener("keyup",this.y2);document.body.removeEventListener("mousedown",this.a4h);if(this.a3m||E&&c!=""&&c!=this.atq){this.ez(c)}else{v.Vz(y);
y.textContent=this.atq}};aq.ZV={yW:"0",apH:"1",sh:"2",azq:"3",af1:"4",Wd:"5",CSS:"6",WN:"7",aCE:"8",akz:"9",a4G:"10",ahA:"11",ayn:"12",g6:"13",rv:"14",aCQ:"15",auc:"16",t3:"17",a3l:"18",afD:"19",aqE:"20",G5:"21",aa_:"22",a33:"23",a78:"24",avr:"25"};
function bX(){aq.call(this,[9,9],!1,"---panels/actions",aq.ZV.ahA);this.P0=null;this.i5=[0,0]}bX.prototype=new aq("");
bX.prototype.zQ=function(){if(!v.Qj(this.fX)||this.Zb)return;this.Zb=v.t("div","padded scrollable");
this.Zb.setAttribute("style","width:260px;  height:260px");this.fX.appendChild(this.Zb);this.k(S.E.p,this.e0,this);
this.GB=v.t("div","lpfoot");this.fX.appendChild(this.GB);this.kx=[];var E="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",y="</svg>",c=E+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+y,e=E+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+y;
this.awa=E+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+y;this.akk=E+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+y;
var p=[this.awa,e,"lrs/folder","lrs/newlayer","lrs/bin",c],H=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var N=0;N<p.length;N++){var Z=p[N];if(1<N&&N!=p.length-1)Z="<img src=\""+PIMG[p[N]]+"\" class=\"miniscale gsicon\" />";
var X=new fr(Z,!1,H[N]);X.k("click",this.a5v,this);this.GB.appendChild(X.n);this.kx.push(X)}this.HB()};
bX.prototype._=function(){aq.prototype._.call(this);if(this.Zb==null)return;for(var N=0;N<this.kx.length;
N++)this.kx[N]._()};bX.prototype.a5v=function(E){var N=this.kx.indexOf(E.currentTarget),y=this.i5,c=this.P0,e=c.kQ;
if(N==0){var p,H=c.lu;if(e.length==0){alert("Create an Action Set first.");return}if(y.length<2){alert("Select a target action first.");
return}if(H==null){p=this.akk;H=this.i5}else{p=this.awa;H=null}this.kx[0].WO(p);c.lu=H}else if(N==1)this.aA$();
else if(N==2||N==3){var Z={xs:"Action Set "+e.length,tP:[],exp:!0};if(N==2||e.length==0){y=[e.length];
e.push(Z)}if(N==3){var X=e[y[0]].tP;y=[y[0],X.length];X.push({xs:"Action "+X.length,color:0,tP:[],aAd:!1,shift:!1,exp:!0,h2:X.length})}this.i5=y;
this.HB()}else if(N==4){var b;if(y.length==1)b=e;else if(y.length==2)b=e[y[0]].tP;else b=e[y[0]].tP[y[1]].tP;
var k=y.length-1;b.splice(y[k],1);if(b.length==0)y.pop();else while(y[k]>=b.length)y[k]--;if(y.length==0)y.push(0);
this.HB()}else if(N==5){if(e.length==0){alert("No Actions Present.");return}var D=new iU(S.E.M,!0);D.data={d:S.H.mN,aC0:iL.v,ir:y[0]};
this.T(D)}};bX.prototype.e0=function(E){var y=this.P0.kQ,c=E.data.d,e=E.data.x5;if(c=="sel")this.i5=e;
if(c=="fold"){if(e.length==1)y[e[0]].exp=!y[e[0]].exp;else y[e[0]].tP[e[1]].exp=!y[e[0]].tP[e[1]].exp}if(c=="enab"){var p=y[e[0]].tP[e[1]].tP[e[2]];
p.w=!p.w}if(c=="nchange"){if(e.length==1)y[e[0]].xs=E.data.RK;else y[e[0]].tP[e[1]].xs=E.data.RK}this.HB()};
bX.prototype.Xy=bX.prototype.jH=function(){this.zQ()};bX.prototype.mh=function(E,y){this.P0=E;if(this.Zb==null)return;
if(y==iL.v||y==iL.Dg)this.HB()};bX.prototype.HB=function(){if(this.P0==null)return;v.Vz(this.Zb);var E=this.P0.kQ;
if(E.length==0)return;var y=JSON.stringify(this.i5);for(var N=0;N<E.length;N++){var c=E[N],e=new bX.Hd([N],y,c.exp,c.xs.split("=").pop());
e.parent=this;this.Zb.appendChild(e.n);if(!c.exp)continue;for(var p=0;p<c.tP.length;p++){var H=c.tP[p],e=new bX.Hd([N,p],y,H.exp,H.xs.split("=").pop());
e.parent=this;this.Zb.appendChild(e.n);if(!H.exp)continue;for(var Z=0;Z<H.tP.length;Z++){var X=H.tP[Z],e=new bX.Hd([N,p,Z],y,null,i4.get(aW.a6t(X)),X.w);
e.parent=this;this.Zb.appendChild(e.n)}}}};bX.prototype.aA$=function(){var E=this.P0.kQ,y=this.i5;if(E.length==0){alert("No Actions Present");
return}if(y.length==1){alert("Select an Action first");return}if(this.P0.lu!=null){alert("You can not apply actions while recording actions");
return}if(y.length==1)y.push(0);var c=E[y[0]],e=c.tP[y[1]],p=new iU(S.E.M,!0);p.data={d:S.H.ln,Gm:[e.xs,c.xs]};
this.T(p)};bX.Hd=function(E,y,c,e,p){dT.call(this);this.x5=E;var H=this.x5.length-1;this.n=v.t("div","layeritem"+(JSON.stringify(E)==y?" selected":""));
this.$L=v.t("div","head");this.n.appendChild(this.$L);this.$L.setAttribute("style","height:24px");this.ce=v.t("div","headL");
this.$L.appendChild(this.ce);if(H!=0){var Z=v.t("div");Z.style.width=H*20+"px";this.ce.appendChild(Z)}if(c!=null){var X=this.adS=v.t("div",c?"open":"closed");
this.ce.appendChild(X)}else{var b=this.auF=v.t("div","cmark");b.setAttribute("style","background-size:12px 12px; opacity:"+(p?1:.3));
this.ce.appendChild(b)}if(H==0){var k=v.t("div","folder");this.ce.appendChild(k)}var D=this.NI=v.t("div","label");
D.textContent=e;this.ce.appendChild(D);this.n.addEventListener("mouseup",this.Zt.bind(this),!1)};bX.Hd.prototype=new dT;
bX.Hd.prototype.Zt=function(E){if(E.detail==1&&E.target.tagName.toLowerCase()!="input"){var y="sel";
if(E.target==this.adS)y="fold";if(E.target==this.auF)y="enab";var c=new iU(S.E.p,!0);c.data={d:y,x5:this.x5};
this.T(c)}else if(this.x5.length<3)var e=new aq.Rr(this.NI,this.ez.bind(this))};bX.Hd.prototype.ez=function(E){var y=new iU(S.E.p,!0);
y.data={d:"nchange",RK:E,x5:this.x5};this.T(y)};function f2(){aq.call(this,[3],!1,"---lrs/adj",aq.ZV.a3l)}f2.prototype=new aq("");
f2.prototype.zQ=function(){if(!v.Qj(this.fX)||this.kx)return;this.fX.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.kx=[];var N=0;for(var E in et.names){var y=new fr("<img src=\""+PIMG["adj/"+E]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,et.names[E]);
y.k("click",this.IP,this);this.kx.push(y);this.fX.appendChild(y.n);if(N==4||N==10)v.vY(this.fX);N++}this._()};
f2.prototype.Xy=function(){this.zQ()};f2.prototype.jH=function(){this.zQ()};f2.prototype._=function(){aq.prototype._.call(this);
if(this.kx==null)return;for(var N=0;N<this.kx.length;N++)this.kx[N]._()};f2.prototype.IP=function(E){var y=this.kx.indexOf(E.target),c=kr.uA()[y],e=new iU(c.K,!0);
e.data=c.C;this.T(e)};function hi(){aq.call(this,[12,22],!1,null,aq.ZV.G5);this.Zb=v.t("div","padded");
this.P0=null;this.fX.appendChild(this.Zb);this.VN=new a5(null,17.7,10);this.VN.parent=this;this.VN.k(S.E.p,this.bw,this);
this.Zb.appendChild(this.VN.ks)}hi.prototype=new aq("");hi.prototype.bw=function(E){var y=this.VN.h(),c=new iU(S.E.v,!0);
c.data={d:"setstl",b:y.mp};c.f=F.Mt;this.T(c);c.data={d:"confirm"};this.T(c)};hi.prototype.mh=function(E,y){this.P0=E;
this.HB()};hi.prototype.HB=function(){var E=this.P0;if(E==null)return;this.VN.Vd([E.EX,E.gS]);this.VN.Cl()};
hi.prototype.Xy=function(){this.HB()};hi.prototype.jH=function(){this.HB()};var iT=function(){function E(){aq.call(this,[9,3],!1,"---panels/brush",aq.ZV.WN);
this.CG=null;this.P0=null}E.prototype=new aq("");E.prototype.zQ=function(){var p=v.t("div","");this.fX.appendChild(p);
this.dj=v.t("div","bordered cell");this.dj.setAttribute("style","width:10em; height:28.5em;");p.appendChild(this.dj);
this.Bx=[];this._S=null;this.WS=[];var H=this.a31.bind(this);this.oM=[new c("basic"),new c("useTipDynamics"),new c("useScatter"),new c("useColorDynamics"),new c("usePaintDynamics")];
for(var N=0;N<this.oM.length;N++){var Z=v.t("div","listitem"),X=this.oM[N],k=null;X.parent=this;X.k("brushchange",this.a8Q,this);
var b=X.uS;if(N==0){this._S=new bU(b);Z.appendChild(this._S.n)}else{k=new b8(b,!1);k.k(S.E.p,this.aCB,this);
Z.appendChild(k.n)}this.WS.push(k);this.dj.appendChild(Z);this.Bx.push(Z);Z.addEventListener("click",H,!1)}this.q3=v.t("div","cell padded");
p.appendChild(this.q3);this.setItem(0);this.V$=v.t("canvas");this.V$.height=10;p.appendChild(this.V$);
this.kA=this.V$.getContext("2d");this.Ur()};E.prototype.Cl=function(p,H){if(this.Pf==p)return;this.Pf=p;
this.T4=H;this.Ur()};E.prototype.jH=function(){if(!v.Qj(this.fX))return;if(this.dj){this.Ur();return}this.zQ();
this._();this.mh(this.P0,iL.Dg)};E.prototype._=function(){aq.prototype._.call(this);if(this.dj==null)return;
this._S._();for(var N=1;N<this.WS.length;N++)this.WS[N]._();for(var N=0;N<this.oM.length;N++)this.oM[N]._()};
E.prototype.a8Q=function(p){var H=this.oM.indexOf(p.currentTarget),Z=JSON.parse(JSON.stringify(this.oM[H].CG)),X=new iU(S.E.M,!0);
X.data={d:S.H.z2,Wp:iL.xC,CG:Z};this.T(X)};E.prototype.aCB=function(p){this.a0C(this.WS.indexOf(p.currentTarget),p.currentTarget.MW())};
E.prototype.a31=function(p){var N=this.Bx.indexOf(p.currentTarget);if(p.target.tagName.toLowerCase()=="input")return;
if(this.WS[N]&&!this.WS[N].MW()){this.WS[N].Fw();this.a0C(N,!0)}this.setItem(N)};E.prototype.a0C=function(p,H){this.oM[p].a8P(H)};
E.prototype.setItem=function(p){for(var N=0;N<this.oM.length;N++)this.Bx[N].className="listitem";if(this.q3.firstChild)this.q3.removeChild(this.q3.firstChild);
this.Bx[p].className="listitem selected";this.q3.appendChild(this.oM[p].n)};E.prototype.mh=function(p,H){this.P0=p;
if(this.dj==null)return;for(var N=0;N<this.oM.length;N++)this.oM[N].mh(p,H);if(H==iL.xC||H==iL.Dg){this.CG=p.cT.LU;
this.Ur()}if(H==iL.g6)this.Ur()};E.prototype.Ur=function(){if(this.CG)this.enable();else{this.disable();
return}if(!v.Qj(this.fX))return;var p=this.P0;for(var N=0;N<this.oM.length;N++){this.oM[N].c(this.CG);
if(this.WS[N])this.WS[N].c(this.oM[N].MW())}var H=JSON.parse(JSON.stringify(this.CG));H.Brsh.v.Dmtr.v.val=Math.min(H.Brsh.v.Dmtr.v.val,50);
v.Uh(this.V$,this.Pf,80);var Z=new ir(0,0,this.V$.width,this.V$.height),X=this.P0.cT,b=new b1(H,X?X.b6:null,X?X.XQ:null,{Mz:1},p.x4,p.YO,Z,null,0),k=Z.e/2,D=Z.m-k*2;
b.moveTo(k,k);for(var N=0;N<=D;N+=10)b.lineTo(k+N,k+20*Math.sin(2*Math.PI*N/D));b.finish();var j=this.kA.createImageData(Z.m,Z.e);
d.E6(b.mn(),b.EK(),j.data,Z);this.kA.putImageData(j,0,0)};function y(p){dT.call(this);p=p.split(".")[0];
this.d5=p;var H=this.n=v.t("span"),Z=["Off","Fade"];Z.push(p=="angleDynamics"?"Direction":"Pen Pressure");
var X=this.To=new a_("Control",Z);X.k(S.E.p,this.YZ,this);H.appendChild(X.n);var b=this.aq_=new jm(null,0,100,null,null,null,!0);
b.c(50);b.k(S.E.p,this.YZ,this)}y.prototype=new dT;y.prototype.c=function(p){p=p<2?p:2;this.To.c(p);
this.HB()};y.prototype.h=function(){var p=this.To.h(),H=this.d5;p=p<=1?p:H=="angleDynamics"?6:2;return p};
y.prototype.YZ=function(p){this.HB();p.target=p.currentTarget=this;this.T(p)};y.prototype.HB=function(p){this.aq_.U0(this.To.h()==1)};
function c(p){dT.call(this);this.n=v.t("div");this.CG=null;var H=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(p);
this.uS=[[15,0],[15,1],[15,2],[15,3],"Transfer"][H];this.KE=p;this.Jj={};this.ani=null;var Z=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][H];
for(var N=0;N<Z.length;N++){var X=Z[N],b;if(X=="--br"){b=new br;this.n.appendChild(b.ks.firstChild)}else if(X=="Brsh.Dmtr")b=new dX([12,14,0],1,1e3," px",0,!0);
else if(X=="Brsh.Angl")b=new dX([12,15],0,359," \xB0");else if(X=="Brsh.Rndn")b=new dX([12,16],0,100," %");
else if(X=="Brsh.Hrdn")b=new dX([12,17],0,100," %");else if(X=="Brsh.Spcn")b=new dX([12,18],1,300," %");
else if(X=="szVr.jitter")b=new dX([15,4,0],0,100,"%");else if(X=="minimumDiameter")b=new dX([15,4,1],0,100,"%");
else if(X=="angleDynamics.jitter")b=new dX([15,4,2],0,100,"%");else if(X.endsWith("bVTy"))b=new y(X);
else if(X.endsWith("fStp"))b=new jm(null,0,100,null,null,null,!0);else if(X=="roundnessDynamics.jitter")b=new dX([15,4,3],0,100,"%");
else if(X=="minimumRoundness")b=new dX([15,4,4],1,100,"%");else if(X=="scatterDynamics.jitter")b=new dX([15,5,0],0,1e3," %");
else if(X=="Cnt")b=new dX([15,5,1],1,20);else if(X=="countDynamics.jitter")b=new dX([15,5,2],0,100," %");
else if(X=="clVr.jitter")b=new dX([15,6,0],0,100," %");else if(X=="H")b=new dX([15,6,1],0,100," %");
else if(X=="Strt")b=new dX([15,6,2],0,100," %");else if(X=="Brgh")b=new dX([15,6,3],0,100," %");else if(X=="opVr.jitter")b=new dX("Opacity Jitter",0,100," %");
else if(X=="prVr.jitter")b=new dX("Flow Jitter",0,100," %");else throw X;this.Jj[X]=b;b.parent=this;
b.k(S.E.p,this.YZ,this)}}c.prototype=new dT;c.prototype.a6y=function(){this.T(new iU("brushchange"))};
c.prototype.c=function(p){this.CG=JSON.parse(JSON.stringify(p));this.n.className=this.MW()?"":"disabled";
this.Ur()};c.prototype._=function(){for(var p in this.Jj)this.Jj[p]._()};c.prototype.MW=function(){return!0};
c.prototype.mh=function(p,H){if(H==iL.WN||H==iL.Dg){var Z=this.Jj["--br"];if(Z)Z.Vd(p.cT)}};c.prototype.YZ=function(p){var H=p.target,Z=this.Jj,X;
for(var b in Z)if(Z[b]==H)X=b;if(X=="--br"){var k=new iU(S.E.M,!0);k.data={d:S.H.z2,Wp:iL.xC,CG:H.h()};
this.T(k)}else{var D=e(this.CG,X),j=H.h();if(D){if(X.endsWith("bVTy")||X.endsWith("fStp")||X=="Cnt")D.v=j;
else D.v.val=j;this.a6y()}}};c.prototype.Ur=function(){var p=this.CG,H=p.Brsh.v.classID,Z=this.Jj,X=H!=this.ani;
this.ani=H;if(X){v.Vz(this.n);for(var b in Z){if(H!="computedBrush"&&H!="sampledBrush"&&b=="Brsh.Rndn")continue;
if(H!="computedBrush"&&b=="Brsh.Hrdn")continue;var k=Z[b],D=k.n;if(b=="--br"){D=k.DX.n;D.style.width="auto"}this.n.appendChild(D)}}for(var b in Z){if(b=="--br")continue;
var j=e(p,b),g;if(j){if(b.endsWith("bVTy")||b.endsWith("fStp")||b=="Cnt")g=j.v;else g=j.v.val;Z[b].c(g);
if(b.endsWith("fStp"))Z[b].U0(e(p,b.split(".")[0]+".bVTy").v==1)}}};c.prototype.MW=function(){var p=this.KE;
return p=="basic"?!0:this.CG[p].v};c.prototype.a8P=function(p){var H=this.KE;if(H=="basic")return;this.CG[H].v=p;
bj.o$.auS(this.CG);this.a6y()};function e(p,H){var Z=H.split(".");p=p[Z[0]];for(var N=1;N<Z.length;N++){if(p==null)return p;
p=p.v[Z[N]]}return p}return E}();function iH(){aq.call(this,[9,0],!1,"---panels/history",aq.ZV.yW);this.fX.setAttribute("style","min-width:200px;");
this.hB=v.t("div","hpbody scrollable");this.hB.style.height="160px";this.fX.appendChild(this.hB);this.afM=-1;
this.ON=[];this.NB="";this.P9=new el([{name:"Clear History"}],[{K:S.E.v,f:F.yW,C:{d:"h_clear"}}])}iH.prototype=new aq("");
iH.prototype.v6=function(){return this.P9};iH.prototype.Cl=function(E,y){this.jH()};iH.prototype.Xy=function(E){if(E==null){v.Vz(this.hB);
this.NB="";return}v.Vz(this.hB);var y=0;for(var N=0;N<E.history.length;N++)if(N<=E.PT&&!E.history[N].gu)y=N;
for(var N=0;N<E.history.length;N++){var c=E.history[N];if(c.gu)continue;var e=new bf(c,N,y);e.parent=this;
this.hB.appendChild(e.n);this.ON.push(e)}if(E.PT==E.history.length-1)this.jH()};iH.prototype.jH=function(){this.hB.scrollTop=this.hB.scrollHeight};
iH.prototype._=function(){aq.prototype._.call(this);for(var N=0;N<this.ON.length;N++)this.ON[N]._()};
function bf(E,N,y){dT.call(this);this.index=N;this.n=v.t("div",N==y?"listitem selected":"listitem");
this.ZD=E.name;this._();if(N>y)this.n.style.opacity=.4;this.n.addEventListener("click",this.yl.bind(this),!1)}bf.prototype=new dT;
bf.prototype._=function(){this.n.textContent=i4.get(this.ZD)};bf.prototype.yl=function(E){if(this.index==this.parent.afM)return;
this.tH({d:"h_itemchange",index:this.index})};bf.prototype.tH=function(E){var y=new iU(S.E.v,!0);y.data=E;
y.f=F.yW;this.T(y)};function fU(){aq.call(this,[9,10],!1,"---panels/histogram",aq.ZV.af1);var E=v.t("div","padded");
this.fX.appendChild(E);this.nw=new aD(256,!0);E.appendChild(this.nw.n);this.hQ=null}fU.prototype=new aq("");
fU.prototype.Xy=function(E){this.hQ=E;this.HB()};fU.prototype.HB=function(){var E=this.hQ;if(!v.Qj(this.fX))return;
if(E==null||E.g.length==0){this.nw.c(d.KQ(d.R(4)));return}var y=E.eA(),c=new ir(0,0,E.m,E.e),e=c.P();
if(E.i){var p=E.i.rect,H=d.R(p.P()*4);d.E6(y,c,H,p);d.pe(E.i.channel,H);y=H;c=p;var Z=E.i.channel;e=0;
for(var N=0;N<Z.length;N++)e+=Z[N];e=Math.round(e/255)}var X=d.KQ(y);X[0][255]+=3*(e-X[5]);for(var N=1;
N<4;N++)X[N][255]+=e-X[5];this.nw.c(X,e)};fU.prototype.mh=function(E,y){this.nw.Gd(i3.p8[E.c6]["--text-color"])};
fU.prototype._=function(){aq.prototype._.call(this);this.nw._()};fU.prototype.jH=function(){this.HB()};
function bQ(){aq.call(this,[9,8],!1,"---adj/clrL",aq.ZV.apH);this.Zb=v.t("div","padded");this.fX.appendChild(this.Zb);
this.rG=new iJ(10);this.Zb.appendChild(this.rG.n);this.GI=new kj;this.GI.parent=this;this.Zb.appendChild(this.GI.ks);
this.GI.ks.style.marginTop="6px";this.rG.k(S.E.p,this.a3B,this);this.GI.k(S.E.p,this.a3B,this)}bQ.prototype=new aq("");
bQ.prototype.a3B=function(E){var y;if(E.target==this.rG)y=this.rG.h();else{var c=this.GI.h();y=Math.round(c.Z)<<16|Math.round(c.D)<<8|Math.round(c.J)}var e=new iU(S.E.M,!0);
e.data={d:S.H.z2,Wp:iL.g6,s6:0,b:y};this.T(e)};bQ.t5=function(E,y){var c=y==iL.Dg,e=E.Jo,p=E.MY,H=p.strokeStyleContent.v,Z=null;
if((y==iL.d9||c)&&e.uC==1){Z=d.L.yd(e.f3.Clr.v);Z=Z.Z<<16|Z.D<<8|Z.J}if((y==iL.St||c)&&p.strokeEnabled.v&&H.classID=="solidColorLayer"){Z=d.L.yd(H.Clr.v);
Z=Z.Z<<16|Z.D<<8|Z.J}if(y==iL.g6||c)Z=E.x4;return Z};bQ.prototype.mh=function(E,y){var c=E.x4,e=y==iL.Dg,p=bQ.t5(E,y);
if(p!=null){this.rG.c(p);this.GI.c({Z:p>>>16&255,D:p>>>8&255,J:p>>>0&255,y6:"Color #"+d.ly(p)})}if(y==iL.iA||e){var H=E.ahc;
this.GI.Vd(H)}};function c8(){aq.call(this,[12,72],!1,"---adj/mixr",aq.ZV.auc);this.Sv=null;this.qX=null;
this.hB=v.t("div","lpbody scrollable");this.hB.style.marginTop="4px";this.GB=v.t("div","lpfoot");this.fX.appendChild(this.hB);
this.fX.appendChild(this.GB);this.HS=[];this.k("click",this.qI,this);this.En=[];c8.H5([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.En,this.GB,this.GY.bind(this),this.vw.bind(this));
this.P9=new el([{name:"Merge Channels",hi:!0}],[{K:S.E.M,C:{d:S.H.Q5,ym:"mergechannels"}}])}c8.prototype=new aq("");
c8.prototype.v6=function(){return this.P9};c8.H5=function(E,y,c,e,p){for(var N=0;N<E.length;N++){var H=new fr("W",!1,E[N]);
y.push(H);v.Qp(H.n,e);c.appendChild(H.n);var Z=H.n;Z.addEventListener("drop",p,!1);Z.addEventListener("dragover",function(X){X.preventDefault()},!1);
Z.addEventListener("dragenter",v.Ds,!1)}};c8.Qo=function(E,y){for(var N=0;N<E.length;N++)if(E[N].n==y.currentTarget)return N};
c8.prototype.GY=function(E){var y=c8.Qo(this.En,E);if(y==0)this.T(bl.BD(!0,null,E));else{y--;var c=new iU(S.E.on,!0),e={classID:"null"};
if(y==0)e.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(y==1)e.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else e.null=aW.G6("Chnl",!0);c.data={tT:["duplicate","make","delete"][y],hG:e};this.T(c)}};c8.prototype.vw=function(E){var y=c8.Qo(this.En,E);
if(y==2){var c=new iU(S.E.on,!0),e={classID:"null"};e.null=aW.G6("Chnl",!0);c.data={tT:"duplicate",hG:e};
this.T(c)}else this.GY(E)};c8.prototype.LX=function(N){var E=this.HS,y=E[N];if(y==null){var c=v.t("canvas");
y=c.getContext("2d");E.push(y)}return y};c8.prototype.qI=function(E){var y=this.Sv.slice(0),c=E.data.h2,e=y[0]+y[1]+y[2],p=this.qX;
if(-5<c&&c<0){var H=-c-1;if(E.data.B0){if(H==0)y=e==3?[0,0,0]:[1,1,1];else{if(y[H-1]==0)y[H-1]=1;else if(!0)y[H-1]=0}}else{if(H==0)y=[1,1,1];
else{y=[0,0,0];y[H-1]=1}for(var N=0;N<p.cB.length;N++)p.cB[N].bY=!1;p.dL=[]}var Z=new iU(S.E.v,!0);Z.f=F.G3;
Z.data={d:"setcls",V:y};this.T(Z);return}if(-1<c){var X=p.B[c],b=X.p6==1?X.Nb():X.kP(p).F;if(E.data.B0)b.bY=!b.bY;
else{for(var N=0;N<p.cB.length;N++)p.cB[N].bY=!1;p.dL=[]}}else{var D=-c-5,b=p.cB[D];if(E.data.B0)b.bY=!b.bY;
else{for(var N=0;N<p.cB.length;N++)p.cB[N].bY=!1;b.bY=!0;p.dL=[D];if(e!=0){var Z=new iU(S.E.v,!0);Z.f=F.G3;
Z.data={d:"setcls",V:[0,0,0]};this.T(Z)}}}p.Ea=p.hb=!0};c8.prototype.jH=function(){this.VX()};c8.prototype.Xy=function(E){this.qX=E;
this.VX()};c8.prototype.VX=function(){var E=this.qX,y=this.hB,R=4;v.Vz(y);if(E==null||!v.Qj(y))return;
var c=E.m,e=E.e,p=new ir(0,0,c,e),H=this.Sv=E.Q.V.slice(0),Z=H[0]+H[1]+H[2],X=Math.round(34*v.k1()),b=X;
if(c>e)b=Math.round(b*e/c);else X=Math.round(X*c/e);var k=["RGB"].concat(et.gY);for(var N=0;N<4;N++){var D=this.LX(N);
d.fS.a8(D,X,b,p,E.eA(),p,!1,N==0?null:N-1);var j=N==0?Z==3:H[N-1]==1,g=new bl(-1-N,!0,!0,D,k[N],j,j);
g.parent=this;y.appendChild(g.n);v.h9(D.canvas)}for(var N=0;N<E.g.length;N++){var t=E.B[E.g[N]],w=t.p6;
if(w!=1&&w!=3)continue;var B=w==1?t.Nb():t.kP(E).F,D=this.LX(R+N);R++;d.fS.xp(D,X,b,p,B);var g=new bl(E.g[N],!0,!0,D,t.getName()+(w==1?"":" Filter")+" Mask",!0,B.bY);
g.parent=this;y.appendChild(g.n);v.h9(D.canvas)}for(var N=0;N<E.cB.length;N++){var B=E.cB[N],D=this.LX(R+N);
d.fS.xp(D,X,b,p,B);var g=new bl(-5-N,!0,B.name=="Quick Mask",D,B.name,E.dL.indexOf(N)!=-1,B.bY,F.sh,{d:jN.Me,s6:"rnm",h2:N});
g.parent=this;y.appendChild(g.n);v.h9(D.canvas)}};c8.prototype.Cl=function(E,y){this.hB.style.height=y-30-4+"px";
this.hB.style.width=E+"px"};c8.prototype._=function(){aq.prototype._.call(this);this.VX();c8.lD(this.En,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
c8.lD=function(E,y,c){var y=aN.Ma(y,null,"miniscale");for(var N=0;N<E.length;N++)E[N].WO(y[N],c?c[N]:null)};
function bl(E,y,c,e,p,H,Z,X,b){dT.call(this);this.n=v.t("div");this.avA=E;this.auq=y;this.kA=e;this.afC=X;
this.ahF=b;this.$L=v.t("div",H?"head selected":"head");this.$L.setAttribute("style","height: "+40+"px");
var k=v.t("div","headL"),D=v.t("div","headR"),j=15;this.n.appendChild(this.$L);this.$L.appendChild(k);
this.$L.appendChild(D);this.FQ=v.t("div","eye");if(1<v.k1()&&v.k1()<1.5)j=j/v.k1();this.FQ.setAttribute("style","background-size: "+j+"px "+j+"px;");
this.FQ.style.opacity=Z?1:.2;if(y)k.appendChild(this.FQ);this.nV=v.t("div","thumb");if(e)this.nV.appendChild(e.canvas);
k.appendChild(this.nV);this.Ob=v.t("div","label");if(c)this.Ob.style.fontStyle="italic";this.Ob.textContent=i4.get(p);
k.appendChild(this.Ob);var g=this.$L;g.setAttribute("draggable","true");g.addEventListener("dragstart",function(R){R.stopPropagation();
R.dataTransfer.setData("Text","hello")},!1);g.addEventListener("drop",v.Ds,!1);v.Qp(this.$L,this.aDq.bind(this));
if(!c)this.$L.addEventListener("mouseup",this.ass.bind(this),!1)}bl.prototype=new dT;bl.prototype.ez=function(E){var y=new iU(S.E.v,!0);
y.f=this.afC;y.data=this.ahF;y.data.name=E;this.T(y)};bl.prototype.aDq=function(E){var y=E.ctrlKey||E.metaKey,c=this.avA;
if(y&&E.target==this.kA.canvas){this.T(bl.BD(this.auq,c,E))}else{var e=new iU("click",!0);e.data={h2:c,B0:E.target==this.FQ,mU:y};
this.T(e)}};bl.prototype.ass=function(E){if(E.detail==2&&E.target==this.Ob){var y=new aq.Rr(this.Ob,this.ez.bind(this))}};
bl.BD=function(E,y,c){var e=0;if(c.shiftKey)e++;if(c.altKey)e+=2;var p=new iU(S.E.v,!0);p.f=F.mW;if(E){if(-5<y&&y<0){p=new iU(S.E.on,!0);
p.data=F.XY.jK(e,["RGB","Rd","Grn","Bl"][-1-y])}else p.data={d:"fromchannel",Gm:[y,0,e]}}else p.data={d:"frompath",Gm:[y,0,e]};
return p};function dz(){aq.call(this,[8,9],!1,"---panels/paths",aq.ZV.t3);this.Sv=null;this.qX=null;
this.hB=v.t("div","lpbody scrollable");this.hB.style.marginTop="4px";this.GB=v.t("div","lpfoot");this.fX.appendChild(this.hB);
this.fX.appendChild(this.GB);this.fX.addEventListener("click",this.aC8.bind(this),!1);this.HS=[];this.k("click",this.qI,this);
this.En=[];c8.H5(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.En,this.GB,this.GY.bind(this),this.vw.bind(this))}dz.prototype=new aq("");
dz.prototype.GY=function(E,y){var c=c8.Qo(this.En,E),e;if(c<2){if(c==1&&E.altKey){e=new iU(S.E.M,!0);
e.data={d:S.H.Q5,ym:"strokepath"}}else{e=new iU(S.E.on,!0);e.data=F.ZN.OU(c==0?null:"PbTl")}}else if(c==2)e=bl.BD(!1,null,E);
else if(c==3){e=new iU(S.E.on,!0);e.data={tT:"make",hG:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(c>3){var e=new iU(S.E.v,!0);
e.f=F.Ar;e.data={d:"pathedit",s6:["new","del"][c-4],acI:y}}this.T(e)};dz.prototype.vw=function(E){this.GY(E,!0)};
dz.prototype.LX=function(N){var E=this.HS,y=E[N];if(y==null){var c=v.t("canvas");y=c.getContext("2d");
E.push(y)}return y};dz.prototype.aC8=function(E){if(E.target==this.hB){var y=this.qX;y.zG=[];y.RT=[];
y.hb=!0;y.Ea=!0}};dz.prototype.qI=function(E){var y=E.data.h2,c=this.qX,e=E.data.mU,p=y,H=c.RT,Z=c.zG;
if(y<0){p=-1-y;H=c.zG;Z=c.RT}if(e){var X=H.indexOf(p);if(X==-1)H.push(p);else H.splice(X,1)}else{while(H.length!=0)H.pop();
while(Z.length!=0)Z.pop();H.push(p)}c.hb=!0;c.Ea=!0};dz.prototype.jH=function(){this.VX()};dz.prototype.Xy=function(E){this.qX=E;
this.VX()};dz.prototype.VX=function(){var E=this.qX,y=this.hB;v.Vz(y);if(E==null||!v.Qj(y))return;var c=E.m,e=E.e,p=new ir(0,0,c,e),H=this.Sv=E.Q.V.slice(0),Z=H[0]+H[1]+H[2],X=Math.round(34*v.k1()),b=X;
if(c>e)b=Math.round(b*e/c);else X=Math.round(X*c/e);var k=E.sA(),D=k[0];for(var N=0;N<D.length;N++){var j=D[N],g=this.LX(N);
d.fS.a15(g,X,b,p,j.add.vmsk);var R=new bl(j.h2,!1,j.h2>=0,g,j.name,k[1].indexOf(N)!=-1,!1,F.Ar,{d:"pathedit",s6:"rnm",h2:j.h2});
R.parent=this;y.appendChild(R.n);v.h9(g.canvas)}};dz.prototype.Cl=function(E,y){this.hB.style.height=y-30-4+"px";
this.hB.style.width=E+"px"};dz.prototype._=function(){aq.prototype._.call(this);this.VX();c8.lD(this.En,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function kt(E){aq.call(this,[9,E?4:5],!1,"---panels/"+(E?"character":"paragraph"),E?aq.ZV.akz:aq.ZV.a4G);
this.fX.setAttribute("style","min-width:240px;");this.D8=E;this.Kb=null;this.P0=null}kt.prototype=new aq("");
kt.prototype.zQ=function(){this.Kb=new d5;var E=this.Kb,y=this.fX;E.parent=this;if(this.D8){var c=v.t("div","marged");
y.appendChild(c);c.appendChild(E.h4.n);y.appendChild(v.t("hr"));var e=v.t("div","marged");y.appendChild(e);
e.appendChild(E.aE.n);e.appendChild(E.rO.n);var p=v.t("div","marged");y.appendChild(p);p.appendChild(E.r_.n);
p.appendChild(E.NN.n);y.appendChild(v.t("hr"));var H=v.t("div","marged");y.appendChild(H);H.appendChild(E.IQ.n);
H.appendChild(E.Vj.n);var Z=v.t("div","marged");y.appendChild(Z);Z.appendChild(E.aN.n);Z.appendChild(E.N0.n);
Z.appendChild(E.a_.n);y.appendChild(v.t("hr"));var X=v.t("div","marged");y.appendChild(X);X.appendChild(E.Ld.n);
X.appendChild(E.iD.n);X.appendChild(E.sf.n);X.appendChild(E.hM.n);X.appendChild(E.UQ.n);X.appendChild(E.Lj.n);
X.appendChild(E.c3.n);X.appendChild(E.sK.n)}else{var c=v.t("div","marged");y.appendChild(c);c.appendChild(E.T7.n);
c.appendChild(E.Qr.n);c.appendChild(E.U_.n);c.appendChild(E.a95.n);c.appendChild(E.aus.n);c.appendChild(E.aAs.n);
c.appendChild(E.asD.n);y.appendChild(v.t("hr"));var e=v.t("div","marged");y.appendChild(e);e.appendChild(E.bc.n);
e.appendChild(E.wz.n);e.appendChild(E.A2.n);y.appendChild(v.t("hr"));var p=v.t("div","marged");y.appendChild(p);
p.appendChild(E.Dz.n);p.appendChild(E.VT.n);p.appendChild(E.Ve.n);p.appendChild(E.Rc.n)}};kt.prototype.jH=function(){if(!v.Qj(this.fX))return;
if(this.Kb==null){this.zQ();var E=this.P0;if(E)this.Kb.c(E.c2,E.UG,E.ua);this.Kb._()}};kt.prototype._=function(){aq.prototype._.call(this);
if(this.Kb)this.Kb._()};kt.prototype.mh=function(E,y){this.P0=E;if(y!=iL.Dg&&y!=iL.R3&&y!=iL.uV&&y!=iL.K8)return;
if(this.Kb)this.Kb.c(E.c2,E.UG,E.ua)};function ar(E){aq.call(this,E?"Character Styles":"Paragraph Styles",!1,null,E?aq.ZV.a78:aq.ZV.avr);
this.fX.setAttribute("style","min-width:240px;");var y=this.yB=v.t("div","scrollable");this.fX.appendChild(y);
y.setAttribute("style","max-height:400px;");this.QA=null;this.a2I=null;this.yC=null;this.D8=E?0:1;this.hQ=null;
this.P0=null;this.acm=ar.prototype.eY.bind(this)}ar.prototype=new aq("");ar.prototype.Xy=function(E,y,c){this.hQ=E;
this.P0=c;this.VX()};ar.prototype.VX=function(){var E=this.yB,r=null;v.Vz(E);if(!v.Qj(this.fX))return;
var y=this.hQ,c=this.P0;if(y==null||c==null)return;var e=c.c2,p=this.QA=[],H={},Z=this.a2I=[],X=this.yC=[],b={},k=this.D8,D=k==0?"Style":"Paragraph";
for(var N=0;N<y.B.length;N++){var j=y.B[N].add.TySh;if(j==null)continue;var g=j.Ax,R=j.u.ul(),t=g.ResourceDict.FontSet,w=g.EngineDict[D+"Run"],B=w.RunArray;
for(var $=0;$<B.length;$++){var o=ar.an8(B[$][D+"Sheet"][k==0?"StyleSheetData":"Properties"],k,t,Z,b,R),T=JSON.stringify(o);
if(H[T]==null){H[T]=!0;p.push(o)}}}var i=k==0?function(dF,s){return s.FontSize-dF.FontSize}:function(dF,s){return dF.Justify-s.Justify};
p.sort(i);if(k==0){var I=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],M=I.length,J=new Array(M),P=1e9,n=0,W=0;
J.fill(1e9);for(var N=0;N<p.length;N++){var x=p[N],t=x.FontSize;P=Math.min(P,t);n=Math.max(n,t);var L=x.FillColor.Values;
for(var $=0;$<M;$++){var u=I[$],C=L[1]-u[1],h=L[2]-u[2],A=L[3]-u[3];J[$]=Math.min(J[$],C*C+h*h+A*A)}}for(var $=0;
$<M;$++)if(J[$]>W){W=J[$];r=I[$]}}var Q=ar.an8(k==0?e.na:e.dV,k,e.GF,Z,b,1),l=JSON.stringify(Q);for(var N=0;
N<p.length;N++){var O=v.t("div");E.appendChild(O);X.push(O);O.addEventListener("click",this.acm,!1);
var x=p[N],z=JSON.stringify(x)==l;if(k==0){var a=Z[x.Font].Name,m=a.toLowerCase(),q=m.indexOf("bold")!=-1||m.indexOf("-black")!=-1,K=m.indexOf("italic")!=-1||m.indexOf("oblique")!=-1||m.endsWith("-it"),U=m.indexOf("light")!=-1,t=x.FontSize,L=x.FillColor.Values,f=r;
if(z){f=f.slice(0);for(var $=1;$<4;$++)f[$]*=.8}var Y=n==P?.5:(t-P)/(n-P),e=10+16*Y,G="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+e+"px; color:"+CSS.Z9({Z:L[1]*255,D:L[2]*255,J:L[3]*255})+"; border-bottom:1px solid grey; line-height:"+38+"px; background-color:"+CSS.Z9({Z:f[1]*255,D:f[2]*255,J:f[3]*255})+";";
if(q)G+=" font-weight:bold;";if(K)G+=" font-style:italic;";if(U)G+=" font-weight:lighter;";O.setAttribute("style",G);
var V=v.t("span");O.appendChild(V);V.setAttribute("style","display:inline-block;  width:"+(n>99?50:40)+"px;  text-align:right;  margin-right:5px;");
V.textContent=Math.round(t);V=v.t("span");O.appendChild(V);V.setAttribute("style","display:inline-block;  width:130px; ");
V.textContent=a}}};ar.prototype.eY=function(E){var y=JSON.parse(JSON.stringify(this.P0.c2)),N=this.yC.indexOf(E.currentTarget),c=this.QA[N];
for(var e in c)if(e!="Font")y.na[e]=c[e];gV.Wn(y,this.a2I[c.Font].Name);console.log(y);var p=new iU(S.E.M,!0);
p.data={d:S.H.z2,Wp:iL.R3,c2:y};this.T(p);var p=new iU(S.E.v,!0);p.f=F.IB;p.data={d:"updateStyles"};
this.T(p)};ar.an8=function(E,y,c,e,p,H){var Z=y==0?["Font","FontSize","FillColor"]:[],X={};for(var b=0;
b<Z.length;b++)X[Z[b]]=E[Z[b]];if(y==0){if(X.Font!=null){var k=c[X.Font].Name;if(p[k]==null){p[k]=e.length;
e.push(c[X.Font])}X.Font=p[k]}X.FontSize=X.FontSize*H}return X};ar.prototype.jH=function(){if(!v.Qj(this.fX))return};
ar.prototype._=function(){aq.prototype._.call(this)};ar.prototype.mh=function(E,y){this.P0=E;this.VX()};
function bo(){aq.call(this,[9,13],!1,"---panels/glyphs",aq.ZV.afD);this.P0=null}bo.prototype=new aq("");
bo.prototype.zQ=function(){this.Kb=new d5;this.Kb.parent=this;this.abG=null;this.a9r=null;this.aJ=null;
this.age=null;this.hn=Math.round(290*v.k1());this.CE=45;this.a0Z=4;this.aqz=this.HB.bind(this);this.adN=0;
this.zi=new a_(null,["Hi","Hello"]);this.zi.k(S.E.p,this.HB,this);var E=this.f5=new fr("-",null,null,!0);
E.k("click",this.amx,this);var y=this.ah6=new fr("+",null,null,!0);y.k("click",this.amx,this);this.DX=new jR(!1);
this.DX.k(S.E.p,this.pH,this);this.DX.n.style.height=250+"px";var c=this.cF=v.t("div","form padded");
this.fX.appendChild(c);c.appendChild(this.Kb.h4.n);v.vY(c);c.appendChild(this.zi.n);c.appendChild(E.n);
c.appendChild(y.n);this.fX.appendChild(this.DX.n)};bo.prototype.Cl=function(E,y){if(this.Pf==E||this.Kb==null)return;
this.Pf=E;this.hn=Math.floor((E-13)*v.k1());this.cF.setAttribute("style","width:"+this.hn/v.k1()+"px;");
this.DX.n.style.height=y-73+"px";this.HB()};bo.prototype.pH=function(E){var y=this.aqx(),c=Math.round(this.hn/y);
y/=v.k1();var e=this.DX.h()[0]*c*this.a0Z,p=this.DX.aum();e+=Math.floor(p.y/y)*c;e+=Math.floor(p.x/y);
var H=this.aJ[this.zi.h()];if(e>=H.length)return;var Z=H[e],X=this.age[Z],b=new iU(S.E.v,!0);b.f=F.IB;
if(X.$h.length==0)b.data={d:"insertGlyph",b:e+1};else b.data={d:"insertText",b:String.fromCodePoint(X.$h[0])};
this.T(b)};bo.prototype.amx=function(E){var y=1.2;if(E.target==this.f5){if(this.CE>20)this.CE/=y}else{if(this.CE<100)this.CE*=y}this.HB()};
bo.prototype.jH=function(){this.mh(this.P0)};bo.prototype.mh=function(E,y){this.P0=E;if(!v.Qj(this.fX))return;
if(this.Kb==null)this.zQ();this.Kb.c(E.c2,E.UG,E.ua);var c=E.c2,e=c.na.Font,b=0;if(e==null)return;var p=c.GF[e].Name;
if(this.abG==p)return;var e=E.UG.Mu(p);if(e==null)return;var H=e.maxp.numGlyphs,Z=this.age=new Array(H);
for(var N=0;N<H;N++)Z[N]={$h:[]};var X=Date.now(),k=new Uint8Array(1048575);for(var N=0;N<1048575;N++){var D=Typr.U.codeToGlyph(e,N);
if(D!=0&&D<H){k[N]=1;if(Z[D].$h.length==0)b++;Z[D].$h.push(N)}}var j=bo.R1,g=[];for(var N=0;N<j.length;
N++)g.push([]);for(var D=1;D<H;D++){g[0].push(D);var R=Z[D].$h[0];if(R==null){continue}for(var t=1;t<j.length;
t++){var w=j[t].If;for(var N=0;N<w.length;N+=2)if(w[N]<=R&&R<=w[N+1]){g[t].push(D);break}}}this.aJ=g;
var B=[];for(var N=0;N<j.length;N++)B.push(j[N].jg+" ("+g[N].length+")");var $=this.zi.h();this.zi.Pt(B);
this.zi.c($);this.abG=p;this.a9r=e;this.HB()};bo.prototype.aqx=function(E){var y=Math.floor(this.hn/this.CE);
return Math.floor(this.hn/y)};bo.prototype.HB=function(E){if(!v.Qj(this.fX)||this.aJ==null)return;var y=this.aJ[this.zi.h()],c=y.length,e=this.a9r,p=Typr.U,H=this.aqx(),Z=H,X=Z*.8,b=Z*.8/e.head.unitsPerEm,k=[],D=Math.floor(this.hn/H),j=Math.ceil(c/D),g=this.a0Z,R=Date.now();
for(var t=0;t<j;t+=g){var w=v.t("canvas"),B=w.getContext("2d");w.width=H*D;w.height=Z*g;B.fillStyle="white";
B.fillRect(0,0,D*H,Z*g);for(var $=0;$<g;$++){for(var o=0;o<D;o++){var N=y[(t+$)*D+o];if(N==null)break;
var T=p.glyphToPath(e,N),i=d.A.n7(T.crds);B.fillStyle="#252525";if(i.tj()){var r=e.hmtx,I=[],x=170;for(var M in r)I.push(M);
var J=r[I[0]][N],P=r[I[1]][N],n=Math.max(J,P);T={cmds:"M L M L M L".split(" "),crds:[0,0,n,0,0,-x,0,x,n,-x,n,x]};
i.m=n;i.x=0;B.strokeStyle="rgba(0,255,0,1)"}B.beginPath();var L=o*H+(H-i.m*b)*.5-i.x*b,u=$*Z+X;B.translate(L,u);
B.scale(b,-b);p.pathToContext(T,B);B.scale(1/b,-1/b);B.translate(-L,-u);i.tj()?B.stroke():B.fill()}}B.beginPath();
for(var o=0;o<D;o++){var C=o*H+H+.5;B.moveTo(C,0);B.lineTo(C,Z*g)}for(var $=0;$<g;$++){var h=$*Z+Z+.5;
B.moveTo(0,h);B.lineTo(D*H,h)}B.strokeStyle="rgba(0,0,0,0.3)";B.stroke();k.push(w)}this.DX.jA(k,null,H*D,Z*g)};
bo.R1=[{jg:"All Glyphs"},{jg:"Basic Latin, Latin 1",If:[0,127,128,143]},{jg:"Latin Extended-A",If:[256,383]},{jg:"Latin Extended-B",If:[384,591]},{jg:"Punctuations",If:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{jg:"Greek",If:[880,1023]},{jg:"Cyrillic",If:[1024,1279]},{jg:"Hebrew",If:[1424,1535]},{jg:"Arabic",If:[1536,1791]},{jg:"Emoji",If:[9728,10095,127744,129535]}];
function c1(){aq.call(this,[13,0],!1,null,aq.ZV.g6);this.sM=0;this.aji=0;this.P0=null}c1.prototype=new aq("");
c1.prototype.zQ=function(){if(!v.Qj(this.fX)||this.oN)return;var E=v.t("div","flexrow padded");this.fX.appendChild(E);
var y=v.t("div");E.appendChild(y);this.oN=[];for(var N=0;N<2;N++){var c=new eX;this.oN.push(c);c.k("click",this.aAC,this);
y.appendChild(c.n)}this.zc=new i0(192);console.log("hsb picker");this.zc.k(S.E.p,this.Ag,this);this.WU=new aB;
this.WU.parent=this;E.appendChild(this.zc.n);this.mh(this.P0,iL.Dg)};c1.prototype.aAC=function(E){var y=E.currentTarget,c=this.oN.indexOf(y);
if(c==this.sM){this.WU.Bf(c)}else{this.sM=c;this.HB()}};c1.prototype.Ag=function(E){var y=this.zc.h();
this.zc.c(y);var c=Math.round(y.Z*255)<<16|Math.round(y.D*255)<<8|Math.round(y.J*255),e=new iU(S.E.M,!0);
e.data={d:S.H.z2,Wp:iL.g6,s6:this.sM,b:c};this.T(e);this.aji=Date.now()};c1.prototype.HB=function(){if(this.WU==null)return;
var E=this.P0,y=this.sM,c=[E.x4,E.YO];for(var N=0;N<2;N++){var e=this.oN[N],p=e.n.style;e.Gd(c[N]);if(N==y)p.filter="drop-shadow(0 0 1px #000000)"}var H=c[y];
if(Date.now()-this.aji>100)this.zc.c({Z:(H>>>16)/255,D:(H>>>8&255)/255,J:(H&255)/255})};c1.prototype.mh=function(E,y){this.P0=E;
if(this.WU==null)return;if(y==iL.Dg||y==iL.g6){this.WU.a5h(E.x4,E.YO);this.HB()}};c1.prototype.Xy=function(){this.zQ()};
c1.prototype.jH=function(){this.zQ();this.HB()};function gN(){aq.call(this,"CSS",!1,"---panels/css",aq.ZV.CSS);
this.hQ=null;var E=v.t("div","padded");this.fX.appendChild(E);this.$C=v.t("textarea");v.VM(this.$C);
E.appendChild(this.$C)}gN.prototype=new aq("");gN.prototype.Cl=function(E,y){if(this.Pf==E)return;this.Pf=E;
this.$C.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(E-10)+"px; height:"+(y-10)+"px")};
gN.prototype.Xy=function(E){this.hQ=E;this.HB()};gN.prototype.mh=function(E,y){if(y==iL.uV)this.HB()};
gN.prototype.HB=function(){var E=this.hQ;if(E==null||E.g.length==0)return;if(!v.Qj(this.fX))return;var y=E.B[E.g[0]],c=CSS.apg(y,E);
if(c.length!=0)this.$C.value=c.join(";\n")+";";else this.$C.value=""};gN.prototype.jH=function(){this.HB()};
function j5(){aq.call(this,"Text to Image",!1,null,aq.ZV.a33);this.hQ=null;var E=this.apJ=v.t("div","form padded labfxd");
this.fX.appendChild(E);this.aa1=["512x512","1024x1024"];this.Vn=0;this.by={};this.b7=[];this.iv=[];this.wr=null;
var y=["API Key","Generate"],c=this.yC=[[new bU("Stable Diffusion"),new aN(null,["Our key","Your own key"]),new d3],[new d3("Prompt",null,null,4),new b8("Inpaint the selection"),new fr([12,49],!0,null,!0)]];
c[1][0].c("goat riding a bike");for(var N=0;N<2;N++){var e=new fr(y[N]);this.b7.push(e);E.appendChild(e.n);
e.k("click",this.apf,this);var p=v.t("div");this.iv.push(p);var H=c[N];for(var Z=0;Z<H.length;Z++){H[Z].parent=this;
p.appendChild(H[Z].n);if(N==0)H[Z].k(S.E.p,this.ajl,this);if(N==1&&Z==2)H[Z].k("click",this.a8n,this)}}v.X$(E);
this.lQ=v.t("div");E.appendChild(this.lQ);this.nw=v.t("div","scrollable");this.iv[1].appendChild(this.nw);
var X=window.locStor.getItem("dezgo_api_key");if(X){X=X.split(",");c[0][1].c(parseInt(X[0]));c[0][2].c(X[1])}else c[0][2].c("your_api_key");
this.ajl();this.apf(null,1);j5.adm=j5.prototype.aAN.bind(this)}j5.prototype=new aq("");j5.prototype.a8n=function(){var E=this.yC,y=E[0],c=E[1],e=y[1].h()==0,p=y[2].h().trim(),H=c[0].h().trim(),Z=c[1].h(),X=j5.a72(e,p,H,Z?this.hQ:null);
if(X==1)v.Jn(this.fX,"disabled")};j5.adm=null;j5.rG=0;j5.ahK=null;j5.f7=!1;j5.Du=function(E){if(!b4.qc()){var y=Math.round((Date.now()-j5.rG)/1e3),c=20;
if(y<c){window.confirm("Wait "+(c-y)+" seconds or go Premium for the unlimited access ($5 a month, press \"Account\" at the top).");
return!1}}if(E&&j5.iX(E)==null){alert("Your area is too big, we support only smaller areas.");return!1}return!0};
j5.iX=function(E){var y=E.B[E.g[0]].rect,c=E.i.rect.fr(y),H=7;if(!j5.f7&&c.P()>1024*1024)return null;
var e=c.P()>512*512,p=512*512;if(e){p=1024*1024;H=15}while(!0){var Z=c.clone();Z.r4(1,1);Z=Z.fr(y);if(Z.P()>c.P()&&Z.P()<=p&&(!j5.f7||Math.max(Z.m,Z.e)<=1080))c=Z;
else break}var X=c.m&H;c.m-=X;c.x+=X>>>1;var b=c.e&H;c.e-=b;c.y+=b>>>1;return c};j5.a72=function(E,y,c,e,p,H){if(!navigator.onLine){alert("Get online to use this feature.");
return}if(E&&!j5.Du())return;var Z=j5.f7,X=e?j5.iX(e).P()>512*512:!0,b,k,D="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@59)-:68@@CUVOXZN[ch\\goxf</<5*.}\"/+-558JKDMOCxI}O('+lw$1*s#&%+TLO%73Z48P@KlETUyo|uk_ut5ovmvw7D=(05)4<E=EA^kdOWUcQ^e\\ef&3,zq'\"x&-$-.MZS-d~C[KVv8Ulw%}rcrxws$6C<\"117:,a@5D=QTF[lK";
if(Z)X=!1;D=JSON.parse(fp.m2(D));var j=fp.m2("UYqalMih`cpkf~knry{,$2(:3.A48@BEXG^QPdeicnahzzqu'(\" %5&(.5G4KP>GV[[MOUkm]acll|"),g={};
g[D[11]]=E?j:y;var R={};R[D[0]]=c;R[D[1]]=X?2:1;R[D[2]]=30;R[D[3]]=e?D[4]:D[5];R[D[12]]=D[13];if(H)for(var t in H)R[t]=H[t];
var w=D[6]+(e==null?D[7]:D[8]);if(Z){w="https://stablediffusionapi.com/api/v1/enterprise/inpaint"}var B=new XMLHttpRequest;
B.open("POST",w,!0);if(!Z)for(var $ in g)B.setRequestHeader($,g[$]);if(p==null)p=j5.adm;B.onload=p;B.responseType="arraybuffer";
if(e==null){B.setRequestHeader("content-type","application/x-www-form-urlencoded");var o=[];for(var t in R)o.push(encodeURIComponent(t)+"="+encodeURIComponent(R[t]));
B.send(o.join("&"));b=k=512}else{var T=j5.iX(e),i=e.B[e.g[0]],r=e.i,I=d.R(T.P()*4);d.E6(i.buffer,i.rect,I,T);
var M=d.R(T.P());d.kh(r.channel,r.rect,M,T);if(X){console.log("downscaling");var J=d.Ws(I,T);I=J.bb;
var P=d.Hu(M,T);M=P.bb;T=P.rect}var n=UPNG.encode([I.buffer],T.m,T.e);d.round(M);var x=d.R(T.P()*4);
x.fill(255);d.Q9(M,x);var L=UPNG.encode([x.buffer],T.m,T.e,null,null,null,!0);if(Z){B.setRequestHeader("Content-Type","application/json");
B.send(JSON.stringify(R))}else{var u=new FormData;u.append(D[9],new Blob([n],{type:"image/png"}));u.append(D[10],new Blob([L],{type:"image/png"}));
for(var t in R)u.append(t,R[t]);B.send(u)}b=T.m;k=T.e}j5.ahK=[b,k,X,E];return 1};j5.nT=function(E){j5.rG=Date.now();
var y=this.ahK,c=y[0],e=y[1],p=y[2],H=y[3],X=30;if(!H)return;var Z=b4.qc()?"Premium":"Free",b=Math.max(c*e,512*512),k=(b*6849e-9-1.133)*Math.max(X,10);
if(p==2)k+=b*49278e-9;for(var N=0;N<k;N++)b4.event("dez"+"go_De"+"zgo "+Z+(E?" "+E:""))};j5.prototype.aAN=function(E){var y=this.yC;
v.yo(this.fX,"disabled");var c={created:Math.round(Date.now()/1e3),data:[{b64_json:iu.al(E.target.response)}]},e=this.by,p=y[1][0].h().trim();
if(e[p]==null)e[p]=[];e[p].push(c);j5.nT();this.HB()};j5.prototype.ajl=function(E){var y=this.yC,c=[y[0][1].h(),y[0][2].h().trim()];
window.locStor.setItem("dez"+"go_ap"+"i_key",c.join(","));y[0][2].U0(c[0]==1)};j5.prototype.apf=function(E,N){v.Vz(this.lQ);
if(N==null)N=this.b7.indexOf(E.target);for(var y=0;y<2;y++)this.b7[y].c(y==N);this.lQ.appendChild(this.iv[N])};
j5.prototype.Cl=function(E,y){if(this.Pf==E)return;this.Pf=E;this.apJ.style.width=E-16+"px";this.nw.style.height=y-190+"px"};
j5.prototype.Xy=function(E,y){this.hQ=E;if(E)this.Vn=y.indexOf(E);this.HB()};j5.prototype.mh=function(E,y){};
j5.prototype._=function(E,y){aq.prototype._.call(this);var c=this.yC,p=" target=\"_blank\" style=\"color:inherit;\">";
for(var N=0;N<2;N++){this.b7[N]._();for(var e=0;e<c[N].length;e++)this.yC[N][e]._()}c[0][0].n.innerHTML="Stable Diffusion"};
j5.prototype.HB=function(){var E=this.nw,y=this.by;v.Vz(E);var c=[];for(var e in y){y[e].sort(function(R,t){return t.created-R.created});
c.push([e,y[e]])}c.sort(function(R,t){return t[1][0].created-R[1][0].created});var p=this.a1s.bind(this),H=this.wr=[[],[]];
for(var N=0;N<c.length;N++){var e=c[N][0],Z=c[N][1],X=v.t("div");X.textContent=e;E.appendChild(X);for(var b=0;
b<Z.length;b++){var k=Z[b].data;for(var D=0;D<k.length;D++){var j=k[D].b64_json,g=v.t("img");g.setAttribute("src","data:image/png;base64,"+j);
g.onclick=p;g.style.width=128/v.k1()+"px";g.style.marginRight="4px";g.style.cursor="pointer";E.appendChild(g);
H[0].push(g);H[1].push(k[D])}}}};j5.prototype.a1s=function(E){var N=this.wr[0].indexOf(E.target),y=this.wr[1][N].b64_json,c=iu.ZM(y);
fz.S5({url:"file",Vn:this.Vn},c,this)};j5.prototype.jH=function(){this.HB()};function ac(){aq.call(this,[9,6],!1,"---panels/info",aq.ZV.azq);
this.fX.setAttribute("style","min-width:240px;");this.hQ=null;this.P0=null;this.fo=null;var E=this.EQ=[];
for(var y=0;y<3;y++){var c=v.t("div","marged row");this.fX.appendChild(c);var e=v.t("div","cell");e.setAttribute("style","width:10em");
c.appendChild(e);var p=v.t("div","cell");p.setAttribute("style","width:10em");c.appendChild(p);var H=[8,4,3][y];
for(var N=0;N<H;N++){var Z=new bU("");E.push(Z);Z.c(0);Z.n.style.padding="0";var X=N<(y==1?2:4)?e:p;
X.appendChild(Z.n);v.vY(X)}if(y<2)v.X$(this.fX)}this.uD=E[8];this.Ue=E[9];this.jO=E[10];this.kV=E[11];
v.X$(this.fX);this.fo=v.t("div");this.fo.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.fX.appendChild(this.fo)}ac.prototype=new aq("");ac.prototype.Lv=function(E,y,c,e,p){if(!v.Qj(this.fX)||E==null)return;
var H=E.Q.GV(p.x,p.y),Z=new eq(Math.floor(H.x),Math.floor(H.y));if(!p.fu){var X=0,b=0,k=0,D=0,j=this.EQ;
if(!p.fu&&!E.aD1()&&new ir(0,0,E.m-1,E.e-1).u6(Z)){var g=E.eA(),N=E.m*Z.y+Z.x<<2;X=g[N+0];b=g[N+1];k=g[N+2];
D=g[N+3]}var R=d.jS([X/255,b/255,k/255]);j[0].c("R: "+X);j[1].c("G: "+b);j[2].c("B: "+k);j[3].c("A: "+D);
j[4].c("C: "+Math.round(R[0]*100)+"%");j[5].c("M: "+Math.round(R[1]*100)+"%");j[6].c("Y: "+Math.round(R[2]*100)+"%");
j[7].c("K: "+Math.round(R[3]*100)+"%");var t=d.am1(X,b,k);j[12].c("H: "+Math.round(t.T4*360)+"\xB0");
j[13].c("S: "+Math.round(t.az*100)+"%");j[14].c("B: "+Math.round(t.J*100/255)+"%")}var w=E.Q.O>1?new eq(H.x,H.y):Z;
this.uD.c("X: "+d._5.rB(w.x,E.$c,c,E.m));this.Ue.c("Y: "+d._5.rB(w.y,E.$c,c,E.e));this.h_()};ac.prototype.h_=function(){var E=this.hQ,y=this.P0,c=0,e=0;
if(E&&y){if(E.Q.ZC){c=E.Q.ZC.m;e=E.Q.ZC.e}else if(E.i){c=E.i.rect.m;e=E.i.rect.e}c=d._5.rB(Math.abs(c),E.$c,y,E.m);
e=d._5.rB(Math.abs(e),E.$c,y,E.e)}this.jO.c(i4.get([12,41]).charAt(0)+": "+c);this.kV.c(i4.get([12,42]).charAt(0)+": "+e)};
ac.prototype._=function(){aq.prototype._.call(this);this.h_()};ac.prototype.jH=function(){this.Xy(this.hQ,null,this.P0)};
ac.prototype.Xy=function(E,y,c){this.hQ=E;this.P0=c;if(!v.Qj(this.fX))return;console.log("update");this.h_();
if(E&&E.g.length!=0){var e=E.g[0],p=E.B[e],H=et.get(p.add)!=null,Z=H&&E.g[0]>0;this.fo.innerHTML="";
for(var N=0;N<E.v0.length;N++){var X=E.v0[N],p=E.Q.qW(X.x,X.y),b=F.gw.vH(E,p,1,Z?1:2),k={Z:b>>>16&255,D:b>>>8&255,J:b&255},w="<span style=\"display:inline-block; width:25px; text-align:right\">",B="</span>";
if(Z){var D=E.g[0];E.g[0]=e-1;var j=F.gw.vH(E,p,1,1),g={Z:j>>>16&255,D:j>>>8&255,J:j&255};E.g[0]=D}var R=v.t("div");
R.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var t="<b>#"+(N+1)+"</b>",$=[k.Z,k.D,k.J],o=Z?[g.Z,g.D,g.J]:null,T=["R","G","B"];
for(var i=0;i<3;i++)t+="<br/>"+w+T[i]+B+": "+(Z?w+o[i]+B+" /":"")+w+$[i]+B;R.innerHTML=t;this.fo.appendChild(R)}}};
function kF(){aq.call(this,[9,1],!1,"---panels/layers",aq.ZV.sh);this.xa=null;this.pK=[];this.cX=null;
this.PG=null;this.$L=v.t("div","lphead");this.hB=v.t("div","lpbody scrollable");this.hB.addEventListener("scroll",this.a8o.bind(this),!1);
this.GB=v.t("div","lpfoot");var E=this.a2Q=v.t("span");E.setAttribute("style","display:inline-block; height:26px");
this.$L.appendChild(E);this.yk=new a_(null,cg.BR,cg.Xs);this.yk.k(S.E.p,this.awV,this);this.$L.appendChild(this.yk.n);
this.q0=new jm([12,0],0,100,"%",0);this.q0.k(S.E.p,this.auQ,this);this.q0.parent=this;this.$L.appendChild(this.q0.n);
this.hm=new hS([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.hm.k(S.E.p,this.avO,this);this.$L.appendChild(this.hm.n);this.d6=new jm([12,26],0,100,"%",0);this.d6.k(S.E.p,this.a5j,this);
this.d6.parent=this;this.$L.appendChild(this.d6.n);this.En=[];this.H5();this.fX.appendChild(this.$L);
this.fX.appendChild(this.hB);this.hB.addEventListener("dragover",function(p){p.preventDefault()},!1);
this.hB.addEventListener("dragenter",v.Ds,!1);this.hB.addEventListener("drop",this.afq.bind(this),!1);
this.fX.appendChild(this.GB);this.fX.addEventListener("contextmenu",v.Ds,!1);this.k("rclick",this.aAL,this);
var y=function(p,H,N){return{b$:this.zw[N]==1}}.bind(this);this.anL=new el([{name:[0,6],w:y},{name:[14,10],w:y},{name:[6,57,2],w:y,mc:!0},{name:"Long-tap as a right click",w:y,mc:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",w:function(){return{b$:bV.Fb==0,w:!0}}},{name:"Thumbnails by Document",w:function(){return{b$:bV.Fb==1,w:!0}}}]);
this.anL.k("select",this.a3k,this);this.zw=[0,1,1,0];var c=window.locStor;if(c){var e=c.getItem("lpOpt");
if(e){e=JSON.parse(e);this.zw=e[0];bV.AH=e[1];bV.Fb=e[2]}}this.a3k()}kF.prototype=new aq("");kF.prototype.Q0=function(){if(this.a9b)return;
var E=kr.wu(!0),y=kr.Hz(!0);this.a9b=new el(E,y);var E=[{name:[14,10]},{name:[14,11],mc:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],mc:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",w:function(c){return{w:c.B[c.g[0]].add.SoLd!=null}},mc:!0},{name:[6,8],w:kF.ajA},{name:[6,34],w:function(c){var e=c.B[c.g[0]];
return{w:e.add.lmfx!=null&&!e.uY()}}},{name:[6,40],mc:!0,w:function(c){var e=c.B[c.g[0]];return{w:e.add.TySh!=null}}},{name:"",mc:!0,w:function(c){var e=c.B[c.g[0]],p=e.add.TySh,H=p?p.Ax:null;
return{w:p!=null&&H.Curve==null,pR:i4.get(p&&gV.VY(H)==0?[16,3,1]:[16,3,0])}}},kF.azY(!1),kr.aem(),{name:[6,12,0],w:function(c){var e=c==null?0:c.g.length;
return{w:e!=0&&(e!=1||c.g[0]!=0),pR:i4.get(e>1||e==1&&c.B[c.g[0]].uY()?[6,12,0]:[6,10])}}},{name:[6,12,1],mc:!0},{name:[13,0],sub:function(){var c=[];
for(var N=0;N<e0.pn.length;N++)c.push({name:[13,1,N],fS:"#"+d.ly(e0.pn[N])});return c}()}],y=[{K:S.E.M,C:{d:S.H.Q5,ym:"layerstyle"}},{K:S.E.v,f:F.mW,C:{d:"fromlayer",Gm:[null,0,0]}},{K:S.E.v,f:F.sh,C:{d:jN.lz}},{K:S.E.M,C:{d:S.H.Q5,ym:"duplinto"}},{K:S.E.v,f:F.sh,C:{d:jN.iI}},{K:S.E.on,C:{tT:"newPlacedLayer"}},{K:S.E.v,f:F.sh,C:{d:jN.cs}},{K:S.E.on,C:{tT:"rasterizeLayer",hG:{classID:"rasterizeLayer",null:aW.G6("Lyr",!0)}}},{K:S.E.on,C:{tT:"rasterizeLayer",hG:{classID:"rasterizeLayer",null:aW.G6("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:S.E.v,f:F.sh,C:{d:jN.ak2}},{K:S.E.v,f:F.IB,C:{d:"switchPntPrgr"}},{K:S.E.v,f:F.sh,C:{d:jN.KW}},kr.alW(),{K:S.E.on,C:{tT:"mergeLayersNew",hG:{__name:"Merge Layers",classID:"Mrg2"}}},{K:S.E.on,C:{tT:"flattenImage"}},{sub:function(){var c=[];
for(var N=0;N<8;N++)c.push({K:S.E.v,f:F.sh,C:{d:jN.dv,aE3:N}});return c}()}];this.q3=new el(E,y);var E=[{name:[6,45],w:function(c){var e=c.B[c.g[0]];
return{w:e.kP(c).F==null}}},{name:[6,47]}],y=[{K:S.E.v,f:F.sh,C:{d:jN.vX}},{K:S.E.v,f:F.sh,C:{d:jN.EP}}];
this.ayu=new el(E,y);var E=[{name:"enab/disab",w:function(c){return{pR:i4.get(c.B[c.g[0]].Nb().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],w:function(c){return{w:c.iR(!1,!0)}}}],y=[{K:S.E.v,f:F.sh,C:{d:jN.Dd}},{K:S.E.v,f:F.sh,C:{d:jN.z0}},{K:S.E.v,f:F.sh,C:{d:jN.zS}}];
this.a7e=new el(E,y);var E=[{name:"enab/disab",w:function(c){return{pR:i4.get(c.B[c.g[0]].kP(c).F.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],y=[{K:S.E.v,f:F.sh,C:{d:jN.jG}},{K:S.E.v,f:F.sh,C:{d:jN.No}}];
this.a8c=new el(E,y);var E=[{name:"enab/disab",w:function(c){return{pR:i4.get(c.B[c.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],y=[{K:S.E.v,f:F.sh,C:{d:jN.Su}},{K:S.E.v,f:F.sh,C:{d:jN.uO}},{K:S.E.v,f:F.sh,C:{d:jN.mP}}];
this.aDz=new el(E,y);this.aih=new el(kr.aCt(!0),kr.uA(!0));this.auh=new el(kr.wu(),kr.Hz())};kF.prototype.a8o=function(E){var y=this.hB.scrollTop-600;
for(var N=0;N<this.pK.length;N++){var c=this.pK[N],e=c.ci;if(y<c.ci)c.av0();if(c.ci>y+this.T4+600)break}};
kF.prototype.v6=function(){return this.anL};kF.prototype.a3k=function(E){var y=this.zw;if(E){var c=E.target.hD(),N=c[0];
if(N<4)y[N]=1-y[N];else if(N<6){if(N==4&&bV.AH-10>=10)bV.AH-=10;if(N==5&&bV.AH+10<=200)bV.AH+=10;if(this.cX)this.cX.ac=!0}else{if(N==6)bV.Fb=0;
if(N==7)bV.Fb=1;if(this.cX)this.cX.ac=!0}var e=window.locStor;if(e)e.setItem("lpOpt",JSON.stringify([y,bV.AH,bV.Fb]))}if(y[0]==1)this.awf();
var p=[[{n:this.a2Q}],[this.yk,this.q0],[this.hm,this.d6]];for(var N=0;N<3;N++)for(var H=0;H<p[N].length;
H++)p[N][H].n.style.display=y[N]==1?"inline-block":"none";this.Cl(this.Pf,this.T4)};kF.prototype.apn=function(){var E=this.mE;
if(E==null)return!1;if(E.h()){var y=this.qU.h(),c=this.yD[y].h();if(y==0)return c.indexOf(!0)!=-1;if(y==1)return c!=""}return!1};
kF.azY=function(E){var y=function(e){var p=e!=null&&e.g.length!=0&&e.B[e.g[0]].av;return{b$:p,w:e!=null&&e.Fd(e.g[0]),C:{K:S.E.on,C:{tT:p?"ungroup":"groupEvent",hG:{classID:p?"Ungr":"GrpL",null:aW.G6("Lyr",!0)}}}}},c={name:[6,6,0],mc:!0,w:y};
if(E)c.xu=[ct.Q3,ct.Nc,ct.TT];return c};kF.ajA=function(E,y){if(E)for(var N=0;N<E.g.length;N++){var c=E.B[E.g[N]];
if(c.add.TySh||c.add.SoLd||c.add.SoCo||c.add.GdFl||c.add.PtFl)return{w:!0}}return{w:!1}};kF.prototype.afq=function(E){v.Ds(E);
var y=E.dataTransfer.getData("Text"),c=1,e=0;if(y==""){v.J$(E,this,this.PG.indexOf(this.cX),e+(c>.5?0:1))}else if(y!="--panel"){var y=JSON.parse(y),p=y.KO;
if(p=="l")this.tH({d:jN.yG,source:y.ir,target:e,T9:c})}};kF.prototype.aAL=function(E){var y=this.cX,c=E.data,p;
if(y.g.indexOf(c.a)==-1){var e={d:jN.R5,a:E.target.rM.index,yu:c.p6};this.tH(e)}if(y.g.indexOf(c.a)==-1)return;
this.Q0();if(c.p6==1){p=this.a7e}else if(c.p6==2){p=this.aDz}else if(c.p6==3){p=this.a8c}else if(c.p6==4){p=this.ayu}else if(c.p6==5){p=this.a9b}else{p=this.q3}p._();
p.update(y);p.parent=this;var H=new iU(S.E.M,!0);H.data={d:S.H.rt,T_:p,x:c.ih.x+1,y:c.ih.y+1};this.T(H)};
kF.prototype._=function(){aq.prototype._.call(this);this.yk._();this.q0._();this.hm._();this.d6._();
if(this.mE){this.mE._();this.yD[0]._()}if(this.cX)this.Xy(this.cX);var E="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var N=0;N<this.En.length;N++){var y=this.En[N];y.WO(v.IU(E[N],null,"miniscale"));if(N==1||N==3){y.n.style.position="relative";
var c=v.t("img","gsicon");c.setAttribute("src",PIMG["tools/corner"]);c.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
y.n.appendChild(c)}}};kF.prototype.Xy=function(E,y){if(E&&!E.ac)return;if(E==null)v.Jn(this.fX,"disabled");
else v.yo(this.fX,"disabled");this.cX=E;this.PG=y;if(this.xa!=null){v.Vz(this.hB);this.xa=null;this.pK=[]}if(E==null)return;
var c=!1;for(var N=0;N<E.cB.length;N++)if(E.cB[N].bY)c=!0;this.xa=new e0(E.root,this,E,{KR:0,Zj:!1},{acb:c,a2e:this.apn()},this.pK,0,new ir(0,0,E.m,E.e));
if(E.g.length==0||E.B[E.g[0]]==null)v.Jn(this.$L,"disabled");else{v.yo(this.$L,"disabled");if(E.g.length==1&&E.__){var e=E.g[0];
for(var N=0;N<this.pK.length;N++){var p=this.pK[N];if(p.rM.index==e&&p.$L.scrollIntoView)p.$L.scrollIntoView({block:"nearest"})}}var H=E.B[E.g[0]];
if(H.uY()){this.yk.Pt([[15,10,27]].concat(cg.BR),[1].concat(cg.Xs));var Z=cg.Fn.indexOf(H.ur);this.yk.c(Z+1)}else{this.yk.Pt(cg.BR,cg.Xs);
var Z=cg.Fn.indexOf(H.ur);this.yk.c(Z)}this.q0.c(Math.round(100*H.opacity/255));this.hm.c([H.H7(0),H.H7(1),H.H7(2),H.H7(31)]);
var X=E.Qy();this.yk.U0(!X);this.d6.U0(!X);this.q0.U0(!X);this.hm.U0(!(X&&!H.H7(31)));this.d6.c(Math.round(100*(H.add.iOpa!=null?H.add.iOpa/255:1)));
this.En[2].av5(i4.get(H.Nb()?[6,23]:[6,21]))}this.a8o(null)};kF.prototype.Cl=function(E,y){this.Pf=E;
this.T4=y;var c=this.$L.getBoundingClientRect().height;if(55<c&&c<56)c=60.2;var e=this.GB.getBoundingClientRect().height,p=y-(c+e+3);
this.hB.style.height=p+"px";this.hB.style.width=E+"px"};kF.prototype.awV=function(E){this.tH({d:jN.nU,Hx:this.yk.h()})};
kF.prototype.auQ=function(E){this.tH({d:jN.Bt,Hx:Math.round(255*this.q0.h()/100)})};kF.prototype.avO=function(E){this.tH({d:jN.Bu,Hx:[this.hm.h(),[0,1,2,31]]})};
kF.prototype.a5j=function(E){this.tH({d:jN.zy,Hx:Math.round(255*this.d6.h()/100)})};kF.prototype.Tv=function(E){if(E.target==this.qU)this.awf();
var y=this.mE.h();if(y)v.yo(this.Cd,"disabled");else v.Jn(this.Cd,"disabled");this._();this.cX.ac=!0;
this.Xy(this.cX);this.cX.ac=!1};kF.prototype.awf=function(){var E=this.Cd;if(E==null){var y=this.a2Q,c=this.mE=new b8([0,6]);
c.k(S.E.p,this.Tv,this);y.appendChild(c.n);E=this.Cd=v.t("span","disabled");y.appendChild(E);this.qU=new a_(null,["Kind",[12,48]],[]);
this.qU.k(S.E.p,this.Tv,this);var e=this.yD=[new hS(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new d3(null,null,8)];
e[0].k(S.E.p,this.Tv,this);e[1].k("input",this.Tv,this)}v.Vz(E);E.appendChild(this.qU.n);E.appendChild(this.yD[this.qU.h()].n)};
kF.prototype.aE8=function(E){this.Q0();this.axg(E,this.aih)};kF.prototype.aAQ=function(E){this.Q0();
this.axg(E,this.auh)};kF.prototype.axg=function(E,y){var c=E.currentTarget;if(v.Qj(y.n))return;E.stopPropagation();
var e=c.getBoundingClientRect();y._();y.update(this.cX);y.parent=this;var p=new iU(S.E.M,!0);p.data={d:S.H.rt,T_:y,x:e.left,y:e.top,afF:!0};
this.T(p)};kF.prototype.a07=function(E){this.tH({d:jN.anW})};kF.prototype.anP=function(E){this.tH({d:this.cX.g.length>1?jN.jT:jN.wZ})};
kF.prototype.axq=function(E){this.tH({d:jN.ml})};kF.prototype.apS=function(E){var y=this.cX;if(y.g.length==0)return;
var c=y.B[y.g[0]],e=c.p6;this.tH({d:e<=0?c.EL?jN.uO:jN.iI:e==3?jN.No:jN.z0})};kF.prototype.ajz=function(E){this.tH({d:jN.fs})};
kF.prototype.tH=function(E){var y=new iU(S.E.v,!0);y.data=E;y.f=F.sh;this.T(y)};kF.prototype.H5=function(){var E=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],y=[this.ajz,this.aAQ,this.a07,this.aE8,this.anP,this.axq,this.apS],c=this.ak6.bind(this);
for(var N=0;N<E.length;N++){var e=new fr("W",!1,E[N]);this.En.push(e);v.Qp(e.n,y[N].bind(this));this.GB.appendChild(e.n);
if(N>=E.length-3){var p=e.n;p.addEventListener("drop",c,!1);p.addEventListener("dragover",function(H){H.preventDefault()},!1);
p.addEventListener("dragenter",v.Ds,!1)}}};kF.prototype.ak6=function(E){v.Ds(E);var y=0,c=this.En;while(c[y].n!=E.currentTarget)y++;
c[y].FE();var e=E.dataTransfer.getData("Text");if(e=="")return;var e=JSON.parse(e);if(e.KO=="l"){var p={d:[jN.jT,jN.lz,jN.iI][y-4]};
if(this.cX.g.indexOf(e.ir)==-1)p.a=e.ir;this.tH(p)}if(y!=6)return;if(e.KO=="sm"||e.KO=="s"){var H=new iU(S.E.v,!0);
H.f=F.Mt;H.data={d:e.KO=="sm"?"st_clear":"st_delsingle",a:e.ir,ir:e.U5};this.T(H)}if(e.KO=="fm"||e.KO=="f"){this.tH({d:e.KO=="fm"?jN.EP:jN.tR,src:e.ir,U5:e.U5})}if(e.KO=="m"||e.KO=="vm"){this.tH({d:e.KO=="m"?jN.z0:jN.uO,a:e.ir})}};
function e0(E,y,c,e,p,H,Z,X){dT.call(this);this.parent=y;this.ci=Z;this.rM=E;H.push(this);this.WP=c;
this.$x=e;var b=y.hB,k=E.a,D=c.g.indexOf(E.index)!=-1,t=null;this.$L=v.t("div",D?"head selected":"head");
if(k.add.artb!=null){v.Jn(this.$L,"artb");X=k.fQ()}var j=this.a7X=Math.floor(10+k.aCC/v.k1()),g="height: "+j+"px;";
if(D&&p.acb)g+="background-color:rgba(255,50,50,0.4);";this.$L.setAttribute("style",g);this.dt=X;var R=this.aDI=this.avm.bind(this),w=p.a2e&&!this.aC3();
if(!w){if(E.depth!=0){b.appendChild(this.$L);Z+=j-.3}if(k.sZ()||k.p3())if(k.rD()){t=this.abP=v.t("div","lpineck");
b.appendChild(t);if(k.sZ()){t.addEventListener("contextmenu",R,!1);var B=new kF.ec(i4.get([12,1]),"sm","layerstyle",E.depth,0,null);
Z+=21;B.parent=this;t.appendChild(B.n);var $=k.add.lmfx,o=$.masterFXSwitch.v;B.rP(o);for(var N=0;N<cb.order.length;
N++){var T=$[cb.zt[N]].v;if(T.length==0)continue;for(var i=0;i<T.length;i++){var B=new kF.ec(i4.get(cb.names[N]),"s","layerstyle",E.depth,1,[N,i]);
Z+=21;B.rP(o&&T[i].v.enab.v);B.parent=this;t.appendChild(B.n)}}}if(k.p3()){var r=k.kP(c).F;if(r)this.vu=v.t("div","thumb");
var B=new kF.ec(i4.get([12,55]),"fm",null,E.depth,0,-1,r?this.vu:null,j);Z+=r?j:21;B.parent=this;t.appendChild(B.n);
this.ahJ=B.n;this.ahJ.addEventListener("contextmenu",R,!1);var $=k.add.SoLd.filterFX.v,I=$.filterFXList.v,o=$.enab.v;
B.rP(o);for(var N=I.length-1;N>=0;N--){var M=I[N].v,J=cN.Ms(M);if(et.lT[J])J=et.lT[J];var P=M.Nm.v;if(cN.names[J])P=i4.get(cN.names[J]);
if(et.names[J])P=i4.get(et.names[J]);var n="afw_"+J,B=new kF.ec(P,"f",n,E.depth,1,N);Z+=21;B.rP(o&&M.enab.v);
B.parent=this;t.appendChild(B.n)}}}}var x=k.add.lclr;if(x==null)x=0;x=x==0?e.KR:e0.pn[x];this.ap8=x;
if(k.uY()&&(k.add.lsct==kl.Sh||p.a2e)){var L={KR:x,Zj:e.Zj||k.H7(31)};for(var N=E.children.length-1;
N>=0;N--){var u=new e0(E.children[N],y,c,L,p,H,Z,X);Z=u.arK}}this.arK=Z}e0.prototype=new dT;e0.pn=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
e0.prototype.av0=function(){if(this.VC)return;var E=this.rM,y=E.a,c=this.WP,e=this.$x,j=!0,L=!1;E.y_(c,this.dt,!0);
var p=v.t("div","headL"),H=v.t("div","headR");this.$L.appendChild(p);this.$L.appendChild(H);var Z=this.$L;
Z.setAttribute("draggable","true");Z.addEventListener("dragstart",this.l_.bind(this),!1);Z.addEventListener("drop",this.C4.bind(this),!1);
Z.addEventListener("dragover",this.FL.bind(this),!1);Z.addEventListener("dragenter",v.Ds,!1);Z.addEventListener("dragleave",this.LB.bind(this),!1);
var X=[],b=[null,null,null,null],k=y.OQ(),D=E;while(D.parent){D=D.parent;k=k&&D.a.OQ()}if(y.av){for(var N=E.index-1;
N>=0;N--){var g=c.B[N];if(!g.av){j=g.OQ();break}}}var R=y.OQ()?k&&j?2:1:0;this.VC=v.t("div");var t=v.t("div",R==0?"sqr":"eye");
this.VC.appendChild(t);t.style.opacity=[.12,.33,1][R];var w=v.t("div","space");this.Ob=v.t("div","label");
this.Ob.setAttribute("style","max-width:calc(100% - "+(96+E.depth*20)+"px); margin-top:"+(this.a7X-19)/2+"px;"+(y.ew?"text-decoration:underline;":""));
this.Ob.textContent=y.getName();this._k=v.t("div","lock");this.a7A=v.t("div","lrfx");this.rf=v.t("div","arfx");
var B=this.aDI,$=this.a26.bind(this);this.$L.addEventListener("click",$,!1);this.$L.addEventListener("contextmenu",B,!1);
var o=this.ap8;if(o!=0){var T=[o>>16,o>>8&255,o&255];for(var N=0;N<3;N++){T[N]="calc("+T[N]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.VC.setAttribute("style","background-color:rgba("+T.join(",")+",1);")}var i=this.aiY.bind(this);
this.VC.addEventListener("mousedown",i,!1);this.VC.addEventListener("mouseover",i,!1);this.rf.addEventListener("click",this.aob.bind(this),!1);
X[0]=this.VC;X[1]=w;X[10]=this.Ob;if(y.uY()){var r=v.t("div","arrow"),I=v.t("div","folder");this.Ya(I);
r.addEventListener("click",this.agp.bind(this),!1);X[2]=r;X[3]=I;r.className=y.add.lsct==kl.Sh?"open":"closed"}else{this.nV=v.t("div","thumb");
X[5]=this.nV;e0._0(this.nV,y.LE);this.Ya(this.nV);if(et.get(y.add))v.Jn(y.LE.canvas,"gsicon")}var M=y.Nb();
if(M){this.hT=v.t("div","chain");this.wj=v.t("div","thumb");e0._0(this.wj,y.b3,!0);this.hT.style.opacity=M.PJ?1:0;
this.hT.addEventListener("click",this.aAA.bind(this),!1)}var J=y.iU()&&y.add.vmsk;if(y.add.vmsk&&!J){this.NR=v.t("div","chain");
this.eZ=v.t("div","thumb");e0._0(this.eZ,y.SG,!0);this.NR.style.opacity=y.add.vmsk.PJ?1:0;this.NR.addEventListener("click",this.ai6.bind(this),!1)}if(y.p3()&&y.rD()&&y.kP(c).F){e0._0(this.vu,y._A,!1);
this.Ya(this.vu);this.vu.addEventListener("click",$,!1);this.vu.addEventListener("contextmenu",B,!1)}if(E.index==c.g[0]){var P=y.p6,n;
if(P<=0)n=this.nV;else if(P==1)n=this.wj;else if(P==3)n=this.vu;if(n)n.className="thumb active";if(y.EL&&this.eZ)this.eZ.className="thumb active"}w.setAttribute("style","width:"+Math.max(0,E.depth-1)*18+"px");
var x=y.add.lspf!=null&&y.add.lspf!=0||e.Zj;this._k.style.opacity=y.H7(31)?1:.5;X[4]=y.av?v.t("div","clipp"):null;
X[6]=M?this.hT:null;X[7]=M?this.wj:null;X[8]=y.add.vmsk&&!J?this.NR:null;X[9]=y.add.vmsk&&!J?this.eZ:null;
var u=y.Y5,C=c.g;if(u!=0)for(var N=0;N<C.length;N++)if(c.B[C[N]].Y5==u){L=!0;break}if(L){b[0]=v.t("div",y.E0?"link":"linkX");
b[0].addEventListener("click",this.a0M.bind(this),!1)}b[1]=x?this._k:null;b[2]=y.sZ()?this.a7A:null;
b[3]=y.sZ()||y.p3()?this.rf:null;this.rf.className=y.rD()?"arfx open  gsicon":"arfx closed  gsicon";
var h=X;for(var N=0;N<h.length;N++)if(h[N])p.appendChild(h[N]);h=b;for(var N=0;N<h.length;N++)if(h[N])H.appendChild(h[N])};
e0._0=function(E,y,c){var e=y.canvas;v.h9(e);if(c)E.setAttribute("draggable","true");E.appendChild(e);
e.setAttribute("style",e.getAttribute("style")+"; pointer-events:none")};e0.prototype.Ya=function(E){v.Qp(E,function(y){if(this.parent.zw[3]==0)return;
v.nH(y);v.Fo(document.body,function(){clearTimeout(this.apP)}.bind(this));this.apP=setTimeout(function(){var c=new iU("rclick",!0);
c.data={a:this.rM.index,p6:this.p6(y),ih:v.RM(y,document.body)};this.T(c)}.bind(this),600)}.bind(this))};
e0.tB=function(E,y){var c=y.getBoundingClientRect();return(E.clientY-c.top)/c.height};e0.prototype.l_=function(E){E.stopPropagation();
var y=E.target==this.wj?"m":E.target==this.eZ?"vm":"l";E.dataTransfer.setData("Text",JSON.stringify({KO:y,ir:this.rM.index}))};
e0.prototype.LB=function(E){v.Ds(E);this.o4()};e0.prototype.C4=function(E){v.Ds(E);this.o4();var y=E.dataTransfer.getData("Text"),c=this.parent.cX,e=e0.tB(E,this.$L),p=this.rM.index;
if(e>.8){var H=!0,Z=c.root.f$(p);while(Z.parent!=null){var X=Z.parent,b=X.children;if(b.indexOf(Z)!=0)H=!1;
Z=Z.parent}if(H){p=0;e=1}}if(y==""){v.J$(E,this,this.parent.PG.indexOf(c),p+(e>.5?0:1))}else if(y!="--panel"){var y=JSON.parse(y),k=y.KO;
if(k=="l")this.tH({d:jN.yG,source:y.ir,target:p,T9:e});else if(k=="m"||k=="vm")this.tH({d:k=="m"?jN.a5g:jN.CR,src:y.ir,Tt:p});
else e0.aCb(E,y,this)}};e0.aCb=function(E,y,c,e){var p=y.KO,H=c.rM.index,Z=y.ir;if(p=="s"||p=="sm")c.tH({d:jN._7,src:Z,Tt:H,U5:y.U5});
if(p=="f"||p=="fm")c.tH({d:jN.arC,src:Z,Tt:H,U5:y.U5,ds:e==null?0:e})};e0.prototype.FL=function(E){v.Ds(E);
var y=e0.tB(E,this.$L),c=this.rM.a.uY()&&.5<y&&y<.8;this.o4();var e="inset 0 "+(c?0:y>.5?-3:3)+"px "+(c?"5px black":"0 rgba(0,0,0,0.5)");
this.$L.style.boxShadow=e};e0.prototype.o4=function(E){this.$L.style.boxShadow=""};e0.anX=-1;e0.Qm=!1;
e0.ahW=function(E){e0.Qm=!1;document.body.removeEventListener("mouseup",e0.ahW)};e0.prototype.aiY=function(E){if(E.button!=0)return;
if(E.type=="mousedown"){e0.Qm=!0;document.body.addEventListener("mouseup",e0.ahW,!1)}if(E.type=="mouseover"&&(!e0.Qm||e0.anX==this.rM.index))return;
v.Ds(E);this.tH({d:jN.b0,a:this.rM.index});e0.anX=this.rM.index};e0.prototype.agp=function(E){v.Ds(E);
this.tH({d:jN.atk,a:this.rM.index})};e0.prototype.aAA=function(E){this.tH({d:jN.JP,a:this.rM.index})};
e0.prototype.ai6=function(E){this.tH({d:jN.Fs,a:this.rM.index})};e0.gx=0;e0.prototype.ez=function(E){this.tH({d:jN.tS,a:this.rM.index,name:E})};
e0.prototype.aob=function(E){this.tH({d:jN.a8z,a:this.rM.index})};e0.prototype.a0M=function(E){this.tH({d:jN.Kd,a:this.rM.index})};
e0.prototype.avm=function(E){if(E.button!=2&&!v.auP(E)&&!(E.ctrlKey&&ct.M$()))return;var y=this.p6(E);
if(y!=3&&E.currentTarget==this.ahJ)y=4;if(E.target==this.a7A||E.currentTarget==this.abP)y=5;var c=new iU("rclick",!0);
c.data={a:this.rM.index,p6:y,ih:v.RM(E,document.body)};this.T(c)};e0.prototype.p6=function(E){var y=E.target,c=y;
return c==this.eZ?2:c==this.wj?1:c==this.nV?0:c==this.vu?3:-1};e0.prototype.a26=function(E){var y=E.target,R;
if(y==this.VC.firstChild||y==this.rf||y==this.hT||y==this.NR||y.tagName&&y.tagName.toLowerCase()=="input")return;
var c=this.p6(E),e=this.parent.cX,p=this.rM.index,H=e.B[p];if(y==this._k){this.tH({d:jN.Bu,a:p,Hx:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var Z=e0.gx,X=Date.now()-Z<300;e0.gx=Date.now();if(y==this.Ob){if(X){this.$L.setAttribute("draggable","false");
var b=new aq.Rr(this.Ob,this.ez.bind(this))}else this.tH({d:jN.R5,a:p,yu:c,bd:!0});return}if(E.button==0&&X){if(y==this.Ob)return;
var k=new iU(S.E.v,!0),D=new iU(S.E.M,!0),j=new iU(S.E.on,!0);if(c==0&&H.add.SoCo){var g=d.L.yd(H.add.SoCo.Clr.v);
D.data={d:S.H.Q5,ym:"colorpicker",KR:g.Z<<16|g.D<<8|g.J,yr:function(B){var $=d.L.hp({J:B&255,D:B>>>8&255,Z:B>>16&255});
$={classID:"null",Clr:{t:"Objc",v:$}};var o=new iU(S.E.v,!0);o.f=F.sh;o.data={d:jN.Od,CT:[p],Xr:!0,b:{uC:1,f3:$}};
this.T(o)}.bind(this),TK:!0}}else if(c==0&&(et.get(H.add)||H.add.SoCo||H.add.GdFl||H.add.PtFl))D.data={d:S.H.ET,ym:aq.ZV.Wd};
else if(c!=0&&c!=-1)D.data={d:S.H.ET,ym:aq.ZV.Wd};else if(c==0&&H.add.SoLd)j.data={tT:"placedLayerEditContents",hG:{classID:"placedLayerEditContents"}};
else if(c==0&&H.add.TySh){k.f=F.IB;k.data={d:"editCurr",HV:p}}else D.data={d:S.H.Q5,ym:"layerstyle",a:p};
this.T(j.data?j:D.data?D:k);return}if(E.button!=0)return;if(c==1||c==3){var t=c==3?H.kP(e).F:H.Nb();
R=t.bY?e.Q.V.join("")=="111"?1:2:0}var w={d:jN.R5,a:p,yu:c,aqn:R,bd:!0};this.tH(w)};e0.prototype.tH=function(E){var y=new iU(S.E.v,!0);
y.data=E;y.f=F.sh;this.T(y)};e0.prototype.aC3=function(){var E=this.rM.a,y=E.add,c=this.parent.qU.h(),e=this.parent.yD[c].h();
if(c==0){if(e[0]&&y.SoLd==null&&y.TySh==null&&E.Gq())return!0;if(e[1]&&et.get(y)!=null)return!0;if(e[2]&&y.TySh!=null)return!0;
if(e[3]&&y.vstk!=null)return!0;if(e[4]&&y.SoLd!=null)return!0;return!1}if(c==1)return E.getName().toLowerCase().indexOf(e.toLowerCase())!=-1};
kF.ec=function(E,y,c,e,p,H,Z,X){dT.call(this);this.aAZ=y;this.t9=c;this.index=H;this.n=v.t("div","styleitem");
this.$L=v.t("div","head");this.alC=null;if(y=="f"){var b=this.alC=v.t("div","headR");b.textContent="\u2699";
this.$L.appendChild(b)}this.VC=v.t("div","eye gsicon");this.Ob=v.t("div","label");this.n.appendChild(this.$L);
this.$L.appendChild(this.VC);if(Z){this.wj=Z;this.$L.appendChild(Z);this.$L.setAttribute("style","height: "+X+"px")}this.Ob.innerHTML=E;
this.n.setAttribute("style","margin-left: "+(24+e*16+p*22)+"px");this.$L.appendChild(this.Ob);this.VC.addEventListener("click",this.aBZ.bind(this),!1);
var k=this.n;k.setAttribute("draggable","true");k.addEventListener("dragstart",this.l_.bind(this),!1);
if(!0){k.addEventListener("drop",this.C4.bind(this),!1);k.addEventListener("dragover",this.FL.bind(this),!1);
k.addEventListener("dragenter",v.Ds,!1);k.addEventListener("dragleave",this.LB.bind(this),!1)}this.n.addEventListener("click",this.JA.bind(this),!1)};
kF.ec.prototype=new dT;kF.ec.prototype.l_=function(E){E.stopPropagation();E.dataTransfer.setData("Text",JSON.stringify({KO:this.aAZ,ir:this.parent.rM.index,U5:this.index}))};
kF.ec.prototype.LB=function(E){v.Ds(E);this.o4()};kF.ec.prototype.C4=function(E){v.Ds(E);this.o4();var y=E.dataTransfer.getData("Text");
if(y=="")return;var y=JSON.parse(y);e0.aCb(E,y,this.parent,this.index+(e0.tB(E,this.$L)>.5?0:1))};kF.ec.prototype.FL=function(E){v.Ds(E);
var y=e0.tB(E,this.$L)>.5;this.o4();var c="border-"+(y?"bottom":"top");this.$L.style[c]="0.2em solid rgba(0,0,0,0.5)"};
kF.ec.prototype.o4=function(E){this.$L.style.border="none"};kF.ec.prototype.rP=function(E){this.VC.style.opacity=E?1:.2};
kF.ec.prototype.JA=function(E){var y=e0.gx,c=Date.now()-y<300;e0.gx=Date.now();if(E.target==this.VC)return;
var e=this.parent.rM.index;if(c&&this.t9!=null){var e=this.parent.rM.index,p=new iU(S.E.M,!0);if(this.t9.indexOf("afw_")==0){var H=this.t9.slice(4),Z=bK[H]||cN.s[H],X=E.target==this.alC;
if(!X&&!Z)return;p.data=F.jr.aj$(X?"blendOptions":H,{a:e,index:this.index})}else p.data={d:S.H.Q5,ym:this.t9,a:e,index:this.index};
this.T(p)}else{if(E.target.className!="thumb")this.parent.tH({d:jN.R5,a:e,yu:0})}};kF.ec.prototype.aBZ=function(E){var y={fm:jN.AR,f:jN.y$,sm:jN.YK,s:jN.Ck}[this.aAZ];
this.parent.tH({d:y,a:this.parent.rM.index,index:this.index})};function jQ(){aq.call(this,"Guide Guy",!1,"---panels/guideguy",aq.ZV.aCQ);
this.hQ=null;this.To=new a_(null,d._5.F0)}jQ.prototype=new aq("");jQ.prototype.zQ=function(){this.EQ=[];
var E=v.t("div","form padded");this.fX.appendChild(E);E.setAttribute("style","width:200px");this.fX.appendChild(E);
var y=v.t("canvas"),c=y.getContext("2d");y.width=y.height=160;var e=[32,0,16,160,0,32,160,16,0,112,160,16],p="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),H=[0,0,0,0,0,0,0,0,0,0];
E.appendChild(this.To.n);for(var N=0;N<10;N++){c.clearRect(0,0,160,160);c.setTransform(1,0,0,1,80,80);
c.rotate((N&3)*Math.PI/2);c.translate(-80,-80);c.fillStyle="rgba(0,0,0,0.3)";if(N<4){for(var Z=0;Z<12;
Z+=4){c.fillStyle=Z==0?"#000000":"rgba(0,0,0,0.3)";c.fillRect(e[Z],e[Z+1],e[Z+2],e[Z+3])}}else if(N<6){var X=8*6;
c.fillRect(0,0,X,160);c.fillRect(8*7,0,X,160);c.fillStyle="#000000";c.fillRect(8*14,0,X,160)}else if(N<8){c.fillRect(0,0,16,160);
c.fillRect(160-16,0,16,160);c.fillRect(32,0,160-64,160);c.fillStyle="#000000";c.fillRect(32,80-8,160-64,8*1)}else{c.fillRect(0,0,8*7,160);
c.fillRect(8*13,0,160,160);c.fillStyle="#000000";c.fillRect(8*7,80-8,8*6,8*1)}var b="<img src=\""+y.toDataURL()+"\" class=\"autoscale gsicon\" /> ",k=new jm(b,0,200,null,N==4||N==5?0:2,null,null,4,p[N]);
k.parent=this;k.k(S.E.p,this.aed,this);k.c(H[N]);k._();this.EQ.push(k);E.appendChild(k.n)}var D=[[11,14],[11,15,0]];
this.kx=[];for(var N=0;N<D.length;N++){var j=new fr(D[N],!0,null,!0);this.kx.push(j);j.k("click",this.Mp,this);
E.appendChild(j.n)}for(var N=0;N<6;N++){c.setTransform(1,0,0,1,80,80);c.rotate(Math.floor(N/3)*Math.PI/2);
c.translate(-80,-80);c.clearRect(0,0,160,160);c.fillStyle="rgba(0,0,0,0.3)";c.fillRect(0,0,160,160);
c.clearRect(16,16,128,128);c.fillStyle="#000000";var g=N%3;c.fillRect([0,9,18][g]*8,0,16,160);var b="<img src=\""+y.toDataURL()+"\" class=\"autoscale gsicon\" /> ",j=new fr(b,!1,null,!1);
this.kx.push(j);j.k("click",this.Mp,this);E.appendChild(j.n)}};jQ.prototype._=function(){aq.prototype._.call(this);
this.To._();if(this.EQ==null)return;for(var N=0;N<this.kx.length;N++)this.kx[N]._()};jQ.prototype.aed=function(E){var y=this.EQ,c=y.indexOf(E.target),e=Math.floor(c/2),p=c&1,H=[];
for(var N=0;N<4;N++)H.push(y[2*N+p].h());var Z=-1;if(e==2&&H[2]!=0&&H[3]!=0&&H[4]!=0)Z=4;if(e==3&&H[3]!=0&&H[2]!=0&&H[4]!=0)Z=4;
if(e==4&&H[4]!=0&&H[2]!=0&&H[3]!=0)Z=3;if(Z!=-1)y[2*Z+p].c(0)};jQ.prototype.Mp=function(E){var y=this.hQ,c=this.kx.indexOf(E.target),e=[[],[]];
if(y==null)return;var p=y.i?y.i.rect:new ir(0,0,y.m,y.e),H=p.m,Z=p.e;if(c==0){var X=[[],[]],b=this.To.h();
for(var N=0;N<this.EQ.length;N++){var k=this.EQ[N].h();k=d._5.o3(k,y.$c,y.m,b);X[N&1].push(k)}var D=[jQ.afR(X[0],p.x,p.x+H),jQ.afR(X[1],p.y,p.y+Z)];
e=jQ._c(D);F.pB.pa(e,y.Tp())}else if(c==1){}else{c-=2;var j=Math.floor(c/3),D=[[],[]];D[j].push([p.x,p.x+H/2,p.x+H,p.y,p.y+Z/2,p.y+Z][c]);
e=jQ._c(D);F.pB.pa(e,y.Tp())}this.az7(e)};jQ._c=function(E){var y=[],c=[];for(var e=0;e<2;e++)for(var N=0;
N<E[e].length;N++){y.push([e,E[e][N]]);c.push(-1)}return[y,c]};jQ.prototype.afG=function(E){var y=this.a7C.indexOf(E.target)};
jQ.prototype.az7=function(E){var y=new iU(S.E.v,!0);y.f=F.mq;y.data={d:"gids",NF:E};this.T(y)};jQ.afR=function(E,y,c){var e=[],p=E[2],H=E[3],Z=E[4],X=0;
if(p==0)X++;if(H==0)X++;if(Z==0)X++;if(X>1&&p==0&&H==0){if(E[0]!=0)e.push(y+E[0]);if(E[1]!=0)e.push(c-E[1]);
return e}var b=c-y-E[0]-E[1];if(p==0){if(Z==0){p=Math.floor(b/H);Z=(b-p*H)/(p-1)}else{p=1;while(H*p+Z*(p-1)+H+Z<=b)p++}}else if(p!=0&&H!=0){if(p*H>b)p=Math.floor(b/H);
Z=(b-p*H)/(p-1)}e.push(y+E[0],c-E[1]);var H=(b-Z*(p-1))/p;for(var N=1;N<p;N++){if(Z==0)e.push(y+E[0]+N*H);
else e.push(y+E[0]+N*H+(N-1)*Z,y+E[0]+N*H+N*Z)}return e};jQ.prototype.Xy=function(E,y,c){this.hQ=E};
jQ.prototype.jH=function(){if(v.Qj(this.fX)&&this.EQ==null)this.zQ();this._()};jQ.prototype.mh=function(E){this.To.c(E.km.sz)};
function fZ(){aq.call(this,[9,2],!1,"---panels/properties",aq.ZV.Wd);this.ayI=null;this.WP=null;this.P0=null;
this.asn=-1;this.Zb=null}fZ.prototype=new aq("");fZ.prototype.Cl=function(E,y){this.Pf=E;this.T4=y;E=E-16;
y=y-30;var c=this.Zb;if(c){c.style.width=E+"px";c.style.height=y+"px";for(var N=0;N<3;N++)this.bB[N].Cl(E-12,y)}};
fZ.prototype.zQ=function(){this.Zb=v.t("div","padded scrollable");this.fX.appendChild(this.Zb);var E=v.t("span");
this.Zb.appendChild(E);this.lr=[new fr([0,3]),new fr([12,73]),new fr([12,91,0])];for(var N=0;N<this.lr.length;
N++){var y=this.lr[N];y.k("click",this.alc,this);E.appendChild(y.n);if(N==2)y.n.style.marginRight="0"}this.Zb.appendChild(v.t("hr"));
this.Lf=new fZ.iK;this.Lf.parent=this;this.ca=new fZ.Xg;this.ca.parent=this;this.$_=new fZ.bz;this.$_.parent=this;
this.bB=[this.Lf,this.ca,this.$_];this.Zb.appendChild(this.Lf.n);this.GB=v.t("div","lpfoot");this.fX.appendChild(this.GB);
this.En=[];for(var N=0;N<3;N++){var y=new fr("W");y.k("click",this.GY,this);this.En.push(y);this.GB.appendChild(y.n)}this.Cl(this.Pf,this.T4)};
fZ.prototype.GY=function(E){var N=this.En.indexOf(E.target),y=new iU(S.E.v,!0);y.f=F.sh;if(N==0)y.data={d:jN.KW};
if(N==1)y.data={d:jN.b0};if(N==2)y.data={d:jN.iI};this.T(y)};fZ.prototype.alc=function(E){var N=this.lr.indexOf(E.currentTarget);
this.q$(N);this.avS(N==1?this.ca.ht:-1)};fZ.prototype.q$=function(E){for(var N=0;N<3;N++){this.lr[N].FE();
var y=this.bB[N].n;if(y.parentNode==this.Zb&&N!=E)this.Zb.removeChild(y);if(y.parentNode!=this.Zb&&N==E)this.Zb.appendChild(y)}this.lr[E].Fw()};
fZ.prototype.avS=function(E){var y=this.WP.g[0],c=this.WP.B[y],e=E+1;if(E==1&&c.EL)return;var p=new iU(S.E.v,!0);
p.f=F.sh;if(E!=1&&c.EL){p.data={d:jN.R5,a:y,yu:2};this.T(p)}p.data={d:jN.R5,a:y,yu:e};this.T(p)};fZ.prototype._=function(){aq.prototype._.call(this);
if(this.Zb==null)return;this.Xy(this.WP);for(var N=0;N<3;N++){this.lr[N]._();this.bB[N]._()}c8.lD(this.En,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
fZ.prototype.jH=function(){if(!v.Qj(this.fX))return;if(this.Zb==null){this.zQ();this.mh(this.P0,iL.Dg);
this.Xy(this.ayI);this._()}};fZ.prototype.Xy=function(E){this.ayI=E;if(this.Zb==null)return;this.Lf.Xy(E);
this.ca.Xy(E);this.$_.Xy(E);if(E==null||E.g.length==0||E.B[E.g[0]]==null){v.Jn(this.fX,"disabled");this.WP=null;
return}else v.yo(this.fX,"disabled");var y=E.g[0],c=E.B[y];this.En[0].c(c.av);this.En[1].c(c.OQ());var e=E.sA(),p=e[0],H=e[1];
if(H.length!=0){var Z=p[H[0]],X=Z.add.vogk,b=!1;if(X)for(var N=0;N<X.length;N++){var k=X[N].v;if(!d.gM.yt(k))continue;
b=!0;y=Z.h2}}y+=","+b;if(E!=this.WP||this.asn!=y){this.WP=E;this.asn=y;if(b)this.q$(2);else if(c.p6<1&&!c.EL||et.get(c.add))this.q$(0);
else this.q$(1)}this.lr[1].U0(this.ca.ht!=-1);this.lr[2].U0(b)};fZ.prototype.mh=function(E,y){this.P0=E;
if(this.Lf)this.Lf.mh(E,y);if(this.$_)this.$_.mh(E,y)};fZ.iK=function(){dT.call(this);this.n=v.t("div","form");
this.apt=new bU("Hello");this.P$=new fr([1,12,2],null,null,!0);this.P$.n.style.atL="right";this.P$.k("click",this.VP,this);
this.n.appendChild(this.apt.n);this.n.appendChild(this.P$.n);this.Eo=null;this.d_=null;this.WP=null;
this.P0=null;this.azE=-1;this.apW=null;this.mF=null;this.mb=new iy(0,!0,!0);this.mb.parent=this;this.mb.k(S.E.p,this.aBv,this);
this.n.appendChild(this.mb.n);this.AF=new eX(!0);this.AF.parent=this;this.AF.k(S.E.p,this.apj,this);
this.iV=v.t("div","marged hiline");this.iV.appendChild(this.AF.n);this.ts=new iQ("GrFl",!0);this.ts.parent=this;
this.ts.k(S.E.p,this.al6,this);this.Ke=v.t("div","marged hiline");var E="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var N=0;N<E.length;N++){var y=this.ts.Jj[E[N]].n;this.Ke.appendChild(y)}this.i$=new iQ("patternFill",!0);
this.i$.parent=this;this.i$.k(S.E.p,this.ajE,this);this.gQ=v.t("div","marged hiline");var E=["Ptrn","Angl","Scl","Algn","phase"];
for(var N=0;N<E.length;N++){var y=this.i$.Jj[E[N]].n;this.gQ.appendChild(y)}this.N$={};for(var c in et.names){if(bK[c]==null)continue;
this.N$[c]=new bK[c];this.N$[c].k(S.E.p,this.a6Q,this);this.N$[c].parent=this}var e=this.am7=v.t("div","marged hiline");
this.pO=new iy(0,!0);e.appendChild(this.pO.n);this.pO.k(S.E.p,this.JI,this);this.avc=null;this.cJ=new bi;
this.cJ.parent=this;this.cJ.k(S.E.p,this.JI,this);e.appendChild(this.cJ.n)};fZ.iK.prototype=new dT;fZ.iK.prototype.aBv=function(E){var y=this.mb.h(),c=this.mF,e=new ir(y[0],y[1],y[2],y[3]);
if(e.rT(c))return;this.mF=e;var p=new iU(S.E.v,!0);if(c.m==e.m&&c.e==e.e){p.f=F.mq;p.data={d:"trsl",Fc:e.x-c.x,Sq:e.y-c.y}}else{p.f=F.Xm;
p.data={d:"scl",xs:[2,4],b:new eq(e.m/c.m,e.e/c.e),RG:0}}this.T(p)};fZ.iK.prototype.Cl=function(E,y){var c=this.N$;
for(var e in c)c[e].Cl(E,y)};fZ.iK.prototype.VP=function(E){var y=this.WP,c=y.B[y.g[0]],e=et.get(c.add);
this.d_.c(cN.TL(e));this.a6Q()};fZ.iK.prototype._=function(){for(var E in this.N$)this.N$[E]._();this.ts._();
this.i$._();this.cJ._();this.pO._();this.P$._();this.mb._()};fZ.iK.prototype.JI=function(E){var y=new iU(S.E.v,!0),c=this.pO.h(),e=this.avc;
if(E.target==this.pO&&c[2]==e[2]&&c[3]==e[3]){y.f=F.mq;y.data={d:"trsl",Fc:c[0]-e[0],Sq:c[1]-e[1]}}else{var p=jN.jB(new ir(c[0],c[1],c[2],c[3])),H=this.cJ.aqr();
H.artboardRect={t:"Objc",v:p};var Z=this.WP,X=Z.B[Z.g[0]],b=X.add.artb.guideIndeces;if(b)H.guideIndeces=JSON.parse(JSON.stringify(b));
y.f=F.sh;y.data={d:jN.qA,eP:H}}this.T(y)};fZ.iK.prototype.apj=function(E){var y=this.WP,c=y.g[0];if(y.B[c].add.SoCo==null)return;
var e=JSON.parse(JSON.stringify(y.B[c].add.SoCo));e.Clr.v=this.AF.h();this.xL({uC:1,f3:e})};fZ.iK.prototype.al6=function(E){var y=this.WP,c=y.g[0];
if(y.B[c].add.GdFl==null)return;this.xL({uC:2,f3:this.ts.h()})};fZ.iK.prototype.ajE=function(E){this.xL({uC:3,f3:this.i$.h()})};
fZ.iK.prototype.xL=function(E){this.aAc(F.sh,{d:jN.Od,CT:[this.WP.g[0]],Xr:!0,b:E})};fZ.iK.prototype.a6Q=function(E){this.aAc(F.rr,{d:"edit_layer",b:this.d_.h()})};
fZ.iK.prototype.aAc=function(E,y){var c=new iU(S.E.v,!0);c.f=E;c.data=y;this.T(c)};fZ.iK.prototype.Xy=function(E,y){var c=i4.get([0,3]),e=!1,p=!1,H=null;
this.WP=E;if(E&&E.B.length>0&&E.g.length!=0&&E.B[E.g[0]]){var Z=E.B[E.g[0]],X=et.get(Z.add);if(X!=null&&this.N$[X]!=null){H=this.N$[X].n;
this.d_=this.N$[X];this.N$[X].c(JSON.parse(JSON.stringify(Z.add[X])));if(E.g[0]!=this.azE){var b=E.eA(E.g[0]-1);
this.apW=d.KQ(b)}this.N$[X].i3(this.apW);c=i4.get(et.names[X]);e=!0}if(X==null&&Z.add.artb==null){var k=this.mF=d.A.u8(F.Y.EK(E));
p=!k.tj();var D=E.vI();k.x-=D.x;k.y-=D.y;this.mb.c([k.x,k.y,k.m,k.e],[E.$c,E.m,this.P0.km.sz])}if(Z.add.SoCo){H=this.iV;
this.AF.c(Z.add.SoCo.Clr.v);c=i4.get([6,48,0,0])}if(Z.add.GdFl){H=this.Ke;this.ts.update(E,Z.add.GdFl);
c=i4.get([6,48,0,1])}if(Z.add.PtFl){H=this.gQ;this.i$.update(E,Z.add.PtFl);c=i4.get([6,48,0,2])}if(Z.add.artb){var j=Z.add.artb,g=Z.fQ();
H=this.am7;this.cJ.agJ(j);var R=this.avc=[g.x,g.y,g.m,g.e];this.pO.c(R,[E.$c,E.m,this.P0.km.sz]);c=i4.get([1,16,0])}this.azE=E.g[0]}if(H!=this.Eo){if(this.Eo)this.n.removeChild(this.Eo);
if(H!=null)this.n.appendChild(H);this.Eo=H}this.apt.c(c);this.P$.n.style.display=e?"":"none";this.mb.n.style.display=p?"":"none"};
fZ.iK.prototype.mh=function(E,y){this.P0=E;this.ts.mh(E,y);this.i$.mh(E,y);if(y==iL.kG)this.Xy(this.WP,E);
for(var c in this.N$)this.N$[c].mh(E,y)};fZ.Xg=function(){dT.call(this);this.n=v.t("div","form");this.WP=null;
this.ht=0;var E=v.t("span","fitem");this.n.appendChild(E);this.lr=[new fr([6,2]),new fr([6,3]),new fr([6,50])];
for(var N=0;N<this.lr.length;N++){var y=this.lr[N];y.k("click",this.aD0,this);E.appendChild(y.n)}this.WQ=new dX([12,74],0,255);
this.WQ.k(S.E.p,this.YZ,this);this.n.appendChild(this.WQ.n);this.mm=new dX([7,6],0,500,"px",2,!0);this.mm.k(S.E.p,this.YZ,this);
this.n.appendChild(this.mm.n);this.jE=new fr([4,11],null,null,!0);this.jE.k("click",this.aDa,this)};
fZ.Xg.prototype=new dT;fZ.Xg.prototype.aDa=function(){var E=new iU(S.E.v,!0);E.f=F.rr;E.data={d:"start",Bn:"nvrt"};
this.T(E)};fZ.Xg.prototype.YZ=function(E){var y=this.WQ.h(),c=this.mm.h(),e=new iU(S.E.v,!0);e.f=F.sh;
e.data={d:jN.$P,tk:this.WP.g[0],s1:{tc:this.ht,WQ:y,mm:c}};this.T(e)};fZ.Xg.prototype._=function(){for(var N=0;
N<this.lr.length;N++)this.lr[N]._();this.WQ._();this.mm._();this.jE._()};fZ.Xg.prototype.Xy=function(E){this.WP=E;
this.VX()};fZ.Xg.prototype.aD0=function(E){this.VX(this.lr.indexOf(E.currentTarget));this.parent.avS(this.ht)};
fZ.Xg.prototype.VX=function(E){var y=this.WP,c=this.lr;for(var N=0;N<3;N++){var e=c[N];e.FE();e.Cp()}if(y==null||y.B.length==0||y.g.length==0||y.B[y.g[0]]==null)return;
var p=-1,H=y.B[y.g[0]];if(H.p3()&&H.kP(y).F!=null){c[2].fh();p=2}if(H.add.vmsk){c[1].fh();p=1}if(H.Nb()){c[0].fh();
p=0}if(E!=null)p=E;else if(H.EL)p=1;else if(H.p6==3)p=2;else if(H.p6==1)p=0;this.ht=p;if(p==-1){this.WQ.Cp();
this.mm.Cp();return}var Z=H.zp(p);this.WQ.fh();this.mm.fh();this.WQ.c(Z.WQ);this.mm.c(Z.mm);c[p].Fw();
var X=this.jE.n;if(p==0)this.n.appendChild(X);else if(X.parentNode==this.n)this.n.removeChild(X)};fZ.bz=function(){dT.call(this);
this.n=v.t("div","form");this.hQ=null;this.P0=null;this.rG=-1;this.mb=new iy(0,!1);this.Of=new dX([12,15],-180,180,"\xB0",2);
this.ru=new iy(1,!0);this.Ly=new dX([12,94,0],0,100,null,2);this.UU=new dX([12,78],3,30);this.IR=new fr(["\u279C  ",[12,76,0]],null,null,!0);
this.mb.k(S.E.p,this.XN,this);this.Of.k(S.E.p,this.XN,this);this.ru.k(S.E.p,this.XN,this);this.Ly.k(S.E.p,this.XN,this);
this.UU.k(S.E.p,this.XN,this);this.IR.k("click",this.XN,this)};fZ.bz.prototype=new dT;fZ.bz.prototype._=function(){this.mb._();
this.Of._();this.ru._();this.Ly._();this.UU._()};fZ.bz.prototype.XN=function(E){var y=this.hQ,c=d.gM.C0(y),e=E.target.h(),p=[this.mb,this.Of,this.ru,this.Ly,this.UU,this.IR].indexOf(E.target);
if(p==0){var H=y.vI(),Z=[],X=Z[0]=e[0]+H.x,b=Z[1]=e[1]+H.y;Z[2]=X+e[2];Z[3]=b+e[3];e=Z}if(p==1)e=e*Math.PI/180;
var k={0:1,1:2,2:3,3:3,4:4}[p];c[k]=e;var D=new iU(S.E.v,!0);D.f=F.sh;D.data={d:jN.v7,b:c,a2l:p==5};
this.T(D)};fZ.bz.prototype.Xy=function(E){var y=this.n;this.hQ=E;if(E==null)return;var c=this.P0,e=[E.$c,E.m,c.km.sz],p=d.gM.C0(E),H=p[0],Z=p[1];
if(Z==null)return;var X=H!=this.rG;this.rG=H;if(X)v.Vz(y);if(X)y.appendChild(this.mb.n);if(X)y.appendChild(this.Of.n);
var b=E.vI();this.mb.c([Z[0]-b.x,Z[1]-b.y,Z[2]-Z[0],Z[3]-Z[1]],e);this.Of.c(p[2]*180/Math.PI);if(H==2){if(X)y.appendChild(this.ru.n);
var k=p[3];this.ru.c(k,e)}if(H==7||H==8){if(X)y.appendChild(this.Ly.n);this.Ly.c(p[3])}if(H==8){if(X)y.appendChild(this.UU.n);
this.UU.c(p[4])}y.appendChild(this.IR.n)};fZ.bz.prototype.mh=function(E,y){this.P0=E;this.Xy(this.hQ)};
function fw(E){aq.call(this,E.name,!0);this.cX=E;this.vE=null;this.a7=new ey(this.fX);this.a7.parent=this}fw.prototype=new aq;
fw.Oa=function(){var E=document.createElement("canvas"),y=document.createElement("canvas"),c=16,e=d.R(16*16*4);
d.o2(e,c,c,8);var p=d.scale.lp(e,c,c);return{Ox:E,qV:y,tP:E.getContext("2d",{willReadFrequently:!0}),aR:y.getContext("2d"),sS:p}}();
fw.prototype.asu=function(){if(this.cX.LP())return window.confirm(i4.get([22,6,3])+" "+this.cX.name+". "+i4.get([22,6,4]));
return!0};fw.prototype.mh=function(E,y){this.vE=E};fw.prototype.Xy=function(E){this.jH();this.HB()};
fw.prototype.Cl=function(E,y){if(E<=0||y<=0)return;this.Pf=E;this.T4=y;var c=this.cX,e=fw.Oa,p=v.k1();
c.Q.tP.m=Math.floor(E*p);c.Q.tP.e=Math.floor(y*p);v.Uh(e.Ox,E,y);v.Uh(e.qV,E,y);v.Uh(h0.FB(),E,y);if(c.Q.O==0)c.Q.O=F.tg.HK(c.m,c.e,E*p,y*p);
this.HB()};fw.prototype.jH=function(){var E=this.fX.firstChild,y=fw.Oa,c=h0.Lq&&aw==0;if(!c&&E==h0.FB()||c&&E==y.Ox)this.fX.removeChild(E);
var e=c?h0.FB():y.Ox;if(!v.Qj(e))this.fX.appendChild(e)};fw.prototype.HB=function(){if(this.vE==null)return;
var E=this.cX,y=h0.Lq&&aw==0;if(y)this.aCU();else this.QS()};fw.prototype.aCU=function(){if(h0.Lq&&fw.rU==null){var E=fw.rU=[],y=[0,2,8,32,128];
for(var N=0;N<5;N++)E[N]=[new fw.bO(!1,y[N],!1),new fw.bO(!0,y[N],!1)];E.push([new fw.bO(!1,0,!0),new fw.bO(!0,0,!0)])}var c=this.cX,e=fw.Oa,t,$=0,J,P;
if(c.to==null)return;var p=c.Q,H=p.tP.m,Z=p.tP.e,X=h0.kA;e.tP.clearRect(0,0,H,Z);var b=this.aC7(c);if(p.M4==null||p.M4.m!=H||p.M4.e!=Z)p.M4=new h0.Ay(H,Z);
if(b){var k=Date.now(),D=Z,j=new Uint8Array(e.tP.getImageData(0,0,H,D).data.buffer);p.M4.set(j,new ir(0,0,H,D));
this.fR=!0}else if(this.vE.B3){if(this.fR){h0.Lm(p.M4);h0.QI(1);this.fR=!1}var g=d._5.rs,j=new Uint8Array(c.Q._E.data.buffer);
p.M4.set(j,new ir(0,0,g,Z));var j=new Uint8Array(c.Q.um.data.buffer);p.M4.set(j,new ir(0,0,H,g));var j=new Uint8Array(e.tP.getImageData(0,Z-g,H,g).data.buffer);
p.M4.set(j,new ir(0,Z-g,H,g));this.fR=!0}else if(this.fR){h0.Lm(p.M4);h0.QI(1);this.fR=!1}var R=p.qW(0,0);
if(fw.ak_==null)fw.ak_=new Float32Array(4*1024);var w=[0,0,0,0],B=fw.ak_;if(c.add.artd){B.fill(0);w=fw.DV(c);
var o=c.m,T=c.e,M=0;for(var N=0;N<c.B.length;N++){var i=c.B[N],r=i.add.artb;if(r==null||!i.OQ())continue;
var I=i.fQ();B[$]=I.x/o;B[$+1]=I.y/T;B[$+2]=I.m/o;B[$+3]=I.e/T;$+=4;if($==B.length)break}if($>2*4)M++;
if($>8*4)M++;if($>32*4)M++;t=fw.rU[M+1];B=new Float32Array(B.buffer,0,[2,8,32,128][M]*4)}else t=fw.rU[c.sG?5:0];
var n=c.Xj();if(n==null)t=t[0];else{t=t[1];P=n[c.add.fcmy==1?6:4];J=n[2]}h0.aeG(H,Z);h0.QI(0);h0.aeG(H,Z);
t.rh();var x=new jr;x.scale(H,Z);x.concat(p.GM(!0));x.scale(1/c.m,1/c.e);var L=[x.U,x.J,0,x.E7,x.sN,0,x.Kc,x.Dm,1];
t.pj(p.M4.Ln,c.to.Ln,new Float32Array(L),new Float32Array([H/8,Z/8,R.x/H,R.y/Z]),c.m,c.e,1/c.Q.O,H,Z,new Float32Array(w),B,new Float32Array(d.Av.El(d.Av.arj(p.V))),P,J);
X.drawArrays(X.TRIANGLES,0,6)};fw.DV=function(E){return[0,0,0,0]};fw.aco=function(E){var y=d.L.yd(E.v),c=[y.Z/255,y.D/255,y.J/255,1];
for(var N=0;N<4;N++)c[N]=Math.min(1,c[N]);return c};fw.jW=function(E,y){var c=E[2]*255;if(h0.Lq)c=y?0:Math.max(2,c);
return"rgba("+E[0]*255+","+E[1]*255+","+c+","+E[3]+")"};fw.e4=function(E){var y=E.length;if(h0.Lq)for(var N=0;
N<y;N+=4){if(E[N+2]==0)E[N+2]=3}};fw.prototype.QS=function(){var E=this.cX,y=fw.Oa;if(aw==0&&E.buffer==null)return;
var c=E.Q,e=c.tP,p=e.m,H=e.e,Z=new ir(0,0,E.m,E.e);y.aR.clearRect(0,0,p,H);y.tP.clearRect(0,0,p,H);var X=c.GM(!0),b=X.clone();
b.Ub();if(E.add.artd==null){y.tP.save();var k=b.dl(new eq(0,0));b.translate(-k.x,-k.y);y.tP.translate(Math.round(k.x),Math.round(k.y));
y.tP.fillStyle=aw==0?y.sS:"#ffffff";if(E.sG)y.tP.fillRect(-5e3,-5e3,2e4,2e4);else{var D=E.add.arts;if(aw==1)for(var N=0;
N<D.length;N++){var j=d.A.n7(D[N].Mj);this.ev(d.A.S6(j),b,y.tP);y.tP.fill()}else{this.ev(d.A.S6(Z),b,y.tP);
y.tP.fill()}}y.tP.restore()}else{y.tP.fillStyle=fw.jW(fw.DV(E));y.tP.fillRect(0,0,p,H);y.tP.save();y.tP.setTransform(b.U,b.J,b.E7,b.sN,b.Kc,b.Dm);
var g=E.root.children;for(var N=0;N<g.length;N++){var R=g[N].a;if(R.add.artb==null||!R.OQ())continue;
var t=R.fQ(),w=R.$g();if(w!=0)continue;y.tP.fillStyle=y.sS;y.tP.save();y.tP.scale(1/c.O,1/c.O);y.tP.fillRect(c.O*t.x,c.O*t.y,t.m*c.O,t.e*c.O);
y.tP.restore()}y.tP.restore()}if(c.mO.length!=e.P()){c.mO=d.R(e.P());c.qJ=d.R(e.P()*4)}c.qJ.fill(0);
if(aw==1){var b=c.GM(!0);b.Ub();y.tP.save();var B=d.A.S6(c.tP);d.A.u(B.j,c.GM(!0),B.j);var j=d.A.xv(B.j);
y.tP.setTransform(b.U,b.J,b.E7,b.sN,b.Kc,b.Dm);E.root.II(E,y.tP,this.vE,j);y.tP.restore()}else{d.scale.ana(E.buffer,Z,X,c.qJ,e,E.sG);
var $=E.Xj();if($)ICC.U.applyLUT($[E.add.fcmy==1?5:3],$[2],c.qJ,c.qJ);if(c.V[0]+c.V[1]+c.V[2]!=3)d.Av.ajc(c.qJ,c.qJ,d.Av.arj(c.V));
y.aR.putImageData(new ImageData(new Uint8ClampedArray(c.qJ.buffer),e.m,e.e),0,0);y.tP.drawImage(y.qV,0,0);
y.tP.getImageData(0,0,1,1)}this.aC7(E)};fw.prototype.aC7=function(E){var y=E.Q,c=y.V[0]+y.V[1]+y.V[2],e=fw.Oa,p=!1,H=[];
for(var N=0;N<E.g.length;N++){var Z=E.B[E.g[N]];if(Z==null)continue;var X=Z.p6;if(X!=1&&X!=3)continue;
var b=X==1?Z.Nb():Z.kP(E).F;if(b.bY)H.push(b)}for(var N=0;N<E.cB.length;N++)if(E.cB[N].bY)H.push(E.cB[N]);
for(var N=0;N<H.length;N++){var b=H[N];this.aqt(b,y,H.length==1&&c==0?2:1,b.color,b.KR);p=!0}var k=this.vE;
p=this.aax(E,e.tP,y,H.length!=0)||p;if(E.i&&k.sL&&k.km.iY){this.aqt(E.i,y,0,0,null);p=!0}return p};fw.prototype.aqt=function(E,y,c,e,p){var H=0;
if(p)H=Math.round(p.J)<<16|Math.round(p.D)<<8|Math.round(p.Z);var Z=y.GM(!0),X=y.tP,b=new ir(0,0,y.cX.m,y.cX.e),k=fw.Oa;
if(y.qJ==null||y.qJ.length!=X.P()*4){y.mO=d.R(X.P());y.qJ=d.R(X.P()*4)}y.mO.fill(e);y.qJ.fill(0);var D=E.channel,j=E.rect;
d.scale.u(D,j,Z,y.mO,X);if(c==0){var g=new Uint32Array([4278190080,4294967295]);fw.e4(new Uint8Array(g.buffer));
d.i.atT(y.mO,y.qJ,X,g,v.k1()>1.9)}else{var R=Date.now();d.i.ajW(y.mO,y.qJ,X,c,H);fw.e4(y.qJ)}var t=new ImageData(new Uint8ClampedArray(y.qJ.buffer),X.m,X.e);
k.aR.putImageData(t,0,0);k.tP.save();if(c!=0){var w=new ir(0,0,b.m,b.e),B=Z.clone();B.Ub();this.ev(d.A.S6(w),B,k.tP);
k.tP.clip()}k.tP.drawImage(k.qV,0,0);k.tP.restore()};fw.prototype.aax=function(E,y,c,e){var p=E.N.zm!=null||E.N.Aq!=null||E.N.Vq!=null||E.N.d2!=null||E.N.yZ.length!=0||E.N.Wi.length!=0,H=this.vE,Z=H.km,X=i3.p8[H.c6],b=Math.round(12*v.k1()),k=b/E.Q.O,D=c.GM(!0);
D.Ub();y.save();y.setTransform(D.U,D.J,D.E7,D.sN,D.Kc,D.Dm);var j=fw.DV(E)[0];j=j<.5?j+.5:j-.5;j=""+Math.round(j*255).toString(16);
while(j.length<2)j="0"+j;y.font=k+"px sans-serif";if(E.add.artd){y.fillStyle="#"+j+j+j;for(var N=0;N<E.B.length;
N++){var g=E.B[N];if(g.add.artb==null||!g.OQ())continue;var R=g.fQ();y.save();y.beginPath();y.rect(R.x,R.y-2*k,R.m,2*k);
y.clip();y.fillText(g.getName(),R.x+2,R.y-k*.7);y.beginPath();y.restore();p=!0}}if(E.add.arts&&H.sJ==F.aCL){var t=E.add.arts;
for(var N=0;N<t.length;N++){var R=t[N],w=d.A.n7(R.Mj),B=(N+1+"").padStart(2,"0");B+=" - "+R.p2;y.save();
y.beginPath();y.fillStyle=R.g?"#cce6ff":"#dddddd";y.rect(w.x,w.y,y.measureText(B).width+k,k*1.5);y.fill();
y.fillStyle="black";y.fillText(B,w.x+k/2,w.y+k*1.1);y.restore()}p=!0}function $(j6){return j6==1||j6==2||j6==4||j6==5}var o=fw.jW([.3,.5,1,1]),T=fw.jW([1,1,1,1]);
if(H.sL&&Z.gA){y.fillStyle=y.strokeStyle=o;y.lineWidth=1.5/c.O;var i=E.sA(),r=i[0],I=i[1];for(var M=0;
M<I.length;M++){var g=r[I[M]],J=g.add.vmsk,P=J.X,n=d.A.Pw(P);this.ev(n,null,y);y.stroke();p=!0;var x=3*v.k1()/c.O;
for(var N=0;N<J.V8.length;N++){var L=d.o.aep(P,J.V8[N]);if(L==null)continue;var u=L.x,C=L.y;y.beginPath();
var h=N==0;if(J.WJ)h=!h;if(h){y.moveTo(u-x,C-x);y.lineTo(u+x,C+x);y.moveTo(u-x,C+x);y.lineTo(u+x,C-x);
y.stroke()}else{y.arc(u,C,x*1,0,2*Math.PI);y.fill()}p=!0}if(E.g.length!=1)continue;var A=-1,W=-1,Q=-1;
for(var N=0;N<P.length;N++){if(P[N].type>5)continue;if(P[N].type==0||P[N].type==3){W=N+1;Q=P[N].length;
if(P[N].O0!=-1)A++;continue}if(J.g.indexOf(A)!=-1){var u=P[N].I.x,C=P[N].I.y;y.fillRect(u-x*.8,C-x*.8,2*x*.8,2*x*.8)}if(J.bH.indexOf(N)!=-1){var l=P[N],O=[l.I];
y.beginPath();y.moveTo(l.$0.x,l.$0.y);y.lineTo(l.I.x,l.I.y);y.lineTo(l.dW.x,l.dW.y);var z=W+(N+Q-W-1)%Q,a=W+(N+Q-W+1)%Q,m=P[z],q=P[a];
if(m&&$(m.type)&&J.bH.indexOf(z)==-1){y.moveTo(m.I.x,m.I.y);y.lineTo(m.dW.x,m.dW.y);O.push(m.dW)}if(q&&$(q.type)&&J.bH.indexOf(a)==-1){y.moveTo(q.I.x,q.I.y);
y.lineTo(q.$0.x,q.$0.y);O.push(q.$0)}y.stroke();if(!l.I.rT(l.$0))O.push(l.$0);if(!l.I.rT(l.dW))O.push(l.dW);
for(var K=0;K<O.length;K++){var L=O[K],u=L.x,C=L.y;if(K==0&&(l.type==2||l.type==5))y.fillRect(u-1.2*x,C-1.2*x,2.4*x,2.4*x);
else{y.beginPath();y.arc(u,C,x*1.2,0,2*Math.PI);y.fill();if(K!=0)y.fillStyle=T;y.beginPath();y.arc(u,C,x*.8,0,2*Math.PI);
y.fill();y.fillStyle=o}}}p=!0}}}y.lineWidth=1/c.O;if(E.N.Os){y.fillStyle=y.strokeStyle=o;var q={j:[],G:[]},U=fw.a9m;
if(U==null){U=fw.a9m={j:[1,0],G:["M"]};for(var N=1;N<30;N++){var f=Math.PI*2*N/30;U.j.push(Math.cos(f),Math.sin(f));
U.G.push("L")}U.G.push("Z","M","L","M","L");U.j.push(-.5,0,.5,0,0,-.5,0,.5)}for(var N=0;N<E.N.Os.length;
N++){var m=F.Tm.ajI(E.N.Os[N],c),Y=new jr(m[0],0,0,m[0],m[1],m[2]);d.A.concat(q,U,Y)}this.ev(q,null,y);
y.stroke();p=!0}var G=new jr(1,0,0,1,.5/c.O,.5/c.O);if(E.sG){y.fillStyle=y.strokeStyle=o;var q={j:[0,0,E.m,0,E.m,E.e,0,E.e],G:["M","L","L","L","Z"]};
this.ev(q,G,y);y.stroke();p=!0}if(E.N.Jb){y.fillStyle=y.strokeStyle=fw.jW([0,0,0,.5]);this.ev(E.N.Jb,null,y,!0);
y.fill("evenodd")}y.strokeStyle=o;y.fillStyle=T;if(E.N.Vq){this.ev(E.N.Vq,G,y);y.stroke()}var V=fw.J5(E.N.s$,y,c);
y.fill();y.stroke();p=p||V;y.fillStyle=y.strokeStyle=fw.jW([0,0,0,h0.Lq&&aw==0?1:.5],!0);if(E.N.zm){this.ev(E.N.zm,null,y);
y.fill()}if(E.N.Aq){this.ev(E.N.Aq,G,y);y.stroke()}for(var dF in E.N.r9)if(E.N.r9[dF].Aq){this.ev(E.N.r9[dF].Aq,null,y);
y.stroke();p=!0}var V=fw.J5(E.N.AX,y,c);y.stroke();p=p||V;if(E.N.cj.length+E.N._I.length+E.N.J_.length!=0){p=!0;
y.fillStyle=T;fw.NO(E.N.cj,y,c,6);y.fill();fw.NO(E.N._I,y,c,6);y.fill();y.fillStyle=o;fw.NO(E.N.cj,y,c,4);
y.fill();fw.NO(E.N.J_,y,c,4);y.fill();y.fillStyle=fw.jW([.7,.7,.7,1]);fw.NO(E.N._I,y,c,4);y.fill()}if(E.N.yZ.length!=0){for(var N=0;
N<E.N.yZ.length;N++){var s=E.N.yZ[N],aH=s[1],dw;if(e){dw=y.getImageData(aH.x,aH.y,aH.m,aH.e);d.l.Io("norm",s[0],aH,new Uint8Array(dw.data.buffer),aH,aH,1)}else dw=new ImageData(new Uint8ClampedArray(s[0].buffer),aH.m,aH.e);
y.putImageData(dw,aH.x,aH.y)}}var kO=.5/c.O;y.lineWidth=1/c.O;if(E.N.dS){p=!0;var hX=E.N.dS,jF=hX.Br,n={G:[],j:[]};
for(var N=0;N<hX.WX.length;N++)d.A.concat(n,d.A.S6(hX.WX[N]));n.j=n.j.concat(jF);for(var N=0;N<jF.length;
N+=4){n.G.push("M","L")}for(var N=0;N<n.j.length;N++){n.j[N]+=kO}y.strokeStyle=fw.jW([.9,.2,.2,1]);this.ev(n,null,y);
y.stroke();var gn=v.k1(),hM=2/c.O;y.font=k*.9+"px sans-serif";for(var N=0;N<jF.length;N+=4){var u=jF[N],C=jF[N+1],ie=jF[N+2],bN=jF[N+3],kd=Math.sqrt((bN-C)*(bN-C)+(ie-u)*(ie-u));
kd=d._5.rB(kd,E.$c,H,C==bN?E.m:E.e);var i7=new eq((u+ie)/2,(C+bN)/2);y.fillStyle=fw.jW([.9,.2,.2,1]);
var dn=y.measureText(kd).width;y.fillRect(i7.x-dn/2-hM*gn,i7.y-3.5*hM*gn,dn+2*hM*gn,7*hM*gn);y.fillStyle=fw.jW([1,1,1,1]);
y.save();y.translate(i7.x-dn/2,i7.y+2*hM*gn);y.scale(.1,.1);y.font=k*9+"px sans-serif";y.fillText(kd,0,0);
y.restore()}}if(H.sL){if(Z.ip&&E.Q.O>10&&aw==0){this.o2(E,y,1,1,.25,Z.zP,16777215);p=!0}if(Z.AG){var ew=d._5.o3(Z.VV,E.$c,E.m,Z.pz),e4=ew;
if(Z.pz==4)e4*=E.e/E.m;this.o2(E,y,ew,e4,1,Z.zP,Z.Vg);p=!0}if(Z.oc){var eE=E.Tp(),jc=E.Z1(),ft=Math.max(E.Q.tP.m,E.Q.tP.e)/E.Q.O;
ft=Math.max(Math.max(E.m,E.e)*2,ft);for(var N=0;N<eE[0].length;N++){var bd=eE[0][N],iB=eE[1][N];if(iB!=-1&&iB!=jc)continue;
var cG=c.qW(bd[1],bd[1]),bT=c.GV(Math.floor(cG.x)+.5,Math.floor(cG.y)+.5),g$=d.$E(Z.nK);g$=[g$.Z/255,g$.D/255,g$.J/255,1];
if(iB!=-1)g$=[0,.5,1,1];y.beginPath();y.strokeStyle=fw.jW(g$);if(bd[0]==0){var hU=bT.x;y.moveTo(hU,-ft);
y.lineTo(hU,ft)}else{var ah=bT.x;y.moveTo(-ft,ah);y.lineTo(ft,ah)}y.stroke();p=!0}}var co=E.v0;if(co.length>0&&H.sJ==F.a7t){var aH=7/E.Q.O,im=aH/3,hb=aH*4;
y.strokeStyle=y.fillStyle="black";for(var N=0;N<co.length;N++){var dI=co[N];y.fillRect(dI.x-.5*im,dI.y-.5*hb,im,hb);
y.fillRect(dI.x-.5*hb,dI.y-.5*im,hb,im);y.lineWidth=2.5/E.Q.O;y.beginPath();y.arc(dI.x,dI.y,aH,0,2*Math.PI);
y.stroke();y.font=1.9*aH+"px serif";y.lineWidth=1.25/E.Q.O;y.strokeText(""+(N+1),dI.x+.75*aH,dI.y+2.5*aH)}p=!0}var bw=E.Cv;
if(Z.Cv&&bw.length!=0){y.font=k*.8+"px sans-serif";var fb=[],iG=[];for(var N=0;N<bw.length;N++){var dy=F.Uj.T5(bw,N);
fb.push(dy);if(E.eg.indexOf(N)!=-1)iG.push(dy)}fb.reverse();var kp=Date.now();fb=d.rect.arv([0,0,E.m,E.e],fb);
for(var K=0;K<2;K++)for(var N=0;N<fb.length;N++){var gw=fb[N],A=gw[4],Q=A!=null?bw[A]:null;if(Q&&K==0||Q==null&&K==1)continue;
var u=Math.round(gw[0]),C=Math.round(gw[1]),ie=Math.round(gw[2]),bN=Math.round(gw[3]);y.strokeStyle=y.fillStyle=fw.jW(Q?[0,.7,.7,1]:[.8,.8,.8,1]);
y.strokeRect(u+kO,C+kO,ie-u,bN-C);var dR=N+1,fT=y.measureText(dR),dn=fT.width;y.fillRect(u,C,dn+k/2,k);
y.fillStyle=fw.jW([1,1,1,1]);y.fillText(dR,u+k/4,C+k*.8)}var hM=2/E.Q.O,gA=2*hM;for(var N=0;N<iG.length;
N++){var gw=iG[N],u=Math.round(gw[0]),C=Math.round(gw[1]),ie=Math.round(gw[2]),bN=Math.round(gw[3]);
y.strokeStyle=y.fillStyle=fw.jW([1,.6,0,1]);y.strokeRect(u+kO,C+kO,ie-u,bN-C);var by=[u,C,ie,C,ie,bN,u,bN];
for(var fv=0;fv<by.length;fv+=2){var hU=by[fv],ah=by[fv+1],d4=by[fv+2&7],fg=by[fv+3&7];y.fillRect(hU-hM,ah-hM,gA,gA);
y.fillRect(Math.round((hU+d4)/2)-hM,Math.round((ah+fg)/2)-hM,gA,gA)}}p=!0}var aC=E.add.Anno;if(aC&&aC.length!=0)for(var N=0;
N<aC.length;N++){var bu=aC[N],g$=bu[2],hU=bu[0]-kO,ah=bu[1]-kO,gA=30/c.$H,hj=.4*gA,jg=.6*gA;y.beginPath();
y.moveTo(hU,ah+jg);y.lineTo(hU,ah);y.lineTo(hU+gA,ah);y.lineTo(hU+gA,ah+gA);y.lineTo(hU+hj,ah+gA);y.closePath();
y.lineTo(hU+hj,ah+jg);y.lineTo(hU+hj,ah+gA);if(N==E.Q.w2){y.lineWidth*=5;y.strokeStyle=fw.jW([0,0,0,.5]);
y.stroke();y.lineWidth/=5}y.fillStyle=fw.jW([g$.Z/255,g$.D/255,g$.J/255,1]);y.fill();y.strokeStyle=fw.jW([0,0,0,1]);
y.stroke()}}y.strokeStyle=fw.jW([1,0,0,1]);if(E.N.d2){this.ev(E.N.d2,G,y);y.stroke()}y.restore();if(H.B3){if(E.Q.um==null||E.Q.um.width!=E.Q.tP.m||E.Q._E.height!=E.Q.tP.e){E.Q.um=y.createImageData(E.Q.tP.m,d._5.rs);
E.Q._E=y.createImageData(d._5.rs,E.Q.tP.e)}var X=i3.p8[H.c6],cm=0,bz=0,db=E.m,eM=E.e;if(E.Z1()!=-1){var R=E.B[E.Z1()].fQ();
cm=R.x;bz=R.y;db=R.m;eM=R.e}cm*=c.O;bz*=c.O;var c=E.Q,de=[1,E.$c,E.$c/2.54,E.$c/25.4,db/100][Z.sz],eb=c.O*E.m/2,k8=c.O*E.e/2,hc=[c.O*de,new eq(c.z.x+(cm+eb*de-eb),c.z.y+(bz+k8*de-k8))];
if(Z.sz==4)de*=eM/db;var bg=[c.O*de,new eq(c.z.x+(cm+eb*de-eb),c.z.y+(bz+k8*de-k8))],k5=this.a7.pp;d._5.adG(c,X["--text-color"],X["--bg-input"],Math.floor(k5.x),Math.floor(k5.y),hc,bg);
var e5=cP.adc(c.O,fw.jW([1,1,1,1]),E.m,E.e);fw.e4(E.Q._E.data);fw.e4(E.Q.um.data);y.putImageData(E.Q._E,0,0);
y.putImageData(E.Q.um,0,0);y.putImageData(e5,0,E.Q.tP.e-e5.height)}if(E.N.Wi.length!=0){for(var N=0;
N<E.N.Wi.length;N++){var s=E.N.Wi[N],aH=s[1];y.putImageData(new ImageData(new Uint8ClampedArray(s[0].buffer),aH.m,aH.e),aH.x,aH.y)}}return p};
fw.prototype.o2=function(E,y,c,e,p,H,Z){while(c*E.Q.O<4){c*=2;e*=2}var X=E.m,b=E.e,k=.5/E.Q.O;Z=d.$E(Z);
y.strokeStyle=fw.jW([Z.Z/255,Z.D/255,Z.J/255,p],!1);y.save();y.rect(0,0,X,b);y.clip();y.beginPath();
for(var D=0;D<=X;D+=c){y.moveTo(D+k,0);y.lineTo(D+k,b)}if(H==0){for(var j=0;j<=b;j+=e){y.moveTo(0,j+k);
y.lineTo(X,j+k)}}else{e*=Math.sqrt(4/3);var g=e*Math.floor(X/e),R=X*(e/(2*c));for(var j=-g;j<=b+g;j+=e){y.moveTo(0,j);
y.lineTo(X,j-R);y.moveTo(0,j);y.lineTo(X,j+R)}}y.stroke();y.restore()};fw.NO=function(E,y,c,e){y.beginPath();
var p=e*v.k1()/c.O,H=!1;for(var N=0;N<E.length;N+=2){H=!0;var Z=E[N],X=E[N+1];y.moveTo(Z+p,X);y.arc(Z,X,p,0,2*Math.PI)}return H};
fw.J5=function(E,y,c,e){y.beginPath();var p=(e?e:1)*(4*v.k1()+.5)/c.O,H=!1;for(var N=0;N<E.length;N+=2){H=!0;
var Z=E[N],X=E[N+1];y.rect(Z-p,X-p,2*p,2*p)}return H};fw.tE=function(E,y,c,e){c.beginPath();if(e)c.rect(-1e5,-1e5,1e6,1e6);
var p=E;if(y){p=d.A.clone(E);d.A.u(p.j,y,p.j)}Typr.U.pathToContext({cmds:p.G,crds:p.j},c)};fw.prototype.ev=fw.tE;
fw.bO=function(E,y,c){h0.H8.call(this);var e=this.a43=y!=0,p=c?"true":"in01(sCoord)",H="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(E?"uniform sampler2D lut;  uniform float N;  "+h0.KP.adx:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(e?"uniform vec4 bgClr;  uniform vec4 ars["+y+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+h0.KP.atc+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(c?"-floor(sCoord)":"")+"); \t\t\t\t"+(E?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(e?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+y+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+p+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+p+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",Z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Rz(H,Z)};fw.bO.prototype=new h0.H8;fw.bO.prototype.pj=function(E,y,c,e,p,H,Z,X,b,k,D,j,g,R){this.d3("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var t=h0.kA,w=this.oj;t.uniformMatrix3fv(w.tmat,!1,c);t.uniform4fv(w.gsize,e);t.uniform3f(w.contSizeZoom,p,H,Z);
t.uniform2f(w.cnvSize,X,b);t.uniformMatrix4fv(w.ctrn,!1,j);if(this.a43){t.uniform4fv(w.ars,D);t.uniform4fv(w.bgClr,k)}t.uniform1i(w.source,0);
t.uniform1i(w.target,1);t.activeTexture(t.TEXTURE0);t.bindTexture(t.TEXTURE_2D,E);t.activeTexture(t.TEXTURE1);
t.bindTexture(t.TEXTURE_2D,y);if(g){t.uniform1f(w.N,R);t.uniform1i(w.lut,2);t.activeTexture(t.TEXTURE2);
t.bindTexture(t.TEXTURE_2D,g.Ln);var B=t.LINEAR;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,B);
t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,B)}t.activeTexture(t.TEXTURE0)};function f6(){aq.call(this,[9,7],!1,"---panels/layercomps",aq.ZV.aCE);
this.fX.setAttribute("style","min-width:240px;");this.WP=null;this.WB=-1;this.pK=[];this.hB=v.t("div","scrollable");
this.hB.style.height="160px";this.fX.appendChild(this.hB);this.GB=v.t("div","lpfoot");this.fX.appendChild(this.GB);
this.kx=[];var E=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],y=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var N=0;N<E.length;N++){var c=E[N];if(N>0)c="<img src=\""+PIMG[E[N]]+"\" class=\"miniscale gsicon\" />";
var e=new fr(c,!1,y[N]);e.k("click",this.ayF,this);this.GB.appendChild(e.n);this.kx.push(e)}}f6.prototype=new aq("");
f6.prototype.Cl=function(E,y){this.fX.setAttribute("style","width:"+(E-2)+"px;");this.hB.style.height=y-28+"px"};
f6.prototype.tH=function(E){var y=new iU(S.E.v,!0);y.data=E;y.f=F.ug;this.T(y)};f6.a8j="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
f6.prototype.ayF=function(E){var N=this.kx.indexOf(E.currentTarget)-1;if(N==-1){var y=new iU(S.E.M,!0);
y.data={d:S.H.HT,uc:f6.a8j};this.T(y);return}if(N!=1)if(this.WB==-1)return;this.tH({d:["updLC","addLC","delLC"][N],h2:this.WB});
if(N==2)this.WB=-1};f6.prototype._=function(){aq.prototype._.call(this);for(var N=0;N<this.kx.length;
N++)this.kx[N]._()};f6.prototype.Xy=function(E){if(E==null)v.Jn(this.fX,"disabled");else v.yo(this.fX,"disabled");
this.WP=E;v.Vz(this.hB);if(E==null)return;var y=E.$k.lastAppliedComp?E.$k.lastAppliedComp.v:0,c=E.$k.list.v.slice(0);
c.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var N=0;N<c.length;
N++){var e=c[N].v,p=new bE(e.Nm.v,e.compID.v,e.capturedInfo.v,y,this.WB);p.k("activate",this.Zt,this);
p.parent=this;this.hB.appendChild(p.n);this.pK.push(p)}};f6.prototype.Zt=function(E){this.WB=E.currentTarget.h2;
this.Xy(this.WP)};function bE(E,N,y,c,e){dT.call(this);this.h2=N;this.n=v.t("div","head listitem"+(N==e?" selected":""));
var p=N==c,H=new fr(p?"\u2713":"\u2014");if(p)H.Fw();this.n.appendChild(H.n);H.k("click",this.e6,this);
var Z=this.NI=v.t("span");Z.textContent=E;this.n.appendChild(Z);this.kx=[];if(N!=0){this.n.addEventListener("mouseup",this.Zt.bind(this),!1);
this.aBM=v.t("span","headR");this.n.appendChild(this.aBM);var X=["lrs/eye","pos","lrs/fx"],b=["Visibility","Position","Appearance"];
for(var k=0;k<X.length;k++){var D=new fr("<img src=\""+PIMG[X[k]]+"\" class=\"autoscale gsicon\" />",!1,b[k]);
if((y>>k&1)==0)D.n.setAttribute("style","opacity:0.3");D.k("click",this.a3i,this);this.aBM.appendChild(D.n);
this.kx.push(D)}}}bE.prototype=new dT;bE.prototype.Zt=function(E){if(E.target!=this.NI&&E.target!=this.n)return;
if(E.detail==1)this.T(new iU("activate",!1));else{var y=new aq.Rr(this.NI,this.ez.bind(this))}};bE.prototype.a3i=function(E){var N=this.kx.indexOf(E.currentTarget);
this.tH({d:"editLC",a08:N,h2:this.h2})};bE.prototype.ez=function(E){this.tH({d:"editLC",RK:E,h2:this.h2})};
bE.prototype.e6=function(E){this.tH({d:"setLC",h2:this.h2})};bE.prototype.tH=function(E){var y=new iU(S.E.v,!0);
y.data=E;y.f=F.ug;this.T(y)};function i8(){aq.call(this,[9,11],!1,"---panels/navigator",aq.ZV.ayn);var E=this.fX;
v.Jn(E,"padded");E.setAttribute("style","cursor:grab;");this.V$=v.t("canvas");E.appendChild(this.V$);
v.vY(E);v._N(this.V$);v.Qp(this.V$,this.dd.bind(this));this.Zz=new i_(null,2,6400,"%",null,!0);this.Zz.k(S.E.p,this.aka,this);
E.appendChild(this.Zz.n);this.alP=this.Eq.bind(this);this.a5d=this.KI.bind(this);this.hQ=null;this.Ko=null;
this.t7=!1}i8.prototype=new aq("");i8.prototype.Cl=function(E,y){this.Pf=E*1.2;this.T4=y*1.2;this.HB()};
i8.prototype.aka=function(E){var y=this.Zz.h(),c=this.hQ,e=y/100;if(.8<e&&e<1.2)e=1;else if(1.8<e)e=Math.round(e);
var p=new iU(S.E.v,!0);p.f=F.fE;p.data={d:"zoom",O:e};this.T(p)};i8.prototype.dd=function(E){var y=this.hQ;
if(y==null)return;this.t7=!0;v.FY(window,this.alP);v.Fo(window,this.a5d)};i8.prototype.Eq=function(E){var y=v.RM(E,this.V$),c=this.hQ,e=this.V$.width,p=this.V$.height,H=(y.x*v.k1()-e/2)/e,Z=(y.y*v.k1()-p/2)/p,X=v.k1()*c.Q.O,b=Math.round(-c.Q.O*c.m*H),k=Math.round(-c.Q.O*c.e*Z);
F.nY.Fm(c,b,k)};i8.prototype.KI=function(E){v.Ci(window,this.alP);v.QM(window,this.a5d);this.t7=!1};
i8.prototype.Xy=function(E){if(E==null&&this.hQ!=null)this.V$.width=100;this.hQ=E;this.HB()};i8.prototype.aBs=function(){var E=this.hQ,y=v.k1(),c=F.tg.HK(E.m,E.e,y*(this.Pf-10),y*(this.T4-36)),e=d.K4(E.eA(),new ir(0,0,E.m,E.e),c);
this.Ko=[e.bb,e.rect]};i8.prototype.HB=function(){var E=this.hQ;if(E==null||E.Q.O==0)return;var y=E.Q;
if(!v.Qj(this.fX))return;this.Zz.c(y.O*100);if(!this.t7)this.aBs();var c=this.Ko[0],e=this.Ko[1],p=e.m,H=e.e,Z=this.V$;
Z.width=p;Z.height=H;v.A3(Z,p,H);var X=this.fX;X.style.width=this.V$.style.width+12+"px";var b=Z.getContext("2d"),k=b.createImageData(p,H);
d.Jt(c,k.data);b.putImageData(k,0,0);b.getImageData(0,0,1,1);var D=y.tP,j=y.GV(D.x,D.y),g=y.GV(D.x+D.m,D.y+D.e),R=p/E.m;
b.scale(R,R);b.lineWidth=4/R;b.strokeStyle="#ff0000";b.strokeRect(j.x,j.y,g.x-j.x,g.y-j.y)};i8.prototype.mh=function(E,y){};
i8.prototype.jH=function(){this.HB()};function jE(E,y){aq.call(this,E.name,!1,E.icon,y);this.avW=E}jE.prototype=new aq("");
jE.prototype.zQ=function(){var E=this.fX,y=this.avW;if(!v.Qj(E)||this.jj)return;var c=this.jj=v.t("iframe");
c.setAttribute("src",y.url);this.fX.appendChild(c)};jE.prototype.jH=jE.prototype.Xy=function(){this.zQ()};
jE.prototype.d7=function(E){if(v.Qj(this.jj))this.jj.contentWindow.postMessage(E,"*")};jE.prototype.Cl=function(E,y){if(this.jj==null)return;
this.jj.setAttribute("style","width:"+E+"px; height:"+y+"px")};function jl(){aq.call(this,[9,12],!1,"---panels/tpreset",aq.ZV.rv);
this.P0=null;this.lB=new fG(F.WN);this.lB.parent=this;var E=v.t("div","padded");E.setAttribute("style","width:20em");
this.fX.appendChild(E);E.appendChild(this.lB.ks)}jl.prototype=new aq("");jl.prototype.jH=function(){this.lB.Vd(this.P0.Jm)};
jl.prototype.mh=function(E,y){this.P0=E;if(y==iL.Dg||y==iL.rv)this.lB.Vd(E.Jm)};jl.prototype.Cl=function(E,y){this.lB.a4I(this.P0.sJ)};
jl.prototype._=function(){aq.prototype._.call(this);this.lB._()};var j9=function(){var E=[],y=null,c=null,e=null,p=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function H(){aq.call(this,"Memory",!1,null,aq.ZV.aqE);var g=v.t("div","padded");this.fX.appendChild(g);
c=new fr(["<< VAR0",[0,13,2]],!1,null,!0);c.addEventListener("click",function(R){E.pop();X()});g.appendChild(c.n);
y=v.t("div","scrollable");y.setAttribute("style","width:20em;  height:26em; margin-top:8px;");g.appendChild(y)}H.prototype=new aq("");
H.prototype.Xy=function(g,R,t){e=R;this.jH()};H.prototype.jH=function(){c.U0(!1);if(!v.Qj(y))return;
var g={p2:"Total:",zZ:[]};for(var N=0;N<e.length;N++)g.zZ.push(k(e[N]));j(g);E=[g];X()};H.prototype._=function(){aq.prototype._.call(this);
c._()};function Z(g){var R=g.currentTarget,N=0;while((R=R.previousSibling)!=null)N++;E.push(E[E.length-1].zZ[N-1]);
X()}function X(){c.U0(E.length>1);var g=E[E.length-1];v.Vz(y);b(g,y,0);g.zZ.sort(function(R,t){return t.wK[0]-R.wK[0]});
for(var N=0;N<g.zZ.length;N++)b(g.zZ[N],y,1)}function b(g,R,t){var w=fX.NU,B=t!=0&&g.zZ,$="margin-left:"+t*10+"px; margin-bottom:8px; padding:3px 5px;";
if(B)$+="cursor:pointer;";if(g.KO!=null)$+="background-color:rgba("+p[g.KO].join(",")+",0.2);";var o=v.t("div");
R.appendChild(o);o.setAttribute("style",$);o.innerHTML=v.k6(g.p2)+"<br />"+"RAM: <b>"+w(g.wK[0])+"</b>\u2001GPU: <b>"+w(g.wK[1])+"</b>";
if(B)o.addEventListener("click",Z,!1)}function k(g){var R={p2:g.name,zZ:[],KO:0},t=h0.Lq?1:0,w=1-t,B={p2:"History",zZ:[],KO:5};
R.zZ.push(B);for(var N=1;N<g.history.length;N++){var $=g.history[N];B.zZ.push({p2:i4.get($.name),KO:5,wK:[$.bt(),0]})}j(B);
var B={p2:"Final Image",wK:[g.m*g.e*4,t*g.m*g.e*4],KO:2};R.zZ.push(B);for(var N=0;N<g.B.length;N++){var o=D(g.B[N]);
if(o.zZ.length!=0)R.zZ.push(o)}var T=g.add.lnk2;if(T)for(var N=0;N<T.length;N++){var o=T[N],i={p2:o.gg,zZ:[],KO:4},r=0;
i.zZ.push({p2:"Raw file",wK:[o.raw.length,0]});if(o.ed)for(var I=0;I<o.ed.length;I+=2)r+=o.ed[I].length;
if(r!=0)i.zZ.push({p2:"Decoded pixels",wK:[r,0]});j(i);R.zZ.push(i)}j(R);return R}function D(g){var R={p2:g.getName(),zZ:[],KO:1},t=h0.Lq?1:0,w=1-t,B=g.rect.P();
if(B!=0)R.zZ.push({p2:"Layer pixels",wK:[B*4,t*B*4]});if(g.add.lmfx&&g.b_.EX.type){var $=g.b_.EX.type,r=0;
for(var o in $){var T=0;for(var i=0;i<$[o].length;i++)if(o=="ebbl"){if($[o][i].Qk)T+=$[o][i].Qk.Z_.P();
if($[o][i].cD)T+=$[o][i].cD.Z_.P();if($[o][i].cz)T+=$[o][i].cz.Z_.P();if($[o][i].DO)T+=$[o][i].DO.Z_.P()}else T+=$[o][i].Z_.P();
if(T!=0)R.zZ.push({p2:i4.get(cb.names[cb.order.indexOf(o)]),wK:[w*T*4,t*T*4],KO:3})}if(g.b_.x$)r+=B;
if(g.b_.nQ)r+=B;if(g.b_.Jp)r+=B;if(g.b_.Jp)r+=B;if(g.b_.qm)r+=B;if(g.b_.QJ)r+=B;var I=g.b_.LA?g.b_.LA.length:0;
if(r+I!=0)R.zZ.push({p2:"Additional Blending Data",wK:[w*r*4+I,t*r*4]})}var M=g.Nb(),J=M?M.rect.P():0;
if(J!=0){R.zZ.push({p2:"Raster Mask",wK:[J,0]})}var M=g.add.vmsk,J=M&&M.W_?M.W_.rect.P():0;if(J!=0){R.zZ.push({p2:"Vector Mask",wK:[J,0]})}j(R);
return R}function j(g){g.wK=[0,0];for(var N=0;N<g.zZ.length;N++){g.wK[0]+=g.zZ[N].wK[0];g.wK[1]+=g.zZ[N].wK[1]}}return H}();
function fl(){aq.call(this,[9,14],!1,"---panels/notes",aq.ZV.aa_);this.fX.setAttribute("style","min-width:240px;");
var E=v.t("div","padded");this.fX.appendChild(E);this.lK=new d3("Author");E.appendChild(this.lK.n);this.$C=v.t("textarea");
v.VM(this.$C);E.appendChild(this.$C);var y=new fr("<<",null,null,!0);E.appendChild(y.n);this.arY=y;var c=new fr(">>",null,null,!0);
E.appendChild(c.n);y.k("click",this.DF,this);c.k("click",this.DF,this);var e=this.aao=new bU("");E.appendChild(e.n)}fl.prototype=new aq("");
fl.prototype.DF=function(E){var y=E.target==this.arY?-1:1,c=this.hQ,e=c.add.Anno;if(e==null)return;var p=e.length,H=c.Q.w2;
c.Q.w2=(H+y+p)%p;c.hb=!0;this.HB()};fl.prototype.HB=function(){var E=this.hQ;if(E==null)return;var y=E.add.Anno;
if(y==null||y.length==0)return;var c=E.Q.w2,e=y[c];this.$C.value=e[4];this.aao.c(c+1+" / "+y.length);
this.lK.c(e[3])};fl.prototype.Cl=function(E,y){if(this.Pf==E)return;this.Pf=E;y=Math.min(y,200);this.$C.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(E-10)+"px; height:"+(y-66)+"px")};
fl.prototype.Xy=function(E,y,c){this.hQ=E;this.HB()};function iZ(){dT.call(this);this.f=0;this.yQ=null;
this.n=v.t("div","toolconf");this.lB=null;this.GN=null;this.body=new v.t("div","body")}iZ.prototype=new dT;
iZ.prototype.a3y=function(E,y){this.f=E;this.yQ=y;if(F.j7[E]){var c=this.lB=new fG(E);this.n.appendChild(c.n);
c.parent=this}else{this.GN=v.t("div");this.n.appendChild(this.GN)}this.n.appendChild(this.body);this._()};
iZ.prototype.a5a=function(E,y){};iZ.prototype.aqj=function(E){};iZ.prototype.mh=function(E,y){if(y==iL.Dg||y==iL.rv)if(this.lB)this.lB.Vd(E.Jm)};
iZ.prototype.GC=function(E){};iZ.prototype._=function(){if(this.lB)this.lB._();else this.GN.innerHTML=v.IU(this.yQ,null,"toolicon");
this.Cx()};iZ.prototype.Cx=function(){};function g9(){iZ.call(this);this.cJ=new bi;this.cJ.k(S.E.p,this.JI,this);
this.body.appendChild(this.cJ.n)}g9.prototype=new iZ;g9.prototype.Cx=function(){this.cJ._()};g9.prototype.JI=function(E){var y=new iU(S.E.M,!0);
y.data={d:S.H.bZ,f:this.f,Wp:this.cJ.aqr()};this.T(y)};g9.prototype.GC=function(E){this.cJ.agJ(E.Ss)};
function cR(E){iZ.call(this);if(E==null)return;this.P0=null;this.EQ={};if(E.indexOf("brush")!=-1&&E.indexOf("prsr")==-1)E.push("prsr");
for(var N=0;N<E.length;N++){var y=E[N],c=null;if(y=="brush"){c=new br}if(y=="bmode"){c=new a_([12,19,0],cg.BR,cg.Xs)}if(y=="bmode0"){c=new a_([12,19,0],cg.BR.slice(23))}if(y=="emode"){c=new a_([12,36],[[9,3],[10,38]])}if(y=="opacity"){c=new jm([12,0],0,100,"%");
c.c(100)}if(y=="flow"){c=new jm([12,63],0,100,"%");c.c(100)}if(y=="smth"){c=new jm([19,3,0],0,100,"%");
c.c(0)}if(y=="samp"){c=new a_([12,36],[[12,25,4],[12,25,5],[12,46]])}if(y=="wconf"){c=new dj;c.c([40,!0,!0])}if(y=="sall"){c=new b8([12,25,2])}if(y=="smode"){c=new a_([12,36],[[19,7,0],[19,7,1]]);
c.c(1)}if(y=="pdetail"){c=new b8([12,65]);c.Fw()}if(y=="rng"){c=new a_([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
c.c(1)}if(y=="expo"){c=new jm([12,5],0,100,"%");c.c(50)}if(y=="algnd"){c=new b8([12,75]);c.c(!1)}if(y=="sfrom"){c=new a_([12,70],[[17,1],[17,3],[17,0]])}if(y=="alt"){c=new hS(null,["Alt"],!0,["Select Source"])}if(y=="qsmode"){c=new aN([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(y=="redge"){c=new fr([7,11],!1,null,!0)}if(y=="sesu"){c=new fr("Select Subject",!1,null,!0)}if(y=="setop"){c=new az}if(y=="patch"){c=new aN(null,[[12,70],[12,71]])}if(y=="strn"){c=new jm([12,64],1,100,"%");
c.c(50)}if(y=="prsr"){c=this.EQ.brush.VS}this.body.appendChild(c.n);if(y=="prsr")continue;c.parent=this;
this.EQ[y]=c;if(y=="brush")c.k(S.E.p,this.aAb,this);else if(y=="redge"||y=="sesu")c.k("click",bs.a0f,this);
else c.k(S.E.p,this.IY,this)}}cR.prototype=new iZ;cR.prototype.a5a=function(E,y){E=E[1];var c=this.EQ;
if(E.Md)c.bmode.c(cg.Y1.indexOf(E.Md.v.BlnM));if(E.Opct)c.opacity.c(E.Opct.v);if(E.flow)c.flow.c(E.flow.v);
if(E.Brsh)c.brush.c(E,y.cT.b6,y.cT.XQ);if(E.FrgC){var e=d.L.yd(E.FrgC.v),p=new iU(S.E.M,!0);p.data={d:S.H.z2,Wp:iL.g6,s6:0,b:e.Z<<16|e.D<<8|e.J};
this.T(p)}this.aAb();this.IY()};cR.prototype.aqj=function(){if(F.j7[this.f]==null)return null;var E=this.EQ,y;
for(var c in F.Zh)if(F.Zh[c]==this.f)y=c;var e=JSON.parse(JSON.stringify(E.brush.h()));e.classID=y;if(E.bmode)e.Md={t:"enum",v:{BlnM:cg.Y1[E.bmode.h()]}};
if(E.opacity)e.Opct={t:"long",v:E.opacity.h()};if(E.flow)e.flow={t:"long",v:E.flow.h()};var p=this.P0.x4;
p={Z:p>>>16,D:p>>>8&255,J:p&255};e.FrgC={t:"Objc",v:d.L.hp(p)};return["Brush Preset "+e.Brsh.v.Dmtr.v.val,e]};
cR.prototype.Cx=function(){for(var E in this.EQ)this.EQ[E]._()};cR.prototype.GC=function(E){if(E.arI=="showBrushOpts"){this.EQ.brush.aiZ(E.ih.x,E.ih.y)}for(var y in E.uv){var c=E.uv[y];
if(y!="qsmode")c*=100;if(this.EQ[y])this.EQ[y].c(c)}};cR.prototype.mh=function(E,y){iZ.prototype.mh.call(this,E,y);
this.P0=E;var c=this.EQ.brush;if(c==null)return;if(y==iL.Dg||y==iL.WN)c.Vd(E.cT);if(y==iL.xC){c.c(E.cT.LU,E.cT.b6,E.cT.XQ)}};
cR.prototype.aAb=function(){var E=new iU(S.E.M,!0);E.data={d:S.H.z2,Wp:iL.xC,CG:this.EQ.brush.h()};this.T(E)};
cR.prototype.IY=function(){var E=new iU(S.E.M,!0);E.data={d:S.H.bZ,f:this.f};for(var y in this.EQ){if(y=="brush"||y=="redge")continue;
var c=this.EQ[y].h();if(["opacity","flow","smth","expo","strn"].indexOf(y)!=-1)E.data[y]=c/100;else if(y=="bmode")E.data.bmode=cg.Fn[c];
else if(y=="bmode0")E.data.bmode=cg.Fn[23+c];else E.data[y]=c}this.T(E)};function bs(E,y){iZ.call(this);
if(E)return;this.EQ={};for(var N=0;N<y.length;N++){var c=y[N],e=null;if(c=="sesu"&&!v.Pq())continue;
if(c=="binop")e=new az;if(c=="feat"){e=new jm([7,6],0,100,"px");e.c(0)}if(c=="redge")e=new fr([7,11],!1,null,!0);
if(c=="sesu")e=new fr("Select Subject",!1,null,!0);if(c=="wconf")e=new dj;if(c=="cstr")e=new bD;if(c=="anta"){e=new b8([12,25,1]);
e.c(!0)}if(c=="sall")e=new b8([12,25,2]);if(c=="redge"||c=="sesu")e.k("click",bs.a0f,this);else e.k(S.E.p,this.IY,this);
e.parent=this;this.body.appendChild(e.n);this.EQ[c]=e}}bs.prototype=new iZ;bs.prototype.GC=function(E){if(E.QR!=null)this.EQ.binop.c(E.QR);
else if(E.Qh){for(var y in E.Qh)if(this.EQ[y])this.EQ[y].c(E.Qh[y])}else{var c=bs.aG;if(c==null){var e=bL.ajK(!0);
c=bs.aG=new el(e.items,e.qK)}c._();c.parent=this;c.update(E.XH,E.vE);var p=new iU(S.E.M,!0);p.data={d:S.H.rt,T_:c,x:E.iJ.ti+2,y:E.iJ.nD+1};
this.T(p)}};bs.prototype.Cx=function(){for(var E in this.EQ)this.EQ[E]._()};bs.a0f=function(E){var y=E.target==this.EQ.sesu,c=new iU(y?S.E.v:S.E.M,!0);
if(y){c.f=F.mW;c.data={d:"bgrm",b:2}}else c.data={d:S.H.Q5,ym:"redge"};this.T(c)};bs.prototype.IY=function(){var E=new iU(S.E.M,!0);
E.data={d:S.H.bZ,f:this.f,Qh:{}};for(var y in this.EQ)E.data.Qh[y]=this.EQ[y].h();this.T(E)};function ca(){cR.call(this,["brush","strn"])}ca.prototype=new cR;
function g7(){cR.call(this,"brush bmode opacity flow smth prsr".split(" "))}g7.prototype=new cR;function c_(){cR.call(this,["brush","bmode0","samp","wconf"])}c_.prototype=new cR;
function gj(){cR.call(this,["brush"])}gj.prototype=new cR;function bA(){cR.call(this,["brush","bmode","opacity","smth","prsr"])}bA.prototype=new cR;
function cu(){cR.call(this,["brush","rng","expo"])}cu.prototype=new cR;function hh(){cR.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}hh.prototype=new cR;
function f3(E){iZ.call(this);if(E==null)return;this.lr=[];this.lh=new fr("\u2026",!1,null,!0);if(!E)this.body.appendChild(this.lh.n);
this.lh.k("click",this.PA,this);this.Hi=new dT;this.Hi.parent=this;var y=this.Hi.n=v.t("div","floatcont form"),c=[[17,0],[17,1],[11,12,0],[17,2]];
for(var N=0;N<c.length;N++){var e=new fr(c[N],!1,null,!0);this.lr.push(e);e.k("click",this.a62,this);
if(!E||N==1)y.appendChild(e.n)}this.ZZ=new bD;this.ZZ.k(S.E.p,this.kk,this);if(!E)this.body.appendChild(this.ZZ.n);
this.dr=new fr([15,7,6],!1,null,!0);this.dr.k("click",this.a62,this);if(!E)this.body.appendChild(this.dr.n);
this.hx=new b8([15,7,10]);this.hx.k(S.E.p,this.kk,this);if(!E)this.body.appendChild(this.hx.n);this.y7=new b8("Content-Aware");
this.y7.k(S.E.p,this.kk,this);if(!E)this.body.appendChild(this.y7.n);this.Xn=new ee;this.Xn.k("click",this.mo,this)}f3.prototype=new iZ;
f3.prototype.PA=function(E){if(v.Qj(this.Hi.n))return;var y=this.lh.n.getBoundingClientRect(),c=new iU(S.E.M,!0);
c.data={d:S.H.rt,T_:this.Hi,x:y.left,y:y.top+y.height+4};this.T(c)};f3.prototype.Cx=function(){this.Xn._();
for(var N=0;N<this.lr.length;N++)this.lr[N]._();this.ZZ._();this.hx._();this.dr._()};f3.prototype.GC=function(E){if(E.J6){this.ZZ.ape(E.J6[0],E.J6[1]);
return}var y=this.Xn.n;if(E.pu)this.body.appendChild(y);else if(this.body.contains(y))this.body.removeChild(y);
if(E.ZZ)this.ZZ.c(E.ZZ)};f3.prototype.mo=function(E){var y={d:S.H.bZ,f:this.f,Yy:this.Xn.h()?"commit":"cancel"},c=new iU(S.E.M,!0);
c.data=y;this.T(c)};f3.prototype.a62=function(E){E.target.n.blur();var y={d:S.H.bZ,f:this.f,Yy:"cropby",ae0:this.lr.indexOf(E.target)};
if(E.target==this.dr)y.Yy="straighten";var c=new iU(S.E.M,!0);c.data={d:S.H.Oy,T_:this.Hi};this.T(c);
c.data=y;this.T(c)};f3.prototype.kk=function(E){var y={d:S.H.bZ,f:this.f,Yy:"config",wC:{sY:this.ZZ.h(),cw:this.hx.h(),rc:this.y7.h()},avM:E.target==this.ZZ},c=new iU(S.E.M,!0);
c.data=y;this.T(c)};function aO(){f3.call(this,!1)}aO.prototype=new f3;function jH(){f3.call(this,!0)}jH.prototype=new f3;
function dB(){cR.call(this,["brush","rng","expo"])}dB.prototype=new cR;function b7(){cR.call(this,"brush emode opacity flow smth prsr".split(" "))}b7.prototype=new cR;
function cM(){cR.call(this,["brush","samp","wconf"])}cM.prototype=new cR;function hn(){bs.call(this,!1,["binop","feat","anta","redge","cstr"])}hn.prototype=new bs(!0);
function aY(){iZ.call(this);var E=this.EQ=[new a_([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new a_([12,70],[[17,1],[17,3],[17,0]]),new b8([12,20,1]),new b8([8,0])];
E[1].c(2);E[2].c(!0);for(var N=0;N<E.length;N++){var y=E[N];y.k(S.E.p,this.IY,this);this.body.appendChild(y.n)}}aY.prototype=new iZ;
aY.prototype.IY=function(E){var y=this.EQ,c=[];for(var N=0;N<y.length;N++)c[N]=y[N].h();var e=new iU(S.E.M,!0);
e.data={d:S.H.bZ,f:this.f,Qh:c};this.T(e)};aY.prototype.Cx=function(){for(var N=0;N<this.EQ.length;N++)this.EQ[N]._()};
function da(){iZ.call(this);this.$e=new hV(!1);this.$e.parent=this;this.$e.k(S.E.p,this.YZ,this);this.body.appendChild(this.$e.n);
this.$e.c(JSON.parse(cb.Wy.aq9).v);this.e$=new a_(null,cb.L.names.slice(0,5));this.e$.k(S.E.p,this.YZ,this);
this.body.appendChild(this.e$.n);this.Ug=new a_([12,19,0],cg.BR,cg.Xs);this.Ug.k(S.E.p,this.YZ,this);
this.body.appendChild(this.Ug.n);this.Xp=new jm([12,0],0,100,"%");this.Xp.parent=this;this.Xp.k(S.E.p,this.YZ,this);
this.body.appendChild(this.Xp.n);this.Xp.c(100);this.G2=new b8([12,23,0]);this.G2.k(S.E.p,this.YZ,this);
this.body.appendChild(this.G2.n);this.vt=new b8([12,23,3]);this.vt.k(S.E.p,this.YZ,this);this.body.appendChild(this.vt.n)}da.prototype=new iZ;
da.prototype.Cx=function(){this.e$._();this.Ug._();this.Xp._();this.G2._();this.vt._()};da.prototype.mh=function(E,y){iZ.prototype.mh.call(this,E,y);
var c=y==iL.g6;this.$e.Yz(E.x4,E.YO);if(c||y==iL.FP||y==iL.Dg)this.$e.Vd(E.s4)};da.prototype.YZ=function(){var E=new iU(S.E.M,!0);
E.data={d:S.H.bZ,f:this.f};E.data.Wp={L:this.$e.h(),mp:cb.L.types[this.e$.h()],WJ:this.G2.MW(),m4:this.vt.MW(),a3v:cg.Fn[this.Ug.h()],Mz:this.Xp.h()/100};
this.T(E)};function d1(){iZ.call(this);this.KF=new b8([8,7,1]);this.body.appendChild(this.KF.n);this.KF.k(S.E.p,this.IY,this)}d1.prototype=new iZ;
d1.prototype.IY=function(){var E={d:S.H.bZ,f:this.f,_j:this.KF.h()},y=new iU(S.E.M,!0);y.data=E;this.T(y)};
function ko(){iZ.call(this);var E=v.t("span","fitem");this.body.appendChild(E);this.kF=[new jm([12,15],-180,180,"\xB0"),new fr([1,12,2],null,null,!0)];
for(var N=0;N<this.kF.length;N++){var y=this.kF[N];y.parent=this;E.appendChild(y.n);y.k(N==1?"click":S.E.p,this.e0,this)}}ko.prototype=new iZ;
ko.prototype.Cx=function(){for(var N=0;N<this.kF.length;N++)this.kF[N]._()};ko.prototype.GC=function(E){this.kF[0].c(E.tO*180/Math.PI)};
ko.prototype.e0=function(E){var y=this.kF.indexOf(E.target),c=new iU(S.E.M,!0);c.data={d:S.H.bZ,f:this.f,tO:y==1?0:E.target.h()*Math.PI/180};
this.T(c)};function cX(){cR.call(this,["brush","algnd","sfrom","alt"])}cX.prototype=new cR;function jU(){iZ.call(this);
this.wE=new d5;this.wE.parent=this;this.body.appendChild(this.wE.h4.n);this.body.appendChild(this.wE.aE.n);
this.body.appendChild(this.wE.N0.n);this.body.appendChild(this.wE.a_.n);var E=v.t("span","fitem");this.body.appendChild(E);
E.appendChild(this.wE.T7.n);E.appendChild(this.wE.Qr.n);E.appendChild(this.wE.U_.n);this.$V=new a_("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.$V.k(S.E.p,this.mo,this);this.body.appendChild(this.$V.n);this.zj=new a_(null,["\u2B85","\u253F","\u2B87"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.zj.k(S.E.p,this.mo,this);this.body.appendChild(this.zj.n);this.b5=new fr([11,9],!1,null,!0);this.b5.k("click",this.aB4,this);
this.body.appendChild(this.b5.n);this.Xn=new ee;this.Xn.k("click",this.mo,this)}jU.prototype=new iZ;
jU.prototype.Cx=function(){this.Xn._();this.wE._();this.b5._()};jU.prototype.aB4=function(E){var y={d:S.H.bZ,f:this.f,Yy:"showwarp"},c=new iU(S.E.M,!0);
c.data=y;this.T(c)};jU.prototype.GC=function(E){if(E.Yy=="showactive")this.body.appendChild(this.Xn.n);
if(E.Yy=="hideactive")this.body.removeChild(this.Xn.n);if(E.Yy=="changeOther"){this.$V.c(E.QE);this.zj.c([0,2,1][E.L6])}if(E.Yy=="showpan"){var y=[{name:[0,1],mc:!0}],c=[{K:S.E.v,f:F.IB,C:{d:"editCurr",HV:E.HV}}],e=E.iJ;
if(E.ax7){y=[{name:["VAR0: VAR1",[0,5],[7,0]],mc:!0}];c=[{K:S.E.on,C:F.XY.cg(!0)}];var p=bL.arS();y=y.concat(p[0]);
c=c.concat(p[1])}y.push({name:[11,9]});c.push({K:S.E.M,C:{d:S.H.bZ,f:this.f,Yy:"showwarp"}});var H=new el(y,c);
H.parent=this;H._();H.update(E.XH,E.vE);var Z=new iU(S.E.M,!0);Z.data={d:S.H.rt,T_:H,x:e.ti+2,y:e.nD+1};
this.T(Z)}};jU.prototype.mh=function(E,y){iZ.prototype.mh.call(this,E,y);if(y!=iL.Dg&&y!=iL.R3&&y!=iL.uV&&y!=iL.K8)return;
this.wE.c(E.c2,E.UG,E.ua)};jU.prototype.mo=function(E){var y={d:S.H.bZ,f:this.f,Yy:this.Xn.h()?"commit":"cancel"};
if(E.target==this.$V||E.target==this.zj){y.Yy="changeOther";y.QE=this.$V.h();y.L6=[0,2,1][this.zj.h()]}var c=new iU(S.E.M,!0);
c.data=y;this.T(c)};function eS(){bs.call(this,!1,["binop","feat","anta","redge"])}eS.prototype=new bs(!0);
function jp(){iZ.call(this);var E=[],c="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.GH=new b8([12,85]);this.GH.c(!0);this.GH.k(S.E.p,this.IY,this);E.push(this.GH.n);this.oq=new a_(null,[[0,4],[0,3]]);
this.oq.k(S.E.p,this.IY,this);this.oq.c(1);E.push(this.oq.n);this.n8=new b8([20,1]);this.n8.k(S.E.p,this.IY,this);
E.push(this.n8.n);this.cY=new b8([12,83]);this.cY.k(S.E.p,this.IY,this);E.push(this.cY.n);this.Hi=new dT;
this.Hi.n=v.t("div","floatcont form");this.Hi.n.setAttribute("style","max-width: 200px;");this.Hi.parent=this;
var y=this.Hi.n;this.arD=new a_("Scale for exported files",["1x","2x","3x","4x"]);y.appendChild(this.arD.n);
this.ZH=new fr(c+" PNG",!1,"Save selected layers as PNG",!0);y.appendChild(this.ZH.n);this.ZH.k("click",this.Yx,this);
this.acF=new fr(c+" SVG",!1,"Save selected layers as SVG",!0);y.appendChild(this.acF.n);this.acF.k("click",this.Yx,this);
var e=new fr(c,!1,"Save selected layers",!0);E.push(e.n);e.k("click",function(b){if(v.Qj(this.Hi.n))return;
var k=e.n.getBoundingClientRect(),D=new iU(S.E.M,!0);D.data={d:S.H.rt,T_:this.Hi,x:k.left,y:k.top+k.height,ob:!0};
this.T(D)},this);var p=v.t("span","fitem");E.push(p);var H=v.t("span","fitem");E.push(H);this.kx=[];
for(var N=0;N<8;N++){var Z=N==3||N==7?[20,4,6]:[20,4,N<3?N:N-1],X=new fr("Hi",!1,Z);(N<4?p:H).appendChild(X.n);
X.k("click",this.Yx,this);this.kx.push(X)}for(var N=0;N<E.length;N++)this.body.appendChild(E[N]);this.afT=E}jp.prototype=new iZ;
jp.prototype.GC=function(E){var y=E.Ss,c=E.agy;this.GH.c(y.Xk);this.n8.c(y.LK);this.cY.c(y.dS);if(c){v.Vz(this.body);
for(var N=0;N<c.length;N++)if(c[N]==1&&this.afT[N])this.body.appendChild(this.afT[N])}};jp.prototype.Yx=function(E){var y=this.kx.indexOf(E.target),c;
if(y==-1){c=new iU(S.E.M,!0);c.data={d:S.H.bZ,f:this.f,s6:E.target==this.ZH?"getPNG":"getSVG",wb:this.arD.h()+1}}else{c=new iU(S.E.v,!0);
c.f=F.mq;c.data={d:"algn",b:y}}this.T(c)};jp.prototype.IY=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.bZ,f:this.f,s6:"prms",Xk:this.GH.MW(),a0v:this.oq.h(),LK:this.n8.MW(),dS:this.cY.MW()};
this.T(y)};jp.prototype.Cx=function(){this.GH._();this.oq._();this.n8._();this.cY._();var E="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var N=0;N<8;N++){this.kx[N].WO(v.IU("align/"+E[N],null,"autoscale"))}};function ao(){bs.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}ao.prototype=new bs(!0);
function kI(){cR.call(this,["setop","patch"])}kI.prototype=new cR;function fC(){cR.call(this,["setop"])}fC.prototype=new cR;
function kw(E){var y=E==F.aoa?[]:["bmode"];cR.call(this,y.concat(["opacity","wconf","sall"]))}kw.prototype=new cR;
function h_(){bs.call(this,!1,["binop","feat","anta","redge"])}h_.prototype=new bs(!0);function jf(){bs.call(this,!1,["binop","feat","anta","redge"])}jf.prototype=new bs(!0);
function eL(){bs.call(this,!1,["binop","feat","redge","cstr"])}eL.prototype=new bs(!0);function es(){iZ.call(this);
this.P0=null;this.$x=null;this.xd=[new d3("X",null,3.2,null,!0),new d3("Y",null,3.2,null,!0),new d3("W",null,3.2,null,!0),new d3("H",null,3.2,null,!0),new d3([12,15],"\xB0",3.7,null,!0),new d3(["VAR0 1",[12,80,0]],null,3.5,null,!0),new d3(["VAR0 2",[12,80,0]],null,3.5,null,!0),new fr([15,7,6],!1,null,!0),new fr([2,2],!1,null,!0)];
for(var N=0;N<this.xd.length;N++){var E=this.xd[N];this.body.appendChild(E.n);if(N>6)E.k("click",this.Bd,this)}this.Uu=0}es.prototype=new iZ;
es.prototype.Bd=function(E){var y=this.xd.indexOf(E.target)==7,c=new iU(S.E.v,!0);if(y){if(this.Uu==0)return;
c.f=F.Xm;c.data={d:"rot",xs:[2,5],b:-this.Uu}}else{c.f=F.aT;for(var N=0;N<6;N++)this.xd[N].c(null)}this.T(c)};
es.prototype.GC=function(E){function y(X,b,k){var D=Math.sqrt(Math.pow(b.x-X.x,2)+Math.pow(b.y-X.y,2)),j=Math.sqrt(Math.pow(b.x-k.x,2)+Math.pow(b.y-k.y,2)),g=Math.sqrt(Math.pow(k.x-X.x,2)+Math.pow(k.y-X.y,2));
return Math.acos((j*j+D*D-g*g)/(2*j*D))}if(E==null)return;this.$x=E;var c=E.awE,e=E.B6,p=e.x-c.x,H=e.y-c.y;
this.Uu=-Math.atan2(H,p);if(E.Rw)this.Uu=y(e,c,E.Rw);var Z=this.xd;Z[0].c(this.nL(E,c.x));Z[1].c(this.nL(E,c.y));
Z[2].c(this.nL(E,p));Z[3].c(this.nL(E,H));Z[4].c((this.Uu*180/Math.PI).toFixed(2));Z[5].c(this.nL(E,eq.oG(c,e)));
if(E.Rw){Z[6].c(this.nL(E,eq.oG(c,E.Rw)))}else Z[6].c("")};es.prototype.nL=function(E,y){var c=d._5.rB(y,E.$c,this.P0,E.ad1,!1);
return parseFloat(c).toFixed(2)};es.prototype.mh=function(E,y){this.P0=E;this.GC(this.$x)};es.prototype.Cx=function(){var E=this.xd;
for(var N=0;N<E.length;N++)E[N]._();v.LM(E[2],E[3])};function eV(){cR.call(this,["brush","strn","pdetail"])}eV.prototype=new cR;
function d6(){cR.call(this,["brush","sfrom"]);this.axv=[];var E=[[7,12]];for(var N=0;N<E.length;N++){var y=new fr(E[N],!1,null,!0);
this.axv.push(y);y.parent=this;this.body.appendChild(y.n);y.k("click",this.aaM,this)}}d6.prototype=new cR;
d6.prototype.aaM=function(E){var y=this.axv.indexOf(E.currentTarget),c=new iU(S.E.on,!0);c.data=F.XP.Uo(y==0?"contentAware":"aiHeal");
this.T(c)};function dH(){cR.call(this,["brush","strn"])}dH.prototype=new cR;function d0(){cR.call(this,["brush","flow","smode"])}d0.prototype=new cR;
function fQ(){iZ.call(this);this.Ub=!1;var E=v.t("span","fitem");this.body.appendChild(E);this.JR=new aN(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
E.appendChild(this.JR.n);this.JR.k(S.E.p,this.IY,this);this.Qa=new fr([20,2]);this.body.appendChild(this.Qa.n);
this.Qa.k("click",this.a6E,this);this.Pc=new fr([20,3]);this.body.appendChild(this.Pc.n);this.Pc.k("click",this.a6E,this);
this.KF=new b8([8,7,1]);this.body.appendChild(this.KF.n);this.KF.k(S.E.p,this.IY,this)}fQ.prototype=new iZ;
fQ.prototype.Cx=function(){this.Qa._();this.Pc._()};fQ.prototype.IY=function(){var E={d:S.H.bZ,f:this.f,l5:this.JR.h()==0,_j:this.KF.h()},y=new iU(S.E.M,!0);
y.data=E;this.T(y)};fQ.prototype.GC=function(E){if(this.Ub!=E.Ub)this.JR.c(1-this.JR.h());this.Ub=E.Ub};
fQ.prototype.a6E=function(E){var y=new iU(S.E.v,!0);y.f=F.fE;y.data={d:"adapt",b:E.target==this.Qa?"pixel":"fitscr"};
this.T(y)};function dr(E,y){iZ.call(this);if(E==null)return;this.Bc=E;this.ph={};this.aeD=y;for(var N=0;
N<E.length;N++){var c=E[N],e=null;if(c=="tmode"){e=new a_(null,[[12,76,1],[12,76,0],[12,76,2]]);e.c(0);
if(y)e.auM(2)}if(c=="make"){e=new aN("Make",[[17,2],[12,76,1]],null,!0)}if(c=="anta"){e=new b8([12,25,1]);
e.c(!0)}if(c=="binop"){e=new a_(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(c=="pshape")e=new a_(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(c=="shape")e=new gX([12,76,1]);if(c=="crad"){e=new jm([12,94,0],0,50,"px");e.c(0)}if(c=="cstr"){e=new bD}if(c=="irad"){e=new jm([12,94,1],0,100,"%");
e.c(40)}if(c=="length"){e=new jm([12,80,0],4,40);e.c(4)}if(c=="sides"){e=new jm([12,78],3,30);e.c(5)}if(c=="width"){e=new jm([12,41],0,100,"px");
e.c(5)}if(c=="tolr"){e=new jm([12,24],0,100);e.c(5)}if(c=="fstyle"){e=new ch([12,26])}if(c=="sstyle"){e=new cC}if(c=="psnap"){e=new b8([8,10])}if(c=="crnr"){e=new fr("\u2312",!1,[12,94,0],!0)}if(c=="aopts"){e=new eY;
e.c([!1,!1,50,60,0])}if(c=="smplp"){e=new fr([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}e.parent=this;
this.body.appendChild(e.n);this.ph[c]=e;e.k(c=="crnr"||c=="smplp"?"click":S.E.p,this.IY,this)}}dr.prototype=new iZ;
dr.prototype.GC=function(E){if(E.QR!=null)this.ph.binop.c(E.QR);else if(E.s6=="vals")for(var y in E.alf)this.ph[y].c(E.alf[y]);
else{var c=dr.aG,e=function(H){return{w:H!=null&&H.iR(!1)}};if(c==null)c=dr.aG=new el([{name:"Remove Anchor Point",w:function(H){var Z=H?H.sA():null;
return{w:H&&Z[1].length!=0&&Z[0][Z[1][0]].add.vmsk.bH.length!=0}}},{name:"Remove Path",w:function(H){var Z=H?H.sA():null;
return{w:H&&Z[1].length!=0&&Z[0][Z[1][0]].add.vmsk.g.length!=0}},mc:!0},{name:"Make Selection"},{name:[2,3],w:e},{name:[14,9],w:e}],[{K:S.E.v,f:F.Ht,C:{d:"remove",Ru:!0}},{K:S.E.v,f:F.Ar,C:{d:"remove"}},{K:S.E.M,C:{d:S.H.Q5,ym:"makesel"}},{K:S.E.on,C:F.ZN.OU(null)},{K:S.E.M,C:{d:S.H.Q5,ym:"strokepath"}}]);
c.parent=this;c.update(E.XH,E.vE);var p=new iU(S.E.M,!0);p.data={d:S.H.rt,T_:c,x:E.iJ.ti+2,y:E.iJ.nD+1};
this.T(p)}};dr.prototype.arJ=function(N){return null};dr.prototype.Cx=function(){for(var E in this.ph){this.ph[E]._()}};
dr.prototype.IY=function(E){var y=new iU(S.E.M,!0),c=this.ph;if(E.target==c.crnr){y=new iU(S.E.v,!0);
y.f=F.Ht;y.data={d:"crnr"}}else if(E.target==c.smplp){y=new iU(S.E.v,!0);y.f=F.Ar;y.data={d:"smplp"}}else if(E.target==c.make){var N=E.target.h();
console.log(N);if(N==0)y.data={d:S.H.Q5,ym:"makesel"};else{y=new iU(S.E.v,!0);y.f=F.XF;y.data={d:"newfill",KO:0}}}else if(E.target==c.fstyle){y.data={d:S.H.z2,Wp:iL.d9,b:c.fstyle.h()}}else if(E.target==c.sstyle){y.data={d:S.H.z2,Wp:iL.St,b:c.sstyle.h()}}else if(E.target==c.tmode){y.data={d:S.H.z2,Wp:iL.Nz,b:c.tmode.h()}}else{if(c.pshape)this.DL();
y.data={d:S.H.bZ,f:this.f};for(var e in c)y.data[e]=c[e].h()}this.T(y)};dr.prototype.DL=function(){var E=this.ph,y=E.tmode.h(),c=E.pshape?this.arJ(E.pshape.h()):this.Bc,e;
if(y==0)e=["anta","make"];if(y==1)e=["anta","fstyle","sstyle"];if(y==2)e=["make","binop","fstyle","sstyle"];
var p=E.binop;if(p){var H=p.h();if(y==0){p.a1w(0)}else{p.auM(0);if(H==0){p.c(1);this.IY({target:p})}}}v.Vz(this.body);
for(var N=0;N<c.length;N++){var Z=c[N];if(e.indexOf(Z)!=-1)continue;this.body.appendChild(E[Z].n)}};
dr.prototype.mh=function(E,y){iZ.prototype.mh.call(this,E,y);var c=this.ph.fstyle,e=this.ph.sstyle,p=this.ph.tmode;
if(c)c.mh(E,y);if(e)e.mh(E,y);if(y==iL.Dg||y==iL.ZU)if(E.Gp.length!=0&&this.ph.shape){this.ph.shape.Vd(E.Gp)}if(y==iL.Dg||y==iL.d9)if(c)c.c(null,E.Jo,E.cd);
if(y==iL.Dg||y==iL.St)if(e)e.c(null,E.MY,E.W3);if(y==iL.Dg||y==iL.Nz){var H=E.i8;if(this.aeD&&H==2)H=0;
if(p){p.c(H);this.DL()}}};function gg(){dr.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}gg.prototype=new dr;
function c3(){dr.call(this,"tmode make anta fstyle sstyle binop".split(" "))}c3.prototype=new dr;function aj(){dr.call(this,["fstyle","sstyle","smplp"]);
this.ac2=null;this.aCz=null;this.ae$=null;this.DP=new a_([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.t7=new fr("\u25BC");this.t7.Fw();this.cf=new fr("\u25B2");this.cf.Fw();this.yL=[this.DP,this.t7,this.cf];
for(var N=0;N<this.yL.length;N++){var E=this.yL[N];this.body.appendChild(E.n);E.parent=this;E.k(N==0?S.E.p:"click",this.bw,this)}}aj.prototype=new dr;
aj.prototype.GC=function(E){if(E.Yy=="main"){var y=this.yL,c=E.q9;if(c){this.aCz=c.clone();this.ae$=JSON.stringify(E.gM);
var e=c.g.slice(0),p=e.length;for(var N=0;N<e.length;N++)e[N]++;e.sort(function(b,k){return b-k});y[0].fh();
y[1].U0(p!=0);y[2].U0(p!=0);y[0].WO(p==0?"No Paths":p==1?"Path "+e[0]:"Paths "+e.slice(0,3).join(",")+(p>3?"..":""));
if(p!=0){var H=c.g[0],Z=d.o.O3(c.X,H),X=c.X[Z];this.DP.c([3,0,1,2][X.O0])}}else for(var N=0;N<y.length;
N++)y[N].Cp()}else dr.prototype.GC.call(this,E)};aj.prototype.Cx=function(){dr.prototype.Cx.call(this);
this.DP._()};aj.prototype.bw=function(E){if(E.target==this.DP||E.target==this.t7||E.target==this.cf){var y={},c=this.aCz,e=c.X,p=c.g,H=d.o.a0(e),Z=JSON.parse(this.ae$);
p.sort(function(o,T){return o-T});if(E.target==this.DP){var X=this.DP.h();if(X<4)for(var N=0;N<p.length;
N++)e[d.o.O3(e,p[N])].O0=[1,2,3,0][X];else{if(H<=1)return;c.X=d.o.a2(e);c.g=c.X.length==2?[]:[0];c.bH=[];
Z=[d.gM.Lt()]}}else{var b=E.target==this.t7?-1:1,k=[];for(var N=0;N<H;N++){var D=d.o.O3(e,N),j=D+1+e[D].length;
k.push(e.slice(D,j))}var g=p.slice(0);for(var N=0;N<p.length;N++)g[N]=Math.max(N,Math.min(H-1-(p.length-1-N),g[N]+b));
if(p.join(",")==g.join(","))return;var R=JSON.parse(JSON.stringify(Z));for(var N=0;N<p.length;N++){var t=b==-1?N:p.length-1-N,D=p[t],j=g[t];
if(D!=j){var w=k[D];k[D]=k[j];k[j]=w;w=R[D];R[D]=R[j];R[j]=w}}var B=e.slice(0,2);for(var N=0;N<k.length;
N++)B=B.concat(k[N]);c.X=B;c.g=g;Z=R}y.q9=c;y.gM=Z;var $=new iU(S.E.M,!0);$.data={d:S.H.bZ,f:this.f,Gm:y};
this.T($)}};function aS(){dr.call(this,["fstyle","sstyle","crnr","psnap"])}aS.prototype=new dr;function jJ(){dr.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}jJ.prototype=new dr;
function fn(){dr.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}fn.prototype=new dr;
function am(){dr.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.ph.aopts.c([!1,!0,50,60,0])}am.prototype=new dr;am.prototype.arJ=function(N){var E=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(E[N])};function bc(){dr.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}bc.prototype=new dr;
function g4(){dr.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}g4.prototype=new dr;
function a0(){bs.call(this,!1,["binop","feat","redge","sesu"])}a0.prototype=new bs(!0);function cx(){cR.call(this,["brush","qsmode","redge","sesu"])}cx.prototype=new cR;
function c5(){iZ.call(this);this.oo=[];for(var N=0;N<2;N++){var E=new fr(N==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.oo.push(E);E.k("click",this.bw,this);this.body.appendChild(E.n)}}c5.prototype=new iZ;c5.prototype.bw=function(E){var y;
if(this.oo.indexOf(E.target)==0){y=new iU(S.E.on,!0);y.data={tT:"make",hG:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{y=new iU(S.E.M,!0);
y.data={d:S.H.Q5,ym:"divslice"}}this.T(y)};c5.prototype.Cx=function(E){for(var N=0;N<this.oo.length;
N++)this.oo[N]._()};function iw(){iZ.call(this);var E=this.yC=[new fr("\u25BC",null,null,!0),new fr("\u25B2",null,null,!0),new fr([5,4],null,null,!0),new fr(["VAR0...",[15,10,22]],null,null,!0)];
for(var N=0;N<4;N++){var y=E[N];this.body.appendChild(y.n);y.k("click",this.bw,this)}}iw.prototype=new iZ;
iw.prototype.bw=function(E){var y=this.yC.indexOf(E.target),c;if(y==3){c=new iU(S.E.M,!0);c.data={d:S.H.Q5,ym:"divslice"}}else{c=new iU(S.E.v,!0);
c.f=F.hW;c.data={d:y==2?"delete":"reorder",dir:y==0?-1:1}}this.T(c)};iw.prototype._=function(){iZ.prototype._.call(this);
for(var N=0;N<4;N++)this.yC[N]._()};function k4(E,y){iZ.call(this);if(window.Typr==null||E)return;this.auu=y;
this.ak=null;this.aAl=v.t("span","");this.asJ=v.t("span","");var c=1,e=this.y1={RG:new kg(null,24),uD:new jm("X",0,0,"px",0,!1,!0,4),Ue:new jm("Y",0,0,"px",0,!1,!0,4),jO:new jm("W",0,0,["%","px"],2,!1,!0,5),zW:new fr("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),kV:new jm("H",0,0,["%","px"],2,!1,!0,5),aab:new jm("\u2221",0,0,"\xB0",c,!1,!0),abZ:new jm("\u25B1 H",-85,85,"\xB0",c,!1,!0),aoY:new jm("\u25B1 V",-85,85,"\xB0",c,!1,!0),bL:new a_(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),_L:new a_("Protect",[])};
e.bL.c(1);e.zW.c(!0);for(var p in e){var H=e[p],Z=!0;if(y&&(H==e.aab||H==e.abZ||H==e.aoY||H==e.bL))Z=!1;
if(!y&&H==e._L)Z=!1;if(Z)this.aAl.appendChild(H.n);var X=H==e.zW?"click":S.E.p;H.k(X,this.aiB,this)}this.du=new aN("Split",aN.Ma(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.du.c(-1);this.du.k(S.E.p,this.ac9,this);this.Za=new f4(!0,!0,!0);this.Za.k(S.E.p,this.ac9,this);
this.Za.parent=this;var b=this.asJ,k=this.Za;b.appendChild(this.du.n);b.appendChild(k.KG.n);b.appendChild(k.pT.n);
b.appendChild(k.EB.n);b.appendChild(k.CF.n);b.appendChild(k.R$.n);this.b5=new fr([11,9]);this.b5.k("click",this.avb,this);
this.Xn=new ee;this.Xn.k("click",this.mo,this)}k4.prototype=new iZ;k4.prototype.GC=function(E){if(E.iJ){var y=k4,c=this.aG;
if(c==null)c=this.aG=new el(y.aye(),y.aja(this.f));c._();c.parent=this;c.update(E.XH,E.vE);var e=new iU(S.E.M,!0);
e.data={d:S.H.rt,T_:c,x:E.iJ.ti+2,y:E.iJ.nD+1};this.T(e);return}v.Vz(this.body);this.ak=E;if(E.y1){var p=E.y1.k4,H=E.y1.dX.clone(),Z=Math.atan2(-H.J,H.U),X=new jr;
X.rotate(-Z);H.concat(X);var b=this.y1;b.RG.c(E.y1.vl);b.uD.c(E.y1.gN.x);b.Ue.c(E.y1.gN.y);b.jO.c(H.U*(b.jO.WK()=="%"?100:p.m));
b.kV.c(H.sN*(b.kV.WK()=="%"?100:p.e));b.aab.c(-Z*180/Math.PI);b.abZ.c(Math.atan(H.E7/H.sN)*180/Math.PI);
b.aoY.c(0*180/Math.PI);this.body.appendChild(this.aAl);this.b5.FE();if(E.y1.By!=null)b.zW.c(E.y1.By)}if(E.Oz){if(E.anS)this.du.c(-1);
this.Za.c(E.Oz);this.body.appendChild(this.asJ);this.b5.Fw()}if(E.cB)b._L.Pt(E.cB);this.body.appendChild(this.Xn.n);
if(E.aoP&&!this.auu)this.body.appendChild(this.b5.n)};k4.prototype.aiB=function(E){var y=this.y1,c=this.ak.y1.k4;
if(E.target==y.zW)y.zW.c(!y.zW.h());else if(y.zW.MW()){var e=y.kV,p=y.jO,H=c.e,Z=c.m;if(E.target==y.jO){e=y.jO;
p=y.kV;H=c.m;Z=c.e}var X=e.h()/(e.WK()=="%"?100:H);X*=p.WK()=="%"?100:Z;p.c(X)}var b=[];for(var k in y)if(y[k]!=y.zW&&y[k]!=y.RG){var X=y[k].h();
if((y[k]==y.jO||y[k]==y.kV)&&X==0){X=.1;y[k].c(X)}if(y[k]==y.jO&&y[k].WK()=="px")X/=c.m/100;if(y[k]==y.kV&&y[k].WK()=="px")X/=c.e/100;
b.push(X)}var D=new eq(b[0],b[1]);if(E.target==y.RG){this.cn({Yy:"ctyp",vl:y.RG.h()})}else if(E.target==y.uD||E.target==y.Ue){this.cn({Yy:"cen",gN:D})}else{var j=this.ak.y1.dX.clone(),g=j.clone(),R=Math.atan2(-j.J,j.U);
g.translate(-D.x,-D.y);g.rotate(-R);var t=new jr(g.U,g.J,g.E7,g.sN,0,0);t.Ub();g.concat(t);var w=b[2]/100,B=b[3]/100;
g.concat(new jr(w,w*Math.tan(b[6]*Math.PI/180),B*Math.tan(b[5]*Math.PI/180),B,0,0));g.rotate(-b[4]*Math.PI/180);
g.translate(D.x,D.y);this.ak.y1.dX=g;this.cn({Yy:"trn",y1:g,e5:y.bL.h(),iN:y._L.h(),By:y.zW.h()})}};
k4.prototype.ac9=function(E){var y=this.du;this.cn(E.target==y?{Yy:"splt",b:y.h()}:{Yy:"wrp",Oz:this.Za.h()})};
k4.prototype.avb=function(E){this.cn({Yy:"switchWarp"})};k4.prototype.mo=function(E){this.cn({Yy:this.Xn.h()?"commit":"cancel"})};
k4.prototype.cn=function(E){E.d=S.H.bZ;E.f=this.f;var y=new iU(S.E.M,!0);y.data=E;this.T(y)};k4.prototype.Cx=function(){var E=this.y1;
for(var y in E)E[y]._();v.LM(E.jO,E.kV);this.Xn._();this.du._();this.Za._();this.b5._()};k4.aye=function(){var E=function(y){var c=!0;
if(y==null||y.g.length==0)c=!1;else{var e=y.g;for(var N=0;N<e.length;N++){if(y.B[e[N]].add.TySh)c=!1}}return{w:c}};
return[{name:[5,9],xu:"Shift+Alt+Ctrl + T",mc:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],w:E},{name:[2,9],w:E,mc:!0},{name:[11,9],w:function(y){if(y==null||y.g.length!=1)return{w:!1};
var c=y.B[y.g[0]];return{w:c.add.TySh==null&&!c.uY()}},mc:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
k4.aja=function(E){if(E==null)E=F.Xm;return[{K:S.E.v,f:E,C:{d:"again"}},{K:S.E.M,C:{d:S.H.lg,f:E,Ss:{de:3}}},{K:S.E.M,C:{d:S.H.lg,f:E,Ss:{de:4}}},{K:S.E.M,C:{d:S.H.lg,f:E,Ss:{de:5}}},{K:S.E.M,C:{d:S.H.lg,f:E,Ss:{de:2}}},{K:S.E.M,C:{d:S.H.lg,f:E,Ss:{de:1}}},{K:S.E.M,C:{d:S.H.lg,f:E,Ss:{de:-1}}},{K:S.E.on,C:F.Y.FK(!0,90,!0)},{K:S.E.on,C:F.Y.FK(!0,-90,!0)},{K:S.E.on,C:F.Y.FK(!0,-180,!0)},{K:S.E.on,C:F.Y.FK(!1,"Hrzn",!0)},{K:S.E.on,C:F.Y.FK(!1,"Vrtc",!0)}]};
function aZ(){k4.call(this)}aZ.prototype=new k4(!0);function hI(){k4.call(this)}hI.prototype=new k4(!0);
function ci(){k4.call(this,!1,!0)}ci.prototype=new k4(!0);function bF(){iZ.call(this);var E=this.Bc=[new a_([12,36],["Rigid",[15,10,0],[24,4]]),new a_([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new jm([7,4],0,100,"px"),new b8("Show Mesh"),new fr("\u25BC",null,null,!0),new fr("\u25B2",null,null,!0)];
for(var N=0;N<E.length;N++){var y=E[N];y.parent=this;this.body.appendChild(y.n);y.k(N<4?S.E.p:"click",this.ahe,this)}this.Xn=new ee;
this.Xn.k("click",this.mo,this);this.body.appendChild(this.Xn.n)}bF.prototype=new iZ;bF.prototype.Cx=function(){var E=this.Bc;
for(var N=0;N<4;N++)E[N]._();this.Xn._()};bF.prototype.GC=function(E){var E=E.Wp;for(var N=0;N<4;N++)this.Bc[N].c(E[N])};
bF.prototype.ahe=function(E){var y=[];for(var N=0;N<4;N++)y[N]=this.Bc[N].h();var c=this.Bc.indexOf(E.target);
if(c<4)this.cn({Yy:"prm",Wp:y});else this.cn({Yy:"moveDepth",ayB:c==5})};bF.prototype.mo=function(E){this.cn({Yy:this.Xn.h()?"commit":"cancel"})};
bF.prototype.cn=function(E){E.d=S.H.bZ;E.f=this.f;var y=new iU(S.E.M,!0);y.data=E;this.T(y)};function al(){iZ.call(this);
var E=this.EQ=[new a_([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var N=0;N<E.length;N++){var y=E[N];
y.k(S.E.p,this.IY,this);this.body.appendChild(y.n)}}al.prototype=new iZ;al.prototype.IY=function(E){var y=this.EQ,c=[];
for(var N=0;N<y.length;N++)c[N]=y[N].h();var e=new iU(S.E.M,!0);e.data={d:S.H.bZ,f:this.f,Qh:c};this.T(e)};
al.prototype.Cx=function(){for(var N=0;N<this.EQ.length;N++)this.EQ[N]._()};function jb(){bs.call(this,!1,["binop"]);
this.Bo=new fr("Remove",!1,null,!0);this.Bo.k("click",this.IP,this);this.Bo.n.style.marginRight="2em";
this.aqL=new d3("New content");this.MZ=new fr("\u2026",!1,null,!0);this.MZ.k("click",this.PA,this);this.HL=new fr([18,0],!1,null,!0);
this.HL.k("click",this.IP,this);this.CL=new fr("Undo",!1,null,!0);this.CL.k("click",this.IP,this);this.body.appendChild(this.Bo.n);
this.body.appendChild(this.aqL.n);this.body.appendChild(this.MZ.n);this.body.appendChild(this.HL.n);
this.body.appendChild(this.CL.n);this.Hi=new dT;this.Hi.parent=this;var E=this.Hi.n=v.t("div","floatcont form label6"),y=this.rF="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" "),c=this.Hs=[new b8("Use default settings"),new d3("Neg. prompt",null,13.25),new i_("Guidance",-20,20),new i_("Steps",10,50),new a_("Sampler",y)];
c[0].k(S.E.p,this._,this);c[0].c(!0);c[2].c(6);c[3].c(20);for(var N=0;N<c.length;N++){E.appendChild(c[N].n);
v.vY(E)}}jb.prototype=new bs(!0);jb.prototype._=function(){iZ.prototype._.call(this);this.HL._();var E=this.Hs;
for(var N=0;N<E.length;N++){E[N]._();if(N>0)E[N].U0(!E[0].h())}};jb.prototype.IP=function(E){if(E.target==this.CL){var y=new iU(S.E.v,!0);
y.f=F.yW;y.data={d:"h_stepbck"};this.T(y);return}var c=this.Hs,e={},p=["negative_prompt","guidance","steps","sampler"],H=!c[0].h();
if(H){for(var N=1;N<c.length;N++)e[p[N-1]]=c[N].h();e.sampler=this.rF[e.sampler];e.steps=Math.min(e.steps,50)}var y=new iU(S.E.on,!0);
y.data=F.XP.Uo("aiHeal");if(E.target==this.HL){y.data.hG.prmt={t:"TEXT",v:this.aqL.h()};if(H)y.data.hG.Wp=e}this.T(y)};
jb.prototype.PA=function(E){if(v.Qj(this.Hi.n))return;var y=this.MZ.n.getBoundingClientRect(),c=new iU(S.E.M,!0);
c.data={d:S.H.rt,T_:this.Hi,x:y.left,y:y.top+y.height+4,ob:!0};this.T(c)};function aT(){dT.call(this);
this.n=v.t("div","cmanager");window.alert=function(e,p){this.aav(e,p);console.log("Alert: "+e)}.bind(this);
window.onblur=function(e){var p=this;p.uw()}.bind(this);this.Pf=0;this.T4=0;this.XB=[];this.dK={};this.mK=v.t("div","alertcont");
this.n.appendChild(this.mK);this.aoz=v.t("div","alertcont");this.n.appendChild(this.aoz);this.Uc=v.t("div","alertcont");
this.abp=0;this.ud=-1;this.a0w=null;this.oo=null;var E=this.ahi=v.t("div","alertpanel");E.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Uc.appendChild(E);var y=this.HW=v.t("input");y.setAttribute("type","text");v.VM(y);y.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
y.addEventListener("input",this.ae1.bind(this),!1);y.addEventListener("keydown",this.a4K.bind(this),!1);
E.appendChild(y);var c=this.aaD=v.t("div","contextpanel scrollable");c.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
c.addEventListener("click",this.aw3.bind(this),!1);E.appendChild(c);v.Qp(document.body,this.aho.bind(this))}aT.prototype=new dT;
aT.prototype.wq=function(){if(v.Qj(this.Uc))this.n.removeChild(this.Uc)};aT.prototype.aaz=function(E,y){var c=this.a0w=[],e=y.az$;
for(var N=0;N<bL.data.length;N++){var p=bL.data[N],H=[i4.get(p.name)],Z=[N];aT.be(p.items,H,Z,c,E,y,e==null?null:e[N]==null?0:e[N])}var X=y.s;
for(var N=0;N<X.XI.length;N++){var b=X.XI[N],k=X.keys[N];for(var D=0;D<b.length;D++)c.push([["Tools",i4.get(b[D].f.name)],[-1,b[D].f.id],k?k.jg:null])}this.n.appendChild(this.Uc);
var j=this.HW;j.focus();j.select();this.HB()};aT.prototype.ae1=function(E){this.ud=-1;this.HB()};aT.prototype.HB=function(){var E=this.HW.value.toLowerCase().trim().replace(/  +/g," "),y=this.a0w,c=[],e=[],p=E.split(" ");
if(E!="")for(var N=0;N<y.length;N++){var H=y[N][0],Z=[],X=0;for(var b=0;b<H.length;b++)Z[b]=-1;for(var k=0;
k<p.length;k++)for(var b=0;b<H.length;b++){var D=H[b].toLowerCase().indexOf(p[k]);if(D!=-1){Z[b]=[D,D+p[k].length];
X++;break}}if(X==p.length){c.push(y[N]);e.push(Z)}}var j=[],g=this.aaD;v.Vz(g);for(var N=0;N<c.length;
N++){var R=c[N],t=R[0],D=e[N],w="enab",$="";if(N==this.ud)w+=" active";var B=v.t("div",w);j.push(B);
g.appendChild(B);for(var b=0;b<t.length;b++){var o=D[b],T=p[b],i=t[b];if(o!=-1)i=i.slice(0,o[0])+"<span style=\"color:black\">"+i.slice(o[0],o[1])+"</span>"+i.slice(o[1]);
$+=i;if(b<t.length-1)$+=" \uFE65 "}if(R[2]&&(typeof R[2]!="string"||R[2].length==1))$+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+ct.ey(R[2])+"</span>";
B.innerHTML=$}this.oo=[c,j]};aT.prototype.a4K=function(E){var y=ct.ku,c=E.code;if(y(c,ct.SB))this.wq();
var e=y(c,ct.Iq),p=y(c,ct.em),H=y(c,ct.qy);if(e||p){this.ud=Math.max(0,Math.min(this.oo[0].length-1,this.ud+(e?-1:1)));
this.HB()}if(H&&this.ud!=-1)this.ary(this.ud)};aT.be=function(E,y,c,e,p,H,Z){if(typeof Z=="number"){if(Z==0)return;
if(Z==1)Z=null}for(var N=0;N<E.length;N++){if(Z!=null&&(Z[N]==0||Z[N]==null))continue;var X=E[N],b=y.slice(0),k=c.slice(0),D=i4.get(X.name);
if(X.w){var j=X.w(p,H,N);if(j.pR)D=j.pR;if(j.w==!1)continue}b.push(D);k.push(N);if(X.sub)aT.be(X.sub,b,k,e,p,H,Z?Z[N]:null);
else e.push([b,k,X.xu])}};aT.prototype.aw3=function(E){var y=E.target;if(y.tagName.toLowerCase()=="span")y=y.parentNode;
var c=this.oo[1].indexOf(y);if(c!=-1)this.ary(c)};aT.prototype.ary=function(E){var y=this.oo[0][E][1];
if(y[0]==-1){var c=new iU(S.E.M,!0);c.data={d:S.H.lg,f:y[1]};this.T(c)}else{var e=bL.data[y[0]].qK[y[1]];
for(var N=2;N<y.length;N++)e=e.sub[y[N]];var p=new iU(e.K,!0);p.f=e.f;p.data=e.C;this.T(p)}this.wq()};
aT.prototype.Cl=function(E,y){this.Pf=E;this.T4=y;this.aaD.style["max-height"]=y-120+"px"};aT.prototype.acr=function(E){var y=v.t("div","alertpanel");
y.textContent=i4.get(E);this.mK.appendChild(y);this.dK[JSON.stringify(E)]=y};aT.prototype.avq=function(E){var y=this.dK[JSON.stringify(E)];
this.mK.removeChild(y);delete this.dK[JSON.stringify(E)]};aT.prototype.aav=function(E,y){var c=this.aoz;
for(var N=0;N<c.children.length;N++)if(c.children[N].textContent==E)return;var e=v.t("div","alertpanel tpanel");
e.textContent=E;e.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");c.appendChild(e);if(y==null)y=1500;
var p=y,H=Math.max(Date.now()+p,this.abp+p);setTimeout(function(){e.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){c.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},H-Date.now()-30);
setTimeout(function(){c.removeChild(c.firstChild);c.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},H-Date.now());
this.abp=H};aT.prototype.aho=function(E){var y=this.XB;for(var N=y.length-1;N>=0;N--){var c=y[N],e=E.target;
while(e!=null){if(e==c.n){this.uw(c);return}e=e.parentNode}}this.uw();var p=E.target;while(p!=this.Uc&&p!=document.body)p=p.parentNode;
if(p!=this.Uc)this.wq()};aT.prototype.uw=function(E){var y=this.XB;for(var N=0;N<y.length;N++){if(E&&E.anH(y[N]))continue;
var c=y[N].n;if(!(y[N]instanceof el))v.HC(y[N],this.n);else this.n.removeChild(c);c.style.height="auto";
v.yo(c,"scrollable");y.splice(N,1);N--}};aT.prototype.ade=function(E){this.uw(E.T_);var y=E.T_,c=y.n;
if(this.XB.indexOf(y)!=-1)return;this.XB.push(y);this.n.appendChild(c);var e=this.Pf,p=this.T4,H=E.x,Z=E.y,X=this.n.getBoundingClientRect(),b=y instanceof el,k=-1,D=p-2;
if(b||E.ob){var j=y.As(),g=y.aws();if(b)j=Math.min(j,200);var R=e-j-2,t=p-g-2;if(Z<t)k=2;else if(H<R)k=1;
else if(0<Z-g-2)k=0;else k=3;if(E.afF)k=0;if(E.a1n)k=2;if(k==2){H=Math.min(H,R)}else if(k==1){Z=Math.min(Z,t)}else if(k==0){Z=Z-g-2;
H=Math.min(H,R);D=E.y}else if(k==3){H=H-j-2;Z=Math.min(Z,t)}}Z=Math.max(2,Z);var top=Math.round(Z-X.y+this.n.offsetTop);
c.style.position="absolute";c.style["z-index"]=10;if(Z+y.aws()>D){c.style.height=D-Z+"px";v.Jn(c,"scrollable");
if(k==3)H-=10}c.style.left=Math.round(H)+"px";c.style.top=top+"px";if(!(y instanceof el))v.CA(y)};aT.prototype.aga=function(E){var y=E.T_,c=this.XB.indexOf(y);
if(c==-1)return;this.XB.splice(c,1);var e=y.n;if(!(y instanceof el))v.HC(y,this.n);else this.n.removeChild(y.n)};
aT.prototype.Dt=function(){var E=this.XB;return E.length==0?null:E[E.length-1]};aT.prototype.amR=function(){this.aga({T_:this.Dt()})};
function hy(){dT.call(this);this.n=v.t("div","confbar")}hy.prototype=new dT;hy.prototype.asW=function(E){E.parent=this;
v.Vz(this.n);this.n.appendChild(E.n)};function fz(E){dT.call(this);fz.Zb=this;fz.S5=E;this.P0=null;this.bm=v.t("input","");
this.bm.setAttribute("type","file");this.bm.setAttribute("multiple","");this.bm.addEventListener("change",function(y){this.$j(y.target.files,null,this.VB,null);
this.VB=null}.bind(this),!1);document.body.appendChild(this.bm);this.bm.setAttribute("style","display:none");
this.azy=[];this.$n=!1;this.ajR=[];this.M7=!1;this.akC={};this.VB=null}fz.prototype=new dT;fz.S5=null;
fz.y5=function(E){try{var y={};y[E.type]=E;navigator.clipboard.write([new ClipboardItem(y)])}catch(b4){console.error(b4,b4.message)}};
fz.D4=function(E,y){navigator.clipboard.read().then(function(c){for(var N=0;N<c.length;N++){try{var e=c[N],p={},H=0,Z=0;
for(var X=0;X<e.types.length;X++){var b=e.types[X];H++;e.getType(b).then(function(k){var D=b;new Response(k).arrayBuffer().then(function(j){p[this.KO]=j;
Z++;if(Z==H)fz.aci(p,E,y)}.bind({KO:this.KO}))}.bind({KO:b}))}}catch(b4){console.error(b4,b4.message)}}}).catch(function(c){})};
fz.ann=function(E){navigator.permissions.query({name:"clipboard-read"}).then(function(y){E(y.state)})};
fz.aci=function(E,y,c){var e=["text/plain","image/png","text/html","text/plain"];for(var p in E)console.log(p,p.startsWith("text")?_.Uw(new Uint8Array(E[p])).slice(0,100)+"...":E[p]);
for(var H=0;H<e.length;H++){var Z=e[H],X=E[Z];if(X==null)continue;if(Z=="image/png"){fz.S5({name:"image.png"},X,y,c);
return}if(Z=="text/plain"){var b=_.Uw(new Uint8Array(X));if(H==0)if(!b.startsWith("<!--")&&!b.startsWith("<svg"))continue;
if(c&&b.startsWith("<svg"))continue;var k=new iU(S.E.M,!0);k.data={d:S.H.avi,b:b};y.T(k);return}if(Z=="text/html"){var b=_.Uw(new Uint8Array(X)),D=b.indexOf("src=\"");
if(D!=-1&&b.slice(D+5,D+9)!="http"){var j=D+10;while(b[j]!="\"")j++;var g=b.slice(D+5,j);fz.S5({name:"chart.png"},iu.tf(g).buffer,y,c);
return}}}};fz.prototype.bV=function(E){if(E==null)E=[23,5];var y=JSON.stringify(E),c=this.akC;if(c[y]==null)c[y]=0;
if(c[y]==0){var e=new iU(S.E.M,!0);e.data={d:S.H.cL,SJ:E};this.T(e)}c[y]++};fz.prototype.pP=function(E){if(E==null)E=[23,5];
var y=JSON.stringify(E),c=this.akC;if(c[y]==null)c[y]=0;c[y]--;if(c[y]==0){var e=new iU(S.E.M,!0);e.data={d:S.H.B7,SJ:E};
this.T(e)}};fz.prototype.a2g=function(E,y){this.VB=E;var c=window.showOpenFilePicker;if(c&&window.self==window.top){var e=this;
c({multiple:!0}).then(function(Z){var X=[];function b(k){X.push(k);if(X.length==Z.length){e.$j(X,null,e.VB,null,Z);
e.VB=null}else Z[X.length].getFile().then(b)}Z[X.length].getFile().then(b)});return}var p=this.bm;if(y)p.setAttribute("accept",y);
else p.removeAttribute("accept");var H=document.createEvent("MouseEvents");H.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
p.dispatchEvent(H)};fz.prototype.SU=function(E){if(E.url.indexOf("photopea.com#i")!=-1||E.url.indexOf("photopea.com/#i")!=-1){this.BW(E.url.split("#i").pop());
return}this.azy.push(E);this.a1V()};fz.prototype.a1V=function(){var E=this.azy;if(E.length==0||this.$n)return;
this.$n=!0;var y=E.shift();this.bV();if(y.a5==null)y.a5={};var c=new XMLHttpRequest;c.QK=y;var e=y.url;
if(y.cI&&!e.startsWith("data:image"))e=(e);c.open("GET",e);if(y.V5)for(var p in y.V5)c.setRequestHeader(p,y.V5[p]);
c.responseType="arraybuffer";c.onload=this.ac8.bind(this);c.send()};fz.prototype.$j=function(E,y,c,e,p){for(var N=0;
N<E.length;N++){this.bV();var H=E[N],Z=new FileReader;Z.QK=H;Z.QK.Vn=c;Z.QK.fU=e;Z.aqc=y;if(p)Z.QK.Nk=p[N];
Z.onload=this.ac8.bind(this);Z.onerror=function(X){this.pP()}.bind(this);this.ajR.push([Z,H])}this.bm.value=null;
this.a9q()};fz.prototype.a9q=function(){var E=this.ajR;if(E.length==0||this.M7)return;this.M7=!0;var y=E.shift();
y[0].readAsArrayBuffer(y[1])};fz.prototype.am4=function(E,y,c){this.bV("Saving ...");this.P0=y;setTimeout(c.bind({BG:E,caller:this}),50)};
fz.Xv=function(E){var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(E),e=c.length,p=e%3,H=e-p,Z=[],X=0,b=0,k=0;
for(var N=0;N<H;N+=3){X=c[N];b=c[N+1];k=c[N+2];Z.push(y[X>>2]+y[(X&3)<<4|b>>4]+y[(b&15)<<2|k>>6]+y[k&63])}if(p==1){X=c[H];
Z.push(y[X>>2]+y[(X&3)<<4]+"==")}if(p==2){X=c[H];b=c[H+1];Z.push(y[X>>2]+y[(X&3)<<4|b>>4]+y[(b&15)<<2]+"=")}var D=Z.join("");
return D};fz.aet=function(E,y){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(64),X=0,b=0,k=0,j=0;
for(var N=0;N<64;N++)e[N]=c.charCodeAt(N);var p=new Uint8Array(E),H=y%3,Z=y-H,D=new Uint8Array(Math.floor(y/3)*4+(H==0?0:4));
for(var N=0;N<Z;N+=3){X=p[N];b=p[N+1];k=p[N+2];D[j]=e[X>>>2];D[j+1]=e[(X&3)<<4|b>>>4];D[j+2]=e[(b&15)<<2|k>>>6];
D[j+3]=e[k&63];j+=4}if(H==1){X=p[Z];D[j]=e[X>>2];D[j+1]=e[(X&3)<<4];D[j+2]=61;D[j+3]=61}if(H==2){X=p[Z];
b=p[Z+1];D[j]=e[X>>2];D[j+1]=e[(X&3)<<4|b>>4];D[j+2]=e[(b&15)<<2];D[j+3]=61}return D};fz.prototype.ac8=function(E){var y,c=E.target.QK;
if(E.target instanceof XMLHttpRequest)y=E.target.response;else y=E.target.result;fz.S5(c,y,this,E.target.aqc);
this.pP();if(E.target instanceof XMLHttpRequest){this.$n=!1;this.a1V()}else{this.M7=!1;this.a9q()}};
fz.azt=function(E,y){var c=new XMLHttpRequest;c.open("POST","https://api.imgur.com/3/image",!0);c.AM=y;
c.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");c.setRequestHeader("Content-type","application/x-www-form-urlencoded");
c.setRequestHeader("Accept","application/json");c.addEventListener("load",fz.awO);c.send("type=base64&image="+encodeURIComponent(fz.Xv(E)));
alert("Saving to Imgur ...",4e3)};fz.awO=function(E){var y=JSON.parse(E.target.response);if(y.success){if(E.target.AM)E.target.AM(y.data.link);
else window.open(y.data.link,"Imgur")}};fz.prototype.BW=function(E,y,c){this.bV();var e=new XMLHttpRequest;
e.responseType="arraybuffer";e.open("GET","templates/file/"+(c?"pp-resources":"psdshared")+"/"+E);
e.onload=this.ah5.bind(this);e.send();e.$x=[Date.now(),E,y?E:null,c]};fz.prototype.ah5=function(E){var y=E.target.$x,c=new Uint8Array(E.target.response);
console.log(c.length+" B,",Date.now()-y[0]+" ms");for(var N=0;N<c.length;N++)c[N]=255-c[N];c=pako.inflateRaw(c);
var e=JSON.parse(_.Uw(c,0,2e3));fz.S5({name:e.name,H6:y[2]},c.slice(2e3).buffer,this);this.pP();if(!y[3])fz.Gg("act=0&id="+y[1])};
fz.prototype.ab$=function(E,y,c,e){if(!(E instanceof ArrayBuffer))throw"e";E=new Uint8Array(E);var p=new Uint8Array(E.length+2e3),g="";
for(var N=0;N<2e3;N++)p[N]=32;_.Ww(JSON.stringify({name:y}),p,0);p.set(E,2e3);E=p;E=pako.deflateRaw(E);
for(var N=0;N<E.length;N++)E[N]=255-E[N];E=E.buffer;var H=E.byteLength,Z=fX.NU(H),X=~~(609e5/2),b=~~(209e5/2);
if(H>X){confirm("Your file is "+Z+". Our limit is "+fX.NU(X)+". Delete some layers and try again.");
return}if(H>b){var k=confirm("Your file is quite large ("+Z+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!k)return}var D=sha1(E),j=[];for(var N=0;N<20;N++){var R=parseInt(D.slice(N*2,N*2+2),16);j.push(R);
g+=String.fromCharCode(R)}var t=btoa(g).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(fz.aqa(t,e)){console.log("file already exists");
if(c)c(t);else window.open("https://www.photopea.com#i"+t+".psd");return}this.bV("Publishing ...");var w=new XMLHttpRequest;
w.$x=[E,D,t,c,e];w.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+t+"&size="+H+"&bname="+e);
w.onload=this.axJ.bind(this);w.send()};fz.aqa=function(E,y){try{var c=new XMLHttpRequest;c.open("HEAD","templates/file/"+y+"/"+E,!1);
c.send();if(c.status==200)return!0}catch(b4){return!1}return!1};fz.prototype.axJ=function(E){console.log(E.target.response);
var y=JSON.parse(E.target.response),c=E.target.$x,e=new XMLHttpRequest;e.open("POST",y.uploadUrl);e.setRequestHeader("Authorization",y.authorizationToken);
e.setRequestHeader("X-Bz-File-Name",c[2]);e.setRequestHeader("Content-Type","b2/x-auto");e.setRequestHeader("X-Bz-Content-Sha1",c[1]);
e.send(new Blob([c[0]]));e.onload=this.a4E.bind({bE:this,$x:c})};fz.prototype.a4E=function(E){this.bE.pP("Publishing ...");
if(this.$x[3])this.$x[3](this.$x[2]);else window.open("https://www.photopea.com#i"+this.$x[2]+".psd");
if(this.$x[4]=="psdshared")fz.Gg("act=2&id="+this.$x[2]+"&fileId="+JSON.parse(E.target.response).fileId)};
fz.Gg=function(E){var y=new XMLHttpRequest;y.open("GET","/papi/img/update.php?"+E+"&rnd="+Math.random());
y.send()};fz.save=function(E,y){var c=new Uint8Array(E),e=document.createElement("a");if(typeof e.download=="string"){var p=new Blob([c]),H=window.URL.createObjectURL(p);
e.href=H;e.download=y;document.body.appendChild(e);e.click();document.body.removeChild(e)}else{var Z="data:application/octet-stream;base64,"+fz.Xv(E);
window.open(Z)}};function ek(){this.size=16;this.data=d.R(16)}ek.prototype._Z=function(E,y){if(E+y<=this.size)return;
var c=this.size;while(E+y>this.size)this.size*=2;var e=d.R(this.size);for(var N=0;N<c;N++)e[N]=this.data[N];
this.data=e};var hq={};hq.o1=function(E,y,c,e){var p=y.split(":"),H=p[0];if(p.length==2){if(H=="jpg")e=[Math.round(100*parseFloat(p[1]))];
if(H=="webp")e=[Math.round(100*parseFloat(p[1])),100,0,!1,!1];if(H=="psd")e=[!0,!0,!1,!1,!1];if(H=="svg")e=p[1].split(",").map(function(X){return X=="true"})}var Z=iu.gv(E,H.toUpperCase(),null,null,e,c);
return Z};hq.a9h=function(E,y,c){var e=E.eA(),p=y[0];return hq.o1(E,p,c)};hq.adv=function(){var E=this.BG,y=this.caller,c=E.a5.kt,e=c.formats,p,H;
E.eA();var Z=Date.now();if(c.version==1){var X=[],b=0,D=0;for(var N=0;N<e.length;N++){var k=hq.o1(E,e[N],y.P0);
X.push(k);b+=k.byteLength}p=new Uint8Array(2e3+b);var j="{ \"source\": "+JSON.stringify(E.OS)+", \"versions\": [\n";
for(var N=0;N<e.length;N++){var g=new Uint8Array(X[N]);j+="\t{\"format\": \""+e[N].split(":")[0]+"\", \"start\": "+D+", \"size\": "+g.length+" }"+(N+1<e.length?", ":"")+"\n";
p.set(g,2e3+D);D+=X[N].byteLength}j+="] }";var R=_.Ww(j,p,0);for(var N=R;N<2e3;N++)p[N]=32;H="application/octet-stream"}else{var t=new ek,w=0,B="",$=encodeURIComponent;
B="p="+$("{ \"source\": "+JSON.stringify(E.OS)+", \"versions\": [");_.cW(t,w,B);w+=B.length;for(var N=0;
N<e.length;N++){B=$(" {\"format\": \""+e[N].split(":")[0]+"\", \"data\": \"");_.cW(t,w,B);w+=B.length;
var k=hq.o1(E,e[N],y.P0),o=fz.aet(k,k.byteLength),R=o.length;t._Z(w,R);for(var T=0;T<R;T++){t._Z(w,3);
var i=o[T];if(i==43){t.data[w]=37;t.data[w+1]=50;t.data[w+2]=66;w+=3}else if(i==47){t.data[w]=37;t.data[w+1]=50;
t.data[w+2]=70;w+=3}else if(i==61){t.data[w]=37;t.data[w+1]=51;t.data[w+2]=68;w+=3}else{t.data[w]=i;
w++}}B=$("\" }"+(N+1<e.length?", ":""));_.cW(t,w,B);w+=B.length}B=$("] }");_.cW(t,w,B);w+=B.length;p=t.data.slice(0,w);
H="application/x-www-form-urlencoded"}var r=new XMLHttpRequest;r.open("POST",c.url,!0);if(H)r.setRequestHeader("Content-Type",H);
r.addEventListener("load",hq.ahf.bind(this));r.send(new Blob([p.buffer]))};hq.ahf=function(E){this.caller.pP("Saving ...");
var y=E.target.response;if(y.charAt(0)=="{"){y=JSON.parse(y);if(y.newSource)this.BG.OS=y.newSource;if(y.message)alert(y.message,2e3);
if(y.script){var c=new iU(S.E.M,!0);c.data={d:S.H.HT,uc:y.script};this.caller.T(c)}}else alert("Saved. Response: "+y,1500)};
hq.aib=function(E){var y=E.Ra,c=y[1].split(".").pop(),e=hq.o1(E,c,null,c=="psd"&&y[0]==1?[!0,!1,!0,!1]:null),p=Storage.Ky(y[0]);
return p.a9Y(y[1],e)};hq.aBH=function(E,y){var c=E.$O.rS;if(y==null)y=hq.o1(E,c);as.pX(function(){var e=new XMLHttpRequest,p="https://www.googleapis.com/upload/drive/v3/files/"+E.$O.file.id+"?uploadType=media"+"&"+as.Ab();
e.open("PATCH",p,!0);e.addEventListener("load",function(H){var Z=JSON.parse(H.target.response);alert(Z.name+" updated")});
e.send(y);alert("Saving \""+E.$O.file.name+"\" to Google Drive ...")})};hq.S5=function(E,y,c,e){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)hq.aaK(E,y,c,e);
else{try{hq.aaK(E,y,c,e)}catch(b4){if(b4=="low_ram"){}else{var p="Error. Please, send your file to support@photopea.com and we will solve it.";
if(iu.XS(y)=="eps")p="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(p,1e4)}}}};hq.aaK=function(E,y,c,e){var p;if(E.name){var H=E.name.lastIndexOf(".");p=H==-1?E.name:E.name.slice(0,H)}else{if(E.url.substring(0,5)=="data:"||E.url.indexOf("googleapis")!=-1)p="image";
else p=E.url.substring(E.url.lastIndexOf("/")+1).split(".")[0];p=p.slice(0,50)}var Z=E.name?E.name:E.url,X=new Uint8Array(y),b=iu.XS(y);
if(Math.random()<.1&&b!=null&&iu.sF(b))b4.event("fmt_"+b);if(b==null)b=_.xY(X,0,4);if(Z&&Z.toLowerCase().endsWith(".raw")&&b!="tiff"){var k=new iU(S.E.M,!0);
k.data={d:S.H.Q5,ym:"importraw",Bj:y,gg:Z.split("/").pop()};c.T(k);return}else if(b=="json"){var D="";
for(var N=0;N<X.length;N++)D+=String.fromCharCode(X[N]);D=decodeURIComponent(escape(D));var j=JSON.parse(D);
if(j.name&&j.url){var k=new iU(S.E.M,!0);k.data={d:S.H.agt,b:j};c.T(k)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(j)}return}if(b=="html"){var D=_.Uw(X,0,X.length),g=new DOMParser,R=g.parseFromString(D,"text/html"),t=R.getElementsByTagName("meta");
for(var N=0;N<t.length;N++){var w=t[N],B=w.getAttribute("property"),$=w.getAttribute("content"),o=null;
if(B=="og:image")o=$;if(B==null&&$&&$.startsWith("0;url=/imgres?")){var T=$.slice(14).split("&");for(var i=0;
i<T.length;i++)if(T[i].startsWith("imgurl"))o=decodeURIComponent(T[i].slice(7))}if(o==null)continue;
var k=new iU(S.E.M,!0);k.data={d:S.H.ha,Wp:{url:o,cI:!0,Vn:E.Vn}};c.T(k)}return}if(iu.sF(b)){var r,I,M=iu.sF(b);
if(E.Vn!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(b)!=-1){var k=new iU(S.E.M,!0);if(0<=E.Vn)k.data={d:S.H.J8,target:E.Vn,HV:E.fU,cX:y,uS:p};
else{k=new iU(S.E.v,!0);k.data={d:jN.if,data:new Uint8Array(y),gg:p+"."+b};k.f=F.sh}c.T(k);return}var J=[p,M,b,E,c,e,y];
if(M.qg){var P=aw==0?"psd":"ai";r=new cc(p+(b==P?"":"-"+b)+"."+P);M.cU(y,r,hq.Tw,J)}else{I=M.cU(y,null,hq.Tw,J,c)}if(M.ni!=!0)hq.Tw(r,I,J);
else c.bV();return}var n=new iU(S.E.M,!0);n.data={d:S.H.Ns,Bj:y,p2:E.name};var x=E instanceof File&&E.Qx!=!0,k=new iU(S.E.M,!0);
k.data={d:S.H.z2,a5:"add",Wp:null,e_:null,arg:E.Qx};if(b=="zip"){var L=Date.now(),u=UZIP.parse(y),C="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var h in u){var A=!1;for(var N=0;N<C.length;N++)if(h.toLowerCase().endsWith("."+C[N]))A=!0;if(h.startsWith("__MACOSX/")||u[h].length==0)A=!0;
if(A)continue;var W=h.split("/").pop();hq.S5({name:W},u[h].buffer,c,e)}}else if(b=="jsx"||Z&&Z.toLowerCase().endsWith(".jsx")){if(x)c.T(n);
var D=_.Uw(new Uint8Array(y));k.data={d:S.H.HT,uc:D};c.T(k)}else if(b=="otf"){if(x)c.T(n);var Q=Typr.parse(y);
k.data.Wp=iL.uV;for(var N=0;N<Q.length;N++){k.data.e_=Q[N];c.T(k)}}else if(b=="asl"){if(x)c.T(n);var Q=c7.ux(y,Z);
k.data.Wp=iL.Iu;k.data.e_=Q.iM;c.T(k);k.data.Wp=iL.G5;k.data.e_=Q.fJ;c.T(k)}else if(b=="tpl"){if(x)c.T(n);
var Q=jV.ux(y);k.data.Wp=iL.WN;k.data.e_={b6:Q.b6,XQ:Q.XQ,list:[]};c.T(k);if(Q.a3u.length!=0){k.data.Wp=iL.ZU;
k.data.e_=Q.a3u;c.T(k)}if(Q.fJ.length!=0){k.data.Wp=iL.G5;k.data.e_=Q.fJ;c.T(k)}k.data.Wp=iL.rv;k.data.e_=Q.list;
c.T(k)}else{var l="";for(var O in iL.PZ)if(iL.PZ[O][0]==b)l=O;if(l!=""){if(x)c.T(n);k.data.e_=iL.PZ[l][2].ux(y,Z);
k.data.Wp=l;c.T(k)}else if(y.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(b))}};
hq.Tw=function(E,y,c){var e=c[0],p=c[1],H=c[2],Z=c[3],X=c[4],b=c[5],k=c[6];if(p.ni)X.pP();if(!p.qg){if(y.length==0)return;
if(y[0].t33421||y[0].t50706){d.raw.normalize(y[0],k);console.log(y[0]);var D=new iU(S.E.M,!0);D.data={d:S.H.Q5,ym:"rawpea",Rh:y[0]};
X.T(D);return}if(b){b(new Uint8Array(y[0].data),y[0].Yu);return}E=iu.kv(e,y)}E.H6=Z.H6;E.Nj=H;E.a5=Z.a5;
E.OS=Z.url;E.YW=Z.YW;E.$O=Z.$O;E.Nk=Z.Nk;E.Ra=Z.Ra;if(E.$O)E.$O.rS=H;if(E.B.length!=0){var D=new iU(S.E.M,!0);
D.data={d:Z.Vn==null?S.H.xg:S.H.J8,target:Z.Vn,HV:Z.fU,cX:E};X.T(D)}};function eT(E){dT.call(this);this.xr=eT.xr++;
this.yT=E;this.aqM=this.adz.bind(this);this.ahr=this.ay8.bind(this);this.aoR=this.xQ.bind(this);this.acW=this.afW.bind(this);
this.a4O=this.atl.bind(this);this.aC_=this.axx.bind(this);this.wW=0;this.aBE=0;this.apu=0;this.n=v.t("div","panelblock");
this.RX=v.t("div","block");this.D7=v.t("div","collapsed");this.n.appendChild(this.RX);this.dI=-1;this.O7=!0;
this.z$=v.t("div","panelhead");this.RX.appendChild(this.z$);this.Ka(this.z$);this.FH=new fr("\u2261");
this.FH.n.setAttribute("style","position:absolute; right:4px;");this.FH.k("click",this.alp,this);this.hB=v.t("div","body");
this.RX.appendChild(this.hB);this.Bx=[];this._W=null;this.yE=null}eT.xr=0;eT.prototype=new dT;eT.De=26.1;
eT.prototype.alp=function(E){var y=this.Bx[this.dI].v6(),c=E.currentTarget.n.getBoundingClientRect();
y._();y.update();y.parent=this;var e=new iU(S.E.M,!0);e.data={d:S.H.rt,T_:y,x:c.left,y:c.top+c.height+2};
this.T(e)};eT.prototype.Q2=function(E){var y=this.RX,c=this.z$,e=this.hB;if(v.Qj(c))y.removeChild(c);
if(v.Qj(e))y.removeChild(e);if(E==0)y.appendChild(c);y.appendChild(e);this.apu=E};eT.Ds=function(E){E.stopPropagation();
E.preventDefault()};eT.prototype.adz=function(E){var y=E.dataTransfer.types;if(y[1]!=null&&y[1]!=this.xr+"")return;
eT.Ds(E);var j1=E.currentTarget;if(E.target==j1)v.Jn(j1,"highlight")};eT.prototype.ay8=function(E){eT.Ds(E);
var j1=E.currentTarget;if(E.target==j1)v.yo(j1,"highlight")};eT.prototype.Ka=function(E){E.addEventListener("dragenter",this.aqM,!1);
E.addEventListener("dragleave",this.ahr,!1);E.addEventListener("dragover",eT.Ds,!1);E.addEventListener("drop",this.aoR,!1);
E.addEventListener("dragstart",function(y){y.dataTransfer.setData("Text","--panel");y.dataTransfer.setData(this.xr+"","")}.bind(this),!1)};
eT.prototype.xQ=function(E){this.ahr(E);var y=null,j1=E.currentTarget,c=this.abv(j1);if(j1==this.hB&&this.dI!=-1)y=this.dI;
else if(j1==this.z$)y=null;else if(c!=-1)y=c;var e=E.dataTransfer.getData("Text");if(e==""||e.startsWith("http"))v.J$(E,this,y);
else if(e=="--panel"){var p=v.RM(E,j1),H=this.Bx,Z=H.slice(0),N=this.dI,X=c==-1?H.length:p.x<j1.getBoundingClientRect().width/2?c:c+1;
if(N==X||N+1==X||j1==this.hB)return;var b=N<X?X-1:X,k=H[N];H.splice(N,1);H.splice(b,0,k);v.Vz(this.z$);
for(var D=0;D<H.length;D++)this.z$.appendChild(H[D]._$);this.MF(b);var j=[];for(var N=0;N<H.length;N++)j[N]=Z.indexOf(H[N]);
var g=new iU("shuffleItems",!1);g.data={a59:j};this.T(g)}else if(y!=null&&this instanceof g2){var g=new iU(S.E.M,!0);
g.data={d:S.H.awd,a3b:y};this.T(g)}};eT.prototype.Yw=function(){return null};eT.prototype.apD=function(){if(this.Yw()){this.z$.style.padding="0px";
this.yE=this.Yw();this.hB.appendChild(this.yE);this.cb.U0(!1);var E=new iU(S.E.M,!0);E.data={d:S.H.Qw,b:1};
this.T(E)}};eT.prototype.a8F=function(){if(this.yE){this.z$.style.padding="";this.hB.removeChild(this.yE);
this.yE=null;this.cb.U0(!0);var E=new iU(S.E.M,!0);E.data={d:S.H.Qw,b:0};this.T(E)}};eT.prototype.abv=function(E){var y=this.Bx;
for(var N=0;N<y.length;N++)if(y[N]._$==E)return N;return-1};eT.prototype.K6=function(){for(var N=0;N<this.Bx.length;
N++)this.Bx[N].L7.FE()};eT.prototype.EH=function(){return this.dI};eT.prototype.ZO=function(){if(this.O7)return;
this.O7=!0;this.n.removeChild(this.D7);this.n.appendChild(this.RX)};eT.prototype.collapse=function(){if(!this.O7)return;
this.O7=!1;this.n.appendChild(this.D7);this.n.removeChild(this.RX)};eT.prototype.De=function(){var E=0;
if(this.apu==0){E=this.z$.getBoundingClientRect().height+1;E=Math.max(E,eT.De)}return E};eT.prototype.aqy=function(){return this.De()+this.hB.getBoundingClientRect().height};
eT.prototype.Cl=function(E,y){this.z$.style.maxWidth=E+"px";var c=this.De();if(this.dI!=-1)this.Bx[this.dI].Cl(E,y-c);
return y-c};eT.prototype.mh=function(E,y){if(this.dI!=-1)this.Bx[this.dI].mh(E,y)};eT.prototype.Xy=function(E,y,c){this.Bx[this.dI].Xy(E,y,c)};
eT.prototype.Dj=function(E){this.a8F();if(this.Bx.indexOf(E)!=-1){this.MF(this.Bx.indexOf(E));return}E.parent=this;
this.Bx.push(E);this.z$.appendChild(E._$);E._$.addEventListener("mouseover",this.acW,!1);this.Ka(E._$);
this.D7.appendChild(E.L7.n);E.L7.k("click",this.a7N,this);E.k("select",this.aaG,this);E.k(S.E.w3,this.a4S,this);
this.MF(this.Bx.length-1)};eT.prototype.afW=function(E){if(E.buttons==0)return;var y=E.currentTarget,c=y,N=0;
while((c=c.previousSibling)!=null)N++;this.aBE=N;y.addEventListener("mouseout",this.a4O,!1);this.wW=setTimeout(this.aC_,700)};
eT.prototype.atl=function(E){var y=E.currentTarget,c=y,N=0;while((c=c.previousSibling)!=null)N++;y.removeEventListener("mouseout",this.a4O);
clearTimeout(this.wW)};eT.prototype.axx=function(E){this.T(new iU(S.E.acu,!1))};eT.prototype.a6A=function(E){return this.aBE};
eT.prototype.BH=function(N){var E=new iU(S.E.w3,!1);E.data={ZI:N};this.T(E);var y=this.Bx[N];this.Bx.splice(N,1);
this.z$.removeChild(y._$);this.D7.removeChild(y.L7.n);y._$.className="";y.L7.removeEventListener("click",this.a7N,this);
y.L7.FE();y.removeEventListener("activate",this.aaG);y.removeEventListener(S.E.w3,this.a4S);var c=this.dI;
if(N<c)c--;else if(N==c&&N==this.Bx.length)c--;this.MF(c);if(this.Bx.length==0)this.apD()};eT.prototype.ahq=function(){return this.Bx.length};
eT.prototype.TQ=function(){if(this.Bx.length!=0)this.Bx[this.dI].TQ()};eT.prototype.MF=function(E,y){if(y==null)y=!0;
for(var N=0;N<this.Bx.length;N++)this.Bx[N]._$.className="";if(this._W)this.hB.removeChild(this._W);
this._W=null;this.dI=E;if(E==-1)return;var c=this.Bx[this.dI];this._W=c.fX;this.hB.appendChild(c.fX);
c._$.className="active";if(!this.O7){this.T(new iU("showFloat"));this.Bx[E].L7.Fw()}if(y)this.T(new iU(S.E.p,!1));
c.jH();var e=this.FH.n;if(e.parentNode)this.z$.removeChild(e);if(c.v6())this.z$.appendChild(e);var p=new iU(S.E.M,!0);
p.data={d:S.H.zR};this.T(p)};eT.prototype.aaG=function(E){if(this.yT&&!this.yT.aDU())return;var N=this.Bx.indexOf(E.currentTarget);
this.MF(N)};eT.prototype.a4S=function(E){if(this.yT&&!this.yT.aDU())return;var N=this.Bx.indexOf(E.currentTarget);
this.BH(N)};eT.prototype.a7N=function(E){var y=this.Bx.indexOf(E.currentTarget.parent);if(this.Bx[y].L7.MW())this.T(new iU("hideFloat"));
else this.MF(y)};eT.prototype.a4m=function(E){this.T(E)};function g2(E){eT.call(this,E);this.Pf=0;this.T4=0;
v.Fo(this.z$,this.aiu.bind(this));this.OM=0;this.av3=this.afZ.bind(this);this.Ka(this.hB);this.ia=["default;"];
this.cb=new v.m_(this.hB);this.z6=new h3(!0);this.z6.parent=this;this.H1=this.z6.n;h3.dF(this.z6)}g2.prototype=new eT;
g2.prototype.aiu=function(E){if(E.target!=this.z$)return;var y=this.OM;this.OM=Date.now();if(Date.now()-y>300)return;
var c=new iU(S.E.M,!0);c.data={d:S.H.Q5,ym:"newproject"};this.T(c)};g2.prototype._q=function(E,y){if(y)this.ia.push(E);
else{var c=this.ia.length-1;if(this.ia[c]==E)return;this.ia[c]=E}this.AZ()};g2.prototype.axY=function(){this.ia.pop();
this.AZ()};g2.prototype.AZ=function(){var E=this.ia[this.ia.length-1];this.cb.Xy(E,this.Y6)};g2.prototype.mh=function(E,y){eT.prototype.mh.call(this,E,y);
this.z6.mh(E,y);if(!E.ga){}};g2.prototype._=function(){eT.prototype._.call(this);this.z6._()};g2.prototype.Xy=function(E,y){for(var N=0;
N<y.length;N++){var c=y[N];this.Bx[N].Mq(c.name+(c.LP()?" *":""))}eT.prototype.Xy.call(this,E,y)};g2.prototype.Yw=function(){return this.H1};
g2.prototype.Cl=function(E,y){if(this.Bx.length==0)y+=eT.De-1;this.Pf=E;this.T4=y;y=eT.prototype.Cl.call(this,E,y);
this.Y6="height:"+y+"px; width:"+E+"px; overflow:hidden; position:relative;";this.AZ();this.z6.Cl(E,y)};
g2.prototype.Dj=function(E){eT.prototype.Dj.call(this,E);E._$.addEventListener("click",this.av3,!1)};
g2.prototype.BH=function(N){var E=this.Bx[N];v.QM(E._$,this.av3);eT.prototype.BH.call(this,N)};g2.prototype.afZ=function(E){var y=this.OM;
this.OM=Date.now();if(Date.now()-y>300)return;var c=this.abv(E.currentTarget),e=this.Bx[c].cX.name,p=new iU(S.E.M,!0),H={K:S.E.v,f:F.sh,C:{d:jN.yF}};
p.data={d:S.H.Q5,ym:"namewindow",v5:e.slice(0,e.length-4),nO:H};this.T(p)};function kc(E){dT.call(this);
if(E)return;i3.adk(1);this.n=v.t("div","flexrow app");this.QT=v.t("div");this.n.appendChild(this.QT);
setTimeout(function(){var c=window.hideCap;if(c)c()},25e3);this.M3=new ct;window.addEventListener("blur",function(c){this.M3.reset()}.bind(this),!1);
window.addEventListener("resize",this._b.bind(this),!1);var y=this.QT;this._Y=new h8;this._Y.parent=this;
y.appendChild(this._Y.n);this.ED=new aT;this.ED.parent=this;y.appendChild(this.ED.n);this.VK=new cE(!0);
this.VK.parent=this;y.appendChild(this.VK.n);this.k(S.E.M,this.IH,this);this.AN=this.r8.bind(this);window.requestAnimationFrame(this.AN)}kc.prototype=new dT;
kc.prototype.r8=function(E){this.oR();window.requestAnimationFrame(this.AN)};kc.prototype._=function(){};
kc.prototype._b=function(E){var y=window.innerWidth,c=window.innerHeight;this.Cl(y,c)};kc.prototype.Cl=function(E,y){this.ED.Cl(E,y);
this._Y.Cl(E,y)};kc.prototype.IH=function(E){var y=E.data.d;if(y==S.H.rt)this.ED.ade(E.data);if(y==S.H.Oy)this.ED.aga(E.data);
if(y==S.H.cL)this.ED.acr(E.data.SJ);if(y==S.H.B7)this.ED.avq(E.data.SJ);if(y==S.H.HP)this.ED.uw()};function kD(){kc.call(this);
this.pp={x:0,y:0,fu:!1};this.SW=!1;this.Ft=!1;this._v=null;this.ac0=0;this.axA=!1;this.KU=0;window.onmessage=function(D){if(Storage.amf(D.source))return;
if(D.data instanceof ArrayBuffer){var j=iu.XS(D.data),g=iu.sF(j);fz.S5({url:"file"},D.data,this);if(g==null)this.Y4()}else if(D.data instanceof Object||D.data.startsWith("{")||D.data.startsWith("amp-")||D.data.startsWith("0=goog")||D.data.startsWith("3PCoo")||D.data.startsWith("ima://")){}else if(D.data.startsWith("--ur ")){var R=D.data.split(" ").pop(),T=null;
R=R.length==0?[]:R.split(",");console.log(R);var t=this.Ym.e_,w=new iU(S.E.M,!0);w.data={d:S.H.z2,Wp:iL.l3,Hx:R};
this.T(w);var B=R,$=t;if($.length>B.length){var o=$;$=B;B=o}for(var N=0;N<B.length;N++)if($.indexOf(B[N])==-1)T=B[N];
fz.Gg("act=3&id="+T+"&dif="+(B==R?1:-1));alert((B==R?"Resource added.":"Resource removed.")+" "+T)}else if(D.data.startsWith("--ot ")){if(this._Y.Dt())this._Y.Dt().close();
this.mD.BW(D.data.split(" ").pop(),!0)}else if(D.data.startsWith("--et ")){}else{var w=new iU(S.E.M,!0);
w.data={d:S.H.HT,uc:D.data};this.T(w);this.Y4()}}.bind(this);window.onbeforeunload=function(D){this.atu();
for(var N=0;N<this.l9.length;N++)if(this.l9[N].LP())return this.l9[N].name}.bind(this);window.setInterval(this.a8C.bind(this),5*60*1e3);
var E=this;if(window.indexedDB&&(!gW.AB()||document.hasStorageAccess==null)){var y={_Z:window.indexedDB.open("pp",1)};
y._Z.onupgradeneeded=function(D){var j=D.target.result,g=j.createObjectStore("rsrc",{keyPath:"k"})};
y._Z.onsuccess=function(D){var j=E.Ym.gp.iP=D.target.result,g=j.transaction(["rsrc"],"readwrite").objectStore("rsrc"),R=g.get("fs0");
R.onsuccess=function(D){if(D.target.result){var B=E.Ym.gp.zK=D.target.result.fset;for(var $ in B){if(!$.endsWith(".jsx")&&!$.endsWith(".psd"))fz.S5({url:$,Qx:!0},B[$],E)}}};
var t=new BroadcastChannel("pp-tabs"),w=[];t.onmessage=function(D){if(D.data=="id")t.postMessage(E.Ym.gp.id);
else w.push(D.data)};t.postMessage("id");setTimeout(function(){var g=j.transaction(["rsrc"],"readwrite").objectStore("rsrc"),B=g.getAllKeys();
B.onsuccess=function(){var $=B.result,o=[],T=0;for(var N=0;N<$.length;N++){if($[N]=="fs0")continue;if(w.indexOf($[N])!=-1)continue;
o.push($[N])}for(var N=0;N<o.length;N++){var R=g.get(o[N]);R.onsuccess=function(D){if(D.target.result){var i=D.target.result.fset;
for(var r in i){try{fz.S5({url:r,Qx:!0},i[r],E);var I=E.NY();I.xM=I.xE=-1}catch(D){console.log(D)}}T++;
if(T==o.length)for(var N=0;N<o.length;N++){var R=g.delete(o[N])}}}}}},200)}}var c=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO","\"|'/-&(0><BBDEEMGrVPb"],e=v._D[fp.bn][fp.SE];
for(var N=0;N<c.length;N++){var p=v.m2(c[N]);if(e.indexOf(p)!=-1){var H=v._D[fp.bn][fp.hB],Z=v.m2("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
v.Vz(H);H[fp.aos]=Z;return}}this.s=kD.aex();this.Ym={s:this.s,avn:!1,sJ:null,PL:0,cT:{XQ:[],b6:[],list:[],LU:null},Jm:[],a9s:[],s4:[],qN:[],jN:[],gS:[],ahc:[],aDe:[],jN:[],Gp:[dD.TL()],EX:[],kQ:[],lu:null,i8:0,WF:cb.WF.TL(),Jo:{uC:1,f3:JSON.parse(JSON.stringify(cb.Xz[0]))},MY:cb.CY.TL(),cd:[null].concat(cb.Xz),W3:[null].concat(cb.Xz),UG:new ik(function(D){var j=new iU(S.E.M,!0);
j.data={d:S.H.ha,Wp:{url:"rsrc/fonts/"+D}};this.T(j)}.bind(this)),c2:{GF:[],na:null,dV:null},font:null,ua:[],e_:[],at$:{},x4:0,YO:16777215,B3:!1,sL:!0,km:{oc:!0,AG:!1,iY:!0,gA:!0,ip:!0,Cv:!0,VV:20,pz:0,zP:0,sz:0,Vg:8421504,nK:65535},Ce:!0,BT:[!0,!0,!1,!0,!0],oM:[0,1,2,3,5,6,7,9,10,16,17,100],c6:1,Im:!0,ye:{},ga:!0,acO:!1,compact:!1,gz:1,$o:0,H1:!0,RA:null,gp:{id:"ts"+Math.round(Math.random()*16777215),ayf:!1,azM:!1,zK:{},LN:{},iP:null},an3:0,a30:null,Ti:null,aaZ:null,V_:null};
ik.O$.Rz(this);this.au0={k4:new ir,yX:new eq};this.Ym.c2=gV.av7();this.I1=new bL;this.hF=new hy;this.nk=new c9(this.s,!0);
this.tD=new bk;this.Ys=new g2(this);this.vG=v.t("div");this.mR=!1;this.TD=this.aeQ.bind(this);v.Jn(this.Ys.n,"mainblock");
this.VK.parent=this.I1.parent=this.hF.parent=this.nk.parent=this.tD.parent=this.Ys.parent=this;this.Ys.k(S.E.p,this.Tc,this);
this.Ys.k(S.E.w3,this.awv,this);this.Ys.k("shuffleItems",this.arW,this);this.Ys.k(S.E.acu,this.a8d,this);
this.k("mouse",this.azh,this);this.k(S.E.v,this.hE,this);this.k(S.E.on,this.ajq,this);document.body.addEventListener("keydown",this.ie.bind(this),!1);
window.addEventListener("keyup",this.y2.bind(this),!1);window.addEventListener("paste",this.a6c.bind(this),!1);
window.addEventListener("copy",this.aE7.bind(this),!1);window.addEventListener("wheel",function(D){if(D.ctrlKey)D.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(D){if(window.innerWidth>400)D.preventDefault();
this.Ym.RA=D}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(D){if(D.a6H){console.log("Service worker installing")}else if(D.apN){console.log("Service worker installed")}else if(D.active){console.log("Service worker active")}}).catch(function(D){console.log("Registration failed with "+D)})}this.Sp=0;
this.l9=[];this.mD=new fz(hq.S5);this.mD.parent=this;var X=this.QT,b=this.ai=v.t("div");b.appendChild(this.I1.n);
b.appendChild(this.hF.n);this.VK.ah$(b);var k=this.aCZ=v.t("div","flexrow");X.appendChild(k);k.appendChild(this.nk.n);
k.appendChild(this.Ys.n);k.appendChild(this.tD.n);this.mD.SU({url:"rsrc/basic/basic.zip"});this.OR(F.mq);
b4.Rz(this.axO.bind(this))}kD.prototype=new kc(!0);kD.prototype.Y4=function(E){var y=new iU(S.E.M);y.data={d:S.H.xw,Wp:E?E:"done"};
this.T(y)};kD.prototype.a8C=function(){var E=this.Ym.gp,c=!1;if(E.iP==null)return;var y=this.l9;for(var N=0;
N<y.length;N++){var e=y[N];if(e.xE!=e.PT){var p=Date.now(),H=iu.gv(e,"psd",0,0,[!0,!1,!0,!1,!0]);e.xE=e.PT;
E.LN[e.name]=H;c=!0;console.log(Date.now()-p,"saving "+e.name,H.byteLength)}}if(c){var Z=new iU(S.E.M);
Z.data={d:S.H.z2,Wp:iL.Rf,avR:!0};this.T(Z)}};kD.prototype.axO=function(){v._D[fp.iw](this.al4.bind(this),Math.pow(Math.PI,8)+v._D[fp.abx][fp.a9g]()*1e4);
var E=b4.vQ();if(E!=null&&E.globals!=null)this.vo(E.globals);else{this.axA=!0;var y=i4.rV();if(y&&y.length!=0){var c=y[0];
i4.aM(c,this.TD)}}if(!this.Mh()){var e=v.a3J();if(e==0)this.acO=!0;if(e==2)this.Ym.ga=!1;if(e!=1&&Math.random()<.002)v.aa5()}if(!gW.AB()||!this.Ym.ga){this.a83();
this.G0()}else{var p=v.Hq(v._D[fp.SN]);p[fp.y0](fp.JN,this.avu.bind(this));p[fp.jb](v.L_("61="),v.L_("_MYOqDLGJa;A:6"));
p[fp.Vl]()}this.SW=!0;this.Y4()};kD.prototype.avu=function(E){var y=JSON.parse(E.target[fp.wH]),c=v._D[fp.Ot][fp.aDN]()/1e3,e=v._D[fp.bn][fp.SE],p=!1;
for(var H in y)if(H.indexOf(".")!=-1&&e.indexOf(H)!=-1&&parseInt(y[H])>c)p=!0;if(p)this.Ym.ga=!1;this.a83();
this.G0()};kD.prototype.G0=function(E){this.Ft=!0;if(!this.Ym.H1)this.Ys.H1=null;else if(this.l9.length==0)this.Ys.apD();
this.GD(iL.Dg);this._();this._b();this.tD.Xy(this.NY(),this.l9,this.Ym)};kD.prototype.vo=function(E){var y=this.Ym;
if(E.fcolor!=null){y.x4=E.fcolor;var c=y.c2.na.FillColor;if(c){var e=d.$E(y.x4);c.Values=[1,e.Z/255,e.D/255,e.J/255]}}if(E.bcolor!=null)y.YO=E.bcolor;
if(E.rulers!=null)y.B3=E.rulers;if(E.extras!=null)y.sL=E.extras;if(E.favFam!=null)y.ua=E.favFam;if(E.rsrc!=null)y.e_=E.rsrc;
if(E.font!=null)y.c2.GF[0].Name=E.font;if(E.panels!=null)y.oM=E.panels;if(E.as!=null)y.gz=E.as;if(E.co!=null)y.$o=E.co;
if(E.eparams){var p=E.eparams,H=y.km;if(p.guides!=null)H.oc=p.guides;if(p.grid!=null)H.AG=p.grid;if(p.gsize!=null)H.VV=p.gsize;
if(p.gunits!=null)H.pz=p.gunits;if(p.gtype!=null)H.zP=p.gtype;if(p.runits!=null)H.sz=p.runits;if(p.gcol!=null)H.Vg=p.gcol;
if(p.gucol!=null)H.nK=p.gucol;if(p.sels!=null)H.iY=p.sels;if(p.paths!=null)H.gA=p.paths;if(p.pgrid!=null)H.ip=p.pgrid;
if(p.slices!=null)H.Cv=p.slices}if(E.lang!=null)i4.aM(E.lang,this.TD);if(E.theme!=null)y.c6=E.theme;
if(E.topt||y.Ne){var Z=E.topt?E.topt:{},X=y.Ne?y.Ne:{};for(var b in this.s.map){if(b>=103)continue;var k="t"+b;
if(Z[k]||X[k])this.s.map[b].f.$q(Z[k],X[k],this)}}};kD.prototype.a83=function(){if(this.Ym.avn)return;
this.Ym.avn=!0;var E=null,y=window.location.href,c=y.indexOf("="),e=y.indexOf("#");if(c!=-1)E=y.substring(y.indexOf("?")+1,c);
if(e!=-1&&e!=y.length-1){E="p";c=e}if(e!=-1&&y[e+1]=="i"){this.mD.BW(y.slice(e+2,e+10))}else if(y.slice(e+1).startsWith("goog_rewarded")){}else if(e!=-1&&y[e+1]=="t"){this.mD.BW(y.slice(e+2,e+10).split("").reverse().join(""),!0)}else if(E=="p"||E=="state"){var p=y.substring(c+1,y.length);
p=JSON.parse(decodeURI(p));if(E=="p"){if(p.script=="alert(73)")this.Ym.ga=!1;if(p.script)cU.a1o(this);
if(p.server)this._v=p.server;if(p.resources)for(var N=0;N<p.resources.length;N++)this.mD.SU({url:p.resources[N]});
if(p.files)for(var N=0;N<p.files.length;N++)this.mD.SU({url:p.files[N],a5:{kt:p.server,af7:p.script}});
var H=p.environment;if(H==null)H={};if(H.plugins!=null)this.tD.aiG(H.plugins);if(H.localsave!=null)this.Ym.Im=H.localsave;
if(H.customIO!=null)this.Ym.ye=H.customIO;if(H.vmode!=null){var Z=H.vmode;if(Z==1)this.Ym.compact=!0;
if(Z==2)this.Q2(1)}if(H.intro!=null)this.Ym.H1=H.intro;if(H.menus!=null)this.Ym.az$=H.menus;if(H.tmnu!=null)this.Ym.Ne=H.tmnu;
if(H.panels!=null)this.Ym.oM=H.panels;if(H.showtools!=null){var X=H.showtools,b=X.indexOf(this.Ym.sJ);
this.Ym.oi=X;if(b==-1)this.OR(X[0])}if(H.phrases!=null)i4.afH(H.phrases);if(H.autosave!=null){this.Ym.gz=0;
window.setInterval(function(){var j=new iU(S.E.M);j.data={d:S.H.XT};this.T(j)}.bind(this),H.autosave*1e3)}if(H.icons!=null){for(var k in H.icons)if(H.icons[k].indexOf("\"")==-1){if((k==fp.avT||k==fp.a9H)&&this.Ym.ga)continue;
PIMG[k]=H.icons[k];PIMG["__"+k]=!0}}this.vo(H);if(p.files==null&&p.script){hZ.Bi(p.script,this);this.Y4()}}else if(E=="state"){var D=this.mD;
if(p.action=="create"){var j=new iU(S.E.M);j.data={d:S.H.Q5,ym:"newproject",a2M:p.folderId};this.T(j)}if(p.action=="open"){for(var N=0;
N<p.ids.length;N++)as.pX(function(){var R="https://www.googleapis.com/drive/v3/files/"+this.aps,t=new XMLHttpRequest;
t.open("GET",R);t.setRequestHeader("Authorization",as.jw());t.send();t.onload=function(w){var B=JSON.parse(w.target.response);
D.SU({url:R+"?alt=media",name:B.name,$O:{file:B,rS:""},V5:{Authorization:as.jw()}})}}.bind({aps:p.ids[N]}));
alert("Loading files from Google Drive ...")}}}else{var g=window.launchQueue;if(g){var D=this.mD;g.setConsumer(function(R){var t=R.files;
console.log(t);for(var N=0;N<t.length;N++){var w=t[N];w.getFile().then(function(B){D.$j([B],null,null,null,[w])})}})}}};
kD.prototype._=function(){var E=document.getElementById("cap");if(E){var y=!1,c=E.getElementsByTagName("h1")[0],H=0,X=0,b=0;
c.textContent=y?"Photopea":i4.get([0,17,0]);var e=E.getElementsByTagName("p"),p=v.k6(i4.get([0,17,1])),Z=["PSD","XCF","Sketch","XD","CDR"];
for(var N=0;N<Z.length;N++)p=p.replace(Z[N],"<b>"+Z[N]+"</b>");if(!y)p+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
e[0].innerHTML=p;p=i4.get([0,17,2])+" "+i4.get([0,17,3]);for(var N=0;N<p.length;N++){var k=p[N];if(k=="<")X++;
if(k==">")b++}if(!y&&X*b==9){var D=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var N=0;N<3;N++){var j=p.indexOf("<",H),g=p.indexOf(">",H),R=p.slice(0,j)+"<a href=\""+D[N]+"\" target=\"_blank\">"+p.slice(j+1,g)+"</a>";
H=R.length;p=R+p.slice(g+1)}e[1].innerHTML=p}else e[1].innerHTML=i4.get([0,17,2])}var t=document.getElementById("sponsors");
if(t)t.textContent=i4.get([0,17,4]);this.VK._();this.I1._();this.tD._();this.nk._();this._Y._();this.Ys._();
for(var w in this.s.map)if(this.s.map[w].Dv)this.s.map[w].Dv._()};kD.prototype.Mh=function(){var E=v._D[fp.EM][fp.aam];
if(E&&E[1]){if(E[1].endsWith(fp.L_("UUPSDm@ID")))return!0}return 4<v._D[fp.EM][fp.Th][fp.alq](fp.L_("'$!|"))||true};
kD.prototype.Cl=function(E,y){E=Math.floor(E);y=Math.floor(y);var c=v.L_("WUMK&AM"),e=fp.Y1,p=v._D[fp.bn],H=Math.max(E,window.screen.width),Z=Math.max(y,window.screen.height),j=0;
if(gW.W0==null)gW.W0=Math.min(H,Z)<500||H<750?0:H<1500?1:2;var X=gW.W0,b=!this.Ft||this.Mh()||!this.Ym.ga||b4.qc();
if(!b&&gW.AB()){if(this.auw==null)this.auw=Math.random()<.5;b=this.auw}if(b){if(X!=0&&v._D[c]&&this.Ft)v._D[c]()}else{if(X==0)y-=84;
else E-=X==1?180:320}kc.prototype.Cl.call(this,E,y);if(b&&this.mR){this.n[fp.jh](this.vG);v.Vz(this.vG);
this.mR=!1}if(!b&&!this.mR){var k=function(t){if(Math.random()<.002){b4.event(gW.g7()?"gota_0":"gota_1")}this.avJ(E,y);
var w=X==0?p[fp.hB]:this.n;w.appendChild(this.vG);this.vG[fp.Li](e,v.L_("_MMJLNDfKCAg")+(X==0?10:10)+v.L_("_d$ebOS?I:==Ba-+# }$M"));
this.vG[e][v.L_("_MMJLND&<:E")]=(X==0?0:19)+v.L_("_d");this.vG[e][v.L_("i5WJHX")]=X==0?0:1}.bind(this);
function D(){gW.akn(k)}setTimeout(D,2300);this.mR=!0}if(v.Qj(this.I1.n))j+=31;if(v.Qj(this.hF.n))j+=32;
this.VK.afi=this.Ym.ga&&this.Ft;this.VK.Cl(E,j);var g=y-j,R=v.L_("_d");this.vG[e][fp.abC]=(X==0?100>>>1:y-11)+R;
this.vG[e][fp.MP]=(X==0?E:6*Math.pow(10,2))+R;if(v.Qj(this.nk.n))this.nk.Cl(E,g);this.tD.Cl(E,g);this.Ys.Cl(E-this.nk.As()-this.tD.As(),g)};
kD.prototype.avJ=function(E,y){var c=function(){var e=new iU(S.E.M);e.data={d:S.H.Q5,ym:"account"};this.T(e)}.bind(this);
gW.amZ(E,y,this.vG,c)};kD.prototype.aE7=function(E){console.log("systemCopy")};kD.prototype.a6c=function(E){if(v.UK())return;
console.log("systemPaste");if(!E.clipboardData)return;var y=E.target.tagName.toLowerCase(),c=E.clipboardData.items;
if(c==null)return;var e=this.an_.bind(this);for(var N=0;N<c.length;N++){var p=c[N],H=p.getAsFile();if(p.type.indexOf("image")!=-1){if(H.size==this.Ym.an3)return;
this.Ym.an3=H.size;if(H){H.name="image.png";this.mD.$j([H],e)}}}};kD.prototype.an_=function(E,y){var c={buffer:E,rect:y},e=this.Ym;
if(v.UK()){var p=this.au0,H=p.k4;if(H.m==y.m&&H.e==y.e){c.rect=H;c.yX=p.yX}}else{if(e.Ti){var Z=new iU(S.E.v,!0);
Z.f=F.yW;Z.data={d:"h_stepbck"};this.T(Z)}}e.Ti=c;var Z=new iU(S.E.M,!0);Z.data={d:S.H.t8,aeJ:!0};this.T(Z)};
kD.prototype.al7=function(){if(this._Y.Dt()!=null)alert(i4.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
kD.prototype.hE=function(E){var y=this.NY();if(y==null){alert(i4.get([15,7,7]));return}var c=E.f==F.G3||E.f==F.fE;
if(this._Y.j_()&&E.n5!=!0&&!c){this.al7();return}var e=this.s,p=this.Ym.sJ,H=E.f;if(H==F.IB&&p==F.tI)H=F.tI;
if(p!=H&&e.map[p].f.j_()&&!c&&!(p==F.S0&&H==F.UA)){console.log("disabling",p);e.map[p].f.disable(y,this,this.Ym,this.M3)}var Z=this.s.map[H].f;
Z.hE(E.data,this,y,this.M3,this.Ym)};kD.prototype.ajq=function(E){var y=this.Ym;if(E.data.ja!=!0)aW.amC({tT:E.data.tT,hG:E.data.hG},this,y,this.NY());
var c=y.lu,e=y.kQ;if(c==null)return;var p={a6_:!1,mv:"Step",a84:0,w:!0,exp:!1,tT:E.data.tT};if(c[2]==null)c[2]=e[c[0]].tP[c[1]].tP.length-1;
if(E.data.hG)p.hG=E.data.hG;e[c[0]].tP[c[1]].tP.splice(c[2]+1,0,p);c[2]++;this.GD(iL.v)};kD.prototype.IH=function(E){if(this.acO){E.data=0;
return E.type}if(v._D.__csrf&&!b4.qc()){var y=fp.L_("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(y,5e3);return}kc.prototype.IH.call(this,E);var c=E.data.d;if(c==S.H.ln)aW.aCV(this.NY(),this.Ym.kQ,E.data.Gm[0],E.data.Gm[1],this);
if(c==S.H.awd){this.aCR(E.data.a3b)}if(c==S.H.ar3){this._();this._b()}if(c==S.H.zR)this._b();if(c==S.H.VF)if(this.Ym.RA){this.Ym.RA.prompt();
this.Ym.RA=null}if(c==S.H.qR)this.Ys._q(E.data.gs,E.data.push);if(c==S.H.axM)this.Ys.axY();if(c==S.H.ajn)this.Tc(null,E.data.dir);
if(c==S.H.NW)this.Ys.BH(this.l9.indexOf(E.data.BG?E.data.BG:this.NY()));if(c==S.H.Qw){var e=navigator.keyboard;
if(E.data.ne&&e)e.lock(["Escape"]);if(E.data.ne&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(E.data.ne)document.body.webkitRequestFullScreen();if(E.data.b!=null)this.Q2(E.data.b)}if(c==S.H.aeN){if(E.data.fu)this.M3.Ov(E.data.a6s);
else this.M3.cq(E.data.a6s);this.Gu(E.data.fu?"down":"up")}if(c==S.H.agt){var p=E.data.b;this.tD.aiG([p]);
this._()}if(c==S.H.rN){var H=this.NY(),Z=H.eA().slice(0),X=H.B[H.g[0]],b=new ir(0,0,H.m,H.e),k=cc.Mw()+"-d71c-11e5-b1ae-a548a96e5f9f",D=new iU(S.E.M,!0);
if(E.data.Wp==0){var j={name:"Default/"+H.name.split(".")[0],id:k,Gi:[Z,b]};D.data={d:S.H.z2,a5:"add",Wp:iL.Iu,e_:[j]};
this.T(D)}if(E.data.Wp==1){var g=d.R(b.P()*4);d.KT(g,4294967295);d.l.Io("norm",Z,b,g,b,b,1);var R=d.R(b.P());
d.DU(g,R);d.Ub(R);var t=d.pL(R,b);if(t.tj())t=b;var w=d.R(t.P());d.kh(R,b,w,t);t.x=t.y=0;var B={k4:t,id:k,Gi:[w,t]},$=bj.OY(k),o=$.Brsh.v;
o.Dmtr.v.val=Math.max(t.m,t.e);o.Spcn.v.val=10;D.data={d:S.H.z2,a5:"add",Wp:iL.WN,e_:{list:[{t:"Objc",v:$}],b6:[B],XQ:[]}};
this.T(D);D.data={d:S.H.z2,Wp:iL.xC,CG:$};this.T(D)}if(E.data.Wp==2){var T=H.sA(),i=T[0][T[1][0]],r={Iz:"Default/"+X.getName(),Al:k,X:i.add.vmsk.clone().X},I=d.o.L$(r.X),M=new jr(I.m,0,0,I.e,I.x,I.y);
M.Ub();d.o.dg(r.X,M);I.x=I.y=0;r.Mj=I.clone();D.data={d:S.H.z2,a5:"add",Wp:iL.ZU,e_:[r]};this.T(D)}}if(c==S.H.ha)this.mD.SU(E.data.Wp);
if(c==S.H.uh){var J=E.data.a5V,P=E.data.tF;if(J!=!0&&P!=!0&&this.au("open"))return;var n=this.Ys.EH();
if(P)n=-1-n;this.mD.a2g(J||P?n:null,E.data.aAz)}if(c==S.H.mN){var x=E.data.aC0,L=E.data.Hh,u=this.pA(x);
if(L){var C=x==iL.WN,h=[];for(var N=0;N<L.length;N++)h.push((C?u.list:u)[L[N]]);u=C?{XQ:u.XQ,b6:u.b6,list:h}:h}if(x==iL.G5){var b=new cc;
for(var N=0;N<u.length;N++){var A=u[N].mp.Lefx;if(A)hA.aBd(A,b,this.Ym.gS)}u={iM:b.add.Patt?b.add.Patt:[],fJ:u}}if(x==iL.rv){var W=this.Ym.cT;
u={b6:[],XQ:[],list:u};console.log(u)}if(x==iL.v)u=u[E.data.ir];var Q=iL.PZ[x],Z=Q[2].iF(u);fz.save(Z,Q[1]+"."+Q[0])}if(c==S.H.Ns){var l=this.Ym.gp,O=E.data.ari;
if(l.iP&&!l.ayf&&!O){l.azM=window.confirm("Load \""+E.data.p2+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
l.ayf=!0}if((l.azM||O)&&l.iP){l.zK[E.data.p2]=E.data.Bj;var D=new iU(S.E.M);D.data={d:S.H.z2,Wp:iL.Rf};
this.T(D)}}if(c==S.H.at9){var H=this.NY(),m="<!DOCTYPE HTML>";if(H==null)return;var z=iu.Se(H.eA().buffer,H.m,H.e),a=window.open();
m+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";m+="<body><img src=\""+z+"\" /></body>";
m+="</html>";a.document.write(m)}if(c==S.H.Vv){if(this.au("publishOnline"))return;var q=E.data.wB!="psd",H=this.NY();
if(H==null)return;if(!q&&H.H6)return;var y="Your "+(q?"picture":"document")+" will be published at "+(q?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!q)y+=" We guarantee 6+ months of storage.";var K=E.data.AM?!0:confirm(y);if(K){if(!q){var D=new iU(S.E.v,!0);
D.f=F.sh;D.data={d:jN.qo};this.T(D);var U=new ir(0,0,H.m,H.e);for(var N=0;N<H.B.length;N++){var X=H.B[N];
if(X.rect.tj()||X.uY()||X.Nb()||X.ag()||X.iU()||X.add.TySh||X.add.vmsk||X.add.SoLd)continue;var f=U.fr(X.rect);
if(!f.rT(X.rect)&&!f.tj()){var Y=d.R(f.P()*4);d.E6(X.buffer,X.rect,Y,f);X.buffer=Y;X.rect=f}if(!d.$S(X.buffer,X.rect.m,X.rect.e))continue;
var G=X.OQ(),V=X.opacity,dF=X.ur,s=X.av;X.rP(!0);X.opacity=255;X.ur="norm";H.g=[N];D.data={d:jN.KB,wB:"jpg"};
this.T(D);var aH=H.B[N];X.rP(G);aH.rP(G);X.opacity=aH.opacity=V;X.ur=aH.ur=dF,X.av=aH.av=s}}if(H.Nd){H._1()}var dw=H.m,kO=H.e,hX=E.data.a3U,jF;
if(hX)while(Math.max(dw,kO)>hX){dw=dw>>>1;kO=kO>>>1}console.log(dw,kO);if(E.data.wB=="psd")jF=iu.gv(H,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(E.data.wB=="png")jF=iu.gv(H,"png",dw,kO);else{var gn=iu.gv(H,"png",dw,kO),hM=iu.gv(H,"jpg",dw,kO);
jF=gn.byteLength<hM.byteLength?gn:hM}if(E.data.AM==null)E.data.AM=function(a2){var gU=q?a2:"https://www.photopea.com/#i"+a2+".psd",D=new iU(S.E.M);
D.data={d:S.H.Q5,ym:"linkview",a4P:gU};this.T(D)}.bind(this);if(q)fz.azt(jF,E.data.AM);else this.mD.ab$(jF,H.name,E.data.AM,"psdshared")}}if(c==S.H.XT){var H=this.NY(),ie=!1;
if(H==null)return;if(H.Nd){H._1()}if(E.data.Zf){if(!this.pc(H,E.data.Zf))return;var Z=hq.a9h(H,E.data.Zf,this.Ym);
this.Y4(Z);ie=!0}else if(H.YW){if(this.l9.indexOf(H.YW.I4)!=-1){var Z=new Uint8Array(iu.sF("PSD").Jv(H,null,null,[!0,!1])),D=new iU(S.E.v,!0);
D.data={d:jN.if,cX:H.YW.I4,data:Z,id:H.YW.ahD,gg:H.name};D.f=F.sh;this.T(D);alert("Smart Object updated")}ie=!0}else if(this.au("save")){ie=!0}else if(H.$O){hq.aBH(H);
ie=!0}else if(H.Ra){var bN=hq.aib(H);if(bN==1){alert("Already saving another file. Try again later.");
return}ie=!0}else if(H.a5&&H.a5.kt){if(!this.pc(H,H.a5.kt.formats))return;this.mD.am4(H,this.Ym,hq.adv);
ie=!0}else if(H.Nk&&"psd jpg png gif webp svg bmp".split(" ").indexOf(H.Nj)!=-1){this.a4N();return}if(ie){H.xM=H.PT;
H.a4=Date.now();H.Ea=!0}else{var D=new iU(S.E.M,!0);D.data={d:S.H.zO};this.T(D)}}if(c==S.H.zO){if(!this.Ym.Im){alert("function is disabled");
return}if(this.au("saveAsPSD"))return;var H=this.NY();if(H==null)return;if(!this.pc(H))return;var D=new iU(S.E.v,!0);
D.data={d:jN.qo};D.f=F.sh;this.T(D);var kd=H.B.length,i7="Your document has "+H.B.length+" layers.";
if(kd>1<<15){alert(i7+" PSD files can have up to "+(1<<15)+" layers.",5e3);return}if(kd>8e3&&!confirm(i7+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var dn={XR:[]};H.root.adt([],dn);var ew=dn.XR;if(ew.length>11&&!confirm("One layer is nested "+(ew.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+ew.join(" \uD83E\uDC1A ")+"."))return;
var e4=window.showSaveFilePicker;if(window.parent!=window)e4=null;if(e4&&!E.data.asa){var eE={suggestedName:H.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
e4(eE).then(function(E){H.Nk=E;H.name=E.name;H.hb=!0;H.Nj="psd";this.a4N()}.bind(this));return}var jc=window.gtag;
if(H.Ai()&&jc)jc("event",H.Nj+":"+v.m2(b4.qc()?"\"'|('61":"w'| "),{event_category:"Formats"});if(H.Nd){H._1()}var ft=aw==0?"PSD":"AI",bd=iu.sF(ft);
if(E.data.asa){var Z=H.Nj=="psd"?bd.Jv(H):hq.o1(H,H.Nj,this.Ym);this.a6x(Z,H,this)}else{var Z=bd.Jv(H);
fz.save(Z,H.name);H.xM=H.PT;H.a4=Date.now();H.Ea=!0}}if(c==S.H.BN)window.open(E.data.link,"_blank");
if(c==S.H.ao6){if(this._Y.j_()){this.al7();return}var H=this.NY(),X=H.B[H.g[0]],p=H.fB(X.add.SoLd.Idnt.v);
for(var N=0;N<this.l9.length;N++){var iB=this.l9[N].YW;if(iB!=null&&iB.ahD==p.pf&&iB.I4==H){this.Ys.MF(N);
return}}fz.S5({name:p.gg,YW:{ahD:X.add.SoLd.Idnt.v,I4:H}},p.raw.buffer,this)}if(c==S.H.aev){var H=this.NY(),X=H.B[H.g[0]],p=H.fB(X.add.SoLd.Idnt.v);
fz.save(p.raw.buffer,p.gg)}if(c==S.H.acx){console.log(E.data);fz.S5({name:E.data.Ra[1].split("/").pop(),Ra:E.data.Ra},E.data.Ng,this)}if(c==S.H.a2u){var H=this.NY();
H.Ra=E.data.Ra;H.name=H.Ra[1].split("/").pop();var D=new iU(S.E.M);D.data={d:S.H.XT};this.T(D)}if(c==S.H.e8){this.ai1()}if(c==S.H.Lb){this.a6K(E.data.xc,E.data.Z3,E.data.bR)}if(c==S.H.t8){this.aDC(E.data.aeJ,E.data.Tk,E.data.bR)}if(c==S.H.avi){var cG=E.data.b;
if(this.Ym.sJ==F.IB&&this.ka().j_()){var D=new iU(S.E.v,!0);D.f=F.IB;D.data={d:"insertText",b:cG};this.T(D);
return}if(cG.startsWith("vcb;")){var bT=JSON.parse(cG.slice(4));bT[0]=dD.aCS(bT[0]);var D=new iU(S.E.v,!0);
D.f=F.Ar;D.data={d:"append",xs:"Paste Paths",a06:bT};this.T(D)}else if(cG.startsWith("lrs;")){var g$=cG.split(";"),hU=this.l9[parseInt(g$[1])];
if(hU==null)return;var ah=this.NY(),co=hU.g;hU.g=JSON.parse(g$[2]);var im=hU.DC(null,hU!=ah);hU.g=co;
var D=new iU(S.E.v,!0);D.data={d:jN.f2,B:im,I4:hU,UH:ah};D.f=F.sh;this.T(D)}else if(cG.startsWith("<!--")||cG.startsWith("<svg")){var dI=_.vx(cG),bw=iu.sF("svg"),b=new cc("image.psd");
bw.cU(dI.buffer,b);if(this.l9.length!=0){var fb=b.B;if(fb.length==3&&fb[0].getName()=="</Layer group>"&&fb[2].uY())fb=[fb[1]];
var D=new iU(S.E.v,!0);D.f=F.sh;D.data={d:jN.f2,B:fb,I4:b,UH:this.NY()};this.T(D)}else this.as7(b)}}if(c==S.H.HT){hZ.Bi(E.data.uc,this)}if(c==S.H.xw){if(window.parent!=window)window.parent.postMessage(E.data.Wp,"*");
this.tD.d7(E.data.Wp)}if(c==S.H.ET){var iG=parseFloat(E.data.ym);if(this.Ym.oM.indexOf(iG)==-1){var D=new iU(S.E.M,!0);
D.data={d:S.H.z2,Wp:iL.qj,b:iG,a5:"add"};this.T(D)}this.tD.aoc(E.data.ym)}if(c==S.H._H){this.ED.aaz(this.NY(),this.Ym)}if(c==S.H.Q5){var dy="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var N=0;N<dy.length;N+=2)if(E.data.ym==dy[N]&&this.au(dy[N+1]))return;if(!this.Ym.Im&&E.data.window=="saveforweb"){alert("function is disabled");
return}this._Y.ag1(E.data.ym,this.NY(),E.data,this.l9,this.M3)}if(c==S.H.Xa)fz.save(E.data.data,E.data.name);
if(c==S.H.xg){if(!this._Y.j_()||E.n5)this.as7(E.data.cX)}if(c==S.H.J8){this.Ys.MF(E.data.target);var D=new iU(S.E.v,!0);
D.data={d:jN.afh,cX:E.data.cX,uS:E.data.uS,HV:E.data.HV};D.f=F.sh;this.T(D);this.OR(F.Xm)}if(c==S.H.avt){h0.Lq=!h0.Lq;
if(this.l9.length>0)this.NY().W()}if(c==S.H.awB){var kp=b4.vQ();if(kp!=null&&kp.globals!=null)this.vo(kp.globals);
this.G0()}if(c==S.H.g8){this.mD.$j(E.data.data,null,E.data.Vn,E.data.fU,E.data.atz)}if(c==S.H.lg){var gw=this.ka();
if(!this._Y.Dt()!=null)this.OR(E.data.f,E.data.Ss);var dR=this.ka();if(dR!=gw&&E.data.ae4)dR.yl(this.NY(),this,this.Ym,this.M3,this.pp)}if(c==S.H.xV){if(this.s.ii)this.OR(this.s.ii)}if(c==S.H.bZ){var fT=this.s.map[E.data.f].f,H=this.NY();
fT.vm(E.data,this,H,this.M3,this.Ym);if(H)H.ac=!0;this.avX()}if(c==S.H.qq){var gA=this.s.map[E.data.f];
this.a2B(gA);gA.Dv.GC(E.data)}if(c==S.H.z2){var H=this.NY(),by,fv=!(H&&H.g.length!=0&&H.B[H.g[0]].add.TySh),d4=E.data.Wp,fg=E.data.e_,aC=this.Ym;
if(E.data.a5=="set"){var dR=F.Zh[fg[1].classID];if(aC.sJ!=dR)this.OR(dR);this.s.map[dR].Dv.a5a(fg,aC)}if(E.data.a5=="add"){var Q=iL.PZ[d4];
if(d4==iL.qj){aC.oM.push(E.data.b);aC.oM.sort(function(a2,gU){return a2-gU})}else if(Q==null){if(fg)aC.UG.a7Z(fg,E.data.arg);
if(H)H.Ea=!0}else{var bu=this.pA(d4);if(d4==iL.WN){bu.b6=bu.b6.concat(fg.b6);bu.XQ=bu.XQ.concat(fg.XQ);
bu=bu.list;fg=fg.list}if(d4==iL.G5&&H){for(var N=0;N<fg.length;N++){var A=fg[N].mp.Lefx;if(A)hA.awY(A,H,aC.gS)}}if(d4==iL.rv&&fg==null){var b=this.s.map[aC.sJ].Dv.aqj();
if(b==null)return;fg=[b]}for(var N=0;N<fg.length;N++)bu.push(fg[N]);if(d4==iL.ZU){var hj={};for(var N=0;
N<bu.length;N++){var jg=bu[N].Iz;while(hj[jg]!=null)jg=bu[N].Iz=jg+"X";hj[jg]=!0}}if(E.data.arg!=!0)if(bu.length!=fg.length||d4==iL.iA||d4==iL.G5||d4==iL.Ca||d4==iL.v)alert(i4.get(Q[3])+" "+i4.get([23,1])+".")}}if(E.data.a5=="del"){if(d4==iL.qj){aC.oM.splice(aC.oM.indexOf(E.data.b),1)}else{var Q=iL.PZ[d4],L=E.data.Hh,bu=this.pA(d4);
if(d4==iL.WN)bu=bu.list;for(var N=0;N<L.length;N++)bu[L[N]]=null;for(var N=0;N<bu.length;N++)if(bu[N]==null){bu.splice(N,1);
N--}alert(i4.get(Q[3])+" deleted.")}}if(E.data.a5=="rnm"){var Q=iL.PZ[d4],bu=this.pA(d4);if(d4==iL.WN)bu=bu.list;
if(bu[E.data.Hh[0]]==null)return;Q[2].Mq(bu[E.data.Hh[0]],(E.data.VD?E.data.VD:"")+E.data.b)}if(d4==iL.d9){var cm=E.data.b;
aC.Jo=cm;aC.cd[cm.uC]=cm.f3}if(d4==iL.St){var cm=E.data.b;aC.MY=JSON.parse(JSON.stringify(cm));var bz=cb.g4(cm);
aC.W3[bz.uC]=bz.f3}if(d4==iL.GP){aC.WF=E.data.b}if(d4==iL.Nz){aC.i8=E.data.b}if(d4==iL.R3){aC.c2=E.data.c2;
var db=aC.c2.na.FillColor;if(fv&&db){var eM=db.Values,de={Z:eM[1]*255,D:eM[2]*255,J:eM[3]*255},eb=d.UN(de);
if(aC.x4!=eb){aC.x4=eb;by=iL.g6}}}if(d4==iL.xC){var Y=JSON.parse(JSON.stringify(E.data.CG)),k8=Y.useBrushSize;
if(k8&&k8.v){Y.Brsh.v.Dmtr.v.val=aC.cT.LU.Brsh.v.Dmtr.v.val;k8.v=!1}aC.cT.LU=Y;var hc={tT:"select",hG:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:Y.Nm.v.split("/").pop()}}]}}},gA=this.ka();
gA.bE=this;gA.track(hc)}if(d4==iL.K8){aC.ua=E.data.Hx}if(d4==iL.l3){aC.e_=E.data.Hx}if(d4==iL.g6){var hc,bg="Clrs";
if(E.data.s6<2){var k5=E.data.b,e5=E.data.s6==0;console.log(d.$E(k5),d.$E(aC.x4));var j6=d.L.hp(d.$E(k5));
if(e5)aC.x4=k5;else aC.YO=k5;bg=e5?"FrgC":"BckC";hc={tT:"set",hG:{__name:"Set",classID:"setd",T:{t:"Objc",v:j6}}}}if(E.data.s6==2){var gK=aC.x4;
aC.x4=aC.YO;aC.YO=gK;hc={tT:"exchange",hG:{__name:"Exchange",classID:"Exch"}}}if(E.data.s6==3){aC.x4=0;
aC.YO=16777215;if(H!=null&&H.g.length!=0&&H.B[H.g[0]].p6==1){var gK=aC.x4;aC.x4=aC.YO;aC.YO=gK}hc={tT:"reset",hG:{__name:"Reset",classID:"Rset"}}}if(hc){hc.hG.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:bg}}]};
var gA=this.ka();gA.bE=this;gA.track(hc)}var db=aC.c2.na.FillColor;if(fv&&db){var aJ=d.$E(aC.x4),ic=[1,aJ.Z/255,aJ.D/255,aJ.J/255];
if(ic.join(",")!=db.Values.join(",")){db.Values=ic;by=iL.R3}}}if(d4==iL.XJ){aC.B3=!aC.B3;this._b()}if(d4==iL.sr){aC.sL=!aC.sL;
this._b()}var gk=aC.km;if(d4==iL.IW){gk.iY=!gk.iY;this._b()}if(d4==iL.t3){gk.gA=!gk.gA;this._b()}if(d4==iL.Vf){gk.oc=!gk.oc;
this._b()}if(d4==iL.sB){gk.AG=!gk.AG;this._b()}if(d4==iL.jy){gk.ip=!gk.ip;this._b()}if(d4==iL.u5){gk.Cv=!gk.Cv;
this._b()}if(d4==iL.kG){aC.km=E.data.Hx;this._b()}if(d4==iL.ayO){aC.Ce=!aC.Ce;this._b()}if(d4==iL.iL){aC.BT[E.data.m7]=!aC.BT[E.data.m7];
this._b()}if(d4==iL.Uy){i4.J0(E.data.lang,this.TD)}if(d4==iL.at){aC.c6=E.data.c6;this._()}if(d4==iL.Rf&&aC.gp.iP){var hu=aC.gp.iP.transaction(["rsrc"],"readwrite").objectStore("rsrc"),gQ={k:"fs0",fset:aC.gp.zK};
if(E.data.avR)gQ={k:aC.gp.id,fset:aC.gp.LN};var e7=Object.keys(gQ.fset).length==0?hu.delete(gQ.k):hu.put(gQ);
e7.onerror=function(E){console.log(E);alert("Storing failed. Browser says: "+E.target.error.message,7e3)}}this.GD(d4);
if(by)this.GD(by)}};kD.prototype.a4N=function(){var E=new iU(S.E.M,!0);E.data={d:S.H.cL,SJ:"Saving ..."};
this.T(E);setTimeout(function(){var E=new iU(S.E.M,!0);E.data={d:S.H.zO,asa:!0};this.T(E)}.bind(this),20)};
kD.prototype.a6x=function(E,y){y.Nk.createWritable().then(function(c){c.write(E);return c}).then(function(c){return c.close()}).then(function(c){y.xM=y.PT;
y.a4=Date.now();y.Ea=!0;var e=new iU(S.E.M,!0);e.data={d:S.H.B7,SJ:"Saving ..."};this.T(e)}.bind(this)).catch(function(c){var e=new iU(S.E.M,!0);
e.data={d:S.H.B7,SJ:"Saving ..."};this.T(e)}.bind(this))};kD.prototype.ao9=function(){var E=this.Ym,y=E.e_,c=E.at$;
for(var N=0;N<y.length;N++){var e=y[N];if(c[e])continue;c[e]=!0;this.mD.BW(e,!1,!0)}};kD.prototype.aeQ=function(){this._();
this._b()};kD.prototype.au=function(E){var y=this.Ym.ye[E];if(y){var c=new iU(S.E.M,!0);c.data={d:S.H.HT,uc:y};
this.T(c)}return y!=null};kD.prototype.pc=function(E,y){var c=!0,Z=15;if(y){c=!1;for(var N=0;N<y.length;
N++)if(y[N].startsWith(v.L_("__M")))c=!0}var e=E.Ai()||E.YW&&E.YW.I4.Ai();if(this.Mh())e=!1;var p=new v._D[fp.Ot],H=(p[v.m2("xy,b-66:")]()&1)*60+p[v.L_("VQ]3LNRN<G")]();
if(e&&!b4.qc()&&H>Z&&c){var X=v._D[v.m2("}$z{2*35")][v.m2("y'|!")],b=v.L_("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
b+="\n\n"+v.L_("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-H+120)+v.L_("nYRTXTBMd");
if(X.indexOf(v.m2("\"|'/-1)(W0?@"))==-1)b=i4.get([0,11+6,3+2]);v._D._cwY(b);return!1}return!0};kD.prototype.pA=function(E){var y=this.Ym,c=[iL.WN,iL.FP,iL.EJ,iL.Ca,iL.Iu,iL.ZU,iL.G5,iL.iA,iL.v,iL.rv,iL.Ux],e=[y.cT,y.s4,y.qN,y.jN,y.gS,y.Gp,y.EX,y.ahc,y.kQ,y.Jm,y.a9s];
return e[c.indexOf(E)]};kD.prototype.ai1=function(){var E=this.a6K(),y=this.NY();if(y==null||y.g.length==0)return;
var c=y.B[y.g[0]],e=new iU(S.E.v);if(E==1){e.f=F.Ar;e.data={d:"remove",xs:"Cut Paths"}}else{e=new iU(S.E.on);
e.data={tT:"delete"}}this.T(e)};kD.prototype.a6K=function(E,y,c){if(E==null)E=!1;var e=this.Ym;console.log("doCopy",E,y);
var p=this.NY();if(e.sJ==F.IB&&this.ka().j_()){var H=new iU(S.E.v,!0);H.f=F.IB;H.data={d:"copyText"};
this.T(H);return}if(p==null||p.g.length==0)return;var Z=p.B[y==null?p.g[0]:y],X=p.sA(),b=X[0],D=X[1],j=b[D[0]];
if(!E&&j!=null&&j.add.vmsk.g.length!=0){var g=F.ZN.Gk(j.add.vmsk,j.add.vogk);if(v.UK()){g[0]=dD.aAT(g[0]);
var R="vcb;"+JSON.stringify(g);fz.y5(new Blob([R],{type:"text/plain"}))}else e.V_=g;return 1}else if(p.i==null){if(v.UK()){var R="lrs;"+this.l9.indexOf(p)+";"+JSON.stringify(p.g);
fz.y5(new Blob([R],{type:"text/plain"}))}}else{var t,w;if(E){var B=new ir(0,0,p.m,p.e);w=B.fr(p.i.rect);
t=d.R(w.P()*4);d.E6(p.eA(),B,t,w);d.ys(p.i.channel,p.i.rect,t,w)}else if(p.dL.length!=0){w=p.i.rect.clone();
t=d.R(w.P()*4);var $=p.cB[p.dL[0]],o=$.tv(w);d.Q9(o,t);d.Og(p.i.channel,t,3)}else{var T=Z.uT(p,p.i);
if(T==null){alert("Copied area is empty");return}t=T.Ng;w=T.rect}var i=p.Q.V,r=i[0]+i[1]+i[2];if(r==1){var I=i.indexOf(1);
for(var N=0;N<t.length;N+=4)t[N]=t[N+1]=t[N+2]=t[N+I]}var M=new eq(p.m,p.e);if(v.UK()&&c!=!0){var J=iu.sF("PNG").afI(t.buffer,w.m,w.e);
fz.y5(new Blob([new Uint8Array(J)],{type:"image/png"}));this.au0={k4:w,yX:M}}else e.Ti={buffer:t,rect:w,yX:M};
e.a30=w.clone();e.V_=null}};kD.prototype.aDC=function(E,y,c){if(y)this.a2O=!0;console.log("doPaste");
var e=this.Ym,p=e.Ti,b;if(this.l9.length==0){if(!E&&v.UK()){fz.D4(this,null);return}if(p){var H=iu.kv("image.psd",[{data:p.buffer.buffer,Yu:p.rect}]),Z=new iU(S.E.M);
Z.data={d:S.H.xg,cX:H};this.T(Z)}return}var H=this.NY();if(e.sJ==F.IB&&this.ka().j_()){fz.D4(this,null);
return}var X=H.B[H.g.length==0?H.B.length-1:H.g[0]];if(e.V_){var D=H.sA(!0),j=D[0],g=D[1];b=j[g[0]]}var Z=new iU(S.E.v,!0);
if(e.V_!=null&&b!=null){Z.f=F.Ar;Z.data={d:"append",xs:"Paste Paths",a06:e.V_}}else if(!E&&v.UK()&&c!=!0){fz.D4(this,this.an_.bind(this));
return}else{if(p==null)return;if(H.iR(!1)&&(H.Q.V.join("")!="111"||H.dL.length!=0||X.p6>0||X.rect.tj())){Z.f=F.WN;
Z.data={d:"draw",ax$:!0,xs:[5,2]}}else{Z.f=F.sh;Z.data={d:jN.TM,Tk:this.a2O};this.a2O=!1}Z.data.Ti=p}this.T(Z)};
kD.prototype.a99=function(){var E=this.Ym.UG;if(E.ahC())return;for(var N=0;N<this.l9.length;N++){var y=this.l9[N];
if(!kz.AP(y,E,this))continue;if(y.kc)kz.v2(y,E,this);var c=y.add.lnk2;if(c)for(var e=0;e<c.length;e++){var p=c[e];
if(p.kc)F.DI.Q$(y,p.pf,p.ed[1],p.ed[1],E)}if(y.a42)continue;y.a42=!0;if(y.a5&&y.a5.af7)hZ.Bi(y.a5.af7,this);
this.Y4();var H=new iU(S.E.v);H.f=F.sh;H.data={d:jN.Gz};var Z=new iU(S.E.M);Z.data={d:S.H.ET,ym:aq.ZV.Wd};
Z.data={d:S.H.Q5,ym:"saveforweb",wB:2,index:[10,0]}}};kD.prototype.GD=function(E){this.ao9();var y=this.Ym,c=y.sJ,Z=!1;
if(E==iL.xC){if(this.s.map[c].Dv)this.s.map[c].Dv.mh(y,E)}else for(var e in this.s.map)if(this.s.map[e].Dv)this.s.map[e].Dv.mh(y,E);
if(E==iL.uV){if(c!=F.IB)this.s.map[F.IB].f.mh(y,E);this.a99()}this.Ys.mh(y,E);this.nk.mh(y,E);this._Y.mh(y,E);
if(aw==1&&(E==iL.d9||E==iL.St))this.s.map[F.AD].f.mh(y,E);else this.ka().mh(y,E);this.tD.mh(y,E);this.I1.mh(y,E);
if(E==iL.at||E==iL.Dg){i3.adk(y.c6);this.update(!0)}var p=y.c2,H=p.na.Font;if(E==iL.R3&&H!=null&&p.GF[H].Name!=y.font){y.font=p.GF[H].Name;
Z=!0}if([iL.qj,iL.K8,iL.l3,iL.g6,iL.XJ,iL.sr,iL.kG,iL.Vf,iL.sB,iL.IW,iL.t3,iL.jy,iL.u5,iL.Uy,iL.at].indexOf(E)!=-1||Z)this.avX()};
kD.prototype.avX=function(){if(!this.SW)return;var E={},y=this.s.map;for(var c in y){var e=y[c].f;if(e.Zr&&e.Zr()!=null)E["t"+c]=e.Zr()}var p=this.Ym,H=p.km,Z={guides:H.oc,grid:H.AG,sels:H.iY,paths:H.gA,pgrid:H.ip,slices:H.Cv,gsize:parseFloat(H.VV.toFixed(2)),gunits:H.pz,gtype:H.zP,runits:H.sz};
if(H.Vg!=8421504)Z.gcol=H.Vg;if(H.nK!=65535)Z.gucol=H.nK;var X={fcolor:p.x4,bcolor:p.YO,rulers:p.B3,extras:p.sL,favFam:p.ua,rsrc:p.e_,panels:p.oM,eparams:Z,lang:i4.HO(),theme:p.c6,as:p.gz,co:p.$o,topt:E};
if(p.font!=null)X.font=p.font;var b=b4.vQ();if(b==null)b={};b.globals=X;b4.YF(b)};kD.prototype.C_=function(E){var y=this.M3,c=this.pp,e=this.Ym.sJ,p=this.s.map[e].f,H=null,Z=!1;
for(var N=0;N<this.s.aAo.length;N++){var X=this.s.aAo[N],b=!0;for(var k=0;k<X.xu.length;k++){var D=X.xu[k];
if(!y.S(D))b=!1}if(b&&(!X.Pn||!p.j_())&&(X.Aa==null||X.Aa.indexOf(e)!=-1)){H=X.f;Z=X.Pn;break}}if((!c.fu||e==F.w8||E)&&this.s.kT!=H&&(H!=e||!Z)){var j=this.NY();
if(this.s.kT!=null&&H==null)this.ka().disable(j,this,this.Ym,y,!0);this.s.kT=H;this.ka().enable(j,this,this.Ym,y,H!=null&&H!=e)}};
kD.prototype.JC=function(E){var y=this.Ym.sJ,c=this.NY();if(y!=null){this.s.map[y].f.disable(c,this,this.Ym,this.M3)}};
kD.prototype.a2B=function(E){if(E.Dv==null){E.Dv=new E.BK(E.f.id);E.Dv.a3y(E.f.id,E.f.yQ);E.Dv.mh(this.Ym,iL.Dg);
E.Dv._()}};kD.prototype.OR=function(E,y){if(E==F.Xm&&this._Y.Dt())return;var c=this.NY(),e=this.Ym;if(this.s.map[E].f.aq(c,e,y)){this.JC();
if(E!=e.sJ)this.s.ii=e.sJ?e.sJ:F.mq;e.sJ=E;this.nk.OR(e.sJ);var p=this.s.map[E];this.s.aY[p.ZP]=p.ay3;
this.a2B(p);this.hF.asW(p.Dv);var H=p.f;H.enable(c,this,this.Ym,this.M3,!1,y);if(c)c.ac=!0;this._b();
this.VK.azs()}};kD.prototype.ka=function(E){var y=this.s,c=y.P1,e=y.kT,p=this.Ym.sJ;if(c)p=c;else if(e&&E==null)p=e;
return y.map[p].f};kD.prototype.as7=function(E){var y=this.Ym,c=this.l9.indexOf(E);if(c!=-1){this.Ys.MF(c);
return}if(this._v&&(E.a5==null||E.a5.kt==null)){E.a5={kt:this._v}}if(E.OS==null){E.OS="local,"+this.ac0+","+E.name;
this.ac0++}E.a4=Date.now();if(aw==1&&E.add.arts==null)E.a3c();if(gW.g7()!=0&&!this.axA&&v._D[v.m2("t$&!'31")].toString().indexOf(v.m2(" u,$4&"))==-1){alert(v.m2("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var N=0;N<E.B.length;N++){var e=E.B[N];if(e.add.SoLd!=null){var p=Date.now()}}var H=E.B.length,Z=fp.cQ(),X=Math.PI*(6550<<14)+(v.kD(31)?20:10)*7e7;
if(Z>X){var H=E.B.length;E.B=[];return H}if(h0.Lq){h0.oC(Math.max(E.m,E.e));for(var N=0;N<E.B.length;
N++){var e=E.B[N];if(e.Gq())h0.oC(Math.max(e.rect.m,e.rect.e))}}E.RH();E.RD();if(E.ah3)E.aeV();else E.W();
E.ah3=!1;this.l9.push(E);this.Ys.Dj(new fw(E));E.ac=!0;E.Ea=!0;this.a99();var b=new iU(S.E.v);b.f=F.rr;
b.data={d:"auto",EA:2}};kD.prototype.NY=function(){return this.l9[this.Sp]};kD.prototype.aDU=function(){return this._Y.Dt()==null};
kD.prototype.Tc=function(E,y){this.JC();var c=this.l9.length;if(y!=null)this.Ys.MF((this.Ys.EH()+y+c)%c);
this.Sp=this.Ys.EH();var e=this.NY();this.I1.a6X(e,this.Ym);this.tD.Xy(e,this.l9,this.Ym);this._b();
if(e)e.ac=!0};kD.prototype.awv=function(E){this.JC();var y=this.l9,c=y[E.data.ZI];y.splice(E.data.ZI,1);
if(y.length==0){this.Tc(E);var e=h0.FB(),p=fw.Oa.Ox;if(e.parentNode)e.parentNode.removeChild(e);if(p.parentNode)p.parentNode.removeChild(p)}this.atu(c.name)};
kD.prototype.atu=function(E){var y=this.Ym.gp,c=!1;if(y.iP==null)return;for(var e in y.LN){if(E==null||e==E){delete y.LN[e];
c=!0}}if(c){var p=new iU(S.E.M);p.data={d:S.H.z2,Wp:iL.Rf,avR:!0};this.T(p)}};kD.prototype.arW=function(E){var y=[],c=E.data.a59;
for(var N=0;N<c.length;N++)y[N]=this.l9[c[N]];this.l9=y;this.Sp=this.Ys.EH()};kD.prototype.a8d=function(E){var y=this.Ys,c=y.a6A(),e=this.ka(),p=this.NY();
if(c==y.EH()||!e.a5M())return;this.aCR(c,e)};kD.prototype.aCR=function(E,y){console.log("dup2doc");var c=this.Ym,e=this.Ys,p=this.NY(),H=this.l9[E],Z,X=new iU(S.E.v,!0);
X.f=F.sh;if(p.i==null){X.data={d:jN.f2,B:p.DC(null,!0),I4:p,UH:H,at4:y==null};this.T(X)}else Z=p.B[p.g[0]].uT(p,p.i);
var b=this.pp,D=c.B3;c.B3=!1;b=p.Q.GV(b.x,b.y);if(y)y.ri(p,this,c,this.M3);e.MF(E);if(p.i){X.data={d:jN.TM,Ti:{buffer:Z.Ng,rect:Z.rect}};
this.T(X)}b=H.Q.qW(b.x,b.y);if(y)y.yl(H,this,c,this.M3,b);c.B3=D};kD.prototype.azh=function(E){var y=this.NY(),c=this.M3,e=this.Ym,p=E.VU;
if(p)this.pp=p;if(p)p.y-=e.$o;if(this.YC==null)this.YC=0;if(E.action=="multidown"){this.xA=E.$r.length;
this.YC=Date.now()}if(E.action=="up"&&Date.now()-this.YC<100){var H=new iU(S.E.v);H.f=F.yW;H.data={d:this.xA==2?"h_stepbck":"h_stepfwd"};
this.T(H)}if(E.action.startsWith("multi")){var Z=new iU(S.E.v,!0);Z.data={d:E.action,$r:E.$r};Z.f=F.fE;
this.T(Z);return}var X=this.s.map[F.mq].f;if((E.action=="down"||E.action=="rdown")&&e.sJ!=F.mq&&this.s.kT!=F.mq&&X.aig(y,this,e,c,p)){this.s.P1=F.mq;
X.enable(y,this,e,c,!0)}if(E.action=="idown"){c.Ov("Space");this.C_(!0);E.action="down"}var b=this._Y.Dt(),D=b!=null&&b.Zo()&&this.s.kT==null?b:this.ka();
if(E.action=="scroll"){var j=!c.S(ct.Nc)&&E.mU,Z=new iU(S.E.v,!0);Z.data={d:"scroll",Ik:E.Ik.clone(),VU:p,ata:j};
Z.f=c.S(ct.Q3)||j?F.fE:F.G3;this.T(Z)}if(b!=null&&D!=b&&this._Y.j_()&&D.id!=F.G3&&D.id!=F.fE)return;
if(E.action=="down")D.yl(y,this,e,c,p);if(E.action=="rdown")D.n$(y,this,e,c,p);if(E.action=="move")D.Lv(y,this,e,c,p);
if(E.action=="up"||E.action=="iup"||E.action=="cancellast")D.JA(y,this,e,c,p,E.action=="cancellast");
if(E.action=="rup")D.vP(y,this,e,c,p);if(E.action=="iup"){c.cq("Space");this.C_(!0)}if(E.action=="cancellast"){if(y&&y.history.length!=0&&Date.now()-y.history[y.history.length-1].abf<200){var H=new iU(S.E.v);
H.f=F.yW;H.data={d:"h_stepbck"};this.T(H)}}var g=this.tD;if(E.action=="down")g.yl(y,this,e,c,p);if(E.action=="move")g.Lv(y,this,e,c,p);
if(E.action=="up")g.JA(y,this,e,c,p);if(E.action=="down"||E.action=="up"){this.C_()}if(E.action=="down"||E.action=="up"||E.action=="ctx"){y.ac=!0}if((E.action=="up"||E.action=="rup")&&this.s.P1){this.s.P1=null;
X.disable(y,this,e,c)}};kD.prototype.oR=function(E){var y=this.NY(),c=this.pp;if(y&&this.ka().Zw(c,this.M3)){var e=y.Q,p=e.tP.m,H=e.tP.e,Z=0,X=0,b=16;
if(c.x<b)Z=b-c.x;if(c.x>p-b)Z=c.x-(p-b);if(c.y<b)X=b-c.y;if(c.y>H-b)X=c.y-(H-b);var k=this.M3.S(ct.zx)?8:1;
if((Z!=0||X!=0)&&(y.m*e.O>p||y.e*e.O>H)){Z=Math.min(5,Z*.5)*k;X=Math.min(5,X*.5)*k;if(c.x>b)Z=-Z;if(c.y>b)X=-X;
e.z.x+=Z;e.z.y+=X;this.azh({VU:this.pp,action:"move"});y.hb=!0}}this.update()};kD.prototype.update=function(E){var y=this.NY();
if(y==null)return;if(aw!=0){if(y.buffer)throw"e"}if(y.ac){var c=this.s.map;for(var e in c){if(c[e].f.Hl)c[e].f.Hl(y,this,this.Ym,this.M3)}if(aw==1){c[F.AD].f.Hl(y,this,this.Ym,this.M3,!0)}}if(y.Nd&&aw==0)if(h0.Lq)h0.oC(Math.max(y.m,y.e));
if(y.Nd&&aw==0){y._1()}var p=y.Q,H=this.KU,Z=this.KU=Date.now();if(y.Nd||y.zr||y.Ea||y.hb||E||p.$H!=p.O||!p.Qn.rT(p.z)){var X=p.$H;
if(p.$H!=p.O){var b=F.tg.a5N(p.O,p.$H>p.O),k=.12;if(p.$H<p.O&&p.$H<b)p.$H=b;if(p.$H>p.O&&p.$H>b)p.$H=b;
var D=Math.abs(p.O-b)*(Z-H)*.001/k;if(p.$H<p.O)p.$H=Math.min(p.O,p.$H+D);else p.$H=Math.max(p.O,p.$H-D)}var j=X==p.O?0:(p.$H-p.O)/(X-p.O);
p.Qn.x=p.z.x+j*(p.Qn.x-p.z.x);p.Qn.y=p.z.y+j*(p.Qn.y-p.z.y);this.Ys.mh(this.Ym,null);this.Ys.Xy(y,this.l9)}if((y.Nd||y.hb||y.ac)&&(!this.pp.fu||y.QZ)){if(y.ac)y.RD();
this.tD.Xy(y,this.l9,this.Ym);this.nk.aaj(y,this.M3);y.__=!1}y.QZ=!1;y.ac=!1;y.Nd=null;y.zr=y.Ea=y.hb=!1};
kD.prototype.ie=function(E){var y=E.target.tagName.toLowerCase(),c=E.target.getAttribute("type"),e=ct,p=e.ku(E.code,e.qy);
if(!((y=="input"||y=="select"||y=="button")&&e.ku(E.code,e.qL))){if(e.da(E)&&y!="select"){E.preventDefault()}this.M3.Ov(e.WD(E));
this.Gu("down")}};kD.prototype.y2=function(E){if(E.key==" ")this.M3.Sx();if(ct.ku(E.code,ct.WE))this.M3.reset();
this.M3.cq(ct.WD(E));var y=E.target.tagName.toLowerCase();if(ct.da(E)&&y!="select"){E.preventDefault()}this.Gu("up")};
kD.prototype.Gu=function(E){var y=this.M3,c=this.NY(),e=c!=null&&c.g.length!=0;if(this.ED.Dt()!=null){if(y.S(ct.SB)||y.S(ct.qy)){this.ED.amR()}return}this.C_();
var p=this.PK(ct.Nc),H=y.S(ct.Q3),Z=y.S(ct.zx);if(p&&y.S(ct.Dh)&&E=="down"){var X=new iU(S.E.v),b=new iU(S.E.M);
X.f=F.yW;if(Z){X.data={d:"h_stepfwd"}}else{X.data={d:"h_stepbck"}}if(this._Y.Dt()!=null&&this._Y.Dt().j_()){}else this.T(X)}if(p){var X=new iU(S.E.v),k=new iU(S.E.on),b=new iU(S.E.M);
if(y.S(ct.FU)&&y.S(ct.oj)){b.data={d:S.H.Q5,ym:"storwindow"};this.T(b)}if(!H&&E=="down")for(var D in et.keys){var j=et.keys[D],g=!0;
for(var N=0;N<j.length;N++)if(!y.S(j[N]))g=!1;if(g){X.f=F.rr;if(D=="hue2"&&Z&&c.B[c.g[0]].add.SoLd==null)X.data={d:"auto",EA:3};
else X.data={d:"start",Bn:D}}}if(y.S(ct.H)){if(H){k.data={tT:"selectAllLayers",hG:{classID:"null",null:aW.G6("Lyr",!0)}}}else k.data=F.XY.cg(!0)}if(y.S(ct.qd)){if(H)b.data={d:S.H.Q5,ym:"csize"};
else if(c)b.data={d:S.H.Lb,xc:Z}}if(y.S(ct.iQ)&&c.i){k.data=F.XY.cg()}if(y.S(ct.E)&&E=="down"){if(Z)k.data={tT:"mergeVisible"};
else k.data={tT:"mergeLayersNew",hG:{__name:"Merge Layers",classID:"Mrg2"}}}if(y.S(ct.e7)){if(Z&&this.Ym.sJ!=F.Xm)b.data={d:S.H.Q5,ym:"afw_fade"};
else if(H){X.f=F.UA;X.data={d:"applylast"}}else b.data={d:S.H._H}}if(y.S(ct.TT)){if(H&&c&&c.Fd(c.g[0])){X.f=F.sh;
X.data={d:jN.KW}}else{X.f=F.sh;X.data={d:jN.jT,Ud:Z}}}if(y.S(ct.x0)){b.data={d:S.H.z2,Wp:iL.sr}}if(y.S(ct.FU)){if(Z){X.data=null;
if(H)b.data={d:S.H.Q5,ym:"finfo"};else k.data={tT:"inverse"}}else if(H)b.data={d:S.H.Q5,ym:"isize"}}if(y.S(ct.lm)){k.data={tT:(Z?"cut":"copy")+"ToLayer"}}if(y.S(ct.yf)){b.data={d:S.H.Q5,ym:"preferences"}}if(y.S(ct.Wf)){if(Z){X.f=F.sh;
X.data={d:jN.ml}}else if(E=="down")b.data={d:S.H.Q5,ym:"newproject"}}if(y.S(ct.UJ)){if(H)b.data={d:S.H.Q5,ym:"storwindow",de:0};
else{b.data={d:S.H.uh};y.reset()}}if(y.S(ct.Yn)){b.data={d:S.H.at9};y.reset()}if(y.S(ct.ZV)){b.data={d:S.H.z2,Wp:iL.XJ}}if(y.S(ct.v1)&&E=="down"){if(Z){if(H)b.data={d:S.H.Q5,ym:"saveforweb"};
else b.data={d:S.H.zO}}else b.data={d:S.H.XT}}if(y.S(ct.b_)){if(Z){X.f=F.sh;X.data={d:jN.lz};this.T(X);
X.f=F.Xm;X.data={d:"again"}}else b.data={d:S.H.lg,f:F.Xm}}if(y.S(ct.Wq)){b.data={d:S.H.t8}}if(y.S(ct.PO)){this.Ys.TQ()}if(y.S(ct.NM)&&c&&c.vn()){b.data={d:S.H.e8}}if(y.S(ct.T0)||y.S(ct.Xq)){X.f=F.sh;
X.data={d:jN.M_,s6:0};if(y.S(ct.T0))X.data.s6=Z?3:2;else X.data.s6=Z?0:1}if(y.S(ct.QF)&&c){X.f=F.sh;
X.data={d:jN.b0}}if(y.S(ct.qy)&&c){var R=0;if(Z)R++;if(H)R+=2;X.f=F.mW;X.data={d:"frompath",Gm:[null,0,R]}}if(y.S(ct.OF)){k.data=F.Et.r0(0)}if(y.S(ct.qL)){var t=this.l9.length,w=y.S(ct.zx)?-1:1;
if(t>1)this.Ys.MF((this.Ys.EH()+t+w)%t)}if(y.S(ct.uP)){b.data={d:S.H.z2,Wp:iL.Vf}}if(y.S(ct.A9)){b.data={d:S.H.z2,Wp:iL.sB}}F.tg.ak3(y,X);
if(this._Y.Dt()!=null&&this._Y.Dt().j_()){}else{if(X.data)this.T(X);if(k.data)this.T(k);if(b.data)this.T(b)}}if(!p&&H){var B;
if(y.S(ct.T0))B="Bckw";if(y.S(ct.Xq))B="Frwr";if(y.S(ct.QF))B="Back";if(y.S(ct.OF))B="Frnt";if(B){var k=new iU(S.E.on);
k.data={tT:"select",hG:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:B}}]},MkVs:{t:"bool",v:!1}}};
this.T(k)}}if(c&&c.g.length!=0){var $=c.B[c.g[0]],o=$.p6;if(o==1||o==3||p){var X=new iU(S.E.v),T=o==3?$.kP(c).F:$.Nb();
if(T){var i=T.bY?c.Q.V.join("")=="111"?1:2:0;X.f=F.fE;if(T&&y.S(ct.SB)&&i!=0){X.data={d:"mskView",b:0}}if(T&&y.S(ct.ad$)){X.data={d:"mskView",b:i==1?0:1}}if(T&&y.S(ct.a7z)){X.data={d:"mskView",b:i==2?0:2}}if(X.data)this.T(X)}}}var r=y.cS();
if(c&&p&&2<=r&&r<=5){var I=[1,1,1];if(r>2){I=[0,0,0];I[r-3]=1}var M=new iU(S.E.v,!0);M.f=F.G3;M.data={d:"setcls",V:I};
this.T(M)}if(!y.S(ct.Nc)&&!H&&E=="down"){var X=new iU(S.E.v),b=new iU(S.E.M),J=this.s.map[this.Ym.sJ],P=-1;
for(var N=0;N<this.s.keys.length;N++)if(this.s.keys[N]&&this.PK(this.s.keys[N]))P=N;if(P!=-1){var n=null;
if(J.ZP!=P)n=this.s.aY[P];if(J.ZP==P&&Z)n=(J.ay3+1)%this.s.XI[P].length;if(n!=null){var x=this.s.XI[P][n].f.id,L=this.Ym.oi;
if((L==null||L.indexOf(parseInt(x))!=-1)&&!this.pp.fu)b.data={d:S.H.lg,f:x}}}if(y.S(ct.x0))b.data={d:S.H.lg,f:F.G3};
if(y.S(ct.ZV))b.data={d:S.H.lg,f:F.B1};if(y.S(ct.NM))b.data={d:S.H.z2,Wp:iL.g6,s6:2};if(y.S(ct.iQ))b.data={d:S.H.z2,Wp:iL.g6,s6:3};
if(b.data)this.T(b);if(y.S(ct.asw)&&c&&c.g.length==1){var $=c.B[c.g[0]];X.f=F.sh;var u=$.H7(0)||$.H7(1)||$.H7(2)||$.H7(31);
X.data={d:jN.Bu,Hx:u?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.T(X)}var r=y.cS();if(e&&r!=-1&&this.PK(ct.pr[r])){var C=c.g[0],$=c.B[C],h=ct.Tg(Math.round(100*$.opacity/255),r);
X.f=F.sh;X.data={d:jN.Bt,Hx:Math.round(255*h/100)};this.T(X)}var A=this.Ym.PL;if(y.S(ct.qL)){b.data={d:S.H.Qw,b:A==0?1:0};
this.T(b)}if(y.S(ct.e7)||y.S(ct.SB)&&A==2){var W=document.fullscreenElement!=null==(A==2);b.data={d:S.H.Qw,b:A==0?2:0,ne:W};
this.T(b)}if(y.S(ct.Z8)&&!this.pp.fu){X.f=F.mW;X.data={d:"qmask"};this.T(X)}}if(!y.S(ct.Nc)&&!H&&Z){var X=new iU(S.E.v),b=new iU(S.E.M);
if(y.S(ct.QF))b.data={d:S.H.Q5,ym:"shortcuts"};if(y.S(ct.oI))b.data={d:S.H.Q5,ym:"fill"};if(y.S(ct.aBF))b.data={d:S.H.Q5,ym:"sel_feather"};
if(e&&(y.S(ct.yH)||y.S(ct.Kj))){var C=c.g[0],$=c.B[C],Q=cg.Fn,l=Q.length,O=Q.indexOf($.ur);X.f=F.sh;
X.data={d:jN.nU,Hx:(O+l+(y.S(ct.yH)?1:-1))%l};this.T(X)}if(b.data)this.T(b)}var X=new iU(S.E.v),z=E=="down"&&(this.PK(ct.OA)||this.PK(ct.hy));
if((p||H)&&z){X=new iU(S.E.on);X.data=F.XP.Uo(p?"BckC":"FrgC");this.T(X)}else if(this._Y.Dt()==null&&c&&z&&!this.pp.fu){if(c.i!=null){X=new iU(S.E.on);
X.data={tT:"delete"}}else if(c.g.length!=0){var $=c.B[c.g[0]];if($.p6==1)X.data={d:jN.z0};else if($.p6==3)X.data={d:jN.No};
else X.data={d:jN.iI};X.f=F.sh}this.T(X)}if(this._Y.Dt()!=null){if(y.S(ct.SB)){this._Y.Dt().ae_()}else{this._Y.Dt().Gu(c,this,this.Ym,y)}}if(this.Ym.sJ==null)return;
var J=this.ka();if(this._Y.Dt()==null||this.s.kT)J.Gu(c,this,this.Ym,y)};kD.prototype.PK=function(E){var y=this.M3,c=this.s.map[this.Ym.sJ].f,top=this._Y.Dt(),e=this.NY();
return y.S(E)&&!c.OX(E,e)&&(top==null||!top.OX(E,e))};kD.prototype.Q2=function(E){var y=this.aCZ,c=this.QT;
this.Ym.PL=E;var e=v.Qj,p=this.I1.n;if(e(p))this.ai.removeChild(p);var H=this.hF.n;if(e(H))this.ai.removeChild(H);
var Z=this.nk.n;if(e(Z))y.removeChild(Z);var X=this.Ys.n;if(e(X))y.removeChild(X);var b=this.tD.n;if(e(b))y.removeChild(b);
if(E==0){this.ai.appendChild(p);this.ai.appendChild(H);c.appendChild(y);y.appendChild(Z);y.appendChild(X);
y.appendChild(b)}if(E==1){this.ai.appendChild(p);y.appendChild(X)}if(E==2){y.appendChild(X)}this.Ys.Q2(E==2?1:0);
this._b()};kD.prototype.al4=function(E){if(this.Mh())return 1;if(v.a3J()==0){this.Ym={};this.Cl=function(y,c){return Math.sqrt(y*c)}}return-1};
kD.aex=function(){var E=aw==0?[[{f:new F.pB,BK:jp},{f:new F.Tm,BK:g9}],[{f:new F.hd,BK:eL,o7:0},{f:new F.M8,BK:hn,o7:0}],[{f:new F.tL,BK:eS,o7:0},{f:new F.vM,BK:h_,o7:0},{f:new F.DS,BK:jf,o7:0}],[{f:new F.aU,BK:ao,o7:0},{f:new F.ow,BK:cx,o7:0},{f:new F.Jy,BK:a0,o7:0}],[{f:new F.aCA,BK:aO},{f:new F.ajg,BK:jH},{f:new F.Uj,BK:c5,o7:0},{f:new F.jM,BK:iw,o7:0}],[{f:new F.gw,BK:aY},{f:new F.za,BK:al,o7:0},{f:new F.s2,BK:es}],[{f:new F.Yj,BK:d6,o7:0},{f:new F.Az,BK:cX,o7:0},{f:new F.tL(!0),BK:jb,o7:0},{f:new F.Nl,BK:kI,o7:0},{f:new F.aiA,BK:fC,o7:0},{f:new F.C9,BK:gj,o7:0}],[{f:new F.fj,BK:g7,o7:0},{f:new F.cv,BK:bA,o7:0},{f:new F.Kl,BK:c_,o7:0}],[{f:new F._a,BK:hh,o7:0}],[{f:new F.hH,BK:b7,o7:0},{f:new F.lV,BK:cM,o7:0},{f:new F.aC(!0),BK:kw,o7:0}],[{f:new F.bu,BK:da,o7:0},{f:new F.aC,BK:kw,o7:0}],[{f:new F.QC,BK:ca,o7:0},{f:new F.Zs,BK:eV,o7:0},{f:new F.R2,BK:dH,o7:0}],[{f:new F.ws,BK:dB,o7:0},{f:new F.os,BK:cu,o7:0},{f:new F.a6,BK:d0,o7:0}],[{f:new F.fa,BK:jU},{f:new F.dR,BK:jU}],[{f:new F.JG(0),BK:gg},{f:new F.pv,BK:c3},{f:new F.JG(1),BK:gg},{f:new F.JG(2),BK:gg},{f:new F.JG(3),BK:gg},{f:new F.JG(4),BK:gg}],[{f:new F.$Y,BK:aj},{f:new F.va,BK:aS}],[{f:new F.Rect,BK:jJ},{f:new F.fM,BK:fn},{f:new F.GA,BK:bc},{f:new F.ki,BK:am},{f:new F.rn,BK:g4}],[{f:new F.nY,BK:d1},{f:new F.kW,BK:ko}],[{f:new F.tg,BK:fQ}]]:[[{f:new F.pB,BK:jp}],[{f:new F.va,BK:aS}],[{f:new F.JG(0),BK:gg}],[{f:new F.pv,BK:c3}],[{f:new F.fa,BK:jU},{f:new F.dR,BK:jU}],[{f:new F.GA,BK:bc}],[{f:new F.Rect,BK:jJ},{f:new F.fM,BK:fn},{f:new F.ki,BK:am},{f:new F.rn,BK:g4}],[{f:new F.af5,BK:d1}],[{f:new F.nY,BK:d1},{f:new F.kW,BK:ko}],[{f:new F.tg,BK:fQ}]],Z="",X="";
if(aw==0&&!v.Pq())E[6].splice(2,1);var y=aw==0?[ct.Wq,ct.qB,ct.s3,ct.PO,ct.qd,ct.FU,ct.lm,ct.jC,ct.v1,ct.E,ct.TT,null,ct.UJ,ct.b_,ct.Yn,ct.H,ct.oj,ct.x0,ct.Dh]:[ct.Wq,ct.H,ct.Yn,null,ct.b_,null,ct.qB,ct.x0,ct.Dh],c={aAo:[{f:F.fE,Pn:!1,xu:[ct.a0Y,ct.TV]},{f:F.G3,Pn:!1,xu:[ct.TV]},{f:F.hW,Pn:!0,xu:[ct.Nc],Aa:[F.I9]},{f:F.I9,Pn:!0,xu:[ct.Nc],Aa:[F.hW]},{f:F.Ht,Pn:!0,xu:[ct.Nc],Aa:[F.Ar,F.AD,F.LG]},{f:F.Ar,Pn:!0,xu:[ct.Nc],Aa:[F.Ht,F.XF,F.rb,F.qP,F.hw,F.BU]},{f:F.mq,Pn:!0,xu:[ct.Nc]}],XI:E,aY:[],keys:y,_i:[{f:new F.a8K,BK:aZ},{f:new F.aea,BK:hI},{f:new F.aiP,BK:ci},{f:new F.gw(!0),BK:aY},{f:new F.Oc,BK:bF}],nF:[{f:new F.DI},{f:new F.History},{f:new F.tX},{f:new F.Ui},{f:new F.iq},{f:new F.jr}],map:{},ii:null,kT:null,P1:null},e=c.XI;
for(var N=0;N<e.length;N++){var p=e[N];if(gW=="---")continue;for(var H=0;H<p.length;H++)if(p[H].o7!=null&&p[H].o7!=aw){p.splice(H,1);
H--}if(p.length==0){e.splice(N,1);c.keys.splice(N,1);N--}}for(var N=0;N<c.XI.length;N++){var b=c.XI[N];
if(b=="---")continue;var k=c.keys[N];for(var H=0;H<b.length;H++){c.map[b[H].f.id]=b[H];b[H].ZP=N;b[H].ay3=H;
var D=i4.get(b[H].f.name);X+="<li>"+b[H].f.id+": "+D+"</li>";Z+="\t"+JSON.stringify(b[H].f.name)+", "+(k?"\""+k.jg+"\"":"null")+", "+b[H].f.id+", // "+D+"\n"}c.aY[N]=0}for(var N=0;
N<c._i.length;N++)c.map[c._i[N].f.id]=c._i[N];for(var N=0;N<c.nF.length;N++)c.map[c.nF[N].f.id]=c.nF[N];
return c};function gM(E){dT.call(this);if(E==null)return;this.Pf=null;this.T4=null;this.n=v.t("div","sbar"+" "+E);
this.fw=new v.t("div","top");this.fw.innerHTML="> <";this.n.appendChild(this.fw);this.pb=1;this.fw.addEventListener("click",this.atG.bind(this),!1)}gM.prototype=new dT;
gM.prototype.atG=function(E){if(this.Pf!=null&&this.Pf<500&&this.pb==0)return;if(this.pb==0)this.ZO(!0);
else this.collapse(!0)};gM.prototype.acG=function(E){this.pb=E;this.fw.innerHTML=this.pb==0?"< >":"> <"};
gM.prototype.a3R=function(){var E=new iU(S.E.M,!0);E.data={d:S.H.zR};this.T(E)};gM.prototype.ZO=function(E){this.acG(1);
if(E)this.a3R()};gM.prototype.collapse=function(E){this.acG(0);if(E)this.a3R()};gM.prototype.XU=function(){return this.pb==1};
function bn(E,y){gM.call(this,"vcolumn");this.G1=E;this.abE=y;this.dC();this.lQ=v.t("div");this.lQ.setAttribute("style","cursor:default;");
this.a9$=this.aEa.bind(this);this.a5f=this.aAI.bind(this);this.ada=this.a2q.bind(this);v.Qp(this.n,this.a9$);
this.n.appendChild(this.lQ);this.Sb=v.t("div");this.lQ.appendChild(this.Sb);this.rl=-1;this.aDy=v.t("div","float");
var c=this.Yk=v.t("canvas","gsicon"),e=Math.round(12*v.k1());c.width=c.height=e;var p=c.getContext("2d");
p.moveTo(2,2);p.lineTo(e-2,e-2);p.moveTo(2,7);p.lineTo(e-7,e-2);p.stroke();this.Yk.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
v._N(this.Yk);v.Qp(this.Yk,this.a9$);v.h9(c);this.Pm=[];this.HN=[];this.aDH=null;this.Fl=null;this.a0U=0}bn.prototype=new gM;
bn.prototype.aEa=function(E){var y=E.target==this.Yk;if(!y){if(E.target!=this.n)return;if(!this.XU())return}else{var c=this.Pm[this.rl].RX;
c.style.pointerEvents="none";var e=c.getBoundingClientRect();this.aDH=[e.width,e.height];this.HN[this.rl]=[e.width,e.height]}E.stopPropagation();
this.Fl=v.RM(E,document.body);this.a0U=this.G1;v.FY(document,this.a5f);v.Fo(document,this.ada)};bn.prototype.aAI=function(E){var y=v.RM(E,document.body);
if(this.XU()){this.G1=this.a0U+this.Fl.x-y.x;this.dC()}else{var c=this.HN[this.rl],e=this.aDH;c[0]=e[0]+this.Fl.x-y.x;
c[1]=e[1]+y.y-this.Fl.y}var p=new iU(S.E.M,!0);p.data={d:S.H.zR};this.T(p)};bn.prototype.a2q=function(E){if(!this.XU()){var y=this.Pm[this.rl].RX;
y.style.pointerEvents="auto"}v.Ci(document,this.a5f);v.QM(document,this.ada)};bn.prototype.ay0=function(E){E.k("showFloat",this.a5o,this);
E.k("hideFloat",this.OG,this);this.Pm.push(E);E.parent=this;this.lQ.appendChild(E.n)};bn.prototype.a3f=function(N){var E=this.Pm[N];
E.removeEventListener("showFloat",this.a5o,this);E.removeEventListener("hideFloat",this.OG,this);this.Pm.splice(N,1);
E.parent=null;this.lQ.removeChild(E.n)};bn.prototype.aah=function(){return this.Pm.length};bn.prototype.K6=function(){for(var N=0;
N<this.Pm.length;N++)this.Pm[N].K6()};bn.prototype.a5o=function(E){this.K6();var y=this.aDy;this.Sb.appendChild(y);
this.rl=this.Pm.indexOf(E.currentTarget);var c=this.Pm[this.rl].RX;v.Vz(y);y.appendChild(c);y.appendChild(this.Yk);
this.Cl(this.Pf,this.T4)};bn.prototype.OG=function(E){this.K6();if(this.rl!=-1){this.Sb.removeChild(this.aDy);
this.rl=-1}};bn.prototype.dC=function(){function E(y){return Math.round(y*v.k1())/v.k1()}this.n.setAttribute("style","width: "+this.G1+"px; border-left-width:"+E(4)+"px; cursor:ew-resize;")};
bn.prototype.ZO=function(E){this.dC();this.OG();for(var N=0;N<this.Pm.length;N++)this.Pm[N].ZO();gM.prototype.ZO.call(this,E)};
bn.prototype.collapse=function(E){this.n.removeAttribute("style");for(var N=0;N<this.Pm.length;N++)this.Pm[N].collapse();
gM.prototype.collapse.call(this,E)};bn.a11=11;bn.prototype.Cl=function(E,y){this.Pf=E;this.T4=y;y-=bn.a11;
var c=this.Pm.length;if(c==0)return;if(!this.XU()){var e=y<400?y:400+(y-400)*.5;for(var N=0;N<c;N++){var p=this.Pm[N],H=this.HN[N];
p.Cl(H?H[0]:this.G1,H?H[1]:e)}}else{var Z=y;for(var N=0;N<c;N++){var p=this.Pm[N],X=p.aqy();if(N==c-1){X=Z;
p.n.style.borderBottom="none"}p.Cl(this.G1,X);Z-=X+4}}};function cE(E){dT.call(this);this.n=v.t("div");
this.lQ=null;this._g=0;this.Hb=0;this.aze=E;this.asP=this.Lz.bind(this);this.amj=this.Xo.bind(this);
this.a8w=this.P6.bind(this);this.nS=null;this.US=null;this.n1=null;v.Qp(this.n,this.asP);var y=this.n,e="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
y.addEventListener("touchmove",v.nH,!1);this.afi=!0;this.kx=[];var c=this.ax1=v.t("div");c.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(c);var p=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",e+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",e+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",e+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var N=0;N<p.length;N++){var H=new fr(p[N]);this.kx.push(H);H.n.setAttribute("style","margin-left:"+(N<7?4:0)+"px;cursor:pointer;");
H.k("click",this.Mp,this)}}cE.prototype=new dT;cE.prototype._=function(){var E=this.ax1;v.Vz(E);for(var N=0;
N<this.kx.length;N++){var y=this.kx[N];if(N<5)y._();E.appendChild(y.n)}};cE.prototype.Mp=function(E){var N=this.kx.indexOf(E.currentTarget);
if(N==0){if(window.showCap)window.showCap();return}var y=" issues learn blog api twitter facebook".split(" "),c=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),e=window.ga;
if(e)e("send","event","Links",y[N]);var p=new iU(S.E.M,!0);p.data={d:S.H.BN,link:c[N]};this.T(p)};cE.prototype.Lz=function(E){if(E.agh){E.preventDefault();
E.stopPropagation()}var y=window;v.FY(y,this.amj);v.Fo(y,this.a8w);y=this.lQ;this.nS=new eq(parseInt(y.style.left),parseInt(y.style.top));
this.US=v.RM(E,this.n);this.n1=y.getBoundingClientRect()};cE.prototype.Xo=function(E){var y=v.RM(E,this.n),c=this.nS.x+y.x-this.US.x,e=this.nS.y+y.y-this.US.y,p=this._g-this.n1.width,H=this.Hb-this.n1.height;
if(this.aze)this.lQ.style.left=Math.min(0,Math.max(p,c))+"px";else this.lQ.style.top=Math.min(0,Math.max(H,e))+"px";
if(c-10>0){this.US.x=y.x-10;this.nS.x=0}if(c+10<p){this.US.x=y.x+10;this.nS.x=p}};cE.prototype.P6=function(E){var y=window;
v.Ci(y,this.amj);v.QM(y,this.a8w)};cE.prototype.ah$=function(E){if(this.lQ){this.n.removeChild(this.lQ)}this.lQ=E;
this.n.appendChild(E);E.style.position="absolute";if(this.aze)E.style.left=0;else E.style.top=0};cE.prototype.Cl=function(E,y){this._g=E;
this.Hb=y;this.n.setAttribute("style","position:relative; width: "+E+"px; height: "+y+"px; overflow:hidden; white-space: nowrap; ");
var c=this.lQ.firstChild,e=this.ax1,p=c?c.firstChild.getBoundingClientRect().width+80:1e9,H=170,Z=this.afi&&E>p+H;
e[fp.Y1][fp.ajT]=Z?"":fp.bk;var X=this.kx;for(var N=0;N<X.length;N++){var b=N>4||E-p>500?"":fp.bk,k=X[N];
k.n.style.display=b}};cE.prototype.azs=function(){this.lQ.style.left="0";this.lQ.style.top="0"};function bk(){dT.call(this);
this.P0=null;this.EW=bk.Yn;this.a7F="";this.n=v.t("div","rightbar");this.p5=[new bn(300),new bn(268,!0)];
this.Pm=[new eT,new eT,new eT,new eT,new eT,new eT,new eT];this.aBN=[]}bk.prototype=new dT;bk.prototype._=function(){var E=this.EW;
for(var N=0;N<E.length;N++)E[N].T_._()};bk.Yn=[{T_:new bX,vi:3},{T_:new f2,vi:1},{T_:new iT,vi:4},{T_:new c8,vi:2},{T_:new kt(!0),vi:5},{T_:new ar(!0),vi:5},{T_:new c1,vi:0},{T_:new bo,vi:5},{T_:new fU,vi:3},{T_:new iH,vi:0},{T_:new ac,vi:3},{T_:new kF,vi:2},{T_:new f6,vi:4},{T_:new i8,vi:3},{T_:new fl,vi:5},{T_:new kt(!1),vi:5},{T_:new dz,vi:2},{T_:new fZ,vi:3},{T_:new hi,vi:1},{T_:new bQ,vi:0},{T_:new jl,vi:5},{T_:new gN,vi:6,Ro:!0}];
if(v.Pq())bk.Yn.push({T_:new j5,vi:6,Ro:!0});bk.Yn.push({T_:new jQ,vi:6,Ro:!0},{T_:new j9,vi:6,Ro:!0});
(function(){var E=[{id:aq.ZV.ajt,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var N=0;N<E.length;N++)bk.Yn.push({T_:new jE(E[N],100+N),vi:6,Ro:!0})}());bk.prototype.aiG=function(E){for(var N=0;
N<E.length;N++){var y=E[N],c=new jE(y,"plg_"+y.name);this.EW.push({T_:c,vi:6});this.aBN.push(c.Zm)}this.HB()};
bk.prototype.mh=function(E,y){this.P0=E;var c=this.EW;for(var N=0;N<c.length;N++)c[N].T_.mh(E,y);if(y==iL.qj||y==iL.Dg)this.HB()};
bk.prototype.d7=function(E){var y=this.EW;for(var N=0;N<y.length;N++)y[N].T_.d7(E)};bk.prototype.Cl=function(E,y){this.Pf=E;
this.T4=y;this.HB();this.p5[0].Cl(E,y);this.p5[1].Cl(E,y)};bk.prototype.HB=function(){var E=this.P0,y=this.Pf,c=this.T4;
if(E==null||y==0)return;var e=E.oM.concat(this.aBN),p=y<500||y<700&&y<c,H=JSON.stringify(e)+","+p;if(H!=this.a7F){this.a7F=H;
v.Vz(this.n);var Z=[];for(var N=0;N<this.p5.length;N++){var X=this.p5[N];Z[N]=X.XU();while(X.aah()!=0)X.a3f(0);
X.ZO()}var b=[];for(var N=0;N<this.Pm.length;N++){var k=this.Pm[N];k.ZO();while(k.ahq()!=0)k.BH(0);b.push(0)}for(var N=0;
N<e.length;N++){var D=this.avy(e[N].toString());if(D==null)continue;this.Pm[D.vi].Dj(D.T_);this.Pm[D.vi].MF(0);
b[D.vi]++}var j=[];for(var N=0;N<b.length;N++){if(b[N]==0)continue;var g=N<3||p?1:0,X=this.p5[g];X.parent=this;
X.ay0(this.Pm[N]);j[g]=!0}for(var N=0;N<this.p5.length;N++)if(j[N])this.n.appendChild(this.p5[N].n);
this.p5[0].collapse();if(y<700||this.P0.compact||!Z[1]){this.p5[1].collapse()}var R=new iU(S.E.M,!0);
R.data={d:S.H.zR};this.T(R)}};bk.prototype.avy=function(E){for(var N=0;N<this.EW.length;N++)if(this.EW[N].T_.Zm==E)return this.EW[N]};
bk.prototype.aoc=function(E){var y=this.avy(E);this.Pm[y.vi].Dj(y.T_)};bk.prototype.Xy=function(E,y,c){var e=this.EW;
for(var N=0;N<e.length;N++)e[N].T_.Xy(E,y,c)};bk.prototype.yl=function(E,y,c,e,p){var H=this.EW;for(var N=0;
N<H.length;N++)H[N].T_.yl(E,y,c,e,p)};bk.prototype.Lv=function(E,y,c,e,p){var H=this.EW;for(var N=0;
N<H.length;N++)H[N].T_.Lv(E,y,c,e,p)};bk.prototype.JA=function(E,y,c,e,p){var H=this.EW;for(var N=0;
N<H.length;N++)H[N].T_.JA(E,y,c,e,p)};function c9(E,y){gM.call(this,"toolbar");this.n.removeChild(this.fw);
this.$p=v.t("div","tools");this.n.appendChild(this.$p);this.oi=null;this.sJ=null;this.a2c=y;this.xo=null;
this.hQ=null;this.atg=-1;this.aAM={};this.ajo=E;this.s=null;this.Bx=null;this.fn=null;this.v$=null;this.P9=new aB;
this.P9.n.style.marginTop="5px";this.P9.n.style.marginBottom="3px";this.P9.parent=this;this.xn=new fr(v.IU("lrs/mask"),!1,[6,6,1]);
this.xn.k("click",function(H){var Z=new iU(S.E.v,!0);Z.f=F.mW;Z.data={d:"qmask"};this.T(Z)},this);var c=new hS(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
c.k(S.E.p,this.aad,this);var e=v.t("span","rangecontFloat form padded");e.appendChild(c.n);e.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var p=this.n;this.akt=[!1,!1,!1,!1];this.bK=new fr(v.IU("kb"),!1,"Virtual Keys");this.bK.k("click",function(H){var Z=this.bK.n.getBoundingClientRect();
e.style.top=Z.top-110+"px";e.style.left=Z.left+Z.width+8+"px";if(v.Qj(e)){v.HC({n:e},p)}else{p.appendChild(e);
v.CA({n:e})}},this)}c9.prototype=new gM;c9.prototype.aad=function(E){var y=E.target.h();this.bK.c(y[0]||y[1]||y[2]||y[3]);
var c=new iU(S.E.M,!0);for(var N=0;N<4;N++){if(y[N]!=this.akt[N]){c.data={d:S.H.aeN,fu:y[N],a6s:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][N]};
this.T(c)}}this.akt=y.slice(0)};c9.prototype.aaj=function(E,y){this.xo=y;this.hQ=E;if(E==null||E.g.length==0||E.B[E.g[0]]==null)return;
var c=E.xn()!=null,e=E.Q.V,p=E.B[E.g[0]].p6,H=p==1||p==3||c||e[0]+e[1]+e[2]==1;this.P9.aD8(H);this.xn.c(c)};
c9.prototype.ajQ=function(E,y){var c=E.length,e=[];for(var N=0;N<c;N++)e[N]=E[N].slice(0);E=e;var p=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],H=Math.min(p.length/2,c-y);
for(var N=0;N<H;N++){var Z=p[2*N],X=p[2*N+1];E[Z]=E[Z].concat(E[X]);E[X]=null}for(var N=0;N<E.length;
N++)if(E[N]==null){E.splice(N,1);N--}return E};c9.prototype.ax0=function(E,y){for(var N=0;N<y.length;
N++)for(var c=0;c<y[N].length;c++)if(y[N][c].f.id==E)return N};c9.prototype.a8_=function(E){var y=this.ajo;
this.Bx=[];this.fn=[];this.v$=[];this.s=[];var c=y.XI;if(E!=null&&this.a2c)c=this.ajQ(c,E);var e=this.oi;
if(e){var p=[];for(var N=0;N<c.length;N++){var H=[];for(var Z=0;Z<c[N].length;Z++){var X=c[N][Z];if(e==null||e.indexOf(parseInt(X.f.id))!=-1)H.push(X)}if(H.length>0)p.push(H)}c=p}for(var N=0;
N<c.length;N++){var b=[],k=this.Bx.length,D=null,j=-1;for(var Z=0;Z<c[N].length;Z++){var X=c[N][Z].f,g=this.ax0(X.id,y.XI),R=y.keys[g];
if(R==ct.x0&&Z==1)R=ct.ZV;this.s.push(X);var t=new ia(X.name,R,X.yQ,this.Bx.length,N,c[N].length>1);
this.Bx.push(t);var w=this.aAM[X.id];if(w==null)w=0;if(w>j){j=w;D=t}t.k(S.E.p,this.X5,this);t.k("mover",this.HG,this);
b.push({name:X.name,fS:X.yQ,xu:R?R.jg:""})}this.fn.push(D);this.v$.push(b.length==1?null:[b,k])}};c9.prototype.Cl=function(E,y){var c=this.T4=y,e=32;
if(1<v.k1()&&v.k1()<1.5)e=18+14*(1/v.k1());var p=39+23,H=Math.floor((c-p)/e);if(H!=this.atg){this.atg=H;
this.a8_(H);this.OR()}var Z=this.fn.length*e+p,X=Math.min(1,c/Z);if(.75<=X){this.$p.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+X+","+X+");");
this.n.setAttribute("style","height:"+(y-2)+"px;")}else{c-=4;this.$p.setAttribute("style","height: "+c+"px;  width:"+Math.ceil(Z/c)*34+"px");
this.n.setAttribute("style","")}};c9.prototype._=function(){if(this.s==null)return;for(var N=0;N<this.Bx.length;
N++)this.Bx[N]._()};c9.prototype.X5=function(E){var y=new iU(S.E.M,!0);y.data={d:S.H.lg,f:this.s[E.id].id};
this.T(y)};c9.prototype.ay5=function(E){var y=E.target.ar$+E.target.hD()[0];this.Bx[y].P6(null,!0)};
c9.prototype.HG=function(E){var y=this.xo,c=new iU(S.E.M,!0);c.data={d:S.H.HP};this.T(c);var e=E.target,p=this.v$[e.ZP];
if(p==null)return;var H=new el(p[0],null,!0);H.ar$=p[1];H.ZP=e.ZP;H.k("select",this.ay5,this);H.parent=this;
H._();var Z=e.n.getBoundingClientRect(),c=new iU(S.E.M,!0);c.data={d:S.H.rt,T_:H,x:Z.left+Z.width+8,y:Z.top};
if(y==null||!(y.S(ct.TV)||y.S(ct.Nc)))this.T(c)};c9.prototype.OR=function(E){if(E==null)E=this.sJ;this.sJ=E;
if(this.s==null)return;this.aAM[E]=Date.now();var y=-1;for(var N=0;N<this.s.length;N++)if(this.s[N].id==E)y=N;
for(var N=0;N<this.Bx.length;N++){var c=this.Bx[N];c.are(y==N)}if(y==-1)return;this.fn[this.Bx[y].ZP]=this.Bx[y];
v.Vz(this.$p);var e=this.fn;for(var N=0;N<e.length;N++){this.$p.appendChild(e[N].n)}if(!this.a2c)return;
this.$p.appendChild(this.P9.n);if(this.T4>640)this.$p.appendChild(this.xn.n);this.$p.appendChild(this.bK.n)};
c9.prototype.mh=function(E,y){if(y==iL.Dg&&E.oi){this.oi=E.oi;this.a8_();this.OR()}this.P9.a5h(E.x4,E.YO);
if(aw==1&&y==iL.GP){this.P9.atX(E,this.hQ)}};function ia(E,y,c,e,p,H){dT.call(this);this.wW=0;this.a7=this.a7s.bind(this);
this.ZP=p;this.x5=e;this.ZD=E;this.d5=y;this.a2h=H;this.yQ=c;this.n=v.t("button","");this.n.innerHTML=v.IU(this.yQ);
if(this.a2h){var Z=v.t("img","gsicon");Z.setAttribute("src",PIMG["tools/corner"]);Z.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild(Z)}this.n.addEventListener("touchstart",v.nH,!1);this._();v.Qp(this.n,this.Lz.bind(this));
v.Fo(this.n,this.P6.bind(this));this.n.addEventListener("contextmenu",this.a7,!1);this.n.addEventListener("contextmenu",ia.Ds,!1)}ia.prototype=new dT;
ia.Ds=function(E){E.stopPropagation();E.preventDefault();return!1};ia.prototype._=function(){var E=this.d5?" ("+this.d5.jg+")":"";
this.n.setAttribute("title",i4.get(this.ZD)+E)};ia.prototype.Lz=function(E){ia.rG=this.x5;this.wW=setTimeout(this.a7,160)};
ia.prototype.P6=function(E,y){if(y==null&&ia.rG!=this.x5)return;clearTimeout(this.wW);var c=new iU(S.E.p,!1);
c.target=this;c.id=this.x5;this.T(c)};ia.prototype.a7s=function(E){var y=new iU("mover",!1);y.target=this;
y.id=this.x5;this.T(y)};ia.prototype.are=function(E){this.n.className=E?"toolbtn active":"toolbtn"};
function bL(){dT.call(this);this.n=v.t("div","topbar");this.V7=v.t("span");this.apk=v.t("span");this.aqF=0;
this.n.appendChild(this.V7);this.n.appendChild(this.apk);this.qX=null;this.S7=null;this.uU=[];this.oM=[];
var E=this.Lz.bind(this);for(var N=0;N<bL.data.length;N++){var y=v.t("button");this.uU.push(y);var c=bL.data[N];
y.addEventListener("mouseover",E,!1);v.Qp(y,E)}this.SH=new fr([0,13,0],!1,null,!0);this.SH.k("click",this.Rx,this);
this.JY=new fr("Donate",!1,null,!0);this.JY.k("click",this.Rx,this);this.MV=new fr(v.IU("tools/zoom",null,"autoscale"),!1,[12,86]);
this.MV.k("click",this.Rx,this);this.yp=new fr("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.yp.k("click",this.Rx,this)}bL.prototype=new dT;bL.prototype.aBB=function(){if(this.oM.length!=0)return;
for(var N=0;N<bL.data.length;N++){var E=bL.data[N],y=new el(E.items,E.qK);y.parent=this;this.oM.push(y)}this._()};
bL.prototype._=function(){this.SH._();this.MV._();this.yp._();for(var N=0;N<this.uU.length;N++)this.uU[N].textContent=i4.get(bL.data[N].name);
this.ats();for(var N=0;N<this.oM.length;N++)this.oM[N]._()};bL.prototype.Rx=function(E){var y=new iU(S.E.M,!0);
if(E.target==this.SH)y.data={d:S.H.Q5,ym:"account"};else if(E.target==this.JY)y.data={d:S.H.Q5,ym:"confirm",UT:function(){},a9F:!0,b:"<h2 style=\"margin-top:0;\">Donate $8 and remove ads for 30 days!</h2><p>Press \"Account\" at the top and get a 30-day Premium!</p></p>All our payments are one-time payments (there is no subscription).</p>"};
else if(E.target==this.MV)y.data={d:S.H._H};else y.data={d:S.H.Qw,ne:!0};this.T(y)};bL.prototype.a6X=function(E,y){this.qX=E;
this.S7=y};bL.prototype.mh=function(E,y){this.S7=E;if(y==iL.Dg){var c=E.az$;v.Vz(this.V7);for(var N=0;
N<this.uU.length;N++){var e=bL.data[N];if(c==null||c[N]==1||c[N]instanceof Array)if(e.o7==null||e.o7==aw)this.V7.appendChild(this.uU[N]);
if(c!=null&&c[N]instanceof Array){this.aBB();this.oM[N].ac3(c[N])}}var p=this.apk;v.Vz(p);if(E.ga){p.appendChild(this.SH.n);
p.appendChild(this.JY.n)}p.appendChild(this.MV.n);p.appendChild(this.yp.n)}this.ats()};bL.prototype.ats=function(E,y){var c=this.SH,e=12255232;
if(b4.Ez())e=b4.qc()?43520:16755200;c.n.setAttribute("style","color:#ffffff; background-color:#"+d.ly(e));
this.JY.n.style.display=b4.qc()?"none":""};bL.prototype.Lz=function(E){this.aBB();var N=this.uU.indexOf(E.currentTarget),y=this.oM[N];
if(E.type=="mouseover"&&!v.Qj(this.oM[this.aqF].n))return;if(v.Qj(y.n))return;E.agh=!0;this.aqF=N;for(var N=0;
N<bL.data.length;N++)this.oM[N].update(this.qX,this.S7);var c=E.target.getBoundingClientRect(),e=new iU(S.E.M,!0);
e.data={d:S.H.rt,T_:y,x:c.left,y:c.top+c.height+2,a1n:!0};this.T(e)};bL.ajK=function(E){var y=ct,c=y.Nc,e=y.zx,p=y.Q3,H=function(k){return{w:k!=null}},Z=function(k){return{w:k!=null&&k.i!=null}},X={name:[0,5],o7:0,items:[{name:[7,0],w:H,xu:[c,y.H]},{name:[7,1],xu:[c,y.iQ],w:Z},{name:[7,2],xu:[e,c,y.FU],w:Z,mc:!0},{name:"Remove BG",w:function(k){return{w:v.Pq()&&k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.tj()}}},{name:[7,8],w:H,hi:!0},{name:[7,13],hi:!0,w:function(k){return{w:k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.tj()}},mc:!0},{name:[7,11],hi:!0,w:function(k){return{w:k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.tj()}}},{name:[7,3],w:H,mc:!0,sub:[{name:[7,9],hi:!0,w:Z},{name:[19,3,0],hi:!0,w:Z},{name:[7,4],hi:!0,w:Z},{name:[7,5],hi:!0,w:Z},{name:[7,6],hi:!0,w:Z,xu:"Shift+F6"}]},{name:"Grow",w:Z},{name:"Similar",w:Z,mc:!0},{name:[7,10],w:Z,mc:!0},{name:[6,6,1],w:function(k){return{w:k!=null,b$:k!=null&&k.xn()!=null}},xu:[y.Z8],mc:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],w:Z}],qK:[{K:S.E.on,C:F.XY.cg(!0)},{K:S.E.on,C:F.XY.cg()},{K:S.E.on,C:{tT:"inverse"}},{K:S.E.v,f:F.mW,C:{d:"bgrm",b:1}},{K:S.E.M,C:{d:S.H.Q5,ym:"crange"}},{K:S.E.M,C:{d:S.H.Q5,ym:"magiccut"}},{K:S.E.M,C:{d:S.H.Q5,ym:"redge"}},{sub:[{K:S.E.M,C:{d:S.H.Q5,ym:"sel_border"}},{K:S.E.M,C:{d:S.H.Q5,ym:"sel_smoothness"}},{K:S.E.M,C:{d:S.H.Q5,ym:"sel_expand"}},{K:S.E.M,C:{d:S.H.Q5,ym:"sel_contract"}},{K:S.E.M,C:{d:S.H.Q5,ym:"sel_feather"}}]},{K:S.E.on,C:{tT:"grow",hG:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:S.E.on,C:{tT:"similar",hG:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:S.E.M,C:{d:S.H.lg,f:F.fK}},{K:S.E.v,f:F.mW,C:{d:"qmask"}},{K:S.E.M,C:{d:S.H.Q5,ym:"loadsel"}},{K:S.E.M,C:{d:S.H.Q5,ym:"savesel"}}]};
if(E){var b=X.items.length-1;X.items.splice(b-2,0,{name:[6,49],xu:[c,y.lm],mc:!0});X.qK.splice(b-2,0,{K:S.E.on,C:{tT:"copyToLayer"}});
X.items.splice(b-1,0,{name:[10,16],xu:[p,c,y.b_]});X.qK.splice(b-1,0,{K:S.E.M,C:{d:S.H.lg,f:F.Xm}})}return X};
bL.BC=function(E,y){if(E==null||E.g.length==0)return!1;var c=E.B[E.g[0]];return c.add.TySh!=null&&y.sJ==F.IB};
bL.arS=function(){var E=ct,y=E.Nc,c=E.zx,e=E.Q3,p=function(H){return{w:H!=null}};return[[{name:[5,0],xu:[y,E.NM],w:function(H,Z){return{w:H!=null&&(H.vn()||bL.BC(H,Z))}}},{name:[5,1],xu:[y,E.qd],w:p},{name:[5,2],xu:[y,E.Wq],w:function(H,Z){return{w:bL.BC()||v.UK()||Z.Ti!=null||Z.V_!=null||Z.arF!=null}}},{name:[2,2],w:function(H,Z){return{w:H!=null&&(H.i!=null||bL.BC(H,Z))}},xu:"Delete",mc:!0}],[{K:S.E.M,C:{d:S.H.e8}},{K:S.E.M,C:{d:S.H.Lb}},{K:S.E.M,C:{d:S.H.t8}},{K:S.E.on,C:{tT:"delete"}}]]};
bL.data=function(){var E=ct,y=E.Nc,c=E.zx,e=E.Q3,p=function(R){return{w:R!=null&&R.g.length!=0}},H=function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.SoLd!=null}},Z=function(R){return{w:R!=null}},X=function(R){return{w:R!=null&&R.iR(!1)}},b=[],k=[],D="none maxx avrg medn minn rang stdv summ vari".split(" "),j=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var N=0;N<D.length;N++){b.push({name:j[N],w:function(R,t){if(R==null||R.g.length!=1)return{w:!1};
var w=R.B[R.g[0]].add.SoLd;if(w==null)return{w:!1};return{w:!0,b$:w.Impr.v.classID==this.amn}}.bind({amn:D[N]})});
k.push({K:S.E.v,f:F.sh,C:{d:jN.ek,Hx:D[N]}})}var g=bL.arS(!0);return[{name:[0,0],items:[{name:[5,3],xu:[e,y,E.Wf],title:[11,7],hi:!0},{name:[1,0],xu:[y,E.UJ],hi:!0},{name:[1,11],hi:!0,w:Z},{name:["VAR0 VAR1",[1,0],[0,14]],mc:!0,sub:[{name:"Storage",hi:!0,xu:[e,y,E.UJ]},{name:[1,5],hi:!0},{name:[11,0],hi:!0},{name:["PSD VAR0",[25,0]],hi:!0}]},{name:[1,18],mc:!0,w:Z,sub:[{name:"PNG",xu:"Imgur.com",w:function(R,t){return{w:R!=null&&t.Im}}},{name:"JPG",xu:"Imgur.com",w:function(R,t){return{w:R!=null&&t.Im}}},{name:"PSD",xu:"Photopea.com",w:function(R,t){return{w:R!=null&&t.Im&&!R.H6}}}]},{name:"Save ...",xu:[y,E.v1],w:function(R,t){var w=i4.get([1,2]),B=!0;
if(R){if(R.YW)w+=" ("+i4.get([6,7,1])+")";if(R.$O)w+=" (Google Drive)";if(R.Ra)w+=" ("+Storage.list[R.Ra[0]][0]+")";
B="psd jpg png gif webp svg bmp".split(" ").indexOf(R.Nj)!=-1}return{w:R!=null&&(R.Ra!=null||R.Nk!=null&&B||R.YW!=null||R.a5!=null&&R.a5.kt!=null||R.$O!=null||t.ye.save!=null),pR:w}}},{name:aw==0?[1,3]:"Save as AI",w:function(R,t){return{w:R!=null&&t.Im}}},{name:["VAR0 VAR1",[1,2],[0,14]],w:Z,sub:[{name:(aw==0?"PSD":"AI")+" to Storage",w:function(R,t){return{w:R!=null&&t.Im}}},{name:["VAR0 PSD/PSB",[1,2]],hi:!0,w:function(R,t){return{w:R!=null&&t.Im}}}]},{name:[1,8],w:Z,sub:function(){var R=iu.PX(0),t=[];
for(var N=0;N<R.length;N++)t.push({name:R[N],xu:"."+R[N].toLowerCase()});t.push({name:[0,14],sub:function(){var R=iu.PX(1),t=[];
for(var N=0;N<R.length;N++)t.push({name:R[N],xu:"."+R[N].toLowerCase()});return t}()});return t}()},{name:[1,4],hi:!0,w:Z,mc:!0},{name:[1,9],hi:!0,w:Z},{name:"Export Color Lookup",hi:!0,w:Z,mc:!0},{name:[1,14],hi:!0,w:Z,mc:!0},{name:[1,17],sub:[{name:"Batch",hi:!0},{name:"PDF Presentation",hi:!0},{name:"Convert Formats",hi:!0},{name:"Generate Mockups",hi:!0,w:Z}]},{name:[1,10],hi:!0}],qK:[{K:S.E.M,C:{d:S.H.Q5,ym:"newproject"}},{K:S.E.M,C:{d:S.H.uh}},{K:S.E.M,C:{d:S.H.uh,a5V:!0}},{sub:[{K:S.E.M,C:{d:S.H.Q5,ym:"storwindow",de:0}},{K:S.E.M,C:{d:S.H.Q5,ym:"open_from_url"}},{K:S.E.M,C:{d:S.H.Q5,ym:"camera"}},{K:S.E.M,C:{d:S.H.Q5,ym:"res0"}}]},{sub:[{K:S.E.M,C:{d:S.H.Vv,wB:"png"}},{K:S.E.M,C:{d:S.H.Vv,wB:"jpg"}},{K:S.E.M,C:{d:S.H.Vv,wB:"psd"}}]},{K:S.E.M,C:{d:S.H.XT}},{K:S.E.M,C:{d:S.H.zO}},{sub:[{K:S.E.M,C:{d:S.H.Q5,ym:"storwindow",de:1}},{K:S.E.M,C:{d:S.H.Q5,ym:"savepsb"}}]},{sub:function(){var R=iu.PX(0),t=[];
for(var N=0;N<R.length;N++)t.push({K:S.E.M,C:{d:S.H.Q5,ym:"saveforweb",wB:N}});t.push({sub:function(){var w=iu.PX(0).length,R=iu.PX(1),t=[];
for(var N=0;N<R.length;N++)t.push({K:S.E.M,C:{d:S.H.Q5,ym:"saveforweb",wB:w+N}});return t}()});return t}()},{K:S.E.M,C:{d:S.H.Q5,ym:"saveforweb",wB:5,ahV:!0}},{K:S.E.M,C:{d:S.H.Q5,ym:"eassets"}},{K:S.E.M,C:{d:S.H.Q5,ym:"exlut"}},{K:S.E.M,C:{d:S.H.Q5,ym:"finfo"}},{sub:[{K:S.E.M,C:{d:S.H.Q5,ym:"batch"}},{K:S.E.M,C:{d:S.H.Q5,ym:"pdfpres"}},{K:S.E.M,C:{d:S.H.Q5,ym:"cformat"}},{K:S.E.M,C:{d:S.H.Q5,ym:"mockups"}}]},{K:S.E.M,C:{d:S.H.Q5,ym:"script"}}]},{name:[0,1],items:[{name:[2,8],w:Z},{name:[2,0],w:Z,xu:[c,y,E.Dh]},{name:[2,1],w:Z,xu:[y,E.Dh],mc:!0},{name:[2,11],xu:[c,y,E.e7],mc:!0,hi:!0,w:function(R,t){return{w:aX.agY(R)&&t.sJ!=F.Xm}}},g[0][0],g[0][1],{name:[5,7],xu:[c,y,E.qd],w:function(R){return{w:R!=null&&R.vn()}}},g[0][2],g[0][3],{name:[2,3],w:X,hi:!0,xu:[c,E.oI]},{name:[14,9],w:X,hi:!0,mc:!0},{name:[10,48],w:X},{name:[10,46],w:function(R){return{w:F.Oc.Du(R)}}},{name:[10,16],w:Z,xu:[e,y,E.b_]},{name:[2,4],w:Z,sub:k4.aye()},{name:[2,10,1],w:Z},{name:[2,10,0],w:Z,mc:!0},{name:[12,87],w:Z,sub:[{name:[12,62],w:Z},{name:[9,3],w:Z},{name:[10,31],w:function(R){return{w:R!=null&&R.sA()[1].length!=0}}}]},{name:[1,15],hi:!0},{name:[12,79],hi:!0,xu:[y,E.yf]},{name:[1,13],hi:!0}],qK:[{K:S.E.v,f:F.yW,C:{d:"h_undoredo"}},{K:S.E.v,f:F.yW,C:{d:"h_stepfwd"}},{K:S.E.v,f:F.yW,C:{d:"h_stepbck"}},{K:S.E.M,C:{d:S.H.Q5,ym:"afw_fade"}},g[1][0],g[1][1],{K:S.E.M,C:{d:S.H.Lb,xc:!0}},g[1][2],g[1][3],{K:S.E.M,C:{d:S.H.Q5,ym:"fill"}},{K:S.E.M,C:{d:S.H.Q5,ym:"stroke"}},{K:S.E.M,C:{d:S.H.lg,f:F.PV}},{K:S.E.v,f:F.UA,C:{d:"start",Gl:"rigidTransform"}},{K:S.E.M,C:{d:S.H.lg,f:F.Xm}},{sub:k4.aja()},{K:S.E.on,C:{tT:"align",hG:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:S.E.v,f:F.sh,C:{d:jN.Gz}},{sub:[{K:S.E.M,C:{d:S.H.rN,Wp:0}},{K:S.E.M,C:{d:S.H.rN,Wp:1}},{K:S.E.M,C:{d:S.H.rN,Wp:2}}]},{K:S.E.M,C:{d:S.H.Q5,ym:"pmanager"}},{K:S.E.M,C:{d:S.H.Q5,ym:"preferences"}},{K:S.E.M,C:{d:S.H.Q5,ym:"locstor"}}]},{name:[0,2],items:[{name:[12,36],w:Z,mc:!0,sub:[{name:"RGB",w:function(R){if(R==null)return{w:!1};
return{b$:R.add.fcmy==null,w:!0}}},{name:"CMYK",w:function(R){if(R==null)return{w:!1};return{b$:R.add.fcmy!=null,w:!0}}}]},{name:[3],w:Z,mc:!0,sub:function(){var R=[];
for(var t in et.names){R.push({name:et.names[t],hi:bK[t]!=null,xu:et.keys[t],mc:et.a2p.indexOf(t)!=-1});
if(t=="selc"){R.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],hi:!0,mc:!0});R.push({name:[19,7,0],xu:[y,c,E.oj],w:X});
R.push({name:[4,18],hi:!0,w:X})}}return R}()},{name:[4,16,0],w:X},{name:[4,16,1],w:X},{name:[4,16,2],w:X,mc:!0},{name:[11,11,1],w:X,hi:!0},{name:[11,11,0],w:X,hi:!0,mc:!0},{name:[11,3],w:Z,hi:!0,xu:[e,y,E.qd]},{name:[11,10],w:Z,hi:!0,xu:[e,y,E.FU]},{name:[2,4],w:Z,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],w:function(R){return{w:R!=null&&R.i!=null}}},{name:[11,12,0],w:Z,xu:[y,E.OF],hi:!0},{name:[11,12,2],w:Z,mc:!0},{name:[12,53],w:Z},{name:[2,12],w:X,hi:!0,mc:!0},{name:[2,14],w:Z,hi:!0}],qK:[{sub:[{K:S.E.v,f:F.mq,C:{d:"fcmy",b:0}},{K:S.E.v,f:F.mq,C:{d:"fcmy",b:1}}]},{sub:function(){var R=[];
for(var t in et.names){R.push({K:S.E.v,f:F.rr,C:{d:"start",Bn:t}});if(t=="selc"){R.push({K:S.E.v,f:F.UA,C:{d:"start",Gl:"adaptCorrect"}});
R.push({K:S.E.on,C:{tT:"desaturate"}});R.push({K:S.E.v,f:F.rr,C:{d:"start",Bn:"matc"}})}}return R}()},{K:S.E.on,C:{tT:"levels",hG:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:S.E.on,C:{tT:"levels",hG:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:S.E.on,C:{tT:"levels",hG:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:S.E.M,C:{d:S.H.Q5,ym:"rcolors"}},{K:S.E.M,C:{d:S.H.Q5,ym:"vbitmap"}},{K:S.E.M,C:{d:S.H.Q5,ym:"csize"}},{K:S.E.M,C:{d:S.H.Q5,ym:"isize"}},{sub:[{K:S.E.on,C:F.Y.FK(!0,90)},{K:S.E.on,C:F.Y.FK(!0,-90)},{K:S.E.on,C:F.Y.FK(!0,-180)},{K:S.E.on,C:F.Y.FK(!1,"Hrzn")},{K:S.E.on,C:F.Y.FK(!1,"Vrtc")}]},{K:S.E.on,C:{tT:"crop",hG:{__name:"Crop",classID:"Crop"}}},{K:S.E.M,C:{d:S.H.Q5,ym:"trim"}},{K:S.E.on,C:{tT:"revealAll",hG:{classID:"RvlA"}}},{K:S.E.on,C:{tT:"duplicate",hG:{classID:"Dplc",null:aW.G6("Dcmn",!0)}}},{K:S.E.v,f:F.rr,C:{d:"start",Bn:"aply"}},{K:S.E.M,C:{d:S.H.Q5,ym:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],w:Z,sub:[{name:[0,3],xu:[c,y,E.Wf]},{name:[0,4]},{name:[1,16,0],hi:!0},{name:[1,16,3],hi:!0,mc:!0},{name:[6,49,0],xu:[y,E.lm]},{name:[6,49,1],xu:[c,y,E.lm],w:function(R){return{w:R!=null&&R.i!=null&&R.iR(!1)}}}]},{name:[6,0],w:p,xu:[y,E.lm]},{name:[11,4],w:p},{name:[5,4],w:p,mc:!0},{name:[11,6],w:p,mc:!0,sub:kr.wu(!0)},{name:[6,48,1],w:Z,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],w:Z,mc:!0,sub:kr.aCt()},{name:[6,2],w:Z,sub:[{name:[6,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].Nb()==null}}},{name:[6,5,0],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].Nb()==null}}},{name:[6,5,1],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].Nb()==null&&R.i!=null}}},{name:[6,5,2],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].Nb()==null&&R.i!=null}}},{name:[6,5,3],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].Nb()==null}},mc:!0},{name:[5,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].Nb()!=null}}},{name:[5,8],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].Nb()!=null&&R.iR(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].Nb()!=null}}}]},{name:[6,3],w:Z,sub:[{name:[6,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk==null}}},{name:[6,5,0],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk==null}}},{name:[12,76,7],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk==null}},mc:!0},{name:[5,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk!=null}}}]},kF.azY(!0),{name:[6,7,1],w:Z,mc:!0,sub:[{name:[6,7,0],mc:!0},{name:"Open (Edit Contents)",w:H,hi:!0},{name:"Replace Contents",w:H,hi:!0},{name:"Export Contents",w:H,hi:!0,mc:!0},{name:[6,36,4],w:H,sub:b},{name:"Turn into JPG",w:H}]},{name:[6,8],w:kF.ajA},{name:[6,34],mc:!0,w:function(R){if(R==null||R.g.length==0)return{w:!1};
var t=R.B[R.g[0]];return{w:t.add.lmfx!=null&&!t.uY()}}},{name:[6,9],w:Z,mc:!0,xu:[y,E.TT]},{name:[6,55],w:Z,sub:[{name:[6,56,0],xu:[c,y,E.Xq]},{name:[6,56,1],xu:[y,E.Xq]},{name:[6,56,2],xu:[y,E.T0]},{name:[6,56,3],xu:[c,y,E.T0]}]},{name:"Combine Shapes",w:Z,mc:!0,sub:[{name:[18,1],fS:"set/union"},{name:[18,2],fS:"set/difference"},{name:[18,3],fS:"set/intersection"},{name:[18,4],fS:"set/xor"}]},{name:[6,58],w:Z,mc:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],xu:[y,E.E],w:function(R){var t=R==null?0:R.g.length;
return{w:t!=0&&(t!=1||R.g[0]!=0),pR:i4.get(t>1||t==1&&R.B[R.g[0]].uY()?[6,12,0]:[6,10])}}},{name:[6,12,1],w:Z},{name:[2,13],w:Z}],qK:[{sub:[{K:S.E.v,f:F.sh,C:{d:jN.ml}},{K:S.E.v,f:F.sh,C:{d:jN.wZ}},{K:S.E.M,C:{d:S.H.Q5,ym:"newartb",de:0}},{K:S.E.M,C:{d:S.H.Q5,ym:"newartb",de:1}},{K:S.E.on,C:{tT:"copyToLayer"}},{K:S.E.on,C:{tT:"cutToLayer"}}]},{K:S.E.v,f:F.sh,C:{d:jN.lz}},{K:S.E.M,C:{d:S.H.Q5,ym:"duplinto"}},{K:S.E.v,f:F.sh,C:{d:jN.iI}},{sub:kr.Hz(!0)},{sub:[{K:S.E.v,f:F.XF,C:{d:"newfill",KO:0}},{K:S.E.on,C:F.Hv.Uo(1)},{K:S.E.on,C:F.Hv.Uo(2)}]},{sub:kr.uA()},{sub:[{K:S.E.v,f:F.sh,C:{d:jN.gP,de:"RvlA"}},{K:S.E.v,f:F.sh,C:{d:jN.gP,de:"HdAl"}},{K:S.E.v,f:F.sh,C:{d:jN.gP,de:"RvlS"}},{K:S.E.v,f:F.sh,C:{d:jN.gP,de:"HdSl"}},{K:S.E.v,f:F.sh,C:{d:jN.gP,de:"Trns"}},{K:S.E.v,f:F.sh,C:{d:jN.z0}},{K:S.E.v,f:F.sh,C:{d:jN.zS}},{K:S.E.v,f:F.sh,C:{d:jN.Dd}}]},{sub:[{K:S.E.v,f:F.sh,C:{d:jN.Ao,XX:!1}},{K:S.E.v,f:F.sh,C:{d:jN.Ao,XX:!0}},{K:S.E.v,f:F.sh,C:{d:jN.Ao,aBk:!0}},{K:S.E.v,f:F.sh,C:{d:jN.uO}},{K:S.E.v,f:F.sh,C:{d:jN.Su}}]},{K:S.E.v,f:F.sh,C:{d:jN.KW}},{sub:[{K:S.E.on,C:{tT:"newPlacedLayer"}},{K:S.E.on,C:{tT:"placedLayerEditContents",hG:{classID:"placedLayerEditContents"}}},{K:S.E.on,C:{tT:"placedLayerReplaceContents",hG:{classID:"placedLayerReplaceContents"}}},{K:S.E.on,C:{tT:"placedLayerExportContents",hG:{classID:"placedLayerExportContents"}}},{sub:k},{K:S.E.v,f:F.sh,C:{d:jN.anc}}]},{K:S.E.on,C:{tT:"rasterizeLayer",hG:{classID:"rasterizeLayer",null:aW.G6("Lyr",!0)}}},{K:S.E.on,C:{tT:"rasterizeLayer",hG:{classID:"rasterizeLayer",null:aW.G6("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:S.E.v,f:F.sh,C:{d:jN.jT}},{sub:[{K:S.E.v,f:F.sh,C:{d:jN.M_,s6:0}},{K:S.E.v,f:F.sh,C:{d:jN.M_,s6:1}},{K:S.E.v,f:F.sh,C:{d:jN.M_,s6:2}},{K:S.E.v,f:F.sh,C:{d:jN.M_,s6:3}}]},{sub:[{K:S.E.v,f:F.sh,C:{d:jN.N6,c7:0}},{K:S.E.v,f:F.sh,C:{d:jN.N6,c7:1}},{K:S.E.v,f:F.sh,C:{d:jN.N6,c7:2}},{K:S.E.v,f:F.sh,C:{d:jN.N6,c7:3}}]},{sub:[{K:S.E.v,f:F.sh,C:{d:jN.YQ,s6:"makeframes"}},{K:S.E.v,f:F.sh,C:{d:jN.YQ,s6:"unmakeframes"}},{K:S.E.v,f:F.sh,C:{d:jN.YQ,s6:"merge"}}]},{K:S.E.on,C:{tT:"mergeLayersNew",hG:{__name:"Merge Layers",classID:"Mrg2"}}},{K:S.E.on,C:{tT:"flattenImage"}},{K:S.E.v,f:F.UA,C:{d:"start",Gl:"defr"}}]},bL.ajK(!1),function(){var R={name:[0,6],o7:0,items:[{name:[24,18,4],xu:[e,y,E.e7],w:Z,mc:!0}],qK:[{K:S.E.v,f:F.UA,C:{d:"applylast"}}]};
for(var N=0;N<cN.R1.length;N++){var t=cN.R1[N];if(t.f3!=null){var w={name:cN.names[t.f3],hi:!0,mc:t.mc,w:Z};
if(t.f3=="VaPo")w.w=X;R.items.push(w);R.qK.push({K:S.E.v,f:F.UA,C:{d:"start",Gl:t.f3}});continue}var B={name:t.y6,sub:[],w:Z};
R.items.push(B);var $={sub:[]};R.qK.push($);for(var o=0;o<t.S_.length;o++){var T={name:cN.names[t.S_[o]],hi:cN.TL(t.S_[o])!=null};
B.sub.push(T);var i={K:S.E.v,f:F.UA,C:{d:"start",Gl:t.S_[o]}};$.sub.push(i)}}return R}(),{name:[0,7],items:[{name:[8,0],w:Z,xu:[y,E.yH]},{name:[8,1],w:Z,xu:[y,E.Kj]},{name:[20,3],w:Z,xu:[y,E.lO]},{name:[20,2],w:Z,xu:[y,E.N4]},{name:[8,14],w:function(R,t){return{w:R!=null,b$:R!=null&&R.sG}},mc:!0},{name:[12,36],mc:!0,sub:[{name:"Fullscreen",w:function(R,t){return{b$:document.fullscreenElement!=null}},mc:!0},{name:"Standard",w:function(R,t){return{b$:t.PL==0}}},{name:"Menu Bar and Canvas",w:function(R,t){return{b$:t.PL==1}}}]},{name:[8,13],xu:[y,E.x0],w:function(R,t){return{b$:t.sL}}},{name:[8,12],mc:!0,sub:[{name:[17,2],w:function(R,t){return{w:t.sL,b$:t.km.iY}}},{name:[8,9],w:function(R,t){return{w:t.sL,b$:t.km.gA}}},{name:[8,2],w:function(R,t){return{w:t.sL,b$:t.km.oc}},xu:[y,E.uP]},{name:[8,4],w:function(R,t){return{w:t.sL,b$:t.km.AG}},xu:[y,E.A9]},{name:[8,8],w:function(R,t){return{w:t.sL,b$:t.km.ip}}},{name:[8,11,0],w:function(R,t){return{w:t.sL,b$:t.km.Cv}}}]},{name:[8,3],w:function(R,t){return{b$:t.B3}},xu:[y,E.ZV],mc:!0},{name:[8,5],w:function(R,t){return{b$:t.Ce}}},{name:[8,6],mc:!0,sub:[{name:[8,2],w:function(R,t){return{b$:t.BT[0]}}},{name:[8,4],w:function(R,t){return{b$:t.BT[1]}}},{name:[9,1],w:function(R,t){return{b$:t.BT[2]}}},{name:[8,11,0],w:function(R,t){return{b$:t.BT[3]}}},{name:[8,7,0],w:function(R,t){return{b$:t.BT[4]}}}]},{name:[11,15,2],w:function(R,t){return{w:R!=null,b$:R!=null&&R.C2}}},{name:[11,15,0],w:Z},{name:[11,14],w:Z,hi:!0},{name:[11,15,1],w:function(R,t){return{w:R!=null&&R.g.length!=0}},mc:!0},{name:[8,11,2],w:function(R,t){return{w:R!=null&&R.Cv.length!=0}}}],qK:[{K:S.E.v,f:F.fE,C:{d:"zoom",l5:!0}},{K:S.E.v,f:F.fE,C:{d:"zoom",l5:!1}},{K:S.E.v,f:F.fE,C:{d:"adapt",b:"fitscr"}},{K:S.E.v,f:F.fE,C:{d:"adapt",b:"pixel"}},{K:S.E.v,f:F.mq,C:{d:"pview"}},{sub:[{K:S.E.M,C:{d:S.H.Qw,ne:!0}},{K:S.E.M,C:{d:S.H.Qw,b:0}},{K:S.E.M,C:{d:S.H.Qw,b:1}},{K:S.E.M,C:{d:S.H.Qw,b:2}}]},{K:S.E.M,C:{d:S.H.z2,Wp:iL.sr}},{sub:[{K:S.E.M,C:{d:S.H.z2,Wp:iL.IW}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.t3}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.Vf}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.sB}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.jy}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.u5}}]},{K:S.E.M,C:{d:S.H.z2,Wp:iL.XJ}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.ayO}},{sub:[{K:S.E.M,C:{d:S.H.z2,Wp:iL.iL,m7:0}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.iL,m7:1}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.iL,m7:2}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.iL,m7:3}},{K:S.E.M,C:{d:S.H.z2,Wp:iL.iL,m7:4}}]},{K:S.E.v,f:F.mq,C:{d:"lockguides"}},{K:S.E.v,f:F.mq,C:{d:"gids",NF:[[],[]]}},{K:S.E.M,C:{d:S.H.Q5,ym:"addguides"}},{K:S.E.v,f:F.mq,C:{d:"gidsFromLayer"}},{K:S.E.v,f:F.hW,C:{d:"deleteAll"}}]},function(){var R={name:[0,8],items:[{name:[0,14],mc:!0,sub:[]},{name:"Plugins",mc:!0}],qK:[{sub:[]},{K:S.E.M,C:{d:S.H.Q5,ym:"res1"}}]};
for(var N=0;N<bk.Yn.length;N++){var t=bk.Yn[N],w=function(){var B=t.T_.Zm;return function($,o){return{b$:o.oM.indexOf(parseInt(B))!=-1}}}();
(t.Ro?R.items[0].sub:R.items).push({name:t.T_.name,w:w});(t.Ro?R.qK[0].sub:R.qK).push({K:S.E.M,C:{d:S.H.ET,ym:t.T_.Zm}})}return R}(),function(){var R={name:[0,14],items:[],qK:[]},t={name:[0,9],sub:[]};
R.items.push(t);var w={sub:[]};R.qK.push(w);var B=i4.akd();for(var N=0;N<B.length;N++){var $=B[N],o=$.code,T=i4.a2F(o);
t.sub.push({name:$.name,xu:o,w:function(i,r){return{b$:this.xu==i4.HO()}}});w.sub.push({K:S.E.M,C:{d:S.H.z2,Wp:iL.Uy,lang:T}})}t.sub.push({name:[0,12]});
w.sub.push({K:S.E.M,C:{d:S.H.BN,link:"https://www.photopea.com/translate/"}});var t={name:[0,15],sub:[]};
R.items.push(t);var w={sub:[]};R.qK.push(w);for(var N=0;N<i3.p8.length;N++){t.sub.push({name:i3.p8[N].name,w:function(i,r){return{b$:this.name==i3.p8[r.c6].name}}});
w.sub.push({K:S.E.M,C:{d:S.H.z2,Wp:iL.at,c6:N}})}R.items.push({name:[0,17,6],w:function(i,r){return{w:r.RA!=null}}});
R.qK.push({K:S.E.M,C:{d:S.H.VF}});R.items.push({name:[11,13]});R.qK.push({K:S.E.M,C:{d:S.H.Q5,ym:"shortcuts"}});
R.items.push({name:[0,16],w:function(i){return{b$:h0.Lq,w:h0.aDv}},mc:!0});R.qK.push({K:S.E.M,C:{d:S.H.avt}});
R.items.push({name:"",w:function(i,r){return r.ga?{pR:"About Photopea",w:!0}:{pR:"",w:!1}}});R.qK.push({K:S.E.M,C:{d:S.H.Q5,ym:"aboutpp"}});
return R}()]}();function h8(){dT.call(this);this.n=v.t("div","");this._g=0;this.Hb=0;this.P0=null;this.vi=v.t("div","");
this.vi.setAttribute("style","width:200em; height:100em; position:absolute;");this.Vi=[];this.q_=[];
this.TN={}}h8.prototype=new dT;h8.prototype.zQ=function(E){var y=Date.now(),c=[];if(E=="-"){c=[new ge,new cZ,new gC("pdfpres"),new gC("cformat"),new gC("batch"),new gC("mockups"),new gB,new ib,new fX,new eZ,new g3,new hP,new jk,new bW,new dE,new dk,new cA,new fD,new k6,new kr,new i1("isize"),new i1("csize"),new ex,new hT,new d_,new cY,new iP,new e8,new hC,new f8,new dZ(!1),new dZ(!0),new a9(0),new a9(1),new he,new kB,new cf,new ff,new df,new ke,new gu(0),new gu(1),new gu(2),new gu(3),new gu(4),new gu(5),new gu(6),new gu(7),new gu(8),new e1,new jW,new cl,new fP,new jq,new km,new jK,new b9,new eN(0),new eN(1),new gF("border",[7,9],"px"),new gF("smoothness",[19,3,0],"px"),new gF("expand",[7,4],"px"),new gF("contract",[7,5],"px"),new gF("feather",[7,6],"px"),new au(0,"namewindow",[12,48]),new au(2,"billto","Bill To"),new au(1,"cornerradius",[12,94,0],"px",!0,!0),new au(1,"scaleeffects",[6,30,1],"%",!0),new au(1,"doczoom","Zoom","%",!0),new au(1,"setFPS","Set FPS","fps,120",!1),new au(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(aw==0){c.push(new cn)}}else c=[new aX(E.slice(4))];this.agX(c);this.TN[E]=!0};h8.prototype.agX=function(E){var y=this.P0;
for(var N=0;N<E.length;N++){var c=E[N];c.parent=this;this.q_.push(c);this.Vs(c);c._();if(y)c.mh(y,iL.Dg);
c.k(S.E.w3,this.O5,this);v.HC(c)}};h8.prototype.Cl=function(E,y){this._g=E;this.Hb=y;for(var N=0;N<this.q_.length;
N++)this.Vs(this.q_[N])};h8.prototype._=function(){for(var N=0;N<this.q_.length;N++)this.q_[N]._()};
h8.prototype.Dt=function(){return this.Vi.length==0?null:this.Vi[this.Vi.length-1]};h8.prototype.j_=function(){for(var N=0;
N<this.Vi.length;N++)if(this.Vi[N].j_())return!0;return!1};h8.prototype.ag1=function(E,y,c,e,p){var H=E.startsWith("afw_"),Z=null;
if(!H&&!this.TN["-"])this.zQ("-");if(H&&!this.TN[E])this.zQ(E);if(typeof E=="object"){Z=E;if(!Z.aii(S.E.w3,this.O5))Z.k(S.E.w3,this.O5,this);
Z.parent=this}else for(var N=0;N<this.q_.length;N++)if(this.q_[N].id==E)Z=this.q_[N];if(this.j_()&&Z.j_()){alert("Finish the current action first");
return}if(!Z.Km(y))return;if(this.Vi.indexOf(Z)!=-1){if(E=="colorpicker")Z.Xy(y,c,e,p);return}var X=this.Vi.length-1;
if(X>=0)v.Jn(this.Vi[X].n,"wdisabled");this.n.appendChild(Z.n);this.Vi.push(Z);this.Vs(Z);v.CA(Z);Z.Xy(y,c,e,p)};
h8.prototype.Vs=function(E){var y=this._g,c=this.Hb,e=E.Ut(y,c),p;if(e!=null){p=e}else{e=new eq(0,0);
p=E.a0s();if(p==null){var H=this.Vi.indexOf(E)+1;if(y<450||c<450)p=new eq(0,0);else p=new eq(H*150,H*150)}}E.n.style.left=p.x+"px";
E.n.style.top=this.n.offsetTop+p.y+"px";E.Cl(this._g-e.x*2,this.Hb-e.y*2-34)};h8.prototype.mh=function(E,y){this.P0=E;
for(var N=0;N<this.q_.length;N++)this.q_[N].mh(E,y)};h8.prototype.O5=function(E){var y=this.Vi.pop();
v.HC(y,this.n);var c=this.Vi.length-1;if(c>=0)v.yo(this.Vi[c].n,"wdisabled");if(this.vi.parentNode==this.n)this.n.removeChild(this.vi)};
window.onload=function(){document.body.appendChild(new kD().n)}}())